<div class="pistol" in:enter out:leave>
  <svg xmlns="http://www.w3.org/2000/svg" width="338.7777777189091" height="241.66666657836345">
    <rect id="backgroundrect" width="100%" height="100%" x="0" y="0" fill="none" stroke="none" />

    <g class="currentLayer">
      <path id="svg_1" d="m330.41075534362795,181.0530071949768 l-26.34011,-71.35147 c-11.06418,-28.701029 26.72116,-33.762444 26.72116,-33.762444 c8.39675,-4.6510250000000015 0,-9.712435 0,-9.712435 c-8.77779,2.099986 -15.26923,-10.126516 -15.26923,-10.126516 L310.5687553436279,44.69440819497681 c-2.6741200000000003,-6.751012 -3.43624,-7.597661 -0.3844000000000003,-20.678207 c3.05184,-13.099033 -6.6786200000000004,-12.463121 -8.39675,-10.562782 c-1.72146,1.9114309999999999 -7.06302,4.854369 -11.07085,0.42147500000000016 c-4.0045,-4.432892 -14.11937,-4.21476 -14.11937,-4.21476 l-3.81731,-8.448007 l-4.20171,0 l-4.19504,8.44431 l-74.0498,0 l0,2.532553 l-154.96207,0 l0,-4.222155 l-3.061871,0 c-0.3743770000000002,-3.3829000000000002 -2.664095,-5.911755 -2.664095,-5.911755 c-12.601803,0 -15.265899,10.551689 -15.265899,10.551689 l-9.931022800000001,0 C-1.2707126563720699,24.012504194976806 4.84300084362793,36.67157319497681 4.84300084362793,36.67157319497681 l11.0641835,0 l0,34.195019 l23.281581,0 l1.90197,5.493978 l58.02512,0 c54.19444,0 44.65117,50.229597 44.65117,50.229597 c40.84388,20.6893 66.41518,7.60506 66.41518,7.60506 c20.23308,-4.63994 24.04704,14.352360000000001 24.04704,14.352360000000001 l13.73497,60.3746 c1.14653,10.54799 -0.47466,16.87013 -0.47466,16.87013 l0.026700000000000015,0.8651400000000004 l-0.026700000000000015,0 l0,8.52195 c0,0 -0.31755000000000017,4.61405 5.45188,3.8968000000000007 l64.04522,-5.9598200000000014 c1.55099,2.89858 4.3788800000000005,4.85437 7.6346300000000005,4.85437 c4.92372,0 8.90482,-4.41071 8.90482,-9.84553 c0,-1.08696 -0.19721000000000016,-1.91883 -0.48803,-2.63238 l1.9487700000000001,-0.014800000000000006 c4.58278,-28.29065 -4.57609,-44.42505 -4.57609,-44.42505 zM305.4010253436279,14.677178194976808 c1.60447,0 2.91144,1.438194 2.91144,3.223922 c0,1.778334 -1.3069700000000002,3.216528 -2.91144,3.216528 c-1.60783,0 -2.92483,-1.438194 -2.92483,-3.216528 c0,-1.7857280000000002 1.31366,-3.223922 2.92483,-3.223922 zM224.68598534362792,114.34517719497681 c-1.14987,7.6087500000000015 -8.40009,11.827210000000001 -8.40009,11.827210000000001 c-24.76573,9.20222 -40.67007,6.61421 -53.23844,2.44382 c-15.33945,-5.10208 -14.31325,-21.45461 -14.31325,-21.45461 c0,-22.367805 20.9952,-21.946337 20.9952,-21.946337 l17.17122,0 c9.54661,25.325537 -13.73831,36.738667 -13.73831,36.738667 c-3.06187,0.83556 0,3.3755 0,3.3755 c14.11937,-0.4214700000000002 25.56462,-25.7544 25.56462,-25.7544 l-0.3743800000000003,-10.55539 l5.3348700000000004,-3.804377 c20.99856,0 22.14509,21.535947 20.99856,29.129917 zm105.72142,113.77635 c0,3.5234 -2.59724,6.39238 -5.78278,6.39238 c-3.19224,0 -5.77946,-2.8652800000000003 -5.77946,-6.39238 c0,-0.89841 0.17382,-1.75245 0.4713100000000002,-2.52516 l10.579509999999999,-0.08500000000000005 c0.3175600000000002,0.79859 0.51142,1.6785100000000002 0.51142,2.6101900000000002 " />
    </g>
  </svg>

  <div class="ammo">
    <span>âˆž</span>
  </div>
</div>

<script>
  import { quartIn, quartOut } from 'svelte/easing';

  function enter (node, params) {
    return {
      delay: 250,
			duration: 500,
			easing: quartOut,

      css: t => {
        const y = t * 100 - 93;

        return `
          transform: scale(${t * 0.4}) translate(-7%, ${y}%);
          opacity: ${t.toFixed(2)};
        `;
      }
		};
  }

  function leave (node, params) {
    return {
      duration: 500,
      easing: quartIn,

      css: (t, u) => {
        const y = u * 100 + 7;

        return `
          transform: scale(${t * 0.4}) translate(-7%, ${y}%);
          opacity: ${t.toFixed(2)};
        `;
      }
    };
  }
</script>

<style>
.pistol {
  transform: scale(0.4) translate(-7%, 7%);
  backface-visibility: hidden;
  transform-origin: 50% 50%;
  position: absolute;
  opacity: 1;
}

svg {
  fill: transparent;
  stroke-width: 3px;
  stroke: #e6e6e6;
}

.ammo {
  backface-visibility: hidden;
  position: absolute;

  display: block;
  margin: 0 auto;

  bottom: 1vw;
  left: 1vw;
}

span {
  line-height: 0;
  font-size: 8vw;
}
</style>
