var t,e;t=this,e=function(){return function(t){function e(e){for(var n,r,o=e[0],s=e[1],a=0,l=[];a<o.length;a++)r=o[a],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&l.push(i[r][0]),i[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);for(c&&c(e);l.length;)l.shift()()}var n={},i={main:0};function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(t){var e=[],n=i[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,r){n=i[t]=[e,r]}));e.push(n[2]=o);var s,a=document.createElement("script");a.charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.src=function(t){return r.p+"scripts/"+({"orbit-controls":"orbit-controls","stats.min":"stats.min"}[t]||t)+".js"}(t);var c=new Error;s=function(e){a.onerror=a.onload=null,clearTimeout(l);var n=i[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",c.name="ChunkLoadError",c.type=r,c.request=o,n[1](c)}i[t]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:a})}),12e4);a.onerror=a.onload=s,document.head.appendChild(a)}return Promise.all(e)},r.m=t,r.c=n,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="./",r.oe=function(t){throw t};var o=this.webpackJsonpanother_dumb_zombie_game=this.webpackJsonpanother_dumb_zombie_game||[],s=o.push.bind(o);o.push=e,o=o.slice();for(var a=0;a<o.length;a++)e(o[a]);var c=s;return r(r.s="./src/main.ts")}({"./node_modules/ammo.js/ammo.js":function(t,e,n){(function(i,r){var o,s;void 0===(s="function"==typeof(o=function(){var e=function(o){(o=o||{})||(o=(void 0!==e?e:null)||{});var s={};for(var a in o)o.hasOwnProperty(a)&&(s[a]=o[a]);var c,l,u=!1,h=!1,p=!1,f=!1;if(o.ENVIRONMENT)if("WEB"===o.ENVIRONMENT)u=!0;else if("WORKER"===o.ENVIRONMENT)h=!0;else if("NODE"===o.ENVIRONMENT)p=!0;else{if("SHELL"!==o.ENVIRONMENT)throw new Error("The provided Module['ENVIRONMENT'] value is not valid. It must be one of: WEB|WORKER|NODE|SHELL.");f=!0}else u="object"==typeof window,h="function"==typeof importScripts,p="object"==typeof i&&!u&&!h,f=!u&&!p&&!h;if(p)o.print||(o.print=console.log),o.printErr||(o.printErr=console.warn),o.read=function(t,e){c||(c=n("./node_modules/node-libs-browser/mock/empty.js")),l||(l=n("./node_modules/path-browserify/index.js")),t=l.normalize(t);var i=c.readFileSync(t);return i||t==l.resolve(t)||(t=path.join(r,"..","src",t),i=c.readFileSync(t)),i&&!e&&(i=i.toString()),i},o.readBinary=function(t){var e=o.read(t,!0);return e.buffer||(e=new Uint8Array(e)),w(e.buffer),e},o.load=function(t){_(read(t))},o.thisProgram||(i.argv.length>1?o.thisProgram=i.argv[1].replace(/\\/g,"/"):o.thisProgram="unknown-program"),o.arguments=i.argv.slice(2),t.exports=o,i.on("uncaughtException",(function(t){if(!(t instanceof pm))throw t})),o.inspect=function(){return"[Emscripten Module object]"};else if(f)o.print||(o.print=print),"undefined"!=typeof printErr&&(o.printErr=printErr),"undefined"!=typeof read?o.read=read:o.read=function(){throw"no read() available (jsc?)"},o.readBinary=function(t){if("function"==typeof readbuffer)return new Uint8Array(readbuffer(t));var e=read(t,"binary");return w("object"==typeof e),e},"undefined"!=typeof scriptArgs?o.arguments=scriptArgs:void 0!==arguments&&(o.arguments=arguments);else{if(!u&&!h)throw"Unknown runtime environment. Where are we?";if(o.read=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},o.readAsync=function(t,e,n){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(){200==i.status||0==i.status&&i.response?e(i.response):n()},i.onerror=n,i.send(null)},void 0!==arguments&&(o.arguments=arguments),"undefined"!=typeof console)o.print||(o.print=function(t){}),o.printErr||(o.printErr=function(t){});else{var d=!1;o.print||(o.print=d&&"undefined"!=typeof dump?function(t){dump(t)}:function(t){})}h&&(o.load=importScripts),void 0===o.setWindowTitle&&(o.setWindowTitle=function(t){document.title=t})}function _(t){gm("NO_DYNAMIC_EXECUTION=1 was set, cannot eval")}for(var a in!o.load&&o.read&&(o.load=function(t){_(o.read(t))}),o.print||(o.print=function(){}),o.printErr||(o.printErr=o.print),o.arguments||(o.arguments=[]),o.thisProgram||(o.thisProgram="./this.program"),o.print=o.print,o.printErr=o.printErr,o.preRun=[],o.postRun=[],s)s.hasOwnProperty(a)&&(o[a]=s[a]);s=void 0;var m={setTempRet0:function(t){tempRet0=t},getTempRet0:function(){return tempRet0},stackSave:function(){return st},stackRestore:function(t){st=t},getNativeTypeSize:function(t){switch(t){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===t[t.length-1])return m.QUANTUM_SIZE;if("i"===t[0]){var e=parseInt(t.substr(1));return w(e%8==0),e/8}return 0}},getNativeFieldSize:function(t){return Math.max(m.getNativeTypeSize(t),m.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(t,e){return"double"===e||"i64"===e?7&t&&(w(4==(7&t)),t+=4):w(0==(3&t)),t},getAlignSize:function(t,e,n){return n||"i64"!=t&&"double"!=t?t?Math.min(e||(t?m.getNativeFieldSize(t):0),m.QUANTUM_SIZE):Math.min(e,8):8},dynCall:function(t,e,n){return n&&n.length?(n.splice||(n=Array.prototype.slice.call(n)),n.splice(0,0,e),o["dynCall_"+t].apply(null,n)):o["dynCall_"+t].call(null,e)},functionPointers:[],addFunction:function(t){for(var e=0;e<m.functionPointers.length;e++)if(!m.functionPointers[e])return m.functionPointers[e]=t,2*(1+e);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(t){m.functionPointers[(t-2)/2]=null},warnOnce:function(t){m.warnOnce.shown||(m.warnOnce.shown={}),m.warnOnce.shown[t]||(m.warnOnce.shown[t]=1,o.printErr(t))},funcWrappers:{},getFuncWrapper:function(t,e){w(e),m.funcWrappers[e]||(m.funcWrappers[e]={});var n=m.funcWrappers[e];return n[t]||(n[t]=function(){return m.dynCall(e,t,arguments)}),n[t]},getCompilerSetting:function(t){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(t){var e=st;return st=15+(st=st+t|0)&-16,e},staticAlloc:function(t){var e=it;return it=15+(it=it+t|0)&-16,e},dynamicAlloc:function(t){var e=ct;return(ct=15+(ct=ct+t|0)&-16)>=pt&&!ut()?(ct=e,0):e},alignMemory:function(t,e){return t=Math.ceil(t/(e||16))*(e||16)},makeBigInt:function(t,e,n){return n?+(t>>>0)+4294967296*+(e>>>0):+(t>>>0)+4294967296*+(0|e)},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};o.Runtime=m;var g,b,v,y,x=!1;function w(t,e){t||gm("Assertion failed: "+e)}function S(t){var e=o["_"+t];return e||gm("NO_DYNAMIC_EXECUTION=1 was set, cannot eval"),w(e,"Cannot call unknown function "+t+" (perhaps LLVM optimizations or closure removed it?)"),e}function M(t,e,n,i){switch("*"===(n=n||"i8").charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":L[t>>0]=e;break;case"i16":R[t>>1]=e;break;case"i32":P[t>>2]=e;break;case"i64":tempI64=[e>>>0,(tempDouble=e,+Nt(tempDouble)>=1?tempDouble>0?(0|Ut(+Bt(tempDouble/4294967296),4294967295))>>>0:~~+Ft((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],P[t>>2]=tempI64[0],P[t+4>>2]=tempI64[1];break;case"float":k[t>>2]=e;break;case"double":O[t>>3]=e;break;default:gm("invalid type for setValue: "+n)}}function C(t,e,n){switch("*"===(e=e||"i8").charAt(e.length-1)&&(e="i32"),e){case"i1":case"i8":return L[t>>0];case"i16":return R[t>>1];case"i32":case"i64":return P[t>>2];case"float":return k[t>>2];case"double":return O[t>>3];default:gm("invalid type for setValue: "+e)}return null}y={string:(v={stackSave:function(){m.stackSave()},stackRestore:function(){m.stackRestore()},arrayToC:function(t){var e=m.stackAlloc(t.length);return kt(t,e),e},stringToC:function(t){var e=0;return null!=t&&0!==t&&Dt(t,e=m.stackAlloc(1+(t.length<<2))),e}}).stringToC,array:v.arrayToC},b=function(t,e,n,i,r){var o=S(t),s=[],a=0;if(i)for(var c=0;c<i.length;c++){var l=y[n[c]];l?(0===a&&(a=m.stackSave()),s[c]=l(i[c])):s[c]=i[c]}var u=o.apply(null,s);if("string"===e&&(u=V(u)),0!==a){if(r&&r.async)return void EmterpreterAsync.asyncFinalizers.push((function(){m.stackRestore(a)}));m.stackRestore(a)}return u},g=function(t,e,n){return function(){return b(t,e,n,arguments)}},o.ccall=b,o.cwrap=g,o.setValue=M,o.getValue=C;var T,A,L,E,R,I,P,D,k,O,N=0,F=1,B=2,j=3,U=4;function z(t,e,n,i){var r,o;"number"==typeof t?(r=!0,o=t):(r=!1,o=t.length);var s,a="string"==typeof e?e:null;if(s=n==U?i:["function"==typeof ue?ue:m.staticAlloc,m.stackAlloc,m.staticAlloc,m.dynamicAlloc][void 0===n?B:n](Math.max(o,a?1:e.length)),r){var c;for(i=s,w(0==(3&s)),c=s+(-4&o);i<c;i+=4)P[i>>2]=0;for(c=s+o;i<c;)L[i++>>0]=0;return s}if("i8"===a)return t.subarray||t.slice?E.set(t,s):E.set(new Uint8Array(t),s),s;for(var l,u,h,p=0;p<o;){var f=t[p];"function"==typeof f&&(f=m.getFunctionIndex(f)),0!==(l=a||e[p])?("i64"==l&&(l="i32"),M(s+p,f,l),h!==l&&(u=m.getNativeTypeSize(l),h=l),p+=u):p++}return s}function G(t){return rt?void 0!==ve&&!ve.called||!yt?m.dynamicAlloc(t):ue(t):m.staticAlloc(t)}function V(t,e){if(0===e||!t)return"";for(var n,i=0,r=0;i|=n=E[t+r>>0],(0!=n||e)&&(r++,!e||r!=e););e||(e=r);var s="";if(i<128){for(var a,c=1024;e>0;)a=String.fromCharCode.apply(String,E.subarray(t,t+Math.min(e,c))),s=s?s+a:a,t+=c,e-=c;return s}return o.UTF8ToString(t)}function W(t){for(var e="";;){var n=L[t++>>0];if(!n)return e;e+=String.fromCharCode(n)}}function H(t,e){return Ot(t,e,!1)}function X(t,e){for(var n,i,r,o,s,a="";;){if(!(n=t[e++]))return a;if(128&n)if(i=63&t[e++],192!=(224&n))if(r=63&t[e++],224==(240&n)?n=(15&n)<<12|i<<6|r:(o=63&t[e++],240==(248&n)?n=(7&n)<<18|i<<12|r<<6|o:(s=63&t[e++],n=248==(252&n)?(3&n)<<24|i<<18|r<<12|o<<6|s:(1&n)<<30|i<<24|r<<18|o<<12|s<<6|63&t[e++])),n<65536)a+=String.fromCharCode(n);else{var c=n-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}else a+=String.fromCharCode((31&n)<<6|i);else a+=String.fromCharCode(n)}}function q(t){return X(E,t)}function Y(t,e,n,i){if(!(i>0))return 0;for(var r=n,o=n+i-1,s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++s)),a<=127){if(n>=o)break;e[n++]=a}else if(a<=2047){if(n+1>=o)break;e[n++]=192|a>>6,e[n++]=128|63&a}else if(a<=65535){if(n+2>=o)break;e[n++]=224|a>>12,e[n++]=128|a>>6&63,e[n++]=128|63&a}else if(a<=2097151){if(n+3>=o)break;e[n++]=240|a>>18,e[n++]=128|a>>12&63,e[n++]=128|a>>6&63,e[n++]=128|63&a}else if(a<=67108863){if(n+4>=o)break;e[n++]=248|a>>24,e[n++]=128|a>>18&63,e[n++]=128|a>>12&63,e[n++]=128|a>>6&63,e[n++]=128|63&a}else{if(n+5>=o)break;e[n++]=252|a>>30,e[n++]=128|a>>24&63,e[n++]=128|a>>18&63,e[n++]=128|a>>12&63,e[n++]=128|a>>6&63,e[n++]=128|63&a}}return e[n]=0,n-r}function Z(t,e,n){return Y(t,E,e,n)}function J(t){for(var e=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&t.charCodeAt(++n)),i<=127?++e:e+=i<=2047?2:i<=65535?3:i<=2097151?4:i<=67108863?5:6}return e}function K(t){if(o.___cxa_demangle)try{var e=ue(t.length);Dt(t.substr(1),e);var n=ue(4),i=o.___cxa_demangle(e,0,0,n);if(0===C(n,"i32")&&i)return V(i)}catch(e){return t}finally{e&&Pf(e),n&&Pf(n),i&&Pf(i)}return m.warnOnce("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),t}function $(t){return t.replace(/__Z[\w\d_]+/g,(function(t){var e=K(t);return t===e?t:t+" ["+e+"]"}))}function Q(){var t=new Error;if(!t.stack){try{throw new Error(0)}catch(e){t=e}if(!t.stack)return"(no stack trace available)"}return t.stack.toString()}function tt(){return $(Q())}function et(t){return t%4096>0&&(t+=4096-t%4096),t}function nt(){o.HEAP8=L=new Int8Array(A),o.HEAP16=R=new Int16Array(A),o.HEAP32=P=new Int32Array(A),o.HEAPU8=E=new Uint8Array(A),o.HEAPU16=I=new Uint16Array(A),o.HEAPU32=D=new Uint32Array(A),o.HEAPF32=k=new Float32Array(A),o.HEAPF64=O=new Float64Array(A)}o.ALLOC_NORMAL=N,o.ALLOC_STACK=F,o.ALLOC_STATIC=B,o.ALLOC_DYNAMIC=j,o.ALLOC_NONE=U,o.allocate=z,o.getMemory=G,o.Pointer_stringify=V,o.AsciiToString=W,o.stringToAscii=H,o.UTF8ArrayToString=X,o.UTF8ToString=q,o.stringToUTF8Array=Y,o.stringToUTF8=Z,o.lengthBytesUTF8=J,o.stackTrace=tt;var it=0,rt=!1,ot=0,st=0,at=0,ct=0;function lt(){gm("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+pt+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which adjusts the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function ut(){lt()}for(var ht=o.TOTAL_STACK||5242880,pt=o.TOTAL_MEMORY||67108864,ft=65536;ft<pt||ft<2*ht;)ft<16777216?ft*=2:ft+=16777216;if(ft!==pt&&(pt=ft),A=o.buffer?o.buffer:new ArrayBuffer(pt),nt(),P[0]=255,255!==E[0]||0!==E[3])throw"Typed arrays 2 must be run on a little-endian system";function dt(t){for(;t.length>0;){var e=t.shift();if("function"!=typeof e){var n=e.func;"number"==typeof n?void 0===e.arg?m.dynCall("v",n):m.dynCall("vi",n,[e.arg]):n(void 0===e.arg?null:e.arg)}else e()}}o.HEAP=T,o.buffer=A,o.HEAP8=L,o.HEAP16=R,o.HEAP32=P,o.HEAPU8=E,o.HEAPU16=I,o.HEAPU32=D,o.HEAPF32=k,o.HEAPF64=O;var _t=[],mt=[],gt=[],bt=[],vt=[],yt=!1;function xt(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)Tt(o.preRun.shift());dt(_t)}function wt(){yt||(yt=!0,dt(mt))}function St(){dt(gt)}function Mt(){dt(bt)}function Ct(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)Rt(o.postRun.shift());dt(vt)}function Tt(t){_t.unshift(t)}function At(t){mt.unshift(t)}function Lt(t){gt.unshift(t)}function Et(t){bt.unshift(t)}function Rt(t){vt.unshift(t)}function It(t,e,n){var i=n>0?n:J(t)+1,r=new Array(i),o=Y(t,r,0,r.length);return e&&(r.length=o),r}function Pt(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];i>255&&(i&=255),e.push(String.fromCharCode(i))}return e.join("")}function Dt(t,e,n){for(var i=It(t,n),r=0;r<i.length;){var o=i[r];L[e+r>>0]=o,r+=1}}function kt(t,e){for(var n=0;n<t.length;n++)L[e++>>0]=t[n]}function Ot(t,e,n){for(var i=0;i<t.length;++i)L[e++>>0]=t.charCodeAt(i);n||(L[e>>0]=0)}o.addOnPreRun=Tt,o.addOnInit=At,o.addOnPreMain=Lt,o.addOnExit=Et,o.addOnPostRun=Rt,o.intArrayFromString=It,o.intArrayToString=Pt,o.writeStringToMemory=Dt,o.writeArrayToMemory=kt,o.writeAsciiToMemory=Ot,Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(t,e){var n=65535&t,i=65535&e;return n*i+((t>>>16)*i+n*(e>>>16)<<16)|0}),Math.imul=Math.imul,Math.clz32||(Math.clz32=function(t){t>>>=0;for(var e=0;e<32;e++)if(t&1<<31-e)return e;return 32}),Math.clz32=Math.clz32,Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Math.trunc=Math.trunc;var Nt=Math.abs,Ft=(Math.cos,Math.sin,Math.tan,Math.acos,Math.asin,Math.atan,Math.atan2,Math.exp,Math.log,Math.sqrt,Math.ceil),Bt=Math.floor,jt=Math.pow,Ut=(Math.imul,Math.fround,Math.min),zt=(Math.clz32,Math.trunc,0),Gt=null,Vt=null;function Wt(t){zt++,o.monitorRunDependencies&&o.monitorRunDependencies(zt)}function Ht(t){if(zt--,o.monitorRunDependencies&&o.monitorRunDependencies(zt),0==zt&&(null!==Gt&&(clearInterval(Gt),Gt=null),Vt)){var e=Vt;Vt=null,e()}}o.addRunDependency=Wt,o.removeRunDependency=Ht,o.preloadedImages={},o.preloadedAudios={};var Xt=[function(t,e,n,i,r,s,a,c){var l=o.getCache(o.ConcreteContactResultCallback)[t];if(!l.hasOwnProperty("addSingleResult"))throw"a JSImplementation must implement all functions, you forgot ConcreteContactResultCallback::addSingleResult.";return l.addSingleResult(e,n,i,r,s,a,c)}];function qt(t,e,n,i,r,o,s,a,c){return Xt[t](e,n,i,r,o,s,a,c)}it=23352,mt.push({func:function(){Yi()}},{func:function(){kc()}}),z([36,32,0,0,209,32,0,0,76,32,0,0,183,32,0,0,8,0,0,0,0,0,0,0,76,32,0,0,168,32,0,0,16,0,0,0,0,0,0,0,36,32,0,0,20,33,0,0,76,32,0,0,251,32,0,0,48,0,0,0,0,0,0,0,76,32,0,0,233,32,0,0,56,0,0,0,0,0,0,0,36,32,0,0,48,33,0,0,36,32,0,0,71,33,0,0,76,32,0,0,90,33,0,0,8,0,0,0,0,0,0,0,76,32,0,0,109,33,0,0,96,0,0,0,0,0,0,0,76,32,0,0,130,33,0,0,96,0,0,0,0,0,0,0,76,32,0,0,152,33,0,0,96,0,0,0,0,0,0,0,36,32,0,0,175,33,0,0,36,32,0,0,190,33,0,0,76,32,0,0,214,33,0,0,56,0,0,0,0,0,0,0,76,32,0,0,245,33,0,0,216,0,0,0,0,0,0,0,36,32,0,0,118,34,0,0,76,32,0,0,138,34,0,0,216,0,0,0,0,0,0,0,36,32,0,0,248,34,0,0,76,32,0,0,100,35,0,0,88,0,0,0,0,0,0,0,76,32,0,0,133,35,0,0,248,0,0,0,0,0,0,0,76,32,0,0,162,35,0,0,40,1,0,0,0,0,0,0,36,32,0,0,181,35,0,0,76,32,0,0,220,35,0,0,168,0,0,0,0,0,0,0,76,32,0,0,244,35,0,0,216,0,0,0,0,0,0,0,36,32,0,0,14,36,0,0,36,32,0,0,61,36,0,0,136,32,0,0,54,37,0,0,0,0,0,0,2,0,0,0,96,6,0,0,2,0,0,0,104,6,0,0,2,4,0,0,76,32,0,0,74,37,0,0,144,1,0,0,0,0,0,0,76,32,0,0,96,37,0,0,160,1,0,0,0,0,0,0,36,32,0,0,122,37,0,0,36,32,0,0,149,37,0,0,76,32,0,0,178,37,0,0,64,7,0,0,0,0,0,0,76,32,0,0,69,38,0,0,64,7,0,0,0,0,0,0,76,32,0,0,218,38,0,0,96,0,0,0,0,0,0,0,76,32,0,0,88,39,0,0,240,1,0,0,0,0,0,0,36,32,0,0,221,39,0,0,76,32,0,0,65,40,0,0,80,7,0,0,0,0,0,0,76,32,0,0,240,40,0,0,80,7,0,0,0,0,0,0,76,32,0,0,181,41,0,0,40,2,0,0,0,0,0,0,36,32,0,0,82,42,0,0,76,32,0,0,141,42,0,0,144,1,0,0,0,0,0,0,76,32,0,0,165,42,0,0,160,1,0,0,0,0,0,0,76,32,0,0,191,42,0,0,64,4,0,0,0,0,0,0,76,32,0,0,217,42,0,0,248,0,0,0,0,0,0,0,76,32,0,0,248,42,0,0,96,0,0,0,0,0,0,0,76,32,0,0,17,43,0,0,96,2,0,0,0,0,0,0,76,32,0,0,56,43,0,0,96,0,0,0,0,0,0,0,36,32,0,0,89,43,0,0,76,32,0,0,122,43,0,0,248,0,0,0,0,0,0,0,76,32,0,0,158,43,0,0,96,6,0,0,0,0,0,0,76,32,0,0,185,43,0,0,24,6,0,0,0,0,0,0,76,32,0,0,238,43,0,0,96,6,0,0,0,0,0,0,76,32,0,0,140,44,0,0,160,2,0,0,0,0,0,0,76,32,0,0,180,44,0,0,248,0,0,0,0,0,0,0,76,32,0,0,206,44,0,0,24,3,0,0,0,0,0,0,36,32,0,0,83,45,0,0,76,32,0,0,131,45,0,0,24,3,0,0,0,0,0,0,76,32,0,0,16,46,0,0,64,4,0,0,0,0,0,0,76,32,0,0,43,46,0,0,88,0,0,0,0,0,0,0,76,32,0,0,77,46,0,0,96,3,0,0,0,0,0,0,36,32,0,0,111,46,0,0,76,32,0,0,138,46,0,0,160,2,0,0,0,0,0,0,76,32,0,0,188,46,0,0,160,2,0,0,0,0,0,0,76,32,0,0,245,46,0,0,160,2,0,0,0,0,0,0,76,32,0,0,34,47,0,0,160,2,0,0,0,0,0,0,76,32,0,0,87,47,0,0,160,2,0,0,0,0,0,0,76,32,0,0,139,47,0,0,160,2,0,0,0,0,0,0,76,32,0,0,172,47,0,0,160,2,0,0,0,0,0,0,76,32,0,0,221,47,0,0,160,2,0,0,0,0,0,0,76,32,0,0,16,48,0,0,160,2,0,0,0,0,0,0,76,32,0,0,59,48,0,0,160,2,0,0,0,0,0,0,76,32,0,0,107,48,0,0,88,0,0,0,0,0,0,0,76,32,0,0,126,48,0,0,80,1,0,0,0,0,0,0,76,32,0,0,142,48,0,0,24,4,0,0,0,0,0,0,36,32,0,0,169,48,0,0,76,32,0,0,195,48,0,0,24,3,0,0,0,0,0,0,36,32,0,0,214,48,0,0,76,32,0,0,29,49,0,0,248,0,0,0,0,0,0,0,76,32,0,0,64,49,0,0,248,0,0,0,0,0,0,0,76,32,0,0,101,49,0,0,40,1,0,0,0,0,0,0,76,32,0,0,126,49,0,0,24,6,0,0,0,0,0,0,76,32,0,0,143,49,0,0,144,6,0,0,0,0,0,0,76,32,0,0,208,49,0,0,176,0,0,0,0,0,0,0,76,32,0,0,62,50,0,0,176,0,0,0,0,0,0,0,76,32,0,0,166,50,0,0,176,0,0,0,0,0,0,0,76,32,0,0,23,51,0,0,112,5,0,0,0,0,0,0,76,32,0,0,72,51,0,0,216,4,0,0,0,0,0,0,76,32,0,0,99,51,0,0,216,4,0,0,0,0,0,0,36,32,0,0,126,51,0,0,76,32,0,0,166,51,0,0,8,5,0,0,0,0,0,0,76,32,0,0,238,51,0,0,8,5,0,0,0,0,0,0,76,32,0,0,255,51,0,0,112,5,0,0,0,0,0,0,76,32,0,0,34,52,0,0,48,5,0,0,0,0,0,0,76,32,0,0,55,52,0,0,48,5,0,0,0,0,0,0,76,32,0,0,76,52,0,0,40,6,0,0,0,0,0,0,76,32,0,0,125,52,0,0,136,5,0,0,0,0,0,0,36,32,0,0,149,52,0,0,76,32,0,0,170,52,0,0,8,5,0,0,0,0,0,0,76,32,0,0,186,52,0,0,40,6,0,0,0,0,0,0,76,32,0,0,228,52,0,0,104,6,0,0,0,0,0,0,76,32,0,0,1,53,0,0,112,5,0,0,0,0,0,0,76,32,0,0,49,53,0,0,184,5,0,0,0,0,0,0,76,32,0,0,78,53,0,0,184,5,0,0,0,0,0,0,76,32,0,0,107,53,0,0,240,0,0,0,0,0,0,0,76,32,0,0,124,53,0,0,104,6,0,0,0,0,0,0,76,32,0,0,224,53,0,0,104,6,0,0,0,0,0,0,76,32,0,0,59,54,0,0,112,5,0,0,0,0,0,0,76,32,0,0,85,54,0,0,24,6,0,0,0,0,0,0,76,32,0,0,122,54,0,0,112,5,0,0,0,0,0,0,76,32,0,0,145,54,0,0,32,5,0,0,0,0,0,0,36,32,0,0,201,54,0,0,36,32,0,0,99,55,0,0,36,32,0,0,120,55,0,0,76,32,0,0,154,55,0,0,88,6,0,0,0,0,0,0,76,32,0,0,183,55,0,0,112,6,0,0,0,0,0,0,76,32,0,0,200,55,0,0,32,5,0,0,0,0,0,0,76,32,0,0,235,55,0,0,104,6,0,0,0,0,0,0,76,32,0,0,81,56,0,0,96,6,0,0,0,0,0,0,76,32,0,0,105,56,0,0,224,6,0,0,0,0,0,0,76,32,0,0,135,56,0,0,24,3,0,0,0,0,0,0,36,32,0,0,154,56,0,0,76,32,0,0,169,56,0,0,224,6,0,0,0,0,0,0,76,32,0,0,187,56,0,0,8,7,0,0,0,0,0,0,36,32,0,0,220,56,0,0,76,32,0,0,253,56,0,0,40,1,0,0,0,0,0,0,76,32,0,0,17,57,0,0,8,7,0,0,0,0,0,0,76,32,0,0,53,57,0,0,24,3,0,0,0,0,0,0,76,32,0,0,224,57,0,0,96,6,0,0,0,0,0,0,76,32,0,0,252,57,0,0,96,6,0,0,0,0,0,0,76,32,0,0,27,58,0,0,224,6,0,0,0,0,0,0,76,32,0,0,52,58,0,0,128,7,0,0,0,0,0,0,76,32,0,0,85,58,0,0,144,7,0,0,0,0,0,0,36,32,0,0,118,58,0,0,76,32,0,0,138,58,0,0,168,7,0,0,0,0,0,0,76,32,0,0,184,58,0,0,40,2,0,0,0,0,0,0,76,32,0,0,234,58,0,0,200,7,0,0,0,0,0,0,136,32,0,0,2,59,0,0,0,0,0,0,1,0,0,0,224,7,0,0,2,4,0,0,36,32,0,0,22,59,0,0,76,32,0,0,99,59,0,0,200,7,0,0,0,0,0,0,76,32,0,0,153,59,0,0,200,7,0,0,0,0,0,0,76,32,0,0,186,59,0,0,232,7,0,0,0,0,0,0,76,32,0,0,252,59,0,0,200,7,0,0,0,0,0,0,76,32,0,0,43,60,0,0,200,7,0,0,0,0,0,0,76,32,0,0,102,60,0,0,72,8,0,0,0,0,0,0,36,32,0,0,140,60,0,0,76,32,0,0,235,60,0,0,200,7,0,0,0,0,0,0,76,32,0,0,50,61,0,0,112,8,0,0,0,0,0,0,76,32,0,0,76,61,0,0,88,1,0,0,0,0,0,0,76,32,0,0,239,61,0,0,168,7,0,0,0,0,0,0,76,32,0,0,212,62,0,0,160,8,0,0,0,0,0,0,36,32,0,0,242,62,0,0,76,32,0,0,32,63,0,0,80,1,0,0,0,0,0,0,76,32,0,0,111,63,0,0,144,7,0,0,0,0,0,0,76,32,0,0,130,63,0,0,216,8,0,0,0,0,0,0,36,32,0,0,158,63,0,0,76,32,0,0,179,63,0,0,240,1,0,0,0,0,0,0,76,32,0,0,250,63,0,0,0,9,0,0,0,0,0,0,36,32,0,0,26,64,0,0,76,32,0,0,110,65,0,0,24,9,0,0,0,0,0,0,36,32,0,0,133,65,0,0,76,32,0,0,149,65,0,0,48,0,0,0,0,0,0,0,36,32,0,0,50,76,0,0,76,32,0,0,16,76,0,0,88,9,0,0,0,0,0,0,76,32,0,0,189,75,0,0,56,9,0,0,0,0,0,0,76,32,0,0,226,75,0,0,104,9,0,0,0,0,0,0,36,32,0,0,3,76,0,0,76,32,0,0,248,76,0,0,48,9,0,0,0,0,0,0,76,32,0,0,56,77,0,0,88,9,0,0,0,0,0,0,76,32,0,0,20,77,0,0,128,9,0,0,0,0,0,0,76,32,0,0,90,77,0,0,56,9,0,0,0,0,0,0,0,0,0,0,32,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,16,0,0,0,1,0,0,0,4,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,72,0,0,0,5,0,0,0,6,0,0,0,1,0,0,0,1,0,0,0,3,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,4,0,0,0,6,0,0,0,5,0,0,0,3,0,0,0,6,0,0,0,2,0,0,0,7,0,0,0,4,0,0,0,5,0,0,0,0,0,0,0,104,0,0,0,7,0,0,0,8,0,0,0,2,0,0,0,7,0,0,0,2,0,0,0,3,0,0,0,2,0,0,0,4,0,0,0,6,0,0,0,8,0,0,0,9,0,0,0,8,0,0,0,7,0,0,0,9,0,0,0,0,0,0,0,120,0,0,0,10,0,0,0,11,0,0,0,9,0,0,0,8,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,136,0,0,0,10,0,0,0,12,0,0,0,10,0,0,0,9,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,152,0,0,0,10,0,0,0,13,0,0,0,10,0,0,0,10,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,184,0,0,0,14,0,0,0,15,0,0,0,3,0,0,0,2,0,0,0,11,0,0,0,10,0,0,0,11,0,0,0,12,0,0,0,12,0,0,0,13,0,0,0,13,0,0,0,11,0,0,0,14,0,0,0,4,0,0,0,14,0,0,0,12,0,0,0,13,0,0,0,0,0,0,0,200,0,0,0,16,0,0,0,17,0,0,0,3,0,0,0,0,0,0,0,224,0,0,0,16,0,0,0,18,0,0,0,4,0,0,0,0,0,0,0,240,0,0,0,19,0,0,0,20,0,0,0,3,0,0,0,15,0,0,0,5,0,0,0,14,0,0,0,15,0,0,0,0,0,0,0,8,1,0,0,21,0,0,0,22,0,0,0,3,0,0,0,1,0,0,0,16,0,0,0,0,0,0,0,24,1,0,0,23,0,0,0,24,0,0,0,4,0,0,0,0,0,0,0,48,1,0,0,25,0,0,0,26,0,0,0,4,0,0,0,6,0,0,0,17,0,0,0,18,0,0,0,7,0,0,0,8,0,0,0,5,0,0,0,16,0,0,0,5,0,0,0,17,0,0,0,18,0,0,0,19,0,0,0,6,0,0,0,19,0,0,0,0,0,0,0,64,1,0,0,16,0,0,0,27,0,0,0,7,0,0,0,0,0,0,0,80,1,0,0,28,0,0,0,29,0,0,0,20,0,0,0,8,0,0,0,20,0,0,0,9,0,0,0,21,0,0,0,0,0,0,0,88,1,0,0,30,0,0,0,31,0,0,0,32,0,0,0,33,0,0,0,22,0,0,0,21,0,0,0,34,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,23,0,0,0,35,0,0,0,24,0,0,0,0,0,0,0,96,1,0,0,36,0,0,0,37,0,0,0,9,0,0,0,10,0,0,0,252,255,255,255,96,1,0,0,38,0,0,0,39,0,0,0,11,0,0,0,0,0,0,0,128,1,0,0,40,0,0,0,41,0,0,0,9,0,0,0,0,0,0,0,168,1,0,0,1,0,0,0,25,0,0,0,15,0,0,0,42,0,0,0,43,0,0,0,0,0,0,0,176,1,0,0,44,0,0,0,45,0,0,0,12,0,0,0,1,0,0,0,0,0,0,0,192,1,0,0,44,0,0,0,46,0,0,0,12,0,0,0,2,0,0,0,0,0,0,0,208,1,0,0,10,0,0,0,47,0,0,0,10,0,0,0,26,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,224,1,0,0,48,0,0,0,49,0,0,0,10,0,0,0,1,0,0,0,0,0,0,0,248,1,0,0,44,0,0,0,50,0,0,0,13,0,0,0,1,0,0,0,0,0,0,0,8,2,0,0,44,0,0,0,51,0,0,0,13,0,0,0,2,0,0,0,0,0,0,0,24,2,0,0,52,0,0,0,53,0,0,0,11,0,0,0,2,0,0,0,0,0,0,0,48,2,0,0,40,0,0,0,54,0,0,0,12,0,0,0,0,0,0,0,64,2,0,0,40,0,0,0,55,0,0,0,13,0,0,0,0,0,0,0,80,2,0,0,56,0,0,0,57,0,0,0,16,0,0,0,17,0,0,0,1,0,0,0,0,0,0,0,96,2,0,0,58,0,0,0,59,0,0,0,5,0,0,0,2,0,0,0,27,0,0,0,0,0,0,0,112,2,0,0,10,0,0,0,60,0,0,0,10,0,0,0,28,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,128,2,0,0,61,0,0,0,62,0,0,0,6,0,0,0,3,0,0,0,29,0,0,0,0,0,0,0,144,2,0,0,10,0,0,0,63,0,0,0,18,0,0,0,30,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,168,2,0,0,64,0,0,0,65,0,0,0,7,0,0,0,4,0,0,0,31,0,0,0,0,0,0,0,184,2,0,0,66,0,0,0,67,0,0,0,14,0,0,0,0,0,0,0,200,2,0,0,68,0,0,0,69,0,0,0,15,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,32,0,0,0,22,0,0,0,1,0,0,0,23,0,0,0,33,0,0,0,2,0,0,0,2,0,0,0,24,0,0,0,10,0,0,0,34,0,0,0,20,0,0,0,21,0,0,0,1,0,0,0,16,0,0,0,17,0,0,0,25,0,0,0,22,0,0,0,14,0,0,0,26,0,0,0,27,0,0,0,18,0,0,0,23,0,0,0,28,0,0,0,19,0,0,0,1,0,0,0,20,0,0,0,0,0,0,0,216,2,0,0,44,0,0,0,70,0,0,0,21,0,0,0,0,0,0,0,232,2,0,0,71,0,0,0,72,0,0,0,5,0,0,0,0,0,0,0,248,2,0,0,73,0,0,0,74,0,0,0,8,0,0,0,5,0,0,0,35,0,0,0,0,0,0,0,8,3,0,0,56,0,0,0,75,0,0,0,24,0,0,0,25,0,0,0,2,0,0,0,0,0,0,0,32,3,0,0,56,0,0,0,76,0,0,0,26,0,0,0,27,0,0,0,3,0,0,0,0,0,0,0,48,3,0,0,56,0,0,0,77,0,0,0,16,0,0,0,17,0,0,0,4,0,0,0,0,0,0,0,64,3,0,0,78,0,0,0,79,0,0,0,9,0,0,0,6,0,0,0,36,0,0,0,0,0,0,0,80,3,0,0,80,0,0,0,81,0,0,0,29,0,0,0,30,0,0,0,11,0,0,0,31,0,0,0,0,0,0,0,104,3,0,0,82,0,0,0,83,0,0,0,6,0,0,0,0,0,0,0,120,3,0,0,82,0,0,0,84,0,0,0,7,0,0,0,0,0,0,0,136,3,0,0,82,0,0,0,85,0,0,0,8,0,0,0,0,0,0,0,152,3,0,0,82,0,0,0,86,0,0,0,9,0,0,0,0,0,0,0,168,3,0,0,82,0,0,0,87,0,0,0,10,0,0,0,0,0,0,0,184,3,0,0,82,0,0,0,88,0,0,0,11,0,0,0,0,0,0,0,200,3,0,0,82,0,0,0,89,0,0,0,12,0,0,0,0,0,0,0,216,3,0,0,82,0,0,0,90,0,0,0,13,0,0,0,0,0,0,0,232,3,0,0,82,0,0,0,91,0,0,0,14,0,0,0,0,0,0,0,248,3,0,0,82,0,0,0,92,0,0,0,15,0,0,0,0,0,0,0,8,4,0,0,93,0,0,0,94,0,0,0,10,0,0,0,7,0,0,0,37,0,0,0,0,0,0,0,24,4,0,0,95,0,0,0,96,0,0,0,20,0,0,0,8,0,0,0,20,0,0,0,9,0,0,0,21,0,0,0,28,0,0,0,22,0,0,0,0,0,0,0,40,4,0,0,97,0,0,0,98,0,0,0,20,0,0,0,8,0,0,0,20,0,0,0,9,0,0,0,21,0,0,0,29,0,0,0,23,0,0,0,0,0,0,0,56,4,0,0,99,0,0,0,100,0,0,0,12,0,0,0,13,0,0,0,32,0,0,0,0,0,0,0,64,4,0,0,56,0,0,0,101,0,0,0,16,0,0,0,17,0,0,0,5,0,0,0,0,0,0,0,80,4,0,0,102,0,0,0,103,0,0,0,30,0,0,0,38,0,0,0,0,0,0,0,88,4,0,0,104,0,0,0,105,0,0,0,11,0,0,0,8,0,0,0,39,0,0,0,0,0,0,0,104,4,0,0,106,0,0,0,107,0,0,0,12,0,0,0,9,0,0,0,40,0,0,0,0,0,0,0,120,4,0,0,23,0,0,0,108,0,0,0,13,0,0,0,0,0,0,0,136,4,0,0,68,0,0,0,109,0,0,0,24,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,41,0,0,0,22,0,0,0,2,0,0,0,33,0,0,0,33,0,0,0,3,0,0,0,2,0,0,0,24,0,0,0,10,0,0,0,34,0,0,0,31,0,0,0,32,0,0,0,1,0,0,0,25,0,0,0,17,0,0,0,34,0,0,0,33,0,0,0,14,0,0,0,35,0,0,0,36,0,0,0,26,0,0,0,34,0,0,0,37,0,0,0,27,0,0,0,2,0,0,0,35,0,0,0,0,0,0,0,152,4,0,0,110,0,0,0,111,0,0,0,28,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,42,0,0,0,38,0,0,0,3,0,0,0,39,0,0,0,33,0,0,0,4,0,0,0,3,0,0,0,40,0,0,0,14,0,0,0,34,0,0,0,29,0,0,0,36,0,0,0,37,0,0,0,43,0,0,0,44,0,0,0,0,0,0,0,168,4,0,0,112,0,0,0,113,0,0,0,38,0,0,0,0,0,0,0,184,4,0,0,112,0,0,0,114,0,0,0,39,0,0,0,0,0,0,0,200,4,0,0,112,0,0,0,115,0,0,0,40,0,0,0,0,0,0,0,216,4,0,0,116,0,0,0,117,0,0,0,30,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,45,0,0,0,22,0,0,0,4,0,0,0,41,0,0,0,46,0,0,0,5,0,0,0,2,0,0,0,42,0,0,0,15,0,0,0,34,0,0,0,20,0,0,0,41,0,0,0,1,0,0,0,31,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,0,0,0,0,232,4,0,0,116,0,0,0,118,0,0,0,30,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,45,0,0,0,22,0,0,0,4,0,0,0,44,0,0,0,46,0,0,0,5,0,0,0,2,0,0,0,42,0,0,0,15,0,0,0,34,0,0,0,20,0,0,0,41,0,0,0,1,0,0,0,31,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,0,0,0,0,248,4,0,0,116,0,0,0,119,0,0,0,30,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,45,0,0,0,22,0,0,0,4,0,0,0,45,0,0,0,46,0,0,0,5,0,0,0,2,0,0,0,42,0,0,0,15,0,0,0,34,0,0,0,20,0,0,0,41,0,0,0,1,0,0,0,31,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,0,0,0,0,16,5,0,0,120,0,0,0,121,0,0,0,32,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,47,0,0,0,46,0,0,0,5,0,0,0,47,0,0,0,33,0,0,0,6,0,0,0,4,0,0,0,48,0,0,0,16,0,0,0,34,0,0,0,48,0,0,0,122,0,0,0,0,0,0,0,48,5,0,0,116,0,0,0,123,0,0,0,33,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,49,0,0,0,22,0,0,0,6,0,0,0,49,0,0,0,50,0,0,0,2,0,0,0,2,0,0,0,50,0,0,0,17,0,0,0,34,0,0,0,43,0,0,0,44,0,0,0,1,0,0,0,34,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,0,0,0,0,64,5,0,0,116,0,0,0,124,0,0,0,33,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,49,0,0,0,22,0,0,0,6,0,0,0,51,0,0,0,51,0,0,0,2,0,0,0,2,0,0,0,50,0,0,0,17,0,0,0,34,0,0,0,43,0,0,0,44,0,0,0,1,0,0,0,34,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,0,0,0,0,80,5,0,0,116,0,0,0,125,0,0,0,33,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,49,0,0,0,22,0,0,0,6,0,0,0,52,0,0,0,52,0,0,0,2,0,0,0,2,0,0,0,50,0,0,0,17,0,0,0,34,0,0,0,43,0,0,0,44,0,0,0,1,0,0,0,34,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,0,0,0,0,96,5,0,0,126,0,0,0,127,0,0,0,35,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,53,0,0,0,22,0,0,0,7,0,0,0,53,0,0,0,33,0,0,0,2,0,0,0,2,0,0,0,54,0,0,0,18,0,0,0,34,0,0,0,45,0,0,0,46,0,0,0,2,0,0,0,36,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,14,0,0,0,55,0,0,0,56,0,0,0,37,0,0,0,47,0,0,0,57,0,0,0,38,0,0,0,3,0,0,0,0,0,0,0,128,5,0,0,128,0,0,0,129,0,0,0,0,0,0,0,152,5,0,0,68,0,0,0,130,0,0,0,35,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,54,0,0,0,58,0,0,0,7,0,0,0,59,0,0,0,33,0,0,0,2,0,0,0,2,0,0,0,24,0,0,0,10,0,0,0,34,0,0,0,48,0,0,0,49,0,0,0,1,0,0,0,39,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,14,0,0,0,60,0,0,0,61,0,0,0,40,0,0,0,50,0,0,0,62,0,0,0,41,0,0,0,4,0,0,0,0,0,0,0,168,5,0,0,131,0,0,0,132,0,0,0,42,0,0,0,0,0,0,0,184,5,0,0,116,0,0,0,133,0,0,0,43,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,55,0,0,0,22,0,0,0,8,0,0,0,63,0,0,0,56,0,0,0,7,0,0,0,2,0,0,0,64,0,0,0,19,0,0,0,34,0,0,0,51,0,0,0,52,0,0,0,1,0,0,0,44,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,5,0,0,0,0,0,0,0,200,5,0,0,116,0,0,0,134,0,0,0,43,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,55,0,0,0,22,0,0,0,8,0,0,0,65,0,0,0,56,0,0,0,7,0,0,0,2,0,0,0,64,0,0,0,19,0,0,0,34,0,0,0,51,0,0,0,53,0,0,0,1,0,0,0,45,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,6,0,0,0,0,0,0,0,216,5,0,0,116,0,0,0,135,0,0,0,43,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,55,0,0,0,22,0,0,0,8,0,0,0,66,0,0,0,56,0,0,0,7,0,0,0,2,0,0,0,64,0,0,0,19,0,0,0,34,0,0,0,51,0,0,0,54,0,0,0,1,0,0,0,46,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,7,0,0,0,0,0,0,0,232,5,0,0,136,0,0,0,137,0,0,0,3,0,0,0,15,0,0,0,5,0,0,0,14,0,0,0,15,0,0,0,16,0,0,0,0,0,0,0,248,5,0,0,131,0,0,0,138,0,0,0,47,0,0,0,0,0,0,0,8,6,0,0,131,0,0,0,139,0,0,0,48,0,0,0,0,0,0,0,24,6,0,0,68,0,0,0,140,0,0,0,33,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,32,0,0,0,22,0,0,0,7,0,0,0,1,0,0,0,33,0,0,0,2,0,0,0,2,0,0,0,24,0,0,0,10,0,0,0,34,0,0,0,20,0,0,0,55,0,0,0,1,0,0,0,49,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,14,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,56,6,0,0,116,0,0,0,141,0,0,0,50,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,32,0,0,0,22,0,0,0,9,0,0,0,67,0,0,0,33,0,0,0,8,0,0,0,8,0,0,0,24,0,0,0,10,0,0,0,34,0,0,0,56,0,0,0,57,0,0,0,1,0,0,0,51,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,0,0,0,0,72,6,0,0,142,0,0,0,143,0,0,0,52,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,57,0,0,0,68,0,0,0,10,0,0,0,69,0,0,0,33,0,0,0,4,0,0,0,3,0,0,0,70,0,0,0,20,0,0,0,34,0,0,0,53,0,0,0,0,0,0,0,112,6,0,0,144,0,0,0,145,0,0,0,54,0,0,0,1,0,0,0,2,0,0,0,58,0,0,0,59,0,0,0,71,0,0,0,60,0,0,0,61,0,0,0,72,0,0,0,58,0,0,0,59,0,0,0,73,0,0,0,21,0,0,0,0,0,0,0,128,6,0,0,146,0,0,0,147,0,0,0,54,0,0,0,1,0,0,0,2,0,0,0,58,0,0,0,59,0,0,0,71,0,0,0,62,0,0,0,63,0,0,0,72,0,0,0,58,0,0,0,59,0,0,0,73,0,0,0,21,0,0,0,0,0,0,0,144,6,0,0,148,0,0,0,149,0,0,0,28,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,64,0,0,0,38,0,0,0,3,0,0,0,74,0,0,0,33,0,0,0,4,0,0,0,3,0,0,0,75,0,0,0,22,0,0,0,34,0,0,0,55,0,0,0,36,0,0,0,37,0,0,0,0,0,0,0,160,6,0,0,131,0,0,0,150,0,0,0,56,0,0,0,0,0,0,0,176,6,0,0,44,0,0,0,151,0,0,0,57,0,0,0,0,0,0,0,192,6,0,0,152,0,0,0,153,0,0,0,1,0,0,0,0,0,0,0,208,6,0,0,56,0,0,0,154,0,0,0,60,0,0,0,61,0,0,0,6,0,0,0,0,0,0,0,232,6,0,0,152,0,0,0,155,0,0,0,2,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,248,6,0,0,156,0,0,0,157,0,0,0,1,0,0,0,0,0,0,0,16,7,0,0,23,0,0,0,158,0,0,0,14,0,0,0,0,0,0,0,32,7,0,0,156,0,0,0,159,0,0,0,2,0,0,0,0,0,0,0,48,7,0,0,56,0,0,0,160,0,0,0,62,0,0,0,63,0,0,0,7,0,0,0,10,215,163,60,0,0,0,0,80,7,0,0,44,0,0,0,161,0,0,0,13,0,0,0,1,0,0,0,0,0,0,0,96,7,0,0,152,0,0,0,162,0,0,0,3,0,0,0,0,0,0,0,112,7,0,0,163,0,0,0,164,0,0,0,2,0,0,0,65,0,0,0,66,0,0,0,3,0,0,0,67,0,0,0,68,0,0,0,69,0,0,0,4,0,0,0,76,0,0,0,165,0,0,0,77,0,0,0,70,0,0,0,0,0,0,0,152,7,0,0,52,0,0,0,166,0,0,0,15,0,0,0,3,0,0,0,0,0,0,0,184,7,0,0,167,0,0,0,168,0,0,0,169,0,0,0,1,0,0,0,71,0,0,0,72,0,0,0,8,0,0,0,1,0,0,0,4,0,0,0,78,0,0,0,23,0,0,0,64,0,0,0,0,0,0,0,200,7,0,0,167,0,0,0,170,0,0,0,171,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,9,0,0,0,1,0,0,0,1,0,0,0,79,0,0,0,24,0,0,0,0,0,0,0,232,7,0,0,167,0,0,0,172,0,0,0,173,0,0,0,1,0,0,0,73,0,0,0,74,0,0,0,9,0,0,0,2,0,0,0,5,0,0,0,80,0,0,0,25,0,0,0,174,0,0,0,81,0,0,0,0,0,0,0,248,7,0,0,167,0,0,0,175,0,0,0,176,0,0,0,1,0,0,0,75,0,0,0,76,0,0,0,9,0,0,0,3,0,0,0,6,0,0,0,82,0,0,0,26,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,8,8,0,0,167,0,0,0,177,0,0,0,173,0,0,0,1,0,0,0,73,0,0,0,77,0,0,0,9,0,0,0,2,0,0,0,5,0,0,0,83,0,0,0,27,0,0,0,174,0,0,0,81,0,0,0,65,0,0,0,0,0,0,0,24,8,0,0,167,0,0,0,178,0,0,0,179,0,0,0,1,0,0,0,78,0,0,0,79,0,0,0,9,0,0,0,4,0,0,0,7,0,0,0,84,0,0,0,28,0,0,0,85,0,0,0,0,0,0,0,40,8,0,0,167,0,0,0,180,0,0,0,181,0,0,0,1,0,0,0,80,0,0,0,81,0,0,0,9,0,0,0,5,0,0,0,8,0,0,0,86,0,0,0,29,0,0,0,87,0,0,0,0,0,0,0,56,8,0,0,182,0,0,0,183,0,0,0,66,0,0,0,1,0,0,0,67,0,0,0,184,0,0,0,88,0,0,0,58,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,80,8,0,0,167,0,0,0,185,0,0,0,171,0,0,0,1,0,0,0,82,0,0,0,83,0,0,0,9,0,0,0,6,0,0,0,9,0,0,0,89,0,0,0,30,0,0,0,90,0,0,0,0,0,0,0,96,8,0,0,186,0,0,0,187,0,0,0,32,0,0,0,33,0,0,0,22,0,0,0,21,0,0,0,188,0,0,0,6,0,0,0,7,0,0,0,59,0,0,0,84,0,0,0,35,0,0,0,85,0,0,0,1,0,0,0,68,0,0,0,86,0,0,0,87,0,0,0,88,0,0,0,89,0,0,0,90,0,0,0,189,0,0,0,91,0,0,0,60,0,0,0,92,0,0,0,93,0,0,0,91,0,0,0,92,0,0,0,16,0,0,0,17,0,0,0,93,0,0,0,190,0,0,0,94,0,0,0,95,0,0,0,96,0,0,0,97,0,0,0,9,0,0,0,10,0,0,0,191,0,0,0,98,0,0,0,11,0,0,0,12,0,0,0,13,0,0,0,99,0,0,0,192,0,0,0,100,0,0,0,14,0,0,0,0,0,0,0,168,7,0,0,52,0,0,0,193,0,0,0,15,0,0,0,10,0,0,0,0,0,0,0,128,8,0,0,52,0,0,0,194,0,0,0,18,0,0,0,11,0,0,0,0,0,0,0,144,8,0,0,195,0,0,0,196,0,0,0,3,0,0,0,0,0,0,0,168,8,0,0,197,0,0,0,198,0,0,0,20,0,0,0,8,0,0,0,94,0,0,0,31,0,0,0,101,0,0,0,0,0,0,0,184,8,0,0,199,0,0,0,200,0,0,0,5,0,0,0,102,0,0,0,15,0,0,0,16,0,0,0,61,0,0,0,0,0,0,0,200,8,0,0,201,0,0,0,202,0,0,0,17,0,0,0,0,0,0,0,224,8,0,0,48,0,0,0,203,0,0,0,19,0,0,0,12,0,0,0,28,88,0,0,0,0,0,0,240,8,0,0,204,0,0,0,205,0,0,0,20,0,0,0,1,0,0,0,0,0,0,0,8,9,0,0,206,0,0,0,207,0,0,0,103,0,0,0,104,0,0,0,0,0,0,0,32,9,0,0,208,0,0,0,209,0,0,0,32,0,0,0,18,0,0,0,69,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,33,0,0,0,34,0,0,0,41,91,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,56,9,0,0,210,0,0,0,211,0,0,0,212,0,0,0,213,0,0,0,35,0,0,0,4,0,0,0,15,0,0,0,62,0,0,0,0,0,0,0,72,9,0,0,210,0,0,0,214,0,0,0,212,0,0,0,213,0,0,0,35,0,0,0,5,0,0,0,16,0,0,0,63,0,0,0,0,0,0,0,112,9,0,0,215,0,0,0,216,0,0,0,96,0,0,0,0,0,0,0,160,9,0,0,210,0,0,0,217,0,0,0,212,0,0,0,213,0,0,0,35,0,0,0,6,0,0,0,17,0,0,0,64,0,0,0,49,50,98,116,65,120,105,115,83,119,101,101,112,51,0,50,48,98,116,65,120,105,115,83,119,101,101,112,51,73,110,116,101,114,110,97,108,73,116,69,0,50,49,98,116,66,114,111,97,100,112,104,97,115,101,73,110,116,101,114,102,97,99,101,0,49,53,98,116,78,117,108,108,80,97,105,114,67,97,99,104,101,0,50,50,98,116,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,67,97,99,104,101,0,50,53,98,116,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,67,97,108,108,98,97,99,107,0,50,48,98,116,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,78,54,98,116,68,98,118,116,56,73,67,111,108,108,105,100,101,69,0,49,54,98,116,68,98,118,116,66,114,111,97,100,112,104,97,115,101,0,49,56,98,116,68,98,118,116,84,114,101,101,67,111,108,108,105,100,101,114,0,49,57,66,114,111,97,100,112,104,97,115,101,82,97,121,84,101,115,116,101,114,0,50,48,66,114,111,97,100,112,104,97,115,101,65,97,98,98,84,101,115,116,101,114,0,49,50,98,116,68,105,115,112,97,116,99,104,101,114,0,50,49,98,116,78,111,100,101,79,118,101,114,108,97,112,67,97,108,108,98,97,99,107,0,50,56,98,116,72,97,115,104,101,100,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,67,97,99,104,101,0,90,78,50,56,98,116,72,97,115,104,101,100,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,67,97,99,104,101,51,55,114,101,109,111,118,101,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,115,67,111,110,116,97,105,110,105,110,103,80,114,111,120,121,69,80,49,55,98,116,66,114,111,97,100,112,104,97,115,101,80,114,111,120,121,80,49,50,98,116,68,105,115,112,97,116,99,104,101,114,69,49,56,82,101,109,111,118,101,80,97,105,114,67,97,108,108,98,97,99,107,0,49,55,98,116,79,118,101,114,108,97,112,67,97,108,108,98,97,99,107,0,90,78,50,56,98,116,72,97,115,104,101,100,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,67,97,99,104,101,49,57,99,108,101,97,110,80,114,111,120,121,70,114,111,109,80,97,105,114,115,69,80,49,55,98,116,66,114,111,97,100,112,104,97,115,101,80,114,111,120,121,80,49,50,98,116,68,105,115,112,97,116,99,104,101,114,69,49,55,67,108,101,97,110,80,97,105,114,67,97,108,108,98,97,99,107,0,49,52,98,116,81,117,97,110,116,105,122,101,100,66,118,104,0,98,116,79,112,116,105,109,105,122,101,100,66,118,104,78,111,100,101,68,97,116,97,0,98,116,81,117,97,110,116,105,122,101,100,66,118,104,78,111,100,101,68,97,116,97,0,98,116,66,118,104,83,117,98,116,114,101,101,73,110,102,111,68,97,116,97,0,98,116,81,117,97,110,116,105,122,101,100,66,118,104,70,108,111,97,116,68,97,116,97,0,51,48,98,116,65,99,116,105,118,97,116,105,110,103,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,50,54,98,116,66,111,120,66,111,120,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,49,54,98,116,66,111,120,66,111,120,68,101,116,101,99,116,111,114,0,51,54,98,116,68,105,115,99,114,101,116,101,67,111,108,108,105,115,105,111,110,68,101,116,101,99,116,111,114,73,110,116,101,114,102,97,99,101,0,50,49,98,116,67,111,108,108,105,115,105,111,110,68,105,115,112,97,116,99,104,101,114,0,50,51,98,116,67,111,108,108,105,115,105,111,110,80,97,105,114,67,97,108,108,98,97,99,107,0,49,55,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,0,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,70,108,111,97,116,68,97,116,97,0,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,0,117,112,100,97,116,101,65,97,98,98,115,0,1,79,118,101,114,102,108,111,119,32,105,110,32,65,65,66,66,44,32,111,98,106,101,99,116,32,114,101,109,111,118,101,100,32,102,114,111,109,32,115,105,109,117,108,97,116,105,111,110,0,73,102,32,121,111,117,32,99,97,110,32,114,101,112,114,111,100,117,99,101,32,116,104,105,115,44,32,112,108,101,97,115,101,32,101,109,97,105,108,32,98,117,103,115,64,99,111,110,116,105,110,117,111,117,115,112,104,121,115,105,99,115,46,99,111,109,10,0,80,108,101,97,115,101,32,105,110,99,108,117,100,101,32,97,98,111,118,101,32,105,110,102,111,114,109,97,116,105,111,110,44,32,121,111,117,114,32,80,108,97,116,102,111,114,109,44,32,118,101,114,115,105,111,110,32,111,102,32,79,83,46,10,0,84,104,97,110,107,115,46,10,0,99,97,108,99,117,108,97,116,101,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,115,0,49,55,68,101,98,117,103,68,114,97,119,99,97,108,108,98,97,99,107,0,49,57,98,116,83,105,110,103,108,101,82,97,121,67,97,108,108,98,97,99,107,0,50,51,98,116,66,114,111,97,100,112,104,97,115,101,82,97,121,67,97,108,108,98,97,99,107,0,50,52,98,116,66,114,111,97,100,112,104,97,115,101,65,97,98,98,67,97,108,108,98,97,99,107,0,78,49,50,98,116,67,111,110,118,101,120,67,97,115,116,49,48,67,97,115,116,82,101,115,117,108,116,69,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,49,114,97,121,84,101,115,116,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,50,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,49,55,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,69,50,57,66,114,105,100,103,101,84,114,105,97,110,103,108,101,82,97,121,99,97,115,116,67,97,108,108,98,97,99,107,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,49,114,97,121,84,101,115,116,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,50,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,49,55,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,69,50,57,66,114,105,100,103,101,84,114,105,97,110,103,108,101,82,97,121,99,97,115,116,67,97,108,108,98,97,99,107,95,48,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,49,114,97,121,84,101,115,116,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,50,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,49,55,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,69,57,82,97,121,84,101,115,116,101,114,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,49,114,97,121,84,101,115,116,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,50,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,49,55,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,69,49,53,76,111,99,97,108,73,110,102,111,65,100,100,101,114,50,0,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,49,55,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,0,112,101,114],"i8",U,m.GLOBAL_BASE),z([102,111,114,109,68,105,115,99,114,101,116,101,67,111,108,108,105,115,105,111,110,68,101,116,101,99,116,105,111,110,0,100,105,115,112,97,116,99,104,65,108,108,67,111,108,108,105,115,105,111,110,80,97,105,114,115,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,53,111,98,106,101,99,116,81,117,101,114,121,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,80,75,49,51,98,116,67,111,110,118,101,120,83,104,97,112,101,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,53,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,50,48,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,102,69,51,50,66,114,105,100,103,101,84,114,105,97,110,103,108,101,67,111,110,118,101,120,99,97,115,116,67,97,108,108,98,97,99,107,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,53,111,98,106,101,99,116,81,117,101,114,121,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,80,75,49,51,98,116,67,111,110,118,101,120,83,104,97,112,101,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,53,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,50,48,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,102,69,51,50,66,114,105,100,103,101,84,114,105,97,110,103,108,101,67,111,110,118,101,120,99,97,115,116,67,97,108,108,98,97,99,107,95,48,0,99,111,110,118,101,120,83,119,101,101,112,67,111,109,112,111,117,110,100,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,53,111,98,106,101,99,116,81,117,101,114,121,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,80,75,49,51,98,116,67,111,110,118,101,120,83,104,97,112,101,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,53,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,50,48,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,102,69,49,52,76,111,99,97,108,73,110,102,111,65,100,100,101,114,0,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,48,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,0,99,111,110,118,101,120,83,119,101,101,112,84,101,115,116,0,50,49,98,116,83,105,110,103,108,101,83,119,101,101,112,67,97,108,108,98,97,99,107,0,50,51,98,116,83,105,110,103,108,101,67,111,110,116,97,99,116,67,97,108,108,98,97,99,107,0,50,51,98,116,66,114,105,100,103,101,100,77,97,110,105,102,111,108,100,82,101,115,117,108,116,0,50,56,98,116,67,111,109,112,111,117,110,100,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,50,50,98,116,67,111,109,112,111,117,110,100,76,101,97,102,67,97,108,108,98,97,99,107,0,51,54,98,116,67,111,109,112,111,117,110,100,67,111,109,112,111,117,110,100,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,51,48,98,116,67,111,109,112,111,117,110,100,67,111,109,112,111,117,110,100,76,101,97,102,67,97,108,108,98,97,99,107,0,51,48,98,116,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,67,114,101,97,116,101,70,117,110,99,0,51,51,98,116,67,111,110,118,101,120,67,111,110,99,97,118,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,50,52,98,116,67,111,110,118,101,120,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,0,49,53,98,116,84,114,105,97,110,103,108,101,83,104,97,112,101,0,84,114,105,97,110,103,108,101,0,98,116,67,111,110,118,101,120,73,110,116,101,114,110,97,108,83,104,97,112,101,68,97,116,97,0,90,78,51,51,98,116,67,111,110,118,101,120,67,111,110,99,97,118,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,50,49,99,97,108,99,117,108,97,116,101,84,105,109,101,79,102,73,109,112,97,99,116,69,80,49,55,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,83,49,95,82,75,49,54,98,116,68,105,115,112,97,116,99,104,101,114,73,110,102,111,80,49,54,98,116,77,97,110,105,102,111,108,100,82,101,115,117,108,116,69,51,49,76,111,99,97,108,84,114,105,97,110,103,108,101,83,112,104,101,114,101,67,97,115,116,67,97,108,108,98,97,99,107,0,78,50,51,98,116,67,111,110,118,101,120,67,111,110,118,101,120,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,50,51,98,116,67,111,110,118,101,120,67,111,110,118,101,120,65,108,103,111,114,105,116,104,109,0,90,78,50,51,98,116,67,111,110,118,101,120,67,111,110,118,101,120,65,108,103,111,114,105,116,104,109,49,54,112,114,111,99,101,115,115,67,111,108,108,105,115,105,111,110,69,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,83,50,95,82,75,49,54,98,116,68,105,115,112,97,116,99,104,101,114,73,110,102,111,80,49,54,98,116,77,97,110,105,102,111,108,100,82,101,115,117,108,116,69,49,51,98,116,68,117,109,109,121,82,101,115,117,108,116,0,78,51,54,98,116,68,105,115,99,114,101,116,101,67,111,108,108,105,115,105,111,110,68,101,116,101,99,116,111,114,73,110,116,101,114,102,97,99,101,54,82,101,115,117,108,116,69,0,90,78,50,51,98,116,67,111,110,118,101,120,67,111,110,118,101,120,65,108,103,111,114,105,116,104,109,49,54,112,114,111,99,101,115,115,67,111,108,108,105,115,105,111,110,69,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,83,50,95,82,75,49,54,98,116,68,105,115,112,97,116,99,104,101,114,73,110,102,111,80,49,54,98,116,77,97,110,105,102,111,108,100,82,101,115,117,108,116,69,50,49,98,116,87,105,116,104,111,117,116,77,97,114,103,105,110,82,101,115,117,108,116,0,50,52,98,116,80,101,114,116,117,114,98,101,100,67,111,110,116,97,99,116,82,101,115,117,108,116,0,51,49,98,116,67,111,110,118,101,120,80,108,97,110,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,51,49,98,116,68,101,102,97,117,108,116,67,111,108,108,105,115,105,111,110,67,111,110,102,105,103,117,114,97,116,105,111,110,0,50,52,98,116,67,111,108,108,105,115,105,111,110,67,111,110,102,105,103,117,114,97,116,105,111,110,0,78,51,51,98,116,67,111,110,118,101,120,67,111,110,99,97,118,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,78,51,51,98,116,67,111,110,118,101,120,67,111,110,99,97,118,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,55,83,119,97,112,112,101,100,67,114,101,97,116,101,70,117,110,99,69,0,78,50,56,98,116,67,111,109,112,111,117,110,100,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,78,51,54,98,116,67,111,109,112,111,117,110,100,67,111,109,112,111,117,110,100,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,78,50,56,98,116,67,111,109,112,111,117,110,100,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,55,83,119,97,112,112,101,100,67,114,101,97,116,101,70,117,110,99,69,0,78,49,54,98,116,69,109,112,116,121,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,78,51,50,98,116,83,112,104,101,114,101,83,112,104,101,114,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,78,51,52,98,116,83,112,104,101,114,101,84,114,105,97,110,103,108,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,78,50,54,98,116,66,111,120,66,111,120,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,78,51,49,98,116,67,111,110,118,101,120,80,108,97,110,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,49,54,98,116,69,109,112,116,121,65,108,103,111,114,105,116,104,109,0,49,51,98,116,71,104,111,115,116,79,98,106,101,99,116,0,50,52,98,116,80,97,105,114,67,97,99,104,105,110,103,71,104,111,115,116,79,98,106,101,99,116,0,50,51,98,116,72,97,115,104,101,100,83,105,109,112,108,101,80,97,105,114,67,97,99,104,101,0,49,54,98,116,77,97,110,105,102,111,108,100,82,101,115,117,108,116,0,50,53,98,116,83,105,109,117,108,97,116,105,111,110,73,115,108,97,110,100,77,97,110,97,103,101,114,0,105,115,108,97,110,100,85,110,105,111,110,70,105,110,100,65,110,100,81,117,105,99,107,83,111,114,116,0,112,114,111,99,101,115,115,73,115,108,97,110,100,115,0,51,50,98,116,83,112,104,101,114,101,83,112,104,101,114,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,51,52,98,116,83,112,104,101,114,101,84,114,105,97,110,103,108,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,50,50,83,112,104,101,114,101,84,114,105,97,110,103,108,101,68,101,116,101,99,116,111,114,0,49,48,98,116,66,111,120,83,104,97,112,101,0,66,111,120,0,50,50,98,116,66,118,104,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,0,66,86,72,84,82,73,65,78,71,76,69,77,69,83,72,0,98,116,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,68,97,116,97,0,90,78,75,50,50,98,116,66,118,104,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,49,57,112,114,111,99,101,115,115,65,108,108,84,114,105,97,110,103,108,101,115,69,80,49,56,98,116,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,69,50,49,77,121,78,111,100,101,79,118,101,114,108,97,112,67,97,108,108,98,97,99,107,0,90,78,50,50,98,116,66,118,104,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,49,52,112,101,114,102,111,114,109,82,97,121,99,97,115,116,69,80,49,56,98,116,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,69,50,49,77,121,78,111,100,101,79,118,101,114,108,97,112,67,97,108,108,98,97,99,107,0,90,78,50,50,98,116,66,118,104,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,49,55,112,101,114,102,111,114,109,67,111,110,118,101,120,99,97,115,116,69,80,49,56,98,116,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,83,52,95,83,52,95,69,50,49,77,121,78,111,100,101,79,118,101,114,108,97,112,67,97,108,108,98,97,99,107,0,49,52,98,116,67,97,112,115,117,108,101,83,104,97,112,101,0,67,97,112,115,117,108,101,83,104,97,112,101,0,98,116,67,97,112,115,117,108,101,83,104,97,112,101,68,97,116,97,0,49,53,98,116,67,97,112,115,117,108,101,83,104,97,112,101,88,0,67,97,112,115,117,108,101,88,0,49,53,98,116,67,97,112,115,117,108,101,83,104,97,112,101,90,0,67,97,112,115,117,108,101,90,0,49,54,98,116,67,111,108,108,105,115,105,111,110,83,104,97,112,101,0,98,116,67,111,108,108,105,115,105,111,110,83,104,97,112,101,68,97,116,97,0,49,53,98,116,67,111,109,112,111,117,110,100,83,104,97,112,101,0,67,111,109,112,111,117,110,100,0,98,116,67,111,109,112,111,117,110,100,83,104,97,112,101,67,104,105,108,100,68,97,116,97,0,98,116,67,111,109,112,111,117,110,100,83,104,97,112,101,68,97,116,97,0,49,52,98,116,67,111,110,99,97,118,101,83,104,97,112,101,0,49,49,98,116,67,111,110,101,83,104,97,112,101,0,67,111,110,101,0,98,116,67,111,110,101,83,104,97,112,101,68,97,116,97,0,49,50,98,116,67,111,110,101,83,104,97,112,101,90,0,67,111,110,101,90,0,49,50,98,116,67,111,110,101,83,104,97,112,101,88,0,67,111,110,101,88,0,49,55,98,116,67,111,110,118,101,120,72,117,108,108,83,104,97,112,101,0,67,111,110,118,101,120,0,98,116,67,111,110,118,101,120,72,117,108,108,83,104,97,112,101,68,97,116,97,0,50,49,98,116,67,111,110,118,101,120,73,110,116,101,114,110,97,108,83,104,97,112,101,0,49,56,98,116,67,111,110,118,101,120,80,111,108,121,104,101,100,114,111,110,0,49,51,98,116,67,111,110,118,101,120,83,104,97,112,101,0,50,53,98,116,67,111,110,118,101,120,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,0,67,111,110,118,101,120,84,114,105,109,101,115,104,0,50,54,76,111,99,97,108,83,117,112,112,111,114,116,86,101,114,116,101,120,67,97,108,108,98,97,99,107,0,49,53,98,116,67,121,108,105,110,100,101,114,83,104,97,112,101,0,67,121,108,105,110,100,101,114,89,0,98,116,67,121,108,105,110,100,101,114,83,104,97,112,101,68,97,116,97,0,49,54,98,116,67,121,108,105,110,100,101,114,83,104,97,112,101,88,0,67,121,108,105,110,100,101,114,88,0,49,54,98,116,67,121,108,105,110,100,101,114,83,104,97,112,101,90,0,67,121,108,105,110,100,101,114,90,0,49,52,98,116,79,112,116,105,109,105,122,101,100,66,118,104,0,90,78,49,52,98,116,79,112,116,105,109,105,122,101,100,66,118,104,53,98,117,105,108,100,69,80,50,51,98,116,83,116,114,105,100,105,110,103,77,101,115,104,73,110,116,101,114,102,97,99,101,98,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,69,50,57,81,117,97,110,116,105,122,101,100,78,111,100,101,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,0,90,78,49,52,98,116,79,112,116,105,109,105,122,101,100,66,118,104,53,98,117,105,108,100,69,80,50,51,98,116,83,116,114,105,100,105,110,103,77,101,115,104,73,110,116,101,114,102,97,99,101,98,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,69,50,48,78,111,100,101,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,0,50,51,98,116,80,111,108,121,104,101,100,114,97,108,67,111,110,118,101,120,83,104,97,112,101,0,51,52,98,116,80,111,108,121,104,101,100,114,97,108,67,111,110,118,101,120,65,97,98,98,67,97,99,104,105,110,103,83,104,97,112,101,0,49,51,98,116,83,112,104,101,114,101,83,104,97,112,101,0,83,80,72,69,82,69,0,49,56,98,116,83,116,97,116,105,99,80,108,97,110,101,83,104,97,112,101,0,83,84,65,84,73,67,80,76,65,78,69,0,98,116,83,116,97,116,105,99,80,108,97,110,101,83,104,97,112,101,68,97,116,97,0,50,51,98,116,83,116,114,105,100,105,110,103,77,101,115,104,73,110,116,101,114,102,97,99,101,0,98,116,73,110,116,73,110,100,101,120,68,97,116,97,0,98,116,83,104,111,114,116,73,110,116,73,110,100,101,120,84,114,105,112,108,101,116,68,97,116,97,0,98,116,67,104,97,114,73,110,100,101,120,84,114,105,112,108,101,116,68,97,116,97,0,98,116,86,101,99,116,111,114,51,68,111,117,98,108,101,68,97,116,97,0,98,116,77,101,115,104,80,97,114,116,68,97,116,97,0,98,116,83,116,114,105,100,105,110,103,77,101,115,104,73,110,116,101,114,102,97,99,101,68,97,116,97,0,49,56,98,116,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,0,51,49,98,116,73,110,116,101,114,110,97,108,84,114,105,97,110,103,108,101,73,110,100,101,120,67,97,108,108,98,97,99,107,0,50,54,98,116,84,114,105,97,110,103,108,101,73,110,100,101,120,86,101,114,116,101,120,65,114,114,97,121,0,49,52,98,116,84,114,105,97,110,103,108,101,77,101,115,104,0,49,57,98,116,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,0,84,82,73,65,78,71,76,69,77,69,83,72,0,90,78,75,49,57,98,116,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,49,57,112,114,111,99,101,115,115,65,108,108,84,114,105,97,110,103,108,101,115,69,80,49,56,98,116,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,69,49,54,70,105,108,116,101,114,101,100,67,97,108,108,98,97,99,107,0,50,49,83,117,112,112,111,114,116,86,101,114,116,101,120,67,97,108,108,98,97,99,107,0,50,55,98,116,67,111,110,116,105,110,117,111,117,115,67,111,110,118,101,120,67,111,108,108,105,115,105,111,110,0,49,54,98,116,80,111,105,110,116,67,111,108,108,101,99,116,111,114,0,49,50,98,116,67,111,110,118,101,120,67,97,115,116,0,49,53,98,116,71,106,107,67,111,110,118,101,120,67,97,115,116,0,51,48,98,116,71,106,107,69,112,97,80,101,110,101,116,114,97,116,105,111,110,68,101,112,116,104,83,111,108,118,101,114,0,51,48,98,116,67,111,110,118,101,120,80,101,110,101,116,114,97,116,105,111,110,68,101,112,116,104,83,111,108,118,101,114,0,49,55,98,116,71,106,107,80,97,105,114,68,101,116,101,99,116,111,114,0,51,51,98,116,77,105,110,107,111,119,115,107,105,80,101,110,101,116,114,97,116,105,111,110,68,101,112,116,104,83,111,108,118,101,114,0,90,78,51,51,98,116,77,105,110,107,111,119,115,107,105,80,101,110,101,116,114,97,116,105,111,110,68,101,112,116,104,83,111,108,118,101,114,49,50,99,97,108,99,80,101,110,68,101,112,116,104,69,82,50,50,98,116,86,111,114,111,110,111,105,83,105,109,112,108,101,120,83,111,108,118,101,114,80,75,49,51,98,116,67,111,110,118,101,120,83,104,97,112,101,83,52,95,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,55,95,82,57,98,116,86,101,99,116,111,114,51,83,57,95,83,57,95,80,49,50,98,116,73,68,101,98,117,103,68,114,97,119,69,50,48,98,116,73,110,116,101,114,109,101,100,105,97,116,101,82,101,115,117,108,116,0,50,53,98,116,84,114,105,97,110,103,108,101,82,97,121,99,97,115,116,67,97,108,108,98,97,99,107,0,50,56,98,116,84,114,105,97,110,103,108,101,67,111,110,118,101,120,99,97,115,116,67,97,108,108,98,97,99,107,0,50,50,98,116,83,117,98,115,105,109,112,108,101,120,67,111,110,118,101,120,67,97,115,116,0,51,48,98,116,75,105,110,101,109,97,116,105,99,67,104,97,114,97,99,116,101,114,67,111,110,116,114,111,108,108,101,114,0,51,48,98,116,67,104,97,114,97,99,116,101,114,67,111,110,116,114,111,108,108,101,114,73,110,116,101,114,102,97,99,101,0,49,55,98,116,65,99,116,105,111,110,73,110,116,101,114,102,97,99,101,0,52,51,98,116,75,105,110,101,109,97,116,105,99,67,108,111,115,101,115,116,78,111,116,77,101,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,0,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,55,67,108,111,115,101,115,116,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,0,50,49,98,116,67,111,110,101,84,119,105,115,116,67,111,110,115,116,114,97,105,110,116,0,49,55,98,116,84,121,112,101,100,67,111,110,115,116,114,97,105,110,116,0,49,51,98,116,84,121,112,101,100,79,98,106,101,99,116,0,98,116,67,111,110,101,84,119,105,115,116,67,111,110,115,116,114,97,105,110,116,68,97,116,97,0,98,116,71,101,110,101,114,105,99,54,68,111,102,83,112,114,105,110,103,50,67,111,110,115,116,114,97,105,110,116,68,97,116,97,0,50,51,98,116,71,101,110,101,114,105,99,54,68,111,102,67,111,110,115,116,114,97,105,110,116,0,98,116,71,101,110,101,114,105,99,54,68,111,102,67,111,110,115,116,114,97,105,110,116,68,97,116,97,0,51,48,98,116,71,101,110,101,114,105,99,54,68,111,102,83,112,114,105,110,103,50,67,111,110,115,116,114,97,105,110,116,0,50,57,98,116,71,101,110,101,114,105,99,54,68,111,102,83,112,114,105,110,103,67,111,110,115,116,114,97,105,110,116,0,98,116,71,101,110,101,114,105,99,54,68,111,102,83,112,114,105,110,103,67,111,110,115,116,114,97,105,110,116,68,97,116,97,0,49,55,98,116,72,105,110,103,101,67,111,110,115,116,114,97,105,110,116,0,98,116,72,105,110,103,101,67,111,110,115,116,114,97,105,110,116,70,108,111,97,116,68,97,116,97,0,50,51,98,116,80,111,105,110,116,50,80,111,105,110,116,67,111,110,115,116,114,97,105,110,116,0,98,116,80,111,105,110,116,50,80,111,105,110,116,67,111,110,115,116,114,97,105,110,116,70,108,111,97,116,68,97,116,97,0,51,53,98,116,83,101,113,117,101,110,116,105,97,108,73,109,112,117,108,115,101,67,111,110,115,116,114,97,105,110,116,83,111,108,118,101,114,0,49,56,98,116,67,111,110,115,116,114,97,105,110,116,83,111,108,118,101,114,0,115,111,108,118,101,71,114,111,117,112,0,115,111,108,118,101,71,114,111,117,112,67,97,99,104,101,70,114,105,101,110,100,108,121,83,101,116,117,112,0,115,111,108,118,101,71,114,111,117,112,67,97,99,104,101,70,114,105,101,110,100,108,121,73,116,101,114,97,116,105,111,110,115,0,49,56,98,116,83,108,105,100,101,114,67,111,110,115,116,114,97,105,110,116,0,98,116,83,108,105,100,101,114,67,111,110,115,116,114,97,105,110,116,68,97,116,97,0,98,116,84,121,112,101,100,67,111,110,115,116,114,97,105,110,116,70,108,111,97,116,68,97,116,97,0,50,51,98,116,68,105,115,99,114,101,116,101,68,121,110,97,109,105,99,115,87,111,114,108,100,0,49,53,98,116,68,121,110,97,109,105,99,115,87,111,114,108,100,0,100,101,98,117,103,68,114,97,119,87,111,114,108,100,0,98,116,68,121,110,97,109,105,99,115,87,111,114,108,100,70,108,111,97,116,68,97,116,97,0,115,116,101,112,83,105,109,117,108,97,116,105,111,110,0,115,121,110,99,104,114,111,110,105,122,101,77,111,116,105,111,110,83,116,97,116,101,115,0,112,114,101,100,105,99,116,85,110,99,111,110,115,116,114,97,105,110,116,77,111,116,105,111,110,0,105,110,116,101,103,114,97,116,101,84,114,97,110,115,102,111,114,109,115,0,67,67,68,32,109,111,116,105,111,110,32,99,108,97,109,112,105,110,103,0,51,52,98,116,67,108,111,115,101,115,116,78,111,116,77,101,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,0,97,112,112,108,121,32,115,112,101,99,117,108,97,116,105,118,101,32,99,111,110,116,97,99,116,32,114,101,115,116,105,116,117,116,105,111,110,0,117,112,100,97,116,101,65,99,116,105,118,97,116,105,111,110,83,116,97,116,101,0,105,110,116,101,114,110,97,108,83,105,110,103,108,101,83,116,101,112,83,105,109,117,108,97,116,105,111,110,0,99,114,101,97,116,101,80,114,101,100,105,99,116,105,118,101,67,111,110,116,97,99,116,115,0,114,101,108,101,97,115,101,32,112,114,101,100,105,99,116,105,118,101,32,99,111,110,116,97,99,116,32,109,97,110,105,102,111,108,100,115,0,112,114,101,100,105,99,116,105,118,101,32,99,111,110,118,101,120,83,119,101,101,112,84,101,115,116,0,117,112,100,97,116,101,65,99,116,105,111,110,115,0,50,55,73,110,112,108,97,99,101,83,111,108,118,101,114,73,115,108,97,110,100,67,97,108,108,98,97,99,107,0,78,50,53,98,116,83,105,109,117,108,97,116,105,111,110,73,115,108,97,110,100,77,97,110,97,103,101,114,49,52,73,115,108,97,110,100,67,97,108,108,98,97,99,107,69,0,49,49,98,116,82,105,103,105,100,66,111,100,121,0,98,116,82,105,103,105,100,66,111,100,121,70,108,111,97,116,68,97,116,97,0,99,97,108,99,117,108,97,116,101,83,105,109,117,108,97,116,105,111,110,73,115,108,97,110,100,115,0,115,111,108,118,101,67,111,110,115,116,114,97,105,110,116,115,0,49,54,98,116,82,97,121,99,97,115,116,86,101,104,105,99,108,101,0,50,53,98,116,68,101,102,97,117,108,116,86,101,104,105,99,108,101,82,97,121,99,97,115,116,101,114,0,49,56,98,116,86,101,104,105,99,108,101,82,97,121,99,97,115,116,101,114,0,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,52,67,108,111,115,101,115,116,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,0,98,116,86,101,99,116,111,114,51,70,108,111,97,116,68,97,116,97,0,82,111,111,116,0,50,57,67,111,110,99,114,101,116,101,67,111,110,116,97,99,116,82,101,115,117,108,116,67,97,108,108,98,97,99,107,0,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,49,67,111,110,116,97,99,116,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,67,111,110,99,114,101,116,101,67,111,110,116,97,99,116,82,101,115,117,108,116,67,97,108,108,98,97,99,107,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,97,100,100,83,105,110,103,108,101,82,101,115,117,108,116,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,67,111,110,99,114,101,116,101,67,111,110,116,97,99,116,82,101,115,117,108,116,67,97,108,108,98,97,99,107,58,58,97,100,100,83,105,110,103,108,101,82,101,115,117,108,116,46,39,59,32,114,101,116,117,114,110,32,115,101,108,102,91,39,97,100,100,83,105,110,103,108,101,82,101,115,117,108,116,39,93,40,36,49,44,36,50,44,36,51,44,36,52,44,36,53,44,36,54,44,36,55,41,59,32,125,0,50,48,98,116,68,101,102,97,117,108,116,77,111,116,105,111,110,83,116,97,116,101,0,49,51,98,116,77,111,116,105,111,110,83,116,97,116,101,0,49,57,98,116,71,104,111,115,116,80,97,105,114,67,97,108,108,98,97,99,107,0,17,0,10,0,17,17,17,0,0,0,0,5,0,0,0,0,0,0,9,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,15,10,17,17,17,3,10,7,0,1,19,9,11,11,0,0,9,6,11,0,0,11,0,6,17,0,0,0,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,10,10,17,17,17,0,10,0,0,2,0,9,11,0,0,0,9,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,13,0,0,0,0,9,14,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,15,0,0,0,0,9,16,0,0,0,0,0,16,0,0,16,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,10,0,0,0,0,9,11,0,0,0,0,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,45,43,32,32,32,48,88,48,120,0,84,33,34,25,13,1,2,3,17,75,28,12,16,4,11,29,18,30,39,104,110,111,112,113,98,32,5,6,15,19,20,21,26,8,22,7,40,36,23,24,9,10,14,27,31,37,35,131,130,125,38,42,43,60,61,62,63,67,71,74,77,88,89,90,91,92,93,94,95,96,97,99,100,101,102,103,105,106,107,108,114,115,116,121,122,123,124,0,73,108,108,101,103,97,108,32,98,121,116,101,32,115,101,113,117,101,110,99,101,0,68,111,109,97,105,110,32,101,114,114,111,114,0,82,101,115,117,108,116,32,110,111,116,32,114,101,112,114,101,115,101,110,116,97,98,108,101,0,78,111,116,32,97,32,116,116,121,0,80,101,114,109,105,115,115,105,111,110,32,100,101,110,105,101,100,0,79,112,101,114,97,116,105,111,110,32,110,111,116,32,112,101,114,109,105,116,116,101,100,0,78,111,32,115,117,99,104,32,102,105,108,101,32,111,114,32,100,105,114,101,99,116,111,114,121,0,78,111,32,115,117,99,104,32,112,114,111,99,101,115,115,0,70,105,108,101,32,101,120,105,115,116,115,0,86,97,108,117,101,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,100,97,116,97,32,116,121,112,101,0,78,111,32,115,112,97,99,101,32,108,101,102,116,32,111,110,32,100,101,118,105,99,101,0,79,117,116,32,111,102,32,109,101,109,111,114,121,0,82,101,115,111,117,114,99,101,32,98,117,115,121,0,73,110,116,101,114,114,117,112,116,101,100,32,115,121,115,116,101,109,32,99,97,108,108,0,82,101,115,111,117,114,99,101,32,116,101,109,112,111,114,97,114,105,108,121,32,117,110,97,118,97,105,108,97,98,108,101,0,73,110,118,97,108,105,100,32,115,101,101,107,0,67,114,111,115,115,45,100,101,118,105,99,101,32,108,105,110,107,0,82,101,97,100,45,111,110,108,121,32,102,105,108,101,32,115,121,115,116,101,109,0,68,105,114,101,99,116,111,114,121,32,110,111,116,32,101,109,112,116,121,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,112,101,101,114,0,79,112,101,114,97,116,105,111,110,32,116,105,109,101,100,32,111,117,116,0,67,111,110,110,101,99,116,105,111,110,32,114,101,102,117,115,101,100,0,72,111,115,116,32,105,115,32,100,111,119,110,0,72,111,115,116,32,105,115,32,117,110,114,101,97,99,104,97,98,108,101,0,65,100,100,114,101,115,115,32,105,110,32,117,115,101,0,66,114,111,107,101,110,32,112,105,112,101,0,73,47,79,32,101,114,114,111,114,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,32,111,114,32,97,100,100,114,101,115,115,0,66,108,111,99,107,32,100,101,118,105,99,101,32,114,101,113,117,105,114,101,100,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,0,78,111,116,32,97,32,100,105,114,101,99,116,111,114,121,0,73,115,32,97,32,100,105,114,101,99,116,111,114,121,0,84,101,120,116,32,102,105,108,101,32,98,117,115,121,0,69,120,101,99,32,102,111,114,109,97,116,32,101,114,114,111,114,0,73,110,118,97,108,105,100,32,97,114,103,117,109,101,110,116,0,65,114,103,117,109,101,110,116,32,108,105,115,116,32,116,111,111,32,108,111,110,103,0,83,121,109,98,111,108,105,99,32,108,105,110,107,32,108,111,111,112,0,70,105,108,101,110,97,109,101,32,116,111,111,32,108,111,110,103,0,84,111,111,32,109,97,110,121,32,111,112,101,110,32,102,105,108,101,115,32,105,110,32,115,121,115,116,101,109,0,78,111,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,115,32,97,118,97,105,108,97,98,108,101,0,66,97,100,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,0,78,111,32,99,104,105,108,100,32,112,114,111,99,101,115,115,0,66,97,100,32,97,100,100,114,101,115,115,0,70,105,108,101,32,116,111,111,32,108,97,114,103,101,0,84,111,111,32,109,97,110,121,32,108,105,110,107,115,0,78,111,32,108,111,99,107,115,32,97,118,97,105,108,97,98,108,101,0,82,101,115,111,117,114,99,101,32,100,101,97,100,108,111,99,107,32,119,111,117,108,100,32,111,99,99,117,114,0,83,116,97,116,101,32,110,111,116,32,114,101,99,111,118,101,114,97,98,108,101,0,80,114,101,118,105,111,117,115,32,111,119,110,101,114,32,100,105,101,100,0,79,112,101,114,97,116,105,111,110,32,99,97,110,99,101,108,101,100,0,70,117,110,99,116,105,111,110,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,0,78,111,32,109,101,115,115,97,103,101,32,111,102,32,100,101,115,105,114,101,100,32,116,121,112,101,0,73,100,101,110,116,105,102,105,101,114,32,114,101,109,111,118,101,100,0,68,101,118,105,99,101,32,110,111,116,32,97,32,115,116,114,101,97,109,0,78,111,32,100,97,116,97,32,97,118,97,105,108,97,98,108,101,0,68,101,118,105,99,101,32,116,105,109,101,111,117,116,0,79,117,116,32,111,102,32,115,116,114,101,97,109,115,32,114,101,115,111,117,114,99,101,115,0,76,105,110,107,32,104,97,115,32,98,101,101,110,32,115,101,118,101,114,101,100,0,80,114,111,116,111,99,111,108,32,101,114,114,111,114,0,66,97,100,32,109,101,115,115,97,103,101,0,70,105,108,101,32,100,101,115,99,114,105,112,116,111,114,32,105,110,32,98,97,100,32,115,116,97,116,101,0,78,111,116,32,97,32,115,111,99,107,101,116,0,68,101,115,116,105,110,97,116,105,111,110,32,97,100,100,114,101,115,115,32,114,101,113,117,105,114,101,100,0,77,101,115,115,97,103,101,32,116,111,111,32,108,97,114,103,101,0,80,114,111,116,111,99,111,108,32,119,114,111,110,103,32,116,121,112,101,32,102,111,114,32,115,111,99,107,101,116,0,80,114,111,116,111,99,111,108,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,80,114,111,116,111,99,111,108,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,83,111,99,107,101,116,32,116,121,112,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,78,111,116,32,115,117,112,112,111,114,116,101,100,0,80,114,111,116,111,99,111,108,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,65,100,100,114,101,115,115,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,98,121,32,112,114,111,116,111,99,111,108,0,65,100,100,114,101,115,115,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,78,101,116,119,111,114,107,32,105,115,32,100,111,119,110,0,78,101,116,119,111,114,107,32,117,110,114,101,97,99,104,97,98,108,101,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,110,101,116,119,111,114,107,0,67,111,110,110,101,99,116,105,111,110,32,97,98,111,114,116,101,100,0,78,111,32,98,117,102,102,101,114,32,115,112,97,99,101,32,97,118,97,105,108,97,98,108,101,0,83,111,99,107,101,116,32,105,115,32,99,111,110,110,101,99,116,101,100,0,83,111,99,107,101,116,32,110,111,116,32,99,111,110,110,101,99,116,101,100,0,67,97,110,110,111,116,32,115,101,110,100,32,97,102,116,101,114,32,115,111,99,107,101,116,32,115,104,117,116,100,111,119,110,0,79,112,101,114,97,116,105,111,110,32,97,108,114,101,97,100,121,32,105,110,32,112,114,111,103,114,101,115,115,0,79,112,101,114,97,116,105,111,110,32,105,110,32,112,114,111,103,114,101,115,115,0,83,116,97,108,101,32,102,105,108,101,32,104,97,110,100,108,101,0,82,101,109,111,116,101,32,73,47,79,32,101,114,114,111,114,0,81,117,111,116,97,32,101,120,99,101,101,100,101,100,0,78,111,32,109,101,100,105,117,109,32,102,111,117,110,100,0,87,114,111,110,103,32,109,101,100,105,117,109,32,116,121,112,101,0,78,111,32,101,114,114,111,114,32,105,110,102,111,114,109,97,116,105,111,110,0,0,40,110,117,108,108,41,0,45,48,88,43,48,88,32,48,88,45,48,120,43,48,120,32,48,120,0,105,110,102,0,73,78,70,0,110,97,110,0,78,65,78,0,46,0,99,97,110,110,111,116,32,122,101,114,111,32,111,117,116,32,116,104,114,101,97,100,32,118,97,108,117,101,32,102,111,114,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,40,41,0,99,97,110,110,111,116,32,99,114,101,97,116,101,32,112,116,104,114,101,97,100,32,107,101,121,32,102,111,114,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,40,41,0,112,116,104,114,101,97,100,95,111,110,99,101,32,102,97,105,108,117,114,101,32,105,110,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,95,102,97,115,116,40,41,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,48,95,95,115,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,54,95,95,115,104,105,109,95,116,121,112,101,95,105,110,102,111,69,0,83,116,57,116,121,112,101,95,105,110,102,111,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,83,116,57,101,120,99,101,112,116,105,111,110,0,117,110,99,97,117,103,104,116,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,101,120,99,101,112,116,105,111,110,32,111,102,32,116,121,112,101,32,37,115,58,32,37,115,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,101,120,99,101,112,116,105,111,110,32,111,102,32,116,121,112,101,32,37,115,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,102,111,114,101,105,103,110,32,101,120,99,101,112,116,105,111,110,0,116,101,114,109,105,110,97,116,105,110,103,0,116,101,114,109,105,110,97,116,101,95,104,97,110,100,108,101,114,32,117,110,101,120,112,101,99,116,101,100,108,121,32,114,101,116,117,114,110,101,100,0,83,116,57,98,97,100,95,97,108,108,111,99,0,115,116,100,58,58,98,97,100,95,97,108,108,111,99,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,57,95,95,112,111,105,110,116,101,114,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,112,98,97,115,101,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,49,95,95,118,109,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0],"i8",U,m.GLOBAL_BASE+10240);var Yt=it;function Zt(){return!!Zt.uncaught_exception}it+=16,o._i64Subtract=Ba,o._i64Add=yp;var Jt={last:0,caught:[],infos:{},deAdjust:function(t){if(!t||Jt.infos[t])return t;for(var e in Jt.infos)if(Jt.infos[e].adjusted===t)return e;return t},addRef:function(t){t&&Jt.infos[t].refcount++},decRef:function(t){if(t){var e=Jt.infos[t];w(e.refcount>0),e.refcount--,0===e.refcount&&(e.destructor&&m.dynCall("vi",e.destructor,[t]),delete Jt.infos[t],___cxa_free_exception(t))}},clearRef:function(t){t&&(Jt.infos[t].refcount=0)}};function Kt(t){throw Jt.last||(Jt.last=t),Jt.clearRef(Jt.deAdjust(t)),t+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function $t(){var t=Jt.last;if(!t)return 0|(dn.setTempRet0(0),0);var e=Jt.infos[t],n=e.type;if(!n)return 0|(dn.setTempRet0(0),t);var i=Array.prototype.slice.call(arguments);o.___cxa_is_pointer_type(n),$t.buffer||($t.buffer=ue(4)),P[$t.buffer>>2]=t,t=$t.buffer;for(var r=0;r<i.length;r++)if(i[r]&&o.___cxa_can_catch(i[r],n,t))return t=P[t>>2],e.adjusted=t,0|(dn.setTempRet0(i[r]),t);return t=P[t>>2],0|(dn.setTempRet0(n),t)}function Qt(t,e,n){throw Jt.infos[t]={ptr:t,adjusted:t,type:e,destructor:n,refcount:0},Jt.last=t,"uncaught_exception"in Zt?Zt.uncaught_exception++:Zt.uncaught_exception=1,t+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function te(){}function ee(){o.abort()}function ne(t,e){ne.seen||(ne.seen={}),t in ne.seen||(m.dynCall("v",e),ne.seen[t]=1)}o._memset=jd,o._bitshift64Shl=mc;var ie={};function re(t){return ie[t]||0}var oe=1,se={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};function ae(t,e){return 0==t?se.EINVAL:(P[t>>2]=oe,ie[oe]=0,oe++,0)}var ce=jt;function le(t,e){return t in ie?(ie[t]=e,0):se.EINVAL}function ue(t){return m.dynamicAlloc(t+8)+8&4294967288}function he(t){return ue(t)}function pe(){throw x=!0,"Pure virtual function called!"}function fe(t,e){bt.push((function(){m.dynCall("vi",t,[e])})),fe.level=bt.length}function de(){w(fe.level==bt.length,"cannot pop if something else added meanwhile!"),bt.pop(),fe.level=bt.length}function _e(t){return Zt.uncaught_exception--,Jt.caught.push(t),Jt.addRef(Jt.deAdjust(t)),t}function me(t,e,n){return E.set(E.subarray(e,e+n),t),t}o._malloc=ue,o._bitshift64Ashr=vl,o._bitshift64Lshr=tf,o._memcpy=mf;var ge={varargs:0,get:function(t){return ge.varargs+=4,P[ge.varargs-4>>2]},getStr:function(){return V(ge.get())},get64:function(){var t=ge.get(),e=ge.get();return w(t>=0?0===e:-1===e),t},getZero:function(){w(0===ge.get())}};function be(t,e){ge.varargs=e;try{var n=ge.getStreamFromFD();return FS.close(n),0}catch(t){return"undefined"!=typeof FS&&t instanceof FS.ErrnoError||gm(t),-t.errno}}function ve(t){var e=ve;e.called||(ct=et(ct),e.called=!0,w(m.dynamicAlloc),e.alloc=m.dynamicAlloc,m.dynamicAlloc=function(){gm("cannot dynamically allocate, sbrk now has control")});var n=ct;return 0==t||e.alloc(t)?n:-1>>>0}function ye(t){var e=Date.now();return P[t>>2]=e/1e3|0,P[t+4>>2]=e%1e3*1e3|0,0}function xe(){gm("trap!")}function we(t,e){ge.varargs=e;try{var n=ge.getStreamFromFD(),i=ge.get(),r=ge.get(),o=ge.get(),s=ge.get(),a=r;return w(0===i),FS.llseek(n,a,s),P[o>>2]=n.position,n.getdents&&0===a&&0===s&&(n.getdents=null),0}catch(t){return"undefined"!=typeof FS&&t instanceof FS.ErrnoError||gm(t),-t.errno}}function Se(t,e){ge.varargs=e;try{var n=ge.get(),i=ge.get(),r=ge.get(),s=0;Se.buffer||(Se.buffers=[null,[],[]],Se.printChar=function(t,e){var n=Se.buffers[t];w(n),0===e||10===e?((1===t?o.print:o.printErr)(X(n,0)),n.length=0):n.push(e)});for(var a=0;a<r;a++){for(var c=P[i+8*a>>2],l=P[i+(8*a+4)>>2],u=0;u<l;u++)Se.printChar(n,E[c+u]);s+=l}return s}catch(t){return"undefined"!=typeof FS&&t instanceof FS.ErrnoError||gm(t),-t.errno}}o._memmove=qc,o._llvm_bswap_i32=yd,o._pthread_self=ao,bt.push((function(){var t=o._fflush;t&&t(0);var e=Se.printChar;if(e){var n=Se.buffers;n[1].length&&e(1,10),n[2].length&&e(2,10)}})),ot=st=m.alignMemory(it),rt=!0,at=ot+ht,ct=m.alignMemory(at);var Me=z([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",j);function Ce(t,e,n,i,r,s){try{o.dynCall_viiiii(t,e,n,i,r,s)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function Te(t,e,n){try{o.dynCall_vid(t,e,n)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function Ae(t,e){try{o.dynCall_vi(t,e)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function Le(t,e,n,i,r,s,a){try{o.dynCall_viiidii(t,e,n,i,r,s,a)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function Ee(t,e,n){try{o.dynCall_vii(t,e,n)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function Re(t,e,n,i,r,s,a,c,l,u,h){try{return o.dynCall_iiiiiiiiiii(t,e,n,i,r,s,a,c,l,u,h)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function Ie(t,e){try{return o.dynCall_ii(t,e)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function Pe(t,e,n,i,r){try{o.dynCall_viidi(t,e,n,i,r)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function De(t,e,n,i,r,s,a){try{o.dynCall_viddiii(t,e,n,i,r,s,a)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function ke(t,e,n,i,r){try{o.dynCall_vidii(t,e,n,i,r)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function Oe(t,e,n,i,r){try{return o.dynCall_iiiii(t,e,n,i,r)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function Ne(t,e,n,i){try{o.dynCall_vidi(t,e,n,i)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function Fe(t,e,n,i,r,s,a,c,l){try{return o.dynCall_diiiiiiii(t,e,n,i,r,s,a,c,l)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function Be(t,e,n,i,r,s,a,c,l,u,h,p){try{o.dynCall_viiiiddddiid(t,e,n,i,r,s,a,c,l,u,h,p)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function je(t,e,n,i,r,s){try{return o.dynCall_diiiii(t,e,n,i,r,s)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function Ue(t,e,n,i){try{return o.dynCall_iiii(t,e,n,i)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function ze(t,e,n,i,r,s,a){try{o.dynCall_viiiiii(t,e,n,i,r,s,a)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function Ge(t,e,n,i){try{return o.dynCall_iiid(t,e,n,i)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function Ve(t,e){try{return o.dynCall_di(t,e)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function We(t,e,n,i,r,s,a){try{return o.dynCall_iiiiiii(t,e,n,i,r,s,a)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function He(t,e,n,i,r,s,a){try{return o.dynCall_diiidii(t,e,n,i,r,s,a)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function Xe(t,e,n,i,r,s){try{o.dynCall_viidii(t,e,n,i,r,s)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function qe(t,e,n,i,r,s,a,c){try{o.dynCall_viiiiiii(t,e,n,i,r,s,a,c)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function Ye(t,e,n,i,r,s,a,c,l,u){try{o.dynCall_viiiiiiiii(t,e,n,i,r,s,a,c,l,u)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function Ze(t,e,n,i,r,s,a,c,l,u,h){try{o.dynCall_viiiiiiiiii(t,e,n,i,r,s,a,c,l,u,h)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function Je(t,e,n){try{return o.dynCall_iii(t,e,n)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function Ke(t,e,n,i){try{return o.dynCall_diii(t,e,n,i)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function $e(t,e,n,i,r,s,a,c,l,u,h){try{return o.dynCall_diiiiiiiiii(t,e,n,i,r,s,a,c,l,u,h)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function Qe(t,e,n,i,r,s){try{o.dynCall_viiiid(t,e,n,i,r,s)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function tn(t,e,n,i,r,s,a,c,l,u){try{return o.dynCall_diiiiiiiii(t,e,n,i,r,s,a,c,l,u)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function en(t,e,n){try{return o.dynCall_did(t,e,n)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function nn(t,e,n,i,r,s,a,c,l,u,h,p,f){try{o.dynCall_viiiidddddidi(t,e,n,i,r,s,a,c,l,u,h,p,f)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function rn(t,e,n,i,r,s){try{return o.dynCall_diidii(t,e,n,i,r,s)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function on(t,e,n,i,r){try{return o.dynCall_diiii(t,e,n,i,r)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function sn(t,e,n,i,r,s,a,c,l,u){try{return o.dynCall_iiiiiiiiii(t,e,n,i,r,s,a,c,l,u)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function an(t,e,n,i,r){try{o.dynCall_viiid(t,e,n,i,r)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function cn(t,e,n,i){try{o.dynCall_viii(t,e,n,i)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function ln(t){try{o.dynCall_v(t)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function un(t,e,n,i){try{o.dynCall_viid(t,e,n,i)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function hn(t,e,n,i,r){try{return o.dynCall_iidid(t,e,n,i,r)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}function pn(t,e,n,i,r){try{o.dynCall_viiii(t,e,n,i,r)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;dn.setThrew(1,0)}}o.asmGlobalArg={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:Infinity},o.asmLibraryArg={abort:gm,assert:w,invoke_viiiii:Ce,invoke_vid:Te,invoke_vi:Ae,invoke_viiidii:Le,invoke_vii:Ee,invoke_iiiiiiiiiii:Re,invoke_ii:Ie,invoke_viidi:Pe,invoke_viddiii:De,invoke_vidii:ke,invoke_iiiii:Oe,invoke_vidi:Ne,invoke_diiiiiiii:Fe,invoke_viiiiddddiid:Be,invoke_diiiii:je,invoke_iiii:Ue,invoke_viiiiii:ze,invoke_iiid:Ge,invoke_di:Ve,invoke_iiiiiii:We,invoke_diiidii:He,invoke_viidii:Xe,invoke_viiiiiii:qe,invoke_viiiiiiiii:Ye,invoke_viiiiiiiiii:Ze,invoke_iii:Je,invoke_diii:Ke,invoke_diiiiiiiiii:$e,invoke_viiiid:Qe,invoke_diiiiiiiii:tn,invoke_did:en,invoke_viiiidddddidi:nn,invoke_diidii:rn,invoke_diiii:on,invoke_iiiiiiiiii:sn,invoke_viiid:an,invoke_viii:cn,invoke_v:ln,invoke_viid:un,invoke_iidid:hn,invoke_viiii:pn,_pthread_cleanup_pop:de,_abort:ee,___gxx_personality_v0:te,___cxa_allocate_exception:he,__ZSt18uncaught_exceptionv:Zt,_sbrk:ve,_llvm_pow_f32:ce,___cxa_begin_catch:_e,_emscripten_memcpy_big:me,___resumeException:Kt,___cxa_find_matching_catch:$t,_pthread_getspecific:re,_pthread_once:ne,_llvm_trap:xe,_pthread_key_create:ae,_emscripten_asm_const_diiiiiiii:qt,_pthread_setspecific:le,___cxa_throw:Qt,___syscall6:be,_pthread_cleanup_push:fe,_gettimeofday:ye,___syscall140:we,___cxa_pure_virtual:pe,___syscall146:Se,STACKTOP:st,STACK_MAX:at,tempDoublePtr:Yt,ABORT:x,cttz_i8:Me};var fn,dn=function(t,e,n){"use asm";var i=new t.Int8Array(n);var r=new t.Int16Array(n);var o=new t.Int32Array(n);var s=new t.Uint8Array(n);var a=new t.Uint16Array(n);var c=new t.Uint32Array(n);var l=new t.Float32Array(n);var u=new t.Float64Array(n);var h=e.STACKTOP|0;var p=e.STACK_MAX|0;var f=e.tempDoublePtr|0;var d=e.ABORT|0;var _=e.cttz_i8|0;var m=0;var g=0;var b=0;var v=0;var y=t.NaN,x=t.Infinity;var w=0,S=0,M=0,C=0,T=0.0,A=0,L=0,E=0,R=0.0;var I=0;var P=0;var D=0;var k=0;var O=0;var N=0;var F=0;var B=0;var j=0;var U=0;var z=t.Math.floor;var G=t.Math.abs;var V=t.Math.sqrt;var W=t.Math.pow;var H=t.Math.cos;var X=t.Math.sin;var q=t.Math.tan;var Y=t.Math.acos;var Z=t.Math.asin;var J=t.Math.atan;var K=t.Math.atan2;var $=t.Math.exp;var Q=t.Math.log;var tt=t.Math.ceil;var et=t.Math.imul;var nt=t.Math.min;var it=t.Math.clz32;var rt=e.abort;var ot=e.assert;var st=e.invoke_viiiii;var at=e.invoke_vid;var ct=e.invoke_vi;var lt=e.invoke_viiidii;var ut=e.invoke_vii;var ht=e.invoke_iiiiiiiiiii;var pt=e.invoke_ii;var ft=e.invoke_viidi;var dt=e.invoke_viddiii;var _t=e.invoke_vidii;var mt=e.invoke_iiiii;var gt=e.invoke_vidi;var bt=e.invoke_diiiiiiii;var vt=e.invoke_viiiiddddiid;var yt=e.invoke_diiiii;var xt=e.invoke_iiii;var wt=e.invoke_viiiiii;var St=e.invoke_iiid;var Mt=e.invoke_di;var Ct=e.invoke_iiiiiii;var Tt=e.invoke_diiidii;var At=e.invoke_viidii;var Lt=e.invoke_viiiiiii;var Et=e.invoke_viiiiiiiii;var Rt=e.invoke_viiiiiiiiii;var It=e.invoke_iii;var Pt=e.invoke_diii;var Dt=e.invoke_diiiiiiiiii;var kt=e.invoke_viiiid;var Ot=e.invoke_diiiiiiiii;var Nt=e.invoke_did;var Ft=e.invoke_viiiidddddidi;var Bt=e.invoke_diidii;var jt=e.invoke_diiii;var Ut=e.invoke_iiiiiiiiii;var zt=e.invoke_viiid;var Gt=e.invoke_viii;var Vt=e.invoke_v;var Wt=e.invoke_viid;var Ht=e.invoke_iidid;var Xt=e.invoke_viiii;var qt=e._pthread_cleanup_pop;var Yt=e._abort;var Zt=e.___gxx_personality_v0;var Jt=e.___cxa_allocate_exception;var Kt=e.__ZSt18uncaught_exceptionv;var $t=e._sbrk;var Qt=e._llvm_pow_f32;var te=e.___cxa_begin_catch;var ee=e._emscripten_memcpy_big;var ne=e.___resumeException;var ie=e.___cxa_find_matching_catch;var re=e._pthread_getspecific;var oe=e._pthread_once;var se=e._llvm_trap;var ae=e._pthread_key_create;var ce=e._emscripten_asm_const_diiiiiiii;var le=e._pthread_setspecific;var ue=e.___cxa_throw;var he=e.___syscall6;var pe=e._pthread_cleanup_push;var fe=e._gettimeofday;var de=e.___syscall140;var _e=e.___cxa_pure_virtual;var me=e.___syscall146;var ge=0.0;function be(t,e,n){t=t|0;e=e|0;n=n|0;var r=0,s=0,a=0,c=0,u=0,p=0,f=0,d=0,_=0,m=0,g=0,b=0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0,D=0.0,k=0.0,O=0.0,N=0.0,F=0.0,B=0.0,j=0.0,U=0.0,z=0.0;b=h;h=h+16|0;o[5637]=(o[5637]|0)+1;r=Jc(1479)|0;if(!r)g=0;else{o[(r+4+15&-16)+-4>>2]=r;g=r+4+15&-16}if(!(i[19880]|0)){i[19880]=1;o[b>>2]=0;o[b+4>>2]=0;o[b+8>>2]=0;o[b+12>>2]=0;zv(21260,0.0,0,0,b)}o[5366]=o[5366]|1;l[5407]=0.0;v=+l[5417]*0.0;y=+l[5418]*0.0;l[5412]=+l[5416]*0.0;l[5413]=v;l[5414]=y;l[5415]=0.0;o[5420]=0;o[5421]=0;o[5422]=0;o[5423]=0;y=+l[5409]*0.0;v=+l[5410]*0.0;l[5461]=+l[5408]*0.0;l[5462]=y;l[5463]=v;l[5464]=0.0;o[g+4>>2]=12;o[g+8>>2]=-1;o[g+12>>2]=-1;l[g+16>>2]=3402823466385288598117041.0e14;i[g+20>>0]=1;i[g+21>>0]=0;o[g+24>>2]=-1;u=g+28|0;o[u>>2]=21260;p=g+32|0;o[p>>2]=t;l[g+36>>2]=0.0;l[g+40>>2]=.30000001192092896;o[g+44>>2]=0;o[g>>2]=7300;f=g+112|0;o[f>>2]=o[e>>2];o[f+4>>2]=o[e+4>>2];o[f+8>>2]=o[e+8>>2];o[f+12>>2]=o[e+12>>2];d=g+128|0;o[d>>2]=o[e+16>>2];o[d+4>>2]=o[e+16+4>>2];o[d+8>>2]=o[e+16+8>>2];o[d+12>>2]=o[e+16+12>>2];_=g+144|0;o[_>>2]=o[e+32>>2];o[_+4>>2]=o[e+32+4>>2];o[_+8>>2]=o[e+32+8>>2];o[_+12>>2]=o[e+32+12>>2];m=g+160|0;o[m>>2]=o[e+48>>2];o[m+4>>2]=o[e+48+4>>2];o[m+8>>2]=o[e+48+8>>2];o[m+12>>2]=o[e+48+12>>2];r=g+728|0;e=g+760|0;s=g+908|0;a=g+680|0;c=a+48|0;do{o[a>>2]=0;a=a+4|0}while((a|0)<(c|0));o[r>>2]=1045220557;o[g+732>>2]=1045220557;o[g+736>>2]=1045220557;a=g+740|0;o[a>>2]=0;o[a+4>>2]=0;o[a+8>>2]=0;o[a+12>>2]=0;o[a+16>>2]=0;o[e>>2]=1063675494;o[g+764>>2]=1063675494;o[g+768>>2]=1063675494;a=g+772|0;l[g+804>>2]=0.0;l[g+820>>2]=0.0;i[g+836>>0]=0;l[g+840>>2]=0.0;i[g+856>>0]=0;l[g+860>>2]=0.0;l[g+876>>2]=0.0;l[g+892>>2]=0.0;l[g+808>>2]=0.0;l[g+824>>2]=0.0;i[g+837>>0]=0;l[g+844>>2]=0.0;i[g+857>>0]=0;l[g+864>>2]=0.0;l[g+880>>2]=0.0;l[g+896>>2]=0.0;l[g+812>>2]=0.0;l[g+828>>2]=0.0;i[g+838>>0]=0;l[g+848>>2]=0.0;i[g+858>>0]=0;l[g+868>>2]=0.0;l[g+884>>2]=0.0;l[g+900>>2]=0.0;o[a>>2]=0;o[a+4>>2]=0;o[a+8>>2]=0;o[a+12>>2]=0;o[a+16>>2]=0;o[a+20>>2]=0;o[a+24>>2]=0;i[a+28>>0]=0;a=s;c=a+60|0;do{o[a>>2]=0;a=a+4|0}while((a|0)<(c|0));l[g+968>>2]=1.0;l[g+972>>2]=-1.0;l[g+976>>2]=0.0;l[g+980>>2]=.20000000298023224;l[g+984>>2]=0.0;l[g+988>>2]=.8999999761581421;l[g+992>>2]=0.0;i[g+996>>0]=0;l[g+1e3>>2]=0.0;l[g+1004>>2]=.10000000149011612;i[g+1008>>0]=0;l[g+1012>>2]=0.0;i[g+1016>>0]=0;l[g+1020>>2]=0.0;i[g+1024>>0]=0;l[g+1028>>2]=0.0;i[g+1032>>0]=0;c=g+1036|0;o[c>>2]=0;o[c+4>>2]=0;o[c+8>>2]=0;o[c+12>>2]=0;o[c+16>>2]=0;l[g+1056>>2]=1.0;l[g+1060>>2]=-1.0;l[g+1064>>2]=0.0;l[g+1068>>2]=.20000000298023224;l[g+1072>>2]=0.0;l[g+1076>>2]=.8999999761581421;l[g+1080>>2]=0.0;i[g+1084>>0]=0;l[g+1088>>2]=0.0;l[g+1092>>2]=.10000000149011612;i[g+1096>>0]=0;l[g+1100>>2]=0.0;i[g+1104>>0]=0;l[g+1108>>2]=0.0;i[g+1112>>0]=0;l[g+1116>>2]=0.0;i[g+1120>>0]=0;c=g+1124|0;o[c>>2]=0;o[c+4>>2]=0;o[c+8>>2]=0;o[c+12>>2]=0;o[c+16>>2]=0;l[g+1144>>2]=1.0;l[g+1148>>2]=-1.0;l[g+1152>>2]=0.0;l[g+1156>>2]=.20000000298023224;l[g+1160>>2]=0.0;l[g+1164>>2]=.8999999761581421;l[g+1168>>2]=0.0;i[g+1172>>0]=0;l[g+1176>>2]=0.0;l[g+1180>>2]=.10000000149011612;i[g+1184>>0]=0;l[g+1188>>2]=0.0;i[g+1192>>0]=0;l[g+1196>>2]=0.0;i[g+1200>>0]=0;l[g+1204>>2]=0.0;i[g+1208>>0]=0;c=g+1212|0;o[c>>2]=0;o[c+4>>2]=0;o[c+8>>2]=0;o[c+12>>2]=0;o[c+16>>2]=0;o[g+1232>>2]=n;o[g+1456>>2]=0;D=+l[f>>2];j=+l[t+4>>2];P=+l[d>>2];B=+l[t+8>>2];I=+l[_>>2];F=+l[t+12>>2];R=+l[g+116>>2];E=+l[g+132>>2];L=+l[g+148>>2];A=+l[g+120>>2];C=+l[g+136>>2];S=+l[g+152>>2];N=+l[t+20>>2];O=+l[t+24>>2];k=+l[t+28>>2];T=+l[t+36>>2];M=+l[t+40>>2];w=+l[t+44>>2];z=+l[m>>2];U=+l[g+164>>2];y=+l[g+168>>2];x=+l[t+52>>2]+(j*z+B*U+F*y);v=N*z+O*U+k*y+ +l[t+56>>2];y=T*z+M*U+w*y+ +l[t+60>>2];l[g+48>>2]=D*j+P*B+I*F;l[g+52>>2]=j*R+B*E+F*L;l[g+56>>2]=j*A+B*C+F*S;l[g+60>>2]=0.0;l[g+64>>2]=D*N+P*O+I*k;l[g+68>>2]=R*N+E*O+L*k;l[g+72>>2]=A*N+C*O+S*k;l[g+76>>2]=0.0;l[g+80>>2]=D*T+P*M+I*w;l[g+84>>2]=R*T+E*M+L*w;l[g+88>>2]=A*T+C*M+S*w;l[g+92>>2]=0.0;l[g+96>>2]=x;l[g+100>>2]=v;l[g+104>>2]=y;l[g+108>>2]=0.0;uL(g,(o[u>>2]|0)+4|0,(o[p>>2]|0)+4|0);h=b;return g|0}function ve(t,e,n,r,s){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;var a=0,c=0,u=0,h=0;o[5637]=(o[5637]|0)+1;a=Jc(1479)|0;if(!a)h=0;else{o[(a+4+15&-16)+-4>>2]=a;h=a+4+15&-16}o[h+4>>2]=12;o[h+8>>2]=-1;o[h+12>>2]=-1;l[h+16>>2]=3402823466385288598117041.0e14;i[h+20>>0]=1;i[h+21>>0]=0;o[h+24>>2]=-1;u=h+28|0;o[u>>2]=t;c=h+32|0;o[c>>2]=e;l[h+36>>2]=0.0;l[h+40>>2]=.30000001192092896;o[h+44>>2]=0;o[h>>2]=7300;a=h+48|0;o[a>>2]=o[n>>2];o[a+4>>2]=o[n+4>>2];o[a+8>>2]=o[n+8>>2];o[a+12>>2]=o[n+12>>2];a=h+64|0;o[a>>2]=o[n+16>>2];o[a+4>>2]=o[n+16+4>>2];o[a+8>>2]=o[n+16+8>>2];o[a+12>>2]=o[n+16+12>>2];a=h+80|0;o[a>>2]=o[n+32>>2];o[a+4>>2]=o[n+32+4>>2];o[a+8>>2]=o[n+32+8>>2];o[a+12>>2]=o[n+32+12>>2];a=h+96|0;o[a>>2]=o[n+48>>2];o[a+4>>2]=o[n+48+4>>2];o[a+8>>2]=o[n+48+8>>2];o[a+12>>2]=o[n+48+12>>2];a=h+112|0;o[a>>2]=o[r>>2];o[a+4>>2]=o[r+4>>2];o[a+8>>2]=o[r+8>>2];o[a+12>>2]=o[r+12>>2];a=h+128|0;o[a>>2]=o[r+16>>2];o[a+4>>2]=o[r+16+4>>2];o[a+8>>2]=o[r+16+8>>2];o[a+12>>2]=o[r+16+12>>2];a=h+144|0;o[a>>2]=o[r+32>>2];o[a+4>>2]=o[r+32+4>>2];o[a+8>>2]=o[r+32+8>>2];o[a+12>>2]=o[r+32+12>>2];a=h+160|0;o[a>>2]=o[r+48>>2];o[a+4>>2]=o[r+48+4>>2];o[a+8>>2]=o[r+48+8>>2];o[a+12>>2]=o[r+48+12>>2];a=h+728|0;t=h+760|0;e=h+908|0;n=h+680|0;r=n+48|0;do{o[n>>2]=0;n=n+4|0}while((n|0)<(r|0));o[a>>2]=1045220557;o[h+732>>2]=1045220557;o[h+736>>2]=1045220557;n=h+740|0;o[n>>2]=0;o[n+4>>2]=0;o[n+8>>2]=0;o[n+12>>2]=0;o[n+16>>2]=0;o[t>>2]=1063675494;o[h+764>>2]=1063675494;o[h+768>>2]=1063675494;n=h+772|0;l[h+804>>2]=0.0;l[h+820>>2]=0.0;i[h+836>>0]=0;l[h+840>>2]=0.0;i[h+856>>0]=0;l[h+860>>2]=0.0;l[h+876>>2]=0.0;l[h+892>>2]=0.0;l[h+808>>2]=0.0;l[h+824>>2]=0.0;i[h+837>>0]=0;l[h+844>>2]=0.0;i[h+857>>0]=0;l[h+864>>2]=0.0;l[h+880>>2]=0.0;l[h+896>>2]=0.0;l[h+812>>2]=0.0;l[h+828>>2]=0.0;i[h+838>>0]=0;l[h+848>>2]=0.0;i[h+858>>0]=0;l[h+868>>2]=0.0;l[h+884>>2]=0.0;l[h+900>>2]=0.0;o[n>>2]=0;o[n+4>>2]=0;o[n+8>>2]=0;o[n+12>>2]=0;o[n+16>>2]=0;o[n+20>>2]=0;o[n+24>>2]=0;i[n+28>>0]=0;n=e;r=n+60|0;do{o[n>>2]=0;n=n+4|0}while((n|0)<(r|0));l[h+968>>2]=1.0;l[h+972>>2]=-1.0;l[h+976>>2]=0.0;l[h+980>>2]=.20000000298023224;l[h+984>>2]=0.0;l[h+988>>2]=.8999999761581421;l[h+992>>2]=0.0;i[h+996>>0]=0;l[h+1e3>>2]=0.0;l[h+1004>>2]=.10000000149011612;i[h+1008>>0]=0;l[h+1012>>2]=0.0;i[h+1016>>0]=0;l[h+1020>>2]=0.0;i[h+1024>>0]=0;l[h+1028>>2]=0.0;i[h+1032>>0]=0;r=h+1036|0;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;o[r+16>>2]=0;l[h+1056>>2]=1.0;l[h+1060>>2]=-1.0;l[h+1064>>2]=0.0;l[h+1068>>2]=.20000000298023224;l[h+1072>>2]=0.0;l[h+1076>>2]=.8999999761581421;l[h+1080>>2]=0.0;i[h+1084>>0]=0;l[h+1088>>2]=0.0;l[h+1092>>2]=.10000000149011612;i[h+1096>>0]=0;l[h+1100>>2]=0.0;i[h+1104>>0]=0;l[h+1108>>2]=0.0;i[h+1112>>0]=0;l[h+1116>>2]=0.0;i[h+1120>>0]=0;r=h+1124|0;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;o[r+16>>2]=0;l[h+1144>>2]=1.0;l[h+1148>>2]=-1.0;l[h+1152>>2]=0.0;l[h+1156>>2]=.20000000298023224;l[h+1160>>2]=0.0;l[h+1164>>2]=.8999999761581421;l[h+1168>>2]=0.0;i[h+1172>>0]=0;l[h+1176>>2]=0.0;l[h+1180>>2]=.10000000149011612;i[h+1184>>0]=0;l[h+1188>>2]=0.0;i[h+1192>>0]=0;l[h+1196>>2]=0.0;i[h+1200>>0]=0;l[h+1204>>2]=0.0;i[h+1208>>0]=0;r=h+1212|0;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;o[r+16>>2]=0;o[h+1232>>2]=s;o[h+1456>>2]=0;uL(h,(o[u>>2]|0)+4|0,(o[c>>2]|0)+4|0);return h|0}function ye(t,e){t=t|0;e=e|0;i[t+21>>0]=e&1;return}function xe(t,e,n){t=t|0;e=e|0;n=n|0;if((e|0)<3){i[t+798+e>>0]=n&1;return}else{i[t+968+((e+-3|0)*88|0)+48>>0]=n&1;return}}function we(t){t=t|0;return+ +l[t+16>>2]}function Se(t,e){t=t|0;e=e|0;return t+968+(e*88|0)|0}function Me(t){t=t|0;return t+680|0}function Ce(t,e){t=t|0;e=e|0;var n=0.0;n=+Yc(+l[e>>2]);if(!(n<-3.1415927410125732)){if(n>3.1415927410125732)n=n+-6.2831854820251465}else n=n+6.2831854820251465;l[t+968>>2]=n;n=+Yc(+l[e+4>>2]);if(!(n<-3.1415927410125732)){if(n>3.1415927410125732)n=n+-6.2831854820251465}else n=n+6.2831854820251465;l[t+1056>>2]=n;n=+Yc(+l[e+8>>2]);if(n<-3.1415927410125732){n=n+6.2831854820251465;t=t+1144|0;l[t>>2]=n;return}if(!(n>3.1415927410125732)){t=t+1144|0;l[t>>2]=n;return}n=n+-6.2831854820251465;t=t+1144|0;l[t>>2]=n;return}function Te(t,e){t=t|0;e=e|0;var n=0.0;n=+Yc(+l[e>>2]);if(!(n<-3.1415927410125732)){if(n>3.1415927410125732)n=n+-6.2831854820251465}else n=n+6.2831854820251465;l[t+972>>2]=n;n=+Yc(+l[e+4>>2]);if(!(n<-3.1415927410125732)){if(n>3.1415927410125732)n=n+-6.2831854820251465}else n=n+6.2831854820251465;l[t+1060>>2]=n;n=+Yc(+l[e+8>>2]);if(n<-3.1415927410125732){n=n+6.2831854820251465;t=t+1148|0;l[t>>2]=n;return}if(!(n>3.1415927410125732)){t=t+1148|0;l[t>>2]=n;return}n=n+-6.2831854820251465;t=t+1148|0;l[t>>2]=n;return}function Ae(t,e){t=t|0;e=+e;l[t+16>>2]=e;return}function Le(t,e,n){t=t|0;e=e|0;n=+n;if((e|0)<3){l[t+840+(e<<2)>>2]=n;i[t+856+e>>0]=1;return}else{l[t+968+((e+-3|0)*88|0)+60>>2]=n;i[t+968+((e+-3|0)*88|0)+64>>0]=1;return}}function Ee(t,e){t=t|0;e=e|0;o[t+680>>2]=o[e>>2];o[t+680+4>>2]=o[e+4>>2];o[t+680+8>>2]=o[e+8>>2];o[t+680+12>>2]=o[e+12>>2];return}function Re(t,e){t=t|0;e=e|0;o[t+696>>2]=o[e>>2];o[t+696+4>>2]=o[e+4>>2];o[t+696+8>>2]=o[e+8>>2];o[t+696+12>>2]=o[e+12>>2];return}function Ie(t,e,n){t=t|0;e=e|0;n=+n;if((e|0)<3){l[t+820+(e<<2)>>2]=n;i[t+836+e>>0]=1;return}else{l[t+968+((e+-3|0)*88|0)+52>>2]=n;i[t+968+((e+-3|0)*88|0)+56>>0]=1;return}}function Pe(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function De(t,e,n){t=t|0;e=e|0;n=n|0;var r=0;o[5637]=(o[5637]|0)+1;r=Jc(1407)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}aL(r,t,e,n);o[r>>2]=7364;o[r+4>>2]=9;i[r+1309>>0]=0;l[r+1316>>2]=0.0;l[r+1340>>2]=0.0;l[r+1364>>2]=1.0;i[r+1310>>0]=0;l[r+1320>>2]=0.0;l[r+1344>>2]=0.0;l[r+1368>>2]=1.0;i[r+1311>>0]=0;l[r+1324>>2]=0.0;l[r+1348>>2]=0.0;l[r+1372>>2]=1.0;i[r+1312>>0]=0;l[r+1328>>2]=0.0;l[r+1352>>2]=0.0;l[r+1376>>2]=1.0;i[r+1313>>0]=0;l[r+1332>>2]=0.0;l[r+1356>>2]=0.0;l[r+1380>>2]=1.0;i[r+1314>>0]=0;l[r+1336>>2]=0.0;l[r+1360>>2]=0.0;l[r+1384>>2]=1.0;return r|0}function ke(t,e,n,r,s){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;var a=0;o[5637]=(o[5637]|0)+1;a=Jc(1407)|0;if(!a)a=0;else{o[(a+4+15&-16)+-4>>2]=a;a=a+4+15&-16}sL(a,t,e,n,r,s);o[a>>2]=7364;o[a+4>>2]=9;i[a+1309>>0]=0;l[a+1316>>2]=0.0;l[a+1340>>2]=0.0;l[a+1364>>2]=1.0;i[a+1310>>0]=0;l[a+1320>>2]=0.0;l[a+1344>>2]=0.0;l[a+1368>>2]=1.0;i[a+1311>>0]=0;l[a+1324>>2]=0.0;l[a+1348>>2]=0.0;l[a+1372>>2]=1.0;i[a+1312>>0]=0;l[a+1328>>2]=0.0;l[a+1352>>2]=0.0;l[a+1376>>2]=1.0;i[a+1313>>0]=0;l[a+1332>>2]=0.0;l[a+1356>>2]=0.0;l[a+1380>>2]=1.0;i[a+1314>>0]=0;l[a+1336>>2]=0.0;l[a+1360>>2]=0.0;l[a+1384>>2]=1.0;return a|0}function Oe(t,e){t=t|0;e=e|0;i[t+21>>0]=e&1;return}function Ne(t,e,n){t=t|0;e=e|0;n=n|0;i[t+1309+e>>0]=n&1;if((e|0)<3){i[t+788+e>>0]=n&1;return}else{i[t+868+(e+-3<<6)+44>>0]=n&1;return}}function Fe(t){t=t|0;return+ +l[t+16>>2]}function Be(t,e){t=t|0;e=e|0;var n=0.0;n=+Yc(+l[e>>2]);if(!(n<-3.1415927410125732)){if(n>3.1415927410125732)n=n+-6.2831854820251465}else n=n+6.2831854820251465;l[t+868>>2]=n;n=+Yc(+l[e+4>>2]);if(!(n<-3.1415927410125732)){if(n>3.1415927410125732)n=n+-6.2831854820251465}else n=n+6.2831854820251465;l[t+932>>2]=n;n=+Yc(+l[e+8>>2]);if(n<-3.1415927410125732){n=n+6.2831854820251465;t=t+996|0;l[t>>2]=n;return}if(!(n>3.1415927410125732)){t=t+996|0;l[t>>2]=n;return}n=n+-6.2831854820251465;t=t+996|0;l[t>>2]=n;return}function je(t,e){t=t|0;e=e|0;var n=0.0;n=+Yc(+l[e>>2]);if(!(n<-3.1415927410125732)){if(n>3.1415927410125732)n=n+-6.2831854820251465}else n=n+6.2831854820251465;l[t+872>>2]=n;n=+Yc(+l[e+4>>2]);if(!(n<-3.1415927410125732)){if(n>3.1415927410125732)n=n+-6.2831854820251465}else n=n+6.2831854820251465;l[t+936>>2]=n;n=+Yc(+l[e+8>>2]);if(n<-3.1415927410125732){n=n+6.2831854820251465;t=t+1e3|0;l[t>>2]=n;return}if(!(n>3.1415927410125732)){t=t+1e3|0;l[t>>2]=n;return}n=n+-6.2831854820251465;t=t+1e3|0;l[t>>2]=n;return}function Ue(t,e){t=t|0;e=+e;l[t+16>>2]=e;return}function ze(t,e,n){t=t|0;e=e|0;n=+n;l[t+1364+(e<<2)>>2]=n;return}function Ge(t,e){t=t|0;e=e|0;o[t+680>>2]=o[e>>2];o[t+680+4>>2]=o[e+4>>2];o[t+680+8>>2]=o[e+8>>2];o[t+680+12>>2]=o[e+12>>2];return}function Ve(t,e){t=t|0;e=e|0;o[t+696>>2]=o[e>>2];o[t+696+4>>2]=o[e+4>>2];o[t+696+8>>2]=o[e+8>>2];o[t+696+12>>2]=o[e+12>>2];return}function We(t,e,n){t=t|0;e=e|0;n=+n;l[t+1340+(e<<2)>>2]=n;return}function He(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function Xe(t){t=t|0;if(o[t+204>>2]&3|0)return;if((o[t+216>>2]&-2|0)!=4)o[t+216>>2]=1;l[t+220>>2]=0.0;return}function qe(t,e){t=t|0;e=e|0;if(!e?o[t+204>>2]&3|0:0)return;if((o[t+216>>2]&-2|0)!=4)o[t+216>>2]=1;l[t+220>>2]=0.0;return}function Ye(){var t=0,e=0;o[5637]=(o[5637]|0)+1;t=Jc(327)|0;if(!t)t=0;else{o[(t+4+15&-16)+-4>>2]=t;t=t+4+15&-16}o[t+164>>2]=1065353216;o[t+168>>2]=1065353216;o[t+172>>2]=1065353216;l[t+176>>2]=0.0;o[t+180>>2]=0;l[t+184>>2]=999999984306749440.0;e=t+188|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;o[t+204>>2]=1;o[t+208>>2]=-1;o[t+212>>2]=-1;o[t+216>>2]=1;l[t+220>>2]=0.0;l[t+224>>2]=.5;l[t+228>>2]=0.0;l[t+232>>2]=0.0;o[t+240>>2]=0;o[t+244>>2]=-1;l[t+248>>2]=1.0;l[t+252>>2]=0.0;l[t+256>>2]=0.0;o[t+260>>2]=0;i[t+280>>0]=1;o[t+276>>2]=0;o[t+268>>2]=0;o[t+272>>2]=0;o[t+284>>2]=0;o[t+4>>2]=1065353216;e=t+8|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;o[t+24>>2]=1065353216;e=t+28|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;o[t+44>>2]=1065353216;e=t+48|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;o[e+16>>2]=0;o[t>>2]=4344;i[t+304>>0]=1;o[t+300>>2]=0;o[t+292>>2]=0;o[t+296>>2]=0;o[t+236>>2]=4;return t|0}function Ze(t,e){t=t|0;e=e|0;o[t+216>>2]=e;return}function Je(t){t=t|0;return o[t+204>>2]|0}function Ke(t){t=t|0;return o[t+192>>2]|0}function $e(t){t=t|0;return o[t+292>>2]|0}function Qe(t,e){t=t|0;e=e|0;return o[(o[t+300>>2]|0)+(e<<2)>>2]|0}function tn(t){t=t|0;return t+4|0}function en(t){t=t|0;t=o[t+216>>2]|0;return(t|0)!=5&(t|0)!=2|0}function nn(t){t=t|0;return(o[t+204>>2]&2|0)!=0|0}function rn(t,e){t=t|0;e=e|0;if((o[t+216>>2]&-2|0)==4)return;o[t+216>>2]=e;return}function on(t,e,n){t=t|0;e=e|0;n=n|0;o[t+164>>2]=o[e>>2];o[t+164+4>>2]=o[e+4>>2];o[t+164+8>>2]=o[e+8>>2];o[t+164+12>>2]=o[e+12>>2];if(!(+l[e>>2]!=1.0)?!(+l[e+4>>2]!=1.0):0)n=+l[e+8>>2]!=1.0?n:0;o[t+180>>2]=n;return}function sn(t,e){t=t|0;e=+e;l[t+256>>2]=e;return}function an(t,e){t=t|0;e=+e;l[t+252>>2]=e;return}function cn(t,e){t=t|0;e=e|0;o[t+204>>2]=e;return}function ln(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+8>>2]&127](t,e);return}function un(t,e){t=t|0;e=+e;l[t+184>>2]=e;return}function hn(t,e){t=t|0;e=+e;o[t+284>>2]=(o[t+284>>2]|0)+1;l[t+224>>2]=e;return}function pn(t,e){t=t|0;e=+e;o[t+284>>2]=(o[t+284>>2]|0)+1;l[t+228>>2]=e;return}function fn(t,e){t=t|0;e=+e;o[t+284>>2]=(o[t+284>>2]|0)+1;l[t+232>>2]=e;return}function dn(t,e){t=t|0;e=e|0;o[t+284>>2]=(o[t+284>>2]|0)+1;o[t+4>>2]=o[e>>2];o[t+4+4>>2]=o[e+4>>2];o[t+4+8>>2]=o[e+8>>2];o[t+4+12>>2]=o[e+12>>2];o[t+20>>2]=o[e+16>>2];o[t+20+4>>2]=o[e+16+4>>2];o[t+20+8>>2]=o[e+16+8>>2];o[t+20+12>>2]=o[e+16+12>>2];o[t+36>>2]=o[e+32>>2];o[t+36+4>>2]=o[e+32+4>>2];o[t+36+8>>2]=o[e+32+8>>2];o[t+36+12>>2]=o[e+32+12>>2];o[t+52>>2]=o[e+48>>2];o[t+52+4>>2]=o[e+48+4>>2];o[t+52+8>>2]=o[e+48+8>>2];o[t+52+12>>2]=o[e+48+12>>2];return}function _n(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function mn(){var t=0,e=0;while(1){t=Jc(4)|0;if(t|0){e=6;break}t=o[5831]|0;o[5831]=t+0;if(!t){e=5;break}zk[t&3]()}if((e|0)==5){e=Jt(4)|0;o[e>>2]=8308;ue(e|0,2416,215)}else if((e|0)==6){o[t>>2]=8084;return t|0}return 0}function gn(t){t=t|0;return}function bn(t){t=t|0;Kc(t);return}function vn(t,e,n){t=t|0;e=e|0;n=n|0;var i=0;i=o[e>>2]|0;t=o[n>>2]|0;t=(o[t+236>>2]|0)==4?t:0;if(!((i|0)==0?1:(o[i+236>>2]|0)!=4))Uk[o[(o[i>>2]|0)+28>>2]&127](i,n,e);if(!t)return 0;Uk[o[(o[t>>2]|0)+28>>2]&127](t,e,n);return 0}function yn(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0;r=o[e>>2]|0;t=o[n>>2]|0;t=(o[t+236>>2]|0)==4?t:0;if(!((r|0)==0?1:(o[r+236>>2]|0)!=4))Wk[o[(o[r>>2]|0)+32>>2]&127](r,n,i,e);if(!t)return 0;Wk[o[(o[t>>2]|0)+32>>2]&127](t,e,i,n);return 0}function xn(t,e,n){t=t|0;e=e|0;n=n|0;return}function wn(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function Sn(t,e){t=t|0;e=e|0;var n=0;o[5637]=(o[5637]|0)+1;n=Jc(787)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}LD(n,t,e,0);return n|0}function Mn(t,e,n){t=t|0;e=e|0;n=n|0;var i=0;o[5637]=(o[5637]|0)+1;i=Jc(787)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}LD(i,t,e,n);return i|0}function Cn(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;var s=0;o[5637]=(o[5637]|0)+1;s=Jc(787)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}o[s+4>>2]=4;o[s+8>>2]=-1;o[s+12>>2]=-1;l[s+16>>2]=3402823466385288598117041.0e14;i[s+20>>0]=1;i[s+21>>0]=0;o[s+24>>2]=-1;o[s+28>>2]=t;o[s+32>>2]=e;l[s+36>>2]=0.0;l[s+40>>2]=.30000001192092896;o[s+44>>2]=0;o[s>>2]=7428;e=s+552|0;o[e>>2]=o[n>>2];o[e+4>>2]=o[n+4>>2];o[e+8>>2]=o[n+8>>2];o[e+12>>2]=o[n+12>>2];e=s+568|0;o[e>>2]=o[n+16>>2];o[e+4>>2]=o[n+16+4>>2];o[e+8>>2]=o[n+16+8>>2];o[e+12>>2]=o[n+16+12>>2];e=s+584|0;o[e>>2]=o[n+32>>2];o[e+4>>2]=o[n+32+4>>2];o[e+8>>2]=o[n+32+8>>2];o[e+12>>2]=o[n+32+12>>2];e=s+600|0;o[e>>2]=o[n+48>>2];o[e+4>>2]=o[n+48+4>>2];o[e+8>>2]=o[n+48+8>>2];o[e+12>>2]=o[n+48+12>>2];n=s+616|0;o[n>>2]=o[r>>2];o[n+4>>2]=o[r+4>>2];o[n+8>>2]=o[r+8>>2];o[n+12>>2]=o[r+12>>2];n=s+632|0;o[n>>2]=o[r+16>>2];o[n+4>>2]=o[r+16+4>>2];o[n+8>>2]=o[r+16+8>>2];o[n+12>>2]=o[r+16+12>>2];n=s+648|0;o[n>>2]=o[r+32>>2];o[n+4>>2]=o[r+32+4>>2];o[n+8>>2]=o[r+32+8>>2];o[n+12>>2]=o[r+32+12>>2];n=s+664|0;o[n>>2]=o[r+48>>2];o[n+4>>2]=o[r+48+4>>2];o[n+8>>2]=o[r+48+8>>2];o[n+12>>2]=o[r+48+12>>2];l[s+688>>2]=0.0;l[s+692>>2]=-1.0;l[s+696>>2]=.8999999761581421;l[s+700>>2]=.30000001192092896;l[s+704>>2]=1.0;l[s+708>>2]=0.0;l[s+712>>2]=0.0;i[s+716>>0]=0;i[s+736>>0]=0;i[s+737>>0]=0;i[s+738>>0]=0;i[s+739>>0]=1;i[s+740>>0]=0;r=s+748|0;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;o[r+16>>2]=0;l[s+732>>2]=1.0;return s|0}function Tn(t,e,n,r,s){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;var a=0;o[5637]=(o[5637]|0)+1;a=Jc(787)|0;if(!a)a=0;else{o[(a+4+15&-16)+-4>>2]=a;a=a+4+15&-16}o[a+4>>2]=4;o[a+8>>2]=-1;o[a+12>>2]=-1;l[a+16>>2]=3402823466385288598117041.0e14;i[a+20>>0]=1;i[a+21>>0]=0;o[a+24>>2]=-1;o[a+28>>2]=t;o[a+32>>2]=e;l[a+36>>2]=0.0;l[a+40>>2]=.30000001192092896;o[a+44>>2]=0;o[a>>2]=7428;e=a+552|0;o[e>>2]=o[n>>2];o[e+4>>2]=o[n+4>>2];o[e+8>>2]=o[n+8>>2];o[e+12>>2]=o[n+12>>2];e=a+568|0;o[e>>2]=o[n+16>>2];o[e+4>>2]=o[n+16+4>>2];o[e+8>>2]=o[n+16+8>>2];o[e+12>>2]=o[n+16+12>>2];e=a+584|0;o[e>>2]=o[n+32>>2];o[e+4>>2]=o[n+32+4>>2];o[e+8>>2]=o[n+32+8>>2];o[e+12>>2]=o[n+32+12>>2];e=a+600|0;o[e>>2]=o[n+48>>2];o[e+4>>2]=o[n+48+4>>2];o[e+8>>2]=o[n+48+8>>2];o[e+12>>2]=o[n+48+12>>2];n=a+616|0;o[n>>2]=o[r>>2];o[n+4>>2]=o[r+4>>2];o[n+8>>2]=o[r+8>>2];o[n+12>>2]=o[r+12>>2];n=a+632|0;o[n>>2]=o[r+16>>2];o[n+4>>2]=o[r+16+4>>2];o[n+8>>2]=o[r+16+8>>2];o[n+12>>2]=o[r+16+12>>2];n=a+648|0;o[n>>2]=o[r+32>>2];o[n+4>>2]=o[r+32+4>>2];o[n+8>>2]=o[r+32+8>>2];o[n+12>>2]=o[r+32+12>>2];n=a+664|0;o[n>>2]=o[r+48>>2];o[n+4>>2]=o[r+48+4>>2];o[n+8>>2]=o[r+48+8>>2];o[n+12>>2]=o[r+48+12>>2];l[a+688>>2]=0.0;l[a+692>>2]=-1.0;l[a+696>>2]=.8999999761581421;l[a+700>>2]=.30000001192092896;l[a+704>>2]=1.0;l[a+708>>2]=0.0;l[a+712>>2]=0.0;i[a+716>>0]=0;i[a+736>>0]=0;i[a+737>>0]=0;i[a+738>>0]=0;i[a+739>>0]=1;i[a+740>>0]=s&1;r=a+748|0;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;o[r+16>>2]=0;l[a+732>>2]=s?-1.0:1.0;return a|0}function An(t,e,n,i,r,s){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;s=s|0;var a=0;o[5637]=(o[5637]|0)+1;a=Jc(787)|0;if(!a)a=0;else{o[(a+4+15&-16)+-4>>2]=a;a=a+4+15&-16}AD(a,t,e,n,i,r,s,0);return a|0}function Ln(t,e,n,i,r,s,a){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;s=s|0;a=a|0;var c=0;o[5637]=(o[5637]|0)+1;c=Jc(787)|0;if(!c)c=0;else{o[(c+4+15&-16)+-4>>2]=c;c=c+4+15&-16}AD(c,t,e,n,i,r,s,a);return c|0}function En(t,e,n,r){t=t|0;e=e|0;n=+n;r=+r;i[t+737>>0]=e&1;l[t+680>>2]=n;l[t+684>>2]=r;return}function Rn(t,e){t=t|0;e=e|0;i[t+21>>0]=e&1;return}function In(t){t=t|0;return+ +l[t+16>>2]}function Pn(t,e){t=t|0;e=+e;l[t+16>>2]=e;return}function Dn(t,e,n,i,r){t=t|0;e=+e;n=+n;i=+i;r=+r;l[t+692>>2]=(n-e)*.5;e=+Yc((n-e)*.5+e);if(!(e<-3.1415927410125732)){if(e>3.1415927410125732)e=e+-6.2831854820251465}else e=e+6.2831854820251465;l[t+688>>2]=e;l[t+696>>2]=i;l[t+700>>2]=r;l[t+704>>2]=1.0;return}function kn(t,e,n,i,r,o){t=t|0;e=+e;n=+n;i=+i;r=+r;o=+o;l[t+692>>2]=(n-e)*.5;e=+Yc((n-e)*.5+e);if(!(e<-3.1415927410125732)){if(e>3.1415927410125732)e=e+-6.2831854820251465}else e=e+6.2831854820251465;l[t+688>>2]=e;l[t+696>>2]=i;l[t+700>>2]=r;l[t+704>>2]=o;return}function On(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function Nn(t,e,n){t=t|0;e=e|0;n=+n;var r=0,s=0;o[5637]=(o[5637]|0)+1;r=Jc(203)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}o[r>>2]=7044;s=r+60|0;i[r+144>>0]=1;o[r+140>>2]=0;o[r+132>>2]=0;o[r+136>>2]=0;o[r+176>>2]=1;l[r+56>>2]=.019999999552965164;o[s>>2]=0;o[s+4>>2]=0;o[s+8>>2]=0;o[s+12>>2]=0;i[r+170>>0]=1;o[r+8>>2]=t;l[r+52>>2]=n;l[r+48>>2]=0.0;o[r+12>>2]=e;i[r+171>>0]=1;l[r+172>>2]=0.0;l[r+16>>2]=0.0;l[r+20>>2]=0.0;l[r+44>>2]=29.399999618530273;l[r+24>>2]=55.0;l[r+28>>2]=10.0;i[r+168>>0]=0;i[r+169>>0]=0;i[r+180>>0]=1;l[r+36>>2]=.7853981852531433;l[r+40>>2]=.7071067690849304;l[r+108>>2]=0.0;i[r+181>>0]=0;i[r+182>>0]=0;return r|0}function Fn(t,e,n,r){t=t|0;e=e|0;n=+n;r=r|0;var s=0,a=0;o[5637]=(o[5637]|0)+1;s=Jc(203)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}o[s>>2]=7044;a=s+60|0;i[s+144>>0]=1;o[s+140>>2]=0;o[s+132>>2]=0;o[s+136>>2]=0;o[s+176>>2]=r;l[s+56>>2]=.019999999552965164;o[a>>2]=0;o[a+4>>2]=0;o[a+8>>2]=0;o[a+12>>2]=0;i[s+170>>0]=1;o[s+8>>2]=t;l[s+52>>2]=n;l[s+48>>2]=0.0;o[s+12>>2]=e;i[s+171>>0]=1;l[s+172>>2]=0.0;l[s+16>>2]=0.0;l[s+20>>2]=0.0;l[s+44>>2]=29.399999618530273;l[s+24>>2]=55.0;l[s+28>>2]=10.0;i[s+168>>0]=0;i[s+169>>0]=0;i[s+180>>0]=1;l[s+36>>2]=.7853981852531433;l[s+40>>2]=.7071067690849304;l[s+108>>2]=0.0;i[s+181>>0]=0;i[s+182>>0]=0;return s|0}function Bn(t){t=t|0;return uk[o[(o[t>>2]|0)+40>>2]&127](t)|0}function jn(t){t=t|0;return o[t+8>>2]|0}function Un(t){t=t|0;return+ +l[t+44>>2]}function zn(t){t=t|0;return+ +l[t+36>>2]}function Gn(t){t=t|0;sk[o[(o[t>>2]|0)+44>>2]&255](t);return}function Vn(t){t=t|0;return uk[o[(o[t>>2]|0)+48>>2]&127](t)|0}function Wn(t,e,n){t=t|0;e=e|0;n=+n;Gk[o[(o[t>>2]|0)+36>>2]&7](t,e,n);return}function Hn(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+32>>2]&127](t,e);return}function Xn(t,e){t=t|0;e=+e;l[t+24>>2]=e;return}function qn(t,e){t=t|0;e=+e;l[t+44>>2]=e;return}function Yn(t,e){t=t|0;e=+e;l[t+28>>2]=e;return}function Zn(t,e){t=t|0;e=+e;l[t+32>>2]=e;return}function Jn(t,e){t=t|0;e=+e;l[t+36>>2]=e;l[t+40>>2]=+H(+e);return}function Kn(t,e){t=t|0;e=e|0;e=(e|0)<0?0:e;o[t+176>>2]=(e|0)>2?2:e;return}function $n(t,e){t=t|0;e=e|0;i[t+170>>0]=e&1;return}function Qn(t,e,n){t=t|0;e=e|0;n=+n;Gk[o[(o[t>>2]|0)+20>>2]&7](t,e,n);return}function ti(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+16>>2]&127](t,e);return}function ei(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+28>>2]&127](t,e);return}function ni(t){t=t|0;if(!t)return;Kc(t);return}function ii(t){t=t|0;return+ +l[t+80>>2]}function ri(t){t=t|0;return t+48|0}function oi(t){t=t|0;return t+32|0}function si(t){t=t|0;return t|0}function ai(t){t=t|0;return t+16|0}function ci(t){t=t|0;return t+64|0}function li(t){t=t|0;return t+48|0}function ui(t){t=t|0;return t+32|0}function hi(t,e){t=t|0;e=e|0;o[t>>2]=o[e>>2];o[t+4>>2]=o[e+4>>2];o[t+8>>2]=o[e+8>>2];o[t+12>>2]=o[e+12>>2];return}function pi(t,e){t=t|0;e=e|0;o[t+16>>2]=o[e>>2];o[t+16+4>>2]=o[e+4>>2];o[t+16+8>>2]=o[e+8>>2];o[t+16+12>>2]=o[e+12>>2];return}function fi(t,e){t=t|0;e=e|0;o[t+64>>2]=o[e>>2];o[t+64+4>>2]=o[e+4>>2];o[t+64+8>>2]=o[e+8>>2];o[t+64+12>>2]=o[e+12>>2];return}function di(t,e){t=t|0;e=e|0;o[t+48>>2]=o[e>>2];o[t+48+4>>2]=o[e+4>>2];o[t+48+8>>2]=o[e+8>>2];o[t+48+12>>2]=o[e+12>>2];return}function _i(t,e){t=t|0;e=e|0;o[t+32>>2]=o[e>>2];o[t+32+4>>2]=o[e+4>>2];o[t+32+8>>2]=o[e+8>>2];o[t+32+12>>2]=o[e+12>>2];return}function mi(t){t=t|0;if(!t)return;Kc(t);return}function gi(t,e){t=t|0;e=e|0;Zw(t,e);return}function bi(t,e){t=t|0;e=e|0;if(!(i[19920]|0))i[19920]=1;o[5696]=o[t+(e<<4)>>2];o[5697]=o[t+(e<<4)+4>>2];o[5698]=o[t+(e<<4)+8>>2];o[5699]=o[t+(e<<4)+12>>2];return 22784}function vi(t,e,n,i){t=t|0;e=+e;n=+n;i=+i;var r=0.0,o=0.0,s=0.0;o=+H(+e);r=+H(+n);s=+H(+i);e=+X(+e);n=+X(+n);i=+X(+i);l[t>>2]=r*s;l[t+4>>2]=n*(s*e)-o*i;l[t+8>>2]=o*s*n+e*i;l[t+12>>2]=0.0;l[t+16>>2]=r*i;l[t+20>>2]=o*s+n*(e*i);l[t+24>>2]=n*(o*i)-s*e;l[t+28>>2]=0.0;l[t+32>>2]=-n;l[t+36>>2]=r*e;l[t+40>>2]=o*r;l[t+44>>2]=0.0;return}function yi(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function xi(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+8>>2]&127](t,e);return}function wi(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+12>>2]&127](t,e);return}function Si(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function Mi(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+60>>2]&127](t,e);return}function Ci(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function Ti(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function Ai(t){t=t|0;if(o[t+204>>2]&3|0)return;if((o[t+216>>2]&-2|0)!=4)o[t+216>>2]=1;l[t+220>>2]=0.0;return}function Li(t,e){t=t|0;e=e|0;if(!e?o[t+204>>2]&3|0:0)return;if((o[t+216>>2]&-2|0)!=4)o[t+216>>2]=1;l[t+220>>2]=0.0;return}function Ei(){var t=0;o[5637]=(o[5637]|0)+1;t=Jc(331)|0;if(!t)t=0;else{o[(t+4+15&-16)+-4>>2]=t;t=t+4+15&-16}EE(t);return t|0}function Ri(t,e){t=t|0;e=e|0;o[t+216>>2]=e;return}function Ii(t){t=t|0;return o[t+204>>2]|0}function Pi(t){t=t|0;return o[t+192>>2]|0}function Di(t){t=t|0;return o[t+292>>2]|0}function ki(t,e){t=t|0;e=e|0;return o[(o[t+300>>2]|0)+(e<<2)>>2]|0}function Oi(t){t=t|0;return t+4|0}function Ni(t){t=t|0;t=o[t+216>>2]|0;return(t|0)!=5&(t|0)!=2|0}function Fi(t){t=t|0;return(o[t+204>>2]&2|0)!=0|0}function Bi(t,e){t=t|0;e=e|0;if((o[t+216>>2]&-2|0)==4)return;o[t+216>>2]=e;return}function ji(t,e,n){t=t|0;e=e|0;n=n|0;o[t+164>>2]=o[e>>2];o[t+164+4>>2]=o[e+4>>2];o[t+164+8>>2]=o[e+8>>2];o[t+164+12>>2]=o[e+12>>2];if(!(+l[e>>2]!=1.0)?!(+l[e+4>>2]!=1.0):0)n=+l[e+8>>2]!=1.0?n:0;o[t+180>>2]=n;return}function Ui(t,e){t=t|0;e=+e;l[t+256>>2]=e;return}function zi(t,e){t=t|0;e=+e;l[t+252>>2]=e;return}function Gi(t,e){t=t|0;e=e|0;o[t+204>>2]=e;return}function Vi(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+8>>2]&127](t,e);return}function Wi(t,e){t=t|0;e=+e;l[t+184>>2]=e;return}function Hi(t,e){t=t|0;e=+e;o[t+284>>2]=(o[t+284>>2]|0)+1;l[t+224>>2]=e;return}function Xi(t,e){t=t|0;e=+e;o[t+284>>2]=(o[t+284>>2]|0)+1;l[t+228>>2]=e;return}function qi(t,e){t=t|0;e=+e;o[t+284>>2]=(o[t+284>>2]|0)+1;l[t+232>>2]=e;return}function Yi(t,e){t=t|0;e=e|0;o[t+284>>2]=(o[t+284>>2]|0)+1;o[t+4>>2]=o[e>>2];o[t+4+4>>2]=o[e+4>>2];o[t+4+8>>2]=o[e+8>>2];o[t+4+12>>2]=o[e+12>>2];o[t+20>>2]=o[e+16>>2];o[t+20+4>>2]=o[e+16+4>>2];o[t+20+8>>2]=o[e+16+8>>2];o[t+20+12>>2]=o[e+16+12>>2];o[t+36>>2]=o[e+32>>2];o[t+36+4>>2]=o[e+32+4>>2];o[t+36+8>>2]=o[e+32+8>>2];o[t+36+12>>2]=o[e+32+12>>2];o[t+52>>2]=o[e+48>>2];o[t+52+4>>2]=o[e+48+4>>2];o[t+52+8>>2]=o[e+48+8>>2];o[t+52+12>>2]=o[e+48+12>>2];return}function Zi(t){t=t|0;if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function Ji(){var t=0,e=0;o[5637]=(o[5637]|0)+1;t=Jc(791)|0;if(!t)t=0;else{o[(t+4+15&-16)+-4>>2]=t;t=t+4+15&-16}o[t>>2]=1025;o[t+116>>2]=0;i[t+120>>0]=0;e=t+124|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;o[e+16>>2]=0;o[e+20>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;o[t+300>>2]=0;i[t+304>>0]=0;e=t+308|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;o[e+16>>2]=0;o[e+20>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;o[t+484>>2]=0;i[t+488>>0]=0;e=t+492|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;o[e+16>>2]=0;o[e+20>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;o[t+668>>2]=0;i[t+672>>0]=0;e=t+676|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;o[e+16>>2]=0;o[e+20>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;o[t+740>>2]=0;o[t+744>>2]=0;o[t+748>>2]=0;o[t+768>>2]=0;return t|0}function Ki(t){t=t|0;return o[t+740>>2]|0}function $i(t){t=t|0;return o[t+744>>2]|0}function Qi(t,e){t=t|0;e=e|0;return t+4+(e*184|0)|0}function tr(t){t=t|0;return o[t+748>>2]|0}function er(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function nr(t,e){t=t|0;e=e|0;var n=0,r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0;o[5637]=(o[5637]|0)+1;n=Jc(379)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}Fb(n,3,t);o[n>>2]=7484;h=n+300|0;o[h>>2]=o[e>>2];o[h+4>>2]=o[e+4>>2];o[h+8>>2]=o[e+8>>2];o[h+12>>2]=o[e+12>>2];u=+l[e>>2];c=+l[e+4>>2];a=+l[e+8>>2];s=u*+l[t+20>>2]+c*+l[t+24>>2]+a*+l[t+28>>2]+ +l[t+56>>2];r=u*+l[t+36>>2]+c*+l[t+40>>2]+a*+l[t+44>>2]+ +l[t+60>>2];l[n+316>>2]=u*+l[t+4>>2]+c*+l[t+8>>2]+a*+l[t+12>>2]+ +l[t+52>>2];l[n+320>>2]=s;l[n+324>>2]=r;l[n+328>>2]=0.0;o[n+332>>2]=0;i[n+344>>0]=0;l[n+348>>2]=.30000001192092896;l[n+352>>2]=1.0;l[n+356>>2]=0.0;return n|0}function ir(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;var s=0;o[5637]=(o[5637]|0)+1;s=Jc(379)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}o[s+4>>2]=3;o[s+8>>2]=-1;o[s+12>>2]=-1;l[s+16>>2]=3402823466385288598117041.0e14;i[s+20>>0]=1;i[s+21>>0]=0;o[s+24>>2]=-1;o[s+28>>2]=t;o[s+32>>2]=e;l[s+36>>2]=0.0;l[s+40>>2]=.30000001192092896;o[s+44>>2]=0;o[s>>2]=7484;e=s+300|0;o[e>>2]=o[n>>2];o[e+4>>2]=o[n+4>>2];o[e+8>>2]=o[n+8>>2];o[e+12>>2]=o[n+12>>2];n=s+316|0;o[n>>2]=o[r>>2];o[n+4>>2]=o[r+4>>2];o[n+8>>2]=o[r+8>>2];o[n+12>>2]=o[r+12>>2];o[s+332>>2]=0;i[s+344>>0]=0;l[s+348>>2]=.30000001192092896;l[s+352>>2]=1.0;l[s+356>>2]=0.0;return s|0}function rr(t,e){t=t|0;e=e|0;i[t+21>>0]=e&1;return}function or(t){t=t|0;return+ +l[t+16>>2]}function sr(t){t=t|0;return t+300|0}function ar(t){t=t|0;return t+316|0}function cr(t){t=t|0;return t+348|0}function lr(t,e){t=t|0;e=+e;l[t+16>>2]=e;return}function ur(t,e){t=t|0;e=e|0;o[t+300>>2]=o[e>>2];o[t+300+4>>2]=o[e+4>>2];o[t+300+8>>2]=o[e+8>>2];o[t+300+12>>2]=o[e+12>>2];return}function hr(t,e){t=t|0;e=e|0;o[t+316>>2]=o[e>>2];o[t+316+4>>2]=o[e+4>>2];o[t+316+8>>2]=o[e+8>>2];o[t+316+12>>2]=o[e+12>>2];return}function pr(t,e){t=t|0;e=e|0;o[t+348>>2]=o[e>>2];o[t+348+4>>2]=o[e+4>>2];o[t+348+8>>2]=o[e+8>>2];return}function fr(t){t=t|0;if(!t)return;Kc(t);return}function dr(t,e){t=t|0;e=+e;l[t+12>>2]=e;return}function _r(t,e){t=t|0;e=+e;l[t>>2]=e;return}function mr(t,e){t=t|0;e=+e;l[t+4>>2]=e;return}function gr(t,e){t=t|0;e=+e;l[t+8>>2]=e;return}function br(t){t=t|0;return+ +l[t+12>>2]}function vr(t){t=t|0;return+ +l[t>>2]}function yr(t){t=t|0;return+ +l[t+4>>2]}function xr(t){t=t|0;return+ +l[t+8>>2]}function wr(t){t=t|0;if(!t)return;Kc(t);return}function Sr(t,e,n,i){t=+t;e=+e;n=+n;i=+i;var r=0,s=0;while(1){r=Jc(16)|0;if(r|0){s=6;break}r=o[5831]|0;o[5831]=r+0;if(!r){s=5;break}zk[r&3]()}if((s|0)==5){s=Jt(4)|0;o[s>>2]=8308;ue(s|0,2416,215)}else if((s|0)==6){l[r>>2]=t;l[r+4>>2]=e;l[r+8>>2]=n;l[r+12>>2]=i;return r|0}return 0}function Mr(t){t=t|0;var e=0.0,n=0.0,i=0.0,r=0.0,o=0.0;o=+l[t>>2];r=+l[t+4>>2];i=+l[t+8>>2];n=+l[t+12>>2];e=1.0/+V(+(o*o+r*r+i*i+n*n));l[t>>2]=o*e;l[t+4>>2]=r*e;l[t+8>>2]=i*e;l[t+12>>2]=n*e;return}function Cr(t,e,n,i,r){t=t|0;e=+e;n=+n;i=+i;r=+r;l[t>>2]=e;l[t+4>>2]=n;l[t+8>>2]=i;l[t+12>>2]=r;return}function Tr(t,e){t=t|0;e=+e;l[t+12>>2]=e;return}function Ar(t,e){t=t|0;e=+e;l[t>>2]=e;return}function Lr(t,e){t=t|0;e=+e;l[t+4>>2]=e;return}function Er(t,e){t=t|0;e=+e;l[t+8>>2]=e;return}function Rr(t){t=t|0;return+ +l[t+12>>2]}function Ir(t){t=t|0;return+ +l[t>>2]}function Pr(t){t=t|0;return+ +l[t+4>>2]}function Dr(t){t=t|0;return+ +l[t+8>>2]}function kr(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function Or(t,e,n,i,r,o,s,a){t=t|0;e=e|0;n=n|0;i=i|0;r=+r;o=+o;s=s|0;a=a|0;return Dh(t,e,n,i,r,o,s,a)|0}function Nr(t,e,n){t=t|0;e=+e;n=n|0;l[(o[t+136>>2]|0)+(n*284|0)+252>>2]=e;return}function Fr(t,e,n){t=t|0;e=e|0;n=n|0;var r=0;while(1){t=Jc(144)|0;if(t|0){r=6;break}t=o[5831]|0;o[5831]=t+0;if(!t){r=5;break}zk[t&3]()}if((r|0)==5){n=Jt(4)|0;o[n>>2]=8308;ue(n|0,2416,215)}else if((r|0)==6){o[t>>2]=7952;i[t+20>>0]=1;o[t+16>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;i[t+40>>0]=1;o[t+36>>2]=0;o[t+28>>2]=0;o[t+32>>2]=0;i[t+60>>0]=1;o[t+56>>2]=0;o[t+48>>2]=0;o[t+52>>2]=0;i[t+80>>0]=1;o[t+76>>2]=0;o[t+68>>2]=0;o[t+72>>2]=0;o[t+92>>2]=n;l[t+96>>2]=0.0;i[t+140>>0]=1;o[t+136>>2]=0;o[t+128>>2]=0;o[t+132>>2]=0;o[t+108>>2]=e;o[t+112>>2]=0;o[t+116>>2]=2;o[t+120>>2]=1;l[t+104>>2]=0.0;l[t+100>>2]=0.0;return t|0}return 0}function Br(t){t=t|0;return o[t+128>>2]|0}function jr(t){t=t|0;return o[t+108>>2]|0}function Ur(t,e){t=t|0;e=e|0;return(o[t+136>>2]|0)+(e*284|0)|0}function zr(t,e){t=t|0;e=e|0;return(o[t+136>>2]|0)+(e*284|0)+92|0}function Gr(t,e,n){t=t|0;e=+e;n=n|0;l[(o[t+136>>2]|0)+(n*284|0)+256>>2]=e;return}function Vr(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;Wk[o[(o[t>>2]|0)+24>>2]&127](t,e,n,i);return}function Wr(t,e,n){t=t|0;e=+e;n=n|0;l[(o[t+136>>2]|0)+(n*284|0)+232>>2]=e;return}function Hr(t,e,n){t=t|0;e=e|0;n=n|0;Sh(o[t+108>>2]|0,o[t+136>>2]|0,e,n);return}function Xr(t){t=t|0;if(!t)return;Kc(t);return}function qr(t,e,n){t=+t;e=e|0;n=n|0;var r=0,s=0;while(1){r=Jc(140)|0;if(r|0){s=6;break}r=o[5831]|0;o[5831]=r+0;if(!r){s=5;break}zk[r&3]()}if((s|0)==5){n=Jt(4)|0;o[n>>2]=8308;ue(n|0,2416,215)}else if((s|0)==6){l[r>>2]=t;o[r+4>>2]=e;o[r+72>>2]=n;o[r+76>>2]=0;o[r+76+4>>2]=0;o[r+76+8>>2]=0;o[r+76+12>>2]=0;o[r+76+16>>2]=0;o[r+76+20>>2]=0;l[r+100>>2]=.5;l[r+104>>2]=0.0;l[r+108>>2]=0.0;l[r+112>>2]=.800000011920929;l[r+116>>2]=1.0;i[r+120>>0]=0;l[r+124>>2]=.004999999888241291;l[r+128>>2]=.009999999776482582;l[r+132>>2]=.009999999776482582;l[r+136>>2]=.009999999776482582;o[r+8>>2]=1065353216;o[r+12>>2]=0;o[r+12+4>>2]=0;o[r+12+8>>2]=0;o[r+12+12>>2]=0;o[r+28>>2]=1065353216;o[r+32>>2]=0;o[r+32+4>>2]=0;o[r+32+8>>2]=0;o[r+32+12>>2]=0;o[r+48>>2]=1065353216;o[r+52>>2]=0;o[r+52+4>>2]=0;o[r+52+8>>2]=0;o[r+52+12>>2]=0;o[r+52+16>>2]=0;return r|0}return 0}function Yr(t,e,n,r){t=+t;e=e|0;n=n|0;r=r|0;var s=0,a=0;while(1){s=Jc(140)|0;if(s|0){a=6;break}s=o[5831]|0;o[5831]=s+0;if(!s){a=5;break}zk[s&3]()}if((a|0)==5){r=Jt(4)|0;o[r>>2]=8308;ue(r|0,2416,215)}else if((a|0)==6){l[s>>2]=t;o[s+4>>2]=e;o[s+72>>2]=n;o[s+76>>2]=o[r>>2];o[s+76+4>>2]=o[r+4>>2];o[s+76+8>>2]=o[r+8>>2];o[s+76+12>>2]=o[r+12>>2];l[s+92>>2]=0.0;l[s+96>>2]=0.0;l[s+100>>2]=.5;l[s+104>>2]=0.0;l[s+108>>2]=0.0;l[s+112>>2]=.800000011920929;l[s+116>>2]=1.0;i[s+120>>0]=0;l[s+124>>2]=.004999999888241291;l[s+128>>2]=.009999999776482582;l[s+132>>2]=.009999999776482582;l[s+136>>2]=.009999999776482582;o[s+8>>2]=1065353216;o[s+12>>2]=0;o[s+12+4>>2]=0;o[s+12+8>>2]=0;o[s+12+12>>2]=0;o[s+28>>2]=1065353216;o[s+32>>2]=0;o[s+32+4>>2]=0;o[s+32+8>>2]=0;o[s+32+12>>2]=0;o[s+48>>2]=1065353216;o[s+52>>2]=0;o[s+52+4>>2]=0;o[s+52+8>>2]=0;o[s+52+12>>2]=0;o[s+52+16>>2]=0;return s|0}return 0}function Zr(t){t=t|0;return+ +l[t+136>>2]}function Jr(t){t=t|0;return+ +l[t+132>>2]}function Kr(t){t=t|0;return+ +l[t+124>>2]}function $r(t){t=t|0;return(i[t+120>>0]|0)!=0|0}function Qr(t){t=t|0;return+ +l[t+128>>2]}function to(t){t=t|0;return+ +l[t+96>>2]}function eo(t){t=t|0;return+ +l[t+116>>2]}function no(t){t=t|0;return+ +l[t+100>>2]}function io(t){t=t|0;return+ +l[t+92>>2]}function ro(t){t=t|0;return+ +l[t+112>>2]}function oo(t){t=t|0;return+ +l[t+108>>2]}function so(t){t=t|0;return+ +l[t+104>>2]}function ao(t,e){t=t|0;e=+e;l[t+136>>2]=e;return}function co(t,e){t=t|0;e=+e;l[t+132>>2]=e;return}function lo(t,e){t=t|0;e=+e;l[t+124>>2]=e;return}function uo(t,e){t=t|0;e=e|0;i[t+120>>0]=e&1;return}function ho(t,e){t=t|0;e=+e;l[t+128>>2]=e;return}function po(t,e){t=t|0;e=+e;l[t+96>>2]=e;return}function fo(t,e){t=t|0;e=+e;l[t+116>>2]=e;return}function _o(t,e){t=t|0;e=+e;l[t+100>>2]=e;return}function mo(t,e){t=t|0;e=+e;l[t+92>>2]=e;return}function go(t,e){t=t|0;e=+e;l[t+112>>2]=e;return}function bo(t,e){t=t|0;e=+e;l[t+108>>2]=e;return}function vo(t,e){t=t|0;e=+e;l[t+104>>2]=e;return}function yo(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function xo(t){t=t|0;if(o[t+204>>2]&3|0)return;if((o[t+216>>2]&-2|0)!=4)o[t+216>>2]=1;l[t+220>>2]=0.0;return}function wo(t,e){t=t|0;e=e|0;if(!e?o[t+204>>2]&3|0:0)return;if((o[t+216>>2]&-2|0)!=4)o[t+216>>2]=1;l[t+220>>2]=0.0;return}function So(t,e){t=t|0;e=e|0;var n=0.0,i=0.0;i=+l[e+4>>2]*+l[t+376>>2];n=+l[e+8>>2]*+l[t+380>>2];l[t+436>>2]=+l[e>>2]*+l[t+372>>2]+ +l[t+436>>2];l[t+440>>2]=i+ +l[t+440>>2];l[t+444>>2]=n+ +l[t+444>>2];return}function Mo(t,e){t=t|0;e=e|0;var n=0.0,i=0.0,r=0.0;r=+l[t+368>>2];i=+l[e+4>>2]*+l[t+376>>2]*r;n=r*(+l[e+8>>2]*+l[t+380>>2]);l[t+336>>2]=+l[e>>2]*+l[t+372>>2]*r+ +l[t+336>>2];l[t+340>>2]=i+ +l[t+340>>2];l[t+344>>2]=n+ +l[t+344>>2];return}function Co(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,o=0.0,s=0.0,a=0.0,c=0.0,u=0.0;i=+l[t+372>>2];s=+l[t+376>>2];o=+l[e+4>>2]*s;a=+l[t+380>>2];c=+l[e+8>>2]*a;l[t+436>>2]=+l[e>>2]*i+ +l[t+436>>2];l[t+440>>2]=o+ +l[t+440>>2];l[t+444>>2]=c+ +l[t+444>>2];i=i*+l[e>>2];s=s*+l[e+4>>2];a=a*+l[e+8>>2];c=+l[n+4>>2];o=+l[n+8>>2];u=+l[n>>2];r=(i*o-a*u)*+l[t+572>>2];i=(s*u-i*c)*+l[t+576>>2];l[t+452>>2]=(c*a-s*o)*+l[t+568>>2]+ +l[t+452>>2];l[t+456>>2]=r+ +l[t+456>>2];l[t+460>>2]=i+ +l[t+460>>2];return}function To(t,e,n){t=t|0;e=e|0;n=n|0;zA(t,e,n);return}function Ao(t,e){t=t|0;e=e|0;var n=0.0,i=0.0,r=0.0,o=0.0,s=0.0;s=+l[e>>2];o=+l[e+4>>2];r=+l[e+8>>2];i=(s*+l[t+304>>2]+o*+l[t+308>>2]+r*+l[t+312>>2])*+l[t+572>>2];n=(s*+l[t+320>>2]+o*+l[t+324>>2]+r*+l[t+328>>2])*+l[t+576>>2];l[t+352>>2]=(+l[t+288>>2]*s+ +l[t+292>>2]*o+ +l[t+296>>2]*r)*+l[t+568>>2]+ +l[t+352>>2];l[t+356>>2]=i+ +l[t+356>>2];l[t+360>>2]=n+ +l[t+360>>2];return}function Lo(t,e){t=t|0;e=e|0;var n=0.0,i=0.0;i=+l[e+4>>2]*+l[t+572>>2];n=+l[e+8>>2]*+l[t+576>>2];l[t+452>>2]=+l[e>>2]*+l[t+568>>2]+ +l[t+452>>2];l[t+456>>2]=i+ +l[t+456>>2];l[t+460>>2]=n+ +l[t+460>>2];return}function Eo(t){t=t|0;var e=0,n=0;o[5637]=(o[5637]|0)+1;e=Jc(659)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}o[e+164>>2]=1065353216;o[e+168>>2]=1065353216;o[e+172>>2]=1065353216;l[e+176>>2]=0.0;o[e+180>>2]=0;l[e+184>>2]=999999984306749440.0;n=e+188|0;o[n>>2]=0;o[n+4>>2]=0;o[n+8>>2]=0;o[n+12>>2]=0;o[e+204>>2]=1;o[e+208>>2]=-1;o[e+212>>2]=-1;o[e+216>>2]=1;l[e+220>>2]=0.0;l[e+224>>2]=.5;l[e+228>>2]=0.0;l[e+232>>2]=0.0;o[e+236>>2]=1;o[e+240>>2]=0;o[e+244>>2]=-1;l[e+248>>2]=1.0;l[e+252>>2]=0.0;l[e+256>>2]=0.0;o[e+260>>2]=0;i[e+280>>0]=1;o[e+276>>2]=0;o[e+268>>2]=0;o[e+272>>2]=0;o[e+284>>2]=0;o[e+4>>2]=1065353216;n=e+8|0;o[n>>2]=0;o[n+4>>2]=0;o[n+8>>2]=0;o[n+12>>2]=0;o[e+24>>2]=1065353216;n=e+28|0;o[n>>2]=0;o[n+4>>2]=0;o[n+8>>2]=0;o[n+12>>2]=0;o[e+44>>2]=1065353216;n=e+48|0;o[n>>2]=0;o[n+4>>2]=0;o[n+8>>2]=0;o[n+12>>2]=0;o[n+16>>2]=0;o[e>>2]=7916;i[e+524>>0]=1;o[e+520>>2]=0;o[e+512>>2]=0;o[e+516>>2]=0;Uv(e,t);return e|0}function Ro(t,e){t=t|0;e=e|0;o[t+216>>2]=e;return}function Io(t){t=t|0;return t+352|0}function Po(t){t=t|0;return t+4|0}function Do(t){t=t|0;return o[t+204>>2]|0}function ko(t){t=t|0;return o[t+192>>2]|0}function Oo(t){t=t|0;return t+336|0}function No(t){t=t|0;return o[t+504>>2]|0}function Fo(t){t=t|0;return t+4|0}function Bo(t){t=t|0;t=o[t+216>>2]|0;return(t|0)!=5&(t|0)!=2|0}function jo(t){t=t|0;return(o[t+204>>2]&2|0)!=0|0}function Uo(t,e){t=t|0;e=e|0;if((o[t+216>>2]&-2|0)==4)return;o[t+216>>2]=e;return}function zo(t,e){t=t|0;e=e|0;o[t+284>>2]=(o[t+284>>2]|0)+1;o[t+568>>2]=o[e>>2];o[t+568+4>>2]=o[e+4>>2];o[t+568+8>>2]=o[e+8>>2];o[t+568+12>>2]=o[e+12>>2];return}function Go(t,e){t=t|0;e=e|0;o[t+284>>2]=(o[t+284>>2]|0)+1;o[t+352>>2]=o[e>>2];o[t+352+4>>2]=o[e+4>>2];o[t+352+8>>2]=o[e+8>>2];o[t+352+12>>2]=o[e+12>>2];return}function Vo(t,e,n){t=t|0;e=e|0;n=n|0;o[t+164>>2]=o[e>>2];o[t+164+4>>2]=o[e+4>>2];o[t+164+8>>2]=o[e+8>>2];o[t+164+12>>2]=o[e+12>>2];if(!(+l[e>>2]!=1.0)?!(+l[e+4>>2]!=1.0):0)n=+l[e+8>>2]!=1.0?n:0;o[t+180>>2]=n;return}function Wo(t,e){t=t|0;e=+e;l[t+256>>2]=e;return}function Ho(t,e){t=t|0;e=+e;l[t+252>>2]=e;return}function Xo(t,e){t=t|0;e=e|0;Vv(t,e);return}function qo(t,e){t=t|0;e=e|0;o[t+204>>2]=e;return}function Yo(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+8>>2]&127](t,e);return}function Zo(t,e){t=t|0;e=+e;l[t+184>>2]=e;return}function Jo(t,e,n){t=t|0;e=+e;n=+n;var i=0;i=h;h=h+32|0;l[i+20>>2]=e;l[i+16>>2]=n;l[i+12>>2]=0.0;l[i+8>>2]=1.0;o[t+468>>2]=o[(e<0.0?i+12|0:e>1.0?i+8|0:i+20|0)>>2];l[i+4>>2]=0.0;l[i>>2]=1.0;o[t+472>>2]=o[(n<0.0?i+4|0:n>1.0?i:i+16|0)>>2];h=i;return}function Ko(t,e){t=t|0;e=+e;o[t+284>>2]=(o[t+284>>2]|0)+1;l[t+224>>2]=e;return}function $o(t,e){t=t|0;e=e|0;var n=0.0,i=0.0,r=0.0;o[t+372>>2]=o[e>>2];o[t+372+4>>2]=o[e+4>>2];o[t+372+8>>2]=o[e+8>>2];o[t+372+12>>2]=o[e+12>>2];r=+l[t+368>>2];i=r*+l[t+376>>2];n=r*+l[t+380>>2];l[t+584>>2]=+l[t+372>>2]*r;l[t+588>>2]=i;l[t+592>>2]=n;l[t+596>>2]=0.0;return}function Qo(t,e){t=t|0;e=e|0;o[t+284>>2]=(o[t+284>>2]|0)+1;o[t+336>>2]=o[e>>2];o[t+336+4>>2]=o[e+4>>2];o[t+336+8>>2]=o[e+8>>2];o[t+336+12>>2]=o[e+12>>2];return}function ts(t,e,n){t=t|0;e=+e;n=n|0;var i=0,r=0,s=0.0,a=0.0,c=0.0;i=o[t+204>>2]|0;if(e==0.0){o[t+204>>2]=i|1;s=0.0}else{o[t+204>>2]=i&-2;s=1.0/e}l[t+368>>2]=s;c=+l[t+408>>2]*e;a=+l[t+412>>2]*e;l[t+388>>2]=+l[t+404>>2]*e;l[t+392>>2]=c;l[t+396>>2]=a;l[t+400>>2]=0.0;e=+l[n>>2];r=e!=0.0?(l[f>>2]=1.0/e,o[f>>2]|0):0;e=+l[n+4>>2];i=e!=0.0?(l[f>>2]=1.0/e,o[f>>2]|0):0;e=+l[n+8>>2];n=e!=0.0?(l[f>>2]=1.0/e,o[f>>2]|0):0;o[t+420>>2]=r;o[t+424>>2]=i;o[t+428>>2]=n;l[t+432>>2]=0.0;a=s*+l[t+376>>2];c=s*+l[t+380>>2];l[t+584>>2]=+l[t+372>>2]*s;l[t+588>>2]=a;l[t+592>>2]=c;l[t+596>>2]=0.0;return}function es(t,e){t=t|0;e=e|0;o[t+504>>2]=e;if(!e)return;ck[o[(o[e>>2]|0)+8>>2]&127](e,t+4|0);return}function ns(t,e){t=t|0;e=+e;o[t+284>>2]=(o[t+284>>2]|0)+1;l[t+228>>2]=e;return}function is(t,e){t=t|0;e=+e;o[t+284>>2]=(o[t+284>>2]|0)+1;l[t+232>>2]=e;return}function rs(t,e,n){t=t|0;e=+e;n=+n;l[t+496>>2]=e;l[t+500>>2]=n;return}function os(t,e){t=t|0;e=e|0;o[t+284>>2]=(o[t+284>>2]|0)+1;o[t+4>>2]=o[e>>2];o[t+4+4>>2]=o[e+4>>2];o[t+4+8>>2]=o[e+8>>2];o[t+4+12>>2]=o[e+12>>2];o[t+20>>2]=o[e+16>>2];o[t+20+4>>2]=o[e+16+4>>2];o[t+20+8>>2]=o[e+16+8>>2];o[t+20+12>>2]=o[e+16+12>>2];o[t+36>>2]=o[e+32>>2];o[t+36+4>>2]=o[e+32+4>>2];o[t+36+8>>2]=o[e+32+8>>2];o[t+36+12>>2]=o[e+32+12>>2];o[t+52>>2]=o[e+48>>2];o[t+52+4>>2]=o[e+48+4>>2];o[t+52+8>>2]=o[e+48+8>>2];o[t+52+12>>2]=o[e+48+12>>2];return}function ss(t,e){t=t|0;e=e|0;return((o[e+236>>2]&2|0)==0?0:e)|0}function as(t){t=t|0;var e=0.0,n=0.0,i=0.0,r=0.0,o=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0,p=0.0,f=0.0;f=+l[t+4>>2];s=+l[t+420>>2];p=+l[t+8>>2];r=+l[t+424>>2];h=+l[t+12>>2];n=+l[t+428>>2];u=+l[t+20>>2];c=+l[t+24>>2];a=+l[t+28>>2];o=+l[t+36>>2];i=+l[t+40>>2];e=+l[t+44>>2];l[t+288>>2]=f*s*f+p*r*p+h*n*h;l[t+292>>2]=f*s*u+p*r*c+h*n*a;l[t+296>>2]=f*s*o+p*r*i+h*n*e;l[t+300>>2]=0.0;l[t+304>>2]=s*u*f+r*c*p+n*a*h;l[t+308>>2]=s*u*u+r*c*c+n*a*a;l[t+312>>2]=s*u*o+r*c*i+n*a*e;l[t+316>>2]=0.0;l[t+320>>2]=s*o*f+r*i*p+n*e*h;l[t+324>>2]=s*o*u+r*i*c+n*e*a;l[t+328>>2]=s*o*o+r*i*i+n*e*e;l[t+332>>2]=0.0;return}function cs(t){t=t|0;if(!t)return;Kc(t);return}function ls(t){t=t|0;return+ +l[t+80>>2]}function us(t,e){t=t|0;e=+e;l[t+80>>2]=e;return}function hs(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function ps(){var t=0;o[5637]=(o[5637]|0)+1;t=Jc(223)|0;if(!t)t=0;else{o[(t+4+15&-16)+-4>>2]=t;t=t+4+15&-16}o[t>>2]=7540;i[t+20>>0]=1;o[t+16>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;i[t+40>>0]=1;o[t+36>>2]=0;o[t+28>>2]=0;o[t+32>>2]=0;i[t+60>>0]=1;o[t+56>>2]=0;o[t+48>>2]=0;o[t+52>>2]=0;i[t+80>>0]=1;o[t+76>>2]=0;o[t+68>>2]=0;o[t+72>>2]=0;i[t+100>>0]=1;o[t+96>>2]=0;o[t+88>>2]=0;o[t+92>>2]=0;i[t+120>>0]=1;o[t+116>>2]=0;o[t+108>>2]=0;o[t+112>>2]=0;i[t+140>>0]=1;o[t+136>>2]=0;o[t+128>>2]=0;o[t+132>>2]=0;i[t+160>>0]=1;o[t+156>>2]=0;o[t+148>>2]=0;o[t+152>>2]=0;i[t+180>>0]=1;o[t+176>>2]=0;o[t+168>>2]=0;o[t+172>>2]=0;o[t+192>>2]=13;o[t+196>>2]=14;o[t+200>>2]=0;return t|0}function fs(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function ds(t,e,n){t=t|0;e=e|0;n=n|0;var r=0,s=0,a=0,c=0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0,D=0.0,k=0,O=0,N=0,F=0;s=h;h=h+16|0;o[5637]=(o[5637]|0)+1;r=Jc(1147)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}if(!(i[19880]|0)){i[19880]=1;o[s>>2]=0;o[s+4>>2]=0;o[s+8>>2]=0;o[s+12>>2]=0;zv(21260,0.0,0,0,s)}o[5366]=o[5366]|1;l[5407]=0.0;C=+l[5417]*0.0;I=+l[5418]*0.0;l[5412]=+l[5416]*0.0;l[5413]=C;l[5414]=I;l[5415]=0.0;o[5420]=0;o[5421]=0;o[5422]=0;o[5423]=0;I=+l[5409]*0.0;C=+l[5410]*0.0;l[5461]=+l[5408]*0.0;l[5462]=I;l[5463]=C;l[5464]=0.0;o[r+4>>2]=7;o[r+8>>2]=-1;o[r+12>>2]=-1;l[r+16>>2]=3402823466385288598117041.0e14;i[r+20>>0]=1;i[r+21>>0]=0;o[r+24>>2]=-1;c=r+28|0;o[c>>2]=21260;a=r+32|0;o[a>>2]=t;l[r+36>>2]=0.0;l[r+40>>2]=.30000001192092896;o[r+44>>2]=0;o[r>>2]=7600;i[r+48>>0]=0;F=r+116|0;o[F>>2]=o[e>>2];o[F+4>>2]=o[e+4>>2];o[F+8>>2]=o[e+8>>2];o[F+12>>2]=o[e+12>>2];N=r+132|0;o[N>>2]=o[e+16>>2];o[N+4>>2]=o[e+16+4>>2];o[N+8>>2]=o[e+16+8>>2];o[N+12>>2]=o[e+16+12>>2];O=r+148|0;o[O>>2]=o[e+32>>2];o[O+4>>2]=o[e+32+4>>2];o[O+8>>2]=o[e+32+8>>2];o[O+12>>2]=o[e+32+12>>2];k=r+164|0;o[k>>2]=o[e+48>>2];o[k+4>>2]=o[e+48+4>>2];o[k+8>>2]=o[e+48+8>>2];o[k+12>>2]=o[e+48+12>>2];i[r+180>>0]=n&1;C=+l[F>>2];I=+l[t+4>>2];M=+l[N>>2];R=+l[t+8>>2];S=+l[O>>2];E=+l[t+12>>2];w=+l[r+120>>2];x=+l[r+136>>2];y=+l[r+152>>2];v=+l[r+124>>2];g=+l[r+140>>2];_=+l[r+156>>2];L=+l[t+20>>2];A=+l[t+24>>2];T=+l[t+28>>2];b=+l[t+36>>2];m=+l[t+40>>2];d=+l[t+44>>2];D=+l[k>>2];P=+l[r+168>>2];u=+l[r+172>>2];f=+l[t+52>>2]+(I*D+R*P+E*u);p=L*D+A*P+T*u+ +l[t+56>>2];u=b*D+m*P+d*u+ +l[t+60>>2];l[r+52>>2]=C*I+M*R+S*E;l[r+56>>2]=I*w+R*x+E*y;l[r+60>>2]=I*v+R*g+E*_;l[r+64>>2]=0.0;l[r+68>>2]=C*L+M*A+S*T;l[r+72>>2]=w*L+x*A+y*T;l[r+76>>2]=v*L+g*A+_*T;l[r+80>>2]=0.0;l[r+84>>2]=C*b+M*m+S*d;l[r+88>>2]=w*b+x*m+y*d;l[r+92>>2]=v*b+g*m+_*d;l[r+96>>2]=0.0;l[r+100>>2]=f;l[r+104>>2]=p;l[r+108>>2]=u;l[r+112>>2]=0.0;l[r+184>>2]=1.0;l[r+188>>2]=-1.0;l[r+192>>2]=0.0;l[r+196>>2]=0.0;l[r+200>>2]=1.0;l[r+204>>2]=.699999988079071;l[r+208>>2]=0.0;l[r+212>>2]=0.0;l[r+216>>2]=1.0;l[r+220>>2]=.699999988079071;l[r+224>>2]=0.0;l[r+228>>2]=0.0;l[r+264>>2]=1.0;l[r+268>>2]=.699999988079071;l[r+272>>2]=1.0;l[r+276>>2]=0.0;l[r+280>>2]=1.0;l[r+284>>2]=.699999988079071;l[r+288>>2]=1.0;l[r+292>>2]=0.0;l[r+232>>2]=1.0;l[r+236>>2]=.699999988079071;l[r+240>>2]=1.0;l[r+244>>2]=0.0;l[r+248>>2]=1.0;l[r+252>>2]=.699999988079071;l[r+256>>2]=1.0;l[r+260>>2]=0.0;i[r+1096>>0]=0;n=r+1100|0;l[r+1116>>2]=0.0;l[r+1120>>2]=0.0;l[r+1124>>2]=0.0;o[r+300>>2]=0;o[n>>2]=0;o[n+4>>2]=0;o[n+8>>2]=0;i[n+12>>0]=0;i[r+49>>0]=1;Rb(r,(o[c>>2]|0)+4|0,(o[a>>2]|0)+4|0);h=s;return r|0}function _s(t,e,n,r,s){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;var a=0,c=0;o[5637]=(o[5637]|0)+1;a=Jc(1147)|0;if(!a)a=0;else{o[(a+4+15&-16)+-4>>2]=a;a=a+4+15&-16}o[a+4>>2]=7;o[a+8>>2]=-1;o[a+12>>2]=-1;l[a+16>>2]=3402823466385288598117041.0e14;i[a+20>>0]=1;i[a+21>>0]=0;o[a+24>>2]=-1;c=a+28|0;o[c>>2]=t;t=a+32|0;o[t>>2]=e;l[a+36>>2]=0.0;l[a+40>>2]=.30000001192092896;o[a+44>>2]=0;o[a>>2]=7600;i[a+48>>0]=0;e=a+52|0;o[e>>2]=o[n>>2];o[e+4>>2]=o[n+4>>2];o[e+8>>2]=o[n+8>>2];o[e+12>>2]=o[n+12>>2];e=a+68|0;o[e>>2]=o[n+16>>2];o[e+4>>2]=o[n+16+4>>2];o[e+8>>2]=o[n+16+8>>2];o[e+12>>2]=o[n+16+12>>2];e=a+84|0;o[e>>2]=o[n+32>>2];o[e+4>>2]=o[n+32+4>>2];o[e+8>>2]=o[n+32+8>>2];o[e+12>>2]=o[n+32+12>>2];e=a+100|0;o[e>>2]=o[n+48>>2];o[e+4>>2]=o[n+48+4>>2];o[e+8>>2]=o[n+48+8>>2];o[e+12>>2]=o[n+48+12>>2];n=a+116|0;o[n>>2]=o[r>>2];o[n+4>>2]=o[r+4>>2];o[n+8>>2]=o[r+8>>2];o[n+12>>2]=o[r+12>>2];n=a+132|0;o[n>>2]=o[r+16>>2];o[n+4>>2]=o[r+16+4>>2];o[n+8>>2]=o[r+16+8>>2];o[n+12>>2]=o[r+16+12>>2];n=a+148|0;o[n>>2]=o[r+32>>2];o[n+4>>2]=o[r+32+4>>2];o[n+8>>2]=o[r+32+8>>2];o[n+12>>2]=o[r+32+12>>2];n=a+164|0;o[n>>2]=o[r+48>>2];o[n+4>>2]=o[r+48+4>>2];o[n+8>>2]=o[r+48+8>>2];o[n+12>>2]=o[r+48+12>>2];i[a+180>>0]=s&1;l[a+184>>2]=1.0;l[a+188>>2]=-1.0;l[a+192>>2]=0.0;l[a+196>>2]=0.0;l[a+200>>2]=1.0;l[a+204>>2]=.699999988079071;l[a+208>>2]=0.0;l[a+212>>2]=0.0;l[a+216>>2]=1.0;l[a+220>>2]=.699999988079071;l[a+224>>2]=0.0;l[a+228>>2]=0.0;l[a+264>>2]=1.0;l[a+268>>2]=.699999988079071;l[a+272>>2]=1.0;l[a+276>>2]=0.0;l[a+280>>2]=1.0;l[a+284>>2]=.699999988079071;l[a+288>>2]=1.0;l[a+292>>2]=0.0;l[a+232>>2]=1.0;l[a+236>>2]=.699999988079071;l[a+240>>2]=1.0;l[a+244>>2]=0.0;l[a+248>>2]=1.0;l[a+252>>2]=.699999988079071;l[a+256>>2]=1.0;l[a+260>>2]=0.0;i[a+1096>>0]=0;s=a+1100|0;l[a+1116>>2]=0.0;l[a+1120>>2]=0.0;l[a+1124>>2]=0.0;o[a+300>>2]=0;o[s>>2]=0;o[s+4>>2]=0;o[s+8>>2]=0;i[s+12>>0]=0;i[a+49>>0]=1;Rb(a,(o[c>>2]|0)+4|0,(o[t>>2]|0)+4|0);return a|0}function ms(t,e){t=t|0;e=e|0;i[t+21>>0]=e&1;return}function gs(t){t=t|0;return+ +l[t+16>>2]}function bs(t,e){t=t|0;e=+e;l[t+16>>2]=e;return}function vs(t,e){t=t|0;e=+e;e=+Yc(e);if(!(e<-3.1415927410125732)){if(e>3.1415927410125732)e=e+-6.2831854820251465}else e=e+6.2831854820251465;l[t+192>>2]=e;return}function ys(t,e){t=t|0;e=+e;l[t+184>>2]=e;return}function xs(t,e){t=t|0;e=+e;e=+Yc(e);if(!(e<-3.1415927410125732)){if(e>3.1415927410125732)e=e+-6.2831854820251465}else e=e+6.2831854820251465;l[t+196>>2]=e;return}function ws(t,e){t=t|0;e=+e;l[t+188>>2]=e;return}function Ss(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function Ms(t){t=+t;var e=0;o[5637]=(o[5637]|0)+1;e=Jc(75)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}o[e+8>>2]=0;o[e+12>>2]=-1;o[e+16>>2]=1065353216;o[e+20>>2]=1065353216;o[e+24>>2]=1065353216;l[e+28>>2]=0.0;o[e>>2]=6380;o[e+4>>2]=8;l[e+32>>2]=t;l[e+48>>2]=t;return e|0}function Cs(t,e,n){t=t|0;e=+e;n=n|0;_k[o[(o[t>>2]|0)+32>>2]&15](t,e,n);return}function Ts(t){t=t|0;return+ +wk[o[(o[t>>2]|0)+48>>2]&15](t)}function As(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+24>>2]&127](t,e);return}function Ls(t,e){t=t|0;e=+e;ok[o[(o[t>>2]|0)+44>>2]&31](t,e);return}function Es(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function Rs(t,e){t=t|0;e=+e;var n=0,i=0,r=0.0,s=0.0,a=0.0,c=0.0;o[5637]=(o[5637]|0)+1;n=Jc(107)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}i=n+4|0;o[i>>2]=35;o[n+8>>2]=0;o[n+12>>2]=-1;l[n+16>>2]=0.0;o[n>>2]=6480;c=+l[t>>2];a=+l[t+4>>2];s=+l[t+8>>2];t=o[t+12>>2]|0;r=1.0/+V(+(c*c+a*a+s*s));l[n+52>>2]=c*r;l[n+56>>2]=a*r;l[n+60>>2]=s*r;o[n+64>>2]=t;l[n+68>>2]=e;o[n+72>>2]=1065353216;o[n+76>>2]=1065353216;o[n+80>>2]=1065353216;l[n+84>>2]=0.0;o[i>>2]=28;return n|0}function Is(t,e,n){t=t|0;e=+e;n=n|0;_k[o[(o[t>>2]|0)+32>>2]&15](t,e,n);return}function Ps(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+24>>2]&127](t,e);return}function Ds(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function ks(t){t=t|0;if(!t)return;Kc(t);return}function Os(){var t=0,e=0;while(1){t=Jc(64)|0;if(t|0){e=6;break}t=o[5831]|0;o[5831]=t+0;if(!t){e=5;break}zk[t&3]()}if((e|0)==5){e=Jt(4)|0;o[e>>2]=8308;ue(e|0,2416,215)}else if((e|0)==6)return t|0;return 0}function Ns(t,e){t=t|0;e=e|0;var n=0,i=0,r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0,p=0.0;while(1){n=Jc(64)|0;if(n|0){i=6;break}n=o[5831]|0;o[5831]=n+0;if(!n){i=5;break}zk[n&3]()}if((i|0)==5){e=Jt(4)|0;o[e>>2]=8308;ue(e|0,2416,215)}else if((i|0)==6){c=+l[t>>2];s=+l[t+4>>2];p=+l[t+8>>2];u=+l[t+12>>2];a=c*(2.0/(c*c+s*s+p*p+u*u));r=s*(2.0/(c*c+s*s+p*p+u*u));h=p*(2.0/(c*c+s*s+p*p+u*u));l[n>>2]=1.0-(s*r+p*h);l[n+4>>2]=c*r-u*h;l[n+8>>2]=c*h+u*r;l[n+12>>2]=0.0;l[n+16>>2]=c*r+u*h;l[n+20>>2]=1.0-(c*a+p*h);l[n+24>>2]=s*h-u*a;l[n+28>>2]=0.0;l[n+32>>2]=c*h-u*r;l[n+36>>2]=s*h+u*a;l[n+40>>2]=1.0-(c*a+s*r);l[n+44>>2]=0.0;o[n+48>>2]=o[e>>2];o[n+48+4>>2]=o[e+4>>2];o[n+48+8>>2]=o[e+8>>2];o[n+48+12>>2]=o[e+12>>2];return n|0}return 0}function Fs(t){t=t|0;return t|0}function Bs(t){t=t|0;return t+48|0}function js(t){t=t|0;var e=0;e=h;h=h+16|0;if(!(i[19928]|0))i[19928]=1;Zw(t,e);o[5700]=o[e>>2];o[5701]=o[e+4>>2];o[5702]=o[e+8>>2];o[5703]=o[e+12>>2];h=e;return 22800}function Us(t){t=t|0;o[t>>2]=1065353216;o[t+4>>2]=0;o[t+4+4>>2]=0;o[t+4+8>>2]=0;o[t+4+12>>2]=0;o[t+20>>2]=1065353216;o[t+24>>2]=0;o[t+24+4>>2]=0;o[t+24+8>>2]=0;o[t+24+12>>2]=0;o[t+40>>2]=1065353216;o[t+44>>2]=0;o[t+44+4>>2]=0;o[t+44+8>>2]=0;o[t+44+12>>2]=0;o[t+44+16>>2]=0;return}function zs(t,e){t=t|0;e=e|0;o[t+48>>2]=o[e>>2];o[t+48+4>>2]=o[e+4>>2];o[t+48+8>>2]=o[e+8>>2];o[t+48+12>>2]=o[e+12>>2];return}function Gs(t,e){t=t|0;e=e|0;var n=0.0,i=0.0,r=0.0,o=0.0,s=0.0,a=0.0,c=0.0;o=+l[e>>2];i=+l[e+4>>2];c=+l[e+8>>2];s=+l[e+12>>2];r=o*(2.0/(o*o+i*i+c*c+s*s));n=i*(2.0/(o*o+i*i+c*c+s*s));a=c*(2.0/(o*o+i*i+c*c+s*s));l[t>>2]=1.0-(i*n+c*a);l[t+4>>2]=o*n-s*a;l[t+8>>2]=o*a+s*n;l[t+12>>2]=0.0;l[t+16>>2]=o*n+s*a;l[t+20>>2]=1.0-(o*r+c*a);l[t+24>>2]=i*a-s*r;l[t+28>>2]=0.0;l[t+32>>2]=o*a-s*n;l[t+36>>2]=i*a+s*r;l[t+40>>2]=1.0-(o*r+i*n);l[t+44>>2]=0.0;return}function Vs(t){t=t|0;if(!t)return;Kc(t);return}function Ws(t){t=t|0;return t+260|0}function Hs(t,e){t=t|0;e=e|0;o[t+260>>2]=o[e>>2];o[t+260+4>>2]=o[e+4>>2];o[t+260+8>>2]=o[e+8>>2];o[t+260+12>>2]=o[e+12>>2];return}function Xs(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function qs(t,e,n){t=t|0;e=+e;n=n|0;_k[o[(o[t>>2]|0)+32>>2]&15](t,e,n);return}function Ys(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+24>>2]&127](t,e);return}function Zs(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function Js(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0;r=o[t+32>>2]|0;o[r>>2]=(o[r>>2]|0)+1;by(t,vy(t,e,0)|0);by(t,vy(t,n,0)|0);by(t,vy(t,i,0)|0);return}function Ks(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;var s=0;s=o[t+32>>2]|0;o[s>>2]=(o[s>>2]|0)+1;by(t,vy(t,e,r)|0);by(t,vy(t,n,r)|0);by(t,vy(t,i,r)|0);return}function $s(){var t=0;o[5637]=(o[5637]|0)+1;t=Jc(191)|0;if(!t)t=0;else{o[(t+4+15&-16)+-4>>2]=t;t=t+4+15&-16}gy(t,1,1);return t|0}function Qs(t){t=t|0;var e=0;o[5637]=(o[5637]|0)+1;e=Jc(191)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}gy(e,t,1);return e|0}function ta(t,e){t=t|0;e=e|0;var n=0;o[5637]=(o[5637]|0)+1;n=Jc(191)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}gy(n,t,e);return n|0}function ea(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function na(t,e){t=t|0;e=e|0;i[t+21>>0]=e&1;return}function ia(t){t=t|0;return+ +l[t+16>>2]}function ra(t,e){t=t|0;e=+e;l[t+16>>2]=e;return}function oa(t){t=t|0;if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function sa(){var t=0;o[5637]=(o[5637]|0)+1;t=Jc(35)|0;if(!t){t=0;return t|0}o[(t+4+15&-16)+-4>>2]=t;t=t+4+15&-16;return t|0}function aa(t,e,n){t=+t;e=+e;n=+n;var i=0;o[5637]=(o[5637]|0)+1;i=Jc(35)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}l[i>>2]=t;l[i+4>>2]=e;l[i+8>>2]=n;l[i+12>>2]=0.0;return i|0}function ca(t,e){t=t|0;e=e|0;return+(+l[t>>2]*+l[e>>2]+ +l[t+4>>2]*+l[e+4>>2]+ +l[t+8>>2]*+l[e+8>>2])}function la(t){t=t|0;var e=0.0,n=0.0,i=0.0;i=+l[t>>2];n=+l[t+4>>2];e=+l[t+8>>2];return+ +V(+(i*i+n*n+e*e))}function ua(t){t=t|0;var e=0.0,n=0.0,i=0.0,r=0.0;r=+l[t>>2];i=+l[t+4>>2];n=+l[t+8>>2];e=1.0/+V(+(r*r+i*i+n*n));l[t>>2]=r*e;l[t+4>>2]=i*e;l[t+8>>2]=n*e;return}function ha(t,e){t=t|0;e=e|0;l[t>>2]=+l[e>>2]+ +l[t>>2];l[t+4>>2]=+l[e+4>>2]+ +l[t+4>>2];l[t+8>>2]=+l[e+8>>2]+ +l[t+8>>2];return t|0}function pa(t,e){t=t|0;e=+e;l[t>>2]=+l[t>>2]*e;l[t+4>>2]=+l[t+4>>2]*e;l[t+8>>2]=+l[t+8>>2]*e;return t|0}function fa(t,e){t=t|0;e=e|0;l[t>>2]=+l[t>>2]-+l[e>>2];l[t+4>>2]=+l[t+4>>2]-+l[e+4>>2];l[t+8>>2]=+l[t+8>>2]-+l[e+8>>2];return t|0}function da(t,e,n,i){t=t|0;e=+e;n=+n;i=+i;l[t>>2]=e;l[t+4>>2]=n;l[t+8>>2]=i;l[t+12>>2]=0.0;return}function _a(t,e){t=t|0;e=+e;l[t>>2]=e;return}function ma(t,e){t=t|0;e=+e;l[t+4>>2]=e;return}function ga(t,e){t=t|0;e=+e;l[t+8>>2]=e;return}function ba(t){t=t|0;return+ +l[t>>2]}function va(t){t=t|0;return+ +l[t+4>>2]}function ya(t){t=t|0;return+ +l[t+8>>2]}function xa(t){t=t|0;if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function wa(){var t=0;o[5637]=(o[5637]|0)+1;t=Jc(35)|0;if(!t){t=0;return t|0}o[(t+4+15&-16)+-4>>2]=t;t=t+4+15&-16;return t|0}function Sa(t,e,n,i){t=+t;e=+e;n=+n;i=+i;var r=0;o[5637]=(o[5637]|0)+1;r=Jc(35)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}l[r>>2]=t;l[r+4>>2]=e;l[r+8>>2]=n;l[r+12>>2]=i;return r|0}function Ma(t,e){t=t|0;e=e|0;return+(+l[t>>2]*+l[e>>2]+ +l[t+4>>2]*+l[e+4>>2]+ +l[t+8>>2]*+l[e+8>>2])}function Ca(t){t=t|0;var e=0.0,n=0.0,i=0.0;i=+l[t>>2];n=+l[t+4>>2];e=+l[t+8>>2];return+ +V(+(i*i+n*n+e*e))}function Ta(t){t=t|0;var e=0.0,n=0.0,i=0.0,r=0.0;r=+l[t>>2];i=+l[t+4>>2];n=+l[t+8>>2];e=1.0/+V(+(r*r+i*i+n*n));l[t>>2]=r*e;l[t+4>>2]=i*e;l[t+8>>2]=n*e;return}function Aa(t,e){t=t|0;e=e|0;l[t>>2]=+l[e>>2]+ +l[t>>2];l[t+4>>2]=+l[e+4>>2]+ +l[t+4>>2];l[t+8>>2]=+l[e+8>>2]+ +l[t+8>>2];return t|0}function La(t,e){t=t|0;e=+e;l[t>>2]=+l[t>>2]*e;l[t+4>>2]=+l[t+4>>2]*e;l[t+8>>2]=+l[t+8>>2]*e;return t|0}function Ea(t,e){t=t|0;e=e|0;l[t>>2]=+l[t>>2]-+l[e>>2];l[t+4>>2]=+l[t+4>>2]-+l[e+4>>2];l[t+8>>2]=+l[t+8>>2]-+l[e+8>>2];return t|0}function Ra(t,e,n,i,r){t=t|0;e=+e;n=+n;i=+i;r=+r;l[t>>2]=e;l[t+4>>2]=n;l[t+8>>2]=i;l[t+12>>2]=r;return}function Ia(t,e){t=t|0;e=+e;l[t>>2]=e;return}function Pa(t,e){t=t|0;e=+e;l[t+4>>2]=e;return}function Da(t,e){t=t|0;e=+e;l[t+8>>2]=e;return}function ka(t){t=t|0;return+ +l[t+12>>2]}function Oa(t){t=t|0;return+ +l[t>>2]}function Na(t){t=t|0;return+ +l[t+4>>2]}function Fa(t){t=t|0;return+ +l[t+8>>2]}function Ba(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function ja(){var t=0,e=0;while(1){t=Jc(24)|0;if(t|0){e=6;break}t=o[5831]|0;o[5831]=t+0;if(!t){e=5;break}zk[t&3]()}if((e|0)==5){e=Jt(4)|0;o[e>>2]=8308;ue(e|0,2416,215)}else if((e|0)==6){l[t>>2]=5.880000114440918;l[t+4>>2]=.8299999833106995;l[t+8>>2]=.8799999952316284;l[t+12>>2]=500.0;l[t+16>>2]=10.5;l[t+20>>2]=6.0e3;return t|0}return 0}function Ua(t){t=t|0;return+ +l[t+16>>2]}function za(t){t=t|0;return+ +l[t+20>>2]}function Ga(t){t=t|0;return+ +l[t+12>>2]}function Va(t){t=t|0;return+ +l[t+4>>2]}function Wa(t){t=t|0;return+ +l[t+8>>2]}function Ha(t){t=t|0;return+ +l[t>>2]}function Xa(t,e){t=t|0;e=+e;l[t+16>>2]=e;return}function qa(t,e){t=t|0;e=+e;l[t+20>>2]=e;return}function Ya(t,e){t=t|0;e=+e;l[t+12>>2]=e;return}function Za(t,e){t=t|0;e=+e;l[t+4>>2]=e;return}function Ja(t,e){t=t|0;e=+e;l[t+8>>2]=e;return}function Ka(t,e){t=t|0;e=+e;l[t>>2]=e;return}function $a(t){t=t|0;if(!t)return;Kc(t);return}function Qa(t){t=t|0;return(i[t+260>>0]|0)!=0|0}function tc(t){t=t|0;return t+156|0}function ec(t){t=t|0;return+ +l[t+252>>2]}function nc(t){t=t|0;return+ +l[t+228>>2]}function ic(t){t=t|0;return+ +l[t+248>>2]}function rc(t){t=t|0;return+ +l[t+208>>2]}function oc(t){t=t|0;return t|0}function sc(t){t=t|0;return+ +l[t+244>>2]}function ac(t){t=t|0;return+ +l[t+232>>2]}function cc(t){t=t|0;return+ +l[t+204>>2]}function lc(t){t=t|0;return+ +l[t+216>>2]}function uc(t){t=t|0;return+ +l[t+220>>2]}function hc(t){t=t|0;return+ +l[t+224>>2]}function pc(t){t=t|0;return+ +l[t+212>>2]}function fc(t){t=t|0;return+ +l[t+276>>2]}function dc(t,e){t=t|0;e=e|0;i[t+260>>0]=e&1;return}function _c(t,e){t=t|0;e=e|0;o[t+156>>2]=o[e>>2];o[t+156+4>>2]=o[e+4>>2];o[t+156+8>>2]=o[e+8>>2];o[t+156+12>>2]=o[e+12>>2];return}function mc(t,e){t=t|0;e=+e;l[t+252>>2]=e;return}function gc(t,e){t=t|0;e=+e;l[t+228>>2]=e;return}function bc(t,e){t=t|0;e=+e;l[t+248>>2]=e;return}function vc(t,e){t=t|0;e=+e;l[t+208>>2]=e;return}function yc(t,e){t=t|0;e=e|0;var n=0;n=t+92|0;do{o[t>>2]=o[e>>2];t=t+4|0;e=e+4|0}while((t|0)<(n|0));return}function xc(t,e){t=t|0;e=+e;l[t+244>>2]=e;return}function wc(t,e){t=t|0;e=+e;l[t+232>>2]=e;return}function Sc(t,e){t=t|0;e=+e;l[t+204>>2]=e;return}function Mc(t,e){t=t|0;e=+e;l[t+216>>2]=e;return}function Cc(t,e){t=t|0;e=+e;l[t+220>>2]=e;return}function Tc(t,e){t=t|0;e=+e;l[t+224>>2]=e;return}function Ac(t,e){t=t|0;e=+e;l[t+212>>2]=e;return}function Lc(t,e){t=t|0;e=+e;l[t+276>>2]=e;return}function Ec(){return 0}function Rc(){return 1}function Ic(){return 2}function Pc(){return 3}function Dc(){return 4}function kc(){return 5}function Oc(t){t=t|0;var e=0,n=0;n=h;h=h+16|0;o[n>>2]=o[t+60>>2];t=he(6,n|0)|0;if(t>>>0>4294963200){if(!0)e=22816;else e=o[(Bl()|0)+64>>2]|0;o[e>>2]=0-t;t=-1}h=n;return t|0}function Nc(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0,s=0,a=0,c=0,l=0;l=h;h=h+48|0;s=o[t+28>>2]|0;o[l+32>>2]=s;s=(o[t+20>>2]|0)-s|0;o[l+32+4>>2]=s;o[l+32+8>>2]=e;o[l+32+12>>2]=n;c=l+32|0;r=2;s=s+n|0;while(1){if(!0){o[l+16>>2]=o[t+60>>2];o[l+16+4>>2]=c;o[l+16+8>>2]=r;e=me(146,l+16|0)|0;if(e>>>0>4294963200){if(!0)i=22816;else i=o[(Bl()|0)+64>>2]|0;o[i>>2]=0-e;e=-1}}else{pe(218,t|0);o[l>>2]=o[t+60>>2];o[l+4>>2]=c;o[l+8>>2]=r;e=me(146,l|0)|0;if(e>>>0>4294963200){if(!0)i=22816;else i=o[(Bl()|0)+64>>2]|0;o[i>>2]=0-e;e=-1}qt(0)}if((s|0)==(e|0)){e=13;break}if((e|0)<0){e=15;break}s=s-e|0;i=o[c+4>>2]|0;if(e>>>0<=i>>>0)if((r|0)==2){o[t+28>>2]=(o[t+28>>2]|0)+e;a=i;i=c;r=2}else{a=i;i=c}else{a=o[t+44>>2]|0;o[t+28>>2]=a;o[t+20>>2]=a;a=o[c+12>>2]|0;e=e-i|0;i=c+8|0;r=r+-1|0}o[i>>2]=(o[i>>2]|0)+e;o[i+4>>2]=a-e;c=i}if((e|0)==13){c=o[t+44>>2]|0;o[t+16>>2]=c+(o[t+48>>2]|0);o[t+28>>2]=c;o[t+20>>2]=c}else if((e|0)==15){o[t+16>>2]=0;o[t+28>>2]=0;o[t+20>>2]=0;o[t>>2]=o[t>>2]|32;if((r|0)==2)n=0;else n=n-(o[c+4>>2]|0)|0}h=l;return n|0}function Fc(t){t=t|0;return}function Bc(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0;r=h;h=h+32|0;o[r>>2]=o[t+60>>2];o[r+4>>2]=0;o[r+8>>2]=e;o[r+12>>2]=r+20;o[r+16>>2]=n;e=de(140,r|0)|0;if(e>>>0<=4294963200)if((e|0)<0)i=7;else t=o[r+20>>2]|0;else{if(!0)t=22816;else t=o[(Bl()|0)+64>>2]|0;o[t>>2]=0-e;i=7}if((i|0)==7){o[r+20>>2]=-1;t=-1}h=r;return t|0}function jc(t,e,n){t=t|0;e=e|0;n=n|0;var r=0,s=0,a=0;t:do{if((n|0)!=0&(t&3|0)!=0){r=n;while(1){if((i[t>>0]|0)==(e&255)<<24>>24)break t;t=t+1|0;n=r+-1|0;if((n|0)!=0&(t&3|0)!=0)r=n;else{r=n;n=(n|0)!=0;s=5;break}}}else{r=n;n=(n|0)!=0;s=5}}while(0);t:do{if((s|0)==5)if(n){if((i[t>>0]|0)!=(e&255)<<24>>24){n=et(e&255,16843009)|0;e:do{if(r>>>0>3)while(1){a=o[t>>2]^n;if((a&-2139062144^-2139062144)&a+-16843009|0)break;t=t+4|0;r=r+-4|0;if(r>>>0<=3){s=11;break e}}else s=11}while(0);if((s|0)==11)if(!r){r=0;break}while(1){if((i[t>>0]|0)==(e&255)<<24>>24)break t;t=t+1|0;r=r+-1|0;if(!r){r=0;break}}}}else r=0}while(0);return(r|0?t:0)|0}function Uc(t,e,n,a,c){t=t|0;e=e|0;n=n|0;a=a|0;c=c|0;var l=0,p=0,d=0,_=0.0,m=0,g=0,b=0.0,v=0,y=0,x=0,w=0,S=0,M=0,C=0,T=0,A=0,L=0,E=0,R=0,P=0,D=0,k=0,O=0,N=0,F=0,B=0,j=0,U=0;U=h;h=h+624|0;N=U+536+40|0;B=U+588|0;j=U+576+12|0;F=U+588+9|0;l=0;p=0;g=0;w=e;t:while(1){do{if((l|0)>-1){if((p|0)<=(2147483647-l|0)){l=p+l|0;break}if(!0)l=22816;else l=o[(Bl()|0)+64>>2]|0;o[l>>2]=75;l=-1}}while(0);e=i[w>>0]|0;if(!(e<<24>>24)){O=254;break}else p=w;e:while(1){switch(e<<24>>24){case 37:{e=p;O=11;break e}case 0:{e=p;break e}default:{}}k=p+1|0;e=i[k>>0]|0;p=k}e:do{if((O|0)==11)while(1){O=0;if((i[e+1>>0]|0)!=37)break e;p=p+1|0;e=e+2|0;if((i[e>>0]|0)==37)O=11;else break}}while(0);x=p-w|0;if(t|0?(o[t>>2]&32|0)==0:0)zc(w,x,t);if((p|0)!=(w|0)){p=x;w=e;continue}d=e+1|0;p=i[d>>0]|0;if(((p<<24>>24)+-48|0)>>>0<10){k=(i[e+2>>0]|0)==36;d=k?e+3|0:d;m=i[d>>0]|0;y=k?(p<<24>>24)+-48|0:-1;g=k?1:g}else{m=p;y=-1}e=m<<24>>24;e:do{if((e&-32|0)==32){p=m;m=0;do{if(!(1<<e+-32&75913))break e;m=1<<(p<<24>>24)+-32|m;d=d+1|0;p=i[d>>0]|0;e=p<<24>>24}while((e&-32|0)==32)}else{p=m;m=0}}while(0);do{if(p<<24>>24==42){p=d+1|0;e=(i[p>>0]|0)+-48|0;if(e>>>0<10?(i[d+2>>0]|0)==36:0){o[c+(e<<2)>>2]=10;e=1;d=d+3|0;p=o[a+((i[p>>0]|0)+-48<<3)>>2]|0}else{if(g|0){l=-1;break t}if(!t){v=m;k=0;d=p;D=0;break}e=(o[n>>2]|0)+(4-1)&~(4-1);k=o[e>>2]|0;o[n>>2]=e+4;e=0;d=p;p=k}if((p|0)<0){v=m|8192;k=e;D=0-p|0}else{v=m;k=e;D=p}}else{e=(p<<24>>24)+-48|0;if(e>>>0<10){p=0;do{p=(p*10|0)+e|0;d=d+1|0;e=(i[d>>0]|0)+-48|0}while(e>>>0<10);if((p|0)<0){l=-1;break t}else{v=m;k=g;D=p}}else{v=m;k=g;D=0}}}while(0);e:do{if((i[d>>0]|0)==46){e=d+1|0;m=i[e>>0]|0;if(m<<24>>24!=42){if(((m<<24>>24)+-48|0)>>>0<10){p=0;d=(m<<24>>24)+-48|0}else{g=0;break}while(1){p=(p*10|0)+d|0;e=e+1|0;d=(i[e>>0]|0)+-48|0;if(d>>>0>=10){g=p;break e}}}e=d+2|0;p=(i[e>>0]|0)+-48|0;if(p>>>0<10?(i[d+3>>0]|0)==36:0){o[c+(p<<2)>>2]=10;g=o[a+((i[e>>0]|0)+-48<<3)>>2]|0;e=d+4|0;break}if(k|0){l=-1;break t}if(t|0){P=(o[n>>2]|0)+(4-1)&~(4-1);g=o[P>>2]|0;o[n>>2]=P+4}else g=0}else{g=-1;e=d}}while(0);m=0;while(1){p=(i[e>>0]|0)+-65|0;if(p>>>0>57){l=-1;break t}P=e+1|0;p=i[16811+(m*58|0)+p>>0]|0;if(((p&255)+-1|0)>>>0<8){e=P;m=p&255}else break}if(!(p<<24>>24)){l=-1;break}d=(y|0)>-1;do{if(p<<24>>24==19)if(d){l=-1;break t}else O=54;else{if(d){o[c+(y<<2)>>2]=p&255;R=a+(y<<3)|0;O=o[R+4>>2]|0;o[U>>2]=o[R>>2];o[U+4>>2]=O;O=54;break}if(!t){l=0;break t}Vc(U,p&255,n)}}while(0);if((O|0)==54?(O=0,(t|0)==0):0){p=x;g=k;w=P;continue}E=i[e>>0]|0;E=(m|0)!=0&(E&15|0)==3?E&-33:E;d=v&-65537;R=(v&8192|0)==0?v:d;e:do{switch(E|0){case 110:switch(m|0){case 0:{o[o[U>>2]>>2]=l;p=x;g=k;w=P;continue t}case 1:{o[o[U>>2]>>2]=l;p=x;g=k;w=P;continue t}case 2:{p=o[U>>2]|0;o[p>>2]=l;o[p+4>>2]=((l|0)<0)<<31>>31;p=x;g=k;w=P;continue t}case 3:{r[o[U>>2]>>1]=l;p=x;g=k;w=P;continue t}case 4:{i[o[U>>2]>>0]=l;p=x;g=k;w=P;continue t}case 6:{o[o[U>>2]>>2]=l;p=x;g=k;w=P;continue t}case 7:{p=o[U>>2]|0;o[p>>2]=l;o[p+4>>2]=((l|0)<0)<<31>>31;p=x;g=k;w=P;continue t}default:{p=x;g=k;w=P;continue t}}case 112:{v=R|8;g=g>>>0>8?g:8;y=120;O=66;break}case 88:case 120:{v=R;y=E;O=66;break}case 111:{p=o[U>>2]|0;d=o[U+4>>2]|0;if((p|0)==0&(d|0)==0)e=N;else{e=N;do{e=e+-1|0;i[e>>0]=p&7|48;p=kl(p|0,d|0,3)|0;d=I}while(!((p|0)==0&(d|0)==0))}if(!(R&8)){p=R;v=0;m=17291;O=79}else{v=N-e|0;p=R;g=(g|0)>(v|0)?g:v+1|0;v=0;m=17291;O=79}break}case 105:case 100:{e=o[U>>2]|0;p=o[U+4>>2]|0;if((p|0)<0){e=El(0,0,e|0,p|0)|0;p=I;o[U>>2]=e;o[U+4>>2]=p;d=1;m=17291;O=78;break e}if(!(R&2048)){d=R&1;m=(R&1|0)==0?17291:17293;O=78}else{d=1;m=17292;O=78}break}case 117:{e=o[U>>2]|0;p=o[U+4>>2]|0;d=0;m=17291;O=78;break}case 99:{i[U+536+39>>0]=o[U>>2];e=U+536+39|0;y=1;w=0;x=17291;p=N;break}case 109:{if(!0)e=22816;else e=o[(Bl()|0)+64>>2]|0;p=o[e>>2]|0;e=0;while(1){if((s[17301+e>>0]|0)==(p|0)){O=85;break}e=e+1|0;if((e|0)==87){p=87;e=17389;break}}if((O|0)==85)if(!e){p=17389;O=92;break e}else{p=e;e=17389}do{do{O=e;e=e+1|0}while((i[O>>0]|0)!=0);p=p+-1|0}while((p|0)!=0);p=e;O=92;break}case 115:{p=o[U>>2]|0;p=p|0?p:19193;O=92;break}case 67:{o[U+8>>2]=o[U>>2];o[U+8+4>>2]=0;o[U>>2]=U+8;e=U+8|0;g=-1;O=96;break}case 83:{e=o[U>>2]|0;if(!g){Hc(t,32,D,0,R);e=0;O=107}else O=96;break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{_=+u[U>>3];o[U+16>>2]=0;u[f>>3]=_;if((o[f+4>>2]|0)>=0)if(!(R&2048)){A=R&1;L=(R&1|0)==0?19201:19206}else{A=1;L=19203}else{_=-_;A=1;L=19200}u[f>>3]=_;T=o[f+4>>2]&2146435072;do{if(T>>>0<2146435072|(T|0)==2146435072&0<0){_=+qc(_,U+16|0)*2.0;if(_!=0.0)o[U+16>>2]=(o[U+16>>2]|0)+-1;if((E|32|0)==97){y=(E&32|0)==0?L:L+9|0;v=A|2;e=12-g|0;do{if(!(g>>>0>11|(e|0)==0)){b=8.0;do{e=e+-1|0;b=b*16.0}while((e|0)!=0);if((i[y>>0]|0)==45){_=-(b+(-_-b));break}else{_=_+b-b;break}}}while(0);p=o[U+16>>2]|0;e=(p|0)<0?0-p|0:p;e=Wc(e,((e|0)<0)<<31>>31,U+576+12|0)|0;if((e|0)==(U+576+12|0)){i[U+576+11>>0]=48;e=U+576+11|0}i[e+-1>>0]=(p>>31&2)+43;m=e+-2|0;i[m>>0]=E+15;d=(g|0)<1;e=U+588|0;while(1){L=~~_;p=e+1|0;i[e>>0]=s[17275+L>>0]|E&32;_=(_-+(L|0))*16.0;do{if((p-B|0)==1){if((R&8|0)==0&(d&_==0.0))break;i[p>>0]=46;p=e+2|0}}while(0);if(!(_!=0.0))break;else e=p}e=(g|0)!=0&(-2-B+p|0)<(g|0)?j+2+g-m|0:j-B-m+p|0;Hc(t,32,D,e+v|0,R);if(!(o[t>>2]&32))zc(y,v,t);Hc(t,48,D,e+v|0,R^65536);if(!(o[t>>2]&32))zc(U+588|0,p-B|0,t);Hc(t,48,e-(p-B+(j-m))|0,0,0);if(!(o[t>>2]&32))zc(m,j-m|0,t);Hc(t,32,D,e+v|0,R^8192);e=(e+v|0)<(D|0)?D:e+v|0;break}e=(g|0)<0?6:g;if(_!=0.0){p=(o[U+16>>2]|0)+-28|0;o[U+16>>2]=p;_=_*268435456.0}else p=o[U+16>>2]|0;T=(p|0)<0?U+24|0:U+24+288|0;m=T;do{C=~~_>>>0;o[m>>2]=C;m=m+4|0;_=(_-+(C>>>0))*1.0e9}while(_!=0.0);p=o[U+16>>2]|0;if((p|0)>0){d=T;do{v=(p|0)>29?29:p;p=m+-4|0;do{if(p>>>0>=d>>>0){g=0;do{M=Pl(o[p>>2]|0,0,v|0)|0;M=Rl(M|0,I|0,g|0,0)|0;C=I;S=Hl(M|0,C|0,1e9,0)|0;o[p>>2]=S;g=Wl(M|0,C|0,1e9,0)|0;p=p+-4|0}while(p>>>0>=d>>>0);if(!g)break;d=d+-4|0;o[d>>2]=g}}while(0);while(1){if(m>>>0<=d>>>0)break;p=m+-4|0;if(!(o[p>>2]|0))m=p;else break}p=(o[U+16>>2]|0)-v|0;o[U+16>>2]=p}while((p|0)>0)}else d=T;if((p|0)<0){do{v=0-p|0;v=(v|0)>9?9:v;do{if(d>>>0<m>>>0){g=0;p=d;do{C=o[p>>2]|0;o[p>>2]=(C>>>v)+g;g=et(C&(1<<v)+-1,1e9>>>v)|0;p=p+4|0}while(p>>>0<m>>>0);p=(o[d>>2]|0)==0?d+4|0:d;if(!g){d=p;p=m;break}o[m>>2]=g;d=p;p=m+4|0}else{d=(o[d>>2]|0)==0?d+4|0:d;p=m}}while(0);m=(E|32|0)==102?T:d;m=(p-m>>2|0)>(((e+25|0)/9|0)+1|0)?m+(((e+25|0)/9|0)+1<<2)|0:p;p=(o[U+16>>2]|0)+v|0;o[U+16>>2]=p}while((p|0)<0);p=d}else p=d;do{if(p>>>0<m>>>0){d=(T-p>>2)*9|0;v=o[p>>2]|0;if(v>>>0<10)break;else g=10;do{g=g*10|0;d=d+1|0}while(v>>>0>=g>>>0)}else d=0}while(0);g=e-((E|32|0)!=102?d:0)+(((e|0)!=0&(E|32|0)==103)<<31>>31)|0;if((g|0)<(((m-T>>2)*9|0)+-9|0)){S=T+4+(((g+9216|0)/9|0)+-1024<<2)|0;if((((g+9216|0)%9|0)+1|0)<9){v=10;y=((g+9216|0)%9|0)+1|0;while(1){g=v*10|0;y=y+1|0;if((y|0)==9)break;else v=g}}else g=10;x=o[S>>2]|0;w=(x>>>0)%(g>>>0)|0;v=(S+4|0)==(m|0);do{if(v&(w|0)==0)g=S;else{b=(((x>>>0)/(g>>>0)|0)&1|0)==0?9007199254740992.0:9007199254740994.0;y=(g|0)/2|0;if(w>>>0<y>>>0)_=.5;else _=v&(w|0)==(y|0)?1.0:1.5;do{if(A){if((i[L>>0]|0)!=45)break;b=-b;_=-_}}while(0);o[S>>2]=x-w;if(!(b+_!=b)){g=S;break}C=x-w+g|0;o[S>>2]=C;if(C>>>0>999999999){d=S;while(1){g=d+-4|0;o[d>>2]=0;if(g>>>0<p>>>0){p=p+-4|0;o[p>>2]=0}C=(o[g>>2]|0)+1|0;o[g>>2]=C;if(C>>>0>999999999)d=g;else break}}else g=S;d=(T-p>>2)*9|0;y=o[p>>2]|0;if(y>>>0<10)break;else v=10;do{v=v*10|0;d=d+1|0}while(y>>>0>=v>>>0)}}while(0);M=g+4|0;C=p;p=m>>>0>M>>>0?M:m}else{C=p;p=m}y=0-d|0;M=p;while(1){if(M>>>0<=C>>>0){w=0;break}p=M+-4|0;if(!(o[p>>2]|0))M=p;else{w=1;break}}do{if((E|32|0)==103){if((((e|0)!=0^1)+e|0)>(d|0)&(d|0)>-5){v=E+-1|0;e=((e|0)!=0^1)+e+-1-d|0}else{v=E+-2|0;e=((e|0)!=0^1)+e+-1|0}if(R&8|0){g=R&8;break}do{if(w){p=o[M+-4>>2]|0;if(!p){m=9;break}if(!((p>>>0)%10|0)){g=10;m=0}else{m=0;break}do{g=g*10|0;m=m+1|0}while(!((p>>>0)%(g>>>0)|0|0))}else m=9}while(0);p=((M-T>>2)*9|0)+-9|0;if((v|32|0)==102){g=p-m|0;g=(g|0)<0?0:g;e=(e|0)<(g|0)?e:g;g=0;break}else{g=p+d-m|0;g=(g|0)<0?0:g;e=(e|0)<(g|0)?e:g;g=0;break}}else{v=E;g=R&8}}while(0);x=e|g;m=(v|32|0)==102;if(m){p=(d|0)>0?d:0;y=0}else{p=(d|0)<0?y:d;p=Wc(p,((p|0)<0)<<31>>31,U+576+12|0)|0;if((j-p|0)<2)do{p=p+-1|0;i[p>>0]=48}while((j-p|0)<2);i[p+-1>>0]=(d>>31&2)+43;y=p+-2|0;i[y>>0]=v;p=j-y|0}S=A+1+e+((x|0)!=0&1)+p|0;Hc(t,32,D,S,R);if(!(o[t>>2]&32))zc(L,A,t);Hc(t,48,D,S,R^65536);do{if(m){m=C>>>0>T>>>0?T:C;d=m;do{p=Wc(o[d>>2]|0,0,F)|0;do{if((d|0)==(m|0)){if((p|0)!=(F|0))break;i[U+588+8>>0]=48;p=U+588+8|0}else{if(p>>>0<=(U+588|0)>>>0)break;Il(U+588|0,48,p-B|0)|0;do{p=p+-1|0}while(p>>>0>(U+588|0)>>>0)}}while(0);if(!(o[t>>2]&32))zc(p,F-p|0,t);d=d+4|0}while(d>>>0<=T>>>0);do{if(x|0){if(o[t>>2]&32|0)break;zc(19235,1,t)}}while(0);if((e|0)>0&d>>>0<M>>>0)while(1){p=Wc(o[d>>2]|0,0,F)|0;if(p>>>0>(U+588|0)>>>0){Il(U+588|0,48,p-B|0)|0;do{p=p+-1|0}while(p>>>0>(U+588|0)>>>0)}if(!(o[t>>2]&32))zc(p,(e|0)>9?9:e,t);d=d+4|0;p=e+-9|0;if(!((e|0)>9&d>>>0<M>>>0)){e=p;break}else e=p}Hc(t,48,e+9|0,9,0)}else{v=w?M:C+4|0;if((e|0)>-1){g=(g|0)==0;m=C;do{p=Wc(o[m>>2]|0,0,F)|0;if((p|0)==(F|0)){i[U+588+8>>0]=48;p=U+588+8|0}do{if((m|0)==(C|0)){d=p+1|0;if(!(o[t>>2]&32))zc(p,1,t);if(g&(e|0)<1){p=d;break}if(o[t>>2]&32|0){p=d;break}zc(19235,1,t);p=d}else{if(p>>>0<=(U+588|0)>>>0)break;Il(U+588|0,48,p+(0-B)|0)|0;do{p=p+-1|0}while(p>>>0>(U+588|0)>>>0)}}while(0);d=F-p|0;if(!(o[t>>2]&32))zc(p,(e|0)>(d|0)?d:e,t);e=e-d|0;m=m+4|0}while(m>>>0<v>>>0&(e|0)>-1)}Hc(t,48,e+18|0,18,0);if(o[t>>2]&32|0)break;zc(y,j-y|0,t)}}while(0);Hc(t,32,D,S,R^8192);e=(S|0)<(D|0)?D:S}else{m=_!=_|0.0!=0.0;p=m?0:A;Hc(t,32,D,p+3|0,d);e=o[t>>2]|0;if(!(e&32)){zc(L,p,t);e=o[t>>2]|0}if(!(e&32))zc(m?E&32|0?19227:19231:E&32|0?19219:19223,3,t);Hc(t,32,D,p+3|0,R^8192);e=(p+3|0)<(D|0)?D:p+3|0}}while(0);p=e;g=k;w=P;continue t}default:{e=w;d=R;y=g;w=0;x=17291;p=N}}}while(0);e:do{if((O|0)==66){p=o[U>>2]|0;d=o[U+4>>2]|0;m=y&32;if(!((p|0)==0&(d|0)==0)){e=N;do{e=e+-1|0;i[e>>0]=s[17275+(p&15)>>0]|m;p=kl(p|0,d|0,4)|0;d=I}while(!((p|0)==0&(d|0)==0));if((v&8|0)==0|(o[U>>2]|0)==0&(o[U+4>>2]|0)==0){p=v;v=0;m=17291;O=79}else{p=v;v=2;m=17291+(y>>4)|0;O=79}}else{e=N;p=v;v=0;m=17291;O=79}}else if((O|0)==78){e=Wc(e,p,N)|0;p=R;v=d;O=79}else if((O|0)==92){O=0;R=jc(p,0,g)|0;e=p;y=(R|0)==0?g:R-p|0;w=0;x=17291;p=(R|0)==0?p+g|0:R}else if((O|0)==96){O=0;d=0;p=0;v=e;while(1){m=o[v>>2]|0;if(!m)break;p=Xc(U+528|0,m)|0;if((p|0)<0|p>>>0>(g-d|0)>>>0)break;d=p+d|0;if(g>>>0>d>>>0)v=v+4|0;else break}if((p|0)<0){l=-1;break t}Hc(t,32,D,d,R);if(!d){e=0;O=107}else{m=0;while(1){p=o[e>>2]|0;if(!p){e=d;O=107;break e}p=Xc(U+528|0,p)|0;m=p+m|0;if((m|0)>(d|0)){e=d;O=107;break e}if(!(o[t>>2]&32))zc(U+528|0,p,t);if(m>>>0>=d>>>0){e=d;O=107;break}else e=e+4|0}}}}while(0);if((O|0)==107){O=0;Hc(t,32,D,e,R^8192);p=(D|0)>(e|0)?D:e;g=k;w=P;continue}if((O|0)==79){O=0;d=(g|0)>-1?p&-65537:p;p=(o[U>>2]|0)!=0|(o[U+4>>2]|0)!=0;if((g|0)!=0|p){y=(p&1^1)+(N-e)|0;y=(g|0)>(y|0)?g:y;w=v;x=m;p=N}else{e=N;y=0;w=v;x=m;p=N}}v=p-e|0;m=(y|0)<(v|0)?v:y;g=w+m|0;p=(D|0)<(g|0)?g:D;Hc(t,32,p,g,d);if(!(o[t>>2]&32))zc(x,w,t);Hc(t,48,p,g,d^65536);Hc(t,48,m,v,0);if(!(o[t>>2]&32))zc(e,v,t);Hc(t,32,p,g,d^8192);g=k;w=P}t:do{if((O|0)==254)if(!t)if(!g)l=0;else{l=1;while(1){e=o[c+(l<<2)>>2]|0;if(!e){e=0;break}Vc(a+(l<<3)|0,e,n);l=l+1|0;if((l|0)>=10){l=1;break t}}while(1){l=l+1|0;if(e|0){l=-1;break t}if((l|0)>=10){l=1;break t}e=o[c+(l<<2)>>2]|0}}}while(0);h=U;return l|0}function zc(t,e,n){t=t|0;e=e|0;n=n|0;var r=0,s=0,a=0;r=o[n+16>>2]|0;if(!r){if(!(Gc(n)|0)){s=o[n+16>>2]|0;a=5}}else{s=r;a=5}t:do{if((a|0)==5){r=o[n+20>>2]|0;if((s-r|0)>>>0<e>>>0){vk[o[n+36>>2]&63](n,t,e)|0;break}e:do{if((i[n+75>>0]|0)>-1){a=e;while(1){if(!a){s=e;break e}s=a+-1|0;if((i[t+s>>0]|0)==10)break;else a=s}if((vk[o[n+36>>2]&63](n,t,a)|0)>>>0<a>>>0)break t;s=e-a|0;t=t+a|0;r=o[n+20>>2]|0}else s=e}while(0);Ol(r|0,t|0,s|0)|0;o[n+20>>2]=(o[n+20>>2]|0)+s}}while(0);return}function Gc(t){t=t|0;var e=0;e=i[t+74>>0]|0;i[t+74>>0]=e+255|e;e=o[t>>2]|0;if(!(e&8)){o[t+8>>2]=0;o[t+4>>2]=0;e=o[t+44>>2]|0;o[t+28>>2]=e;o[t+20>>2]=e;o[t+16>>2]=e+(o[t+48>>2]|0);e=0}else{o[t>>2]=e|32;e=-1}return e|0}function Vc(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0,s=0.0;t:do{if(e>>>0<=20)do{switch(e|0){case 9:{i=(o[n>>2]|0)+(4-1)&~(4-1);e=o[i>>2]|0;o[n>>2]=i+4;o[t>>2]=e;break t}case 10:{e=(o[n>>2]|0)+(4-1)&~(4-1);i=o[e>>2]|0;o[n>>2]=e+4;o[t>>2]=i;o[t+4>>2]=((i|0)<0)<<31>>31;break t}case 11:{e=(o[n>>2]|0)+(4-1)&~(4-1);i=o[e>>2]|0;o[n>>2]=e+4;o[t>>2]=i;o[t+4>>2]=0;break t}case 12:{r=(o[n>>2]|0)+(8-1)&~(8-1);e=o[r>>2]|0;i=o[r+4>>2]|0;o[n>>2]=r+8;o[t>>2]=e;o[t+4>>2]=i;break t}case 13:{i=(o[n>>2]|0)+(4-1)&~(4-1);r=o[i>>2]|0;o[n>>2]=i+4;o[t>>2]=(r&65535)<<16>>16;o[t+4>>2]=(((r&65535)<<16>>16|0)<0)<<31>>31;break t}case 14:{i=(o[n>>2]|0)+(4-1)&~(4-1);r=o[i>>2]|0;o[n>>2]=i+4;o[t>>2]=r&65535;o[t+4>>2]=0;break t}case 15:{i=(o[n>>2]|0)+(4-1)&~(4-1);r=o[i>>2]|0;o[n>>2]=i+4;o[t>>2]=(r&255)<<24>>24;o[t+4>>2]=(((r&255)<<24>>24|0)<0)<<31>>31;break t}case 16:{i=(o[n>>2]|0)+(4-1)&~(4-1);r=o[i>>2]|0;o[n>>2]=i+4;o[t>>2]=r&255;o[t+4>>2]=0;break t}case 17:{r=(o[n>>2]|0)+(8-1)&~(8-1);s=+u[r>>3];o[n>>2]=r+8;u[t>>3]=s;break t}case 18:{r=(o[n>>2]|0)+(8-1)&~(8-1);s=+u[r>>3];o[n>>2]=r+8;u[t>>3]=s;break t}default:break t}}while(0)}while(0);return}function Wc(t,e,n){t=t|0;e=e|0;n=n|0;var r=0;if(e>>>0>0|(e|0)==0&t>>>0>4294967295)while(1){r=Hl(t|0,e|0,10,0)|0;n=n+-1|0;i[n>>0]=r|48;r=t;t=Wl(t|0,e|0,10,0)|0;if(!(e>>>0>9|(e|0)==9&r>>>0>4294967295))break;else e=I}if(t)while(1){n=n+-1|0;i[n>>0]=(t>>>0)%10|0|48;if(t>>>0<10)break;else t=(t>>>0)/10|0}return n|0}function Hc(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;var s=0,a=0;a=h;h=h+256|0;do{if((n|0)>(i|0)&(r&73728|0)==0){Il(a|0,e|0,((n-i|0)>>>0>256?256:n-i|0)|0)|0;r=o[t>>2]|0;if((n-i|0)>>>0>255){s=n-i|0;e=r;r=(r&32|0)==0;do{if(r){zc(a,256,t);e=o[t>>2]|0}s=s+-256|0;r=(e&32|0)==0}while(s>>>0>255);if(r)e=n-i&255;else break}else if(!(r&32))e=n-i|0;else break;zc(a,e,t)}}while(0);h=a;return}function Xc(t,e){t=t|0;e=e|0;do{if(!t)t=0;else{if(e>>>0<128){i[t>>0]=e;t=1;break}if(e>>>0<2048){i[t>>0]=e>>>6|192;i[t+1>>0]=e&63|128;t=2;break}if(e>>>0<55296|(e&-8192|0)==57344){i[t>>0]=e>>>12|224;i[t+1>>0]=e>>>6&63|128;i[t+2>>0]=e&63|128;t=3;break}if((e+-65536|0)>>>0<1048576){i[t>>0]=e>>>18|240;i[t+1>>0]=e>>>12&63|128;i[t+2>>0]=e>>>6&63|128;i[t+3>>0]=e&63|128;t=4;break}if(!0)t=22816;else t=o[(Bl()|0)+64>>2]|0;o[t>>2]=84;t=-1}}while(0);return t|0}function qc(t,e){t=+t;e=e|0;var n=0,i=0,r=0;u[f>>3]=t;n=o[f>>2]|0;i=o[f+4>>2]|0;r=kl(n|0,i|0,52)|0;switch(r&2047|0){case 0:{if(t!=0.0){t=+qc(t*18446744073709551616.0,e);n=(o[e>>2]|0)+-64|0}else n=0;o[e>>2]=n;break}case 2047:break;default:{o[e>>2]=(r&2047)+-1022;o[f>>2]=n;o[f+4>>2]=i&-2146435073|1071644672;t=+u[f>>3]}}return+t}function Yc(t){t=+t;var e=0,n=0,i=0,r=0,s=0,a=0;a=(l[f>>2]=t,o[f>>2]|0);t:do{if((a>>>23&255|0)==255)t=t*6.2831854820251465/(t*6.2831854820251465);else{if(a<<1>>>0<=2173837238)return+((a<<1|0)==-2121130058?t*0.0:t);if(!(a>>>23&255)){if((a<<9|0)>-1){e=0;n=a<<9;do{e=e+-1|0;n=n<<1}while((n|0)>-1);n=e}else n=0;e=n;i=a<<1-n}else{e=a>>>23&255;i=a&8388607|8388608}r=i+-13176795|0;e:do{if((e|0)>129){s=(r|0)>-1;n=r;while(1){if(s){if((i|0)==13176795)break}else n=i;i=n<<1;e=e+-1|0;if((e|0)>129){s=(i+-13176795|0)>-1;n=i+-13176795|0}else{n=i+-13176795|0;r=(i+-13176795|0)>-1;break e}}t=t*0.0;break t}else{n=r;r=(r|0)>-1}}while(0);if(r){if((i|0)==13176795){t=t*0.0;break}}else n=i;if(n>>>0<8388608)do{n=n<<1;e=e+-1|0}while(n>>>0<8388608);if((e|0)>0)e=n+-8388608|e<<23;else e=n>>>(1-e|0);t=(o[f>>2]=e|a&-2147483648,+l[f>>2])}}while(0);return+t}function Zc(t,e){t=t|0;e=e|0;var n=0,r=0,a=0;a=h;h=h+16|0;i[a>>0]=e;n=o[t+16>>2]|0;if(!n)if(!(Gc(t)|0)){n=o[t+16>>2]|0;r=4}else n=-1;else r=4;do{if((r|0)==4){r=o[t+20>>2]|0;if(r>>>0<n>>>0?(e&255|0)!=(i[t+75>>0]|0):0){o[t+20>>2]=r+1;i[r>>0]=e;n=e&255;break}if((vk[o[t+36>>2]&63](t,a,1)|0)==1)n=s[a>>0]|0;else n=-1}}while(0);h=a;return n|0}function Jc(t){t=t|0;var e=0,n=0,i=0,r=0,s=0,a=0,c=0,l=0,u=0,p=0,f=0,d=0,_=0,m=0,g=0,b=0,v=0,y=0,x=0,w=0,S=0,M=0,C=0,T=0,A=0,L=0,E=0,R=0,I=0;I=h;h=h+16|0;do{if(t>>>0<245){d=t>>>0<11?16:t+11&-8;s=o[5705]|0;if(s>>>(d>>>3)&3|0){t=22860+((s>>>(d>>>3)&1^1)+(d>>>3)<<1<<2)|0;e=o[t+8>>2]|0;n=o[e+8>>2]|0;do{if((t|0)!=(n|0)){if(n>>>0<(o[5709]|0)>>>0)Yt();if((o[n+12>>2]|0)==(e|0)){o[n+12>>2]=t;o[t+8>>2]=n;break}else Yt()}else o[5705]=s&~(1<<(s>>>(d>>>3)&1^1)+(d>>>3))}while(0);R=(s>>>(d>>>3)&1^1)+(d>>>3)<<3;o[e+4>>2]=R|3;o[e+R+4>>2]=o[e+R+4>>2]|1;R=e+8|0;h=I;return R|0}e=o[5707]|0;if(d>>>0>e>>>0){if(s>>>(d>>>3)|0){t=s>>>(d>>>3)<<(d>>>3)&(2<<(d>>>3)|0-(2<<(d>>>3)));r=((t&0-t)+-1|0)>>>(((t&0-t)+-1|0)>>>12&16);i=r>>>(r>>>5&8)>>>(r>>>(r>>>5&8)>>>2&4);i=(r>>>5&8|((t&0-t)+-1|0)>>>12&16|r>>>(r>>>5&8)>>>2&4|i>>>1&2|i>>>(i>>>1&2)>>>1&1)+(i>>>(i>>>1&2)>>>(i>>>(i>>>1&2)>>>1&1))|0;r=o[22860+(i<<1<<2)+8>>2]|0;t=o[r+8>>2]|0;do{if((22860+(i<<1<<2)|0)!=(t|0)){if(t>>>0<(o[5709]|0)>>>0)Yt();if((o[t+12>>2]|0)==(r|0)){o[t+12>>2]=22860+(i<<1<<2);o[22860+(i<<1<<2)+8>>2]=t;a=o[5707]|0;break}else Yt()}else{o[5705]=s&~(1<<i);a=e}}while(0);o[r+4>>2]=d|3;o[r+d+4>>2]=(i<<3)-d|1;o[r+d+((i<<3)-d)>>2]=(i<<3)-d;if(a|0){n=o[5710]|0;e=a>>>3;t=o[5705]|0;if(t&1<<e){t=o[22860+(e<<1<<2)+8>>2]|0;if(t>>>0<(o[5709]|0)>>>0)Yt();else{c=22860+(e<<1<<2)+8|0;l=t}}else{o[5705]=t|1<<e;c=22860+(e<<1<<2)+8|0;l=22860+(e<<1<<2)|0}o[c>>2]=n;o[l+12>>2]=n;o[n+8>>2]=l;o[n+12>>2]=22860+(e<<1<<2)}o[5707]=(i<<3)-d;o[5710]=r+d;R=r+8|0;h=I;return R|0}t=o[5706]|0;if(t){c=((t&0-t)+-1|0)>>>(((t&0-t)+-1|0)>>>12&16);l=c>>>(c>>>5&8)>>>(c>>>(c>>>5&8)>>>2&4);l=o[23124+((c>>>5&8|((t&0-t)+-1|0)>>>12&16|c>>>(c>>>5&8)>>>2&4|l>>>1&2|l>>>(l>>>1&2)>>>1&1)+(l>>>(l>>>1&2)>>>(l>>>(l>>>1&2)>>>1&1))<<2)>>2]|0;c=(o[l+4>>2]&-8)-d|0;e=l;while(1){t=o[e+16>>2]|0;if(!t){t=o[e+20>>2]|0;if(!t)break}e=(o[t+4>>2]&-8)-d|0;R=e>>>0<c>>>0;c=R?e:c;e=t;l=R?t:l}r=o[5709]|0;if(l>>>0<r>>>0)Yt();a=l+d|0;if(l>>>0>=a>>>0)Yt();s=o[l+24>>2]|0;t=o[l+12>>2]|0;do{if((t|0)==(l|0)){e=l+20|0;t=o[e>>2]|0;if(!t){e=l+16|0;t=o[e>>2]|0;if(!t){u=0;break}}while(1){n=t+20|0;i=o[n>>2]|0;if(i|0){t=i;e=n;continue}n=t+16|0;i=o[n>>2]|0;if(!i)break;else{t=i;e=n}}if(e>>>0<r>>>0)Yt();else{o[e>>2]=0;u=t;break}}else{e=o[l+8>>2]|0;if(e>>>0<r>>>0)Yt();if((o[e+12>>2]|0)!=(l|0))Yt();if((o[t+8>>2]|0)==(l|0)){o[e+12>>2]=t;o[t+8>>2]=e;u=t;break}else Yt()}}while(0);do{if(s|0){t=o[l+28>>2]|0;if((l|0)==(o[23124+(t<<2)>>2]|0)){o[23124+(t<<2)>>2]=u;if(!u){o[5706]=o[5706]&~(1<<t);break}}else{if(s>>>0<(o[5709]|0)>>>0)Yt();if((o[s+16>>2]|0)==(l|0))o[s+16>>2]=u;else o[s+20>>2]=u;if(!u)break}e=o[5709]|0;if(u>>>0<e>>>0)Yt();o[u+24>>2]=s;t=o[l+16>>2]|0;do{if(t|0)if(t>>>0<e>>>0)Yt();else{o[u+16>>2]=t;o[t+24>>2]=u;break}}while(0);t=o[l+20>>2]|0;if(t|0)if(t>>>0<(o[5709]|0)>>>0)Yt();else{o[u+20>>2]=t;o[t+24>>2]=u;break}}}while(0);if(c>>>0<16){R=c+d|0;o[l+4>>2]=R|3;R=l+R+4|0;o[R>>2]=o[R>>2]|1}else{o[l+4>>2]=d|3;o[a+4>>2]=c|1;o[a+c>>2]=c;e=o[5707]|0;if(e|0){n=o[5710]|0;t=o[5705]|0;if(t&1<<(e>>>3)){t=o[22860+(e>>>3<<1<<2)+8>>2]|0;if(t>>>0<(o[5709]|0)>>>0)Yt();else{p=22860+(e>>>3<<1<<2)+8|0;f=t}}else{o[5705]=t|1<<(e>>>3);p=22860+(e>>>3<<1<<2)+8|0;f=22860+(e>>>3<<1<<2)|0}o[p>>2]=n;o[f+12>>2]=n;o[n+8>>2]=f;o[n+12>>2]=22860+(e>>>3<<1<<2)}o[5707]=c;o[5710]=a}R=l+8|0;h=I;return R|0}}}else if(t>>>0<=4294967231){d=t+11&-8;c=o[5706]|0;if(c){if((t+11|0)>>>8)if(d>>>0>16777215)a=31;else{a=(t+11|0)>>>8<<((((t+11|0)>>>8)+1048320|0)>>>16&8);a=14-((a+520192|0)>>>16&4|(((t+11|0)>>>8)+1048320|0)>>>16&8|((a<<((a+520192|0)>>>16&4))+245760|0)>>>16&2)+(a<<((a+520192|0)>>>16&4)<<(((a<<((a+520192|0)>>>16&4))+245760|0)>>>16&2)>>>15)|0;a=d>>>(a+7|0)&1|a<<1}else a=0;e=o[23124+(a<<2)>>2]|0;t:do{if(!e){n=0-d|0;t=0;e=0;S=86}else{n=0-d|0;t=0;r=d<<((a|0)==31?0:25-(a>>>1)|0);s=e;e=0;while(1){i=o[s+4>>2]&-8;if((i-d|0)>>>0<n>>>0)if((i|0)==(d|0)){n=i-d|0;t=s;e=s;S=90;break t}else{n=i-d|0;e=s}i=o[s+20>>2]|0;s=o[s+16+(r>>>31<<2)>>2]|0;t=(i|0)==0|(i|0)==(s|0)?t:i;i=(s|0)==0;if(i){S=86;break}else r=r<<(i&1^1)}}}while(0);if((S|0)==86){if((t|0)==0&(e|0)==0){t=2<<a;if(!(c&(t|0-t)))break;p=(c&(t|0-t)&0-(c&(t|0-t)))+-1|0;f=p>>>(p>>>12&16)>>>(p>>>(p>>>12&16)>>>5&8);t=f>>>(f>>>2&4)>>>(f>>>(f>>>2&4)>>>1&2);t=o[23124+((p>>>(p>>>12&16)>>>5&8|p>>>12&16|f>>>2&4|f>>>(f>>>2&4)>>>1&2|t>>>1&1)+(t>>>(t>>>1&1))<<2)>>2]|0}if(!t){c=n;l=e}else S=90}if((S|0)==90)while(1){S=0;f=(o[t+4>>2]&-8)-d|0;i=f>>>0<n>>>0;n=i?f:n;e=i?t:e;i=o[t+16>>2]|0;if(i|0){t=i;S=90;continue}t=o[t+20>>2]|0;if(!t){c=n;l=e;break}else S=90}if((l|0)!=0?c>>>0<((o[5707]|0)-d|0)>>>0:0){r=o[5709]|0;if(l>>>0<r>>>0)Yt();a=l+d|0;if(l>>>0>=a>>>0)Yt();s=o[l+24>>2]|0;t=o[l+12>>2]|0;do{if((t|0)==(l|0)){e=l+20|0;t=o[e>>2]|0;if(!t){e=l+16|0;t=o[e>>2]|0;if(!t){m=0;break}}while(1){n=t+20|0;i=o[n>>2]|0;if(i|0){t=i;e=n;continue}n=t+16|0;i=o[n>>2]|0;if(!i)break;else{t=i;e=n}}if(e>>>0<r>>>0)Yt();else{o[e>>2]=0;m=t;break}}else{e=o[l+8>>2]|0;if(e>>>0<r>>>0)Yt();if((o[e+12>>2]|0)!=(l|0))Yt();if((o[t+8>>2]|0)==(l|0)){o[e+12>>2]=t;o[t+8>>2]=e;m=t;break}else Yt()}}while(0);do{if(s|0){t=o[l+28>>2]|0;if((l|0)==(o[23124+(t<<2)>>2]|0)){o[23124+(t<<2)>>2]=m;if(!m){o[5706]=o[5706]&~(1<<t);break}}else{if(s>>>0<(o[5709]|0)>>>0)Yt();if((o[s+16>>2]|0)==(l|0))o[s+16>>2]=m;else o[s+20>>2]=m;if(!m)break}e=o[5709]|0;if(m>>>0<e>>>0)Yt();o[m+24>>2]=s;t=o[l+16>>2]|0;do{if(t|0)if(t>>>0<e>>>0)Yt();else{o[m+16>>2]=t;o[t+24>>2]=m;break}}while(0);t=o[l+20>>2]|0;if(t|0)if(t>>>0<(o[5709]|0)>>>0)Yt();else{o[m+20>>2]=t;o[t+24>>2]=m;break}}}while(0);do{if(c>>>0>=16){o[l+4>>2]=d|3;o[a+4>>2]=c|1;o[a+c>>2]=c;e=c>>>3;if(c>>>0<256){t=o[5705]|0;if(t&1<<e){t=o[22860+(e<<1<<2)+8>>2]|0;if(t>>>0<(o[5709]|0)>>>0)Yt();else{g=22860+(e<<1<<2)+8|0;b=t}}else{o[5705]=t|1<<e;g=22860+(e<<1<<2)+8|0;b=22860+(e<<1<<2)|0}o[g>>2]=a;o[b+12>>2]=a;o[a+8>>2]=b;o[a+12>>2]=22860+(e<<1<<2);break}t=c>>>8;if(t)if(c>>>0>16777215)n=31;else{n=t<<((t+1048320|0)>>>16&8)<<(((t<<((t+1048320|0)>>>16&8))+520192|0)>>>16&4);n=14-(((t<<((t+1048320|0)>>>16&8))+520192|0)>>>16&4|(t+1048320|0)>>>16&8|(n+245760|0)>>>16&2)+(n<<((n+245760|0)>>>16&2)>>>15)|0;n=c>>>(n+7|0)&1|n<<1}else n=0;i=23124+(n<<2)|0;o[a+28>>2]=n;o[a+16+4>>2]=0;o[a+16>>2]=0;t=o[5706]|0;e=1<<n;if(!(t&e)){o[5706]=t|e;o[i>>2]=a;o[a+24>>2]=i;o[a+12>>2]=a;o[a+8>>2]=a;break}n=c<<((n|0)==31?0:25-(n>>>1)|0);i=o[i>>2]|0;while(1){if((o[i+4>>2]&-8|0)==(c|0)){S=148;break}e=i+16+(n>>>31<<2)|0;t=o[e>>2]|0;if(!t){S=145;break}else{n=n<<1;i=t}}if((S|0)==145)if(e>>>0<(o[5709]|0)>>>0)Yt();else{o[e>>2]=a;o[a+24>>2]=i;o[a+12>>2]=a;o[a+8>>2]=a;break}else if((S|0)==148){t=i+8|0;e=o[t>>2]|0;R=o[5709]|0;if(e>>>0>=R>>>0&i>>>0>=R>>>0){o[e+12>>2]=a;o[t>>2]=a;o[a+8>>2]=e;o[a+12>>2]=i;o[a+24>>2]=0;break}else Yt()}}else{R=c+d|0;o[l+4>>2]=R|3;R=l+R+4|0;o[R>>2]=o[R>>2]|1}}while(0);R=l+8|0;h=I;return R|0}}}else d=-1}while(0);n=o[5707]|0;if(n>>>0>=d>>>0){t=n-d|0;e=o[5710]|0;if(t>>>0>15){R=e+d|0;o[5710]=R;o[5707]=t;o[R+4>>2]=t|1;o[R+t>>2]=t;o[e+4>>2]=d|3}else{o[5707]=0;o[5710]=0;o[e+4>>2]=n|3;o[e+n+4>>2]=o[e+n+4>>2]|1}R=e+8|0;h=I;return R|0}t=o[5708]|0;if(t>>>0>d>>>0){L=t-d|0;o[5708]=L;R=o[5711]|0;E=R+d|0;o[5711]=E;o[E+4>>2]=L|1;o[R+4>>2]=d|3;R=R+8|0;h=I;return R|0}if(!(o[5823]|0)){o[5825]=4096;o[5824]=4096;o[5826]=-1;o[5827]=-1;o[5828]=0;o[5816]=0;o[I>>2]=I&-16^1431655768;o[5823]=I&-16^1431655768}r=d+48|0;n=o[5825]|0;s=d+47|0;a=n+s&0-n;if(a>>>0<=d>>>0){R=0;h=I;return R|0}t=o[5815]|0;if(t|0?(b=o[5813]|0,(b+a|0)>>>0<=b>>>0|(b+a|0)>>>0>t>>>0):0){R=0;h=I;return R|0}t:do{if(!(o[5816]&4)){e=o[5711]|0;e:do{if(e){i=23268;while(1){t=o[i>>2]|0;if(t>>>0<=e>>>0?(_=i+4|0,(t+(o[_>>2]|0)|0)>>>0>e>>>0):0)break;t=o[i+8>>2]|0;if(!t){S=171;break e}else i=t}t=n+s-(o[5708]|0)&0-n;if(t>>>0<2147483647){e=$t(t|0)|0;if((e|0)==((o[i>>2]|0)+(o[_>>2]|0)|0)){if((e|0)!=(-1|0)){a=e;s=t;S=191;break t}}else S=181}}else S=171}while(0);do{if((S|0)==171?(v=$t(0)|0,(v|0)!=(-1|0)):0){t=o[5824]|0;if(!(t+-1&v))t=a;else t=a-v+(t+-1+v&0-t)|0;e=o[5813]|0;n=e+t|0;if(t>>>0>d>>>0&t>>>0<2147483647){b=o[5815]|0;if(b|0?n>>>0<=e>>>0|n>>>0>b>>>0:0)break;e=$t(t|0)|0;if((e|0)==(v|0)){a=v;s=t;S=191;break t}else S=181}}}while(0);e:do{if((S|0)==181){n=0-t|0;do{if(r>>>0>t>>>0&(t>>>0<2147483647&(e|0)!=(-1|0))?(y=o[5825]|0,y=s-t+y&0-y,y>>>0<2147483647):0)if(($t(y|0)|0)==(-1|0)){$t(n|0)|0;break e}else{t=y+t|0;break}}while(0);if((e|0)!=(-1|0)){a=e;s=t;S=191;break t}}}while(0);o[5816]=o[5816]|4;S=188}else S=188}while(0);if((((S|0)==188?a>>>0<2147483647:0)?(x=$t(a|0)|0,w=$t(0)|0,x>>>0<w>>>0&((x|0)!=(-1|0)&(w|0)!=(-1|0))):0)?(w-x|0)>>>0>(d+40|0)>>>0:0){a=x;s=w-x|0;S=191}if((S|0)==191){t=(o[5813]|0)+s|0;o[5813]=t;if(t>>>0>(o[5814]|0)>>>0)o[5814]=t;u=o[5711]|0;do{if(u){r=23268;while(1){t=o[r>>2]|0;e=r+4|0;n=o[e>>2]|0;if((a|0)==(t+n|0)){S=201;break}i=o[r+8>>2]|0;if(!i)break;else r=i}if(((S|0)==201?(o[r+12>>2]&8|0)==0:0)?u>>>0<a>>>0&u>>>0>=t>>>0:0){o[e>>2]=n+s;E=(u+8&7|0)==0?0:0-(u+8)&7;R=s-E+(o[5708]|0)|0;o[5711]=u+E;o[5708]=R;o[u+E+4>>2]=R|1;o[u+E+R+4>>2]=40;o[5712]=o[5827];break}t=o[5709]|0;if(a>>>0<t>>>0){o[5709]=a;l=a}else l=t;e=a+s|0;t=23268;while(1){if((o[t>>2]|0)==(e|0)){S=209;break}t=o[t+8>>2]|0;if(!t){e=23268;break}}if((S|0)==209)if(!(o[t+12>>2]&8)){o[t>>2]=a;f=t+4|0;o[f>>2]=(o[f>>2]|0)+s;f=a+8|0;f=a+((f&7|0)==0?0:0-f&7)|0;t=e+((e+8&7|0)==0?0:0-(e+8)&7)|0;p=f+d|0;c=t-f-d|0;o[f+4>>2]=d|3;do{if((t|0)!=(u|0)){if((t|0)==(o[5710]|0)){R=(o[5707]|0)+c|0;o[5707]=R;o[5710]=p;o[p+4>>2]=R|1;o[p+R>>2]=R;break}a=o[t+4>>2]|0;if((a&3|0)==1){t:do{if(a>>>0>=256){s=o[t+24>>2]|0;e=o[t+12>>2]|0;do{if((e|0)==(t|0)){e=o[t+16+4>>2]|0;if(!e){e=o[t+16>>2]|0;if(!e){L=0;break}else r=t+16|0}else r=t+16+4|0;while(1){n=e+20|0;i=o[n>>2]|0;if(i|0){e=i;r=n;continue}n=e+16|0;i=o[n>>2]|0;if(!i)break;else{e=i;r=n}}if(r>>>0<l>>>0)Yt();else{o[r>>2]=0;L=e;break}}else{n=o[t+8>>2]|0;if(n>>>0<l>>>0)Yt();if((o[n+12>>2]|0)!=(t|0))Yt();if((o[e+8>>2]|0)==(t|0)){o[n+12>>2]=e;o[e+8>>2]=n;L=e;break}else Yt()}}while(0);if(!s)break;e=o[t+28>>2]|0;do{if((t|0)!=(o[23124+(e<<2)>>2]|0)){if(s>>>0<(o[5709]|0)>>>0)Yt();if((o[s+16>>2]|0)==(t|0))o[s+16>>2]=L;else o[s+20>>2]=L;if(!L)break t}else{o[23124+(e<<2)>>2]=L;if(L|0)break;o[5706]=o[5706]&~(1<<e);break t}}while(0);n=o[5709]|0;if(L>>>0<n>>>0)Yt();o[L+24>>2]=s;e=o[t+16>>2]|0;do{if(e|0)if(e>>>0<n>>>0)Yt();else{o[L+16>>2]=e;o[e+24>>2]=L;break}}while(0);e=o[t+16+4>>2]|0;if(!e)break;if(e>>>0<(o[5709]|0)>>>0)Yt();else{o[L+20>>2]=e;o[e+24>>2]=L;break}}else{e=o[t+8>>2]|0;n=o[t+12>>2]|0;do{if((e|0)!=(22860+(a>>>3<<1<<2)|0)){if(e>>>0<l>>>0)Yt();if((o[e+12>>2]|0)==(t|0))break;Yt()}}while(0);if((n|0)==(e|0)){o[5705]=o[5705]&~(1<<(a>>>3));break}do{if((n|0)==(22860+(a>>>3<<1<<2)|0))T=n+8|0;else{if(n>>>0<l>>>0)Yt();if((o[n+8>>2]|0)==(t|0)){T=n+8|0;break}Yt()}}while(0);o[e+12>>2]=n;o[T>>2]=e}}while(0);t=t+(a&-8)|0;r=(a&-8)+c|0}else r=c;e=t+4|0;o[e>>2]=o[e>>2]&-2;o[p+4>>2]=r|1;o[p+r>>2]=r;e=r>>>3;if(r>>>0<256){t=o[5705]|0;do{if(!(t&1<<e)){o[5705]=t|1<<e;E=22860+(e<<1<<2)+8|0;R=22860+(e<<1<<2)|0}else{t=o[22860+(e<<1<<2)+8>>2]|0;if(t>>>0>=(o[5709]|0)>>>0){E=22860+(e<<1<<2)+8|0;R=t;break}Yt()}}while(0);o[E>>2]=p;o[R+12>>2]=p;o[p+8>>2]=R;o[p+12>>2]=22860+(e<<1<<2);break}t=r>>>8;do{if(!t)n=0;else{if(r>>>0>16777215){n=31;break}n=t<<((t+1048320|0)>>>16&8)<<(((t<<((t+1048320|0)>>>16&8))+520192|0)>>>16&4);n=14-(((t<<((t+1048320|0)>>>16&8))+520192|0)>>>16&4|(t+1048320|0)>>>16&8|(n+245760|0)>>>16&2)+(n<<((n+245760|0)>>>16&2)>>>15)|0;n=r>>>(n+7|0)&1|n<<1}}while(0);i=23124+(n<<2)|0;o[p+28>>2]=n;o[p+16+4>>2]=0;o[p+16>>2]=0;t=o[5706]|0;e=1<<n;if(!(t&e)){o[5706]=t|e;o[i>>2]=p;o[p+24>>2]=i;o[p+12>>2]=p;o[p+8>>2]=p;break}n=r<<((n|0)==31?0:25-(n>>>1)|0);i=o[i>>2]|0;while(1){if((o[i+4>>2]&-8|0)==(r|0)){S=279;break}e=i+16+(n>>>31<<2)|0;t=o[e>>2]|0;if(!t){S=276;break}else{n=n<<1;i=t}}if((S|0)==276)if(e>>>0<(o[5709]|0)>>>0)Yt();else{o[e>>2]=p;o[p+24>>2]=i;o[p+12>>2]=p;o[p+8>>2]=p;break}else if((S|0)==279){t=i+8|0;e=o[t>>2]|0;R=o[5709]|0;if(e>>>0>=R>>>0&i>>>0>=R>>>0){o[e+12>>2]=p;o[t>>2]=p;o[p+8>>2]=e;o[p+12>>2]=i;o[p+24>>2]=0;break}else Yt()}}else{R=(o[5708]|0)+c|0;o[5708]=R;o[5711]=p;o[p+4>>2]=R|1}}while(0);R=f+8|0;h=I;return R|0}else e=23268;while(1){t=o[e>>2]|0;if(t>>>0<=u>>>0?(M=t+(o[e+4>>2]|0)|0,M>>>0>u>>>0):0)break;e=o[e+8>>2]|0}r=M+-47+((M+-47+8&7|0)==0?0:0-(M+-47+8)&7)|0;r=r>>>0<(u+16|0)>>>0?u:r;t=a+8|0;t=(t&7|0)==0?0:0-t&7;R=a+t|0;t=s+-40-t|0;o[5711]=R;o[5708]=t;o[R+4>>2]=t|1;o[R+t+4>>2]=40;o[5712]=o[5827];o[r+4>>2]=27;o[r+8>>2]=o[5817];o[r+8+4>>2]=o[5818];o[r+8+8>>2]=o[5819];o[r+8+12>>2]=o[5820];o[5817]=a;o[5818]=s;o[5820]=0;o[5819]=r+8;t=r+24|0;do{t=t+4|0;o[t>>2]=7}while((t+4|0)>>>0<M>>>0);if((r|0)!=(u|0)){o[r+4>>2]=o[r+4>>2]&-2;o[u+4>>2]=r-u|1;o[r>>2]=r-u;if((r-u|0)>>>0<256){e=22860+((r-u|0)>>>3<<1<<2)|0;t=o[5705]|0;if(t&1<<((r-u|0)>>>3)){t=o[e+8>>2]|0;if(t>>>0<(o[5709]|0)>>>0)Yt();else{C=e+8|0;A=t}}else{o[5705]=t|1<<((r-u|0)>>>3);C=e+8|0;A=e}o[C>>2]=u;o[A+12>>2]=u;o[u+8>>2]=A;o[u+12>>2]=e;break}if((r-u|0)>>>8)if((r-u|0)>>>0>16777215)n=31;else{n=(r-u|0)>>>8<<((((r-u|0)>>>8)+1048320|0)>>>16&8);n=14-((n+520192|0)>>>16&4|(((r-u|0)>>>8)+1048320|0)>>>16&8|((n<<((n+520192|0)>>>16&4))+245760|0)>>>16&2)+(n<<((n+520192|0)>>>16&4)<<(((n<<((n+520192|0)>>>16&4))+245760|0)>>>16&2)>>>15)|0;n=(r-u|0)>>>(n+7|0)&1|n<<1}else n=0;i=23124+(n<<2)|0;o[u+28>>2]=n;o[u+20>>2]=0;o[u+16>>2]=0;t=o[5706]|0;e=1<<n;if(!(t&e)){o[5706]=t|e;o[i>>2]=u;o[u+24>>2]=i;o[u+12>>2]=u;o[u+8>>2]=u;break}n=r-u<<((n|0)==31?0:25-(n>>>1)|0);i=o[i>>2]|0;while(1){if((o[i+4>>2]&-8|0)==(r-u|0)){S=305;break}e=i+16+(n>>>31<<2)|0;t=o[e>>2]|0;if(!t){S=302;break}else{n=n<<1;i=t}}if((S|0)==302)if(e>>>0<(o[5709]|0)>>>0)Yt();else{o[e>>2]=u;o[u+24>>2]=i;o[u+12>>2]=u;o[u+8>>2]=u;break}else if((S|0)==305){t=i+8|0;e=o[t>>2]|0;R=o[5709]|0;if(e>>>0>=R>>>0&i>>>0>=R>>>0){o[e+12>>2]=u;o[t>>2]=u;o[u+8>>2]=e;o[u+12>>2]=i;o[u+24>>2]=0;break}else Yt()}}}else{R=o[5709]|0;if((R|0)==0|a>>>0<R>>>0)o[5709]=a;o[5817]=a;o[5818]=s;o[5820]=0;o[5714]=o[5823];o[5713]=-1;t=0;do{R=22860+(t<<1<<2)|0;o[R+12>>2]=R;o[R+8>>2]=R;t=t+1|0}while((t|0)!=32);R=a+8|0;R=(R&7|0)==0?0:0-R&7;E=a+R|0;R=s+-40-R|0;o[5711]=E;o[5708]=R;o[E+4>>2]=R|1;o[E+R+4>>2]=40;o[5712]=o[5827]}}while(0);t=o[5708]|0;if(t>>>0>d>>>0){L=t-d|0;o[5708]=L;R=o[5711]|0;E=R+d|0;o[5711]=E;o[E+4>>2]=L|1;o[R+4>>2]=d|3;R=R+8|0;h=I;return R|0}}if(!0)t=22816;else t=o[(Bl()|0)+64>>2]|0;o[t>>2]=12;R=0;h=I;return R|0}function Kc(t){t=t|0;var e=0,n=0,i=0,r=0,s=0,a=0,c=0,l=0,u=0,h=0,p=0,f=0,d=0,_=0,m=0;if(!t)return;a=o[5709]|0;if((t+-8|0)>>>0<a>>>0)Yt();e=o[t+-4>>2]|0;if((e&3|0)==1)Yt();f=t+-8+(e&-8)|0;do{if(!(e&1)){i=o[t+-8>>2]|0;if(!(e&3))return;u=t+-8+(0-i)|0;l=i+(e&-8)|0;if(u>>>0<a>>>0)Yt();if((u|0)==(o[5710]|0)){t=o[f+4>>2]|0;if((t&3|0)!=3){m=u;r=l;break}o[5707]=l;o[f+4>>2]=t&-2;o[u+4>>2]=l|1;o[u+l>>2]=l;return}if(i>>>0<256){t=o[u+8>>2]|0;e=o[u+12>>2]|0;if((t|0)!=(22860+(i>>>3<<1<<2)|0)){if(t>>>0<a>>>0)Yt();if((o[t+12>>2]|0)!=(u|0))Yt()}if((e|0)==(t|0)){o[5705]=o[5705]&~(1<<(i>>>3));m=u;r=l;break}if((e|0)!=(22860+(i>>>3<<1<<2)|0)){if(e>>>0<a>>>0)Yt();if((o[e+8>>2]|0)!=(u|0))Yt();else n=e+8|0}else n=e+8|0;o[t+12>>2]=e;o[n>>2]=t;m=u;r=l;break}s=o[u+24>>2]|0;t=o[u+12>>2]|0;do{if((t|0)==(u|0)){t=o[u+16+4>>2]|0;if(!t){t=o[u+16>>2]|0;if(!t){c=0;break}else i=u+16|0}else i=u+16+4|0;while(1){e=t+20|0;n=o[e>>2]|0;if(n|0){t=n;i=e;continue}e=t+16|0;n=o[e>>2]|0;if(!n)break;else{t=n;i=e}}if(i>>>0<a>>>0)Yt();else{o[i>>2]=0;c=t;break}}else{e=o[u+8>>2]|0;if(e>>>0<a>>>0)Yt();if((o[e+12>>2]|0)!=(u|0))Yt();if((o[t+8>>2]|0)==(u|0)){o[e+12>>2]=t;o[t+8>>2]=e;c=t;break}else Yt()}}while(0);if(s){t=o[u+28>>2]|0;if((u|0)==(o[23124+(t<<2)>>2]|0)){o[23124+(t<<2)>>2]=c;if(!c){o[5706]=o[5706]&~(1<<t);m=u;r=l;break}}else{if(s>>>0<(o[5709]|0)>>>0)Yt();if((o[s+16>>2]|0)==(u|0))o[s+16>>2]=c;else o[s+20>>2]=c;if(!c){m=u;r=l;break}}e=o[5709]|0;if(c>>>0<e>>>0)Yt();o[c+24>>2]=s;t=o[u+16>>2]|0;do{if(t|0)if(t>>>0<e>>>0)Yt();else{o[c+16>>2]=t;o[t+24>>2]=c;break}}while(0);t=o[u+16+4>>2]|0;if(t)if(t>>>0<(o[5709]|0)>>>0)Yt();else{o[c+20>>2]=t;o[t+24>>2]=c;m=u;r=l;break}else{m=u;r=l}}else{m=u;r=l}}else{m=t+-8|0;r=e&-8}}while(0);if(m>>>0>=f>>>0)Yt();n=o[f+4>>2]|0;if(!(n&1))Yt();if(!(n&2)){if((f|0)==(o[5711]|0)){_=(o[5708]|0)+r|0;o[5708]=_;o[5711]=m;o[m+4>>2]=_|1;if((m|0)!=(o[5710]|0))return;o[5710]=0;o[5707]=0;return}if((f|0)==(o[5710]|0)){_=(o[5707]|0)+r|0;o[5707]=_;o[5710]=m;o[m+4>>2]=_|1;o[m+_>>2]=_;return}r=(n&-8)+r|0;do{if(n>>>0>=256){s=o[f+24>>2]|0;t=o[f+12>>2]|0;do{if((t|0)==(f|0)){t=o[f+16+4>>2]|0;if(!t){t=o[f+16>>2]|0;if(!t){p=0;break}else i=f+16|0}else i=f+16+4|0;while(1){e=t+20|0;n=o[e>>2]|0;if(n|0){t=n;i=e;continue}e=t+16|0;n=o[e>>2]|0;if(!n)break;else{t=n;i=e}}if(i>>>0<(o[5709]|0)>>>0)Yt();else{o[i>>2]=0;p=t;break}}else{e=o[f+8>>2]|0;if(e>>>0<(o[5709]|0)>>>0)Yt();if((o[e+12>>2]|0)!=(f|0))Yt();if((o[t+8>>2]|0)==(f|0)){o[e+12>>2]=t;o[t+8>>2]=e;p=t;break}else Yt()}}while(0);if(s|0){t=o[f+28>>2]|0;if((f|0)==(o[23124+(t<<2)>>2]|0)){o[23124+(t<<2)>>2]=p;if(!p){o[5706]=o[5706]&~(1<<t);break}}else{if(s>>>0<(o[5709]|0)>>>0)Yt();if((o[s+16>>2]|0)==(f|0))o[s+16>>2]=p;else o[s+20>>2]=p;if(!p)break}e=o[5709]|0;if(p>>>0<e>>>0)Yt();o[p+24>>2]=s;t=o[f+16>>2]|0;do{if(t|0)if(t>>>0<e>>>0)Yt();else{o[p+16>>2]=t;o[t+24>>2]=p;break}}while(0);t=o[f+16+4>>2]|0;if(t|0)if(t>>>0<(o[5709]|0)>>>0)Yt();else{o[p+20>>2]=t;o[t+24>>2]=p;break}}}else{t=o[f+8>>2]|0;e=o[f+12>>2]|0;if((t|0)!=(22860+(n>>>3<<1<<2)|0)){if(t>>>0<(o[5709]|0)>>>0)Yt();if((o[t+12>>2]|0)!=(f|0))Yt()}if((e|0)==(t|0)){o[5705]=o[5705]&~(1<<(n>>>3));break}if((e|0)!=(22860+(n>>>3<<1<<2)|0)){if(e>>>0<(o[5709]|0)>>>0)Yt();if((o[e+8>>2]|0)!=(f|0))Yt();else h=e+8|0}else h=e+8|0;o[t+12>>2]=e;o[h>>2]=t}}while(0);o[m+4>>2]=r|1;o[m+r>>2]=r;if((m|0)==(o[5710]|0)){o[5707]=r;return}}else{o[f+4>>2]=n&-2;o[m+4>>2]=r|1;o[m+r>>2]=r}e=r>>>3;if(r>>>0<256){t=o[5705]|0;if(t&1<<e){t=o[22860+(e<<1<<2)+8>>2]|0;if(t>>>0<(o[5709]|0)>>>0)Yt();else{d=22860+(e<<1<<2)+8|0;_=t}}else{o[5705]=t|1<<e;d=22860+(e<<1<<2)+8|0;_=22860+(e<<1<<2)|0}o[d>>2]=m;o[_+12>>2]=m;o[m+8>>2]=_;o[m+12>>2]=22860+(e<<1<<2);return}t=r>>>8;if(t)if(r>>>0>16777215)n=31;else{n=t<<((t+1048320|0)>>>16&8)<<(((t<<((t+1048320|0)>>>16&8))+520192|0)>>>16&4);n=14-(((t<<((t+1048320|0)>>>16&8))+520192|0)>>>16&4|(t+1048320|0)>>>16&8|(n+245760|0)>>>16&2)+(n<<((n+245760|0)>>>16&2)>>>15)|0;n=r>>>(n+7|0)&1|n<<1}else n=0;i=23124+(n<<2)|0;o[m+28>>2]=n;o[m+20>>2]=0;o[m+16>>2]=0;t=o[5706]|0;e=1<<n;do{if(t&e){n=r<<((n|0)==31?0:25-(n>>>1)|0);i=o[i>>2]|0;while(1){if((o[i+4>>2]&-8|0)==(r|0)){t=130;break}e=i+16+(n>>>31<<2)|0;t=o[e>>2]|0;if(!t){t=127;break}else{n=n<<1;i=t}}if((t|0)==127)if(e>>>0<(o[5709]|0)>>>0)Yt();else{o[e>>2]=m;o[m+24>>2]=i;o[m+12>>2]=m;o[m+8>>2]=m;break}else if((t|0)==130){t=i+8|0;e=o[t>>2]|0;_=o[5709]|0;if(e>>>0>=_>>>0&i>>>0>=_>>>0){o[e+12>>2]=m;o[t>>2]=m;o[m+8>>2]=e;o[m+12>>2]=i;o[m+24>>2]=0;break}else Yt()}}else{o[5706]=t|e;o[i>>2]=m;o[m+24>>2]=i;o[m+12>>2]=m;o[m+8>>2]=m}}while(0);m=(o[5713]|0)+-1|0;o[5713]=m;if(!m)t=23276;else return;while(1){t=o[t>>2]|0;if(!t)break;else t=t+8|0}o[5713]=-1;return}function $c(){var t=0,e=0,n=0,i=0;i=h;h=h+48|0;if(oe(23316,3)|0)el(19340,i);t=re(o[5830]|0)|0;if(t|0?(n=o[t>>2]|0,n|0):0){t=o[n+48>>2]|0;e=o[n+48+4>>2]|0;if(!((t&-256|0)==1126902528&(e|0)==1129074247)){o[i+32>>2]=19519;el(19614,i+32|0)}if((t|0)==1126902529&(e|0)==1129074247)t=o[n+44>>2]|0;else t=n+80|0;o[i+44>>2]=t;n=o[n>>2]|0;t=o[n+4>>2]|0;if(sl(2352,n,i+44|0)|0){n=o[i+44>>2]|0;n=uk[o[(o[n>>2]|0)+8>>2]&127](n)|0;o[i+8>>2]=19519;o[i+8+4>>2]=t;o[i+8+8>>2]=n;el(19528,i+8|0)}else{o[i+24>>2]=19519;o[i+24+4>>2]=t;el(19573,i+24|0)}}el(19652,i+40|0)}function Qc(){var t=0;t=h;h=h+16|0;if(!(ae(23320,219)|0)){h=t;return}else el(19290,t)}function tl(t){t=t|0;var e=0;e=h;h=h+16|0;Kc(t);if(!(le(o[5830]|0,0)|0)){h=e;return}else el(19237,e)}function el(t,e){t=t|0;e=e|0;var n=0,r=0,s=0,a=0;r=h;h=h+240|0;o[r+80>>2]=e;e=r+96|0;n=e+40|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(n|0));o[r+136>>2]=o[r+80>>2];if((Uc(0,t,r+136|0,r,r+96|0)|0)>=0){e=o[2026]|0;if((i[8178]|0)<1)o[2026]=e&-33;if(!(o[2038]|0)){n=o[2037]|0;o[2037]=r+152;o[2033]=r+152;o[2031]=r+152;o[2038]=80;o[2030]=r+152+80;Uc(8104,t,r+136|0,r,r+96|0)|0;if(n|0){vk[o[8140>>2]&63](8104,0,0)|0;o[2037]=n;o[2038]=0;o[2030]=0;o[2033]=0;o[2031]=0}}else Uc(8104,t,r+136|0,r,r+96|0)|0;o[2026]=o[2026]|e&32}e=(i[8179]|0)==10;do{if((o[2045]|0)<0){if(!e?(s=o[2031]|0,s>>>0<(o[2030]|0)>>>0):0){o[2031]=s+1;i[s>>0]=10;break}Zc(8104,10)|0}else{if(!e?(a=o[2031]|0,a>>>0<(o[2030]|0)>>>0):0){o[2031]=a+1;i[a>>0]=10;break}Zc(8104,10)|0}}while(0);Yt()}function nl(t){t=t|0;return}function il(t){t=t|0;Kc(t);return}function rl(t){t=t|0;return}function ol(t){t=t|0;return}function sl(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0,s=0;s=h;h=h+64|0;if((t|0)!=(e|0))if((e|0)!=0?(r=al(e,2360)|0,(r|0)!=0):0){e=s;i=e+56|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(i|0));o[s>>2]=r;o[s+8>>2]=t;o[s+12>>2]=-1;o[s+48>>2]=1;Wk[o[(o[r>>2]|0)+28>>2]&127](r,s,o[n>>2]|0,1);if((o[s+24>>2]|0)==1){o[n>>2]=o[s+16>>2];e=1}else e=0}else e=0;else e=1;h=s;return e|0}function al(t,e){t=t|0;e=e|0;var n=0,s=0,a=0,c=0;c=h;h=h+64|0;a=o[t>>2]|0;s=t+(o[a+-8>>2]|0)|0;a=o[a+-4>>2]|0;o[c>>2]=e;o[c+4>>2]=t;o[c+8>>2]=2392;t=c+12|0;n=t+40|0;do{o[t>>2]=0;t=t+4|0}while((t|0)<(n|0));r[c+12+40>>1]=0;i[c+12+42>>0]=0;t:do{if((a|0)==(e|0)){o[c+48>>2]=1;yk[o[(o[e>>2]|0)+20>>2]&7](e,c,s,s,1,0);t=(o[c+24>>2]|0)==1?s:0}else{rk[o[(o[a>>2]|0)+24>>2]&31](a,c,s,1,0);switch(o[c+36>>2]|0){case 0:{t=((o[c+40>>2]|0)==1?(o[c+28>>2]|0)==1:0)&(o[c+32>>2]|0)==1?o[c+20>>2]|0:0;break t}case 1:break;default:{t=0;break t}}if((o[c+24>>2]|0)!=1?!(((o[c+40>>2]|0)==0?(o[c+28>>2]|0)==1:0)&(o[c+32>>2]|0)==1):0){t=0;break}t=o[c+16>>2]|0}}while(0);h=c;return t|0}function cl(t,e,n,i,r,s){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;s=s|0;if((t|0)==(o[e+8>>2]|0))ll(e,n,i,r);else{t=o[t+8>>2]|0;yk[o[(o[t>>2]|0)+20>>2]&7](t,e,n,i,r,s)}return}function ll(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;i[t+53>>0]=1;do{if((o[t+4>>2]|0)==(n|0)){i[t+52>>0]=1;n=o[t+16>>2]|0;if(!n){o[t+16>>2]=e;o[t+24>>2]=r;o[t+36>>2]=1;if(!((r|0)==1?(o[t+48>>2]|0)==1:0))break;i[t+54>>0]=1;break}if((n|0)!=(e|0)){o[t+36>>2]=(o[t+36>>2]|0)+1;i[t+54>>0]=1;break}n=o[t+24>>2]|0;if((n|0)==2){o[t+24>>2]=r;n=r}if((n|0)==1?(o[t+48>>2]|0)==1:0)i[t+54>>0]=1}}while(0);return}function ul(t,e,n,r,s){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;do{if((t|0)==(o[e+8>>2]|0)){if((o[e+4>>2]|0)==(n|0)?(o[e+28>>2]|0)!=1:0)o[e+28>>2]=r}else{if((t|0)!=(o[e>>2]|0)){t=o[t+8>>2]|0;rk[o[(o[t>>2]|0)+24>>2]&31](t,e,n,r,s);break}if((o[e+16>>2]|0)!=(n|0)?(o[e+20>>2]|0)!=(n|0):0){o[e+32>>2]=r;if((o[e+44>>2]|0)==4)break;i[e+52>>0]=0;i[e+53>>0]=0;t=o[t+8>>2]|0;yk[o[(o[t>>2]|0)+20>>2]&7](t,e,n,n,1,s);if(i[e+53>>0]|0)if(!(i[e+52>>0]|0)){r=1;t=13}else t=17;else{r=0;t=13}do{if((t|0)==13){o[e+20>>2]=n;o[e+40>>2]=(o[e+40>>2]|0)+1;if((o[e+36>>2]|0)==1?(o[e+24>>2]|0)==2:0){i[e+54>>0]=1;if(r){t=17;break}else{r=4;break}}if(r)t=17;else r=4}}while(0);if((t|0)==17)r=3;o[e+44>>2]=r;break}if((r|0)==1)o[e+32>>2]=1}}while(0);return}function hl(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;do{if((t|0)==(o[e+8>>2]|0)){t=o[e+16>>2]|0;if(!t){o[e+16>>2]=n;o[e+24>>2]=r;o[e+36>>2]=1;break}if((t|0)!=(n|0)){o[e+36>>2]=(o[e+36>>2]|0)+1;o[e+24>>2]=2;i[e+54>>0]=1;break}if((o[e+24>>2]|0)==2)o[e+24>>2]=r}else{t=o[t+8>>2]|0;Wk[o[(o[t>>2]|0)+28>>2]&127](t,e,n,r)}}while(0);return}function pl(t){t=t|0;Kc(t);return}function fl(t,e,n,i,r,s){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;s=s|0;if((t|0)==(o[e+8>>2]|0))ll(e,n,i,r);return}function dl(t,e,n,r,s){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;do{if((t|0)==(o[e+8>>2]|0)){if((o[e+4>>2]|0)==(n|0)?(o[e+28>>2]|0)!=1:0)o[e+28>>2]=r}else if((t|0)==(o[e>>2]|0)){if((o[e+16>>2]|0)!=(n|0)?(o[e+20>>2]|0)!=(n|0):0){o[e+32>>2]=r;o[e+20>>2]=n;o[e+40>>2]=(o[e+40>>2]|0)+1;if((o[e+36>>2]|0)==1?(o[e+24>>2]|0)==2:0)i[e+54>>0]=1;o[e+44>>2]=4;break}if((r|0)==1)o[e+32>>2]=1}}while(0);return}function _l(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;do{if((t|0)==(o[e+8>>2]|0)){t=o[e+16>>2]|0;if(!t){o[e+16>>2]=n;o[e+24>>2]=r;o[e+36>>2]=1;break}if((t|0)!=(n|0)){o[e+36>>2]=(o[e+36>>2]|0)+1;o[e+24>>2]=2;i[e+54>>0]=1;break}if((o[e+24>>2]|0)==2)o[e+24>>2]=r}}while(0);return}function ml(t){t=t|0;return}function gl(t){t=t|0;Kc(t);return}function bl(t){t=t|0;return 19717}function vl(t){t=t|0;Kc(t);return}function yl(t,e,n,s,a,c){t=t|0;e=e|0;n=n|0;s=s|0;a=a|0;c=c|0;var l=0,u=0,h=0,p=0;if((t|0)==(o[e+8>>2]|0))ll(e,n,s,a);else{h=r[e+52>>1]|0;l=o[t+12>>2]|0;i[e+52>>0]=0;i[e+53>>0]=0;xl(t+16|0,e,n,s,a,c);t:do{if((l|0)>1){p=t+24|0;do{if(i[e+54>>0]|0)break t;u=r[e+52>>1]|0;if(!((u&255)<<24>>24)){if((u&65535)>=256?(o[t+8>>2]&1|0)==0:0)break t}else{if((o[e+24>>2]|0)==1)break t;if(!(o[t+8>>2]&2))break t}i[e+52>>0]=0;i[e+53>>0]=0;xl(p,e,n,s,a,c);p=p+8|0}while(p>>>0<(t+16+(l<<3)|0)>>>0)}}while(0);i[e+52>>0]=h;i[e+53>>0]=(h&65535)>>>8}return}function xl(t,e,n,i,r,s){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;s=s|0;var a=0,c=0;a=o[t+4>>2]|0;if(!(a&1))c=a>>8;else c=o[(o[i>>2]|0)+(a>>8)>>2]|0;t=o[t>>2]|0;yk[o[(o[t>>2]|0)+20>>2]&7](t,e,n,i+c|0,a&2|0?r:2,s);return}function wl(t,e,n,r,s){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;var a=0,c=0,l=0,u=0;t:do{if((t|0)==(o[e+8>>2]|0)){if((o[e+4>>2]|0)==(n|0)?(o[e+28>>2]|0)!=1:0)o[e+28>>2]=r}else{if((t|0)!=(o[e>>2]|0)){c=o[t+12>>2]|0;Sl(t+16|0,e,n,r,s);if((c|0)<=1)break;a=o[t+8>>2]|0;if((a&2|0)==0?(o[e+36>>2]|0)!=1:0){if(!(a&1)){a=t+24|0;while(1){if(i[e+54>>0]|0)break t;if((o[e+36>>2]|0)==1)break t;Sl(a,e,n,r,s);a=a+8|0;if(a>>>0>=(t+16+(c<<3)|0)>>>0)break t}}a=t+24|0;while(1){if(i[e+54>>0]|0)break t;if((o[e+36>>2]|0)==1?(o[e+24>>2]|0)==1:0)break t;Sl(a,e,n,r,s);a=a+8|0;if(a>>>0>=(t+16+(c<<3)|0)>>>0)break t}}a=t+24|0;while(1){if(i[e+54>>0]|0)break t;Sl(a,e,n,r,s);a=a+8|0;if(a>>>0>=(t+16+(c<<3)|0)>>>0)break t}}if((o[e+16>>2]|0)!=(n|0)?(o[e+20>>2]|0)!=(n|0):0){o[e+32>>2]=r;if((o[e+44>>2]|0)==4)break;r=t+16+(o[t+12>>2]<<3)|0;u=0;a=0;l=t+16|0;e:while(1){if(l>>>0>=r>>>0){c=20;break}i[e+52>>0]=0;i[e+53>>0]=0;xl(l,e,n,n,1,s);if(i[e+54>>0]|0){c=20;break}do{if(i[e+53>>0]|0){if(!(i[e+52>>0]|0))if(!(o[t+8>>2]&1)){a=1;c=20;break e}else{c=u;a=1;break}if((o[e+24>>2]|0)==1){c=25;break e}if(!(o[t+8>>2]&2)){c=25;break e}else{c=1;a=1}}else c=u}while(0);u=c;l=l+8|0}do{if((c|0)==20){if((!u?(o[e+20>>2]=n,o[e+40>>2]=(o[e+40>>2]|0)+1,(o[e+36>>2]|0)==1):0)?(o[e+24>>2]|0)==2:0){i[e+54>>0]=1;if(a){c=25;break}else{a=4;break}}if(a)c=25;else a=4}}while(0);if((c|0)==25)a=3;o[e+44>>2]=a;break}if((r|0)==1)o[e+32>>2]=1}}while(0);return}function Sl(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;var s=0,a=0;s=o[t+4>>2]|0;if(!(s&1))a=s>>8;else a=o[(o[n>>2]|0)+(s>>8)>>2]|0;t=o[t>>2]|0;rk[o[(o[t>>2]|0)+24>>2]&31](t,e,n+a|0,s&2|0?i:2,r);return}function Ml(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;var s=0,a=0;t:do{if((t|0)==(o[e+8>>2]|0)){s=o[e+16>>2]|0;if(!s){o[e+16>>2]=n;o[e+24>>2]=r;o[e+36>>2]=1;break}if((s|0)!=(n|0)){o[e+36>>2]=(o[e+36>>2]|0)+1;o[e+24>>2]=2;i[e+54>>0]=1;break}if((o[e+24>>2]|0)==2)o[e+24>>2]=r}else{s=o[t+12>>2]|0;Cl(t+16|0,e,n,r);if((s|0)>1){a=t+24|0;do{Cl(a,e,n,r);if(i[e+54>>0]|0)break t;a=a+8|0}while(a>>>0<(t+16+(s<<3)|0)>>>0)}}}while(0);return}function Cl(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0,s=0;r=o[t+4>>2]|0;if(!(r&1))s=r>>8;else s=o[(o[n>>2]|0)+(r>>8)>>2]|0;t=o[t>>2]|0;Wk[o[(o[t>>2]|0)+28>>2]&127](t,e,n+s|0,r&2|0?i:2);return}function Tl(t,e,n){t=t|0;e=e|0;n=n|0;var i=0;i=h;h=h+16|0;o[i>>2]=o[n>>2];t=vk[o[(o[t>>2]|0)+16>>2]&63](t,e,i)|0;if(t)o[n>>2]=o[i>>2];h=i;return t&1|0}function Al(t){t=t|0;if(!t)t=0;else t=(al(t,2448)|0)!=0;return t&1|0}function Ll(){}function El(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;i=e-i-(n>>>0>t>>>0|0)>>>0;return(I=i,t-n>>>0|0)|0}function Rl(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;return(I=e+i+(t+n>>>0>>>0<t>>>0|0)>>>0,t+n>>>0|0)|0}function Il(t,e,n){t=t|0;e=e|0;n=n|0;var r=0,s=0,a=0;r=t+n|0;if((n|0)>=20){e=e&255;s=t&3;a=e|e<<8|e<<16|e<<24;if(s){s=t+4-s|0;while((t|0)<(s|0)){i[t>>0]=e;t=t+1|0}}while((t|0)<(r&~3|0)){o[t>>2]=a;t=t+4|0}}while((t|0)<(r|0)){i[t>>0]=e;t=t+1|0}return t-n|0}function Pl(t,e,n){t=t|0;e=e|0;n=n|0;if((n|0)<32){I=e<<n|(t&(1<<n)-1<<32-n)>>>32-n;return t<<n}I=t<<n-32;return 0}function Dl(t,e,n){t=t|0;e=e|0;n=n|0;if((n|0)<32){I=e>>n;return t>>>n|(e&(1<<n)-1)<<32-n}I=(e|0)<0?-1:0;return e>>n-32|0}function kl(t,e,n){t=t|0;e=e|0;n=n|0;if((n|0)<32){I=e>>>n;return t>>>n|(e&(1<<n)-1)<<32-n}I=0;return e>>>n-32|0}function Ol(t,e,n){t=t|0;e=e|0;n=n|0;var r=0;if((n|0)>=4096)return ee(t|0,e|0,n|0)|0;r=t|0;if((t&3)==(e&3)){while(t&3){if(!n)return r|0;i[t>>0]=i[e>>0]|0;t=t+1|0;e=e+1|0;n=n-1|0}while((n|0)>=4){o[t>>2]=o[e>>2];t=t+4|0;e=e+4|0;n=n-4|0}}while((n|0)>0){i[t>>0]=i[e>>0]|0;t=t+1|0;e=e+1|0;n=n-1|0}return r|0}function Nl(t,e,n){t=t|0;e=e|0;n=n|0;var r=0;if((e|0)<(t|0)&(t|0)<(e+n|0)){r=t;e=e+n|0;t=t+n|0;while((n|0)>0){t=t-1|0;e=e-1|0;n=n-1|0;i[t>>0]=i[e>>0]|0}t=r}else Ol(t,e,n)|0;return t|0}function Fl(t){t=t|0;return(t&255)<<24|(t>>8&255)<<16|(t>>16&255)<<8|t>>>24|0}function Bl(){return 0}function jl(t){t=t|0;var e=0;e=i[_+(t&255)>>0]|0;if((e|0)<8)return e|0;e=i[_+(t>>8&255)>>0]|0;if((e|0)<8)return e+8|0;e=i[_+(t>>16&255)>>0]|0;if((e|0)<8)return e+16|0;return(i[_+(t>>>24)>>0]|0)+24|0}function Ul(t,e){t=t|0;e=e|0;var n=0,i=0,r=0;n=et(e&65535,t&65535)|0;r=(n>>>16)+(et(e&65535,t>>>16)|0)|0;i=et(e>>>16,t&65535)|0;return(I=(r>>>16)+(et(e>>>16,t>>>16)|0)+(((r&65535)+i|0)>>>16)|0,r+i<<16|n&65535|0)|0}function zl(t,e,n,i){t|0;e|0;n|0;i|0;var r=0,o=0,s=0,a=0;e>>31|((e|0)<0?-1:0)<<1;((e|0)<0?-1:0)>>31|((e|0)<0?-1:0)<<1;i>>31|((i|0)<0?-1:0)<<1;((i|0)<0?-1:0)>>31|((i|0)<0?-1:0)<<1;El(s^t|0,r^e|0,s|0,r|0)|0;I;return El((Xl(t,e,El(a^n|0,o^i|0,a|0,o|0)|0,I,0)|0)^(a^s)|0,I^(o^r)|0,a^s|0,o^r|0)|0}function Gl(t,e,n,i){t|0;e|0;n|0;i|0;var r=0,s=0,a=0,c=0,l=0;h;h=h+16|0;e>>31|((e|0)<0?-1:0)<<1;((e|0)<0?-1:0)>>31|((e|0)<0?-1:0)<<1;i>>31|((i|0)<0?-1:0)<<1;((i|0)<0?-1:0)>>31|((i|0)<0?-1:0)<<1;El(a^t|0,s^e|0,a|0,s|0)|0;I;Xl(t,e,El(l^n|0,c^i|0,l|0,c|0)|0,I,r|0)|0;El(o[r>>2]^a|0,o[r+4>>2]^s|0,a|0,s|0)|0;I;h=r;return(I=n,i)|0}function Vl(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0,o=0;r=Ul(t,n)|0;o=I;return(I=(et(e,n)|0)+(et(i,t)|0)+o|o&0,r|0|0)|0}function Wl(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;return Xl(t,e,n,i,0)|0}function Hl(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0;r=h;h=h+16|0;Xl(t,e,n,i,r|0)|0;h=r;return(I=o[r+4>>2]|0,o[r>>2]|0)|0}function Xl(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;var s=0,a=0,c=0,l=0,u=0,h=0,p=0,f=0,d=0,_=0;if(!e)if(!i){if(r|0){o[r>>2]=(t>>>0)%(n>>>0);o[r+4>>2]=0}i=0;r=(t>>>0)/(n>>>0)>>>0;return(I=i,r)|0}else{if(!r){i=0;r=0;return(I=i,r)|0}o[r>>2]=t|0;o[r+4>>2]=e&0;i=0;r=0;return(I=i,r)|0}do{if(n){if(i|0){a=(it(i|0)|0)-(it(e|0)|0)|0;if(a>>>0<=31){f=a+1|0;c=t>>>((a+1|0)>>>0)&a-31>>31|e<<31-a;p=e>>>((a+1|0)>>>0)&a-31>>31;s=0;a=t<<31-a;break}if(!r){i=0;r=0;return(I=i,r)|0}o[r>>2]=t|0;o[r+4>>2]=e|e&0;i=0;r=0;return(I=i,r)|0}if(n-1&n|0){a=(it(n|0)|0)+33-(it(e|0)|0)|0;f=a;c=32-a-1>>31&e>>>((a-32|0)>>>0)|(e<<32-a|t>>>(a>>>0))&a-32>>31;p=a-32>>31&e>>>(a>>>0);s=t<<64-a&32-a>>31;a=(e<<64-a|t>>>((a-32|0)>>>0))&32-a>>31|t<<32-a&a-33>>31;break}if(r|0){o[r>>2]=n-1&t;o[r+4>>2]=0}if((n|0)==1){i=e|e&0;r=t|0|0;return(I=i,r)|0}else{r=jl(n|0)|0;i=e>>>(r>>>0)|0;r=e<<32-r|t>>>(r>>>0)|0;return(I=i,r)|0}}else{if(!i){if(r|0){o[r>>2]=(e>>>0)%(n>>>0);o[r+4>>2]=0}i=0;r=(e>>>0)/(n>>>0)>>>0;return(I=i,r)|0}if(!t){if(r|0){o[r>>2]=0;o[r+4>>2]=(e>>>0)%(i>>>0)}n=0;r=(e>>>0)/(i>>>0)>>>0;return(I=n,r)|0}if(!(i-1&i)){if(r|0){o[r>>2]=t|0;o[r+4>>2]=i-1&e|e&0}n=0;r=e>>>((jl(i|0)|0)>>>0);return(I=n,r)|0}a=(it(i|0)|0)-(it(e|0)|0)|0;if(a>>>0<=30){f=a+1|0;c=e<<31-a|t>>>((a+1|0)>>>0);p=e>>>((a+1|0)>>>0);s=0;a=t<<31-a;break}if(!r){i=0;r=0;return(I=i,r)|0}o[r>>2]=t|0;o[r+4>>2]=e|e&0;i=0;r=0;return(I=i,r)|0}}while(0);if(!f){l=a;e=p;t=0;a=0}else{u=Rl(n|0|0,i|i&0|0,-1,-1)|0;h=I;l=a;e=p;t=f;a=0;do{_=l;l=s>>>31|l<<1;s=a|s<<1;_=c<<1|_>>>31|0;d=c>>>31|e<<1|0;El(u|0,h|0,_|0,d|0)|0;f=I;p=f>>31|((f|0)<0?-1:0)<<1;a=p&1;c=El(_|0,d|0,p&(n|0)|0,(((f|0)<0?-1:0)>>31|((f|0)<0?-1:0)<<1)&(i|i&0)|0)|0;e=I;t=t-1|0}while((t|0)!=0);t=0}if(r|0){o[r>>2]=c;o[r+4>>2]=e}d=(s|0)>>>31|l<<1|(0<<1|s>>>31)&0|t;_=(s<<1|0>>>31)&-2|a;return(I=d,_)|0}function ql(t,e,n,i,r,o){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=o|0;rk[t&31](e|0,n|0,i|0,r|0,o|0)}function Yl(t,e,n){t=t|0;e=e|0;n=+n;ok[t&31](e|0,+n)}function Zl(t,e){t=t|0;e=e|0;sk[t&255](e|0)}function Jl(t,e,n,i,r,o,s){t=t|0;e=e|0;n=n|0;i=i|0;r=+r;o=o|0;s=s|0;ak[t&0](e|0,n|0,i|0,+r,o|0,s|0)}function Kl(t,e,n){t=t|0;e=e|0;n=n|0;ck[t&127](e|0,n|0)}function $l(t,e,n,i,r,o,s,a,c,l,u){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;l=l|0;u=u|0;return lk[t&3](e|0,n|0,i|0,r|0,o|0,s|0,a|0,c|0,l|0,u|0)|0}function Ql(t,e){t=t|0;e=e|0;return uk[t&127](e|0)|0}function tu(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=+i;r=r|0;hk[t&7](e|0,n|0,+i,r|0)}function eu(t,e,n,i,r,o,s){t=t|0;e=e|0;n=+n;i=+i;r=r|0;o=o|0;s=s|0;pk[t&0](e|0,+n,+i,r|0,o|0,s|0)}function nu(t,e,n,i,r){t=t|0;e=e|0;n=+n;i=i|0;r=r|0;fk[t&0](e|0,+n,i|0,r|0)}function iu(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;return dk[t&31](e|0,n|0,i|0,r|0)|0}function ru(t,e,n,i){t=t|0;e=e|0;n=+n;i=i|0;_k[t&15](e|0,+n,i|0)}function ou(t,e,n,i,r,o,s,a,c){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;return+mk[t&1](e|0,n|0,i|0,r|0,o|0,s|0,a|0,c|0)}function su(t,e,n,i,r,o,s,a,c,l,u,h){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=+o;s=+s;a=+a;c=+c;l=l|0;u=u|0;h=+h;gk[t&0](e|0,n|0,i|0,r|0,+o,+s,+a,+c,l|0,u|0,+h)}function au(t,e,n,i,r,o){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=o|0;return+bk[t&15](e|0,n|0,i|0,r|0,o|0)}function cu(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;return vk[t&63](e|0,n|0,i|0)|0}function lu(t,e,n,i,r,o,s){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=o|0;s=s|0;yk[t&7](e|0,n|0,i|0,r|0,o|0,s|0)}function uu(t,e,n,i){t=t|0;e=e|0;n=n|0;i=+i;return xk[t&7](e|0,n|0,+i)|0}function hu(t,e){t=t|0;e=e|0;return+wk[t&15](e|0)}function pu(t,e,n,i,r,o,s){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=o|0;s=s|0;return Sk[t&3](e|0,n|0,i|0,r|0,o|0,s|0)|0}function fu(t,e,n,i,r,o,s){t=t|0;e=e|0;n=n|0;i=i|0;r=+r;o=o|0;s=s|0;return+Mk[t&3](e|0,n|0,i|0,+r,o|0,s|0)}function du(t,e,n,i,r,o){t=t|0;e=e|0;n=n|0;i=+i;r=r|0;o=o|0;Ck[t&0](e|0,n|0,+i,r|0,o|0)}function _u(t,e,n,i,r,o,s,a){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=o|0;s=s|0;a=a|0;Tk[t&3](e|0,n|0,i|0,r|0,o|0,s|0,a|0)}function mu(t,e,n,i,r,o,s,a,c,l){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;l=l|0;Ak[t&1](e|0,n|0,i|0,r|0,o|0,s|0,a|0,c|0,l|0)}function gu(t,e,n,i,r,o,s,a,c,l,u){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;l=l|0;u=u|0;Lk[t&3](e|0,n|0,i|0,r|0,o|0,s|0,a|0,c|0,l|0,u|0)}function bu(t,e,n){t=t|0;e=e|0;n=n|0;return Ek[t&31](e|0,n|0)|0}function vu(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;return+Rk[t&15](e|0,n|0,i|0)}function yu(t,e,n,i,r,o,s,a,c,l,u){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;l=l|0;u=u|0;return+Ik[t&3](e|0,n|0,i|0,r|0,o|0,s|0,a|0,c|0,l|0,u|0)}function xu(t,e,n,i,r,o){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=+o;Pk[t&1](e|0,n|0,i|0,r|0,+o)}function wu(t,e,n,i,r,o,s,a,c,l){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;l=l|0;return+Dk[t&3](e|0,n|0,i|0,r|0,o|0,s|0,a|0,c|0,l|0)}function Su(t,e,n){t=t|0;e=e|0;n=+n;return+kk[t&1](e|0,+n)}function Mu(t,e,n,i,r,o,s,a,c,l,u,h,p){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=+o;s=+s;a=+a;c=+c;l=+l;u=u|0;h=+h;p=p|0;Ok[t&0](e|0,n|0,i|0,r|0,+o,+s,+a,+c,+l,u|0,+h,p|0)}function Cu(t,e,n,i,r,o){t=t|0;e=e|0;n=n|0;i=+i;r=r|0;o=o|0;return+Nk[t&3](e|0,n|0,+i,r|0,o|0)}function Tu(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;return+Fk[t&1](e|0,n|0,i|0,r|0)}function Au(t,e,n,i,r,o,s,a,c,l){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;l=l|0;return Bk[t&3](e|0,n|0,i|0,r|0,o|0,s|0,a|0,c|0,l|0)|0}function Lu(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=+r;jk[t&15](e|0,n|0,i|0,+r)}function Eu(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;Uk[t&127](e|0,n|0,i|0)}function Ru(t){t=t|0;zk[t&3]()}function Iu(t,e,n,i){t=t|0;e=e|0;n=n|0;i=+i;Gk[t&7](e|0,n|0,+i)}function Pu(t,e,n,i,r){t=t|0;e=e|0;n=+n;i=i|0;r=+r;return Vk[t&1](e|0,+n,i|0,+r)|0}function Du(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;Wk[t&127](e|0,n|0,i|0,r|0)}function ku(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;rt(0)}function Ou(t,e){t=t|0;e=+e;rt(1)}function Nu(t){t=t|0;rt(2)}function Fu(t,e,n,i,r,o){t=t|0;e=e|0;n=n|0;i=+i;r=r|0;o=o|0;rt(3)}function Bu(t,e){t=t|0;e=e|0;rt(4)}function ju(t,e,n,i,r,o,s,a,c,l){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;l=l|0;rt(5);return 0}function Uu(t){t=t|0;rt(6);return 0}function zu(t,e,n,i){t=t|0;e=e|0;n=+n;i=i|0;rt(7)}function Gu(t,e,n,i,r,o){t=t|0;e=+e;n=+n;i=i|0;r=r|0;o=o|0;rt(8)}function Vu(t,e,n,i){t=t|0;e=+e;n=n|0;i=i|0;rt(9)}function Wu(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;rt(10);return 0}function Hu(t,e,n){t=t|0;e=+e;n=n|0;rt(11)}function Xu(t,e,n,i,r,o,s,a){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=o|0;s=s|0;a=a|0;rt(12);return 0.0}function qu(t,e,n,i,r,o,s,a,c,l,u){t=t|0;e=e|0;n=n|0;i=i|0;r=+r;o=+o;s=+s;a=+a;c=c|0;l=l|0;u=+u;rt(13)}function Yu(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;rt(14);return 0.0}function Zu(t,e,n){t=t|0;e=e|0;n=n|0;rt(15);return 0}function Ju(t,e,n,i,r,o){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=o|0;rt(16)}function Ku(t,e,n){t=t|0;e=e|0;n=+n;rt(17);return 0}function $u(t){t=t|0;rt(18);return 0.0}function Qu(t,e,n,i,r,o){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=o|0;rt(19);return 0}function th(t,e,n,i,r,o){t=t|0;e=e|0;n=n|0;i=+i;r=r|0;o=o|0;rt(20);return 0.0}function eh(t,e,n,i,r){t=t|0;e=e|0;n=+n;i=i|0;r=r|0;rt(21)}function nh(t,e,n,i,r,o,s){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=o|0;s=s|0;rt(22)}function ih(t,e,n,i,r,o,s,a,c){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;rt(23)}function rh(t,e,n,i,r,o,s,a,c,l){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;l=l|0;rt(24)}function oh(t,e){t=t|0;e=e|0;rt(25);return 0}function sh(t,e,n){t=t|0;e=e|0;n=n|0;rt(26);return 0.0}function ah(t,e,n,i,r,o,s,a,c,l){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;l=l|0;rt(27);return 0.0}function ch(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=+r;rt(28)}function lh(t,e,n,i,r,o,s,a,c){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;rt(29);return 0.0}function uh(t,e){t=t|0;e=+e;rt(30);return 0.0}function hh(t,e,n,i,r,o,s,a,c,l,u,h){t=t|0;e=e|0;n=n|0;i=i|0;r=+r;o=+o;s=+s;a=+a;c=+c;l=l|0;u=+u;h=h|0;rt(31)}function ph(t,e,n,i,r){t=t|0;e=e|0;n=+n;i=i|0;r=r|0;rt(32);return 0.0}function fh(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;rt(33);return 0.0}function dh(t,e,n,i,r,o,s,a,c){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;rt(34);return 0}function _h(t,e,n,i){t=t|0;e=e|0;n=n|0;i=+i;rt(35)}function mh(t,e,n){t=t|0;e=e|0;n=n|0;rt(36)}function gh(){rt(37)}function bh(){_e()}function vh(t,e,n){t=t|0;e=e|0;n=+n;rt(38)}function yh(t,e,n,i){t=t|0;e=+e;n=n|0;i=+i;rt(39);return 0}function xh(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;rt(40)}function wh(t,e){t=t|0;e=+e;var n=0,r=0,s=0.0,a=0.0,c=0.0,u=0.0,p=0.0,f=0.0,d=0,_=0,m=0,g=0.0,b=0.0,v=0.0,y=0.0,x=0,w=0,S=0,M=0,C=0,T=0,A=0,L=0,E=0,R=0.0,I=0.0;L=h;h=h+64|0;n=o[t+128>>2]|0;if((n|0)>0){r=0;do{Sh(o[t+108>>2]|0,o[t+136>>2]|0,r,0);r=r+1|0;n=o[t+128>>2]|0}while((r|0)<(n|0))}r=o[t+108>>2]|0;v=+l[r+336>>2];y=+l[r+340>>2];s=+l[r+344>>2];s=+V(+(v*v+y*y+s*s))*3.5999999046325684;l[t+104>>2]=s;A=o[t+120>>2]|0;if(+l[r+4+(A<<2)>>2]*+l[r+336>>2]+ +l[r+20+(A<<2)>>2]*+l[r+340>>2]+ +l[r+36+(A<<2)>>2]*+l[r+344>>2]<0.0)l[t+104>>2]=-s;if((n|0)>0){A=0;do{T=o[t+136>>2]|0;_=T+(A*284|0)|0;Mh(r,_,0);d=T+(A*284|0)+204|0;n=T+(A*284|0)+212|0;s=+l[d>>2]+ +l[n>>2];m=T+(A*284|0)+52|0;x=T+(A*284|0)+56|0;w=T+(A*284|0)+60|0;E=T+(A*284|0)+36|0;S=T+(A*284|0)+16|0;v=s*+l[x>>2]+ +l[T+(A*284|0)+40>>2];y=s*+l[w>>2]+ +l[T+(A*284|0)+44>>2];l[T+(A*284|0)+16>>2]=+l[m>>2]*s+ +l[E>>2];M=T+(A*284|0)+20|0;l[M>>2]=v;C=T+(A*284|0)+24|0;l[C>>2]=y;l[T+(A*284|0)+28>>2]=0.0;l[L+32>>2]=-1.0;r=o[t+92>>2]|0;E=dk[o[(o[r>>2]|0)+8>>2]&31](r,E,S,L)|0;r=T+(A*284|0)+88|0;o[r>>2]=0;do{if(E){s=s*+l[L+32>>2];o[_>>2]=o[L+16>>2];o[_+4>>2]=o[L+16+4>>2];o[_+8>>2]=o[L+16+8>>2];o[_+12>>2]=o[L+16+12>>2];i[T+(A*284|0)+84>>0]=1;if(!(i[19888]|0)){i[19888]=1;o[L+40>>2]=0;o[L+40+4>>2]=0;o[L+40+8>>2]=0;o[L+40+12>>2]=0;zv(21908,0.0,0,0,L+40|0)}o[5528]=o[5528]|1;l[5569]=0.0;a=+l[5579]*0.0;c=+l[5580]*0.0;l[5574]=+l[5578]*0.0;l[5575]=a;l[5576]=c;l[5577]=0.0;o[5582]=0;o[5583]=0;o[5584]=0;o[5585]=0;c=+l[5571]*0.0;a=+l[5572]*0.0;l[5623]=+l[5570]*0.0;l[5624]=c;l[5625]=a;l[5626]=0.0;o[r>>2]=21908;s=s-+l[n>>2];n=T+(A*284|0)+32|0;l[n>>2]=s;a=+l[d>>2];c=+l[T+(A*284|0)+208>>2]*.009999999776482582;if(s<a-c){l[n>>2]=a-c;s=a-c}if(s>a+c)l[n>>2]=a+c;o[S>>2]=o[L>>2];o[S+4>>2]=o[L+4>>2];o[S+8>>2]=o[L+8>>2];o[S+12>>2]=o[L+12>>2];b=+l[_>>2];v=+l[T+(A*284|0)+4>>2];y=+l[T+(A*284|0)+8>>2];g=b*+l[m>>2]+v*+l[x>>2]+y*+l[w>>2];n=o[t+108>>2]|0;f=+l[S>>2]-+l[n+52>>2];p=+l[M>>2]-+l[n+56>>2];s=+l[C>>2]-+l[n+60>>2];a=+l[n+356>>2];c=+l[n+360>>2];u=+l[n+352>>2];if(!(g>=-.10000000149011612)){l[T+(A*284|0)+272>>2]=-1.0/g*(b*(a*s-p*c+ +l[n+336>>2])+v*(f*c-s*u+ +l[n+340>>2])+y*(p*u-f*a+ +l[n+344>>2]));l[T+(A*284|0)+268>>2]=-1.0/g;break}else{l[T+(A*284|0)+272>>2]=0.0;l[T+(A*284|0)+268>>2]=10.0;break}}else{o[T+(A*284|0)+32>>2]=o[d>>2];l[T+(A*284|0)+272>>2]=0.0;v=-+l[x>>2];y=-+l[w>>2];l[_>>2]=-+l[m>>2];l[T+(A*284|0)+4>>2]=v;l[T+(A*284|0)+8>>2]=y;l[T+(A*284|0)+12>>2]=0.0;l[T+(A*284|0)+268>>2]=1.0}}while(0);A=A+1|0;n=o[t+128>>2]|0;r=o[t+108>>2]|0}while((A|0)<(n|0));a=1.0/+l[r+368>>2];if((n|0)>0){r=0;do{n=o[t+136>>2]|0;if(!(i[n+(r*284|0)+84>>0]|0))s=0.0;else{s=+l[n+(r*284|0)+272>>2];s=a*(+l[n+(r*284|0)+216>>2]*(+l[n+(r*284|0)+204>>2]-+l[n+(r*284|0)+32>>2])*+l[n+(r*284|0)+268>>2]-s*+l[(s<0.0?n+(r*284|0)+220|0:n+(r*284|0)+224|0)>>2]);s=s<0.0?0.0:s}l[n+(r*284|0)+276>>2]=s;r=r+1|0;n=o[t+128>>2]|0}while((r|0)<(n|0));if((n|0)>0){n=0;do{A=o[t+136>>2]|0;b=+l[A+(n*284|0)+276>>2];y=+l[A+(n*284|0)+248>>2];b=b>y?y:b;y=b*+l[A+(n*284|0)+4>>2]*e;v=b*+l[A+(n*284|0)+8>>2]*e;l[L+40>>2]=+l[A+(n*284|0)>>2]*b*e;l[L+40+4>>2]=y;l[L+40+8>>2]=v;l[L+40+12>>2]=0.0;E=o[t+108>>2]|0;v=+l[A+(n*284|0)+20>>2]-+l[E+56>>2];y=+l[A+(n*284|0)+24>>2]-+l[E+60>>2];l[L>>2]=+l[A+(n*284|0)+16>>2]-+l[E+52>>2];l[L+4>>2]=v;l[L+8>>2]=y;l[L+12>>2]=0.0;zA(E,L+40|0,L);n=n+1|0}while((n|0)<(o[t+128>>2]|0))}}}ok[o[(o[t>>2]|0)+20>>2]&31](t,e);r=o[t+128>>2]|0;if((r|0)<=0){h=L;return}d=o[t+136>>2]|0;_=o[t+108>>2]|0;m=0;do{s=+l[d+(m*284|0)+36>>2]-+l[_+52>>2];a=+l[d+(m*284|0)+40>>2]-+l[_+56>>2];c=+l[d+(m*284|0)+44>>2]-+l[_+60>>2];u=+l[_+356>>2];p=+l[_+360>>2];f=+l[_+352>>2];if(!(i[d+(m*284|0)+84>>0]|0)){n=d+(m*284|0)+240|0;s=+l[n>>2];E=d+(m*284|0)+236|0;l[E>>2]=s+ +l[E>>2]}else{n=o[t+120>>2]|0;I=+l[_+4+(n<<2)>>2];g=+l[_+20+(n<<2)>>2];v=+l[_+36+(n<<2)>>2];R=+l[d+(m*284|0)>>2];b=+l[d+(m*284|0)+4>>2];y=+l[d+(m*284|0)+8>>2];s=((a*f-s*u+ +l[_+344>>2])*(v-y*(I*R+g*b+v*y))+((u*c-a*p+ +l[_+336>>2])*(I-R*(I*R+g*b+v*y))+(s*p-c*f+ +l[_+340>>2])*(g-b*(I*R+g*b+v*y))))*e/+l[d+(m*284|0)+212>>2];n=d+(m*284|0)+240|0;l[n>>2]=s;E=d+(m*284|0)+236|0;l[E>>2]=+l[E>>2]+s}l[n>>2]=s*.9900000095367432;m=m+1|0}while((m|0)!=(r|0));h=L;return}function Sh(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0.0,o=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0;Mh(t,e+(n*284|0)|0,i);p=+l[e+(n*284|0)+52>>2];s=+l[e+(n*284|0)+56>>2];m=+l[e+(n*284|0)+60>>2];P=+l[e+(n*284|0)+76>>2];S=+l[e+(n*284|0)+72>>2];C=+l[e+(n*284|0)+68>>2];w=1.0/+V(+((S*-p-C*-s)*(S*-p-C*-s)+((P*-s-S*-m)*(P*-s-S*-m)+(C*-m-P*-p)*(C*-m-P*-p))));x=(P*-s-S*-m)*w;y=w*(C*-m-P*-p);w=w*(S*-p-C*-s);r=+l[e+(n*284|0)+232>>2]*.5;u=+X(+r)/+V(+(p*p+s*s+m*m));r=+H(+r);h=2.0/(r*r+(u*-m*(u*-m)+(u*-p*(u*-p)+u*-s*(u*-s))));R=1.0-(u*-s*(u*-s*h)+u*-m*(u*-m*h));E=u*-p*(u*-s*h)-r*(u*-m*h);I=u*-p*(u*-m*h)+r*(u*-s*h);A=u*-p*(u*-s*h)+r*(u*-m*h);T=1.0-(u*-p*(u*-p*h)+u*-m*(u*-m*h));L=u*-s*(u*-m*h)-r*(u*-p*h);c=u*-p*(u*-m*h)-r*(u*-s*h);r=u*-s*(u*-m*h)+r*(u*-p*h);h=1.0-(u*-p*(u*-p*h)+u*-s*(u*-s*h));u=+l[e+(n*284|0)+236>>2]*-.5;M=+X(+u)/+V(+(P*P+(S*S+C*C)));u=+H(+u);g=2.0/(u*u+(P*M*(P*M)+(C*M*(C*M)+S*M*(S*M))));f=1.0-(S*M*(S*M*g)+P*M*(P*M*g));a=C*M*(S*M*g)-u*(P*M*g);v=C*M*(P*M*g)+u*(S*M*g);d=C*M*(S*M*g)+u*(P*M*g);o=1.0-(C*M*(C*M*g)+P*M*(P*M*g));b=S*M*(P*M*g)-u*(C*M*g);_=C*M*(P*M*g)-u*(S*M*g);u=S*M*(P*M*g)+u*(C*M*g);g=1.0-(C*M*(C*M*g)+S*M*(S*M*g));M=+l[e+(n*284|0)+68>>2];S=+l[e+(n*284|0)+72>>2];C=+l[e+(n*284|0)+76>>2];l[e+(n*284|0)+92>>2]=C*(R*v+E*b+I*g)+(M*(I*_+(E*d+R*f))+S*(I*u+(R*a+E*o)));l[e+(n*284|0)+96>>2]=w*(R*v+E*b+I*g)+(x*(I*_+(E*d+R*f))+y*(I*u+(R*a+E*o)));l[e+(n*284|0)+100>>2]=(R*v+E*b+I*g)*-m+((I*_+(E*d+R*f))*-p+(I*u+(R*a+E*o))*-s);l[e+(n*284|0)+104>>2]=0.0;l[e+(n*284|0)+108>>2]=C*(A*v+T*b+L*g)+(M*(L*_+(T*d+A*f))+S*(L*u+(A*a+T*o)));l[e+(n*284|0)+112>>2]=w*(A*v+T*b+L*g)+(x*(L*_+(T*d+A*f))+y*(L*u+(A*a+T*o)));l[e+(n*284|0)+116>>2]=(A*v+T*b+L*g)*-m+((L*_+(T*d+A*f))*-p+(L*u+(A*a+T*o))*-s);l[e+(n*284|0)+120>>2]=0.0;l[e+(n*284|0)+124>>2]=C*(c*v+r*b+h*g)+(M*(h*_+(r*d+c*f))+S*(h*u+(c*a+r*o)));l[e+(n*284|0)+128>>2]=w*(c*v+r*b+h*g)+(x*(h*_+(r*d+c*f))+y*(h*u+(c*a+r*o)));l[e+(n*284|0)+132>>2]=(c*v+r*b+h*g)*-m+((h*_+(r*d+c*f))*-p+(h*u+(c*a+r*o))*-s);l[e+(n*284|0)+136>>2]=0.0;s=+l[e+(n*284|0)+32>>2];o=s*+l[e+(n*284|0)+56>>2]+ +l[e+(n*284|0)+40>>2];r=s*+l[e+(n*284|0)+60>>2]+ +l[e+(n*284|0)+44>>2];l[e+(n*284|0)+140>>2]=+l[e+(n*284|0)+52>>2]*s+ +l[e+(n*284|0)+36>>2];l[e+(n*284|0)+144>>2]=o;l[e+(n*284|0)+148>>2]=r;l[e+(n*284|0)+152>>2]=0.0;return}function Mh(t,e,n){t=t|0;e=e|0;n=n|0;var r=0,s=0,a=0.0,c=0.0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0;s=h;h=h+64|0;i[e+84>>0]=0;o[s>>2]=o[t+4>>2];o[s+4>>2]=o[t+4+4>>2];o[s+8>>2]=o[t+4+8>>2];o[s+12>>2]=o[t+4+12>>2];o[s+16>>2]=o[t+20>>2];o[s+16+4>>2]=o[t+20+4>>2];o[s+16+8>>2]=o[t+20+8>>2];o[s+16+12>>2]=o[t+20+12>>2];o[s+32>>2]=o[t+36>>2];o[s+32+4>>2]=o[t+36+4>>2];o[s+32+8>>2]=o[t+36+8>>2];o[s+32+12>>2]=o[t+36+12>>2];o[s+48>>2]=o[t+52>>2];o[s+48+4>>2]=o[t+52+4>>2];o[s+48+8>>2]=o[t+52+8>>2];o[s+48+12>>2]=o[t+52+12>>2];if(n?(r=o[t+504>>2]|0,r|0):0)ck[o[(o[r>>2]|0)+8>>2]&127](r,s);w=+l[e+156>>2];y=+l[s>>2];x=+l[e+160>>2];v=+l[s+4>>2];d=+l[e+164>>2];b=+l[s+8>>2];g=+l[s+16>>2];m=+l[s+20>>2];_=+l[s+24>>2];f=+l[s+32>>2];u=+l[s+36>>2];a=+l[s+40>>2];p=w*g+x*m+d*_+ +l[s+52>>2];c=w*f+x*u+d*a+ +l[s+56>>2];l[e+36>>2]=w*y+x*v+d*b+ +l[s+48>>2];l[e+40>>2]=p;l[e+44>>2]=c;l[e+48>>2]=0.0;c=+l[e+172>>2];p=+l[e+176>>2];d=+l[e+180>>2];l[e+52>>2]=y*c+v*p+b*d;l[e+56>>2]=c*g+p*m+d*_;l[e+60>>2]=c*f+p*u+d*a;l[e+64>>2]=0.0;d=+l[e+188>>2];p=+l[e+192>>2];c=+l[e+196>>2];l[e+68>>2]=y*d+v*p+b*c;l[e+72>>2]=d*g+p*m+c*_;l[e+76>>2]=d*f+p*u+c*a;l[e+80>>2]=0.0;h=s;return}function Ch(t,e){t=t|0;e=+e;var n=0,r=0.0,s=0,a=0,c=0,u=0.0,p=0.0,f=0,d=0,_=0,m=0.0,g=0,b=0,v=0.0,y=0.0,x=0.0,w=0.0,S=0,M=0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0,D=0.0,k=0.0,O=0.0,N=0.0,F=0.0,B=0.0,j=0.0,U=0.0,z=0.0,G=0.0;g=h;h=h+144|0;d=o[t+128>>2]|0;if(!d){h=g;return}c=o[t+8>>2]|0;if((c|0)<(d|0)){if((o[t+12>>2]|0)<(d|0)){o[5637]=(o[5637]|0)+1;n=Jc((d<<4|3)+16|0)|0;if(!n)a=0;else{o[(n+4+15&-16)+-4>>2]=n;a=n+4+15&-16}n=o[t+8>>2]|0;if((n|0)>0){s=0;do{f=a+(s<<4)|0;b=(o[t+16>>2]|0)+(s<<4)|0;o[f>>2]=o[b>>2];o[f+4>>2]=o[b+4>>2];o[f+8>>2]=o[b+8>>2];o[f+12>>2]=o[b+12>>2];s=s+1|0}while((s|0)!=(n|0))}n=o[t+16>>2]|0;if(n|0){if(i[t+20>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[t+16>>2]=0}i[t+20>>0]=1;o[t+16>>2]=a;o[t+12>>2]=d;s=t+16|0}else s=t+16|0;n=c;do{b=(o[s>>2]|0)+(n<<4)|0;o[b>>2]=o[g+80>>2];o[b+4>>2]=o[g+80+4>>2];o[b+8>>2]=o[g+80+8>>2];o[b+12>>2]=o[g+80+12>>2];n=n+1|0}while((n|0)!=(d|0))}o[t+8>>2]=d;c=o[t+28>>2]|0;if((c|0)<(d|0)){if((o[t+32>>2]|0)<(d|0)){o[5637]=(o[5637]|0)+1;n=Jc((d<<4|3)+16|0)|0;if(!n)a=0;else{o[(n+4+15&-16)+-4>>2]=n;a=n+4+15&-16}n=o[t+28>>2]|0;if((n|0)>0){s=0;do{b=a+(s<<4)|0;f=(o[t+36>>2]|0)+(s<<4)|0;o[b>>2]=o[f>>2];o[b+4>>2]=o[f+4>>2];o[b+8>>2]=o[f+8>>2];o[b+12>>2]=o[f+12>>2];s=s+1|0}while((s|0)!=(n|0))}n=o[t+36>>2]|0;if(n|0){if(i[t+40>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[t+36>>2]=0}i[t+40>>0]=1;o[t+36>>2]=a;o[t+32>>2]=d;s=t+36|0}else s=t+36|0;n=c;do{b=(o[s>>2]|0)+(n<<4)|0;o[b>>2]=o[g+64>>2];o[b+4>>2]=o[g+64+4>>2];o[b+8>>2]=o[g+64+8>>2];o[b+12>>2]=o[g+64+12>>2];n=n+1|0}while((n|0)!=(d|0))}o[t+28>>2]=d;f=o[t+48>>2]|0;if((f|0)<(d|0)){do{if((o[t+52>>2]|0)<(d|0)){o[5637]=(o[5637]|0)+1;n=Jc((d<<2|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}s=o[t+48>>2]|0;a=o[t+56>>2]|0;if((s|0)<=0){if(!a){i[t+60>>0]=1;o[t+56>>2]=n;o[t+52>>2]=d;s=d<<2;break}}else{c=0;do{o[n+(c<<2)>>2]=o[a+(c<<2)>>2];c=c+1|0}while((c|0)!=(s|0))}if(i[t+60>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0)}i[t+60>>0]=1;o[t+56>>2]=n;o[t+52>>2]=d;s=d<<2}else{s=d<<2;n=o[t+56>>2]|0}}while(0);Il(n+(f<<2)|0,0,s-(f<<2)|0)|0}o[t+48>>2]=d;f=o[t+68>>2]|0;if((f|0)<(d|0)){do{if((o[t+72>>2]|0)<(d|0)){o[5637]=(o[5637]|0)+1;n=Jc((d<<2|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}s=o[t+68>>2]|0;a=o[t+76>>2]|0;if((s|0)<=0){if(!a){i[t+80>>0]=1;o[t+76>>2]=n;o[t+72>>2]=d;s=d<<2;break}}else{c=0;do{o[n+(c<<2)>>2]=o[a+(c<<2)>>2];c=c+1|0}while((c|0)!=(s|0))}if(i[t+80>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0)}i[t+80>>0]=1;o[t+76>>2]=n;o[t+72>>2]=d;s=d<<2}else{s=d<<2;n=o[t+76>>2]|0}}while(0);Il(n+(f<<2)|0,0,s-(f<<2)|0)|0}o[t+68>>2]=d;n=o[t+128>>2]|0;if((n|0)<=0){h=g;return}s=o[t+76>>2]|0;a=o[t+56>>2]|0;c=0;do{l[s+(c<<2)>>2]=0.0;l[a+(c<<2)>>2]=0.0;c=c+1|0}while((c|0)!=(n|0));c=0;do{s=o[t+136>>2]|0;a=o[s+(c*284|0)+88>>2]|0;if(a){n=s+(c*284|0)+92|0;o[g+96>>2]=o[n>>2];o[g+96+4>>2]=o[n+4>>2];o[g+96+8>>2]=o[n+8>>2];o[g+96+12>>2]=o[n+12>>2];n=s+(c*284|0)+108|0;o[g+96+16>>2]=o[n>>2];o[g+96+16+4>>2]=o[n+4>>2];o[g+96+16+8>>2]=o[n+8>>2];o[g+96+16+12>>2]=o[n+12>>2];n=s+(c*284|0)+124|0;o[g+96+32>>2]=o[n>>2];o[g+96+32+4>>2]=o[n+4>>2];o[g+96+32+8>>2]=o[n+8>>2];o[g+96+32+12>>2]=o[n+12>>2];n=o[t+36>>2]|0;S=o[t+112>>2]|0;d=o[g+96+16+(S<<2)>>2]|0;M=o[g+96+32+(S<<2)>>2]|0;o[n+(c<<4)>>2]=o[g+96+(S<<2)>>2];o[n+(c<<4)+4>>2]=d;o[n+(c<<4)+8>>2]=M;l[n+(c<<4)+12>>2]=0.0;n=o[t+36>>2]|0;M=n+(c<<4)|0;C=+l[M>>2];d=s+(c*284|0)|0;r=+l[d>>2];S=n+(c<<4)+4|0;w=+l[S>>2];f=s+(c*284|0)+4|0;u=+l[f>>2];n=n+(c<<4)+8|0;v=+l[n>>2];b=s+(c*284|0)+8|0;x=+l[b>>2];p=C-r*(C*r+w*u+v*x);y=w-u*(C*r+w*u+v*x);x=v-x*(C*r+w*u+v*x);v=1.0/+V(+(p*p+y*y+x*x));l[M>>2]=p*v;l[S>>2]=y*v;l[n>>2]=x*v;n=o[t+16>>2]|0;u=+l[f>>2];w=+l[b>>2];r=+l[d>>2];l[n+(c<<4)>>2]=u*(x*v)-w*(y*v);l[n+(c<<4)+4>>2]=w*(p*v)-x*v*r;l[n+(c<<4)+8>>2]=y*v*r-u*(p*v);l[n+(c<<4)+12>>2]=0.0;n=o[t+16>>2]|0;d=n+(c<<4)|0;v=+l[d>>2];b=n+(c<<4)+4|0;p=+l[b>>2];n=n+(c<<4)+8|0;u=+l[n>>2];r=1.0/+V(+(v*v+p*p+u*u));l[d>>2]=v*r;l[b>>2]=p*r;l[n>>2]=u*r;n=o[t+108>>2]|0;b=o[t+36>>2]|0;r=+l[b+(c<<4)>>2];u=+l[b+(c<<4)+4>>2];p=+l[b+(c<<4)+8>>2];if(r*r+u*u+p*p>1.100000023841858)r=0.0;else{L=+l[s+(c*284|0)+16>>2];P=L-+l[n+52>>2];R=+l[s+(c*284|0)+20>>2];k=R-+l[n+56>>2];O=+l[s+(c*284|0)+24>>2];F=O-+l[n+60>>2];L=L-+l[a+52>>2];R=R-+l[a+56>>2];O=O-+l[a+60>>2];I=+l[n+356>>2];B=+l[n+360>>2];D=+l[n+352>>2];A=+l[a+356>>2];N=+l[a+360>>2];E=+l[a+352>>2];T=(p*k-u*F)*+l[n+4>>2]+(r*F-p*P)*+l[n+20>>2]+(u*P-r*k)*+l[n+36>>2];v=(p*k-u*F)*+l[n+8>>2]+(r*F-p*P)*+l[n+24>>2]+(u*P-r*k)*+l[n+40>>2];y=(p*k-u*F)*+l[n+12>>2]+(r*F-p*P)*+l[n+28>>2]+(u*P-r*k)*+l[n+44>>2];x=(R*-p-O*-u)*+l[a+4>>2]+(O*-r-L*-p)*+l[a+20>>2]+(L*-u-R*-r)*+l[a+36>>2];w=(R*-p-O*-u)*+l[a+8>>2]+(O*-r-L*-p)*+l[a+24>>2]+(L*-u-R*-r)*+l[a+40>>2];C=(R*-p-O*-u)*+l[a+12>>2]+(O*-r-L*-p)*+l[a+28>>2]+(L*-u-R*-r)*+l[a+44>>2];r=(r*(F*I-k*B+ +l[n+336>>2]-(O*A-R*N+ +l[a+336>>2]))+u*(+l[n+340>>2]+(P*B-F*D)-(+l[a+340>>2]+(L*N-O*E)))+p*(k*D-P*I+ +l[n+344>>2]-(R*E-L*A+ +l[a+344>>2])))*-.20000000298023224*(1.0/(+l[a+368>>2]+(+l[n+368>>2]+(T*(T*+l[n+420>>2])+v*(v*+l[n+424>>2])+y*(y*+l[n+428>>2])))+(x*(x*+l[a+420>>2])+w*(w*+l[a+424>>2])+C*(C*+l[a+428>>2]))))}l[(o[t+76>>2]|0)+(c<<2)>>2]=r;n=o[t+128>>2]|0}c=c+1|0}while((c|0)<(n|0));if((n|0)<=0){h=g;return}s=o[t+136>>2]|0;a=0;d=0;while(1){n=o[s+(d*284|0)+88>>2]|0;if(n){r=+l[s+(d*284|0)+252>>2];if(r!=0.0){c=s;r=r*e}else{B=+l[s+(d*284|0)+256>>2];B=B==0.0?0.0:B;c=o[t+108>>2]|0;M=o[t+16>>2]|0;P=+l[s+(d*284|0)+16>>2];R=+l[s+(d*284|0)+20>>2];T=+l[s+(d*284|0)+24>>2];w=+l[M+(d<<4)>>2];E=+l[M+(d<<4)+4>>2];r=+l[M+(d<<4)+8>>2];U=P-+l[c+52>>2];z=R-+l[c+56>>2];u=T-+l[c+60>>2];p=+l[c+288>>2]*(z*r-u*E)+ +l[c+304>>2]*(u*w-U*r)+(U*E-z*w)*+l[c+320>>2];G=(z*r-u*E)*+l[c+292>>2]+(u*w-U*r)*+l[c+308>>2]+(U*E-z*w)*+l[c+324>>2];j=(z*r-u*E)*+l[c+296>>2]+(u*w-U*r)*+l[c+312>>2]+(U*E-z*w)*+l[c+328>>2];N=P-+l[n+52>>2];k=R-+l[n+56>>2];L=T-+l[n+60>>2];x=(E*N-w*k)*+l[n+320>>2]+(+l[n+288>>2]*(r*k-E*L)+ +l[n+304>>2]*(w*L-r*N));v=(r*k-E*L)*+l[n+292>>2]+(w*L-r*N)*+l[n+308>>2]+(E*N-w*k)*+l[n+324>>2];y=(r*k-E*L)*+l[n+296>>2]+(w*L-r*N)*+l[n+312>>2]+(E*N-w*k)*+l[n+328>>2];P=P-+l[c+52>>2];R=R-+l[c+56>>2];T=T-+l[c+60>>2];D=+l[c+356>>2];C=+l[c+360>>2];I=+l[c+352>>2];F=+l[n+356>>2];A=+l[n+360>>2];O=+l[n+352>>2];r=-(1.0/(+l[c+368>>2]+(r*(z*p-U*G)+(w*(u*G-z*j)+E*(U*j-u*p)))+(+l[n+368>>2]+(r*(k*x-N*v)+(w*(L*v-k*y)+E*(N*y-L*x)))))*((T*D-R*C+ +l[c+336>>2]-(L*F-k*A+ +l[n+336>>2]))*w+(+l[c+340>>2]+(P*C-T*I)-(+l[n+340>>2]+(N*A-L*O)))*E+(R*I-P*D+ +l[c+344>>2]-(k*O-N*F+ +l[n+344>>2]))*r));r=B<r?B:r;c=o[t+136>>2]|0;r=r<-B?-B:r}f=o[t+56>>2]|0;M=f+(d<<2)|0;l[M>>2]=0.0;n=c+(d*284|0)+280|0;l[n>>2]=1.0;p=+l[s+(d*284|0)+276>>2]*e*+l[s+(d*284|0)+228>>2];l[M>>2]=r;r=r*.5;u=+l[(o[t+76>>2]|0)+(d<<2)>>2];if(r*r+u*u>p*p){G=p/+V(+(r*r+u*u));l[n>>2]=G*+l[n>>2];n=1}else n=a}else{f=o[t+56>>2]|0;l[f+(d<<2)>>2]=0.0;l[s+(d*284|0)+280>>2]=1.0;c=s;n=a}d=d+1|0;a=o[t+128>>2]|0;if((d|0)>=(a|0))break;else{s=c;a=n}}if(n){if((a|0)<=0){h=g;return}n=o[t+76>>2]|0;s=0;do{if(+l[n+(s<<2)>>2]!=0.0?(_=c+(s*284|0)+280|0,m=+l[_>>2],m<1.0):0){M=f+(s<<2)|0;l[M>>2]=m*+l[M>>2];M=(o[t+76>>2]|0)+(s<<2)|0;l[M>>2]=+l[_>>2]*+l[M>>2]}s=s+1|0}while((s|0)!=(a|0))}if((a|0)<=0){h=g;return}a=f;n=0;while(1){s=o[t+108>>2]|0;f=c+(n*284|0)+16|0;u=+l[f>>2]-+l[s+52>>2];d=c+(n*284|0)+20|0;p=+l[d>>2]-+l[s+56>>2];_=c+(n*284|0)+24|0;e=+l[_>>2]-+l[s+60>>2];l[g+96>>2]=u;l[g+96+4>>2]=p;l[g+96+8>>2]=e;l[g+96+12>>2]=0.0;r=+l[a+(n<<2)>>2];if(r!=0.0){M=o[t+16>>2]|0;z=r*+l[M+(n<<4)+4>>2];G=r*+l[M+(n<<4)+8>>2];l[g+16>>2]=r*+l[M+(n<<4)>>2];l[g+16+4>>2]=z;l[g+16+8>>2]=G;l[g+16+12>>2]=0.0;zA(s,g+16|0,g+96|0)}r=+l[(o[t+76>>2]|0)+(n<<2)>>2];if(r!=0.0){M=o[(o[t+136>>2]|0)+(n*284|0)+88>>2]|0;z=+l[d>>2]-+l[M+56>>2];U=+l[_>>2]-+l[M+60>>2];l[g+48>>2]=+l[f>>2]-+l[M+52>>2];l[g+48+4>>2]=z;l[g+48+8>>2]=U;l[g+48+12>>2]=0.0;S=o[t+36>>2]|0;U=+l[S+(n<<4)>>2]*r;z=r*+l[S+(n<<4)+4>>2];G=r*+l[S+(n<<4)+8>>2];l[g+32>>2]=U;l[g+32+4>>2]=z;l[g+32+8>>2]=G;l[g+32+12>>2]=0.0;S=o[t+108>>2]|0;b=o[t+116>>2]|0;N=+l[S+4+(b<<2)>>2];F=+l[S+20+(b<<2)>>2];B=+l[S+36+(b<<2)>>2];j=(N*u+F*p+B*e)*(1.0-+l[c+(n*284|0)+244>>2]);l[g+96>>2]=u-N*j;l[g+96+4>>2]=p-F*j;l[g+96+8>>2]=e-B*j;zA(S,g+32|0,g+96|0);l[g>>2]=-U;l[g+4>>2]=-z;l[g+8>>2]=-G;l[g+12>>2]=0.0;zA(M,g,g+48|0)}n=n+1|0;if((n|0)>=(o[t+128>>2]|0))break;c=o[t+136>>2]|0;a=o[t+56>>2]|0}h=g;return}function Th(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;o[t+112>>2]=e;o[t+116>>2]=n;o[t+120>>2]=i;return}function Ah(t){t=t|0;return}function Lh(t){t=t|0;Kc(t);return}function Eh(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var s=0,a=0.0,c=0.0,u=0.0,p=0.0;s=h;h=h+96|0;l[s+4>>2]=1.0;o[s+8>>2]=0;r[s+12>>1]=1;r[s+14>>1]=-1;o[s+16>>2]=0;o[s>>2]=8008;o[s+20>>2]=o[e>>2];o[s+20+4>>2]=o[e+4>>2];o[s+20+8>>2]=o[e+8>>2];o[s+20+12>>2]=o[e+12>>2];o[s+36>>2]=o[n>>2];o[s+36+4>>2]=o[n+4>>2];o[s+36+8>>2]=o[n+8>>2];o[s+36+12>>2]=o[n+12>>2];t=o[t+4>>2]|0;Wk[o[(o[t>>2]|0)+32>>2]&127](t,e,n,s);e=o[s+8>>2]|0;if(!e){i=0;h=s;return i|0}if(!(o[e+236>>2]&2)){i=0;h=s;return i|0}if(o[e+204>>2]&4|0){i=0;h=s;return i|0}o[i>>2]=o[s+68>>2];o[i+4>>2]=o[s+68+4>>2];o[i+8>>2]=o[s+68+8>>2];o[i+12>>2]=o[s+68+12>>2];o[i+16>>2]=o[s+52>>2];o[i+16+4>>2]=o[s+52+4>>2];o[i+16+8>>2]=o[s+52+8>>2];o[i+16+12>>2]=o[s+52+12>>2];p=+l[i+16>>2];u=+l[i+20>>2];c=+l[i+24>>2];a=1.0/+V(+(p*p+u*u+c*c));l[i+16>>2]=p*a;l[i+20>>2]=u*a;l[i+24>>2]=c*a;o[i+32>>2]=o[s+4>>2];i=e;h=s;return i|0}function Rh(t){t=t|0;Kc(t);return}function Ih(t,e){t=t|0;e=e|0;e=o[e+4>>2]|0;if(!((r[t+14>>1]&(e&65535))<<16>>16)){t=0;return t|0}t=(e>>>16&65535&r[t+12>>1])<<16>>16!=0;return t|0}function Ph(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0.0,s=0.0,a=0.0,c=0.0,u=0.0;o[t+4>>2]=o[e+24>>2];i=o[e>>2]|0;o[t+8>>2]=i;if(n){o[t+52>>2]=o[e+8>>2];o[t+52+4>>2]=o[e+8+4>>2];o[t+52+8>>2]=o[e+8+8>>2];o[t+52+12>>2]=o[e+8+12>>2]}else{u=+l[e+8>>2];c=+l[e+12>>2];a=+l[e+16>>2];s=u*+l[i+20>>2]+c*+l[i+24>>2]+a*+l[i+28>>2];r=u*+l[i+36>>2]+c*+l[i+40>>2]+a*+l[i+44>>2];l[t+52>>2]=+l[i+4>>2]*u+ +l[i+8>>2]*c+ +l[i+12>>2]*a;l[t+56>>2]=s;l[t+60>>2]=r;l[t+64>>2]=0.0}u=+l[e+24>>2];l[t+68>>2]=(1.0-u)*+l[t+20>>2]+u*+l[t+36>>2];l[t+72>>2]=(1.0-u)*+l[t+24>>2]+u*+l[t+40>>2];l[t+76>>2]=(1.0-u)*+l[t+28>>2]+u*+l[t+44>>2];return+ +l[e+24>>2]}function Dh(t,e,n,r,s,a,c,u){t=t|0;e=e|0;n=n|0;r=r|0;s=+s;a=+a;c=c|0;u=u|0;var p=0,f=0,d=0,_=0,m=0,g=0,b=0,v=0,y=0,x=0,w=0;w=h;h=h+288|0;o[w+208>>2]=o[e>>2];o[w+208+4>>2]=o[e+4>>2];o[w+208+8>>2]=o[e+8>>2];o[w+208+12>>2]=o[e+12>>2];f=w+208+16|0;o[f>>2]=o[n>>2];o[f+4>>2]=o[n+4>>2];o[f+8>>2]=o[n+8>>2];o[f+12>>2]=o[n+12>>2];d=w+208+32|0;o[d>>2]=o[r>>2];o[d+4>>2]=o[r+4>>2];o[d+8>>2]=o[r+8>>2];o[d+12>>2]=o[r+12>>2];g=o[c>>2]|0;v=o[c+4>>2]|0;y=o[c+8>>2]|0;x=o[c+16>>2]|0;m=o[c+12>>2]|0;_=o[c+20>>2]|0;o[w>>2]=o[w+208>>2];o[w+4>>2]=o[w+208+4>>2];o[w+8>>2]=o[w+208+8>>2];o[w+12>>2]=o[w+208+12>>2];o[w+16>>2]=o[f>>2];o[w+16+4>>2]=o[f+4>>2];o[w+16+8>>2]=o[f+8>>2];o[w+16+12>>2]=o[f+12>>2];o[w+32>>2]=o[d>>2];o[w+32+4>>2]=o[d+4>>2];o[w+32+8>>2]=o[d+8>>2];o[w+32+12>>2]=o[d+12>>2];r=o[t+128>>2]|0;if((r|0)==(o[t+132>>2]|0)?(b=r|0?r<<1:1,(r|0)<(b|0)):0){if(!b)e=0;else{o[5637]=(o[5637]|0)+1;e=Jc((b*284|3)+16|0)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}r=o[t+128>>2]|0}if((r|0)>0){c=0;do{n=o[t+136>>2]|0;p=e+(c*284|0)|0;f=n+(c*284|0)|0;d=p+92|0;do{o[p>>2]=o[f>>2];p=p+4|0;f=f+4|0}while((p|0)<(d|0));p=e+(c*284|0)+92|0;f=n+(c*284|0)+92|0;o[p>>2]=o[f>>2];o[p+4>>2]=o[f+4>>2];o[p+8>>2]=o[f+8>>2];o[p+12>>2]=o[f+12>>2];p=e+(c*284|0)+108|0;f=n+(c*284|0)+108|0;o[p>>2]=o[f>>2];o[p+4>>2]=o[f+4>>2];o[p+8>>2]=o[f+8>>2];o[p+12>>2]=o[f+12>>2];p=e+(c*284|0)+124|0;f=n+(c*284|0)+124|0;o[p>>2]=o[f>>2];o[p+4>>2]=o[f+4>>2];o[p+8>>2]=o[f+8>>2];o[p+12>>2]=o[f+12>>2];p=e+(c*284|0)+140|0;f=n+(c*284|0)+140|0;o[p>>2]=o[f>>2];o[p+4>>2]=o[f+4>>2];o[p+8>>2]=o[f+8>>2];o[p+12>>2]=o[f+12>>2];p=e+(c*284|0)+156|0;f=n+(c*284|0)+156|0;d=p+128|0;do{o[p>>2]=o[f>>2];p=p+4|0;f=f+4|0}while((p|0)<(d|0));c=c+1|0}while((c|0)!=(r|0))}r=o[t+136>>2]|0;if(r|0){if(i[t+140>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0)}o[t+136>>2]=0}i[t+140>>0]=1;o[t+136>>2]=e;o[t+132>>2]=b;r=o[t+128>>2]|0}e=o[t+136>>2]|0;p=e+(r*284|0)|0;f=w+48|0;d=p+92|0;do{o[p>>2]=o[f>>2];p=p+4|0;f=f+4|0}while((p|0)<(d|0));p=e+(r*284|0)+92|0;o[p>>2]=o[w+192>>2];o[p+4>>2]=o[w+192+4>>2];o[p+8>>2]=o[w+192+8>>2];o[p+12>>2]=o[w+192+12>>2];p=e+(r*284|0)+108|0;o[p>>2]=o[w+176>>2];o[p+4>>2]=o[w+176+4>>2];o[p+8>>2]=o[w+176+8>>2];o[p+12>>2]=o[w+176+12>>2];p=e+(r*284|0)+124|0;o[p>>2]=o[w+160>>2];o[p+4>>2]=o[w+160+4>>2];o[p+8>>2]=o[w+160+8>>2];o[p+12>>2]=o[w+160+12>>2];p=e+(r*284|0)+140|0;o[p>>2]=o[w+144>>2];o[p+4>>2]=o[w+144+4>>2];o[p+8>>2]=o[w+144+8>>2];o[p+12>>2]=o[w+144+12>>2];e=e+(r*284|0)+156|0;p=e;f=w;d=p+48|0;do{o[p>>2]=o[f>>2];p=p+4|0;f=f+4|0}while((p|0)<(d|0));l[e+48>>2]=s;o[e+52>>2]=m;l[e+56>>2]=a;o[e+60>>2]=g;o[e+64>>2]=v;o[e+68>>2]=y;o[e+72>>2]=x;l[e+76>>2]=0.0;l[e+80>>2]=0.0;l[e+84>>2]=0.0;l[e+88>>2]=.10000000149011612;o[e+92>>2]=_;l[e+96>>2]=0.0;l[e+100>>2]=0.0;i[e+104>>0]=u&1;p=e+105|0;f=w+256|0;d=p+23|0;do{i[p>>0]=i[f>>0]|0;p=p+1|0;f=f+1|0}while((p|0)<(d|0));u=o[t+128>>2]|0;o[t+128>>2]=u+1;u=(o[t+136>>2]|0)+(u*284|0)|0;Mh(o[t+108>>2]|0,u,0);Sh(o[t+108>>2]|0,o[t+136>>2]|0,(o[t+128>>2]|0)+-1|0,0);h=w;return u|0}function kh(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0,s=0,a=0,c=0,l=0;i=o[t+56>>2]|0;if(!i){i=o[t+52>>2]|0;if(!i){o[5637]=(o[5637]|0)+1;i=Jc(31)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}r=o[t+60>>2]|0;o[i+4>>2]=r;s=i+8|0;o[s>>2]=0;o[5637]=(o[5637]|0)+1;r=Jc((r*24|3)+16|0)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}o[i>>2]=r;o[s>>2]=o[t+48>>2];o[t+48>>2]=i}else o[t+52>>2]=o[i+8>>2];a=o[i+4>>2]|0;i=o[i>>2]|0;if((a|0)>0){r=0;s=i;do{r=r+1|0;c=s;s=s+24|0;o[c>>2]=(r|0)<(a|0)?s:0}while((r|0)!=(a|0));c=i}else c=i}else c=i;o[t+56>>2]=o[c>>2];o[c>>2]=0;o[c+4>>2]=0;o[c+8>>2]=0;o[c+12>>2]=0;o[c+16>>2]=0;o[c+20>>2]=0;i=o[t+56>>2]|0;if(!i){i=o[t+52>>2]|0;if(!i){o[5637]=(o[5637]|0)+1;i=Jc(31)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}r=o[t+60>>2]|0;o[i+4>>2]=r;s=i+8|0;o[s>>2]=0;o[5637]=(o[5637]|0)+1;r=Jc((r*24|3)+16|0)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}o[i>>2]=r;o[s>>2]=o[t+48>>2];o[t+48>>2]=i}else o[t+52>>2]=o[i+8>>2];a=o[i+4>>2]|0;i=o[i>>2]|0;if((a|0)>0){r=0;s=i;do{r=r+1|0;l=s;s=s+24|0;o[l>>2]=(r|0)<(a|0)?s:0}while((r|0)!=(a|0))}}o[t+56>>2]=o[i>>2];o[i>>2]=0;o[i+4>>2]=0;o[i+8>>2]=0;o[c+8>>2]=i;o[i+8>>2]=c;l=o[t+100>>2]|0;o[c+20>>2]=l;o[i+20>>2]=l;o[c+12>>2]=n;o[i+12>>2]=e;o[c+16>>2]=0;o[i+16>>2]=0;i=o[t+116>>2]|0;o[t+116>>2]=i+1;if((i|0)<(o[t+120>>2]|0))return c|0;o[t+120>>2]=i+1;return c|0}function Oh(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0,s=0,a=0,c=0,l=0,u=0,p=0,f=0,d=0,_=0,m=0,g=0,b=0,v=0,y=0,x=0,w=0,S=0,M=0,C=0,T=0,A=0,L=0,E=0,R=0,P=0,D=0,k=0,O=0,N=0,F=0,B=0,j=0,U=0;N=h;h=h+144|0;t:do{switch(n-e|0){case 0:{o[i>>2]=0;o[i+4>>2]=0;o[i+8>>2]=0;o[i+12>>2]=0;h=N;return}case 2:{r=o[(o[t+92>>2]|0)+(e<<2)>>2]|0;l=o[r+88>>2]|0;u=o[r+200>>2]|0;c=o[r+92>>2]|0;s=o[r+204>>2]|0;if((l|0)==(u|0)){if((c|0)==(s|0))if((o[r+96>>2]|0)==(o[r+208>>2]|0))break t;else s=c;if((c|0)==(s|0)){k=(o[r+96>>2]|0)>(o[r+208>>2]|0);s=k?r+112|0:r;o[s>>2]=s;o[s+4>>2]=s;o[i>>2]=s;o[i+4>>2]=s;o[i+8>>2]=s;o[i+12>>2]=s;r=k?r:r+112|0}else{a=s;s=0;O=9}}else{a=s;s=(c|0)==(s|0);O=9}do{if((O|0)==9){o[r>>2]=r+112;o[r+4>>2]=r+112;o[r+112>>2]=r;o[r+116>>2]=r;O=(c|0)<(a|0);o[i>>2]=(l|0)<(u|0)|(l|0)==(u|0)&O?r:r+112|0;o[i+4>>2]=(l|0)<(u|0)|(l|0)==(u|0)&O?r+112|0:r;if(O|(l|0)<(u|0)&s){o[i+8>>2]=r;o[i+12>>2]=r+112;s=r;r=r+112|0;break}else{o[i+8>>2]=r+112;o[i+12>>2]=r;s=r;r=r+112|0;break}}}while(0);t=kh(t,s,r)|0;o[t>>2]=t;o[t+4>>2]=t;o[s+8>>2]=t;t=o[t+8>>2]|0;o[t>>2]=t;o[t+4>>2]=t;o[r+8>>2]=t;h=N;return}case 1:{r=o[(o[t+92>>2]|0)+(e<<2)>>2]|0;break}default:{f=((n-e|0)/2|0)+e|0;a=o[t+92>>2]|0;p=o[a+(f+-1<<2)>>2]|0;c=o[p+88>>2]|0;l=o[p+92>>2]|0;p=o[p+96>>2]|0;e:do{if((f|0)<(n|0)){r=f;do{s=o[a+(r<<2)>>2]|0;if((o[s+88>>2]|0)!=(c|0))break e;if((o[s+92>>2]|0)!=(l|0))break e;if((o[s+96>>2]|0)!=(p|0))break e;r=r+1|0}while((r|0)<(n|0))}else r=f}while(0);Oh(t,e,f,i);o[N+96>>2]=0;o[N+96+4>>2]=0;o[N+96+8>>2]=0;o[N+96+12>>2]=0;Oh(t,r,n,N+96|0);p=o[N+96+4>>2]|0;e:do{if(p|0){T=o[i+4>>2]|0;if(!T){o[i>>2]=o[N+96>>2];o[i+4>>2]=o[N+96+4>>2];o[i+8>>2]=o[N+96+8>>2];o[i+12>>2]=o[N+96+12>>2];break}o[t+100>>2]=(o[t+100>>2]|0)+-1;a=o[i+12>>2]|0;l=o[N+96+8>>2]|0;c=o[a+88>>2]|0;n:do{if((c|0)==(o[l+88>>2]|0)?(u=o[a+92>>2]|0,(u|0)==(o[l+92>>2]|0)):0){f=o[l+4>>2]|0;if((f|0)==(l|0)){r=o[l+8>>2]|0;if(r){l=o[r+12>>2]|0;u=o[l+92>>2]|0;c=o[l+88>>2]|0}s=a;P=l;r=l;f=c+1|0;n=o[l+96>>2]|0;break}a=o[l>>2]|0;o[f>>2]=a;o[a+4>>2]=f;i:do{if((l|0)==(o[N+96>>2]|0)){r=o[a+88>>2]|0;s=o[f+88>>2]|0;do{if((r|0)>=(s|0)){if((r|0)==(s|0)?(o[a+92>>2]|0)<(o[f+92>>2]|0):0)break;o[N+96>>2]=f;break i}}while(0);o[N+96>>2]=a}}while(0);if((l|0)==(p|0)){r=o[a+88>>2]|0;s=o[f+88>>2]|0;do{if((r|0)<=(s|0)){if((r|0)==(s|0)?(o[a+92>>2]|0)>(o[f+92>>2]|0):0)break;o[N+96+4>>2]=f;a=f;O=39;break n}}while(0);o[N+96+4>>2]=a;O=39}else{a=p;O=39}}else{a=p;O=39}}while(0);if((O|0)==39){w=o[i>>2]|0;S=o[N+96>>2]|0;M=0;C=1;e=T;s=0;r=a;c=0;while(1){l=o[r+88>>2]|0;n=o[e+88>>2]|0;u=et(l-n|0,C)|0;n:do{if((u|0)<=0){if((u|0)<0){x=(M|0)!=0;f=o[e+92>>2]|0;y=o[r+92>>2]|0;p=u;u=e;while(1){g=o[(x?r+4|0:r)>>2]|0;b=(g|0)==(r|0);v=r+88|0;m=p;while(1){p=u+88|0;d=y-f|0;if(!b?(A=o[g+88>>2]|0,L=et(A-l|0,C)|0,E=o[g+92>>2]|0,R=E-y|0,(R|0)>-1):0){if(!L)break;if((L|0)<0?(et(R,m)|0)<=(et(L,d)|0):0)break}_=o[(x?u+4|0:u)>>2]|0;if((_|0)==(u|0))break n;P=o[_+88>>2]|0;n=et(P-(o[p>>2]|0)|0,C)|0;e=o[_+92>>2]|0;p=e-f|0;l=o[v>>2]|0;f=m;m=et(l-P|0,C)|0;if(!((p|0)>0&(m|0)<0))break n;if(!n){f=e;u=_;continue}if((n|0)>=0)break n;if((et(p,f)|0)>=(et(n,d)|0))break n;else{f=e;u=_}}l=A;y=E;p=et(A-(o[p>>2]|0)|0,C)|0;r=g}}l=o[e+92>>2]|0;f=(M|0)!=0;i:do{if(f){p=e;while(1){u=o[p>>2]|0;if((u|0)==(e|0))break i;if((o[u+88>>2]|0)!=(n|0))break i;P=l;l=o[u+92>>2]|0;if((l|0)>(P|0))break;else p=u}}else{p=e;while(1){u=o[p+4>>2]|0;if((u|0)==(e|0))break i;if((o[u+88>>2]|0)!=(n|0))break i;P=l;l=o[u+92>>2]|0;if((l|0)>(P|0))break;else p=u}}}while(0);u=o[r+92>>2]|0;if(f){f=r;while(1){l=o[f+4>>2]|0;if((l|0)==(r|0)){u=p;r=f;break n}if((o[l+88>>2]|0)!=(n|0)){u=p;r=f;break n}P=u;u=o[l+92>>2]|0;if((u|0)<(P|0)){u=p;r=f;break}else f=l}}else{f=r;while(1){l=o[f>>2]|0;if((l|0)==(r|0)){u=p;r=f;break n}if((o[l+88>>2]|0)!=(n|0)){u=p;r=f;break n}P=u;u=o[l+92>>2]|0;if((u|0)<(P|0)){u=p;r=f;break}else f=l}}}else{y=(M|0)!=0;b=n;v=o[r+92>>2]|0;g=u;while(1){m=r+88|0;p=o[e+92>>2]|0;l=v-p|0;u=o[(y?e:e+4|0)>>2]|0;i:do{if((u|0)!=(e|0))if(y){_=b;d=p;n=g;while(1){p=_;_=o[u+88>>2]|0;p=et(_-p|0,C)|0;f=d;d=o[u+92>>2]|0;f=d-f|0;if((f|0)>=1){d=l;u=e;break i}if(p|0){if((p|0)>=0){d=l;u=e;break i}if((et(f,n)|0)>(et(p,l)|0)){d=l;u=e;break i}}f=et((o[m>>2]|0)-_|0,C)|0;l=v-d|0;p=o[u>>2]|0;if((p|0)==(u|0)){d=l;n=f;break}else{e=u;u=p;n=f}}}else{_=b;d=p;n=g;while(1){p=_;_=o[u+88>>2]|0;p=et(_-p|0,C)|0;f=d;d=o[u+92>>2]|0;f=d-f|0;if((f|0)>=1){d=l;u=e;break i}if(p|0){if((p|0)>=0){d=l;u=e;break i}if((et(f,n)|0)>(et(p,l)|0)){d=l;u=e;break i}}f=et((o[m>>2]|0)-_|0,C)|0;l=v-d|0;p=o[u+4>>2]|0;if((p|0)==(u|0)){d=l;n=f;break}else{e=u;u=p;n=f}}}else{d=l;n=g;u=e}}while(0);f=o[(y?r:r+4|0)>>2]|0;if((f|0)==(r|0))break n;g=o[f+88>>2]|0;l=et(g-(o[m>>2]|0)|0,C)|0;p=v;v=o[f+92>>2]|0;p=v-p|0;b=o[u+88>>2]|0;g=et(g-b|0,C)|0;if(!((p|0)<0&(g|0)>0))break n;if(!l){e=u;r=f;continue}if((l|0)>=0)break n;if((et(p,n)|0)>=(et(l,d)|0))break;else{e=u;r=f}}}}while(0);l=(M|0)==0;c=l?r:c;s=l?u:s;r=l?S:r;e=l?w:u;M=M+1|0;if((M|0)==2)break;else C=l?-1:C}o[e+4>>2]=r;o[r>>2]=e;o[s>>2]=c;o[c+4>>2]=s;if((o[S+88>>2]|0)<(o[w+88>>2]|0))o[i>>2]=S;if((o[a+88>>2]|0)>=(o[T+88>>2]|0))o[i+4>>2]=a;o[i+12>>2]=o[N+96+12>>2];a=s;R=c;b=o[c+88>>2]|0;n=o[s+88>>2]|0;v=o[c+92>>2]|0;y=o[s+92>>2]|0;x=o[c+96>>2]|0;e=o[s+96>>2]|0;w=((v-y|0)<0)<<31>>31;S=0-(b-n)|0;M=El(0,0,S|0,((S|0)<0)<<31>>31|0)|0;M=Vl(x-e|0,((x-e|0)<0)<<31>>31|0,M|0,I|0)|0;C=I;T=Vl(x-e|0,((x-e|0)<0)<<31>>31|0,v-y|0,w|0)|0;A=I;d=Vl(b-n|0,((b-n|0)<0)<<31>>31|0,S|0,((S|0)<0)<<31>>31|0)|0;E=I;L=Vl(v-y|0,w|0,v-y|0,w|0)|0;L=El(d|0,E|0,L|0,I|0)|0;E=I;d=o[s+8>>2]|0;o[N+120>>2]=0;if(!d)_=0;else{_=El(0,0,v-y|0,w|0)|0;m=I;r=0;g=d;while(1){p=o[g+12>>2]|0;l=o[p+88>>2]|0;u=o[p+92>>2]|0;p=o[p+96>>2]|0;f=Vl(u-y|0,((u-y|0)<0)<<31>>31|0,S|0,((S|0)<0)<<31>>31|0)|0;P=I;i=Vl(l-n|0,((l-n|0)<0)<<31>>31|0,_|0,m|0)|0;n:do{if((f|0)==(i|0)&(P|0)==(I|0)?(i=Vl(l-n|0,((l-n|0)<0)<<31>>31|0,M|0,C|0)|0,f=I,P=Vl(u-y|0,((u-y|0)<0)<<31>>31|0,T|0,A|0)|0,f=Rl(P|0,I|0,i|0,f|0)|0,i=I,P=Vl(p-e|0,((p-e|0)<0)<<31>>31|0,L|0,E|0)|0,P=Rl(f|0,i|0,P|0,I|0)|0,i=I,(i|0)>0|(i|0)==0&P>>>0>0):0){do{if(r|0){f=(o[r+4>>2]|0)==(g|0);if((o[r>>2]|0)!=(g|0))if(f)break;else break n;if(!f)break n;i=o[r+12>>2]|0;F=o[(o[g+8>>2]|0)+12>>2]|0;P=o[F+88>>2]|0;f=o[F+92>>2]|0;F=o[F+96>>2]|0;B=(o[i+96>>2]|0)-F|0;f=(et(p-F|0,(o[i+92>>2]|0)-f|0)|0)-(et(B,u-f|0)|0)|0;P=(et(B,l-P|0)|0)-(et(p-F|0,(o[i+88>>2]|0)-P|0)|0)|0;f=Vl(f|0,((f|0)<0)<<31>>31|0,v-y|0,w|0)|0;i=I;P=Vl(P|0,((P|0)<0)<<31>>31|0,S|0,((S|0)<0)<<31>>31|0)|0;P=Rl(f|0,i|0,P|0,I|0)|0;i=I;if((i|0)>0|(i|0)==0&P>>>0>0)break n}}while(0);o[N+120>>2]=g;r=g}}while(0);g=o[g>>2]|0;if((g|0)==(d|0)){_=r;break}}}f=o[c+8>>2]|0;o[N+72>>2]=0;if(!f)r=0;else{n=El(0,0,v-y|0,w|0)|0;e=I;r=0;d=f;do{p=o[d+12>>2]|0;l=o[p+88>>2]|0;u=o[p+92>>2]|0;p=o[p+96>>2]|0;P=Vl(u-v|0,((u-v|0)<0)<<31>>31|0,S|0,((S|0)<0)<<31>>31|0)|0;B=I;F=Vl(l-b|0,((l-b|0)<0)<<31>>31|0,n|0,e|0)|0;do{if((P|0)==(F|0)&(B|0)==(I|0)?(F=Vl(l-b|0,((l-b|0)<0)<<31>>31|0,M|0,C|0)|0,P=I,B=Vl(u-v|0,((u-v|0)<0)<<31>>31|0,T|0,A|0)|0,P=Rl(B|0,I|0,F|0,P|0)|0,F=I,B=Vl(p-x|0,((p-x|0)<0)<<31>>31|0,L|0,E|0)|0,B=Rl(P|0,F|0,B|0,I|0)|0,F=I,(F|0)>0|(F|0)==0&B>>>0>0):0){if(r|0){if((o[r>>2]|0)!=(d|0))break;if((o[r+4>>2]|0)==(d|0)?(F=o[r+12>>2]|0,i=o[(o[d+8>>2]|0)+12>>2]|0,B=o[i+88>>2]|0,P=o[i+92>>2]|0,i=o[i+96>>2]|0,g=(o[F+96>>2]|0)-i|0,P=(et(p-i|0,(o[F+92>>2]|0)-P|0)|0)-(et(g,u-P|0)|0)|0,B=(et(g,l-B|0)|0)-(et(p-i|0,(o[F+88>>2]|0)-B|0)|0)|0,P=Vl(P|0,((P|0)<0)<<31>>31|0,v-y|0,w|0)|0,F=I,B=Vl(B|0,((B|0)<0)<<31>>31|0,S|0,((S|0)<0)<<31>>31|0)|0,B=Rl(P|0,F|0,B|0,I|0)|0,F=I,!((F|0)>0|(F|0)==0&B>>>0>0)):0)break}o[N+72>>2]=d;r=d}}while(0);d=o[d>>2]|0}while((d|0)!=(f|0))}if((_|0)!=0|(r|0)!=0){Nh(t,s,c,N+120|0,N+72|0);r=o[N+120>>2]|0;if(r){a=o[r+12>>2]|0;s=a}r=o[N+72>>2]|0;if(!r)r=R;else{r=o[r+12>>2]|0;c=r}}else r=R;P=c;f=o[c+88>>2]|0;n=(o[c+96>>2]|0)+1|0;u=o[c+92>>2]|0}w=P;S=s;c=0;L=0;i=1;l=0;p=0;M=0;T=0;A=f;d=n;R=0;f=0;while(1){C=S+88|0;y=(o[w+88>>2]|0)-(o[C>>2]|0)|0;B=S+92|0;E=(o[w+92>>2]|0)-(o[B>>2]|0)|0;v=S+96|0;g=(o[w+96>>2]|0)-(o[v>>2]|0)|0;o[N+120>>2]=y;o[N+120+4>>2]=E;o[N+120+8>>2]=g;o[N+120+12>>2]=-1;C=A-(o[C>>2]|0)|0;B=u-(o[B>>2]|0)|0;v=d-(o[v>>2]|0)|0;b=(et(g,B)|0)-(et(E,v)|0)|0;v=(et(y,v)|0)-(et(g,C)|0)|0;B=(et(E,C)|0)-(et(y,B)|0)|0;o[N+72>>2]=b;o[N+72+4>>2]=((b|0)<0)<<31>>31;o[N+72+8>>2]=v;o[N+72+8+4>>2]=((v|0)<0)<<31>>31;o[N+72+16>>2]=B;o[N+72+16+4>>2]=((B|0)<0)<<31>>31;C=Vl(E|0,((E|0)<0)<<31>>31|0,B|0,((B|0)<0)<<31>>31|0)|0;F=I;x=Vl(g|0,((g|0)<0)<<31>>31|0,v|0,((v|0)<0)<<31>>31|0)|0;x=El(C|0,F|0,x|0,I|0)|0;F=I;g=Vl(b|0,((b|0)<0)<<31>>31|0,g|0,((g|0)<0)<<31>>31|0)|0;C=I;B=Vl(y|0,((y|0)<0)<<31>>31|0,B|0,((B|0)<0)<<31>>31|0)|0;B=El(g|0,C|0,B|0,I|0)|0;C=I;v=Vl(y|0,((y|0)<0)<<31>>31|0,v|0,((v|0)<0)<<31>>31|0)|0;y=I;E=Vl(b|0,((b|0)<0)<<31>>31|0,E|0,((E|0)<0)<<31>>31|0)|0;E=El(v|0,y|0,E|0,I|0)|0;o[N+48>>2]=x;o[N+48+4>>2]=F;o[N+48+8>>2]=B;o[N+48+8+4>>2]=C;o[N+48+16>>2]=E;o[N+48+16+4>>2]=I;o[N+24>>2]=0;o[N+24+4>>2]=0;o[N+24+8>>2]=0;o[N+24+12>>2]=0;o[N+24+16>>2]=0;E=Fh(t,0,S,N+120|0,N+72|0,N+48|0,N+24|0)|0;o[N>>2]=0;o[N+4>>2]=0;o[N+8>>2]=0;o[N+12>>2]=0;o[N+16>>2]=0;C=Fh(t,1,w,N+120|0,N+72|0,N+48|0,N)|0;do{if((E|0)!=0|(C|0)!=0){n=E|0?-1:1;do{if((E|0)!=0&(C|0)!=0){x=o[N+24+16>>2]|0;n=o[N+16>>2]|0;if((x|0)!=(n|0)){y=x-n|0;break}if(!x)y=0;else{B=o[N+24>>2]|0;v=o[N+24+4>>2]|0;_=o[N+8>>2]|0;j=o[N+8+4>>2]|0;e=Vl(_|0,0,B|0,0)|0;n=I;B=Vl(j|0,0,B|0,0)|0;F=I;_=Vl(_|0,0,v|0,0)|0;m=I;v=Vl(j|0,0,v|0,0)|0;j=I;_=Rl(B|0,0,_|0,0)|0;B=I;j=Rl(F|0,0,v|0,j|0)|0;m=Rl(j|0,I|0,m|0,0)|0;B=Rl(m|0,I|0,B|0,0)|0;m=I;n=Rl(0,_|0,e|0,n|0)|0;e=I;_=Rl(B|0,m|0,(e>>>0<_>>>0|(e|0)==(_|0)&n>>>0<0)&1|0,0)|0;m=I;B=o[N+24+8>>2]|0;j=o[N+24+8+4>>2]|0;v=o[N>>2]|0;F=o[N+4>>2]|0;b=Vl(v|0,0,B|0,0)|0;g=I;B=Vl(F|0,0,B|0,0)|0;U=I;v=Vl(v|0,0,j|0,0)|0;y=I;j=Vl(F|0,0,j|0,0)|0;F=I;v=Rl(B|0,0,v|0,0)|0;B=I;F=Rl(U|0,0,j|0,F|0)|0;y=Rl(F|0,I|0,y|0,0)|0;B=Rl(y|0,I|0,B|0,0)|0;y=I;g=Rl(0,v|0,b|0,g|0)|0;b=I;v=Rl(B|0,y|0,(b>>>0<v>>>0|(b|0)==(v|0)&g>>>0<0)&1|0,0)|0;y=I;if(!(m>>>0<y>>>0|(m|0)==(y|0)&_>>>0<v>>>0))if(!(m>>>0>y>>>0|(m|0)==(y|0)&_>>>0>v>>>0))if(e>>>0<b>>>0|(e|0)==(b|0)&n>>>0<g>>>0)n=-1;else n=(e>>>0>b>>>0|(e|0)==(b|0)&n>>>0>g>>>0)&1;else n=1;else n=-1;y=et(n,x)|0}}else y=n}while(0);do{if(!i)if((y|0)>-1)if((o[N+16>>2]|0)<0&((o[N+8>>2]|0)==0?(o[N+8+4>>2]|0)==0:0)){e=M;v=T;break}else{O=136;break}else if((o[N+24+16>>2]|0)<0&((o[N+24+8>>2]|0)==0?(o[N+24+8+4>>2]|0)==0:0)){e=M;v=T;break}else{O=136;break}else O=136}while(0);if((O|0)==136){O=0;e=kh(t,S,w)|0;if(!M)l=e;else o[M+4>>2]=e;o[e>>2]=M;n=o[e+8>>2]|0;if(!T)p=n;else o[T>>2]=n;o[n+4>>2]=T;v=n}o[N+116>>2]=E;o[N+112>>2]=C;if(!y){Nh(t,a,r,N+116|0,N+112|0);b=o[N+112>>2]|0}else b=C;if((y|0)>-1&(b|0)!=0){g=(f|0)!=0;if(g?(D=o[f>>2]|0,(D|0)!=(C|0)):0){_=D;do{m=_;_=o[_>>2]|0;d=o[m+8>>2]|0;n=o[d+12>>2]|0;if((_|0)==(m|0))u=0;else{o[_+4>>2]=o[m+4>>2];o[o[m+4>>2]>>2]=_;u=_}o[n+8>>2]=u;u=o[d>>2]|0;n=o[m+12>>2]|0;if((u|0)==(d|0))u=0;else{o[u+4>>2]=o[d+4>>2];o[o[d+4>>2]>>2]=u}o[n+8>>2]=u;o[m>>2]=0;o[m+4>>2]=0;o[m+8>>2]=0;o[m+12>>2]=0;o[m+16>>2]=0;o[m>>2]=o[t+56>>2];o[t+56>>2]=m;o[d>>2]=0;o[d+4>>2]=0;o[d+8>>2]=0;o[d+12>>2]=0;o[d+16>>2]=0;o[d>>2]=o[t+56>>2];o[t+56>>2]=d;o[t+116>>2]=(o[t+116>>2]|0)+-1}while((_|0)!=(C|0))}if(!v){f=b;u=g?L:C}else{if(g){o[f>>2]=p;n=C+4|0;u=L}else{f=o[C+4>>2]|0;o[f>>2]=p;n=C+4|0;u=p}o[p+4>>2]=f;o[v>>2]=C;o[n>>2]=v;f=o[N+112>>2]|0;p=0}M=r;r=o[f+12>>2]|0;L=u;v=0;n=o[M+88>>2]|0;d=o[M+96>>2]|0;u=o[M+92>>2]|0;M=o[f+8>>2]|0}else{n=A;M=f}b=o[N+116>>2]|0;if((y|0)<1&(b|0)!=0){g=(R|0)!=0;if(g?(k=o[R+4>>2]|0,(k|0)!=(E|0)):0){_=k;do{f=_+4|0;m=_;_=o[f>>2]|0;u=o[m>>2]|0;d=o[m+8>>2]|0;n=o[d+12>>2]|0;if((u|0)==(m|0))u=0;else{o[u+4>>2]=_;o[o[f>>2]>>2]=u}o[n+8>>2]=u;u=o[d>>2]|0;f=o[m+12>>2]|0;if((u|0)==(d|0))u=0;else{o[u+4>>2]=o[d+4>>2];o[o[d+4>>2]>>2]=u}o[f+8>>2]=u;o[m>>2]=0;o[m+4>>2]=0;o[m+8>>2]=0;o[m+12>>2]=0;o[m+16>>2]=0;o[m>>2]=o[t+56>>2];o[t+56>>2]=m;o[d>>2]=0;o[d+4>>2]=0;o[d+8>>2]=0;o[d+12>>2]=0;o[d+16>>2]=0;o[d>>2]=o[t+56>>2];o[t+56>>2]=d;o[t+116>>2]=(o[t+116>>2]|0)+-1}while((_|0)!=(E|0))}if(!e){f=b;c=g?c:E}else{if(g){o[R+4>>2]=l;f=E;u=R}else{u=o[E>>2]|0;o[u+4>>2]=l;f=E;c=l}o[l>>2]=u;o[f>>2]=e;o[e+4>>2]=E;f=o[N+116>>2]|0;l=0}u=a;a=o[f+12>>2]|0;y=0;w=o[u+88>>2]|0;S=o[u+96>>2]|0;u=o[u+92>>2]|0;x=o[f+8>>2]|0}else{y=e;w=n;S=d;x=R}if((a|0)==(s|0)&(r|0)==(P|0)){if(x){g=x+4|0;f=o[g>>2]|0;if((f|0)!=(c|0))do{e=f+4|0;m=f;f=o[e>>2]|0;n=o[m>>2]|0;_=o[m+8>>2]|0;d=o[_+12>>2]|0;if((n|0)==(m|0))n=0;else{o[n+4>>2]=f;o[o[e>>2]>>2]=n}o[d+8>>2]=n;n=o[_>>2]|0;e=o[m+12>>2]|0;if((n|0)==(_|0))n=0;else{o[n+4>>2]=o[_+4>>2];o[o[_+4>>2]>>2]=n}o[e+8>>2]=n;o[m>>2]=0;o[m+4>>2]=0;o[m+8>>2]=0;o[m+12>>2]=0;o[m+16>>2]=0;o[m>>2]=o[t+56>>2];o[t+56>>2]=m;o[_>>2]=0;o[_+4>>2]=0;o[_+8>>2]=0;o[_+12>>2]=0;o[_+16>>2]=0;o[_>>2]=o[t+56>>2];o[t+56>>2]=_;o[t+116>>2]=(o[t+116>>2]|0)+-1}while((f|0)!=(c|0));if(y|0){o[l>>2]=x;o[g>>2]=l;o[c>>2]=y;o[y+4>>2]=c}}else{o[l>>2]=y;o[y+4>>2]=l;o[a+8>>2]=y}if(!M){o[v>>2]=p;o[p+4>>2]=v;o[P+8>>2]=v;b=0;m=L;g=i;_=y;e=w;d=S;n=x;f=0;break}f=o[M>>2]|0;if((f|0)!=(L|0))do{_=f;f=o[f>>2]|0;d=o[_+8>>2]|0;e=o[d+12>>2]|0;if((f|0)==(_|0))n=0;else{o[f+4>>2]=o[_+4>>2];o[o[_+4>>2]>>2]=f;n=f}o[e+8>>2]=n;n=o[d>>2]|0;e=o[_+12>>2]|0;if((n|0)==(d|0))n=0;else{o[n+4>>2]=o[d+4>>2];o[o[d+4>>2]>>2]=n}o[e+8>>2]=n;o[_>>2]=0;o[_+4>>2]=0;o[_+8>>2]=0;o[_+12>>2]=0;o[_+16>>2]=0;o[_>>2]=o[t+56>>2];o[t+56>>2]=_;o[d>>2]=0;o[d+4>>2]=0;o[d+8>>2]=0;o[d+12>>2]=0;o[d+16>>2]=0;o[d>>2]=o[t+56>>2];o[t+56>>2]=d;o[t+116>>2]=(o[t+116>>2]|0)+-1}while((f|0)!=(L|0));if(!v){b=0;m=L;g=i;_=y;v=0;e=w;d=S;n=x;f=M}else{o[M>>2]=p;o[p+4>>2]=M;o[v>>2]=L;o[L+4>>2]=v;b=0;m=L;g=i;_=y;e=w;d=S;n=x;f=M}}else{b=1;m=L;g=0;_=y;e=w;d=S;n=x;f=M}}else{b=kh(t,S,w)|0;o[b>>2]=b;o[b+4>>2]=b;o[S+8>>2]=b;b=o[b+8>>2]|0;o[b>>2]=b;o[b+4>>2]=b;o[r+8>>2]=b;b=0;m=L;g=i;_=M;v=T;e=A;n=R}}while(0);if(!b)break e;w=r;S=a;L=m;i=g;M=_;T=v;A=e;R=n}}}while(0);h=N;return}}}while(0);o[r+8>>2]=0;o[r>>2]=r;o[r+4>>2]=r;o[i>>2]=r;o[i+4>>2]=r;o[i+8>>2]=r;o[i+12>>2]=r;h=N;return}function Nh(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;var s=0,a=0,c=0,l=0,u=0,h=0,p=0,f=0,d=0,_=0,m=0,g=0,b=0,v=0,y=0,x=0,w=0,S=0,M=0,C=0,T=0,A=0,L=0,E=0,R=0,P=0,D=0,k=0,O=0,N=0,F=0,B=0,j=0,U=0,z=0,G=0,V=0,W=0,H=0,X=0,q=0,Y=0,Z=0,J=0,K=0,$=0,Q=0,tt=0,nt=0,it=0,rt=0,ot=0,st=0,at=0,ct=0,lt=0;X=o[i>>2]|0;ot=o[r>>2]|0;if(X|0)s=o[X+12>>2]|0;else s=e;c=o[s+88>>2]|0;l=o[s+92>>2]|0;a=o[s+96>>2]|0;if(!ot)s=n;else s=o[ot+12>>2]|0;b=o[s+88>>2]|0;f=o[s+92>>2]|0;_=o[s+96>>2]|0;$=o[e+88>>2]|0;it=(o[n+88>>2]|0)-$|0;y=o[e+92>>2]|0;rt=(o[n+92>>2]|0)-y|0;e=o[e+96>>2]|0;Z=(o[n+96>>2]|0)-e|0;K=o[(X|0?X:ot)+12>>2]|0;Q=(o[K+88>>2]|0)-$|0;H=(o[K+92>>2]|0)-y|0;K=(o[K+96>>2]|0)-e|0;J=(et(H,Z)|0)-(et(K,rt)|0)|0;K=(et(K,it)|0)-(et(Q,Z)|0)|0;H=(et(Q,rt)|0)-(et(H,it)|0)|0;$=Vl(J|0,((J|0)<0)<<31>>31|0,$|0,(($|0)<0)<<31>>31|0)|0;Q=I;y=Vl(K|0,((K|0)<0)<<31>>31|0,y|0,((y|0)<0)<<31>>31|0)|0;v=I;e=Vl(H|0,((H|0)<0)<<31>>31|0,e|0,((e|0)<0)<<31>>31|0)|0;e=Rl($|0,Q|0,e|0,I|0)|0;v=Rl(e|0,I|0,y|0,v|0)|0;y=I;e=Vl(H|0,((H|0)<0)<<31>>31|0,rt|0,((rt|0)<0)<<31>>31|0)|0;Q=I;$=Vl(K|0,((K|0)<0)<<31>>31|0,Z|0,((Z|0)<0)<<31>>31|0)|0;$=El(e|0,Q|0,$|0,I|0)|0;Q=I;e=Vl(J|0,((J|0)<0)<<31>>31|0,Z|0,((Z|0)<0)<<31>>31|0)|0;nt=I;tt=Vl(H|0,((H|0)<0)<<31>>31|0,it|0,((it|0)<0)<<31>>31|0)|0;tt=El(e|0,nt|0,tt|0,I|0)|0;nt=I;e=Vl(K|0,((K|0)<0)<<31>>31|0,it|0,((it|0)<0)<<31>>31|0)|0;Y=I;q=Vl(J|0,((J|0)<0)<<31>>31|0,rt|0,((rt|0)<0)<<31>>31|0)|0;q=El(e|0,Y|0,q|0,I|0)|0;Y=I;e=Vl($|0,Q|0,c|0,((c|0)<0)<<31>>31|0)|0;W=I;s=Vl(tt|0,nt|0,l|0,((l|0)<0)<<31>>31|0)|0;W=Rl(s|0,I|0,e|0,W|0)|0;e=I;s=Vl(q|0,Y|0,a|0,((a|0)<0)<<31>>31|0)|0;s=Rl(W|0,e|0,s|0,I|0)|0;e=I;if((X|0)!=0?(o[X+12>>2]|0)!=0:0){g=X;m=c;d=l;p=a;while(1){g=o[(o[g+8>>2]|0)+4>>2]|0;l=g+12|0;c=o[l>>2]|0;n=o[c+88>>2]|0;V=Vl(n|0,((n|0)<0)<<31>>31|0,J|0,((J|0)<0)<<31>>31|0)|0;G=I;a=o[c+92>>2]|0;W=Vl(a|0,((a|0)<0)<<31>>31|0,K|0,((K|0)<0)<<31>>31|0)|0;G=Rl(W|0,I|0,V|0,G|0)|0;V=I;c=o[c+96>>2]|0;W=Vl(c|0,((c|0)<0)<<31>>31|0,H|0,((H|0)<0)<<31>>31|0)|0;W=Rl(G|0,V|0,W|0,I|0)|0;V=I;if((V|0)<(y|0)|(V|0)==(y|0)&W>>>0<v>>>0){n=m;c=d;a=p;break}if((o[g+20>>2]|0)==(o[t+100>>2]|0)){n=m;c=d;a=p;break}h=Vl(n|0,((n|0)<0)<<31>>31|0,$|0,Q|0)|0;W=I;u=Vl(a|0,((a|0)<0)<<31>>31|0,tt|0,nt|0)|0;W=Rl(u|0,I|0,h|0,W|0)|0;h=I;u=Vl(c|0,((c|0)<0)<<31>>31|0,q|0,Y|0)|0;u=Rl(W|0,h|0,u|0,I|0)|0;h=I;if(!((h|0)>(e|0)|(h|0)==(e|0)&u>>>0>s>>>0)){n=m;c=d;a=p;break}o[i>>2]=g;W=o[l>>2]|0;n=o[W+88>>2]|0;c=o[W+92>>2]|0;a=o[W+96>>2]|0;if(!W){s=u;e=h;break}else{e=h;s=u;m=n;d=c;p=a}}d=o[r>>2]|0;W=c}else{d=ot;n=c;W=l}l=Vl($|0,Q|0,b|0,((b|0)<0)<<31>>31|0)|0;V=I;c=Vl(tt|0,nt|0,f|0,((f|0)<0)<<31>>31|0)|0;V=Rl(c|0,I|0,l|0,V|0)|0;l=I;c=Vl(q|0,Y|0,_|0,((_|0)<0)<<31>>31|0)|0;c=Rl(V|0,l|0,c|0,I|0)|0;l=I;t:do{if(d)if(!(o[d+12>>2]|0))u=b;else{g=d;m=b;while(1){d=o[o[g+8>>2]>>2]|0;p=o[d+12>>2]|0;u=o[p+88>>2]|0;G=Vl(u|0,((u|0)<0)<<31>>31|0,J|0,((J|0)<0)<<31>>31|0)|0;z=I;h=o[p+92>>2]|0;V=Vl(h|0,((h|0)<0)<<31>>31|0,K|0,((K|0)<0)<<31>>31|0)|0;z=Rl(V|0,I|0,G|0,z|0)|0;G=I;p=o[p+96>>2]|0;V=Vl(p|0,((p|0)<0)<<31>>31|0,H|0,((H|0)<0)<<31>>31|0)|0;V=Rl(z|0,G|0,V|0,I|0)|0;G=I;if((G|0)<(y|0)|(G|0)==(y|0)&V>>>0<v>>>0){d=g;u=m;break t}if((o[d+20>>2]|0)==(o[t+100>>2]|0)){d=g;u=m;break t}V=Vl(u|0,((u|0)<0)<<31>>31|0,$|0,Q|0)|0;G=I;h=Vl(h|0,((h|0)<0)<<31>>31|0,tt|0,nt|0)|0;G=Rl(h|0,I|0,V|0,G|0)|0;V=I;h=Vl(p|0,((p|0)<0)<<31>>31|0,q|0,Y|0)|0;h=Rl(G|0,V|0,h|0,I|0)|0;p=I;if(!((p|0)>(l|0)|(p|0)==(l|0)&h>>>0>c>>>0)){d=g;u=m;break t}o[r>>2]=d;V=o[d+12>>2]|0;u=o[V+88>>2]|0;f=o[V+92>>2]|0;_=o[V+96>>2]|0;if(!V){c=h;l=p;break}else{g=d;l=p;c=h;m=u}}}else{d=0;u=b}}while(0);c=El(c|0,l|0,s|0,e|0)|0;e=I;if((e|0)>0|(e|0)==0&c>>>0>0){G=El(0,0,H|0,((H|0)<0)<<31>>31|0)|0;V=I;l=d;m=c;p=e;g=n;b=W;v=a;j=u;U=f;z=_;while(1){h=(et(U-b|0,rt)|0)+(et(j-g|0,it)|0)+(et(z-v|0,Z)|0)|0;s=o[i>>2]|0;if(!s){E=h;L=h;A=((h|0)<0)<<31>>31;h=m;k=g;D=b;P=v}else{N=h;y=h;F=((h|0)<0)<<31>>31;h=m;D=g;k=b;O=v;t:while(1){if(!(o[s+12>>2]|0)){b=N;v=F;g=D;m=k;s=O;break}P=o[(o[s>>2]|0)+8>>2]|0;if((o[P+20>>2]|0)<=(o[t+100>>2]|0)){b=N;v=F;g=D;m=k;s=O;break}B=o[P+12>>2]|0;g=o[B+88>>2]|0;R=g-D|0;m=o[B+92>>2]|0;E=m-k|0;B=o[B+96>>2]|0;l=B-O|0;v=Vl(R|0,((R|0)<0)<<31>>31|0,$|0,Q|0)|0;L=I;b=Vl(E|0,((E|0)<0)<<31>>31|0,tt|0,nt|0)|0;L=Rl(b|0,I|0,v|0,L|0)|0;v=I;b=Vl(l|0,((l|0)<0)<<31>>31|0,q|0,Y|0)|0;b=Rl(L|0,v|0,b|0,I|0)|0;v=I;l=(et(E,rt)|0)+(et(R,it)|0)+(et(l,Z)|0)|0;do{if((b|0)==0&(v|0)==0){if((l|0)>=0){b=N;v=F;g=D;m=k;s=O;break t}}else{if((v|0)>=0){b=N;v=F;g=D;m=k;s=O;break t}if((l|0)>0){w=1;S=l;x=((l|0)<0)<<31>>31}else{S=El(0,0,l|0,((l|0)<0)<<31>>31|0)|0;w=l>>31;S=(l|0)<0?S:0;x=(l|0)<0?I:0}R=0-w|0;T=El(0,0,b|0,v|0)|0;A=I;if((N|0)>0){l=1;L=y;E=F}else{E=(N|0)<0;L=El(0,0,y|0,F|0)|0;l=N>>31;L=E?L:0;E=E?I:0}if(!((p|0)>0|(p|0)==0&h>>>0>0))if((p|0)<0){b=El(0,0,h|0,p|0)|0;l=0-l|0;v=I}else{b=0;v=0}else{b=h;v=p}if((l|0)==(R|0)){if(!w)break;l=Vl(b|0,0,S|0,0)|0;w=I;lt=Vl(v|0,0,S|0,0)|0;ct=I;M=Vl(b|0,0,x|0,0)|0;C=I;at=Vl(v|0,0,x|0,0)|0;S=I;M=Rl(lt|0,0,M|0,0)|0;b=I;S=Rl(ct|0,0,at|0,S|0)|0;C=Rl(S|0,I|0,C|0,0)|0;b=Rl(C|0,I|0,b|0,0)|0;C=I;w=Rl(0,M|0,l|0,w|0)|0;S=I;M=Rl(b|0,C|0,(S>>>0<M>>>0|(S|0)==(M|0)&w>>>0<0)&1|0,0)|0;C=I;b=Vl(L|0,0,T|0,0)|0;l=I;at=Vl(E|0,0,T|0,0)|0;T=I;v=Vl(L|0,0,A|0,0)|0;x=I;A=Vl(E|0,0,A|0,0)|0;L=I;v=Rl(at|0,0,v|0,0)|0;E=I;L=Rl(T|0,0,A|0,L|0)|0;x=Rl(L|0,I|0,x|0,0)|0;E=Rl(x|0,I|0,E|0,0)|0;x=I;l=Rl(0,v|0,b|0,l|0)|0;b=I;v=Rl(E|0,x|0,(b>>>0<v>>>0|(b|0)==(v|0)&l>>>0<0)&1|0,0)|0;x=I;do{if(C>>>0<x>>>0|(C|0)==(x|0)&M>>>0<v>>>0)l=-1;else{if(C>>>0>x>>>0|(C|0)==(x|0)&M>>>0>v>>>0){l=1;break}if(S>>>0<b>>>0|(S|0)==(b|0)&w>>>0<l>>>0){l=-1;break}l=(S>>>0>b>>>0|(S|0)==(b|0)&w>>>0>l>>>0)&1}}while(0);l=et(l,R)|0}else l=R-l|0;if((l|0)<=-1){b=N;v=F;g=D;m=k;s=O;break t}}}while(0);lt=j-g|0;ct=U-m|0;l=z-B|0;p=Vl(lt|0,((lt|0)<0)<<31>>31|0,$|0,Q|0)|0;at=I;h=Vl(ct|0,((ct|0)<0)<<31>>31|0,tt|0,nt|0)|0;at=Rl(h|0,I|0,p|0,at|0)|0;p=I;h=Vl(l|0,((l|0)<0)<<31>>31|0,q|0,Y|0)|0;h=Rl(at|0,p|0,h|0,I|0)|0;p=I;s=(s|0)==(X|0)?0:P;o[i>>2]=s;l=(et(ct,rt)|0)+(et(lt,it)|0)+(et(l,Z)|0)|0;if(!s){b=l;y=l;v=((l|0)<0)<<31>>31;s=B;break}else{N=l;y=l;F=((l|0)<0)<<31>>31;D=g;k=m;O=B}}E=b;l=o[r>>2]|0;L=y;A=v;k=g;D=m;P=s}if(!l){s=122;break}if(!(o[l+12>>2]|0)){s=122;break}R=o[o[l+8>>2]>>2]|0;if((o[R+20>>2]|0)<=(o[t+100>>2]|0)){s=122;break}g=o[R+12>>2]|0;v=o[g+88>>2]|0;m=v-j|0;b=o[g+92>>2]|0;l=b-U|0;g=o[g+96>>2]|0;s=g-z|0;lt=Vl(m|0,((m|0)<0)<<31>>31|0,J|0,((J|0)<0)<<31>>31|0)|0;at=I;ct=Vl(l|0,((l|0)<0)<<31>>31|0,K|0,((K|0)<0)<<31>>31|0)|0;at=Rl(ct|0,I|0,lt|0,at|0)|0;lt=I;ct=Vl(s|0,((s|0)<0)<<31>>31|0,G|0,V|0)|0;if(!((at|0)==(ct|0)&(lt|0)==(I|0))){s=122;break}x=Vl(m|0,((m|0)<0)<<31>>31|0,$|0,Q|0)|0;T=I;y=Vl(l|0,((l|0)<0)<<31>>31|0,tt|0,nt|0)|0;T=Rl(y|0,I|0,x|0,T|0)|0;x=I;y=Vl(s|0,((s|0)<0)<<31>>31|0,q|0,Y|0)|0;y=Rl(T|0,x|0,y|0,I|0)|0;x=I;s=(et(l,rt)|0)+(et(m,it)|0)+(et(s,Z)|0)|0;T=v-k|0;ct=b-D|0;C=g-P|0;T=Vl(T|0,((T|0)<0)<<31>>31|0,$|0,Q|0)|0;lt=I;ct=Vl(ct|0,((ct|0)<0)<<31>>31|0,tt|0,nt|0)|0;lt=Rl(ct|0,I|0,T|0,lt|0)|0;T=I;C=Vl(C|0,((C|0)<0)<<31>>31|0,q|0,Y|0)|0;C=Rl(lt|0,T|0,C|0,I|0)|0;T=I;if(!((T|0)>0|(T|0)==0&C>>>0>0)){s=122;break}if((y|0)==0&(x|0)==0){if((s|0)>=0){s=122;break}}else{if((x|0)>=0){s=122;break}if((s|0)>0){g=1;b=s;m=((s|0)<0)<<31>>31}else{b=El(0,0,s|0,((s|0)<0)<<31>>31|0)|0;g=s>>31;b=(s|0)<0?b:0;m=(s|0)<0?I:0}M=0-g|0;w=El(0,0,y|0,x|0)|0;S=I;if((E|0)>0){s=1;x=L;y=A}else{y=(E|0)<0;x=El(0,0,L|0,A|0)|0;s=E>>31;x=y?x:0;y=y?I:0}do{if((p|0)>0|(p|0)==0&h>>>0>0){l=s;s=p}else{if((p|0)>=0){l=s;h=0;s=0;break}h=El(0,0,h|0,p|0)|0;l=0-s|0;s=I}}while(0);if((l|0)==(M|0)){if(!g){s=122;break}lt=Vl(h|0,0,b|0,0)|0;g=I;l=Vl(s|0,0,b|0,0)|0;z=I;b=Vl(h|0,0,m|0,0)|0;v=I;s=Vl(s|0,0,m|0,0)|0;m=I;b=Rl(l|0,0,b|0,0)|0;l=I;m=Rl(z|0,0,s|0,m|0)|0;v=Rl(m|0,I|0,v|0,0)|0;l=Rl(v|0,I|0,l|0,0)|0;v=I;m=Rl(0,b|0,lt|0,g|0)|0;g=I;b=Rl(l|0,v|0,(g>>>0<b>>>0|(g|0)==(b|0)&m>>>0<0)&1|0,0)|0;v=I;l=Vl(x|0,0,w|0,0)|0;s=I;lt=Vl(y|0,0,w|0,0)|0;z=I;h=Vl(x|0,0,S|0,0)|0;p=I;at=Vl(y|0,0,S|0,0)|0;ct=I;h=Rl(lt|0,0,h|0,0)|0;lt=I;ct=Rl(z|0,0,at|0,ct|0)|0;p=Rl(ct|0,I|0,p|0,0)|0;lt=Rl(p|0,I|0,lt|0,0)|0;p=I;s=Rl(0,h|0,l|0,s|0)|0;l=I;h=Rl(lt|0,p|0,(l>>>0<h>>>0|(l|0)==(h|0)&s>>>0<0)&1|0,0)|0;p=I;do{if(v>>>0<p>>>0|(v|0)==(p|0)&b>>>0<h>>>0)s=-1;else{if(v>>>0>p>>>0|(v|0)==(p|0)&b>>>0>h>>>0){s=1;break}if(g>>>0<l>>>0|(g|0)==(l|0)&m>>>0<s>>>0){s=-1;break}s=(g>>>0>l>>>0|(g|0)==(l|0)&m>>>0>s>>>0)&1}}while(0);s=et(s,M)|0}else s=M-l|0;if((s|0)<=0){s=122;break}}o[r>>2]=R;z=o[R+12>>2]|0;l=R;m=C;p=T;g=k;b=D;v=P;j=o[z+88>>2]|0;U=o[z+92>>2]|0;z=o[z+96>>2]|0}if((s|0)==122)return}if((e|0)>=0)return;R=El(0,0,H|0,((H|0)<0)<<31>>31|0)|0;P=I;s=W;E=u;t:while(1){L=e;A=c;C=s;e:while(1){T=(et(f-C|0,rt)|0)+(et(E-n|0,it)|0)+(et(_-a|0,Z)|0)|0;do{if((d|0?o[d+12>>2]|0:0)?(st=o[(o[d+4>>2]|0)+8>>2]|0,(o[st+20>>2]|0)>(o[t+100>>2]|0)):0){M=o[st+12>>2]|0;w=o[M+88>>2]|0;lt=w-E|0;S=o[M+92>>2]|0;ct=S-f|0;M=o[M+96>>2]|0;s=M-_|0;c=Vl(lt|0,((lt|0)<0)<<31>>31|0,$|0,Q|0)|0;at=I;e=Vl(ct|0,((ct|0)<0)<<31>>31|0,tt|0,nt|0)|0;at=Rl(e|0,I|0,c|0,at|0)|0;c=I;e=Vl(s|0,((s|0)<0)<<31>>31|0,q|0,Y|0)|0;e=Rl(at|0,c|0,e|0,I|0)|0;c=I;s=(et(ct,rt)|0)+(et(lt,it)|0)+(et(s,Z)|0)|0;if((e|0)==0&(c|0)==0)if((s|0)>0)break e;else break;if((c|0)<0){if((s|0)>0){u=1;h=s;l=((s|0)<0)<<31>>31}else{h=El(0,0,s|0,((s|0)<0)<<31>>31|0)|0;u=s>>31;h=(s|0)<0?h:0;l=(s|0)<0?I:0}x=0-u|0;g=El(0,0,e|0,c|0)|0;b=I;if((T|0)>0){s=1;v=T;y=((T|0)<0)<<31>>31}else{v=El(0,0,T|0,((T|0)<0)<<31>>31|0)|0;s=T>>31;v=(T|0)<0?v:0;y=(T|0)<0?I:0}if(!((L|0)>0|(L|0)==0&A>>>0>0))if((L|0)<0){e=El(0,0,A|0,L|0)|0;s=0-s|0;c=I}else{e=0;c=0}else{e=A;c=L}if((s|0)==(x|0)){if(!u)break e;s=Vl(e|0,0,h|0,0)|0;u=I;at=Vl(c|0,0,h|0,0)|0;X=I;p=Vl(e|0,0,l|0,0)|0;m=I;lt=Vl(c|0,0,l|0,0)|0;h=I;p=Rl(at|0,0,p|0,0)|0;e=I;h=Rl(X|0,0,lt|0,h|0)|0;m=Rl(h|0,I|0,m|0,0)|0;e=Rl(m|0,I|0,e|0,0)|0;m=I;u=Rl(0,p|0,s|0,u|0)|0;h=I;p=Rl(e|0,m|0,(h>>>0<p>>>0|(h|0)==(p|0)&u>>>0<0)&1|0,0)|0;m=I;e=Vl(v|0,0,g|0,0)|0;s=I;lt=Vl(y|0,0,g|0,0)|0;X=I;c=Vl(v|0,0,b|0,0)|0;l=I;at=Vl(y|0,0,b|0,0)|0;ct=I;c=Rl(lt|0,0,c|0,0)|0;lt=I;ct=Rl(X|0,0,at|0,ct|0)|0;l=Rl(ct|0,I|0,l|0,0)|0;lt=Rl(l|0,I|0,lt|0,0)|0;l=I;s=Rl(0,c|0,e|0,s|0)|0;e=I;c=Rl(lt|0,l|0,(e>>>0<c>>>0|(e|0)==(c|0)&s>>>0<0)&1|0,0)|0;l=I;do{if(m>>>0<l>>>0|(m|0)==(l|0)&p>>>0<c>>>0)s=-1;else{if(m>>>0>l>>>0|(m|0)==(l|0)&p>>>0>c>>>0){s=1;break}if(h>>>0<e>>>0|(h|0)==(e|0)&u>>>0<s>>>0){s=-1;break}s=(h>>>0>e>>>0|(h|0)==(e|0)&u>>>0>s>>>0)&1}}while(0);s=et(s,x)|0}else s=x-s|0;if((s|0)<1)break e}}}while(0);s=o[i>>2]|0;if(!s){s=122;break t}if(!(o[s+12>>2]|0)){s=122;break t}y=o[(o[s+8>>2]|0)+4>>2]|0;if((o[y+20>>2]|0)<=(o[t+100>>2]|0)){s=122;break t}c=o[y+12>>2]|0;u=o[c+88>>2]|0;n=u-n|0;l=o[c+92>>2]|0;e=l-C|0;c=o[c+96>>2]|0;s=c-a|0;lt=Vl(n|0,((n|0)<0)<<31>>31|0,J|0,((J|0)<0)<<31>>31|0)|0;at=I;ct=Vl(e|0,((e|0)<0)<<31>>31|0,K|0,((K|0)<0)<<31>>31|0)|0;at=Rl(ct|0,I|0,lt|0,at|0)|0;lt=I;ct=Vl(s|0,((s|0)<0)<<31>>31|0,R|0,P|0)|0;if(!((at|0)==(ct|0)&(lt|0)==(I|0))){s=122;break t}h=Vl(n|0,((n|0)<0)<<31>>31|0,$|0,Q|0)|0;v=I;a=Vl(e|0,((e|0)<0)<<31>>31|0,tt|0,nt|0)|0;v=Rl(a|0,I|0,h|0,v|0)|0;h=I;a=Vl(s|0,((s|0)<0)<<31>>31|0,q|0,Y|0)|0;a=Rl(v|0,h|0,a|0,I|0)|0;h=I;s=(et(e,rt)|0)+(et(n,it)|0)+(et(s,Z)|0)|0;v=E-u|0;ct=f-l|0;b=_-c|0;v=Vl(v|0,((v|0)<0)<<31>>31|0,$|0,Q|0)|0;lt=I;ct=Vl(ct|0,((ct|0)<0)<<31>>31|0,tt|0,nt|0)|0;lt=Rl(ct|0,I|0,v|0,lt|0)|0;v=I;b=Vl(b|0,((b|0)<0)<<31>>31|0,q|0,Y|0)|0;b=Rl(lt|0,v|0,b|0,I|0)|0;v=I;if((v|0)>=0){s=122;break t}if((a|0)==0&(h|0)==0){if((s|0)<=0){s=122;break t}}else{if((h|0)>=0){s=122;break t}if((s|0)>0){l=s;u=((s|0)<0)<<31>>31;c=1}else{l=El(0,0,s|0,((s|0)<0)<<31>>31|0)|0;l=(s|0)<0?l:0;u=(s|0)<0?I:0;c=s>>31}g=0-c|0;d=El(0,0,a|0,h|0)|0;m=I;if((T|0)>0){s=1;p=T;a=((T|0)<0)<<31>>31}else{p=El(0,0,T|0,((T|0)<0)<<31>>31|0)|0;s=T>>31;p=(T|0)<0?p:0;a=(T|0)<0?I:0}do{if((L|0)>0|(L|0)==0&A>>>0>0){n=s;e=A;s=L}else{if((L|0)>=0){n=s;e=0;s=0;break}e=El(0,0,A|0,L|0)|0;n=0-s|0;s=I}}while(0);if((n|0)==(g|0)){if(!c){s=122;break t}lt=Vl(e|0,0,l|0,0)|0;c=I;n=Vl(s|0,0,l|0,0)|0;X=I;e=Vl(e|0,0,u|0,0)|0;h=I;s=Vl(s|0,0,u|0,0)|0;l=I;u=Rl(n|0,0,e|0,0)|0;e=I;l=Rl(X|0,0,s|0,l|0)|0;h=Rl(l|0,I|0,h|0,0)|0;e=Rl(h|0,I|0,e|0,0)|0;h=I;c=Rl(0,u|0,lt|0,c|0)|0;l=I;u=Rl(e|0,h|0,(l>>>0<u>>>0|(l|0)==(u|0)&c>>>0<0)&1|0,0)|0;h=I;e=Vl(p|0,0,d|0,0)|0;s=I;lt=Vl(a|0,0,d|0,0)|0;X=I;n=Vl(p|0,0,m|0,0)|0;ct=I;at=Vl(a|0,0,m|0,0)|0;a=I;n=Rl(lt|0,0,n|0,0)|0;lt=I;a=Rl(X|0,0,at|0,a|0)|0;a=Rl(a|0,I|0,ct|0,0)|0;lt=Rl(a|0,I|0,lt|0,0)|0;a=I;s=Rl(0,n|0,e|0,s|0)|0;e=I;n=Rl(lt|0,a|0,(e>>>0<n>>>0|(e|0)==(n|0)&s>>>0<0)&1|0,0)|0;a=I;do{if(h>>>0<a>>>0|(h|0)==(a|0)&u>>>0<n>>>0)s=-1;else{if(h>>>0>a>>>0|(h|0)==(a|0)&u>>>0>n>>>0){s=1;break}if(l>>>0<e>>>0|(l|0)==(e|0)&c>>>0<s>>>0){s=-1;break}s=(l>>>0>e>>>0|(l|0)==(e|0)&c>>>0>s>>>0)&1}}while(0);s=et(s,g)|0}else s=g-n|0;if((s|0)>=0){s=122;break t}}o[i>>2]=y;a=o[y+12>>2]|0;d=o[r>>2]|0;L=v;A=b;n=o[a+88>>2]|0;C=o[a+92>>2]|0;a=o[a+96>>2]|0}e=w-n|0;E=S-C|0;c=M-a|0;e=Vl(e|0,((e|0)<0)<<31>>31|0,$|0,Q|0)|0;s=I;E=Vl(E|0,((E|0)<0)<<31>>31|0,tt|0,nt|0)|0;s=Rl(E|0,I|0,e|0,s|0)|0;e=I;c=Vl(c|0,((c|0)<0)<<31>>31|0,q|0,Y|0)|0;c=Rl(s|0,e|0,c|0,I|0)|0;d=(d|0)==(ot|0)?0:st;o[r>>2]=d;e=I;s=C;E=w;f=S;_=M}if((s|0)==122)return}function Fh(t,e,n,i,r,s,a){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;s=s|0;a=a|0;var c=0,l=0,u=0,h=0,p=0,f=0,d=0,_=0,m=0,g=0,b=0,v=0,y=0,x=0,w=0,S=0,M=0,C=0,T=0,A=0,L=0,E=0,R=0,P=0,D=0;c=o[n+8>>2]|0;if(!c){t=0;return t|0}l=c;L=c;c=0;do{if((o[L+20>>2]|0)>(o[t+100>>2]|0)){T=o[L+12>>2]|0;w=o[T+88>>2]|0;S=w-(o[n+88>>2]|0)|0;M=o[T+92>>2]|0;C=M-(o[n+92>>2]|0)|0;T=o[T+96>>2]|0;A=T-(o[n+96>>2]|0)|0;u=Vl(o[s>>2]|0,o[s+4>>2]|0,S|0,((S|0)<0)<<31>>31|0)|0;h=I;l=Vl(o[s+8>>2]|0,o[s+8+4>>2]|0,C|0,((C|0)<0)<<31>>31|0)|0;h=Rl(l|0,I|0,u|0,h|0)|0;u=I;l=Vl(o[s+16>>2]|0,o[s+16+4>>2]|0,A|0,((A|0)<0)<<31>>31|0)|0;l=Rl(h|0,u|0,l|0,I|0)|0;u=I;h=Vl(o[r>>2]|0,o[r+4>>2]|0,S|0,((S|0)<0)<<31>>31|0)|0;x=I;p=Vl(o[r+8>>2]|0,o[r+8+4>>2]|0,C|0,((C|0)<0)<<31>>31|0)|0;x=Rl(p|0,I|0,h|0,x|0)|0;h=I;p=Vl(o[r+16>>2]|0,o[r+16+4>>2]|0,A|0,((A|0)<0)<<31>>31|0)|0;p=Rl(x|0,h|0,p|0,I|0)|0;h=I;if((u|0)>0|(u|0)==0&l>>>0>0){x=u;u=1}else{v=El(0,0,l|0,u|0)|0;x=I;y=Dl(l|0,u|0,63)|0;l=(u|0)<0?v:0;x=(u|0)<0?x:0;u=y}if(!((h|0)>0|(h|0)==0&p>>>0>0)){y=El(0,0,p|0,h|0)|0;f=(h|0)<0?0-u|0:u;u=(h|0)<0?y:0;h=(h|0)<0?I:0;if(!((f|0)==0&((u|0)==0&(h|0)==0))){p=u;d=8}}else{f=u;d=8}t:do{if((d|0)==8){d=0;if(!c){o[a>>2]=l;o[a+4>>2]=x;o[a+8>>2]=p;o[a+8+4>>2]=h;o[a+16>>2]=f;c=L;break}u=o[a+16>>2]|0;if((f|0)==(u|0)){if(f|0){_=o[a+8>>2]|0;b=o[a+8+4>>2]|0;d=Vl(_|0,0,l|0,0)|0;u=I;v=Vl(b|0,0,l|0,0)|0;g=I;_=Vl(_|0,0,x|0,0)|0;m=I;b=Vl(b|0,0,x|0,0)|0;P=I;_=Rl(v|0,0,_|0,0)|0;v=I;P=Rl(g|0,0,b|0,P|0)|0;m=Rl(P|0,I|0,m|0,0)|0;v=Rl(m|0,I|0,v|0,0)|0;m=I;u=Rl(0,_|0,d|0,u|0)|0;d=I;_=Rl(v|0,m|0,(d>>>0<_>>>0|(d|0)==(_|0)&u>>>0<0)&1|0,0)|0;m=I;v=o[a>>2]|0;P=o[a+4>>2]|0;b=Vl(v|0,0,p|0,0)|0;g=I;E=Vl(P|0,0,p|0,0)|0;D=I;v=Vl(v|0,0,h|0,0)|0;y=I;P=Vl(P|0,0,h|0,0)|0;R=I;v=Rl(E|0,0,v|0,0)|0;E=I;R=Rl(D|0,0,P|0,R|0)|0;y=Rl(R|0,I|0,y|0,0)|0;E=Rl(y|0,I|0,E|0,0)|0;y=I;g=Rl(0,v|0,b|0,g|0)|0;b=I;v=Rl(E|0,y|0,(b>>>0<v>>>0|(b|0)==(v|0)&g>>>0<0)&1|0,0)|0;y=I;if(!(m>>>0<y>>>0|(m|0)==(y|0)&_>>>0<v>>>0))if(!(m>>>0>y>>>0|(m|0)==(y|0)&_>>>0>v>>>0))if(d>>>0<b>>>0|(d|0)==(b|0)&u>>>0<g>>>0)u=-1;else u=(d>>>0>b>>>0|(d|0)==(b|0)&u>>>0>g>>>0)&1;else u=1;else u=-1;u=et(u,f)|0;d=18}}else{u=f-u|0;d=18}do{if((d|0)==18){d=0;if((u|0)>=0)if(!u)break;else break t;else{o[a>>2]=l;o[a+4>>2]=x;o[a+8>>2]=p;o[a+8+4>>2]=h;o[a+16>>2]=f;c=L;break t}}}while(0);l=(o[c+4>>2]|0)==(L|0);if((o[c>>2]|0)==(L|0))if(l){D=o[i+8>>2]|0;E=et(D,C)|0;y=o[i+4>>2]|0;E=E-(et(y,A)|0)|0;P=o[i>>2]|0;D=(et(P,A)|0)-(et(D,S)|0)|0;P=(et(y,S)|0)-(et(P,C)|0)|0;y=o[c+12>>2]|0;l=o[(o[L+8>>2]|0)+12>>2]|0;C=o[l+88>>2]|0;S=(o[y+88>>2]|0)-C|0;x=o[l+92>>2]|0;A=(o[y+92>>2]|0)-x|0;l=o[l+96>>2]|0;y=(o[y+96>>2]|0)-l|0;R=(et(T-l|0,A)|0)-(et(M-x|0,y)|0)|0;l=(et(w-C|0,y)|0)-(et(T-l|0,S)|0)|0;A=(et(M-x|0,S)|0)-(et(w-C|0,A)|0)|0;E=Vl(R|0,((R|0)<0)<<31>>31|0,E|0,((E|0)<0)<<31>>31|0)|0;R=I;D=Vl(l|0,((l|0)<0)<<31>>31|0,D|0,((D|0)<0)<<31>>31|0)|0;l=I;P=Vl(A|0,((A|0)<0)<<31>>31|0,P|0,((P|0)<0)<<31>>31|0)|0;P=Rl(E|0,R|0,P|0,I|0)|0;l=Rl(P|0,I|0,D|0,l|0)|0;D=I;l=(D|0)>0|(D|0)==0&l>>>0>0?2:1}else l=2;else l=l&1;c=(l|0)==2^e?c:L}}while(0);l=o[n+8>>2]|0}L=o[L>>2]|0}while((L|0)!=(l|0));return c|0}function Bh(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0,s=0,a=0,c=0,l=0,u=0,p=0;p=h;h=h+16|0;a=o[t+12>>2]|0;c=o[a+(((n+e|0)/2|0)<<4)>>2]|0;l=o[a+(((n+e|0)/2|0)<<4)+4>>2]|0;u=o[a+(((n+e|0)/2|0)<<4)+8>>2]|0;i=e;r=n;while(1){s=i;while(1){i=o[a+(s<<4)+4>>2]|0;if((i|0)>=(l|0)){if((i|0)!=(l|0))break;i=o[a+(s<<4)>>2]|0;if((i|0)>=(c|0)){if((i|0)!=(c|0))break;if((o[a+(s<<4)+8>>2]|0)>=(u|0))break}}s=s+1|0}while(1){i=o[a+(r<<4)+4>>2]|0;if((l|0)>=(i|0)){if((l|0)!=(i|0))break;i=o[a+(r<<4)>>2]|0;if((c|0)>=(i|0)){if((c|0)!=(i|0))break;if((u|0)>=(o[a+(r<<4)+8>>2]|0))break}}r=r+-1|0}if((s|0)>(r|0))i=s;else{i=a+(s<<4)|0;o[p>>2]=o[i>>2];o[p+4>>2]=o[i+4>>2];o[p+8>>2]=o[i+8>>2];o[p+12>>2]=o[i+12>>2];a=a+(r<<4)|0;o[i>>2]=o[a>>2];o[i+4>>2]=o[a+4>>2];o[i+8>>2]=o[a+8>>2];o[i+12>>2]=o[a+12>>2];i=(o[t+12>>2]|0)+(r<<4)|0;o[i>>2]=o[p>>2];o[i+4>>2]=o[p+4>>2];o[i+8>>2]=o[p+8>>2];o[i+12>>2]=o[p+12>>2];i=s+1|0;r=r+-1|0}if((i|0)>(r|0))break;a=o[t+12>>2]|0}if((r|0)>(e|0))Bh(t,e,r);if((i|0)>=(n|0)){h=p;return}Bh(t,i,n);h=p;return}function jh(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0.0,o=0,s=0;if((i|0)>-1|(i|0)==-1&n>>>0>4294967295){r=(+(n>>>0)+4294967296.0*+(i>>>0))*18446744073709551616.0+(+(t>>>0)+4294967296.0*+(e>>>0));return+r}else{s=El(0,0,t|0,e|0)|0;o=I;i=Rl((t|0)==0&(e|0)==0&1|0,0,~n|0,~i|0)|0;r=-+jh(s,o,i,I);return+r}return 0.0}function Uh(t,e,n){t=t|0;e=e|0;n=n|0;var r=0,s=0,a=0.0,c=0,u=0,p=0,d=0,_=0.0,m=0.0,g=0,b=0,v=0.0,y=0,x=0,w=0.0,S=0.0,M=0.0,C=0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0,P=0,D=0,k=0,O=0,N=0;O=h;h=h+240|0;if((n|0)<1){r=o[t+12>>2]|0;if(r|0){if(i[t+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0)}o[t+12>>2]=0}i[t+16>>0]=1;o[t+12>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;r=o[t+32>>2]|0;if(r|0){if(i[t+36>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0)}o[t+32>>2]=0}i[t+36>>0]=1;o[t+32>>2]=0;o[t+24>>2]=0;o[t+28>>2]=0;r=o[t+52>>2]|0;if(r|0){if(i[t+56>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0)}o[t+52>>2]=0}i[t+56>>0]=1;o[t+52>>2]=0;o[t+44>>2]=0;o[t+48>>2]=0;h=O;return}o[O+40+32>>2]=0;o[O+40+36>>2]=0;o[O+40+40>>2]=0;o[O+40+44>>2]=256;o[O+40+48>>2]=0;o[O+40+52>>2]=0;o[O+40+56>>2]=0;o[O+40+60>>2]=256;o[O+40+64>>2]=0;o[O+40+68>>2]=0;o[O+40+72>>2]=0;o[O+40+76>>2]=256;i[O+40+96>>0]=1;I=O+40+92|0;o[I>>2]=0;o[O+40+84>>2]=0;o[O+40+88>>2]=0;u=0;p=-246811958;x=-246811958;b=-246811958;g=1900671690;C=1900671690;y=1900671690;d=e;while(1){R=+l[d>>2];a=+l[d+4>>2];_=+l[d+8>>2];P=R<(o[f>>2]=g,+l[f>>2]);r=(l[f>>2]=R,o[f>>2]|0);g=P?r:g;P=a<(o[f>>2]=y,+l[f>>2]);s=(l[f>>2]=a,o[f>>2]|0);y=P?s:y;P=_<(o[f>>2]=C,+l[f>>2]);c=(l[f>>2]=_,o[f>>2]|0);C=P?c:C;p=(o[f>>2]=p,+l[f>>2])<R?r:p;b=(o[f>>2]=b,+l[f>>2])<a?s:b;x=(o[f>>2]=x,+l[f>>2])<_?c:x;u=u+1|0;if((u|0)==(n|0))break;else d=d+16|0}A=(o[f>>2]=p,+l[f>>2]);T=(o[f>>2]=g,+l[f>>2]);M=(o[f>>2]=b,+l[f>>2]);S=(o[f>>2]=y,+l[f>>2]);w=(o[f>>2]=x,+l[f>>2]);v=(o[f>>2]=C,+l[f>>2]);s=A-T<M-S?M-S<w-v?2:1:A-T<w-v?2:0;o[O+40+112>>2]=s;r=A-T<M-S?A-T<w-v?0:2:M-S<w-v?1:2;if((r|0)==(s|0))r=((s+1|0)>>>0)%3|0;o[O+40+104>>2]=r;P=(s^3)-r|0;o[O+40+108>>2]=P;if(((P+1|0)%3|0|0)==(s|0)){a=(A-T)*9.788566967472434e-05;_=(M-S)*9.788566967472434e-05;m=(w-v)*9.788566967472434e-05}else{a=-((A-T)*9.788566967472434e-05);_=-((M-S)*9.788566967472434e-05);m=-((w-v)*9.788566967472434e-05)}l[O+40>>2]=a;l[O+40+4>>2]=_;l[O+40+8>>2]=m;l[O+40+12>>2]=0.0;R=a!=0.0?1.0/a:a;E=_!=0.0?1.0/_:_;L=m!=0.0?1.0/m:m;l[O+40+16>>2]=(A+T)*.5;l[O+40+20>>2]=(M+S)*.5;l[O+40+24>>2]=(w+v)*.5;l[O+40+28>>2]=0.0;g=O+216+16|0;i[g>>0]=1;b=O+216+12|0;o[b>>2]=0;o[O+216+4>>2]=0;o[O+216+8>>2]=0;o[5637]=(o[5637]|0)+1;r=Jc((n<<4|3)+16|0)|0;if(!r)u=0;else{o[(r+4+15&-16)+-4>>2]=r;u=r+4+15&-16}s=o[O+216+4>>2]|0;c=o[b>>2]|0;if((s|0)<=0){if(c|0)k=26}else{r=0;do{k=u+(r<<4)|0;P=c+(r<<4)|0;o[k>>2]=o[P>>2];o[k+4>>2]=o[P+4>>2];o[k+8>>2]=o[P+8>>2];o[k+12>>2]=o[P+12>>2];r=r+1|0}while((r|0)!=(s|0));k=26}if((k|0)==26){if(i[g>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[c+-4>>2]|0)}o[b>>2]=0}i[g>>0]=1;o[b>>2]=u;o[O+216+8>>2]=n;o[u>>2]=o[O+200>>2];o[u+4>>2]=o[O+200+4>>2];o[u+8>>2]=o[O+200+8>>2];o[u+12>>2]=o[O+200+12>>2];if((n|0)!=1){r=1;do{P=(o[b>>2]|0)+(r<<4)|0;o[P>>2]=o[O+200>>2];o[P+4>>2]=o[O+200+4>>2];o[P+8>>2]=o[O+200+8>>2];o[P+12>>2]=o[O+200+12>>2];r=r+1|0}while((r|0)!=(n|0))}o[O+216+4>>2]=n;s=O+184+(o[O+40+108>>2]<<2)|0;c=o[b>>2]|0;u=O+184+(o[O+40+112>>2]<<2)|0;p=O+184+(o[O+40+104>>2]<<2)|0;a=+l[O+40+16>>2];_=+l[O+40+20>>2];m=+l[O+40+24>>2];d=0;r=e;while(1){e=o[r>>2]|0;o[O+184>>2]=e;P=o[r+4>>2]|0;o[O+184+4>>2]=P;M=(o[f>>2]=e,+l[f>>2])-a;T=E*((o[f>>2]=P,+l[f>>2])-_);A=L*(+l[r+8>>2]-m);l[O+184>>2]=R*M;l[O+184+4>>2]=T;l[O+184+8>>2]=A;l[O+184+12>>2]=0.0;o[c+(d<<4)>>2]=~~+l[s>>2];o[c+(d<<4)+4>>2]=~~+l[u>>2];o[c+(d<<4)+8>>2]=~~+l[p>>2];o[c+(d<<4)+12>>2]=d;d=d+1|0;if((d|0)==(n|0))break;else r=r+16|0}if((n|0)>1)Bh(O+216|0,0,n+-1|0);o[O+40+36>>2]=o[O+40+32>>2];o[O+40+40>>2]=0;o[O+40+44>>2]=n;r=o[O+40+84>>2]|0;if((r|0)<(n|0)){if((o[O+40+88>>2]|0)<(n|0)){if(!n){s=0;c=r}else{o[5637]=(o[5637]|0)+1;s=Jc((n<<2|3)+16|0)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}c=o[O+40+84>>2]|0}if((c|0)>0){u=0;do{o[s+(u<<2)>>2]=o[(o[I>>2]|0)+(u<<2)>>2];u=u+1|0}while((u|0)!=(c|0))}c=o[I>>2]|0;if(c|0){if(i[O+40+96>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[c+-4>>2]|0)}o[I>>2]=0}i[O+40+96>>0]=1;o[I>>2]=s;o[O+40+88>>2]=n}do{o[(o[I>>2]|0)+(r<<2)>>2]=0;r=r+1|0}while((r|0)!=(n|0))}o[O+40+84>>2]=n;p=0;do{r=o[O+40+40>>2]|0;if(!r){r=o[O+40+36>>2]|0;if(!r){o[5637]=(o[5637]|0)+1;r=Jc(31)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}s=o[O+40+44>>2]|0;o[r+4>>2]=s;c=r+8|0;o[c>>2]=0;o[5637]=(o[5637]|0)+1;s=Jc((s*112|3)+16|0)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}o[r>>2]=s;o[c>>2]=o[O+40+32>>2];o[O+40+32>>2]=r}else o[O+40+36>>2]=o[r+8>>2];u=o[r+4>>2]|0;r=o[r>>2]|0;if((u|0)>0){s=0;c=r;do{s=s+1|0;P=c;c=c+112|0;o[P>>2]=(s|0)<(u|0)?c:0}while((s|0)!=(u|0))}}o[O+40+40>>2]=o[r>>2];P=r+104|0;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;o[r+16>>2]=0;o[P>>2]=-1;o[r+8>>2]=0;e=r+88|0;C=(o[b>>2]|0)+(p<<4)|0;o[e>>2]=o[C>>2];o[e+4>>2]=o[C+4>>2];o[e+8>>2]=o[C+8>>2];o[e+12>>2]=o[C+12>>2];o[P>>2]=-1;o[(o[I>>2]|0)+(p<<2)>>2]=r;p=p+1|0}while((p|0)<(n|0));r=o[b>>2]|0;if(r|0){if(i[g>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0)}o[b>>2]=0}i[g>>0]=1;o[b>>2]=0;o[O+216+4>>2]=0;o[O+216+8>>2]=0;o[O+40+52>>2]=o[O+40+48>>2];o[O+40+56>>2]=0;o[O+40+60>>2]=n*6;o[O+40+116>>2]=0;o[O+40+120>>2]=0;o[O+40+100>>2]=-3;o[O+184>>2]=0;o[O+184+4>>2]=0;o[O+184+8>>2]=0;o[O+184+12>>2]=0;Oh(O+40|0,0,n,O+184|0);o[O+40+124>>2]=o[O+184>>2];r=o[b>>2]|0;if(r|0){if(i[g>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0)}o[b>>2]=0}r=o[t+4>>2]|0;if((r|0)<0){if((o[t+8>>2]|0)<0){s=o[t+12>>2]|0;if(s|0){if(i[t+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0)}o[t+12>>2]=0}i[t+16>>0]=1;o[t+12>>2]=0;o[t+8>>2]=0}do{P=(o[t+12>>2]|0)+(r<<4)|0;o[P>>2]=o[O+168>>2];o[P+4>>2]=o[O+168+4>>2];o[P+8>>2]=o[O+168+8>>2];o[P+12>>2]=o[O+168+12>>2];r=r+1|0}while((r|0)!=0)}o[t+4>>2]=0;o[O+24>>2]=0;o[O+24+4>>2]=0;o[O+24+8>>2]=0;r=o[t+24>>2]|0;if((r|0)<0){if((o[t+28>>2]|0)<0){s=o[t+32>>2]|0;if(s|0){if(i[t+36>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0)}o[t+32>>2]=0}i[t+36>>0]=1;o[t+32>>2]=0;o[t+28>>2]=0}do{P=(o[t+32>>2]|0)+(r*12|0)|0;o[P>>2]=o[O+24>>2];o[P+4>>2]=o[O+24+4>>2];o[P+8>>2]=o[O+24+8>>2];r=r+1|0}while((r|0)!=0)}o[t+24>>2]=0;s=o[t+44>>2]|0;if((s|0)<0){r=o[t+52>>2]|0;do{if((o[t+48>>2]|0)<0){if(!r){i[t+56>>0]=1;o[t+52>>2]=0;o[t+48>>2]=0;r=0;break}if(i[t+56>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0)}i[t+56>>0]=1;o[t+52>>2]=0;o[t+48>>2]=0;r=0}}while(0);Il(r+(s<<2)|0,0,et(s,-4)|0)|0}o[t+44>>2]=0;r=o[O+40+124>>2]|0;if((o[r+104>>2]|0)<0){o[r+104>>2]=0;o[5637]=(o[5637]|0)+1;g=Jc(23)|0;o[(g+4+15&-16)+-4>>2]=g;o[(g+4+15&-16)>>2]=r;P=0;u=1;c=1;g=g+4+15&-16;while(1){if((o[r+100>>2]|0)>-1){l[O+216+(o[O+40+108>>2]<<2)>>2]=+(o[r+88>>2]|0);l[O+216+(o[O+40+112>>2]<<2)>>2]=+(o[r+92>>2]|0);a=+(o[r+96>>2]|0)}else{n=r+24|0;e=r+32|0;a=+jh(o[n>>2]|0,o[n+4>>2]|0,o[e>>2]|0,o[e+4>>2]|0);e=r+72|0;n=r+80|0;I=o[n>>2]|0;n=o[n+4>>2]|0;a=a/+jh(o[e>>2]|0,o[e+4>>2]|0,I,n);l[O+216+(o[O+40+108>>2]<<2)>>2]=a;C=r+40|0;x=r+48|0;a=+jh(o[C>>2]|0,o[C+4>>2]|0,o[x>>2]|0,o[x+4>>2]|0);a=a/+jh(o[e>>2]|0,o[e+4>>2]|0,I,n);l[O+216+(o[O+40+112>>2]<<2)>>2]=a;x=r+56|0;C=r+64|0;a=+jh(o[x>>2]|0,o[x+4>>2]|0,o[C>>2]|0,o[C+4>>2]|0);a=a/+jh(o[e>>2]|0,o[e+4>>2]|0,I,n)}l[O+216+(o[O+40+104>>2]<<2)>>2]=a;a=+l[O+216>>2]*+l[O+40>>2]+ +l[O+40+16>>2];_=+l[O+216+4>>2]*+l[O+40+4>>2]+ +l[O+40+20>>2];m=+l[O+216+8>>2]*+l[O+40+8>>2]+ +l[O+40+24>>2];s=o[t+4>>2]|0;if((s|0)==(o[t+8>>2]|0)?(D=s|0?s<<1:1,(s|0)<(D|0)):0){if(!D)d=0;else{o[5637]=(o[5637]|0)+1;s=Jc((D<<4|3)+16|0)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}d=s;s=o[t+4>>2]|0}if((s|0)>0){p=0;do{n=d+(p<<4)|0;I=(o[t+12>>2]|0)+(p<<4)|0;o[n>>2]=o[I>>2];o[n+4>>2]=o[I+4>>2];o[n+8>>2]=o[I+8>>2];o[n+12>>2]=o[I+12>>2];p=p+1|0}while((p|0)!=(s|0))}s=o[t+12>>2]|0;if(s|0){if(i[t+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0)}o[t+12>>2]=0}i[t+16>>0]=1;o[t+12>>2]=d;o[t+8>>2]=D;s=o[t+4>>2]|0}I=o[t+12>>2]|0;l[I+(s<<4)>>2]=a;l[I+(s<<4)+4>>2]=_;l[I+(s<<4)+8>>2]=m;l[I+(s<<4)+12>>2]=0.0;o[t+4>>2]=(o[t+4>>2]|0)+1;I=o[r+8>>2]|0;if(!I)p=g;else{n=I;r=-1;C=g;e=-1;while(1){x=n+20|0;s=o[x>>2]|0;if((s|0)<0){y=o[t+24>>2]|0;o[O+12>>2]=0;o[O+12+4>>2]=0;o[O+12+8>>2]=0;do{if((y|0)==(o[t+28>>2]|0)){g=y|0?y<<1:1;if((y|0)>=(g|0)){s=y;break}if(!g){s=0;p=y}else{o[5637]=(o[5637]|0)+1;s=Jc((g*12|3)+16|0)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}p=o[t+24>>2]|0}if((p|0)>0){d=0;do{b=s+(d*12|0)|0;N=(o[t+32>>2]|0)+(d*12|0)|0;o[b>>2]=o[N>>2];o[b+4>>2]=o[N+4>>2];o[b+8>>2]=o[N+8>>2];d=d+1|0}while((d|0)!=(p|0))}p=o[t+32>>2]|0;if(p|0){if(i[t+36>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[p+-4>>2]|0)}o[t+32>>2]=0}i[t+36>>0]=1;o[t+32>>2]=s;o[t+28>>2]=g;s=o[t+24>>2]|0}else s=y}while(0);s=(o[t+32>>2]|0)+(s*12|0)|0;o[s>>2]=o[O+12>>2];o[s+4>>2]=o[O+12+4>>2];o[s+8>>2]=o[O+12+8>>2];s=(o[t+24>>2]|0)+1|0;o[t+24>>2]=s;o[O>>2]=0;o[O+4>>2]=0;o[O+8>>2]=0;do{if((s|0)==(o[t+28>>2]|0)){g=s|0?s<<1:1;if((s|0)>=(g|0))break;if(!g)d=0;else{o[5637]=(o[5637]|0)+1;s=Jc((g*12|3)+16|0)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}d=s;s=o[t+24>>2]|0}if((s|0)>0){p=0;do{N=d+(p*12|0)|0;b=(o[t+32>>2]|0)+(p*12|0)|0;o[N>>2]=o[b>>2];o[N+4>>2]=o[b+4>>2];o[N+8>>2]=o[b+8>>2];p=p+1|0}while((p|0)!=(s|0))}s=o[t+32>>2]|0;if(s|0){if(i[t+36>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0)}o[t+32>>2]=0}i[t+36>>0]=1;o[t+32>>2]=d;o[t+28>>2]=g;s=o[t+24>>2]|0}}while(0);b=(o[t+32>>2]|0)+(s*12|0)|0;o[b>>2]=o[O>>2];o[b+4>>2]=o[O+4>>2];o[b+8>>2]=o[O+8>>2];o[t+24>>2]=(o[t+24>>2]|0)+1;b=o[t+32>>2]|0;o[x>>2]=y;o[(o[n+8>>2]|0)+20>>2]=y+1;o[b+(y*12|0)+4>>2]=1;o[b+((y+1|0)*12|0)+4>>2]=-1;g=o[n+12>>2]|0;s=o[g+104>>2]|0;if((s|0)<0){o[g+104>>2]=c;do{if((c|0)==(u|0)){d=u|0?u<<1:1;if((u|0)>=(d|0)){p=C;break}do{if(!d)p=0;else{o[5637]=(o[5637]|0)+1;s=Jc((d<<2|3)+16|0)|0;if(!s){p=0;break}o[(s+4+15&-16)+-4>>2]=s;p=s+4+15&-16}}while(0);if((u|0)<=0){if(!C){u=d;break}}else{s=0;do{o[p+(s<<2)>>2]=o[C+(s<<2)>>2];s=s+1|0}while((s|0)!=(u|0))}o[5638]=(o[5638]|0)+1;Kc(o[C+-4>>2]|0);u=d}else p=C}while(0);o[p+(c<<2)>>2]=g;s=c;c=c+1|0}else p=C;o[b+(y*12|0)+8>>2]=s;o[b+((y+1|0)*12|0)+8>>2]=P;s=o[x>>2]|0}else p=C;if((e|0)>-1)o[(o[t+32>>2]|0)+(s*12|0)>>2]=e-s;else r=s;n=o[n>>2]|0;if((n|0)==(I|0))break;else{C=p;e=s}}o[(o[t+32>>2]|0)+(r*12|0)>>2]=s-r}s=P+1|0;if((s|0)>=(c|0))break;r=o[p+(s<<2)>>2]|0;P=s;g=p}if((P|0)>-1){x=0;while(1){b=o[(o[p+(x<<2)>>2]|0)+8>>2]|0;if(b|0){y=b;do{g=y+20|0;r=o[g>>2]|0;if((r|0)>-1){s=o[t+44>>2]|0;do{if((s|0)==(o[t+48>>2]|0)){d=s|0?s<<1:1;if((s|0)>=(d|0))break;if(!d)r=0;else{o[5637]=(o[5637]|0)+1;r=Jc((d<<2|3)+16|0)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}s=o[t+44>>2]|0}u=o[t+52>>2]|0;if((s|0)<=0){if(u)k=173}else{c=0;do{o[r+(c<<2)>>2]=o[u+(c<<2)>>2];c=c+1|0}while((c|0)!=(s|0));k=173}if((k|0)==173){k=0;if(i[t+56>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[u+-4>>2]|0)}o[t+52>>2]=0;s=o[t+44>>2]|0}i[t+56>>0]=1;o[t+52>>2]=r;o[t+48>>2]=d;r=o[g>>2]|0}}while(0);o[(o[t+52>>2]|0)+(s<<2)>>2]=r;o[t+44>>2]=(o[t+44>>2]|0)+1;r=y;do{o[r+20>>2]=-1;r=o[(o[r+8>>2]|0)+4>>2]|0}while((r|0)!=(y|0))}y=o[y>>2]|0}while((y|0)!=(b|0))}if((x|0)==(P|0))break;else x=x+1|0}}if(p|0){o[5638]=(o[5638]|0)+1;Kc(o[p+-4>>2]|0)}}zh(O+40|0);h=O;return}function zh(t){t=t|0;var e=0,n=0;e=o[t+92>>2]|0;if(e|0){if(i[t+96>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+92>>2]=0}i[t+96>>0]=1;o[t+92>>2]=0;o[t+84>>2]=0;o[t+88>>2]=0;e=o[t+64>>2]|0;if(e|0)do{o[t+64>>2]=o[e+8>>2];n=o[e>>2]|0;if(n|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0);e=o[t+64>>2]|0}while((e|0)!=0);e=o[t+48>>2]|0;if(e|0)do{o[t+48>>2]=o[e+8>>2];n=o[e>>2]|0;if(n|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0);e=o[t+48>>2]|0}while((e|0)!=0);e=o[t+32>>2]|0;if(!e)return;do{o[t+32>>2]=o[e+8>>2];n=o[e>>2]|0;if(n|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0);e=o[t+32>>2]|0}while((e|0)!=0);return}function Gh(){var t=0,e=0;while(1){t=Jc(8)|0;if(t|0){e=6;break}t=o[5831]|0;o[5831]=t+0;if(!t){e=5;break}zk[t&3]()}if((e|0)==5){e=Jt(4)|0;o[e>>2]=8308;ue(e|0,2416,215)}else if((e|0)==6){o[5649]=t;fe(t|0,0)|0;o[5639]=16373;o[5640]=0;o[5641]=0;o[5642]=0;o[5643]=0;o[5644]=0;o[5645]=0;o[5646]=0;o[5647]=0;Vh(22556);return}}function Vh(t){t=t|0;var e=0;do{o[t+4>>2]=0;l[t+8>>2]=0.0;e=o[t+24>>2]|0;if(e|0)Vh(e);t=o[t+28>>2]|0}while((t|0)!=0);return}function Wh(t){t=t|0;var e=0,n=0,i=0,r=0;r=h;h=h+16|0;n=o[2006]|0;if((o[n>>2]|0)==(t|0))e=n;else{e=o[n+24>>2]|0;t:do{if(!e)i=5;else while(1){if((o[e>>2]|0)==(t|0))break t;e=o[e+28>>2]|0;if(!e){i=5;break}}}while(0);do{if((i|0)==5){while(1){e=Jc(36)|0;if(e|0){i=9;break}e=o[5831]|0;o[5831]=e+0;if(!e){i=8;break}zk[e&3]();i=5}if((i|0)==8){r=Jt(4)|0;o[r>>2]=8308;ue(r|0,2416,215)}else if((i|0)==9){o[e>>2]=t;o[e+4>>2]=0;o[e+4+4>>2]=0;o[e+4+8>>2]=0;o[e+4+12>>2]=0;o[e+20>>2]=n;o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;Vh(e);o[e+28>>2]=o[n+24>>2];o[n+24>>2]=e;break}}}while(0);o[2006]=e}t=e+4|0;o[t>>2]=(o[t>>2]|0)+1;t=e+16|0;i=o[t>>2]|0;o[t>>2]=i+1;if(i|0){h=r;return}fe(r|0,0)|0;i=o[5649]|0;o[e+12>>2]=(o[r+4>>2]|0)-(o[i+4>>2]|0)+(((o[r>>2]|0)-(o[i>>2]|0)|0)*1e6|0);h=r;return}function Hh(t,e){t=t|0;e=e|0;var n=0,i=0;while(1){n=Jc(80)|0;if(n|0){i=6;break}n=o[5831]|0;o[5831]=n+0;if(!n){i=5;break}zk[n&3]()}if((i|0)==5){e=Jt(4)|0;o[e>>2]=8308;ue(e|0,2416,215)}else if((i|0)==6){l[n+4>>2]=1.0;r[n+8>>1]=1;r[n+10>>1]=-1;o[n>>2]=7848;o[n+12>>2]=o[t>>2];o[n+12+4>>2]=o[t+4>>2];o[n+12+8>>2]=o[t+8>>2];o[n+12+12>>2]=o[t+12>>2];o[n+28>>2]=o[e>>2];o[n+28+4>>2]=o[e+4>>2];o[n+28+8>>2]=o[e+8>>2];o[n+28+12>>2]=o[e+12>>2];o[n+76>>2]=0;return n|0}return 0}function Xh(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function qh(t){t=t|0;return+ +l[t+4>>2]}function Yh(t){t=t|0;return r[t+8>>1]|0}function Zh(t){t=t|0;return r[t+10>>1]|0}function Jh(t){t=t|0;return t+12|0}function Kh(t){t=t|0;return t+28|0}function $h(t){t=t|0;return t+44|0}function Qh(t){t=t|0;return t+60|0}function tp(t){t=t|0;return+l[t+4>>2]<1.0|0}function ep(t,e){t=t|0;e=+e;l[t+4>>2]=e;return}function np(t,e){t=t|0;e=e|0;r[t+8>>1]=e;return}function ip(t,e){t=t|0;e=e|0;r[t+10>>1]=e;return}function rp(t,e){t=t|0;e=e|0;o[t+12>>2]=o[e>>2];o[t+12+4>>2]=o[e+4>>2];o[t+12+8>>2]=o[e+8>>2];o[t+12+12>>2]=o[e+12>>2];return}function op(t,e){t=t|0;e=e|0;o[t+28>>2]=o[e>>2];o[t+28+4>>2]=o[e+4>>2];o[t+28+8>>2]=o[e+8>>2];o[t+28+12>>2]=o[e+12>>2];return}function sp(t,e){t=t|0;e=e|0;o[t+44>>2]=o[e>>2];o[t+44+4>>2]=o[e+4>>2];o[t+44+8>>2]=o[e+8>>2];o[t+44+12>>2]=o[e+12>>2];return}function ap(t,e){t=t|0;e=e|0;o[t+60>>2]=o[e>>2];o[t+60+4>>2]=o[e+4>>2];o[t+60+8>>2]=o[e+8>>2];o[t+60+12>>2]=o[e+12>>2];return}function cp(t,e){t=t|0;e=e|0;var n=0,i=0;while(1){n=Jc(84)|0;if(n|0){i=6;break}n=o[5831]|0;o[5831]=n+0;if(!n){i=5;break}zk[n&3]()}if((i|0)==5){e=Jt(4)|0;o[e>>2]=8308;ue(e|0,2416,215)}else if((i|0)==6){l[n+4>>2]=1.0;o[n+8>>2]=0;r[n+12>>1]=1;r[n+14>>1]=-1;o[n+16>>2]=0;o[n>>2]=8008;o[n+20>>2]=o[t>>2];o[n+20+4>>2]=o[t+4>>2];o[n+20+8>>2]=o[t+8>>2];o[n+20+12>>2]=o[t+12>>2];o[n+36>>2]=o[e>>2];o[n+36+4>>2]=o[e+4>>2];o[n+36+8>>2]=o[e+8>>2];o[n+36+12>>2]=o[e+12>>2];return n|0}return 0}function lp(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function up(t){t=t|0;return r[t+12>>1]|0}function hp(t){t=t|0;return r[t+14>>1]|0}function pp(t){t=t|0;return o[t+8>>2]|0}function fp(t){t=t|0;return t+52|0}function dp(t){t=t|0;return t+68|0}function _p(t){t=t|0;return t+20|0}function mp(t){t=t|0;return t+36|0}function gp(t){t=t|0;return(o[t+8>>2]|0)!=0|0}function bp(t,e){t=t|0;e=e|0;r[t+12>>1]=e;return}function vp(t,e){t=t|0;e=e|0;r[t+14>>1]=e;return}function yp(t,e){t=t|0;e=e|0;o[t+8>>2]=e;return}function xp(t,e){t=t|0;e=e|0;o[t+52>>2]=o[e>>2];o[t+52+4>>2]=o[e+4>>2];o[t+52+8>>2]=o[e+8>>2];o[t+52+12>>2]=o[e+12>>2];return}function wp(t,e){t=t|0;e=e|0;o[t+68>>2]=o[e>>2];o[t+68+4>>2]=o[e+4>>2];o[t+68+8>>2]=o[e+8>>2];o[t+68+12>>2]=o[e+12>>2];return}function Sp(t,e){t=t|0;e=e|0;o[t+20>>2]=o[e>>2];o[t+20+4>>2]=o[e+4>>2];o[t+20+8>>2]=o[e+8>>2];o[t+20+12>>2]=o[e+12>>2];return}function Mp(t,e){t=t|0;e=e|0;o[t+36>>2]=o[e>>2];o[t+36+4>>2]=o[e+4>>2];o[t+36+8>>2]=o[e+8>>2];o[t+36+12>>2]=o[e+12>>2];return}function Cp(){var t=0,e=0;while(1){t=Jc(8)|0;if(t|0){e=6;break}t=o[5831]|0;o[5831]=t+0;if(!t){e=5;break}zk[t&3]()}if((e|0)==5){e=Jt(4)|0;o[e>>2]=8308;ue(e|0,2416,215)}else if((e|0)==6){o[t>>2]=0;o[t+4>>2]=0;r[t+4>>1]=1;r[t+6>>1]=-1;o[t>>2]=8036;return t|0}return 0}function Tp(t){t=t|0;return}function Ap(t){t=t|0;Kc(t);return}function Lp(t,e){t=t|0;e=e|0;e=o[e+4>>2]|0;if(!((r[t+6>>1]&(e&65535))<<16>>16)){t=0;return t|0}t=(e>>>16&65535&r[t+4>>1])<<16>>16!=0;return t|0}function Ep(t,e,n,i,r,o,s,a){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=o|0;s=s|0;a=a|0;return+ +ce(0,t|0,e|0,n|0,i|0,r|0,o|0,s|0,a|0)}function Rp(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function Ip(t,e,n,i,r,s,a,c){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;s=s|0;a=a|0;c=c|0;return+ +mk[o[(o[t>>2]|0)+12>>2]&1](t,e,n,i,r,s,a,c)}function Pp(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function Dp(t,e,n,i,r,s,a,c){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;s=s|0;a=a|0;c=c|0;return+ +mk[o[(o[t>>2]|0)+12>>2]&1](t,e,n,i,r,s,a,c)}function kp(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function Op(t){t=t|0;return+ +l[t+4>>2]}function Np(t){t=t|0;return r[t+8>>1]|0}function Fp(t){t=t|0;return r[t+10>>1]|0}function Bp(t){t=t|0;return+l[t+4>>2]<1.0|0}function jp(t,e){t=t|0;e=+e;l[t+4>>2]=e;return}function Up(t,e){t=t|0;e=e|0;r[t+8>>1]=e;return}function zp(t,e){t=t|0;e=e|0;r[t+10>>1]=e;return}function Gp(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=+r;var s=0,a=0;while(1){s=Jc(44)|0;if(s|0){a=6;break}s=o[5831]|0;o[5831]=s+0;if(!s){a=5;break}zk[s&3]()}if((a|0)==5){i=Jt(4)|0;o[i>>2]=8308;ue(i|0,2416,215)}else if((a|0)==6){o[s>>2]=t;o[s+4>>2]=e;o[s+8>>2]=o[n>>2];o[s+8+4>>2]=o[n+4>>2];o[s+8+8>>2]=o[n+8>>2];o[s+8+12>>2]=o[n+12>>2];o[s+24>>2]=o[i>>2];o[s+24+4>>2]=o[i+4>>2];o[s+24+8>>2]=o[i+8>>2];o[s+24+12>>2]=o[i+12>>2];l[s+40>>2]=r;return s|0}return 0}function Vp(t){t=t|0;if(!t)return;Kc(t);return}function Wp(t){t=t|0;return o[t>>2]|0}function Hp(t){t=t|0;return+ +l[t+40>>2]}function Xp(t){t=t|0;return t+8|0}function qp(t){t=t|0;return t+24|0}function Yp(t){t=t|0;return o[t+4>>2]|0}function Zp(t,e){t=t|0;e=e|0;o[t>>2]=e;return}function Jp(t,e){t=t|0;e=+e;l[t+40>>2]=e;return}function Kp(t,e){t=t|0;e=e|0;o[t+8>>2]=o[e>>2];o[t+8+4>>2]=o[e+4>>2];o[t+8+8>>2]=o[e+8>>2];o[t+8+12>>2]=o[e+12>>2];return}function $p(t,e){t=t|0;e=e|0;o[t+24>>2]=o[e>>2];o[t+24+4>>2]=o[e+4>>2];o[t+24+8>>2]=o[e+8>>2];o[t+24+12>>2]=o[e+12>>2];return}function Qp(t,e){t=t|0;e=e|0;o[t+4>>2]=e;return}function tf(t){t=t|0;if(!t)return;Kc(t);return}function ef(t){t=t|0;return o[t>>2]|0}function nf(t){t=t|0;return o[t+4>>2]|0}function rf(t,e){t=t|0;e=e|0;o[t>>2]=e;return}function of(t,e){t=t|0;e=e|0;o[t+4>>2]=e;return}function sf(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function af(t){t=t|0;return r[t+12>>1]|0}function cf(t){t=t|0;return r[t+14>>1]|0}function lf(t){t=t|0;return o[t+8>>2]|0}function uf(t){t=t|0;return(o[t+8>>2]|0)!=0|0}function hf(t,e){t=t|0;e=e|0;r[t+12>>1]=e;return}function pf(t,e){t=t|0;e=e|0;r[t+14>>1]=e;return}function ff(t,e){t=t|0;e=e|0;o[t+8>>2]=e;return}function df(t){t=t|0;if(!t)return;Kc(t);return}function _f(t){t=t|0;return t|0}function mf(t){t=t|0;return t+16|0}function gf(t){t=t|0;return o[t+88>>2]|0}function bf(t){t=t|0;return t+36|0}function vf(t){t=t|0;return(i[t+84>>0]|0)!=0|0}function yf(t){t=t|0;return+ +l[t+32>>2]}function xf(t){t=t|0;return t+68|0}function wf(t){t=t|0;return t+52|0}function Sf(t,e){t=t|0;e=e|0;o[t>>2]=o[e>>2];o[t+4>>2]=o[e+4>>2];o[t+8>>2]=o[e+8>>2];o[t+12>>2]=o[e+12>>2];return}function Mf(t,e){t=t|0;e=e|0;o[t+16>>2]=o[e>>2];o[t+16+4>>2]=o[e+4>>2];o[t+16+8>>2]=o[e+8>>2];o[t+16+12>>2]=o[e+12>>2];return}function Cf(t,e){t=t|0;e=e|0;o[t+88>>2]=e;return}function Tf(t,e){t=t|0;e=e|0;o[t+36>>2]=o[e>>2];o[t+36+4>>2]=o[e+4>>2];o[t+36+8>>2]=o[e+8>>2];o[t+36+12>>2]=o[e+12>>2];return}function Af(t,e){t=t|0;e=e|0;i[t+84>>0]=e&1;return}function Lf(t,e){t=t|0;e=+e;l[t+32>>2]=e;return}function Ef(t,e){t=t|0;e=e|0;o[t+68>>2]=o[e>>2];o[t+68+4>>2]=o[e+4>>2];o[t+68+8>>2]=o[e+8>>2];o[t+68+12>>2]=o[e+12>>2];return}function Rf(t,e){t=t|0;e=e|0;o[t+52>>2]=o[e>>2];o[t+52+4>>2]=o[e+4>>2];o[t+52+8>>2]=o[e+8>>2];o[t+52+12>>2]=o[e+12>>2];return}function If(t){t=t|0;if(!t)return;Kc(t);return}function Pf(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function Df(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function kf(t,e){t=t|0;e=e|0;var n=0;o[5637]=(o[5637]|0)+1;n=Jc(135)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}JR(n,t,e,16384,0,0);return n|0}function Of(t,e,n){t=t|0;e=e|0;n=n|0;var i=0;o[5637]=(o[5637]|0)+1;i=Jc(135)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}JR(i,t,e,n&65535,0,0);return i|0}function Nf(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0;o[5637]=(o[5637]|0)+1;r=Jc(135)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}JR(r,t,e,n&65535,i,0);return r|0}function Ff(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;var s=0;o[5637]=(o[5637]|0)+1;s=Jc(135)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}JR(s,t,e,n&65535,i,r);return s|0}function Bf(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function jf(t){t=t|0;var e=0;o[5637]=(o[5637]|0)+1;e=Jc(79)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}MR(e,t);return e|0}function Uf(t,e,n){t=t|0;e=+e;n=n|0;_k[o[(o[t>>2]|0)+32>>2]&15](t,e,n);return}function zf(t){t=t|0;return+ +wk[o[(o[t>>2]|0)+48>>2]&15](t)}function Gf(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+24>>2]&127](t,e);return}function Vf(t,e){t=t|0;e=+e;ok[o[(o[t>>2]|0)+44>>2]&31](t,e);return}function Wf(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function Hf(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function Xf(t,e){t=t|0;e=e|0;var n=0;o[5637]=(o[5637]|0)+1;n=Jc(99)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}jR(n,t,e,1);return n|0}function qf(t,e,n){t=t|0;e=e|0;n=n|0;var i=0;o[5637]=(o[5637]|0)+1;i=Jc(99)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}jR(i,t,e,n);return i|0}function Yf(t,e,n){t=t|0;e=+e;n=n|0;_k[o[(o[t>>2]|0)+32>>2]&15](t,e,n);return}function Zf(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+24>>2]&127](t,e);return}function Jf(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function Kf(t,e){t=+t;e=+e;var n=0;o[5637]=(o[5637]|0)+1;n=Jc(79)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}o[n+8>>2]=0;o[n+12>>2]=-1;o[n+16>>2]=1065353216;o[n+20>>2]=1065353216;o[n+24>>2]=1065353216;l[n+28>>2]=0.0;l[n+48>>2]=.03999999910593033;o[n+4>>2]=10;o[n>>2]=4976;o[n+56>>2]=0;l[n+32>>2]=e*.5;l[n+36>>2]=t;l[n+40>>2]=t;l[n+44>>2]=0.0;return n|0}function $f(t,e,n){t=t|0;e=+e;n=n|0;_k[o[(o[t>>2]|0)+32>>2]&15](t,e,n);return}function Qf(t){t=t|0;return+ +wk[o[(o[t>>2]|0)+48>>2]&15](t)}function td(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+24>>2]&127](t,e);return}function ed(t,e){t=t|0;e=+e;ok[o[(o[t>>2]|0)+44>>2]&31](t,e);return}function nd(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function id(t,e){t=+t;e=+e;var n=0;o[5637]=(o[5637]|0)+1;n=Jc(79)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}o[n+8>>2]=0;o[n+12>>2]=-1;o[n+16>>2]=1065353216;o[n+20>>2]=1065353216;o[n+24>>2]=1065353216;l[n+28>>2]=0.0;l[n+48>>2]=.03999999910593033;o[n+4>>2]=10;o[n>>2]=5076;o[n+56>>2]=2;l[n+32>>2]=t;l[n+36>>2]=t;l[n+40>>2]=e*.5;l[n+44>>2]=0.0;return n|0}function rd(t,e,n){t=t|0;e=+e;n=n|0;_k[o[(o[t>>2]|0)+32>>2]&15](t,e,n);return}function od(t){t=t|0;return+ +wk[o[(o[t>>2]|0)+48>>2]&15](t)}function sd(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+24>>2]&127](t,e);return}function ad(t,e){t=t|0;e=+e;ok[o[(o[t>>2]|0)+44>>2]&31](t,e);return}function cd(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function ld(t,e){t=+t;e=+e;var n=0;o[5637]=(o[5637]|0)+1;n=Jc(79)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}o[n+8>>2]=0;o[n+12>>2]=-1;o[n+16>>2]=1065353216;o[n+20>>2]=1065353216;o[n+24>>2]=1065353216;l[n+28>>2]=0.0;l[n+48>>2]=.03999999910593033;o[n>>2]=4876;o[n+4>>2]=10;o[n+56>>2]=1;l[n+32>>2]=t;l[n+36>>2]=e*.5;l[n+40>>2]=t;l[n+44>>2]=0.0;return n|0}function ud(t,e,n){t=t|0;e=+e;n=n|0;_k[o[(o[t>>2]|0)+32>>2]&15](t,e,n);return}function hd(t){t=t|0;return+ +wk[o[(o[t>>2]|0)+48>>2]&15](t)}function pd(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+24>>2]&127](t,e);return}function fd(t,e){t=t|0;e=+e;ok[o[(o[t>>2]|0)+44>>2]&31](t,e);return}function dd(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function _d(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function md(t){t=t|0;var e=0,n=0;while(1){e=Jc(5260)|0;if(e|0){n=6;break}e=o[5831]|0;o[5831]=e+0;if(!e){n=5;break}zk[e&3]()}if((n|0)==5){t=Jt(4)|0;o[t>>2]=8308;ue(t|0,2416,215)}else if((n|0)==6){Ux(e,t);return e|0}return 0}function gd(t,e){t=t|0;e=e|0;return Ek[o[(o[t>>2]|0)+40>>2]&31](t,e)|0}function bd(t){t=t|0;return uk[o[(o[t>>2]|0)+36>>2]&127](t)|0}function vd(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function yd(t){t=t|0;if(o[t+204>>2]&3|0)return;if((o[t+216>>2]&-2|0)!=4)o[t+216>>2]=1;l[t+220>>2]=0.0;return}function xd(t,e){t=t|0;e=e|0;if(!e?o[t+204>>2]&3|0:0)return;if((o[t+216>>2]&-2|0)!=4)o[t+216>>2]=1;l[t+220>>2]=0.0;return}function wd(t,e){t=t|0;e=e|0;o[t+216>>2]=e;return}function Sd(t){t=t|0;return o[t+204>>2]|0}function Md(t){t=t|0;return o[t+192>>2]|0}function Cd(t){t=t|0;return t+4|0}function Td(t){t=t|0;t=o[t+216>>2]|0;return(t|0)!=5&(t|0)!=2|0}function Ad(t){t=t|0;return(o[t+204>>2]&2|0)!=0|0}function Ld(t,e){t=t|0;e=e|0;if((o[t+216>>2]&-2|0)==4)return;o[t+216>>2]=e;return}function Ed(t,e,n){t=t|0;e=e|0;n=n|0;o[t+164>>2]=o[e>>2];o[t+164+4>>2]=o[e+4>>2];o[t+164+8>>2]=o[e+8>>2];o[t+164+12>>2]=o[e+12>>2];if(!(+l[e>>2]!=1.0)?!(+l[e+4>>2]!=1.0):0)n=+l[e+8>>2]!=1.0?n:0;o[t+180>>2]=n;return}function Rd(t,e){t=t|0;e=+e;l[t+256>>2]=e;return}function Id(t,e){t=t|0;e=+e;l[t+252>>2]=e;return}function Pd(t,e){t=t|0;e=e|0;o[t+204>>2]=e;return}function Dd(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+8>>2]&127](t,e);return}function kd(t,e){t=t|0;e=+e;l[t+184>>2]=e;return}function Od(t,e){t=t|0;e=+e;o[t+284>>2]=(o[t+284>>2]|0)+1;l[t+224>>2]=e;return}function Nd(t,e){t=t|0;e=+e;o[t+284>>2]=(o[t+284>>2]|0)+1;l[t+228>>2]=e;return}function Fd(t,e){t=t|0;e=+e;o[t+284>>2]=(o[t+284>>2]|0)+1;l[t+232>>2]=e;return}function Bd(t,e){t=t|0;e=e|0;o[t+284>>2]=(o[t+284>>2]|0)+1;o[t+4>>2]=o[e>>2];o[t+4+4>>2]=o[e+4>>2];o[t+4+8>>2]=o[e+8>>2];o[t+4+12>>2]=o[e+12>>2];o[t+20>>2]=o[e+16>>2];o[t+20+4>>2]=o[e+16+4>>2];o[t+20+8>>2]=o[e+16+8>>2];o[t+20+12>>2]=o[e+16+12>>2];o[t+36>>2]=o[e+32>>2];o[t+36+4>>2]=o[e+32+4>>2];o[t+36+8>>2]=o[e+32+8>>2];o[t+36+12>>2]=o[e+32+12>>2];o[t+52>>2]=o[e+48>>2];o[t+52+4>>2]=o[e+48+4>>2];o[t+52+8>>2]=o[e+48+8>>2];o[t+52+12>>2]=o[e+48+12>>2];return}function jd(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function Ud(t,e,n){t=t|0;e=+e;n=n|0;_k[o[(o[t>>2]|0)+32>>2]&15](t,e,n);return}function zd(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+24>>2]&127](t,e);return}function Gd(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function Vd(t,e){t=t|0;e=e|0;Wk[o[(o[t>>2]|0)+36>>2]&127](t,e,1,-1);return}function Wd(t,e,n){t=t|0;e=e|0;n=n|0;Wk[o[(o[t>>2]|0)+36>>2]&127](t,e,n,-1);return}function Hd(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;Wk[o[(o[t>>2]|0)+36>>2]&127](t,e,n,i);return}function Xd(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;oS(t,e,n,i);return}function qd(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0;i=h;h=h+48|0;r=o[e+192>>2]|0;Wk[o[(o[r>>2]|0)+8>>2]&127](r,e+4|0,i+32|0,i+16|0);o[i>>2]=3544;o[i+4>>2]=e;o[i+8>>2]=t;o[i+12>>2]=n;t=o[t+68>>2]|0;Wk[o[(o[t>>2]|0)+28>>2]&127](t,i+32|0,i+16|0,i);h=i;return}function Yd(t,e,n,i,r,o){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=+o;qw(t,e,n,i,r,o);return}function Zd(t){t=t|0;return o[t+68>>2]|0}function Jd(t){t=t|0;return t+28|0}function Kd(t){t=t|0;return o[t+24>>2]|0}function $d(t){t=t|0;t=o[t+68>>2]|0;return uk[o[(o[t>>2]|0)+36>>2]&127](t)|0}function Qd(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;Wk[o[(o[t>>2]|0)+32>>2]&127](t,e,n,i);return}function t_(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function e_(t,e,n){t=t|0;e=e|0;n=n|0;var r=0.0,s=0,a=0,c=0,u=0,p=0,f=0,d=0.0,_=0,m=0,g=0,b=0;_=h;h=h+128|0;o[t+72>>2]=(o[t+72>>2]|0)+1;o[_>>2]=o[e>>2];o[_+4>>2]=o[e+4>>2];o[_+8>>2]=o[e+8>>2];o[_+12>>2]=o[e+12>>2];o[_+16>>2]=o[e+16>>2];o[_+16+4>>2]=o[e+16+4>>2];o[_+16+8>>2]=o[e+16+8>>2];o[_+16+12>>2]=o[e+16+12>>2];o[_+32>>2]=o[e+32>>2];o[_+32+4>>2]=o[e+32+4>>2];o[_+32+8>>2]=o[e+32+8>>2];o[_+32+12>>2]=o[e+32+12>>2];o[_+48>>2]=o[e+48>>2];o[_+48+4>>2]=o[e+48+4>>2];o[_+48+8>>2]=o[e+48+8>>2];o[_+48+12>>2]=o[e+48+12>>2];f=o[n+4>>2]|0;d=+wk[o[(o[n>>2]|0)+48>>2]&15](n);Wk[o[(o[n>>2]|0)+8>>2]&127](n,e,_+112|0,_+96|0);r=+l[_+112>>2];if(+l[t+36>>2]>r)l[t+36>>2]=r;r=+l[_+96>>2];if(+l[t+52>>2]<r)l[t+52>>2]=r;r=+l[_+112+4>>2];if(+l[t+40>>2]>r)l[t+40>>2]=r;r=+l[_+96+4>>2];if(+l[t+56>>2]<r)l[t+56>>2]=r;r=+l[_+112+8>>2];if(+l[t+44>>2]>r)l[t+44>>2]=r;r=+l[_+96+8>>2];if(+l[t+60>>2]<r)l[t+60>>2]=r;u=o[t+68>>2]|0;if(!u){u=t+20|0;c=0}else{o[_+64>>2]=o[_+112>>2];o[_+64+4>>2]=o[_+112+4>>2];o[_+64+8>>2]=o[_+112+8>>2];o[_+64+12>>2]=o[_+112+12>>2];o[_+64+16>>2]=o[_+96>>2];o[_+64+16+4>>2]=o[_+96+4>>2];o[_+64+16+8>>2]=o[_+96+8>>2];o[_+64+16+12>>2]=o[_+96+12>>2];c=o[t+20>>2]|0;e=o[u+4>>2]|0;if(!e){o[5637]=(o[5637]|0)+1;e=Jc(63)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}s=e;a=s+44|0;do{o[s>>2]=0;s=s+4|0}while((s|0)<(a|0))}else o[u+4>>2]=0;o[e+32>>2]=0;o[e+36>>2]=c;o[e+40>>2]=0;o[e>>2]=o[_+64>>2];o[e+4>>2]=o[_+64+4>>2];o[e+8>>2]=o[_+64+8>>2];o[e+12>>2]=o[_+64+12>>2];o[e+16>>2]=o[_+64+16>>2];o[e+20>>2]=o[_+64+20>>2];o[e+24>>2]=o[_+64+24>>2];o[e+28>>2]=o[_+64+28>>2];UI(u,o[u>>2]|0,e);o[u+12>>2]=(o[u+12>>2]|0)+1;u=t+20|0;c=e}e=o[u>>2]|0;if((e|0)==(o[t+24>>2]|0)?(p=e|0?e<<1:1,(e|0)<(p|0)):0){if(!p)a=0;else{o[5637]=(o[5637]|0)+1;e=Jc((p*80|3)+16|0)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}a=e;e=o[u>>2]|0}if((e|0)>0){s=0;do{m=a+(s*80|0)|0;g=o[t+28>>2]|0;b=g+(s*80|0)|0;o[m>>2]=o[b>>2];o[m+4>>2]=o[b+4>>2];o[m+8>>2]=o[b+8>>2];o[m+12>>2]=o[b+12>>2];m=a+(s*80|0)+16|0;b=g+(s*80|0)+16|0;o[m>>2]=o[b>>2];o[m+4>>2]=o[b+4>>2];o[m+8>>2]=o[b+8>>2];o[m+12>>2]=o[b+12>>2];m=a+(s*80|0)+32|0;b=g+(s*80|0)+32|0;o[m>>2]=o[b>>2];o[m+4>>2]=o[b+4>>2];o[m+8>>2]=o[b+8>>2];o[m+12>>2]=o[b+12>>2];m=a+(s*80|0)+48|0;b=g+(s*80|0)+48|0;o[m>>2]=o[b>>2];o[m+4>>2]=o[b+4>>2];o[m+8>>2]=o[b+8>>2];o[m+12>>2]=o[b+12>>2];m=a+(s*80|0)+64|0;g=g+(s*80|0)+64|0;o[m>>2]=o[g>>2];o[m+4>>2]=o[g+4>>2];o[m+8>>2]=o[g+8>>2];o[m+12>>2]=o[g+12>>2];s=s+1|0}while((s|0)!=(e|0))}e=o[t+28>>2]|0;if(e|0){if(i[t+32>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+28>>2]=0}i[t+32>>0]=1;o[t+28>>2]=a;o[t+24>>2]=p;e=o[u>>2]|0}b=o[t+28>>2]|0;g=b+(e*80|0)|0;o[g>>2]=o[_>>2];o[g+4>>2]=o[_+4>>2];o[g+8>>2]=o[_+8>>2];o[g+12>>2]=o[_+12>>2];g=b+(e*80|0)+16|0;o[g>>2]=o[_+16>>2];o[g+4>>2]=o[_+16+4>>2];o[g+8>>2]=o[_+16+8>>2];o[g+12>>2]=o[_+16+12>>2];g=b+(e*80|0)+32|0;o[g>>2]=o[_+32>>2];o[g+4>>2]=o[_+32+4>>2];o[g+8>>2]=o[_+32+8>>2];o[g+12>>2]=o[_+32+12>>2];g=b+(e*80|0)+48|0;o[g>>2]=o[_+48>>2];o[g+4>>2]=o[_+48+4>>2];o[g+8>>2]=o[_+48+8>>2];o[g+12>>2]=o[_+48+12>>2];b=b+(e*80|0)+64|0;o[b>>2]=n;o[b+4>>2]=f;l[b+8>>2]=d;o[b+12>>2]=c;o[u>>2]=(o[u>>2]|0)+1;h=_;return}function n_(){var t=0;o[5637]=(o[5637]|0)+1;t=Jc(115)|0;if(!t)t=0;else{o[(t+4+15&-16)+-4>>2]=t;t=t+4+15&-16}OM(t,1,0);return t|0}function i_(t){t=t|0;var e=0;o[5637]=(o[5637]|0)+1;e=Jc(115)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}OM(e,t,0);return e|0}function r_(t,e,n){t=t|0;e=+e;n=n|0;_k[o[(o[t>>2]|0)+32>>2]&15](t,e,n);return}function o_(t,e){t=t|0;e=e|0;return o[(o[t+28>>2]|0)+(e*80|0)+64>>2]|0}function s_(t){t=t|0;return+ +wk[o[(o[t>>2]|0)+48>>2]&15](t)}function a_(t){t=t|0;return o[t+20>>2]|0}function c_(t,e){t=t|0;e=e|0;DM(t,e);return}function l_(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+24>>2]&127](t,e);return}function u_(t,e){t=t|0;e=+e;ok[o[(o[t>>2]|0)+44>>2]&31](t,e);return}function h_(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function p_(t,e,n){t=t|0;e=+e;n=n|0;_k[o[(o[t>>2]|0)+32>>2]&15](t,e,n);return}function f_(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+24>>2]&127](t,e);return}function d_(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function __(t,e){t=+t;e=+e;var n=0;o[5637]=(o[5637]|0)+1;n=Jc(99)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}o[n+8>>2]=0;o[n+12>>2]=-1;o[n+16>>2]=1065353216;o[n+20>>2]=1065353216;o[n+24>>2]=1065353216;l[n+28>>2]=0.0;l[n+48>>2]=.03999999910593033;l[n+60>>2]=t;l[n+64>>2]=e;o[n+4>>2]=11;l[n+56>>2]=t/+V(+(t*t+e*e));o[n>>2]=5456;o[n+68>>2]=1;o[n+72>>2]=0;o[n+76>>2]=2;l[n+36>>2]=t;l[n+32>>2]=e;l[n+40>>2]=t;return n|0}function m_(t,e,n){t=t|0;e=+e;n=n|0;_k[o[(o[t>>2]|0)+32>>2]&15](t,e,n);return}function g_(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+24>>2]&127](t,e);return}function b_(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function v_(t,e){t=+t;e=+e;var n=0;o[5637]=(o[5637]|0)+1;n=Jc(99)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}o[n+8>>2]=0;o[n+12>>2]=-1;o[n+16>>2]=1065353216;o[n+20>>2]=1065353216;o[n+24>>2]=1065353216;l[n+28>>2]=0.0;l[n+48>>2]=.03999999910593033;l[n+60>>2]=t;l[n+64>>2]=e;o[n+4>>2]=11;l[n+56>>2]=t/+V(+(t*t+e*e));o[n>>2]=5356;o[n+68>>2]=0;o[n+72>>2]=2;o[n+76>>2]=1;l[n+32>>2]=t;l[n+40>>2]=e;l[n+36>>2]=t;return n|0}function y_(t,e,n){t=t|0;e=+e;n=n|0;_k[o[(o[t>>2]|0)+32>>2]&15](t,e,n);return}function x_(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+24>>2]&127](t,e);return}function w_(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function S_(t,e){t=+t;e=+e;var n=0;o[5637]=(o[5637]|0)+1;n=Jc(99)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}o[n+8>>2]=0;o[n+12>>2]=-1;o[n+16>>2]=1065353216;o[n+20>>2]=1065353216;o[n+24>>2]=1065353216;l[n+28>>2]=0.0;l[n+48>>2]=.03999999910593033;o[n>>2]=5256;l[n+60>>2]=t;l[n+64>>2]=e;o[n+4>>2]=11;o[n+68>>2]=0;o[n+72>>2]=1;o[n+76>>2]=2;l[n+32>>2]=t;l[n+36>>2]=e;l[n+40>>2]=t;l[n+56>>2]=t/+V(+(t*t+e*e));return n|0}function M_(t,e,n){t=t|0;e=+e;n=n|0;_k[o[(o[t>>2]|0)+32>>2]&15](t,e,n);return}function C_(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+24>>2]&127](t,e);return}function T_(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function A_(t,e){t=t|0;e=e|0;var n=0,r=0,s=0,a=0;o[5637]=(o[5637]|0)+1;n=Jc(627)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}Fb(n,5,t);o[n>>2]=7132;s=n+300|0;o[s>>2]=o[e>>2];o[s+4>>2]=o[e+4>>2];o[s+8>>2]=o[e+8>>2];o[s+12>>2]=o[e+12>>2];r=n+316|0;o[r>>2]=o[e+16>>2];o[r+4>>2]=o[e+16+4>>2];o[r+8>>2]=o[e+16+8>>2];o[r+12>>2]=o[e+16+12>>2];t=n+332|0;o[t>>2]=o[e+32>>2];o[t+4>>2]=o[e+32+4>>2];o[t+8>>2]=o[e+32+8>>2];o[t+12>>2]=o[e+32+12>>2];a=n+348|0;o[a>>2]=o[e+48>>2];o[a+4>>2]=o[e+48+4>>2];o[a+8>>2]=o[e+48+8>>2];o[a+12>>2]=o[e+48+12>>2];e=n+364|0;i[n+527>>0]=0;o[e>>2]=o[s>>2];o[e+4>>2]=o[s+4>>2];o[e+8>>2]=o[s+8>>2];o[e+12>>2]=o[s+12>>2];e=n+380|0;o[e>>2]=o[r>>2];o[e+4>>2]=o[r+4>>2];o[e+8>>2]=o[r+8>>2];o[e+12>>2]=o[r+12>>2];e=n+396|0;o[e>>2]=o[t>>2];o[e+4>>2]=o[t+4>>2];o[e+8>>2]=o[t+8>>2];o[e+12>>2]=o[t+12>>2];e=n+412|0;i[n+524>>0]=0;i[n+525>>0]=0;i[n+526>>0]=0;i[n+552>>0]=0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;l[n+572>>2]=-1.0;l[n+444>>2]=999999984306749440.0;l[n+448>>2]=999999984306749440.0;l[n+452>>2]=999999984306749440.0;l[n+428>>2]=1.0;l[n+432>>2]=.30000001192092896;l[n+436>>2]=1.0;l[n+440>>2]=.009999999776482582;l[n+456>>2]=.05000000074505806;o[n+592>>2]=0;l[n+596>>2]=0.0;l[n+600>>2]=.699999988079071;l[n+604>>2]=0.0;return n|0}function L_(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;var s=0;o[5637]=(o[5637]|0)+1;s=Jc(627)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}o[s+4>>2]=5;o[s+8>>2]=-1;o[s+12>>2]=-1;l[s+16>>2]=3402823466385288598117041.0e14;i[s+20>>0]=1;i[s+21>>0]=0;o[s+24>>2]=-1;o[s+28>>2]=t;o[s+32>>2]=e;l[s+36>>2]=0.0;l[s+40>>2]=.30000001192092896;o[s+44>>2]=0;o[s>>2]=7132;e=s+300|0;o[e>>2]=o[n>>2];o[e+4>>2]=o[n+4>>2];o[e+8>>2]=o[n+8>>2];o[e+12>>2]=o[n+12>>2];e=s+316|0;o[e>>2]=o[n+16>>2];o[e+4>>2]=o[n+16+4>>2];o[e+8>>2]=o[n+16+8>>2];o[e+12>>2]=o[n+16+12>>2];e=s+332|0;o[e>>2]=o[n+32>>2];o[e+4>>2]=o[n+32+4>>2];o[e+8>>2]=o[n+32+8>>2];o[e+12>>2]=o[n+32+12>>2];e=s+348|0;o[e>>2]=o[n+48>>2];o[e+4>>2]=o[n+48+4>>2];o[e+8>>2]=o[n+48+8>>2];o[e+12>>2]=o[n+48+12>>2];n=s+364|0;o[n>>2]=o[r>>2];o[n+4>>2]=o[r+4>>2];o[n+8>>2]=o[r+8>>2];o[n+12>>2]=o[r+12>>2];n=s+380|0;o[n>>2]=o[r+16>>2];o[n+4>>2]=o[r+16+4>>2];o[n+8>>2]=o[r+16+8>>2];o[n+12>>2]=o[r+16+12>>2];n=s+396|0;o[n>>2]=o[r+32>>2];o[n+4>>2]=o[r+32+4>>2];o[n+8>>2]=o[r+32+8>>2];o[n+12>>2]=o[r+32+12>>2];n=s+412|0;o[n>>2]=o[r+48>>2];o[n+4>>2]=o[r+48+4>>2];o[n+8>>2]=o[r+48+8>>2];o[n+12>>2]=o[r+48+12>>2];i[s+552>>0]=0;o[s+524>>2]=0;l[s+572>>2]=-1.0;l[s+444>>2]=999999984306749440.0;l[s+448>>2]=999999984306749440.0;l[s+452>>2]=999999984306749440.0;l[s+428>>2]=1.0;l[s+432>>2]=.30000001192092896;l[s+436>>2]=1.0;l[s+440>>2]=.009999999776482582;l[s+456>>2]=.05000000074505806;o[s+592>>2]=0;l[s+596>>2]=0.0;l[s+600>>2]=.699999988079071;l[s+604>>2]=0.0;return s|0}function E_(t,e){t=t|0;e=e|0;i[t+21>>0]=e&1;return}function R_(t,e){t=t|0;e=e|0;i[t+552>>0]=e&1;return}function I_(t){t=t|0;return+ +l[t+16>>2]}function P_(t,e){t=t|0;e=e|0;i[t+524>>0]=e&1;return}function D_(t,e){t=t|0;e=+e;l[t+16>>2]=e;return}function k_(t,e){t=t|0;e=+e;l[t+440>>2]=e;return}function O_(t,e,n){t=t|0;e=e|0;n=+n;switch(e|0){case 3:{l[t+452>>2]=n;return}case 4:{l[t+448>>2]=n;return}case 5:{l[t+444>>2]=n;return}default:return}}function N_(t,e){t=t|0;e=+e;l[t+572>>2]=e;i[t+553>>0]=1;return}function F_(t,e){t=t|0;e=+e;l[t+572>>2]=e;i[t+553>>0]=0;return}function B_(t,e){t=t|0;e=e|0;UA(t,e);return}function j_(t,e){t=t|0;e=e|0;var n=0,i=0.0,r=0.0,o=0.0,s=0.0,a=0.0,c=0.0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0;n=h;h=h+48|0;Zw(t+364|0,n+16|0);s=-+l[n+16>>2];r=-+l[n+16+4>>2];p=-+l[n+16+8>>2];u=+l[n+16+12>>2];o=+l[e>>2];f=+l[e+12>>2];c=+l[e+8>>2];a=+l[e+4>>2];Zw(t+300|0,n);_=+l[n>>2];m=+l[n+12>>2];i=+l[n+8>>2];d=+l[n+4>>2];l[n+32>>2]=_*(u*f-o*s-a*r-c*p)+(u*o+f*s+c*r-a*p)*m+(o*p+(f*r+u*a)-c*s)*i-(f*p+u*c+a*s-o*r)*d;l[n+32+4>>2]=_*(f*p+u*c+a*s-o*r)+(m*(o*p+(f*r+u*a)-c*s)+(u*f-o*s-a*r-c*p)*d)-(u*o+f*s+c*r-a*p)*i;l[n+32+8>>2]=m*(f*p+u*c+a*s-o*r)+(u*f-o*s-a*r-c*p)*i+(u*o+f*s+c*r-a*p)*d-_*(o*p+(f*r+u*a)-c*s);l[n+32+12>>2]=(u*f-o*s-a*r-c*p)*m-_*(u*o+f*s+c*r-a*p)-(o*p+(f*r+u*a)-c*s)*d-(f*p+u*c+a*s-o*r)*i;UA(t,n+32|0);h=n;return}function U_(t){t=t|0;if(!t)return;Kc(t);return}function z_(){var t=0,e=0;while(1){t=Jc(12)|0;if(t|0){e=6;break}t=o[5831]|0;o[5831]=t+0;if(!t){e=5;break}zk[t&3]()}if((e|0)==5){e=Jt(4)|0;o[e>>2]=8308;ue(e|0,2416,215)}else if((e|0)==6){l[t>>2]=.30000001192092896;l[t+4>>2]=1.0;l[t+8>>2]=0.0;return t|0}return 0}function G_(t){t=t|0;return+ +l[t+4>>2]}function V_(t){t=t|0;return+ +l[t+8>>2]}function W_(t){t=t|0;return+ +l[t>>2]}function H_(t,e){t=t|0;e=+e;l[t+4>>2]=e;return}function X_(t,e){t=t|0;e=+e;l[t+8>>2]=e;return}function q_(t,e){t=t|0;e=+e;l[t>>2]=e;return}function Y_(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function Z_(t){t=t|0;if(!t)return;Kc(t);return}function J_(t){t=t|0;return~~+l[t+48>>2]|0}function K_(t){t=t|0;return(o[t+44>>2]|0)!=0|0}function $_(t,e){t=t|0;e=e|0;l[t+48>>2]=+(e|0);return}function Q_(t,e){t=t|0;e=e|0;o[t+44>>2]=e&1;return}function tm(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function em(t,e){t=t|0;e=e|0;gC(t,e,1);return}function nm(t,e,n){t=t|0;e=e|0;n=n|0;gC(t,e,n);return}function im(){var t=0;o[5637]=(o[5637]|0)+1;t=Jc(135)|0;if(!t)t=0;else{o[(t+4+15&-16)+-4>>2]=t;t=t+4+15&-16}mC(t,0,0,16);return t|0}function rm(t,e,n){t=t|0;e=+e;n=n|0;_k[o[(o[t>>2]|0)+32>>2]&15](t,e,n);return}function om(t){t=t|0;return+ +wk[o[(o[t>>2]|0)+48>>2]&15](t)}function sm(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+24>>2]&127](t,e);return}function am(t,e){t=t|0;e=+e;ok[o[(o[t>>2]|0)+44>>2]&31](t,e);return}function cm(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function lm(t,e,n){t=t|0;e=+e;n=n|0;_k[o[(o[t>>2]|0)+32>>2]&15](t,e,n);return}function um(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+24>>2]&127](t,e);return}function hm(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function pm(t){t=t|0;var e=0;o[5637]=(o[5637]|0)+1;e=Jc(119)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}HC(e,t,1);return e|0}function fm(t,e){t=t|0;e=e|0;var n=0;o[5637]=(o[5637]|0)+1;n=Jc(119)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}HC(n,t,e);return n|0}function dm(t,e,n){t=t|0;e=+e;n=n|0;_k[o[(o[t>>2]|0)+32>>2]&15](t,e,n);return}function _m(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+24>>2]&127](t,e);return}function mm(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function gm(t){t=t|0;var e=0;o[5637]=(o[5637]|0)+1;e=Jc(79)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}_T(e,t);o[e>>2]=5960;o[e+56>>2]=0;return e|0}function bm(t,e,n){t=t|0;e=+e;n=n|0;_k[o[(o[t>>2]|0)+32>>2]&15](t,e,n);return}function vm(t){t=t|0;return+ +wk[o[(o[t>>2]|0)+48>>2]&15](t)}function ym(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+24>>2]&127](t,e);return}function xm(t,e){t=t|0;e=+e;ok[o[(o[t>>2]|0)+44>>2]&31](t,e);return}function wm(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function Sm(t){t=t|0;var e=0;o[5637]=(o[5637]|0)+1;e=Jc(79)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}_T(e,t);o[e>>2]=6064;o[e+56>>2]=2;return e|0}function Mm(t,e,n){t=t|0;e=+e;n=n|0;_k[o[(o[t>>2]|0)+32>>2]&15](t,e,n);return}function Cm(t){t=t|0;return+ +wk[o[(o[t>>2]|0)+48>>2]&15](t)}function Tm(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+24>>2]&127](t,e);return}function Am(t,e){t=t|0;e=+e;ok[o[(o[t>>2]|0)+44>>2]&31](t,e);return}function Lm(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function Em(t){t=t|0;var e=0;o[5637]=(o[5637]|0)+1;e=Jc(79)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}_T(e,t);return e|0}function Rm(t,e,n){t=t|0;e=+e;n=n|0;_k[o[(o[t>>2]|0)+32>>2]&15](t,e,n);return}function Im(t){t=t|0;return+ +wk[o[(o[t>>2]|0)+48>>2]&15](t)}function Pm(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+24>>2]&127](t,e);return}function Dm(t,e){t=t|0;e=+e;ok[o[(o[t>>2]|0)+44>>2]&31](t,e);return}function km(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function Om(){var t=0,e=0;while(1){t=Jc(196)|0;if(t|0){e=6;break}t=o[5831]|0;o[5831]=t+0;if(!t){e=5;break}zk[t&3]()}if((e|0)==5){e=Jt(4)|0;o[e>>2]=8308;ue(e|0,2416,215)}else if((e|0)==6){gP(t,0);return t|0}return 0}function Nm(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function Fm(){var t=0,e=0,n=0;n=h;h=h+32|0;while(1){t=Jc(92)|0;if(t|0){e=6;break}t=o[5831]|0;o[5831]=t+0;if(!t){e=5;break}zk[t&3]()}if((e|0)==5){n=Jt(4)|0;o[n>>2]=8308;ue(n|0,2416,215)}else if((e|0)==6){o[n>>2]=0;o[n+4>>2]=0;o[n+8>>2]=4096;o[n+12>>2]=4096;o[n+16>>2]=0;o[n+20>>2]=1;ZL(t,n);h=n;return t|0}return 0}function Bm(t){t=t|0;var e=0,n=0;while(1){e=Jc(92)|0;if(e|0){n=6;break}e=o[5831]|0;o[5831]=e+0;if(!e){n=5;break}zk[e&3]()}if((n|0)==5){t=Jt(4)|0;o[t>>2]=8308;ue(t|0,2416,215)}else if((n|0)==6){ZL(e,t);return e|0}return 0}function jm(t){t=t|0;if(!t)return;Kc(t);return}function Um(){var t=0,e=0;while(1){t=Jc(24)|0;if(t|0){e=6;break}t=o[5831]|0;o[5831]=t+0;if(!t){e=5;break}zk[t&3]()}if((e|0)==5){e=Jt(4)|0;o[e>>2]=8308;ue(e|0,2416,215)}else if((e|0)==6){o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=4096;o[t+12>>2]=4096;o[t+16>>2]=0;o[t+20>>2]=1;return t|0}return 0}function zm(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function Gm(){var t=0,e=0;o[5637]=(o[5637]|0)+1;t=Jc(219)|0;if(!t)t=0;else{o[(t+4+15&-16)+-4>>2]=t;t=t+4+15&-16}if(!(i[19848]|0)){i[19848]=1;if(!(i[19856]|0)){i[19856]=1;o[5017]=1065353216;o[5018]=0;o[5019]=0;o[5020]=0;o[5021]=0;o[5022]=1065353216;o[5023]=0;o[5024]=0;o[5025]=0;o[5026]=0;o[5027]=1065353216;l[5028]=0.0}o[5029]=o[5017];o[5030]=o[5018];o[5031]=o[5019];o[5032]=o[5020];o[5033]=o[5021];o[5034]=o[5022];o[5035]=o[5023];o[5036]=o[5024];o[5037]=o[5025];o[5038]=o[5026];o[5039]=o[5027];o[5040]=o[5028];o[5041]=0;o[5042]=0;o[5043]=0;o[5044]=0}if(!(i[19848]|0)){i[19848]=1;if(!(i[19856]|0)){i[19856]=1;o[5017]=1065353216;o[5018]=0;o[5019]=0;o[5020]=0;o[5021]=0;o[5022]=1065353216;o[5023]=0;o[5024]=0;o[5025]=0;o[5026]=0;o[5027]=1065353216;l[5028]=0.0}o[5029]=o[5017];o[5030]=o[5018];o[5031]=o[5019];o[5032]=o[5020];o[5033]=o[5021];o[5034]=o[5022];o[5035]=o[5023];o[5036]=o[5024];o[5037]=o[5025];o[5038]=o[5026];o[5039]=o[5027];o[5040]=o[5028];o[5041]=0;o[5042]=0;o[5043]=0;o[5044]=0}o[t>>2]=8060;e=t+4|0;o[e>>2]=o[5029];o[e+4>>2]=o[5030];o[e+8>>2]=o[5031];o[e+12>>2]=o[5032];e=t+20|0;o[e>>2]=o[5033];o[e+4>>2]=o[5034];o[e+8>>2]=o[5035];o[e+12>>2]=o[5036];e=t+36|0;o[e>>2]=o[5037];o[e+4>>2]=o[5038];o[e+8>>2]=o[5039];o[e+12>>2]=o[5040];e=t+52|0;o[e>>2]=o[5041];o[e+4>>2]=o[5042];o[e+8>>2]=o[5043];o[e+12>>2]=o[5044];e=t+68|0;o[e>>2]=o[5029];o[e+4>>2]=o[5030];o[e+8>>2]=o[5031];o[e+12>>2]=o[5032];e=t+84|0;o[e>>2]=o[5033];o[e+4>>2]=o[5034];o[e+8>>2]=o[5035];o[e+12>>2]=o[5036];e=t+100|0;o[e>>2]=o[5037];o[e+4>>2]=o[5038];o[e+8>>2]=o[5039];o[e+12>>2]=o[5040];e=t+116|0;o[e>>2]=o[5041];o[e+4>>2]=o[5042];o[e+8>>2]=o[5043];o[e+12>>2]=o[5044];e=t+132|0;o[e>>2]=o[5029];o[e+4>>2]=o[5030];o[e+8>>2]=o[5031];o[e+12>>2]=o[5032];e=t+148|0;o[e>>2]=o[5033];o[e+4>>2]=o[5034];o[e+8>>2]=o[5035];o[e+12>>2]=o[5036];e=t+164|0;o[e>>2]=o[5037];o[e+4>>2]=o[5038];o[e+8>>2]=o[5039];o[e+12>>2]=o[5040];e=t+180|0;o[e>>2]=o[5041];o[e+4>>2]=o[5042];o[e+8>>2]=o[5043];o[e+12>>2]=o[5044];o[t+196>>2]=0;return t|0}function Vm(t){t=t|0;return}function Wm(t){t=t|0;if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function Hm(t,e){t=t|0;e=e|0;var n=0.0,i=0.0,r=0.0,o=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0;g=+l[t+68>>2];d=+l[t+84>>2];h=+l[t+100>>2];m=+l[t+72>>2];f=+l[t+88>>2];c=+l[t+104>>2];_=+l[t+76>>2];p=+l[t+92>>2];s=+l[t+108>>2];C=-+l[t+116>>2];M=-+l[t+120>>2];n=-+l[t+124>>2];S=+l[t+4>>2];w=+l[t+8>>2];x=+l[t+12>>2];y=+l[t+20>>2];v=+l[t+24>>2];b=+l[t+28>>2];u=+l[t+36>>2];a=+l[t+40>>2];o=+l[t+44>>2];r=S*(g*C+d*M+h*n)+(m*C+f*M+c*n)*w+(_*C+p*M+s*n)*x+ +l[t+52>>2];i=(g*C+d*M+h*n)*y+(m*C+f*M+c*n)*v+(_*C+p*M+s*n)*b+ +l[t+56>>2];n=(g*C+d*M+h*n)*u+(m*C+f*M+c*n)*a+(_*C+p*M+s*n)*o+ +l[t+60>>2];l[e>>2]=g*S+m*w+_*x;l[e+4>>2]=d*S+f*w+p*x;l[e+8>>2]=h*S+c*w+s*x;l[e+12>>2]=0.0;l[e+16>>2]=g*y+m*v+_*b;l[e+20>>2]=d*y+f*v+p*b;l[e+24>>2]=h*y+c*v+s*b;l[e+28>>2]=0.0;l[e+32>>2]=g*u+m*a+_*o;l[e+36>>2]=d*u+f*a+p*o;l[e+40>>2]=h*u+c*a+s*o;l[e+44>>2]=0.0;l[e+48>>2]=r;l[e+52>>2]=i;l[e+56>>2]=n;l[e+60>>2]=0.0;return}function Xm(t,e){t=t|0;e=e|0;var n=0.0,i=0.0,r=0.0,o=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0;g=+l[t+68>>2];S=+l[e>>2];m=+l[t+84>>2];w=+l[e+4>>2];_=+l[t+100>>2];x=+l[e+8>>2];d=+l[t+72>>2];f=+l[t+88>>2];p=+l[t+104>>2];h=+l[t+76>>2];c=+l[t+92>>2];s=+l[t+108>>2];y=+l[e+16>>2];v=+l[e+20>>2];b=+l[e+24>>2];u=+l[e+32>>2];a=+l[e+36>>2];o=+l[e+40>>2];C=+l[t+116>>2];M=+l[t+120>>2];n=+l[t+124>>2];r=+l[e+48>>2]+(S*C+w*M+x*n);i=y*C+v*M+b*n+ +l[e+52>>2];n=u*C+a*M+o*n+ +l[e+56>>2];l[t+4>>2]=g*S+m*w+_*x;l[t+8>>2]=S*d+w*f+x*p;l[t+12>>2]=S*h+w*c+x*s;l[t+16>>2]=0.0;l[t+20>>2]=g*y+m*v+_*b;l[t+24>>2]=d*y+f*v+p*b;l[t+28>>2]=h*y+c*v+s*b;l[t+32>>2]=0.0;l[t+36>>2]=g*u+m*a+_*o;l[t+40>>2]=d*u+f*a+p*o;l[t+44>>2]=h*u+c*a+s*o;l[t+48>>2]=0.0;l[t+52>>2]=r;l[t+56>>2]=i;l[t+60>>2]=n;l[t+64>>2]=0.0;return}function qm(t){t=t|0;var e=0,n=0;o[5637]=(o[5637]|0)+1;e=Jc(219)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}if(!(i[19848]|0)){i[19848]=1;if(!(i[19856]|0)){i[19856]=1;o[5017]=1065353216;o[5018]=0;o[5019]=0;o[5020]=0;o[5021]=0;o[5022]=1065353216;o[5023]=0;o[5024]=0;o[5025]=0;o[5026]=0;o[5027]=1065353216;l[5028]=0.0}o[5029]=o[5017];o[5030]=o[5018];o[5031]=o[5019];o[5032]=o[5020];o[5033]=o[5021];o[5034]=o[5022];o[5035]=o[5023];o[5036]=o[5024];o[5037]=o[5025];o[5038]=o[5026];o[5039]=o[5027];o[5040]=o[5028];o[5041]=0;o[5042]=0;o[5043]=0;o[5044]=0}o[e>>2]=8060;n=e+4|0;o[n>>2]=o[t>>2];o[n+4>>2]=o[t+4>>2];o[n+8>>2]=o[t+8>>2];o[n+12>>2]=o[t+12>>2];n=e+20|0;o[n>>2]=o[t+16>>2];o[n+4>>2]=o[t+16+4>>2];o[n+8>>2]=o[t+16+8>>2];o[n+12>>2]=o[t+16+12>>2];n=e+36|0;o[n>>2]=o[t+32>>2];o[n+4>>2]=o[t+32+4>>2];o[n+8>>2]=o[t+32+8>>2];o[n+12>>2]=o[t+32+12>>2];n=e+52|0;o[n>>2]=o[t+48>>2];o[n+4>>2]=o[t+48+4>>2];o[n+8>>2]=o[t+48+8>>2];o[n+12>>2]=o[t+48+12>>2];n=e+68|0;o[n>>2]=o[5029];o[n+4>>2]=o[5030];o[n+8>>2]=o[5031];o[n+12>>2]=o[5032];n=e+84|0;o[n>>2]=o[5033];o[n+4>>2]=o[5034];o[n+8>>2]=o[5035];o[n+12>>2]=o[5036];n=e+100|0;o[n>>2]=o[5037];o[n+4>>2]=o[5038];o[n+8>>2]=o[5039];o[n+12>>2]=o[5040];n=e+116|0;o[n>>2]=o[5041];o[n+4>>2]=o[5042];o[n+8>>2]=o[5043];o[n+12>>2]=o[5044];n=e+132|0;o[n>>2]=o[t>>2];o[n+4>>2]=o[t+4>>2];o[n+8>>2]=o[t+8>>2];o[n+12>>2]=o[t+12>>2];n=e+148|0;o[n>>2]=o[t+16>>2];o[n+4>>2]=o[t+16+4>>2];o[n+8>>2]=o[t+16+8>>2];o[n+12>>2]=o[t+16+12>>2];n=e+164|0;o[n>>2]=o[t+32>>2];o[n+4>>2]=o[t+32+4>>2];o[n+8>>2]=o[t+32+8>>2];o[n+12>>2]=o[t+32+12>>2];n=e+180|0;o[n>>2]=o[t+48>>2];o[n+4>>2]=o[t+48+4>>2];o[n+8>>2]=o[t+48+8>>2];o[n+12>>2]=o[t+48+12>>2];o[e+196>>2]=0;return e|0}function Ym(t,e){t=t|0;e=e|0;var n=0,i=0;o[5637]=(o[5637]|0)+1;n=Jc(219)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}o[n>>2]=8060;i=n+4|0;o[i>>2]=o[t>>2];o[i+4>>2]=o[t+4>>2];o[i+8>>2]=o[t+8>>2];o[i+12>>2]=o[t+12>>2];i=n+20|0;o[i>>2]=o[t+16>>2];o[i+4>>2]=o[t+16+4>>2];o[i+8>>2]=o[t+16+8>>2];o[i+12>>2]=o[t+16+12>>2];i=n+36|0;o[i>>2]=o[t+32>>2];o[i+4>>2]=o[t+32+4>>2];o[i+8>>2]=o[t+32+8>>2];o[i+12>>2]=o[t+32+12>>2];i=n+52|0;o[i>>2]=o[t+48>>2];o[i+4>>2]=o[t+48+4>>2];o[i+8>>2]=o[t+48+8>>2];o[i+12>>2]=o[t+48+12>>2];i=n+68|0;o[i>>2]=o[e>>2];o[i+4>>2]=o[e+4>>2];o[i+8>>2]=o[e+8>>2];o[i+12>>2]=o[e+12>>2];i=n+84|0;o[i>>2]=o[e+16>>2];o[i+4>>2]=o[e+16+4>>2];o[i+8>>2]=o[e+16+8>>2];o[i+12>>2]=o[e+16+12>>2];i=n+100|0;o[i>>2]=o[e+32>>2];o[i+4>>2]=o[e+32+4>>2];o[i+8>>2]=o[e+32+8>>2];o[i+12>>2]=o[e+32+12>>2];i=n+116|0;o[i>>2]=o[e+48>>2];o[i+4>>2]=o[e+48+4>>2];o[i+8>>2]=o[e+48+8>>2];o[i+12>>2]=o[e+48+12>>2];e=n+132|0;o[e>>2]=o[t>>2];o[e+4>>2]=o[t+4>>2];o[e+8>>2]=o[t+8>>2];o[e+12>>2]=o[t+12>>2];e=n+148|0;o[e>>2]=o[t+16>>2];o[e+4>>2]=o[t+16+4>>2];o[e+8>>2]=o[t+16+8>>2];o[e+12>>2]=o[t+16+12>>2];e=n+164|0;o[e>>2]=o[t+32>>2];o[e+4>>2]=o[t+32+4>>2];o[e+8>>2]=o[t+32+8>>2];o[e+12>>2]=o[t+32+12>>2];e=n+180|0;o[e>>2]=o[t+48>>2];o[e+4>>2]=o[t+48+4>>2];o[e+8>>2]=o[t+48+8>>2];o[e+12>>2]=o[t+48+12>>2];o[n+196>>2]=0;return n|0}function Zm(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+8>>2]&127](t,e);return}function Jm(t){t=t|0;return t+4|0}function Km(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+12>>2]&127](t,e);return}function $m(t,e){t=t|0;e=e|0;o[t+4>>2]=o[e>>2];o[t+4+4>>2]=o[e+4>>2];o[t+4+8>>2]=o[e+8>>2];o[t+4+12>>2]=o[e+12>>2];o[t+20>>2]=o[e+16>>2];o[t+20+4>>2]=o[e+16+4>>2];o[t+20+8>>2]=o[e+16+8>>2];o[t+20+12>>2]=o[e+16+12>>2];o[t+36>>2]=o[e+32>>2];o[t+36+4>>2]=o[e+32+4>>2];o[t+36+8>>2]=o[e+32+8>>2];o[t+36+12>>2]=o[e+32+12>>2];o[t+52>>2]=o[e+48>>2];o[t+52+4>>2]=o[e+48+4>>2];o[t+52+8>>2]=o[e+48+8>>2];o[t+52+12>>2]=o[e+48+12>>2];return}function Qm(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function tg(t){t=t|0;var e=0,n=0;while(1){e=Jc(8)|0;if(e|0){n=6;break}e=o[5831]|0;o[5831]=e+0;if(!e){n=5;break}zk[e&3]()}if((n|0)==5){t=Jt(4)|0;o[t>>2]=8308;ue(t|0,2416,215)}else if((n|0)==6){o[e>>2]=7988;o[e+4>>2]=t;return e|0}return 0}function eg(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function ng(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+64>>2]&127](t,e);return}function ig(t,e){t=t|0;e=e|0;Wk[o[(o[t>>2]|0)+36>>2]&127](t,e,2,-3);return}function rg(t,e,n){t=t|0;e=e|0;n=n|0;Wk[o[(o[t>>2]|0)+36>>2]&127](t,e,n,-3);return}function og(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;Wk[o[(o[t>>2]|0)+36>>2]&127](t,e,n,i);return}function sg(t,e){t=t|0;e=e|0;Uk[o[(o[t>>2]|0)+56>>2]&127](t,e,0);return}function ag(t,e,n){t=t|0;e=e|0;n=n|0;Uk[o[(o[t>>2]|0)+56>>2]&127](t,e,n);return}function cg(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+84>>2]&127](t,e);return}function lg(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;Wk[o[(o[t>>2]|0)+88>>2]&127](t,e,n,i);return}function ug(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;var s=0,a=0;o[5637]=(o[5637]|0)+1;r=Jc(343)|0;if(!r)a=0;else{o[(r+4+15&-16)+-4>>2]=r;a=r+4+15&-16}i[a+20>>0]=1;o[a+16>>2]=0;o[a+8>>2]=0;o[a+12>>2]=0;o[a+24>>2]=t;l[a+28>>2]=0.0;o[a+32>>2]=0;o[a+36>>2]=1;l[a+40>>2]=1.0;i[a+44>>0]=1;o[a+48>>2]=0;i[a+52>>0]=0;i[a+53>>0]=1;i[a+54>>0]=1;l[a+56>>2]=.03999999910593033;i[a+60>>0]=0;l[a+64>>2]=0.0;o[a+68>>2]=e;o[a+72>>2]=0;i[a+76>>0]=1;o[a+80>>2]=0;o[a+84>>2]=0;o[a+88>>2]=0;l[a+92>>2]=.6000000238418579;l[a+96>>2]=1.0;l[a+100>>2]=.30000001192092896;l[a+104>>2]=.01666666753590107;l[a+108>>2]=0.0;l[a+116>>2]=20.0;o[a+112>>2]=10;l[a+124>>2]=.20000000298023224;l[a+128>>2]=.800000011920929;l[a+132>>2]=0.0;l[a+120>>2]=1.0;o[a+136>>2]=1;l[a+140>>2]=-.03999999910593033;l[a+144>>2]=.10000000149011612;l[a+148>>2]=0.0;l[a+152>>2]=.8500000238418579;o[a+156>>2]=260;o[a+160>>2]=2;o[a+164>>2]=128;l[a+168>>2]=100.0;l[a+172>>2]=1000000015047466219876688.0e6;o[a>>2]=7656;i[a+192>>0]=1;o[a+188>>2]=0;o[a+180>>2]=0;o[a+184>>2]=0;e=a+196|0;o[e>>2]=0;s=a+200|0;o[s>>2]=n;i[a+224>>0]=1;o[a+220>>2]=0;o[a+212>>2]=0;o[a+216>>2]=0;i[a+244>>0]=1;o[a+240>>2]=0;o[a+232>>2]=0;o[a+236>>2]=0;o[a+248>>2]=0;o[a+252>>2]=-1054867456;r=a+256|0;i[a+274>>0]=0;i[a+275>>0]=0;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;i[a+292>>0]=1;o[a+288>>2]=0;o[a+280>>2]=0;o[a+284>>2]=0;o[a+296>>2]=0;i[a+300>>0]=1;i[a+320>>0]=1;o[a+316>>2]=0;o[a+308>>2]=0;o[a+312>>2]=0;if(!n){o[5637]=(o[5637]|0)+1;r=Jc(223)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}o[r>>2]=7540;i[r+20>>0]=1;o[r+16>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;i[r+40>>0]=1;o[r+36>>2]=0;o[r+28>>2]=0;o[r+32>>2]=0;i[r+60>>0]=1;o[r+56>>2]=0;o[r+48>>2]=0;o[r+52>>2]=0;i[r+80>>0]=1;o[r+76>>2]=0;o[r+68>>2]=0;o[r+72>>2]=0;i[r+100>>0]=1;o[r+96>>2]=0;o[r+88>>2]=0;o[r+92>>2]=0;i[r+120>>0]=1;o[r+116>>2]=0;o[r+108>>2]=0;o[r+112>>2]=0;i[r+140>>0]=1;o[r+136>>2]=0;o[r+128>>2]=0;o[r+132>>2]=0;i[r+160>>0]=1;o[r+156>>2]=0;o[r+148>>2]=0;o[r+152>>2]=0;i[r+180>>0]=1;o[r+176>>2]=0;o[r+168>>2]=0;o[r+172>>2]=0;o[r+192>>2]=13;o[r+196>>2]=14;o[r+200>>2]=0;o[s>>2]=r;i[a+273>>0]=1}else i[a+273>>0]=0;o[5637]=(o[5637]|0)+1;r=Jc(87)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}o[r>>2]=4488;i[r+20>>0]=1;o[r+16>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;i[r+40>>0]=1;o[r+36>>2]=0;o[r+28>>2]=0;o[r+32>>2]=0;i[r+60>>0]=1;o[r+56>>2]=0;o[r+48>>2]=0;o[r+52>>2]=0;i[r+64>>0]=1;o[a+204>>2]=r;i[a+272>>0]=1;o[5637]=(o[5637]|0)+1;r=Jc(107)|0;if(!r){n=0;r=o[s>>2]|0;o[n>>2]=7896;s=n+4|0;o[s>>2]=0;s=n+8|0;o[s>>2]=r;s=n+12|0;o[s>>2]=0;s=n+16|0;o[s>>2]=0;s=n+20|0;o[s>>2]=0;s=n+24|0;o[s>>2]=t;t=n+44|0;i[t>>0]=1;t=n+40|0;o[t>>2]=0;t=n+32|0;o[t>>2]=0;t=n+36|0;o[t>>2]=0;t=n+64|0;i[t>>0]=1;t=n+60|0;o[t>>2]=0;t=n+52|0;o[t>>2]=0;t=n+56|0;o[t>>2]=0;t=n+84|0;i[t>>0]=1;t=n+80|0;o[t>>2]=0;t=n+72|0;o[t>>2]=0;t=n+76|0;o[t>>2]=0;o[e>>2]=n;return a|0}o[(r+4+15&-16)+-4>>2]=r;n=r+4+15&-16;r=o[s>>2]|0;o[n>>2]=7896;s=n+4|0;o[s>>2]=0;s=n+8|0;o[s>>2]=r;s=n+12|0;o[s>>2]=0;s=n+16|0;o[s>>2]=0;s=n+20|0;o[s>>2]=0;s=n+24|0;o[s>>2]=t;t=n+44|0;i[t>>0]=1;t=n+40|0;o[t>>2]=0;t=n+32|0;o[t>>2]=0;t=n+36|0;o[t>>2]=0;t=n+64|0;i[t>>0]=1;t=n+60|0;o[t>>2]=0;t=n+52|0;o[t>>2]=0;t=n+56|0;o[t>>2]=0;t=n+84|0;i[t>>0]=1;t=n+80|0;o[t>>2]=0;t=n+72|0;o[t>>2]=0;t=n+76|0;o[t>>2]=0;o[e>>2]=n;return a|0}function hg(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;oS(t,e,n,i);return}function pg(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0;i=h;h=h+48|0;r=o[e+192>>2]|0;Wk[o[(o[r>>2]|0)+8>>2]&127](r,e+4|0,i+32|0,i+16|0);o[i>>2]=3544;o[i+4>>2]=e;o[i+8>>2]=t;o[i+12>>2]=n;t=o[t+68>>2]|0;Wk[o[(o[t>>2]|0)+28>>2]&127](t,i+32|0,i+16|0,i);h=i;return}function fg(t,e,n,i,r,o){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=+o;qw(t,e,n,i,r,o);return}function dg(t){t=t|0;return o[t+68>>2]|0}function _g(t){t=t|0;return t+28|0}function mg(t){t=t|0;return o[t+24>>2]|0}function gg(t){t=t|0;var e=0;e=h;h=h+16|0;if(!(i[19896]|0))i[19896]=1;ck[o[(o[t>>2]|0)+76>>2]&127](e,t);o[5650]=o[e>>2];o[5651]=o[e+4>>2];o[5652]=o[e+8>>2];o[5653]=o[e+12>>2];h=e;return 22600}function bg(t){t=t|0;t=o[t+68>>2]|0;return uk[o[(o[t>>2]|0)+36>>2]&127](t)|0}function vg(t){t=t|0;var e=0,n=0;if(i[19904]|0){e=t+92|0;t=22616;n=t+84|0;do{o[t>>2]=o[e>>2];t=t+4|0;e=e+4|0}while((t|0)<(n|0));return 22616}i[19904]=1;l[5654]=.6000000238418579;l[5655]=1.0;l[5656]=.30000001192092896;l[5657]=.01666666753590107;l[5658]=0.0;l[5660]=20.0;o[5659]=10;l[5662]=.20000000298023224;l[5663]=.800000011920929;l[5664]=0.0;l[5661]=1.0;o[5665]=1;l[5666]=-.03999999910593033;l[5667]=.10000000149011612;l[5668]=0.0;l[5669]=.8500000238418579;o[5670]=260;o[5671]=2;o[5672]=128;l[5673]=100.0;l[5674]=1000000015047466219876688.0e6;e=t+92|0;t=22616;n=t+84|0;do{o[t>>2]=o[e>>2];t=t+4|0;e=e+4|0}while((t|0)<(n|0));return 22616}function yg(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;Wk[o[(o[t>>2]|0)+32>>2]&127](t,e,n,i);return}function xg(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+68>>2]&127](t,e);return}function wg(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+60>>2]&127](t,e);return}function Sg(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+92>>2]&127](t,e);return}function Mg(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+72>>2]&127](t,e);return}function Cg(t,e){t=t|0;e=+e;return Vk[o[(o[t>>2]|0)+52>>2]&1](t,e,1,.01666666753590107)|0}function Tg(t,e,n){t=t|0;e=+e;n=n|0;return Vk[o[(o[t>>2]|0)+52>>2]&1](t,e,n,.01666666753590107)|0}function Ag(t,e,n,i){t=t|0;e=+e;n=n|0;i=+i;return Vk[o[(o[t>>2]|0)+52>>2]&1](t,e,n,i)|0}function Lg(t){t=t|0;if(!t)return;Kc(t);return}function Eg(t){t=t|0;return+ +l[t+28>>2]}function Rg(t){t=t|0;return+ +l[t+36>>2]}function Ig(t){t=t|0;return o[t+8>>2]|0}function Pg(t){t=t|0;return(i[t+25>>0]|0)!=0|0}function Dg(t){t=t|0;return(i[t+24>>0]|0)!=0|0}function kg(t){t=t|0;return o[t+4>>2]|0}function Og(t){t=t|0;return+ +l[t+12>>2]}function Ng(t){t=t|0;return+ +l[t>>2]}function Fg(t){t=t|0;return(i[t+16>>0]|0)!=0|0}function Bg(t){t=t|0;return(i[t+32>>0]|0)!=0|0}function jg(t){t=t|0;return(i[t+26>>0]|0)!=0|0}function Ug(t,e){t=t|0;e=+e;l[t+28>>2]=e;return}function zg(t,e){t=t|0;e=+e;l[t+36>>2]=e;return}function Gg(t,e){t=t|0;e=e|0;o[t+8>>2]=e;return}function Vg(t,e){t=t|0;e=e|0;i[t+25>>0]=e&1;return}function Wg(t,e){t=t|0;e=e|0;i[t+24>>0]=e&1;return}function Hg(t,e){t=t|0;e=e|0;o[t+4>>2]=e;return}function Xg(t,e){t=t|0;e=+e;l[t+12>>2]=e;return}function qg(t,e){t=t|0;e=+e;l[t>>2]=e;return}function Yg(t,e){t=t|0;e=e|0;i[t+16>>0]=e&1;return}function Zg(t,e){t=t|0;e=e|0;i[t+32>>0]=e&1;return}function Jg(t,e){t=t|0;e=e|0;i[t+26>>0]=e&1;return}function Kg(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function $g(t,e){t=t|0;e=e|0;return Ek[o[(o[t>>2]|0)+40>>2]&31](t,e)|0}function Qg(t){t=t|0;return uk[o[(o[t>>2]|0)+36>>2]&127](t)|0}function tb(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function eb(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+64>>2]&127](t,e);return}function nb(t,e){t=t|0;e=e|0;Wk[o[(o[t>>2]|0)+36>>2]&127](t,e,1,-1);return}function ib(t,e,n){t=t|0;e=e|0;n=n|0;Wk[o[(o[t>>2]|0)+36>>2]&127](t,e,n,-1);return}function rb(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;Wk[o[(o[t>>2]|0)+36>>2]&127](t,e,n,i);return}function ob(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;oS(t,e,n,i);return}function sb(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0;i=h;h=h+48|0;r=o[e+192>>2]|0;Wk[o[(o[r>>2]|0)+8>>2]&127](r,e+4|0,i+32|0,i+16|0);o[i>>2]=3544;o[i+4>>2]=e;o[i+8>>2]=t;o[i+12>>2]=n;t=o[t+68>>2]|0;Wk[o[(o[t>>2]|0)+28>>2]&127](t,i+32|0,i+16|0,i);h=i;return}function ab(t,e,n,i,r,o){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;o=+o;qw(t,e,n,i,r,o);return}function cb(t){t=t|0;return o[t+68>>2]|0}function lb(t){t=t|0;return t+28|0}function ub(t){t=t|0;return o[t+24>>2]|0}function hb(t){t=t|0;t=o[t+68>>2]|0;return uk[o[(o[t>>2]|0)+36>>2]&127](t)|0}function pb(t){t=t|0;var e=0,n=0;if(i[19912]|0){e=t+92|0;t=22700;n=t+84|0;do{o[t>>2]=o[e>>2];t=t+4|0;e=e+4|0}while((t|0)<(n|0));return 22700}i[19912]=1;l[5675]=.6000000238418579;l[5676]=1.0;l[5677]=.30000001192092896;l[5678]=.01666666753590107;l[5679]=0.0;l[5681]=20.0;o[5680]=10;l[5683]=.20000000298023224;l[5684]=.800000011920929;l[5685]=0.0;l[5682]=1.0;o[5686]=1;l[5687]=-.03999999910593033;l[5688]=.10000000149011612;l[5689]=0.0;l[5690]=.8500000238418579;o[5691]=260;o[5692]=2;o[5693]=128;l[5694]=100.0;l[5695]=1000000015047466219876688.0e6;e=t+92|0;t=22700;n=t+84|0;do{o[t>>2]=o[e>>2];t=t+4|0;e=e+4|0}while((t|0)<(n|0));return 22700}function fb(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;Wk[o[(o[t>>2]|0)+32>>2]&127](t,e,n,i);return}function db(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+68>>2]&127](t,e);return}function _b(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function mb(t,e,n){t=t|0;e=e|0;n=n|0;var i=0;o[5637]=(o[5637]|0)+1;i=Jc(1331)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}aL(i,t,e,n);return i|0}function gb(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;var s=0;o[5637]=(o[5637]|0)+1;s=Jc(1331)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}sL(s,t,e,n,i,r);return s|0}function bb(t,e){t=t|0;e=e|0;i[t+21>>0]=e&1;return}function vb(t){t=t|0;return+ +l[t+16>>2]}function yb(t,e){t=t|0;e=e|0;var n=0.0;n=+Yc(+l[e>>2]);if(!(n<-3.1415927410125732)){if(n>3.1415927410125732)n=n+-6.2831854820251465}else n=n+6.2831854820251465;l[t+868>>2]=n;n=+Yc(+l[e+4>>2]);if(!(n<-3.1415927410125732)){if(n>3.1415927410125732)n=n+-6.2831854820251465}else n=n+6.2831854820251465;l[t+932>>2]=n;n=+Yc(+l[e+8>>2]);if(n<-3.1415927410125732){n=n+6.2831854820251465;t=t+996|0;l[t>>2]=n;return}if(!(n>3.1415927410125732)){t=t+996|0;l[t>>2]=n;return}n=n+-6.2831854820251465;t=t+996|0;l[t>>2]=n;return}function xb(t,e){t=t|0;e=e|0;var n=0.0;n=+Yc(+l[e>>2]);if(!(n<-3.1415927410125732)){if(n>3.1415927410125732)n=n+-6.2831854820251465}else n=n+6.2831854820251465;l[t+872>>2]=n;n=+Yc(+l[e+4>>2]);if(!(n<-3.1415927410125732)){if(n>3.1415927410125732)n=n+-6.2831854820251465}else n=n+6.2831854820251465;l[t+936>>2]=n;n=+Yc(+l[e+8>>2]);if(n<-3.1415927410125732){n=n+6.2831854820251465;t=t+1e3|0;l[t>>2]=n;return}if(!(n>3.1415927410125732)){t=t+1e3|0;l[t>>2]=n;return}n=n+-6.2831854820251465;t=t+1e3|0;l[t>>2]=n;return}function wb(t,e){t=t|0;e=+e;l[t+16>>2]=e;return}function Sb(t,e){t=t|0;e=e|0;o[t+680>>2]=o[e>>2];o[t+680+4>>2]=o[e+4>>2];o[t+680+8>>2]=o[e+8>>2];o[t+680+12>>2]=o[e+12>>2];return}function Mb(t,e){t=t|0;e=e|0;o[t+696>>2]=o[e>>2];o[t+696+4>>2]=o[e+4>>2];o[t+696+8>>2]=o[e+8>>2];o[t+696+12>>2]=o[e+12>>2];return}function Cb(t){t=t|0;if(!t)return;sk[o[(o[t>>2]|0)+4>>2]&255](t);return}function Tb(t,e,n,r,s,a,c,u,p){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;a=a|0;c=c|0;u=u|0;p=p|0;var d=0,_=0,m=0,g=0.0,b=0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0,E=0,R=0,I=0,P=0,D=0,k=0,O=0,N=0,F=0,B=0,j=0,U=0,z=0,W=0,H=0,X=0,q=0,Y=0,Z=0,J=0,K=0.0,$=0.0,Q=0.0,tt=0.0,et=0.0,nt=0.0,it=0.0,rt=0.0,ot=0.0,st=0.0,at=0.0,ct=0.0,lt=0.0,ut=0.0,ht=0.0,pt=0.0;J=h;h=h+304|0;o[t+188>>2]=-1;Wh(15532);o[t+184>>2]=0;if((n|0)>0){p=0;do{o[(o[e+(p<<2)>>2]|0)+212>>2]=-1;p=p+1|0}while((p|0)!=(n|0))}d=o[t+12>>2]|0;if((d|0)>(n|0))_=t+8|0;else{if((n+1|0)!=0?(o[5637]=(o[5637]|0)+1,_=Jc(((n+1|0)*244|3)+16|0)|0,(_|0)!=0):0){o[(_+4+15&-16)+-4>>2]=_;_=_+4+15&-16}else _=0;p=o[t+8>>2]|0;if((p|0)>0){d=0;do{q=_+(d*244|0)|0;Y=o[t+16>>2]|0;X=Y+(d*244|0)|0;o[q>>2]=o[X>>2];o[q+4>>2]=o[X+4>>2];o[q+8>>2]=o[X+8>>2];o[q+12>>2]=o[X+12>>2];q=_+(d*244|0)+16|0;X=Y+(d*244|0)+16|0;o[q>>2]=o[X>>2];o[q+4>>2]=o[X+4>>2];o[q+8>>2]=o[X+8>>2];o[q+12>>2]=o[X+12>>2];q=_+(d*244|0)+32|0;X=Y+(d*244|0)+32|0;o[q>>2]=o[X>>2];o[q+4>>2]=o[X+4>>2];o[q+8>>2]=o[X+8>>2];o[q+12>>2]=o[X+12>>2];q=_+(d*244|0)+48|0;X=Y+(d*244|0)+48|0;o[q>>2]=o[X>>2];o[q+4>>2]=o[X+4>>2];o[q+8>>2]=o[X+8>>2];o[q+12>>2]=o[X+12>>2];Ol(_+(d*244|0)+64|0,Y+(d*244|0)+64|0,180)|0;d=d+1|0}while((d|0)!=(p|0))}p=o[t+16>>2]|0;if(p|0){if(i[t+20>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[p+-4>>2]|0)}o[t+16>>2]=0}i[t+20>>0]=1;o[t+16>>2]=_;o[t+12>>2]=n+1;_=t+8|0;d=n+1|0}Il(J|0,0,244)|0;p=o[_>>2]|0;if((p|0)<0){if((d|0)<0){d=o[t+16>>2]|0;if(d|0){if(i[t+20>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[d+-4>>2]|0)}o[t+16>>2]=0}i[t+20>>0]=1;o[t+16>>2]=0;o[t+12>>2]=0}do{Y=o[t+16>>2]|0;q=Y+(p*244|0)|0;o[q>>2]=o[J>>2];o[q+4>>2]=o[J+4>>2];o[q+8>>2]=o[J+8>>2];o[q+12>>2]=o[J+12>>2];q=Y+(p*244|0)+16|0;o[q>>2]=o[J+16>>2];o[q+4>>2]=o[J+16+4>>2];o[q+8>>2]=o[J+16+8>>2];o[q+12>>2]=o[J+16+12>>2];q=Y+(p*244|0)+32|0;o[q>>2]=o[J+32>>2];o[q+4>>2]=o[J+32+4>>2];o[q+8>>2]=o[J+32+8>>2];o[q+12>>2]=o[J+32+12>>2];q=Y+(p*244|0)+48|0;o[q>>2]=o[J+48>>2];o[q+4>>2]=o[J+48+4>>2];o[q+8>>2]=o[J+48+8>>2];o[q+12>>2]=o[J+48+12>>2];Ol(Y+(p*244|0)+64|0,J+64|0,180)|0;p=p+1|0}while((p|0)!=0)}o[_>>2]=0;if((n|0)>0){b=0;do{_=e+(b<<2)|0;d=qD(t,o[_>>2]|0,+l[u+12>>2])|0;_=o[_>>2]|0;if(!((_|0)==0?1:(o[_+236>>2]&2|0)==0)?+l[_+368>>2]!=0.0:0){m=o[t+16>>2]|0;p=o[_+528>>2]|0;if(p&2){g=+l[u+76>>2];$=+l[_+420>>2];y=+l[_+424>>2];v=+l[_+428>>2];rt=+l[_+4>>2];$=$!=0.0?1.0/$:0.0;it=+l[_+8>>2];y=y!=0.0?1.0/y:0.0;nt=+l[_+12>>2];v=v!=0.0?1.0/v:0.0;et=+l[_+20>>2];tt=+l[_+24>>2];Q=+l[_+28>>2];K=+l[_+36>>2];A=+l[_+40>>2];w=+l[_+44>>2];S=+l[_+352>>2];M=+l[_+356>>2];x=+l[_+360>>2];C=($*rt*rt+y*it*it+v*nt*nt)*S+($*rt*et+y*it*tt+v*nt*Q)*M+($*rt*K+y*it*A+v*nt*w)*x;T=($*et*rt+y*tt*it+v*Q*nt)*S+($*et*et+y*tt*tt+v*Q*Q)*M+($*et*K+y*tt*A+v*Q*w)*x;w=($*K*rt+y*A*it+v*w*nt)*S+($*K*et+y*A*tt+v*w*Q)*M+($*K*K+y*A*A+v*w*w)*x;v=(M*w-x*T)*(M*w-x*T)+(x*C-S*w)*(x*C-S*w)+(S*T-M*C)*(S*T-M*C);if(v>g*g){g=1.0/+V(+v)*g;y=(M*w-x*T)*g;v=g*(x*C-S*w);g=g*(S*T-M*C)}else{y=M*w-x*T;v=x*C-S*w;g=S*T-M*C}nt=+l[u+12>>2];it=(y*+l[_+292>>2]+v*+l[_+308>>2]+g*+l[_+324>>2])*nt;rt=nt*(y*+l[_+296>>2]+v*+l[_+312>>2]+g*+l[_+328>>2]);l[m+(d*244|0)+224>>2]=+l[m+(d*244|0)+224>>2]-(y*+l[_+288>>2]+v*+l[_+304>>2]+g*+l[_+320>>2])*nt;l[m+(d*244|0)+228>>2]=+l[m+(d*244|0)+228>>2]-it;l[m+(d*244|0)+232>>2]=+l[m+(d*244|0)+232>>2]-rt;p=o[_+528>>2]|0}if(p&4){A=+l[u+12>>2];ct=+l[_+420>>2];nt=+l[_+424>>2];tt=+l[_+428>>2];M=+l[_+352>>2];v=+l[_+356>>2];rt=+l[_+360>>2];Q=+l[_+4>>2];ct=ct!=0.0?1.0/ct:0.0;g=+l[_+8>>2];nt=nt!=0.0?1.0/nt:0.0;y=+l[_+12>>2];tt=tt!=0.0?1.0/tt:0.0;lt=+l[_+20>>2];$=+l[_+24>>2];S=+l[_+28>>2];et=+l[_+36>>2];K=+l[_+40>>2];at=+l[_+44>>2];x=ct*Q*Q+nt*g*g+tt*y*y;T=ct*Q*lt+nt*g*$+tt*y*S;st=ct*Q*et+nt*g*K+tt*y*at;w=ct*lt*Q+nt*$*g+tt*S*y;C=ct*lt*lt+nt*$*$+tt*S*S;ot=ct*lt*et+nt*$*K+tt*S*at;y=ct*et*Q+nt*K*g+tt*at*y;S=ct*et*lt+nt*K*$+tt*at*S;at=ct*et*et+nt*K*K+tt*at*at;tt=M*x+v*T+rt*st+(v*(M*y+v*S+rt*at)-rt*(M*w+v*C+rt*ot))*A-(A*0.0+(M*x+v*T+rt*st));K=M*w+v*C+rt*ot+(rt*(M*x+v*T+rt*st)-M*(M*y+v*S+rt*at))*A-(A*0.0+(M*w+v*C+rt*ot));nt=M*y+v*S+rt*at+(M*(M*w+v*C+rt*ot)-v*(M*x+v*T+rt*st))*A-(A*0.0+(M*y+v*S+rt*at));et=T+(M*y+v*S+rt*at+(v*S+(T*0.0+C*-rt)))*A;ct=st+(v*at+(st*0.0+ot*-rt)-(M*w+v*C+rt*ot))*A;$=w+(y*-M+(w*0.0+rt*x)-(M*y+v*S+rt*at))*A;lt=ot+(M*x+v*T+rt*st+(at*-M+(ot*0.0+rt*st)))*A;g=y+(y*0.0+(x*-v+M*w)+(M*w+v*C+rt*ot))*A;Q=S+(S*0.0+(T*-v+M*C)-(M*x+v*T+rt*st))*A;ht=(C+(S*-M+(C*0.0+rt*T))*A)*(at+(at*0.0+(st*-v+M*ot))*A)-Q*lt;ut=Q*ct-et*(at+(at*0.0+(st*-v+M*ot))*A);pt=et*lt-(C+(S*-M+(C*0.0+rt*T))*A)*ct;it=g*pt+((x+(v*y+(x*0.0+w*-rt))*A)*ht+$*ut);p=+G(+it)>1.1920928955078125e-07;it=p?1.0/it:it;l[m+(d*244|0)+224>>2]=M-(nt*pt+(tt*ht+K*ut))*it-M+ +l[m+(d*244|0)+224>>2];l[m+(d*244|0)+228>>2]=v-(g*(lt*tt-ct*K)+((x+(v*y+(x*0.0+w*-rt))*A)*((at+(at*0.0+(st*-v+M*ot))*A)*K-lt*nt)+$*(ct*nt-(at+(at*0.0+(st*-v+M*ot))*A)*tt)))*it-v+ +l[m+(d*244|0)+228>>2];l[m+(d*244|0)+232>>2]=rt-(g*(et*K-(C+(S*-M+(C*0.0+rt*T))*A)*tt)+((x+(v*y+(x*0.0+w*-rt))*A)*((C+(S*-M+(C*0.0+rt*T))*A)*nt-Q*K)+$*(Q*tt-et*nt)))*it-rt+ +l[m+(d*244|0)+232>>2];p=o[_+528>>2]|0}if(p&8|0){ct=+l[u+12>>2];T=+l[_+420>>2];A=+l[_+424>>2];S=+l[_+428>>2];it=+l[_+352>>2];rt=+l[_+356>>2];pt=+l[_+360>>2];Zw(_+4|0,J+248|0);ht=+l[J+248>>2];ot=+l[J+248+4>>2];st=+l[J+248+8>>2];K=+l[J+248+12>>2];Q=st*(it*-st+rt*K-pt*-ht)+(ht*(-(it*-ht)-rt*-ot-pt*-st)+K*(pt*-ot+it*K-rt*-st))-ot*(rt*-ht+pt*K-it*-ot);et=ht*(rt*-ht+pt*K-it*-ot)+(ot*(-(it*-ht)-rt*-ot-pt*-st)+K*(it*-st+rt*K-pt*-ht))-st*(pt*-ot+it*K-rt*-st);K=ot*(pt*-ot+it*K-rt*-st)+(st*(-(it*-ht)-rt*-ot-pt*-st)+K*(rt*-ht+pt*K-it*-ot))-ht*(it*-st+rt*K-pt*-ht);T=T!=0.0?1.0/T:0.0;nt=K*0.0+(T*Q+et*0.0);A=A!=0.0?1.0/A:0.0;tt=K*0.0+(Q*0.0+A*et);S=S!=0.0?1.0/S:0.0;$=S*K+(Q*0.0+et*0.0);M=T+(et*0.0+(T*0.0+K*-0.0))*ct;C=A+(Q*-0.0+(A*0.0+K*0.0))*ct;lt=S+(S*0.0+(et*-0.0+Q*0.0))*ct;w=C*lt-((et*-0.0+A*Q+0.0-nt)*ct+0.0)*((K*0.0+0.0-S*Q+nt)*ct+0.0);at=((et*-0.0+A*Q+0.0-nt)*ct+0.0)*((S*et+(K*-0.0+0.0)-tt)*ct+0.0)-lt*((et*0.0+(0.0-A*K)+$)*ct+0.0);x=((et*0.0+(0.0-A*K)+$)*ct+0.0)*((K*0.0+0.0-S*Q+nt)*ct+0.0)-C*((S*et+(K*-0.0+0.0)-tt)*ct+0.0);ut=((Q*0.0-T*et+0.0+tt)*ct+0.0)*x+(M*w+((Q*-0.0+(T*K+0.0)-$)*ct+0.0)*at);Y=+G(+ut)>1.1920928955078125e-07;ut=Y?1.0/ut:ut;at=Q-((Q*tt-et*nt)*ct*x+((et*$-K*tt)*ct*w+(K*nt-Q*$)*ct*at))*ut;lt=et-(((Q*0.0-T*et+0.0+tt)*ct+0.0)*(((K*0.0+0.0-S*Q+nt)*ct+0.0)*((et*$-K*tt)*ct)-((S*et+(K*-0.0+0.0)-tt)*ct+0.0)*((K*nt-Q*$)*ct))+(M*(lt*((K*nt-Q*$)*ct)-((K*0.0+0.0-S*Q+nt)*ct+0.0)*((Q*tt-et*nt)*ct))+((Q*-0.0+(T*K+0.0)-$)*ct+0.0)*(((S*et+(K*-0.0+0.0)-tt)*ct+0.0)*((Q*tt-et*nt)*ct)-lt*((et*$-K*tt)*ct))))*ut;ut=K-(((Q*0.0-T*et+0.0+tt)*ct+0.0)*(((et*0.0+(0.0-A*K)+$)*ct+0.0)*((K*nt-Q*$)*ct)-C*((et*$-K*tt)*ct))+(M*(C*((Q*tt-et*nt)*ct)-((et*-0.0+A*Q+0.0-nt)*ct+0.0)*((K*nt-Q*$)*ct))+((Q*-0.0+(T*K+0.0)-$)*ct+0.0)*(((et*-0.0+A*Q+0.0-nt)*ct+0.0)*((et*$-K*tt)*ct)-((et*0.0+(0.0-A*K)+$)*ct+0.0)*((Q*tt-et*nt)*ct))))*ut;ct=+l[J+248+12>>2];l[m+(d*244|0)+224>>2]=(st*at+ct*lt-ht*ut)*-st+(ct*(ct*at+ot*ut-st*lt)+(-(ht*at)-ot*lt-st*ut)*-ht)-(ct*ut+ht*lt-ot*at)*-ot-it+ +l[m+(d*244|0)+224>>2];l[m+(d*244|0)+228>>2]=(ct*ut+ht*lt-ot*at)*-ht+(ct*(st*at+ct*lt-ht*ut)+(-(ht*at)-ot*lt-st*ut)*-ot)-(ct*at+ot*ut-st*lt)*-st-rt+ +l[m+(d*244|0)+228>>2];l[m+(d*244|0)+232>>2]=(ct*at+ot*ut-st*lt)*-ot+((-(ht*at)-ot*lt-st*ut)*-st+ct*(ct*ut+ht*lt-ot*at))-(st*at+ct*lt-ht*ut)*-ht-pt+ +l[m+(d*244|0)+232>>2]}}b=b+1|0}while((b|0)!=(n|0))}if((c|0)>0){p=0;do{Y=o[a+(p<<2)>>2]|0;sk[o[(o[Y>>2]|0)+8>>2]&255](Y);l[Y+36>>2]=0.0;p=p+1|0}while((p|0)<(c|0))}d=o[t+168>>2]|0;if((d|0)<(c|0)?(o[t+172>>2]|0)<(c|0):0){if(!c)p=0;else{o[5637]=(o[5637]|0)+1;p=Jc((c<<3|3)+16|0)|0;if(!p)p=0;else{o[(p+4+15&-16)+-4>>2]=p;p=p+4+15&-16}d=o[t+168>>2]|0}if((d|0)>0){_=0;do{X=(o[t+176>>2]|0)+(_<<3)|0;q=o[X+4>>2]|0;Y=p+(_<<3)|0;o[Y>>2]=o[X>>2];o[Y+4>>2]=q;_=_+1|0}while((_|0)!=(d|0))}d=o[t+176>>2]|0;if(d|0){if(i[t+180>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[d+-4>>2]|0)}o[t+176>>2]=0}i[t+180>>0]=1;o[t+176>>2]=p;o[t+172>>2]=c}o[t+168>>2]=c;if((c|0)>0){n=0;p=0;do{b=o[t+176>>2]|0;e=b+(n<<3)|0;m=a+(n<<2)|0;d=o[m>>2]|0;_=o[d+44>>2]|0;if(_){d=_+64|0;do{o[_>>2]=0;_=_+4|0}while((_|0)<(d|0));d=o[m>>2]|0}if(!(i[d+20>>0]|0)){o[e>>2]=0;o[b+(n<<3)+4>>2]=0;d=0}else{ck[o[(o[d>>2]|0)+16>>2]&127](d,e);d=o[e>>2]|0}p=d+p|0;n=n+1|0}while((n|0)<(c|0))}else p=0;_=o[t+48>>2]|0;if((_|0)<(p|0)?(o[t+52>>2]|0)<(p|0):0){if(!p)d=0;else{o[5637]=(o[5637]|0)+1;d=Jc((p*152|3)+16|0)|0;if(!d)d=0;else{o[(d+4+15&-16)+-4>>2]=d;d=d+4+15&-16}_=o[t+48>>2]|0}if((_|0)>0){m=0;do{Ol(d+(m*152|0)|0,(o[t+56>>2]|0)+(m*152|0)|0,152)|0;m=m+1|0}while((m|0)!=(_|0))}_=o[t+56>>2]|0;if(_|0){if(i[t+60>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[_+-4>>2]|0)}o[t+56>>2]=0}i[t+60>>0]=1;o[t+56>>2]=d;o[t+52>>2]=p}o[t+48>>2]=p;if((c|0)>0){p=o[t+176>>2]|0;q=0;Y=0;while(1){X=p+(Y<<3)|0;if(!(o[X>>2]|0))d=0;else{p=o[t+56>>2]|0;N=p+(q*152|0)|0;F=a+(Y<<2)|0;B=o[F>>2]|0;j=o[B+28>>2]|0;U=o[B+32>>2]|0;z=qD(t,j,+l[u+12>>2])|0;W=qD(t,U,+l[u+12>>2])|0;H=o[t+16>>2]|0;d=o[B+24>>2]|0;d=(d|0)>0?d:o[u+20>>2]|0;if((d|0)>(o[t+184>>2]|0))o[t+184>>2]=d;if((o[X>>2]|0)>0){_=0;do{Il(N+(_*152|0)|0,0,152)|0;l[N+(_*152|0)+120>>2]=-3402823466385288598117041.0e14;l[N+(_*152|0)+124>>2]=3402823466385288598117041.0e14;l[N+(_*152|0)+100>>2]=0.0;l[N+(_*152|0)+96>>2]=0.0;o[N+(_*152|0)+144>>2]=z;o[N+(_*152|0)+148>>2]=W;o[N+(_*152|0)+136>>2]=d;_=_+1|0}while((_|0)<(o[X>>2]|0))}o[H+(z*244|0)+64>>2]=0;o[H+(z*244|0)+64+4>>2]=0;o[H+(z*244|0)+64+8>>2]=0;o[H+(z*244|0)+64+12>>2]=0;o[H+(z*244|0)+64+16>>2]=0;o[H+(z*244|0)+64+20>>2]=0;o[H+(z*244|0)+64+24>>2]=0;o[H+(z*244|0)+64+28>>2]=0;o[H+(z*244|0)+144>>2]=0;o[H+(z*244|0)+144+4>>2]=0;o[H+(z*244|0)+144+8>>2]=0;o[H+(z*244|0)+144+12>>2]=0;o[H+(z*244|0)+144+16>>2]=0;o[H+(z*244|0)+144+20>>2]=0;o[H+(z*244|0)+144+24>>2]=0;o[H+(z*244|0)+144+28>>2]=0;o[H+(W*244|0)+64>>2]=0;o[H+(W*244|0)+64+4>>2]=0;o[H+(W*244|0)+64+8>>2]=0;o[H+(W*244|0)+64+12>>2]=0;o[H+(W*244|0)+64+16>>2]=0;o[H+(W*244|0)+64+20>>2]=0;o[H+(W*244|0)+64+24>>2]=0;o[H+(W*244|0)+64+28>>2]=0;o[H+(W*244|0)+144>>2]=0;o[H+(W*244|0)+144+4>>2]=0;o[H+(W*244|0)+144+8>>2]=0;o[H+(W*244|0)+144+12>>2]=0;o[H+(W*244|0)+144+16>>2]=0;o[H+(W*244|0)+144+20>>2]=0;o[H+(W*244|0)+144+24>>2]=0;o[H+(W*244|0)+144+28>>2]=0;l[J+248>>2]=1.0/+l[u+12>>2];o[J+248+4>>2]=o[u+32>>2];o[J+248+8>>2]=p+(q*152|0)+16;o[J+248+12>>2]=N;o[J+248+16>>2]=p+(q*152|0)+48;o[J+248+20>>2]=p+(q*152|0)+32;o[J+248+24>>2]=38;o[J+248+28>>2]=p+(q*152|0)+112;O=p+(q*152|0)+116|0;o[O>>2]=o[u+40>>2];o[J+248+52>>2]=o[u+4>>2];o[J+248+32>>2]=O;o[J+248+36>>2]=p+(q*152|0)+120;o[J+248+40>>2]=p+(q*152|0)+124;o[J+248+48>>2]=o[u+20>>2];O=o[F>>2]|0;ck[o[(o[O>>2]|0)+20>>2]&127](O,J+248|0);if((o[X>>2]|0)>0){O=0;do{p=N+(O*152|0)+124|0;g=+l[(o[F>>2]|0)+16>>2];if(+l[p>>2]>=g)l[p>>2]=g;p=N+(O*152|0)+120|0;if(+l[p>>2]<=-g)l[p>>2]=-g;o[N+(O*152|0)+132>>2]=B;k=N+(O*152|0)|0;p=N+(O*152|0)+64|0;d=o[B+28>>2]|0;ht=+l[k>>2];lt=+l[k+4>>2];A=+l[k+8>>2];ut=(ht*+l[d+304>>2]+lt*+l[d+308>>2]+A*+l[d+312>>2])*+l[d+572>>2];g=(ht*+l[d+320>>2]+lt*+l[d+324>>2]+A*+l[d+328>>2])*+l[d+576>>2];l[p>>2]=(+l[d+288>>2]*ht+ +l[d+292>>2]*lt+ +l[d+296>>2]*A)*+l[d+568>>2];l[p+4>>2]=ut;l[p+8>>2]=g;l[p+12>>2]=0.0;p=N+(O*152|0)+32|0;d=N+(O*152|0)+80|0;D=o[B+32>>2]|0;g=+l[p>>2];ut=+l[p+4>>2];A=+l[p+8>>2];lt=(g*+l[D+304>>2]+ut*+l[D+308>>2]+A*+l[D+312>>2])*+l[D+572>>2];ht=(g*+l[D+320>>2]+ut*+l[D+324>>2]+A*+l[D+328>>2])*+l[D+576>>2];l[d>>2]=(+l[D+288>>2]*g+ +l[D+292>>2]*ut+ +l[D+296>>2]*A)*+l[D+568>>2];l[d+4>>2]=lt;l[d+8>>2]=ht;l[d+12>>2]=0.0;d=N+(O*152|0)+16|0;ht=+l[j+368>>2];lt=+l[d>>2];ut=+l[d+4>>2];g=+l[d+8>>2];v=+l[k>>2];y=+l[k+4>>2];x=+l[k+8>>2];k=N+(O*152|0)+48|0;pt=+l[U+368>>2];w=+l[k>>2];S=+l[k+4>>2];M=+l[k+8>>2];C=+l[p>>2];T=+l[p+4>>2];A=lt*(ht*lt)+ut*(ht*ut)+g*(ht*g)+(v*(+l[j+288>>2]*v+ +l[j+292>>2]*y+ +l[j+296>>2]*x)+y*(v*+l[j+304>>2]+y*+l[j+308>>2]+x*+l[j+312>>2])+x*(v*+l[j+320>>2]+y*+l[j+324>>2]+x*+l[j+328>>2]))+(w*(pt*w)+S*(pt*S)+M*(pt*M))+(C*(+l[U+288>>2]*C+ +l[U+292>>2]*T+ +l[U+296>>2]*A)+T*(C*+l[U+304>>2]+T*+l[U+308>>2]+A*+l[U+312>>2])+A*(C*+l[U+320>>2]+T*+l[U+324>>2]+A*+l[U+328>>2]));k=+G(+A)>1.1920928955078125e-07;A=k?1.0/A:0.0;l[N+(O*152|0)+108>>2]=A;if(!(o[H+(z*244|0)+240>>2]|0)){_=0;m=0;b=0;E=0;R=0;I=0}else{_=o[H+(z*244|0)+208>>2]|0;m=o[H+(z*244|0)+212>>2]|0;b=o[H+(z*244|0)+216>>2]|0;E=o[H+(z*244|0)+224>>2]|0;R=o[H+(z*244|0)+228>>2]|0;I=o[H+(z*244|0)+232>>2]|0}if(!(o[H+(W*244|0)+240>>2]|0)){e=0;n=0;L=0;P=0;D=0;k=0}else{e=o[H+(W*244|0)+208>>2]|0;n=o[H+(W*244|0)+212>>2]|0;L=o[H+(W*244|0)+216>>2]|0;P=o[H+(W*244|0)+224>>2]|0;D=o[H+(W*244|0)+228>>2]|0;k=o[H+(W*244|0)+232>>2]|0}ht=(o[f>>2]=_,+l[f>>2])+ +l[j+336>>2];ut=(o[f>>2]=m,+l[f>>2])+ +l[j+340>>2];ut=ht*+l[d>>2]+ut*+l[d+4>>2]+((o[f>>2]=b,+l[f>>2])+ +l[j+344>>2])*g;ht=(o[f>>2]=E,+l[f>>2])+ +l[j+352>>2];lt=(o[f>>2]=R,+l[f>>2])+ +l[j+356>>2];lt=ut+(ht*v+lt*y+((o[f>>2]=I,+l[f>>2])+ +l[j+360>>2])*x);ht=(o[f>>2]=e,+l[f>>2])+ +l[U+336>>2];ut=(o[f>>2]=n,+l[f>>2])+ +l[U+340>>2];ut=ht*w+ut*S+((o[f>>2]=L,+l[f>>2])+ +l[U+344>>2])*M;ht=(o[f>>2]=P,+l[f>>2])+ +l[U+352>>2];pt=(o[f>>2]=D,+l[f>>2])+ +l[U+356>>2];D=N+(O*152|0)+112|0;l[D>>2]=+l[D>>2]*A+A*(0.0-+l[J+248+52>>2]*(lt+(ut+(ht*C+pt*T+((o[f>>2]=k,+l[f>>2])+ +l[U+360>>2])*+l[p+8>>2]))));l[N+(O*152|0)+100>>2]=0.0;O=O+1|0}while((O|0)<(o[X>>2]|0))}p=o[t+176>>2]|0;d=o[p+(Y<<3)>>2]|0}Y=Y+1|0;if((Y|0)>=(c|0))break;else q=d+q|0}}Wk[o[(o[t>>2]|0)+28>>2]&127](t,r,s,u);b=o[t+48>>2]|0;e=o[t+28>>2]|0;n=o[t+68>>2]|0;d=o[t+128>>2]|0;if((d|0)<(b|0)?(o[t+132>>2]|0)<(b|0):0){if(!b)p=0;else{o[5637]=(o[5637]|0)+1;p=Jc((b<<2|3)+16|0)|0;if(!p)p=0;else{o[(p+4+15&-16)+-4>>2]=p;p=p+4+15&-16}d=o[t+128>>2]|0}m=o[t+136>>2]|0;if((d|0)<=0)if(!m)d=t+140|0;else Z=103;else{_=0;do{o[p+(_<<2)>>2]=o[m+(_<<2)>>2];_=_+1|0}while((_|0)!=(d|0));Z=103}if((Z|0)==103){if(i[t+140>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[m+-4>>2]|0)}o[t+136>>2]=0;d=t+140|0}i[d>>0]=1;o[t+136>>2]=p;o[t+132>>2]=b}o[t+128>>2]=b;if(!(o[u+64>>2]&16)){d=o[t+108>>2]|0;if((d|0)<(e|0)?(o[t+112>>2]|0)<(e|0):0){if(!e)p=0;else{o[5637]=(o[5637]|0)+1;p=Jc((e<<2|3)+16|0)|0;if(!p)p=0;else{o[(p+4+15&-16)+-4>>2]=p;p=p+4+15&-16}d=o[t+108>>2]|0}m=o[t+116>>2]|0;if((d|0)<=0)if(!m)d=t+120|0;else Z=133;else{_=0;do{o[p+(_<<2)>>2]=o[m+(_<<2)>>2];_=_+1|0}while((_|0)!=(d|0));Z=133}if((Z|0)==133){if(i[t+120>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[m+-4>>2]|0)}o[t+116>>2]=0;d=t+120|0}i[d>>0]=1;o[t+116>>2]=p;o[t+112>>2]=e}o[t+108>>2]=e}else{d=o[t+108>>2]|0;if((d|0)<(e<<1|0)?(o[t+112>>2]|0)<(e<<1|0):0){if(!e)p=0;else{o[5637]=(o[5637]|0)+1;p=Jc((e<<3|3)+16|0)|0;if(!p)p=0;else{o[(p+4+15&-16)+-4>>2]=p;p=p+4+15&-16}d=o[t+108>>2]|0}m=o[t+116>>2]|0;if((d|0)<=0)if(!m)d=t+120|0;else Z=118;else{_=0;do{o[p+(_<<2)>>2]=o[m+(_<<2)>>2];_=_+1|0}while((_|0)!=(d|0));Z=118}if((Z|0)==118){if(i[t+120>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[m+-4>>2]|0)}o[t+116>>2]=0;d=t+120|0}i[d>>0]=1;o[t+116>>2]=p;o[t+112>>2]=e<<1}o[t+108>>2]=e<<1}d=o[t+148>>2]|0;if((d|0)<(n|0)?(o[t+152>>2]|0)<(n|0):0){if(!n)p=0;else{o[5637]=(o[5637]|0)+1;p=Jc((n<<2|3)+16|0)|0;if(!p)p=0;else{o[(p+4+15&-16)+-4>>2]=p;p=p+4+15&-16}d=o[t+148>>2]|0}m=o[t+156>>2]|0;if((d|0)<=0)if(!m)d=t+160|0;else Z=148;else{_=0;do{o[p+(_<<2)>>2]=o[m+(_<<2)>>2];_=_+1|0}while((_|0)!=(d|0));Z=148}if((Z|0)==148){if(i[t+160>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[m+-4>>2]|0)}o[t+156>>2]=0;d=t+160|0}i[d>>0]=1;o[t+156>>2]=p;o[t+152>>2]=n}o[t+148>>2]=n;if((b|0)>0){p=o[t+136>>2]|0;d=0;do{o[p+(d<<2)>>2]=d;d=d+1|0}while((d|0)!=(b|0))}if((e|0)>0){p=o[t+116>>2]|0;d=0;do{o[p+(d<<2)>>2]=d;d=d+1|0}while((d|0)!=(e|0))}if((n|0)>0){p=o[t+156>>2]|0;d=0;do{o[p+(d<<2)>>2]=d;d=d+1|0}while((d|0)!=(n|0))}p=o[2006]|0;t=(o[p+16>>2]|0)+-1|0;o[p+16>>2]=t;if(t|0){h=J;return 0.0}do{if(o[p+4>>2]|0){fe(J+248|0,0)|0;t=o[5649]|0;l[p+8>>2]=+l[p+8>>2]+ +(((o[J+248+4>>2]|0)-(o[t+4>>2]|0)+(((o[J+248>>2]|0)-(o[t>>2]|0)|0)*1e6|0)-(o[p+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[p+16>>2]|0)){p=o[2006]|0;break}else{h=J;return 0.0}}}while(0);o[2006]=o[p+20>>2];h=J;return 0.0}function Ab(t,e,n,i,r,s,a,c,u){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;s=s|0;a=a|0;c=c|0;u=u|0;var p=0,f=0,d=0;d=h;h=h+16|0;Wh(15561);Ak[o[(o[t>>2]|0)+32>>2]&1](t,e,n,i,r,s,a,c,u);f=o[t+184>>2]|0;p=o[c+20>>2]|0;p=(f|0)>(p|0)?f:p;if((p|0)>0){f=0;do{+Ik[o[(o[t>>2]|0)+40>>2]&3](t,f,e,n,i,r,s,a,c,u);f=f+1|0}while((f|0)<(p|0))}p=o[2006]|0;t=(o[p+16>>2]|0)+-1|0;o[p+16>>2]=t;if(t|0){h=d;return 0.0}do{if(o[p+4>>2]|0){fe(d|0,0)|0;t=o[5649]|0;l[p+8>>2]=+l[p+8>>2]+ +(((o[d+4>>2]|0)-(o[t+4>>2]|0)+(((o[d>>2]|0)-(o[t>>2]|0)|0)*1e6|0)-(o[p+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[p+16>>2]|0)){p=o[2006]|0;break}else{h=d;return 0.0}}}while(0);o[2006]=o[p+20>>2];h=d;return 0.0}function Lb(t){t=t|0;o[t>>2]=7188;if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function Eb(t,e){t=t|0;e=e|0;var n=0,r=0.0,s=0.0,a=0.0,c=0,u=0.0,h=0.0;if(i[t+48>>0]|0){o[e>>2]=0;o[e+4>>2]=0;return}o[e>>2]=4;o[e+4>>2]=2;Rb(t,(o[t+28>>2]|0)+4|0,(o[t+32>>2]|0)+4|0);l[t+1088>>2]=0.0;i[t+297>>0]=0;r=+l[t+192>>2];s=+l[t+196>>2];do{if(r<=s){h=+l[t+892>>2];u=+l[t+908>>2];a=+l[t+924>>2];a=+ZA(+K(+(+l[t+832>>2]*h+ +l[t+848>>2]*u+ +l[t+864>>2]*a),+(+l[t+828>>2]*h+ +l[t+844>>2]*u+ +l[t+860>>2]*a)),r,s);l[t+1084>>2]=a;if(a<r){l[t+1088>>2]=a-r;i[t+297>>0]=1;c=1;break}if(a>s){l[t+1088>>2]=a-s;i[t+297>>0]=1;c=1}else c=0}else c=0}while(0);i[t+296>>0]=0;n=o[t+1032>>2]|0;o[t+1080>>2]=n;r=+l[t+184>>2];s=+l[t+188>>2];a=(o[f>>2]=n,+l[f>>2]);do{if(r<=s){if(a>s){l[t+1032>>2]=a-s;i[t+296>>0]=1;n=14;break}if(a<r){l[t+1032>>2]=a-r;i[t+296>>0]=1;n=14}else n=13}else n=13}while(0);if((n|0)==13?(l[t+1032>>2]=0.0,i[t+1096>>0]|0):0)n=14;if((n|0)==14){o[e>>2]=(o[e>>2]|0)+1;o[e+4>>2]=(o[e+4>>2]|0)+-1}if(c<<24>>24==0?(i[t+1112>>0]|0)==0:0)return;o[e>>2]=(o[e>>2]|0)+1;o[e+4>>2]=(o[e+4>>2]|0)+-1;return}function Rb(t,e,n){t=t|0;e=e|0;n=n|0;var r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0,p=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0,I=0;if((i[t+180>>0]|0)==0?(i[t+48>>0]|0)!=0:0){w=+l[t+116>>2];a=+l[n>>2];S=+l[t+132>>2];L=+l[n+4>>2];M=+l[t+148>>2];E=+l[n+8>>2];u=+l[t+120>>2];p=+l[t+136>>2];_=+l[t+152>>2];m=+l[t+124>>2];b=+l[t+140>>2];v=+l[t+156>>2];c=+l[n+16>>2];h=+l[n+20>>2];d=+l[n+24>>2];g=+l[n+32>>2];C=+l[n+36>>2];T=+l[n+40>>2];s=+l[t+164>>2];r=+l[t+168>>2];x=+l[t+172>>2];y=+l[n+48>>2]+(a*s+L*r+E*x);A=c*s+h*r+d*x+ +l[n+52>>2];x=g*s+C*r+T*x+ +l[n+56>>2];l[t+824>>2]=w*a+S*L+M*E;l[t+828>>2]=a*u+L*p+E*_;l[t+832>>2]=a*m+L*b+E*v;l[t+836>>2]=0.0;l[t+840>>2]=w*c+S*h+M*d;l[t+844>>2]=u*c+p*h+_*d;l[t+848>>2]=m*c+b*h+v*d;l[t+852>>2]=0.0;l[t+856>>2]=w*g+S*C+M*T;l[t+860>>2]=u*g+p*C+_*T;l[t+864>>2]=m*g+b*C+v*T;l[t+868>>2]=0.0;l[t+872>>2]=y;l[t+876>>2]=A;l[t+880>>2]=x;l[t+884>>2]=0.0;x=+l[t+52>>2];A=+l[e>>2];y=+l[t+68>>2];T=+l[e+4>>2];v=+l[t+84>>2];C=+l[e+8>>2];b=+l[t+56>>2];g=+l[t+72>>2];m=+l[t+88>>2];_=+l[t+60>>2];p=+l[t+76>>2];u=+l[t+92>>2];M=+l[e+16>>2];S=+l[e+20>>2];w=+l[e+24>>2];d=+l[e+32>>2];h=+l[e+36>>2];c=+l[e+40>>2];E=+l[t+100>>2];L=+l[t+104>>2];a=+l[t+108>>2];r=+l[e+48>>2]+(A*E+T*L+C*a);s=M*E+S*L+w*a+ +l[e+52>>2];a=d*E+h*L+c*a+ +l[e+56>>2];l[t+888>>2]=x*A+y*T+v*C;l[t+892>>2]=A*b+T*g+C*m;l[t+896>>2]=A*_+T*p+C*u;l[t+900>>2]=0.0;l[t+904>>2]=x*M+y*S+v*w;l[t+908>>2]=b*M+g*S+m*w;l[t+912>>2]=_*M+p*S+u*w;l[t+916>>2]=0.0;l[t+920>>2]=x*d+y*h+v*c;l[t+924>>2]=b*d+g*h+m*c;l[t+928>>2]=_*d+p*h+u*c;l[t+932>>2]=0.0;l[t+936>>2]=r;l[t+940>>2]=s;l[t+944>>2]=a;l[t+948>>2]=0.0;e=t+856|0;n=t+840|0}else{d=+l[t+52>>2];E=+l[e>>2];p=+l[t+68>>2];s=+l[e+4>>2];h=+l[t+84>>2];r=+l[e+8>>2];C=+l[t+56>>2];S=+l[t+72>>2];x=+l[t+88>>2];y=+l[t+60>>2];b=+l[t+76>>2];g=+l[t+92>>2];T=+l[e+16>>2];M=+l[e+20>>2];w=+l[e+24>>2];v=+l[e+32>>2];u=+l[e+36>>2];c=+l[e+40>>2];L=+l[t+100>>2];A=+l[t+104>>2];_=+l[t+108>>2];m=+l[e+48>>2]+(E*L+s*A+r*_);a=T*L+M*A+w*_+ +l[e+52>>2];_=v*L+u*A+c*_+ +l[e+56>>2];l[t+824>>2]=d*E+p*s+h*r;l[t+828>>2]=E*C+s*S+r*x;l[t+832>>2]=E*y+s*b+r*g;l[t+836>>2]=0.0;l[t+840>>2]=d*T+p*M+h*w;l[t+844>>2]=C*T+S*M+x*w;l[t+848>>2]=y*T+b*M+g*w;l[t+852>>2]=0.0;l[t+856>>2]=d*v+p*u+h*c;l[t+860>>2]=C*v+S*u+x*c;l[t+864>>2]=y*v+b*u+g*c;l[t+868>>2]=0.0;l[t+872>>2]=m;l[t+876>>2]=a;l[t+880>>2]=_;l[t+884>>2]=0.0;_=+l[t+116>>2];a=+l[n>>2];m=+l[t+132>>2];c=+l[n+4>>2];g=+l[t+148>>2];u=+l[n+8>>2];b=+l[t+120>>2];v=+l[t+136>>2];y=+l[t+152>>2];x=+l[t+124>>2];S=+l[t+140>>2];C=+l[t+156>>2];h=+l[n+16>>2];p=+l[n+20>>2];d=+l[n+24>>2];w=+l[n+32>>2];M=+l[n+36>>2];T=+l[n+40>>2];r=+l[t+164>>2];s=+l[t+168>>2];E=+l[t+172>>2];A=+l[n+48>>2]+(a*r+c*s+u*E);L=h*r+p*s+d*E+ +l[n+52>>2];E=w*r+M*s+T*E+ +l[n+56>>2];l[t+888>>2]=_*a+m*c+g*u;l[t+892>>2]=a*b+c*v+u*y;l[t+896>>2]=a*x+c*S+u*C;l[t+900>>2]=0.0;l[t+904>>2]=_*h+m*p+g*d;l[t+908>>2]=b*h+v*p+y*d;l[t+912>>2]=x*h+S*p+C*d;l[t+916>>2]=0.0;l[t+920>>2]=_*w+m*M+g*T;l[t+924>>2]=b*w+v*M+y*T;l[t+928>>2]=x*w+S*M+C*T;l[t+932>>2]=0.0;l[t+936>>2]=A;l[t+940>>2]=L;l[t+944>>2]=E;l[t+948>>2]=0.0;e=t+856|0;n=t+840|0}o[t+968>>2]=o[t+872>>2];o[t+968+4>>2]=o[t+872+4>>2];o[t+968+8>>2]=o[t+872+8>>2];o[t+968+12>>2]=o[t+872+12>>2];o[t+984>>2]=o[t+936>>2];o[t+984+4>>2]=o[t+936+4>>2];o[t+984+8>>2]=o[t+936+8>>2];o[t+984+12>>2]=o[t+936+12>>2];I=o[t+824>>2]|0;R=o[n>>2]|0;n=o[e>>2]|0;o[t+952>>2]=I;o[t+956>>2]=R;o[t+960>>2]=n;l[t+964>>2]=0.0;r=(o[f>>2]=I,+l[f>>2]);s=(o[f>>2]=R,+l[f>>2]);a=(o[f>>2]=n,+l[f>>2]);if((i[t+180>>0]|0)==0?(i[t+48>>0]|0)==0:0){y=+l[t+968>>2];T=y-+l[t+984>>2];x=+l[t+972>>2];L=x-+l[t+988>>2];w=+l[t+976>>2];E=w-+l[t+992>>2];l[t+1016>>2]=T;l[t+1020>>2]=L;l[t+1024>>2]=E;l[t+1028>>2]=0.0;A=r*T;S=s*L;S=A+S;A=a*E;A=S+A;S=r*A;M=s*A;C=a*A;S=y+S;M=x+M;C=w+C;I=t+1e3|0;l[I>>2]=S;I=t+1004|0;l[I>>2]=M;I=t+1008|0;l[I>>2]=C;I=t+1012|0;l[I>>2]=0.0;I=t+1032|0;l[I>>2]=A;I=t+828|0;R=t+844|0;n=t+860|0;A=+l[I>>2];C=+l[R>>2];M=+l[n>>2];A=A*T;C=C*L;C=A+C;M=M*E;M=C+M;n=t+1036|0;l[n>>2]=M;n=t+832|0;R=t+848|0;I=t+864|0;M=+l[n>>2];C=+l[R>>2];A=+l[I>>2];T=M*T;L=C*L;L=T+L;E=A*E;E=L+E;I=t+1040|0;l[I>>2]=E;return}y=+l[t+968>>2];T=+l[t+984>>2]-y;x=+l[t+972>>2];L=+l[t+988>>2]-x;w=+l[t+976>>2];E=+l[t+992>>2]-w;l[t+1016>>2]=T;l[t+1020>>2]=L;l[t+1024>>2]=E;l[t+1028>>2]=0.0;A=r*T;S=s*L;S=A+S;A=a*E;A=S+A;S=r*A;M=s*A;C=a*A;S=y+S;M=x+M;C=w+C;I=t+1e3|0;l[I>>2]=S;I=t+1004|0;l[I>>2]=M;I=t+1008|0;l[I>>2]=C;I=t+1012|0;l[I>>2]=0.0;I=t+1032|0;l[I>>2]=A;I=t+828|0;R=t+844|0;n=t+860|0;A=+l[I>>2];C=+l[R>>2];M=+l[n>>2];A=A*T;C=C*L;C=A+C;M=M*E;M=C+M;n=t+1036|0;l[n>>2]=M;n=t+832|0;R=t+848|0;I=t+864|0;M=+l[n>>2];C=+l[R>>2];A=+l[I>>2];T=M*T;L=C*L;L=T+L;E=A*E;E=L+E;I=t+1040|0;l[I>>2]=E;return}function Ib(t,e){t=t|0;e=e|0;var n=0.0,s=0,a=0.0,c=0,u=0.0,p=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0,y=0.0,x=0.0,w=0.0,S=0,M=0,C=0,T=0,A=0.0,L=0.0,E=0,R=0,I=0.0,P=0.0,D=0,k=0.0,O=0,N=0,F=0,B=0,j=0,U=0,z=0,W=0,H=0,X=0,q=0,Y=0.0,Z=0.0,J=0.0,K=0,$=0.0,Q=0.0,tt=0.0,nt=0,it=0,rt=0.0,ot=0,st=0,at=0.0,ct=0.0;st=h;h=h+16|0;it=o[t+28>>2]|0;ot=o[t+32>>2]|0;$=+l[it+368>>2];Q=+l[ot+368>>2];K=o[e+24>>2]|0;rt=i[t+180>>0]|0?1.0:-1.0;Y=+l[t+936>>2]-+l[t+872>>2];Z=+l[t+940>>2]-+l[t+876>>2];J=+l[t+944>>2]-+l[t+880>>2];tt=$+Q>0.0?Q/($+Q):.5;D=o[t+824>>2]|0;O=o[t+840>>2]|0;N=o[t+856>>2]|0;F=o[t+888>>2]|0;B=o[t+904>>2]|0;j=o[t+920>>2]|0;U=(i[t+49>>0]|0)==0;if(U){M=o[t+828>>2]|0;c=o[t+844>>2]|0;v=o[t+860>>2]|0;o[st+4>>2]=c;S=o[t+832>>2]|0;E=o[t+848>>2]|0;nt=o[t+864>>2]|0;o[st>>2]=S;w=(o[f>>2]=v,+l[f>>2]);x=(o[f>>2]=S,+l[f>>2]);m=(o[f>>2]=E,+l[f>>2]);R=nt;y=(o[f>>2]=nt,+l[f>>2]);nt=D;C=O;T=N}else{n=tt*(o[f>>2]=D,+l[f>>2]);p=tt*(o[f>>2]=O,+l[f>>2]);u=tt*(o[f>>2]=N,+l[f>>2]);a=(1.0-tt)*(o[f>>2]=F,+l[f>>2]);d=(1.0-tt)*(o[f>>2]=B,+l[f>>2]);u=u+(1.0-tt)*(o[f>>2]=j,+l[f>>2]);_=1.0/+V(+((n+a)*(n+a)+(p+d)*(p+d)+u*u));M=(l[f>>2]=(n+a)*_,o[f>>2]|0);C=(l[f>>2]=(p+d)*_,o[f>>2]|0);T=(l[f>>2]=u*_,o[f>>2]|0);if(+G(+(u*_))>.7071067690849304){k=1.0/+V(+(u*_*(u*_)+(p+d)*_*((p+d)*_)));l[st+4>>2]=-(u*_*k);m=-((n+a)*_*((p+d)*_*k));g=(n+a)*_*-(u*_*k);a=(u*_*(u*_)+(p+d)*_*((p+d)*_))*k;n=(p+d)*_*k;s=0}else{g=(n+a)*_*((n+a)*_)+(p+d)*_*((p+d)*_);k=1.0/+V(+g);s=(l[f>>2]=-((p+d)*_*k),o[f>>2]|0);l[st+4>>2]=(n+a)*_*k;m=u*_*-((p+d)*_*k);g=g*k;a=-(u*_*((n+a)*_*k));n=0.0}v=(l[f>>2]=n,o[f>>2]|0);S=(l[f>>2]=a,o[f>>2]|0);l[st>>2]=a;E=(l[f>>2]=m,o[f>>2]|0);c=o[st+4>>2]|0;R=(l[f>>2]=g,o[f>>2]|0);w=n;x=a;y=g;nt=M;M=s}s=o[e+12>>2]|0;o[s>>2]=M;o[s+4>>2]=c;o[s+8>>2]=v;o[s+(K<<2)>>2]=S;o[s+(K+1<<2)>>2]=E;o[s+(K+2<<2)>>2]=R;g=(o[f>>2]=M,+l[f>>2]);s=o[e+20>>2]|0;l[s>>2]=-g;b=+l[st+4>>2];l[s+4>>2]=-b;l[s+8>>2]=-w;l[s+(K<<2)>>2]=-x;l[s+(K+1<<2)>>2]=-m;l[s+(K+2<<2)>>2]=-y;s=o[t+300>>2]|0;n=+l[t+280>>2];if(!(s&128))n=n*+l[e+4>>2];d=n*+l[e>>2];P=(o[f>>2]=O,+l[f>>2]);A=(o[f>>2]=j,+l[f>>2]);_=(o[f>>2]=N,+l[f>>2]);I=(o[f>>2]=B,+l[f>>2]);k=(o[f>>2]=F,+l[f>>2]);L=(o[f>>2]=D,+l[f>>2]);q=o[e+28>>2]|0;l[q>>2]=d*((P*A-_*I)*g+(_*k-L*A)*b+(L*I-P*k)*w);l[q+(K<<2)>>2]=d*((P*A-_*I)*x+(_*k-L*A)*m+(L*I-P*k)*y);if(s&64|0){q=o[e+32>>2]|0;o[q>>2]=o[t+292>>2];o[q+(K<<2)>>2]=o[t+292>>2]}p=+l[it+52>>2];d=+l[it+56>>2];_=+l[it+60>>2];n=+l[ot+52>>2];a=+l[ot+56>>2];u=+l[ot+60>>2];if(U){W=(l[f>>2]=a-d,o[f>>2]|0);P=(a-d)*w-(u-_)*b;k=(u-_)*g-(n-p)*w;U=o[e+12>>2]|0;l[U+(K<<1<<2)>>2]=tt*P;l[U+((K<<1|1)<<2)>>2]=tt*k;l[U+((K<<1)+2<<2)>>2]=tt*((n-p)*b-(a-d)*g);U=(l[f>>2]=n-p,o[f>>2]|0);z=(l[f>>2]=u-_,o[f>>2]|0);H=o[e+20>>2]|0;l[H+(K<<1<<2)>>2]=(1.0-tt)*P;l[H+((K<<1|1)<<2)>>2]=(1.0-tt)*k;l[H+((K<<1)+2<<2)>>2]=(1.0-tt)*((n-p)*b-(a-d)*g);k=(a-d)*y-(u-_)*m;u=(u-_)*x-(n-p)*y;_=(n-p)*m-(a-d)*x;H=o[e+12>>2]|0;l[H+(K*3<<2)>>2]=tt*k;l[H+((K*3|0)+1<<2)>>2]=tt*u;l[H+((K*3|0)+2<<2)>>2]=tt*_;H=o[e+20>>2]|0;l[H+(K*3<<2)>>2]=(1.0-tt)*k;l[H+((K*3|0)+1<<2)>>2]=(1.0-tt)*u;l[H+((K*3|0)+2<<2)>>2]=(1.0-tt)*_;O=o[e+8>>2]|0;o[O+(K<<1<<2)>>2]=M;l[O+((K<<1|1)<<2)>>2]=b;l[O+((K<<1)+2<<2)>>2]=w;O=o[e+8>>2]|0;B=o[st>>2]|0;o[O+(K*3<<2)>>2]=B;o[O+((K*3|0)+1<<2)>>2]=E;o[O+((K*3|0)+2<<2)>>2]=R;j=o[e+16>>2]|0;l[j+(K<<1<<2)>>2]=-g;_=+l[st+4>>2];l[j+((K<<1|1)<<2)>>2]=-_;l[j+((K<<1)+2<<2)>>2]=-w;j=o[e+16>>2]|0;p=(o[f>>2]=B,+l[f>>2]);l[j+(K*3<<2)>>2]=-p;u=(o[f>>2]=E,+l[f>>2]);l[j+((K*3|0)+1<<2)>>2]=-u;a=(o[f>>2]=R,+l[f>>2]);l[j+((K*3|0)+2<<2)>>2]=-a;d=w;B=0;F=0;N=0;v=0;c=0;s=0}else{ct=+l[t+936>>2]-n;at=+l[t+940>>2]-a;I=+l[t+944>>2]-u;g=(o[f>>2]=nt,+l[f>>2]);b=(o[f>>2]=C,+l[f>>2]);m=(o[f>>2]=T,+l[f>>2]);P=+l[t+872>>2]-p;k=+l[t+876>>2]-d;u=+l[t+880>>2]-_;d=+l[t+1080>>2]-+l[t+1032>>2];y=g*(g*P+b*k+m*u)+g*d-g*(g*ct+b*at+m*I);x=b*(g*P+b*k+m*u)+b*d-b*(g*ct+b*at+m*I);d=m*(g*P+b*k+m*u)+m*d-m*(g*ct+b*at+m*I);A=P-g*(g*P+b*k+m*u)+tt*y;w=k-b*(g*P+b*k+m*u)+tt*x;L=u-m*(g*P+b*k+m*u)+tt*d;B=(l[f>>2]=A,o[f>>2]|0);F=(l[f>>2]=w,o[f>>2]|0);N=(l[f>>2]=L,o[f>>2]|0);y=ct-g*(g*ct+b*at+m*I)-(1.0-tt)*y;x=at-b*(g*ct+b*at+m*I)-(1.0-tt)*x;d=I-m*(g*ct+b*at+m*I)-(1.0-tt)*d;v=(l[f>>2]=y,o[f>>2]|0);S=(l[f>>2]=x,o[f>>2]|0);M=(l[f>>2]=d,o[f>>2]|0);a=tt*(ct-g*(g*ct+b*at+m*I))+(1.0-tt)*(P-g*(g*P+b*k+m*u));n=tt*(at-b*(g*ct+b*at+m*I))+(1.0-tt)*(k-b*(g*P+b*k+m*u));u=tt*(I-m*(g*ct+b*at+m*I))+(1.0-tt)*(u-m*(g*P+b*k+m*u));l[st+4>>2]=n;if(u*u+(a*a+n*n)>1.1920928955078125e-07){ct=1.0/+V(+(u*u+(a*a+n*n)));c=(l[f>>2]=a*ct,o[f>>2]|0);l[st+4>>2]=ct*n;k=ct*u;p=ct*n;n=a*ct;s=(l[f>>2]=ct*u,o[f>>2]|0)}else{c=o[t+828>>2]|0;q=o[t+844>>2]|0;s=o[t+860>>2]|0;o[st+4>>2]=q;k=(o[f>>2]=s,+l[f>>2]);p=(o[f>>2]=q,+l[f>>2]);n=(o[f>>2]=c,+l[f>>2])}I=b*k-m*p;P=m*n-g*k;m=g*p-b*n;l[st>>2]=I;q=(o[e+12>>2]|0)+(K<<1<<2)|0;l[q>>2]=w*k-L*p;l[q+4>>2]=L*n-A*k;l[q+8>>2]=A*p-w*n;q=o[e+20>>2]|0;l[q+(K<<1<<2)>>2]=-(x*k-d*p);l[q+((K<<1|1)<<2)>>2]=-(d*n-y*k);l[q+((K<<1)+2<<2)>>2]=-(y*p-x*n);if($<1.1920928955078125e-07|Q<1.1920928955078125e-07?(i[t+297>>0]|0)!=0:0){_=(1.0-tt)*(x*m-d*P);d=(1.0-tt)*(d*I-y*m);u=(1.0-tt)*(y*P-x*I);p=tt*(w*m-L*P);a=tt*(A*P-w*I);n=tt*(L*I-A*m)}else{_=x*m-d*P;d=d*I-y*m;u=y*P-x*I;p=w*m-L*P;a=A*P-w*I;n=L*I-A*m}H=(o[e+12>>2]|0)+(K*3<<2)|0;l[H>>2]=p;l[H+4>>2]=n;l[H+8>>2]=a;H=o[e+20>>2]|0;l[H+(K*3<<2)>>2]=-_;l[H+((K*3|0)+1<<2)>>2]=-d;l[H+((K*3|0)+2<<2)>>2]=-u;O=o[e+8>>2]|0;o[O+(K<<1<<2)>>2]=c;o[O+((K<<1|1)<<2)>>2]=o[st+4>>2];o[O+((K<<1)+2<<2)>>2]=s;O=o[e+8>>2]|0;l[O+(K*3<<2)>>2]=I;l[O+((K*3|0)+1<<2)>>2]=P;l[O+((K*3|0)+2<<2)>>2]=m;j=o[e+16>>2]|0;g=(o[f>>2]=c,+l[f>>2]);l[j+(K<<1<<2)>>2]=-g;_=+l[st+4>>2];l[j+((K<<1|1)<<2)>>2]=-_;l[j+((K<<1)+2<<2)>>2]=-k;j=o[e+16>>2]|0;l[j+(K*3<<2)>>2]=-I;l[j+((K*3|0)+1<<2)>>2]=-P;l[j+((K*3|0)+2<<2)>>2]=-m;d=k;p=I;u=P;a=m;U=0;z=0;W=0;c=S;s=M}X=o[t+300>>2]|0;n=+l[t+264>>2];if(!(X&32))n=n*+l[e+4>>2];ct=n*+l[e>>2];q=o[e+28>>2]|0;l[q+(K<<1<<2)>>2]=ct*(Y*g+Z*_+J*d);l[q+(K*3<<2)>>2]=ct*(Y*p+Z*u+J*a);if(X&16|0){D=o[e+32>>2]|0;o[D+(K<<1<<2)>>2]=o[t+276>>2];o[D+(K*3<<2)>>2]=o[t+276>>2]}D=r[t+296>>1]|0;if(!((D&255)<<24>>24)){R=0;y=0.0}else{y=rt*+l[t+1032>>2];R=y>0.0?2:1}S=i[t+1096>>0]|0;M=(R|0)!=0;if(S&255|R){E=o[e+24>>2]<<2;o[O+(E<<2)>>2]=nt;o[O+((E|1)<<2)>>2]=C;o[O+((E|2)<<2)>>2]=T;m=(o[f>>2]=nt,+l[f>>2]);l[j+(E<<2)>>2]=-m;g=(o[f>>2]=C,+l[f>>2]);l[j+((E|1)<<2)>>2]=-g;b=(o[f>>2]=T,+l[f>>2]);l[j+((E|2)<<2)>>2]=-b;if(i[t+49>>0]|0){if(!($<1.1920928955078125e-07|Q<1.1920928955078125e-07)){Q=(o[f>>2]=F,+l[f>>2]);J=(o[f>>2]=N,+l[f>>2]);$=(o[f>>2]=B,+l[f>>2]);ct=(o[f>>2]=c,+l[f>>2]);tt=(o[f>>2]=s,+l[f>>2]);at=(o[f>>2]=v,+l[f>>2]);K=o[e+12>>2]|0;l[K+(E<<2)>>2]=b*Q-g*J;l[K+((E|1)<<2)>>2]=m*J-b*$;l[K+((E|2)<<2)>>2]=g*$-m*Q;l[H+(E<<2)>>2]=-(b*ct-g*tt);l[H+((E|1)<<2)>>2]=-(m*tt-b*at);l[H+((E|2)<<2)>>2]=-(g*at-m*ct)}}else{ct=(o[f>>2]=W,+l[f>>2]);Q=(o[f>>2]=z,+l[f>>2]);at=(o[f>>2]=U,+l[f>>2]);K=o[e+12>>2]|0;l[K+(E<<2)>>2]=tt*(b*ct-g*Q);l[K+((E|1)<<2)>>2]=tt*(m*Q-b*at);l[K+((E|2)<<2)>>2]=tt*(g*at-m*ct);l[H+(E<<2)>>2]=(1.0-tt)*(b*ct-g*Q);l[H+((E|1)<<2)>>2]=(1.0-tt)*(m*Q-b*at);l[H+((E|2)<<2)>>2]=(1.0-tt)*(g*at-m*ct)}s=+l[t+184>>2]==+l[t+188>>2];l[q+(E<<2)>>2]=0.0;c=(o[e+36>>2]|0)+(E<<2)|0;l[c>>2]=0.0;v=(o[e+40>>2]|0)+(E<<2)|0;l[v>>2]=0.0;_=+l[((X&512|0)==0?e+4|0:t+232|0)>>2];if(!(S<<24>>24==0|M&s)){if(X&1|0)o[(o[e+32>>2]|0)+(E<<2)>>2]=o[t+212>>2];d=+l[t+1100>>2];n=+l[t+1080>>2];a=+l[t+184>>2];u=+l[t+188>>2];p=_*+l[e>>2];do{if(!(a>u))if(!(a==u)){if(d/p<0.0)if(n>=a?a-d/p>n:0){n=(a-n)/(d/p);break}else{n=n<a?0.0:1.0;break}if(d/p>0.0)if(n<=u?u-d/p<n:0){n=(u-n)/(d/p);break}else{n=n>u?0.0:1.0;break}else n=0.0}else n=0.0;else n=1.0}while(0);l[q+(E<<2)>>2]=+l[q+(E<<2)>>2]-rt*n*d;l[c>>2]=-+l[t+1104>>2]/+l[e>>2]+ +l[c>>2];l[v>>2]=+l[t+1104>>2]/+l[e>>2]+ +l[v>>2]}if(M){l[q+(E<<2)>>2]=+l[q+(E<<2)>>2]+y*(_*+l[e>>2]);if(X&256|0)o[(o[e+32>>2]|0)+(E<<2)>>2]=o[t+244>>2];do{if(!s)if((R|0)==1){l[c>>2]=-3402823466385288598117041.0e14;l[v>>2]=0.0;break}else{l[c>>2]=0.0;l[v>>2]=3402823466385288598117041.0e14;break}else{l[c>>2]=-3402823466385288598117041.0e14;l[v>>2]=3402823466385288598117041.0e14}}while(0);ct=1.0-+l[t+240>>2];a=+G(+ct);do{if(!(ct!=ct|0.0!=0.0|ct==0.0)){n=rt*(m*+l[it+336>>2]+g*+l[it+340>>2]+b*+l[it+344>>2]-(m*+l[ot+336>>2]+g*+l[ot+340>>2]+b*+l[ot+344>>2]));if((R|0)==1){if(!(n<0.0))break;if(!(+l[q+(E<<2)>>2]<-(a*n)))break;l[q+(E<<2)>>2]=-(a*n);break}else{if(!(n>0.0))break;if(!(+l[q+(E<<2)>>2]>-(a*n)))break;l[q+(E<<2)>>2]=-(a*n);break}}}while(0);l[q+(E<<2)>>2]=+l[t+232>>2]*+l[q+(E<<2)>>2];s=5}else s=5}else s=4;if((D&65535)<256){M=0;x=0.0}else{x=+l[t+1088>>2];M=x>0.0?1:2}c=i[t+1112>>0]|0;v=(M|0)!=0;if(!(c&255|M)){h=st;return}S=et(o[e+24>>2]|0,s)|0;ot=o[e+12>>2]|0;o[ot+(S<<2)>>2]=nt;o[ot+(S+1<<2)>>2]=C;o[ot+(S+2<<2)>>2]=T;w=(o[f>>2]=nt,+l[f>>2]);l[H+(S<<2)>>2]=-w;y=(o[f>>2]=C,+l[f>>2]);l[H+(S+1<<2)>>2]=-y;b=(o[f>>2]=T,+l[f>>2]);l[H+(S+2<<2)>>2]=-b;_=+l[t+192>>2];m=+l[t+196>>2];g=+l[((X&2048|0)==0?e+4|0:t+248|0)>>2];if(!(c<<24>>24==0|v&_==m)){if(!(X&4)){u=_;p=m}else{o[(o[e+32>>2]|0)+(S<<2)>>2]=o[t+228>>2];u=+l[t+192>>2];p=+l[t+196>>2]}n=+l[t+1084>>2];d=+l[t+1116>>2];a=g*+l[e>>2];do{if(!(u>p))if(!(u==p)){if(d/a<0.0)if(n>=u?u-d/a>n:0){n=(u-n)/(d/a);break}else{n=n<u?0.0:1.0;break}if(d/a>0.0)if(n<=p?p-d/a<n:0){n=(p-n)/(d/a);break}else{n=n>p?0.0:1.0;break}else n=0.0}else n=0.0;else n=1.0}while(0);l[q+(S<<2)>>2]=n*d;l[(o[e+36>>2]|0)+(S<<2)>>2]=-+l[t+1120>>2]/+l[e>>2];l[(o[e+40>>2]|0)+(S<<2)>>2]=+l[t+1120>>2]/+l[e>>2]}if(!v){h=st;return}l[q+(S<<2)>>2]=+l[q+(S<<2)>>2]+x*(g*+l[e>>2]);if(X&1024|0)o[(o[e+32>>2]|0)+(S<<2)>>2]=o[t+260>>2];do{if(!(_==m)){c=(o[e+36>>2]|0)+(S<<2)|0;s=o[e+40>>2]|0;if((M|0)==1){l[c>>2]=0.0;l[s+(S<<2)>>2]=3402823466385288598117041.0e14;break}else{l[c>>2]=-3402823466385288598117041.0e14;l[s+(S<<2)>>2]=0.0;break}}else{l[(o[e+36>>2]|0)+(S<<2)>>2]=-3402823466385288598117041.0e14;l[(o[e+40>>2]|0)+(S<<2)>>2]=3402823466385288598117041.0e14}}while(0);ct=1.0-+l[t+256>>2];a=+G(+ct);do{if(!(ct!=ct|0.0!=0.0|ct==0.0)){ot=o[t+28>>2]|0;e=o[t+32>>2]|0;n=w*+l[ot+352>>2]+y*+l[ot+356>>2]+b*+l[ot+360>>2]-(w*+l[e+352>>2]+y*+l[e+356>>2]+b*+l[e+360>>2]);if((M|0)==1){if(!(n<0.0))break;if(!(+l[q+(S<<2)>>2]<-(a*n)))break;l[q+(S<<2)>>2]=-(a*n);break}else{if(!(n>0.0))break;if(!(+l[q+(S<<2)>>2]>-(a*n)))break;l[q+(S<<2)>>2]=-(a*n);break}}}while(0);l[q+(S<<2)>>2]=+l[t+248>>2]*+l[q+(S<<2)>>2];h=st;return}function Pb(t,e,n,i){t=t|0;e=e|0;n=+n;i=i|0;switch(e|0){case 2:{if((i|0)<1){l[t+232>>2]=n;o[t+300>>2]=o[t+300>>2]|512;return}if((i|0)<3){l[t+264>>2]=n;o[t+300>>2]=o[t+300>>2]|32;return}if((i|0)==3){l[t+248>>2]=n;o[t+300>>2]=o[t+300>>2]|2048;return}if((i|0)>=6)return;l[t+280>>2]=n;o[t+300>>2]=o[t+300>>2]|128;return}case 3:{if((i|0)<1){l[t+212>>2]=n;o[t+300>>2]=o[t+300>>2]|1;return}if((i|0)!=3)return;l[t+228>>2]=n;o[t+300>>2]=o[t+300>>2]|4;return}case 4:{if((i|0)<1){l[t+244>>2]=n;o[t+300>>2]=o[t+300>>2]|256;return}if((i|0)<3){l[t+276>>2]=n;o[t+300>>2]=o[t+300>>2]|16;return}if((i|0)==3){l[t+260>>2]=n;o[t+300>>2]=o[t+300>>2]|1024;return}if((i|0)>=6)return;l[t+292>>2]=n;o[t+300>>2]=o[t+300>>2]|64;return}default:return}}function Db(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0;t:do{switch(e|0){case 2:{if((n|0)<1){i=+l[t+232>>2];break t}if((n|0)<3){i=+l[t+264>>2];break t}if((n|0)==3){i=+l[t+248>>2];break t}if((n|0)<6)i=+l[t+280>>2];else i=3402823466385288598117041.0e14;break}case 3:{if((n|0)<1){i=+l[t+212>>2];break t}if((n|0)==3)i=+l[t+228>>2];else i=3402823466385288598117041.0e14;break}case 4:{if((n|0)<1){i=+l[t+244>>2];break t}if((n|0)<3){i=+l[t+276>>2];break t}if((n|0)==3){i=+l[t+260>>2];break t}if((n|0)<6)i=+l[t+292>>2];else i=3402823466385288598117041.0e14;break}default:i=3402823466385288598117041.0e14}}while(0);return+i}function kb(t){t=t|0;return 204}function Ob(t,e,n){t=t|0;e=e|0;n=n|0;jb(t,e,n)|0;o[e+52>>2]=o[t+52>>2];o[e+56>>2]=o[t+56>>2];o[e+60>>2]=o[t+60>>2];o[e+64>>2]=o[t+64>>2];o[e+68>>2]=o[t+68>>2];o[e+72>>2]=o[t+72>>2];o[e+76>>2]=o[t+76>>2];o[e+80>>2]=o[t+80>>2];o[e+84>>2]=o[t+84>>2];o[e+88>>2]=o[t+88>>2];o[e+92>>2]=o[t+92>>2];o[e+96>>2]=o[t+96>>2];o[e+100>>2]=o[t+100>>2];o[e+104>>2]=o[t+104>>2];o[e+108>>2]=o[t+108>>2];o[e+112>>2]=o[t+112>>2];o[e+116>>2]=o[t+116>>2];o[e+120>>2]=o[t+120>>2];o[e+124>>2]=o[t+124>>2];o[e+128>>2]=o[t+128>>2];o[e+132>>2]=o[t+132>>2];o[e+136>>2]=o[t+136>>2];o[e+140>>2]=o[t+140>>2];o[e+144>>2]=o[t+144>>2];o[e+148>>2]=o[t+148>>2];o[e+152>>2]=o[t+152>>2];o[e+156>>2]=o[t+156>>2];o[e+160>>2]=o[t+160>>2];o[e+164>>2]=o[t+164>>2];o[e+168>>2]=o[t+168>>2];o[e+172>>2]=o[t+172>>2];o[e+176>>2]=o[t+176>>2];o[e+180>>2]=o[t+188>>2];o[e+184>>2]=o[t+184>>2];o[e+188>>2]=o[t+196>>2];o[e+192>>2]=o[t+192>>2];o[e+196>>2]=s[t+180>>0];o[e+200>>2]=s[t+49>>0];return 15616}function Nb(t){t=t|0;return o[t+300>>2]|0}function Fb(t,e,n){t=t|0;e=e|0;n=n|0;var r=0,s=0.0,a=0.0;r=h;h=h+16|0;o[t+4>>2]=e;o[t>>2]=7188;o[t+8>>2]=-1;o[t+12>>2]=-1;l[t+16>>2]=3402823466385288598117041.0e14;i[t+20>>0]=1;i[t+21>>0]=0;o[t+24>>2]=-1;o[t+28>>2]=n;if(!(i[19880]|0)){i[19880]=1;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;zv(21260,0.0,0,0,r)}o[5366]=o[5366]|1;l[5407]=0.0;s=+l[5417]*0.0;a=+l[5418]*0.0;l[5412]=+l[5416]*0.0;l[5413]=s;l[5414]=a;l[5415]=0.0;o[5420]=0;o[5421]=0;o[5422]=0;o[5423]=0;a=+l[5409]*0.0;s=+l[5410]*0.0;l[5461]=+l[5408]*0.0;l[5462]=a;l[5463]=s;l[5464]=0.0;o[t+32>>2]=21260;l[t+36>>2]=0.0;l[t+40>>2]=.30000001192092896;o[t+44>>2]=0;h=r;return}function Bb(t){t=t|0;var e=0;o[t>>2]=7916;e=o[t+520>>2]|0;if(e|0){if(i[t+524>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+520>>2]=0}i[t+524>>0]=1;o[t+520>>2]=0;o[t+512>>2]=0;o[t+516>>2]=0;o[t>>2]=3156;e=o[t+276>>2]|0;if(!e){i[t+280>>0]=1;o[t+276>>2]=0;o[t+268>>2]=0;t=t+272|0;o[t>>2]=0;return}if(i[t+280>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+276>>2]=0;i[t+280>>0]=1;o[t+276>>2]=0;o[t+268>>2]=0;t=t+272|0;o[t>>2]=0;return}function jb(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0;o[e>>2]=Ek[o[(o[n>>2]|0)+28>>2]&31](n,o[t+28>>2]|0)|0;o[e+4>>2]=Ek[o[(o[n>>2]|0)+28>>2]&31](n,o[t+32>>2]|0)|0;i=Ek[o[(o[n>>2]|0)+40>>2]&31](n,t)|0;r=Ek[o[(o[n>>2]|0)+28>>2]&31](n,i)|0;o[e+8>>2]=r;if(r|0)ck[o[(o[n>>2]|0)+48>>2]&127](n,i);o[e+12>>2]=o[t+4>>2];o[e+24>>2]=s[t+21>>0];o[e+40>>2]=o[t+24>>2];o[e+44>>2]=o[t+16>>2];o[e+48>>2]=s[t+20>>0];o[e+20>>2]=o[t+12>>2];o[e+16>>2]=o[t+8>>2];o[e+28>>2]=o[t+36>>2];o[e+32>>2]=o[t+40>>2];o[e+36>>2]=0;i=o[t+28>>2]|0;if((o[i+512>>2]|0)>0){n=0;do{if((o[(o[i+520>>2]|0)+(n<<2)>>2]|0)==(t|0)){o[e+36>>2]=1;i=o[t+28>>2]|0}n=n+1|0}while((n|0)<(o[i+512>>2]|0))}i=o[t+32>>2]|0;if((o[i+512>>2]|0)>0)n=0;else return 15639;do{if((o[(o[i+520>>2]|0)+(n<<2)>>2]|0)==(t|0)){o[e+36>>2]=1;i=o[t+32>>2]|0}n=n+1|0}while((n|0)<(o[i+512>>2]|0));return 15639}function Ub(t){t=t|0;var e=0,n=0,r=0;o[t>>2]=7656;if(i[t+272>>0]|0?(e=o[t+204>>2]|0,sk[o[o[e>>2]>>2]&255](e),e=o[t+204>>2]|0,e|0):0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}e=o[t+196>>2]|0;if(e|0?(sk[o[o[e>>2]>>2]&255](e),n=o[t+196>>2]|0,n|0):0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}if(i[t+273>>0]|0?(r=o[t+200>>2]|0,sk[o[o[r>>2]>>2]&255](r),r=o[t+200>>2]|0,r|0):0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0)}e=o[t+316>>2]|0;if(e|0){if(i[t+320>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+316>>2]=0}i[t+320>>0]=1;o[t+316>>2]=0;o[t+308>>2]=0;o[t+312>>2]=0;e=o[t+288>>2]|0;if(e|0){if(i[t+292>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+288>>2]=0}i[t+292>>0]=1;o[t+288>>2]=0;o[t+280>>2]=0;o[t+284>>2]=0;e=o[t+240>>2]|0;if(e|0){if(i[t+244>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+240>>2]=0}i[t+244>>0]=1;o[t+240>>2]=0;o[t+232>>2]=0;o[t+236>>2]=0;e=o[t+220>>2]|0;if(e|0){if(i[t+224>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+220>>2]=0}i[t+224>>0]=1;o[t+220>>2]=0;o[t+212>>2]=0;o[t+216>>2]=0;e=o[t+188>>2]|0;if(!e){i[t+192>>0]=1;o[t+188>>2]=0;o[t+180>>2]=0;r=t+184|0;o[r>>2]=0;Zx(t);return}if(i[t+192>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+188>>2]=0;i[t+192>>0]=1;o[t+188>>2]=0;o[t+180>>2]=0;r=t+184|0;o[r>>2]=0;Zx(t);return}function zb(t){t=t|0;Ub(t);if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function Gb(t){t=t|0;var e=0,n=0,i=0;i=h;h=h+16|0;Wh(15710);ew(t);t:do{if(uk[o[(o[t>>2]|0)+20>>2]&127](t)|0?(n=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0,(uk[o[(o[n>>2]|0)+56>>2]&127](n)|0)&6144|0):0){n=uk[o[(o[t>>2]|0)+104>>2]&127](t)|0;while(1){e=n+-1|0;if((n|0)<=0)break t;n=Ek[o[(o[t>>2]|0)+108>>2]&31](t,e)|0;ck[o[(o[t>>2]|0)+168>>2]&127](t,n);n=e}}}while(0);if((((uk[o[(o[t>>2]|0)+20>>2]&127](t)|0?(n=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0,(uk[o[(o[n>>2]|0)+56>>2]&127](n)|0)&16387|0):0)?uk[o[(o[t>>2]|0)+20>>2]&127](t)|0:0)?(n=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0,uk[o[(o[n>>2]|0)+56>>2]&127](n)|0):0)?(o[t+280>>2]|0)>0:0){e=0;do{n=o[(o[t+288>>2]|0)+(e<<2)>>2]|0;ck[o[(o[n>>2]|0)+12>>2]&127](n,o[t+72>>2]|0);e=e+1|0}while((e|0)<(o[t+280>>2]|0))}if(uk[o[(o[t>>2]|0)+20>>2]&127](t)|0){t=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;sk[o[(o[t>>2]|0)+100>>2]&255](t)}e=o[2006]|0;t=(o[e+16>>2]|0)+-1|0;o[e+16>>2]=t;if(t|0){h=i;return}do{if(o[e+4>>2]|0){fe(i|0,0)|0;t=o[5649]|0;l[e+8>>2]=+l[e+8>>2]+ +(((o[i+4>>2]|0)-(o[t+4>>2]|0)+(((o[i>>2]|0)-(o[t>>2]|0)|0)*1e6|0)-(o[e+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[e+16>>2]|0)){e=o[2006]|0;break}else{h=i;return}}}while(0);o[2006]=o[e+20>>2];h=i;return}function Vb(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;Pw(t,e,n,i);return}function Wb(t,e){t=t|0;e=e|0;if((e|0)==0?1:(o[e+236>>2]&2|0)==0){Dw(t,e);return}else{ck[o[(o[t>>2]|0)+92>>2]&127](t,e);return}}function Hb(t,e){t=t|0;e=e|0;var n=0,i=0,r=0,s=0;sk[o[(o[e>>2]|0)+32>>2]&255](e);n=vk[o[(o[e>>2]|0)+16>>2]&63](e,104,1)|0;i=o[n+8>>2]|0;r=i;s=r+104|0;do{o[r>>2]=0;r=r+4|0}while((r|0)<(s|0));o[i+88>>2]=o[t+248>>2];o[i+92>>2]=o[t+252>>2];o[i+96>>2]=o[t+256>>2];o[i+100>>2]=o[t+260>>2];o[i>>2]=o[t+92>>2];o[i+4>>2]=o[t+96>>2];o[i+8>>2]=o[t+100>>2];o[i+12>>2]=o[t+104>>2];o[i+16>>2]=o[t+108>>2];o[i+20>>2]=o[t+116>>2];o[i+24>>2]=o[t+120>>2];o[i+28>>2]=o[t+124>>2];o[i+32>>2]=o[t+128>>2];o[i+36>>2]=o[t+132>>2];o[i+40>>2]=o[t+140>>2];o[i+44>>2]=o[t+144>>2];o[i+48>>2]=o[t+148>>2];o[i+52>>2]=o[t+152>>2];o[i+56>>2]=o[t+168>>2];o[i+60>>2]=o[t+172>>2];o[i+64>>2]=o[t+112>>2];o[i+68>>2]=o[t+156>>2];o[i+72>>2]=o[t+160>>2];o[i+76>>2]=o[t+164>>2];o[i+80>>2]=o[t+136>>2];rk[o[(o[e>>2]|0)+20>>2]&31](e,n,15725,1145853764,i);Nw(t,e);Xb(t,e);sk[o[(o[e>>2]|0)+36>>2]&255](e);return}function Xb(t,e){t=t|0;e=e|0;var n=0,i=0,r=0,s=0;n=o[t+8>>2]|0;if((n|0)>0){r=0;do{i=o[(o[t+16>>2]|0)+(r<<2)>>2]|0;if(o[i+236>>2]&2){s=uk[o[(o[i>>2]|0)+16>>2]&127](i)|0;s=vk[o[(o[e>>2]|0)+16>>2]&63](e,s,1)|0;n=vk[o[(o[i>>2]|0)+20>>2]&63](i,o[s+8>>2]|0,e)|0;rk[o[(o[e>>2]|0)+20>>2]&31](e,s,n,1497645650,i);n=o[t+8>>2]|0}r=r+1|0}while((r|0)<(n|0))}if((o[t+212>>2]|0)<=0)return;n=0;do{s=o[(o[t+220>>2]|0)+(n<<2)>>2]|0;i=uk[o[(o[s>>2]|0)+36>>2]&127](s)|0;i=vk[o[(o[e>>2]|0)+16>>2]&63](e,i,1)|0;r=vk[o[(o[s>>2]|0)+40>>2]&63](s,o[i+8>>2]|0,e)|0;rk[o[(o[e>>2]|0)+20>>2]&31](e,i,r,1397641027,s);n=n+1|0}while((n|0)<(o[t+212>>2]|0));return}function qb(t,e,n,r){t=t|0;e=+e;n=n|0;r=+r;var s=0,a=0.0,c=0,u=0;u=h;h=h+16|0;fe(o[5649]|0,0)|0;Vh(22556);o[5640]=(o[5640]|0)+1;c=o[5643]|0;o[5643]=c+1;if(!c){fe(u|0,0)|0;c=o[5649]|0;o[5642]=(o[u+4>>2]|0)-(o[c+4>>2]|0)+(((o[u>>2]|0)-(o[c>>2]|0)|0)*1e6|0)}o[5648]=0;fe(u|0,0)|0;Wh(15750);if(n){l[t+268>>2]=r;a=+l[t+264>>2]+e;l[t+264>>2]=a;if(!(a>=r)){e=r;c=0}else{l[t+264>>2]=a-+(~~(a/r)|0)*r;e=r;c=~~(a/r)}}else{l[t+264>>2]=i[t+300>>0]|0?0.0:e;l[t+268>>2]=0.0;c=!(+G(+e)<1.1920928955078125e-07)&1;n=c}if(uk[o[(o[t>>2]|0)+20>>2]&127](t)|0){s=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;i[23328]=(uk[o[(o[s>>2]|0)+56>>2]&127](s)|0)>>>4&1}if(c){n=(c|0)>(n|0)?n:c;ok[o[(o[t>>2]|0)+164>>2]&31](t,e*+(n|0));sk[o[(o[t>>2]|0)+172>>2]&255](t);if((n|0)>0){s=0;do{ok[o[(o[t>>2]|0)+160>>2]&31](t,e);sk[o[(o[t>>2]|0)+80>>2]&255](t);s=s+1|0}while((s|0)<(n|0));n=t}else n=t}else{sk[o[(o[t>>2]|0)+80>>2]&255](t);n=t}sk[o[(o[n>>2]|0)+120>>2]&255](t);o[5648]=(o[5648]|0)+1;n=o[2006]|0;t=(o[n+16>>2]|0)+-1|0;o[n+16>>2]=t;if(t|0){h=u;return c|0}do{if(o[n+4>>2]|0){fe(u|0,0)|0;t=o[5649]|0;l[n+8>>2]=+l[n+8>>2]+ +(((o[u+4>>2]|0)-(o[t+4>>2]|0)+(((o[u>>2]|0)-(o[t>>2]|0)|0)*1e6|0)-(o[n+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[n+16>>2]|0)){n=o[2006]|0;break}else{h=u;return c|0}}}while(0);o[2006]=o[n+20>>2];h=u;return c|0}function Yb(t,e,n){t=t|0;e=e|0;n=n|0;var r=0,s=0,a=0,c=0;r=o[t+212>>2]|0;if((r|0)==(o[t+216>>2]|0)?(c=r|0?r<<1:1,(r|0)<(c|0)):0){if(!c)a=0;else{o[5637]=(o[5637]|0)+1;r=Jc((c<<2|3)+16|0)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}a=r;r=o[t+212>>2]|0}if((r|0)>0){s=0;do{o[a+(s<<2)>>2]=o[(o[t+220>>2]|0)+(s<<2)>>2];s=s+1|0}while((s|0)!=(r|0))}s=o[t+220>>2]|0;if(s){if(i[t+224>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0);r=o[t+212>>2]|0}o[t+220>>2]=0}i[t+224>>0]=1;o[t+220>>2]=a;o[t+216>>2]=c}o[(o[t+220>>2]|0)+(r<<2)>>2]=e;o[t+212>>2]=r+1;if(!n)return;Wv(o[e+28>>2]|0,e);Wv(o[e+32>>2]|0,e);return}function Zb(t,e){t=t|0;e=e|0;var n=0,i=0,r=0,s=0;r=o[t+212>>2]|0;t:do{if((r|0)>0){s=o[t+220>>2]|0;n=0;while(1){i=s+(n<<2)|0;if((o[i>>2]|0)==(e|0))break;n=n+1|0;if((n|0)>=(r|0))break t}if((n|0)<(r|0)){o[i>>2]=o[s+(r+-1<<2)>>2];o[(o[t+220>>2]|0)+(r+-1<<2)>>2]=e;o[t+212>>2]=r+-1}}}while(0);Hv(o[e+28>>2]|0,e);Hv(o[e+32>>2]|0,e);return}function Jb(t,e){t=t|0;e=e|0;var n=0,r=0,s=0,a=0;n=o[t+280>>2]|0;if((n|0)==(o[t+284>>2]|0)?(a=n|0?n<<1:1,(n|0)<(a|0)):0){if(!a)s=0;else{o[5637]=(o[5637]|0)+1;n=Jc((a<<2|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}s=n;n=o[t+280>>2]|0}if((n|0)>0){r=0;do{o[s+(r<<2)>>2]=o[(o[t+288>>2]|0)+(r<<2)>>2];r=r+1|0}while((r|0)!=(n|0))}r=o[t+288>>2]|0;if(r){if(i[t+292>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0);n=o[t+280>>2]|0}o[t+288>>2]=0}i[t+292>>0]=1;o[t+288>>2]=s;o[t+284>>2]=a}o[(o[t+288>>2]|0)+(n<<2)>>2]=e;o[t+280>>2]=n+1;return}function Kb(t,e){t=t|0;e=e|0;var n=0,i=0,r=0,s=0,a=0;r=o[t+280>>2]|0;if((r|0)<=0)return;s=o[t+288>>2]|0;n=0;while(1){i=s+(n<<2)|0;if((o[i>>2]|0)==(e|0))break;n=n+1|0;if((n|0)>=(r|0)){a=7;break}}if((a|0)==7)return;if((n|0)>=(r|0))return;o[i>>2]=o[s+(r+-1<<2)>>2];o[(o[t+288>>2]|0)+(r+-1<<2)>>2]=e;o[t+280>>2]=r+-1;return}function $b(t,e){t=t|0;e=e|0;var n=0,i=0.0,r=0,s=0,a=0.0,c=0.0;o[t+248>>2]=o[e>>2];o[t+248+4>>2]=o[e+4>>2];o[t+248+8>>2]=o[e+8>>2];o[t+248+12>>2]=o[e+12>>2];n=o[t+232>>2]|0;if((n|0)<=0)return;s=0;do{r=o[(o[t+240>>2]|0)+(s<<2)>>2]|0;switch(o[r+216>>2]|0){case 2:case 5:break;default:if(!(o[r+528>>2]&1)){i=+l[r+368>>2];if(i!=0.0){c=1.0/i*+l[e+4>>2];a=1.0/i*+l[e+8>>2];l[r+388>>2]=1.0/i*+l[e>>2];l[r+392>>2]=c;l[r+396>>2]=a;l[r+400>>2]=0.0}o[r+404>>2]=o[e>>2];o[r+404+4>>2]=o[e+4>>2];o[r+404+8>>2]=o[e+8>>2];o[r+404+12>>2]=o[e+12>>2];n=o[t+232>>2]|0}}s=s+1|0}while((s|0)<(n|0));return}function Qb(t,e){t=t|0;e=e|0;o[t>>2]=o[e+248>>2];o[t+4>>2]=o[e+248+4>>2];o[t+8>>2]=o[e+248+8>>2];o[t+12>>2]=o[e+248+12>>2];return}function tv(t){t=t|0;var e=0,n=0.0,r=0,s=0,a=0.0,c=0.0,u=0;u=h;h=h+64|0;Wh(15765);t:do{if(!(i[t+274>>0]|0)){e=o[t+232>>2]|0;if((e|0)>0){s=0;while(1){r=o[(o[t+240>>2]|0)+(s<<2)>>2]|0;switch(o[r+216>>2]|0){case 2:case 5:break;default:if((o[r+504>>2]|0)!=0?(o[r+204>>2]&3|0)==0:0){if((i[t+300>>0]|0)!=0?(c=+l[t+268>>2],c!=0.0):0)n=+l[t+264>>2]-c;else n=+l[t+264>>2]*+l[r+248>>2];Uy(r+68|0,+l[r+132>>2],+l[r+136>>2],+l[r+140>>2],r+148|0,n,u);e=o[r+504>>2]|0;ck[o[(o[e>>2]|0)+12>>2]&127](e,u);e=o[t+232>>2]|0}}s=s+1|0;if((s|0)>=(e|0))break t}}}else{e=o[t+8>>2]|0;if((e|0)>0){s=0;do{r=o[(o[t+16>>2]|0)+(s<<2)>>2]|0;if((!((r|0)==0?1:(o[r+236>>2]&2|0)==0)?(o[r+504>>2]|0)!=0:0)?(o[r+204>>2]&3|0)==0:0){if((i[t+300>>0]|0)!=0?(a=+l[t+268>>2],a!=0.0):0)n=+l[t+264>>2]-a;else n=+l[t+264>>2]*+l[r+248>>2];Uy(r+68|0,+l[r+132>>2],+l[r+136>>2],+l[r+140>>2],r+148|0,n,u);e=o[r+504>>2]|0;ck[o[(o[e>>2]|0)+12>>2]&127](e,u);e=o[t+8>>2]|0}s=s+1|0}while((s|0)<(e|0))}}}while(0);e=o[2006]|0;t=(o[e+16>>2]|0)+-1|0;o[e+16>>2]=t;if(t|0){h=u;return}do{if(o[e+4>>2]|0){fe(u|0,0)|0;t=o[5649]|0;l[e+8>>2]=+l[e+8>>2]+ +(((o[u+4>>2]|0)-(o[t+4>>2]|0)+(((o[u>>2]|0)-(o[t>>2]|0)|0)*1e6|0)-(o[e+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[e+16>>2]|0)){e=o[2006]|0;break}else{h=u;return}}}while(0);o[2006]=o[e+20>>2];h=u;return}function ev(t,e){t=t|0;e=e|0;var n=0,r=0,s=0.0,a=0,c=0,u=0.0,h=0.0;n=o[e+204>>2]|0;if((n&3|0)==0?(o[e+528>>2]&1|0)==0:0){s=+l[e+368>>2];if(s!=0.0){h=1.0/s*+l[t+252>>2];u=1.0/s*+l[t+256>>2];l[e+388>>2]=1.0/s*+l[t+248>>2];l[e+392>>2]=h;l[e+396>>2]=u;l[e+400>>2]=0.0}o[e+404>>2]=o[t+248>>2];o[e+404+4>>2]=o[t+248+4>>2];o[e+404+8>>2]=o[t+248+8>>2];o[e+404+12>>2]=o[t+248+12>>2]}if(!(o[e+192>>2]|0))return;if(n&1){if((o[e+216>>2]&-2|0)!=4)o[e+216>>2]=2}else{r=o[t+232>>2]|0;if((r|0)==(o[t+236>>2]|0)?(c=r|0?r<<1:1,(r|0)<(c|0)):0){if(!c)n=0;else{o[5637]=(o[5637]|0)+1;n=Jc((c<<2|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}r=o[t+232>>2]|0}if((r|0)>0){a=0;do{o[n+(a<<2)>>2]=o[(o[t+240>>2]|0)+(a<<2)>>2];a=a+1|0}while((a|0)!=(r|0))}a=o[t+240>>2]|0;if(a){if(i[t+244>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0);r=o[t+232>>2]|0}o[t+240>>2]=0}i[t+244>>0]=1;o[t+240>>2]=n;o[t+236>>2]=c;n=o[e+204>>2]|0}o[(o[t+240>>2]|0)+(r<<2)>>2]=e;o[t+232>>2]=r+1}c=(n&3|0)==0;Wk[o[(o[t>>2]|0)+36>>2]&127](t,e,c?1:2,c?-1:-3);return}function nv(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;var s=0,a=0.0,c=0,u=0,h=0,p=0.0,f=0.0;s=o[e+204>>2]|0;if((s&3|0)==0?(o[e+528>>2]&1|0)==0:0){a=+l[e+368>>2];if(a!=0.0){f=1.0/a*+l[t+252>>2];p=1.0/a*+l[t+256>>2];l[e+388>>2]=1.0/a*+l[t+248>>2];l[e+392>>2]=f;l[e+396>>2]=p;l[e+400>>2]=0.0}o[e+404>>2]=o[t+248>>2];o[e+404+4>>2]=o[t+248+4>>2];o[e+404+8>>2]=o[t+248+8>>2];o[e+404+12>>2]=o[t+248+12>>2]}if(!(o[e+192>>2]|0))return;if(s&1){if((o[e+216>>2]&-2|0)!=4)o[e+216>>2]=2}else{s=o[t+232>>2]|0;if((s|0)==(o[t+236>>2]|0)?(h=s|0?s<<1:1,(s|0)<(h|0)):0){if(!h)u=0;else{o[5637]=(o[5637]|0)+1;s=Jc((h<<2|3)+16|0)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}u=s;s=o[t+232>>2]|0}if((s|0)>0){c=0;do{o[u+(c<<2)>>2]=o[(o[t+240>>2]|0)+(c<<2)>>2];c=c+1|0}while((c|0)!=(s|0))}c=o[t+240>>2]|0;if(c){if(i[t+244>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[c+-4>>2]|0);s=o[t+232>>2]|0}o[t+240>>2]=0}i[t+244>>0]=1;o[t+240>>2]=u;o[t+236>>2]=h}o[(o[t+240>>2]|0)+(s<<2)>>2]=e;o[t+232>>2]=s+1}Wk[o[(o[t>>2]|0)+36>>2]&127](t,e,n,r);return}function iv(t,e){t=t|0;e=e|0;var n=0,i=0,r=0,s=0,a=0;r=o[t+232>>2]|0;t:do{if((r|0)>0){s=o[t+240>>2]|0;n=0;while(1){i=s+(n<<2)|0;if((o[i>>2]|0)==(e|0))break;n=n+1|0;if((n|0)>=(r|0))break t}if((n|0)<(r|0)){o[i>>2]=o[s+(r+-1<<2)>>2];o[(o[t+240>>2]|0)+(r+-1<<2)>>2]=e;o[t+232>>2]=r+-1}}}while(0);n=o[e+188>>2]|0;if(n|0){s=o[t+68>>2]|0;s=uk[o[(o[s>>2]|0)+36>>2]&127](s)|0;Uk[o[(o[s>>2]|0)+40>>2]&127](s,n,o[t+24>>2]|0);s=o[t+68>>2]|0;Uk[o[(o[s>>2]|0)+12>>2]&127](s,n,o[t+24>>2]|0);o[e+188>>2]=0}r=o[t+8>>2]|0;if((r|0)<=0)return;s=o[t+16>>2]|0;n=0;while(1){i=s+(n<<2)|0;if((o[i>>2]|0)==(e|0))break;n=n+1|0;if((n|0)>=(r|0)){a=15;break}}if((a|0)==15)return;if((n|0)>=(r|0))return;o[i>>2]=o[s+(r+-1<<2)>>2];o[(o[t+16>>2]|0)+(r+-1<<2)>>2]=e;o[t+8>>2]=r+-1;return}function rv(t,e){t=t|0;e=e|0;var n=0;if(i[t+273>>0]|0?(n=o[t+200>>2]|0,n|0):0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}i[t+273>>0]=0;o[t+200>>2]=e;o[(o[t+196>>2]|0)+8>>2]=e;return}function ov(t){t=t|0;return o[t+200>>2]|0}function sv(t){t=t|0;return o[t+212>>2]|0}function av(t,e){t=t|0;e=e|0;return o[(o[t+220>>2]|0)+(e<<2)>>2]|0}function cv(t,e){t=t|0;e=e|0;return o[(o[t+220>>2]|0)+(e<<2)>>2]|0}function lv(t){t=t|0;return 2}function uv(t){t=t|0;var e=0,n=0;if((o[t+232>>2]|0)<=0)return;e=0;do{n=(o[(o[t+240>>2]|0)+(e<<2)>>2]|0)+436|0;o[n>>2]=0;o[n+4>>2]=0;o[n+8>>2]=0;o[n+12>>2]=0;o[n+16>>2]=0;o[n+20>>2]=0;o[n+24>>2]=0;o[n+28>>2]=0;e=e+1|0}while((e|0)<(o[t+232>>2]|0));return}function hv(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+64>>2]&127](t,e);return}function pv(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+68>>2]&127](t,e);return}function fv(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+64>>2]&127](t,e);return}function dv(t,e){t=t|0;e=e|0;ck[o[(o[t>>2]|0)+68>>2]&127](t,e);return}function _v(t,e){t=t|0;e=+e;var n=0,i=0,r=0,s=0;s=h;h=h+16|0;Wh(15789);n=o[t+232>>2]|0;if((n|0)>0){r=0;do{i=o[(o[t+240>>2]|0)+(r<<2)>>2]|0;if(!(o[i+204>>2]&3)){Gv(i,e);Uy(i+4|0,+l[i+336>>2],+l[i+340>>2],+l[i+344>>2],i+352|0,e,i+68|0);n=o[t+232>>2]|0}r=r+1|0}while((r|0)<(n|0))}n=o[2006]|0;t=(o[n+16>>2]|0)+-1|0;o[n+16>>2]=t;if(t|0){h=s;return}do{if(o[n+4>>2]|0){fe(s|0,0)|0;t=o[5649]|0;l[n+8>>2]=+l[n+8>>2]+ +(((o[s+4>>2]|0)-(o[t+4>>2]|0)+(((o[s>>2]|0)-(o[t>>2]|0)|0)*1e6|0)-(o[n+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[n+16>>2]|0)){n=o[2006]|0;break}else{h=s;return}}}while(0);o[2006]=o[n+20>>2];h=s;return}function mv(t,e){t=t|0;e=+e;var n=0,s=0.0,a=0,c=0.0,u=0.0,p=0,f=0,d=0,_=0,m=0.0,g=0.0,b=0,v=0.0,y=0;b=h;h=h+304|0;Wh(15815);t:do{if((o[t+232>>2]|0)>0){f=b+136+48|0;d=0;while(1){p=o[(o[t+240>>2]|0)+(d<<2)>>2]|0;l[p+248>>2]=1.0;e:do{switch(o[p+216>>2]|0){case 2:case 5:break;default:if(!(o[p+204>>2]&3)){Uy(p+4|0,+l[p+336>>2],+l[p+340>>2],+l[p+344>>2],p+352|0,e,b+136|0);s=+l[f>>2]-+l[p+52>>2];c=+l[b+136+52>>2]-+l[p+56>>2];u=+l[b+136+56>>2]-+l[p+60>>2];if(i[t+44>>0]|0?(v=+l[p+256>>2],v*v!=0.0?v*v<s*s+c*c+u*u:0):0){Wh(15835);if((o[(o[p+192>>2]|0)+4>>2]|0)<20){o[5475]=(o[5475]|0)+1;n=o[t+68>>2]|0;n=uk[o[(o[n>>2]|0)+36>>2]&127](n)|0;a=o[t+24>>2]|0;l[b+200+4>>2]=1.0;r[b+200+8>>1]=1;r[b+200+10>>1]=-1;o[b+200>>2]=7848;o[b+200+12>>2]=o[p+52>>2];o[b+200+12+4>>2]=o[p+52+4>>2];o[b+200+12+8>>2]=o[p+52+8>>2];o[b+200+12+12>>2]=o[p+52+12>>2];o[b+200+28>>2]=o[f>>2];o[b+200+28+4>>2]=o[f+4>>2];o[b+200+28+8>>2]=o[f+8>>2];o[b+200+28+12>>2]=o[f+12>>2];o[b+200+76>>2]=0;o[b+200>>2]=7872;o[b+200+80>>2]=p;o[b+200+88>>2]=n;o[b+200+92>>2]=a;a=o[p+252>>2]|0;o[b+64+8>>2]=0;o[b+64+12>>2]=-1;o[b+64+16>>2]=1065353216;o[b+64+20>>2]=1065353216;o[b+64+24>>2]=1065353216;l[b+64+28>>2]=0.0;o[b+64>>2]=6380;o[b+64+4>>2]=8;o[b+64+32>>2]=a;o[b+64+48>>2]=a;o[b+200+84>>2]=o[t+56>>2];a=o[(o[p+188>>2]|0)+4>>2]|0;r[b+200+8>>1]=a;r[b+200+10>>1]=a>>>16;o[b+48>>2]=o[f>>2];o[b+48+4>>2]=o[f+4>>2];o[b+48+8>>2]=o[f+8>>2];o[b+48+12>>2]=o[f+12>>2];o[b>>2]=o[p+4>>2];o[b+4>>2]=o[p+4+4>>2];o[b+8>>2]=o[p+4+8>>2];o[b+12>>2]=o[p+4+12>>2];o[b+16>>2]=o[p+20>>2];o[b+16+4>>2]=o[p+20+4>>2];o[b+16+8>>2]=o[p+20+8>>2];o[b+16+12>>2]=o[p+20+12>>2];o[b+32>>2]=o[p+36>>2];o[b+32+4>>2]=o[p+36+4>>2];o[b+32+8>>2]=o[p+36+8>>2];o[b+32+12>>2]=o[p+36+12>>2];qw(t,b+64|0,p+4|0,b,b+200|0,0.0);s=+l[b+200+4>>2];if(s<1.0){l[p+248>>2]=s;Uy(p+4|0,+l[p+336>>2],+l[p+340>>2],+l[p+344>>2],p+352|0,s*e,b+136|0);l[p+248>>2]=0.0;Vv(p,b+136|0);n=4}else n=0;if(!n)_=12}else _=12;if((_|0)==12){_=0;n=0}a=o[2006]|0;y=(o[a+16>>2]|0)+-1|0;o[a+16>>2]=y;do{if(!y){if(o[a+4>>2]|0){fe(b+200|0,0)|0;y=o[5649]|0;l[a+8>>2]=+l[a+8>>2]+ +(((o[b+200+4>>2]|0)-(o[y+4>>2]|0)+(((o[b+200>>2]|0)-(o[y>>2]|0)|0)*1e6|0)-(o[a+12>>2]|0)|0)>>>0)/1.0e3;if(o[a+16>>2]|0)break;a=o[2006]|0}o[2006]=o[a+20>>2]}}while(0);if(n|0)break e}Vv(p,b+136|0)}}}while(0);d=d+1|0;if((d|0)>=(o[t+232>>2]|0))break t}}}while(0);do{if(i[t+275>>0]|0){Wh(15892);if((o[t+308>>2]|0)>0){_=0;do{d=o[(o[t+316>>2]|0)+(_<<2)>>2]|0;p=o[d+740>>2]|0;p=(o[p+236>>2]&2|0)==0?0:p;f=o[d+744>>2]|0;f=(o[f+236>>2]&2|0)==0?0:f;n=o[d+748>>2]|0;if((n|0)>0)if(!p){a=0;do{s=+l[57]*+l[f+228>>2];if(s>0.0?(m=+l[d+4+(a*184|0)+120>>2],m!=0.0):0){u=s*(+l[d+4+(a*184|0)+64>>2]*m);e=s*(+l[d+4+(a*184|0)+68>>2]*m);v=s*(+l[d+4+(a*184|0)+72>>2]*m);s=+l[d+4+(a*184|0)+36>>2]-+l[f+56>>2];c=+l[d+4+(a*184|0)+40>>2]-+l[f+60>>2];l[b>>2]=+l[d+4+(a*184|0)+32>>2]-+l[f+52>>2];l[b+4>>2]=s;l[b+8>>2]=c;l[b+12>>2]=0.0;l[b+120>>2]=u;l[b+120+4>>2]=e;l[b+120+8>>2]=v;l[b+120+12>>2]=0.0;zA(f,b+120|0,b);n=o[d+748>>2]|0}a=a+1|0}while((a|0)<(n|0))}else{a=0;do{s=+l[p+228>>2]*+l[f+228>>2];if(s>0.0?(g=+l[d+4+(a*184|0)+120>>2],g!=0.0):0){u=s*(+l[d+4+(a*184|0)+64>>2]*g);e=s*(+l[d+4+(a*184|0)+68>>2]*g);v=s*(+l[d+4+(a*184|0)+72>>2]*g);l[b+200>>2]=-u;l[b+200+4>>2]=-e;l[b+200+8>>2]=-v;l[b+200+12>>2]=0.0;c=+l[d+4+(a*184|0)+52>>2]-+l[p+56>>2];s=+l[d+4+(a*184|0)+56>>2]-+l[p+60>>2];l[b+64>>2]=+l[d+4+(a*184|0)+48>>2]-+l[p+52>>2];l[b+64+4>>2]=c;l[b+64+8>>2]=s;l[b+64+12>>2]=0.0;s=+l[d+4+(a*184|0)+36>>2]-+l[f+56>>2];c=+l[d+4+(a*184|0)+40>>2]-+l[f+60>>2];l[b>>2]=+l[d+4+(a*184|0)+32>>2]-+l[f+52>>2];l[b+4>>2]=s;l[b+8>>2]=c;l[b+12>>2]=0.0;zA(p,b+200|0,b+64|0);l[b+120>>2]=u;l[b+120+4>>2]=e;l[b+120+8>>2]=v;l[b+120+12>>2]=0.0;zA(f,b+120|0,b);n=o[d+748>>2]|0}a=a+1|0}while((a|0)<(n|0))}_=_+1|0}while((_|0)<(o[t+308>>2]|0))}n=o[2006]|0;y=(o[n+16>>2]|0)+-1|0;o[n+16>>2]=y;if(!y){if(o[n+4>>2]|0){fe(b+200|0,0)|0;y=o[5649]|0;l[n+8>>2]=+l[n+8>>2]+ +(((o[b+200+4>>2]|0)-(o[y+4>>2]|0)+(((o[b+200>>2]|0)-(o[y>>2]|0)|0)*1e6|0)-(o[n+12>>2]|0)|0)>>>0)/1.0e3;if(o[n+16>>2]|0)break;n=o[2006]|0}o[2006]=o[n+20>>2]}}}while(0);n=o[2006]|0;y=(o[n+16>>2]|0)+-1|0;o[n+16>>2]=y;if(y|0){h=b;return}do{if(o[n+4>>2]|0){fe(b+200|0,0)|0;y=o[5649]|0;l[n+8>>2]=+l[n+8>>2]+ +(((o[b+200+4>>2]|0)-(o[y+4>>2]|0)+(((o[b+200>>2]|0)-(o[y>>2]|0)|0)*1e6|0)-(o[n+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[n+16>>2]|0)){n=o[2006]|0;break}else{h=b;return}}}while(0);o[2006]=o[n+20>>2];h=b;return}function gv(t){t=t|0;Kc(t);return}function bv(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0.0,s=0.0,a=0.0,c=0.0,u=0.0;o[t+4>>2]=o[e+40>>2];i=o[e>>2]|0;o[t+76>>2]=i;if(n){o[t+44>>2]=o[e+8>>2];o[t+44+4>>2]=o[e+8+4>>2];o[t+44+8>>2]=o[e+8+8>>2];o[t+44+12>>2]=o[e+8+12>>2];t=t+60|0;n=e+24|0;o[t>>2]=o[n>>2];o[t+4>>2]=o[n+4>>2];o[t+8>>2]=o[n+8>>2];o[t+12>>2]=o[n+12>>2];r=+l[e+40>>2];return+r}else{u=+l[e+8>>2];c=+l[e+12>>2];a=+l[e+16>>2];s=u*+l[i+20>>2]+c*+l[i+24>>2]+a*+l[i+28>>2];r=u*+l[i+36>>2]+c*+l[i+40>>2]+a*+l[i+44>>2];l[t+44>>2]=+l[i+4>>2]*u+ +l[i+8>>2]*c+ +l[i+12>>2]*a;l[t+48>>2]=s;l[t+52>>2]=r;l[t+56>>2]=0.0;t=t+60|0;n=e+24|0;o[t>>2]=o[n>>2];o[t+4>>2]=o[n+4>>2];o[t+8>>2]=o[n+8>>2];o[t+12>>2]=o[n+12>>2];r=+l[e+40>>2];return+r}return 0.0}function vv(t){t=t|0;Kc(t);return}function yv(t,e){t=t|0;e=e|0;var n=0,i=0;n=o[e>>2]|0;i=o[t+80>>2]|0;if((n|0)==(i|0)){t=0;return t|0}e=o[e+4>>2]|0;if(!((r[t+10>>1]&(e&65535))<<16>>16)){t=0;return t|0}if(!((r[t+8>>1]&(e>>>16&65535))<<16>>16)){t=0;return t|0}t=o[t+92>>2]|0;t=vk[o[(o[t>>2]|0)+28>>2]&63](t,i,n)|0;return t|0}function xv(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0.0,s=0.0,a=0.0,c=0.0,u=0.0;i=o[e>>2]|0;if((i|0)==(o[t+80>>2]|0)){r=1.0;return+r}if(o[i+204>>2]&4|0){r=1.0;return+r}if((+l[t+28>>2]-+l[t+12>>2])*+l[e+8>>2]+(+l[t+32>>2]-+l[t+16>>2])*+l[e+12>>2]+(+l[t+36>>2]-+l[t+20>>2])*+l[e+16>>2]>=-+l[t+84>>2]){r=1.0;return+r}o[t+4>>2]=o[e+40>>2];o[t+76>>2]=i;if(n){o[t+44>>2]=o[e+8>>2];o[t+44+4>>2]=o[e+8+4>>2];o[t+44+8>>2]=o[e+8+8>>2];o[t+44+12>>2]=o[e+8+12>>2]}else{u=+l[e+8>>2];c=+l[e+12>>2];a=+l[e+16>>2];s=u*+l[i+20>>2]+c*+l[i+24>>2]+a*+l[i+28>>2];r=u*+l[i+36>>2]+c*+l[i+40>>2]+a*+l[i+44>>2];l[t+44>>2]=+l[i+4>>2]*u+ +l[i+8>>2]*c+ +l[i+12>>2]*a;l[t+48>>2]=s;l[t+52>>2]=r;l[t+56>>2]=0.0}o[t+60>>2]=o[e+24>>2];o[t+60+4>>2]=o[e+24+4>>2];o[t+60+8>>2]=o[e+24+8>>2];o[t+60+12>>2]=o[e+24+12>>2];u=+l[e+40>>2];return+u}function wv(t){t=t|0;var e=0,n=0,r=0,s=0,a=0,c=0,u=0,p=0,f=0,d=0,_=0;_=h;h=h+16|0;Wh(16195);u=o[t+204>>2]|0;Uk[o[(o[u>>2]|0)+8>>2]&127](u,t,o[t+24>>2]|0);u=o[t+308>>2]|0;if((u|0)>0){c=o[t+316>>2]|0;p=0;do{n=o[c+(p<<2)>>2]|0;e=o[n+740>>2]|0;n=o[n+744>>2]|0;if((e|0?n|0?(o[e+204>>2]&3|0)==0:0:0)?(o[n+204>>2]&3|0)==0:0){s=o[e+208>>2]|0;e=o[n+208>>2]|0;a=o[(o[t+204>>2]|0)+16>>2]|0;n=o[a+(s<<3)>>2]|0;if((n|0)!=(s|0)){r=a+(s<<3)|0;do{s=a+(n<<3)|0;o[r>>2]=o[s>>2];s=o[s>>2]|0;r=a+(s<<3)|0;n=o[r>>2]|0}while((s|0)!=(n|0))}n=o[a+(e<<3)>>2]|0;if((n|0)!=(e|0)){r=a+(e<<3)|0;do{e=a+(n<<3)|0;o[r>>2]=o[e>>2];e=o[e>>2]|0;r=a+(e<<3)|0;n=o[r>>2]|0}while((e|0)!=(n|0))}if((s|0)!=(e|0)){o[a+(s<<3)>>2]=e;r=a+(e<<3)+4|0;o[r>>2]=(o[r>>2]|0)+(o[a+(s<<3)+4>>2]|0)}}p=p+1|0}while((p|0)!=(u|0))}u=o[t+212>>2]|0;if((u|0)>0){c=o[t+220>>2]|0;p=0;do{e=o[c+(p<<2)>>2]|0;if((i[e+20>>0]|0?(f=o[e+28>>2]|0,(o[f+204>>2]&3|0)==0):0)?(d=o[e+32>>2]|0,(o[d+204>>2]&3|0)==0):0){r=o[f+208>>2]|0;e=o[d+208>>2]|0;a=o[(o[t+204>>2]|0)+16>>2]|0;n=o[a+(r<<3)>>2]|0;if((n|0)==(r|0))s=r;else{r=a+(r<<3)|0;do{s=a+(n<<3)|0;o[r>>2]=o[s>>2];s=o[s>>2]|0;r=a+(s<<3)|0;n=o[r>>2]|0}while((s|0)!=(n|0))}n=o[a+(e<<3)>>2]|0;if((n|0)!=(e|0)){r=a+(e<<3)|0;do{e=a+(n<<3)|0;o[r>>2]=o[e>>2];e=o[e>>2]|0;r=a+(e<<3)|0;n=o[r>>2]|0}while((e|0)!=(n|0))}if((s|0)!=(e|0)){o[a+(s<<3)>>2]=e;r=a+(e<<3)+4|0;o[r>>2]=(o[r>>2]|0)+(o[a+(s<<3)+4>>2]|0)}}p=p+1|0}while((p|0)!=(u|0))}e=o[t+204>>2]|0;ck[o[(o[e>>2]|0)+12>>2]&127](e,t);e=o[2006]|0;t=(o[e+16>>2]|0)+-1|0;o[e+16>>2]=t;if(t|0){h=_;return}do{if(o[e+4>>2]|0){fe(_|0,0)|0;t=o[5649]|0;l[e+8>>2]=+l[e+8>>2]+ +(((o[_+4>>2]|0)-(o[t+4>>2]|0)+(((o[_>>2]|0)-(o[t>>2]|0)|0)*1e6|0)-(o[e+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[e+16>>2]|0)){e=o[2006]|0;break}else{h=_;return}}}while(0);o[2006]=o[e+20>>2];h=_;return}function Sv(t,e){t=t|0;e=e|0;var n=0,r=0,s=0,a=0,c=0,u=0;u=h;h=h+16|0;Wh(16222);c=o[t+212>>2]|0;a=o[t+180>>2]|0;if((a|0)<(c|0)){if((o[t+184>>2]|0)<(c|0)){if(!c){n=0;r=a}else{o[5637]=(o[5637]|0)+1;n=Jc((c<<2|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}r=o[t+180>>2]|0}if((r|0)>0){s=0;do{o[n+(s<<2)>>2]=o[(o[t+188>>2]|0)+(s<<2)>>2];s=s+1|0}while((s|0)!=(r|0))}r=o[t+188>>2]|0;if(r|0){if(i[t+192>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0)}o[t+188>>2]=0}i[t+192>>0]=1;o[t+188>>2]=n;o[t+184>>2]=c;r=t+188|0}else r=t+188|0;n=a;do{o[(o[r>>2]|0)+(n<<2)>>2]=0;n=n+1|0}while((n|0)!=(c|0))}else r=t+188|0;o[t+180>>2]=c;n=0;while(1){if((n|0)>=(uk[o[(o[t>>2]|0)+104>>2]&127](t)|0))break;o[(o[r>>2]|0)+(n<<2)>>2]=o[(o[t+220>>2]|0)+(n<<2)>>2];n=n+1|0}n=o[t+180>>2]|0;if((n|0)>1)Mv(t+176|0,0,n+-1|0);if(!(uk[o[(o[t>>2]|0)+104>>2]&127](t)|0))n=0;else n=o[r>>2]|0;s=o[t+196>>2]|0;a=o[t+180>>2]|0;c=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;o[s+4>>2]=e;o[s+12>>2]=n;o[s+16>>2]=a;o[s+20>>2]=c;n=o[s+32>>2]|0;if((n|0)<0){if((o[s+36>>2]|0)<0){r=o[s+40>>2]|0;if(r|0){if(i[s+44>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0)}o[s+40>>2]=0}i[s+44>>0]=1;o[s+40>>2]=0;o[s+36>>2]=0}do{o[(o[s+40>>2]|0)+(n<<2)>>2]=0;n=n+1|0}while((n|0)!=0)}o[s+32>>2]=0;n=o[s+52>>2]|0;if((n|0)<0){if((o[s+56>>2]|0)<0){r=o[s+60>>2]|0;if(r|0){if(i[s+64>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0)}o[s+60>>2]=0}i[s+64>>0]=1;o[s+60>>2]=0;o[s+56>>2]=0}do{o[(o[s+60>>2]|0)+(n<<2)>>2]=0;n=n+1|0}while((n|0)!=0)}o[s+52>>2]=0;n=o[s+72>>2]|0;if((n|0)<0){if((o[s+76>>2]|0)<0){r=o[s+80>>2]|0;if(r|0){if(i[s+84>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0)}o[s+80>>2]=0}i[s+84>>0]=1;o[s+80>>2]=0;o[s+76>>2]=0}do{o[(o[s+80>>2]|0)+(n<<2)>>2]=0;n=n+1|0}while((n|0)!=0)}o[s+72>>2]=0;a=o[t+200>>2]|0;s=o[(o[a>>2]|0)+8>>2]|0;c=o[t+8>>2]|0;n=o[t+24>>2]|0;n=uk[o[(o[n>>2]|0)+36>>2]&127](n)|0;Uk[s&127](a,c,n);WE(o[t+204>>2]|0,o[t+24>>2]|0,t,o[t+196>>2]|0);Cv(o[t+196>>2]|0);n=o[t+200>>2]|0;Uk[o[(o[n>>2]|0)+16>>2]&127](n,e,o[t+72>>2]|0);n=o[2006]|0;t=(o[n+16>>2]|0)+-1|0;o[n+16>>2]=t;if(t|0){h=u;return}do{if(o[n+4>>2]|0){fe(u|0,0)|0;t=o[5649]|0;l[n+8>>2]=+l[n+8>>2]+ +(((o[u+4>>2]|0)-(o[t+4>>2]|0)+(((o[u>>2]|0)-(o[t>>2]|0)|0)*1e6|0)-(o[n+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[n+16>>2]|0)){n=o[2006]|0;break}else{h=u;return}}}while(0);o[2006]=o[n+20>>2];h=u;return}function Mv(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0,s=0,a=0,c=0,l=0,u=0,h=0;while(1){u=o[t+12>>2]|0;h=o[u+(((e+n|0)/2|0)<<2)>>2]|0;i=e;r=n;while(1){l=o[(o[h+28>>2]|0)+208>>2]|0;if((l|0)>-1)while(1){a=o[u+(i<<2)>>2]|0;s=o[(o[a+28>>2]|0)+208>>2]|0;if((s|0)<=-1)s=o[(o[a+32>>2]|0)+208>>2]|0;if((s|0)<(l|0))i=i+1|0;else break}else{c=o[(o[h+32>>2]|0)+208>>2]|0;while(1){a=o[u+(i<<2)>>2]|0;s=o[(o[a+28>>2]|0)+208>>2]|0;if((s|0)<=-1)s=o[(o[a+32>>2]|0)+208>>2]|0;if((s|0)<(c|0))i=i+1|0;else break}}if((l|0)>-1)while(1){a=o[u+(r<<2)>>2]|0;s=o[(o[a+28>>2]|0)+208>>2]|0;if((s|0)<=-1)s=o[(o[a+32>>2]|0)+208>>2]|0;if((l|0)<(s|0))r=r+-1|0;else break}else{c=o[(o[h+32>>2]|0)+208>>2]|0;while(1){a=o[u+(r<<2)>>2]|0;s=o[(o[a+28>>2]|0)+208>>2]|0;if((s|0)<=-1)s=o[(o[a+32>>2]|0)+208>>2]|0;if((c|0)<(s|0))r=r+-1|0;else break}}if((i|0)<=(r|0)){c=u+(i<<2)|0;l=o[c>>2]|0;o[c>>2]=o[u+(r<<2)>>2];o[(o[t+12>>2]|0)+(r<<2)>>2]=l;i=i+1|0;r=r+-1|0}if((i|0)>(r|0))break;u=o[t+12>>2]|0}if((r|0)>(e|0))Mv(t,e,r);if((i|0)<(n|0))e=i;else break}return}function Cv(t){t=t|0;var e=0,n=0,r=0,s=0,a=0,c=0,l=0;e=o[t+32>>2]|0;if(!e)r=0;else r=o[t+40>>2]|0;c=o[t+52>>2]|0;if(!c)s=0;else s=o[t+60>>2]|0;n=o[t+72>>2]|0;if(!n)a=0;else a=o[t+80>>2]|0;l=o[t+8>>2]|0;+Ik[o[(o[l>>2]|0)+12>>2]&3](l,r,e,s,c,a,n,o[t+4>>2]|0,o[t+20>>2]|0,o[t+24>>2]|0);e=o[t+32>>2]|0;if((e|0)<0){if((o[t+36>>2]|0)<0){n=o[t+40>>2]|0;if(n|0){if(i[t+44>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[t+40>>2]=0}i[t+44>>0]=1;o[t+40>>2]=0;o[t+36>>2]=0}do{o[(o[t+40>>2]|0)+(e<<2)>>2]=0;e=e+1|0}while((e|0)!=0)}o[t+32>>2]=0;e=o[t+52>>2]|0;if((e|0)<0){if((o[t+56>>2]|0)<0){n=o[t+60>>2]|0;if(n|0){if(i[t+64>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[t+60>>2]=0}i[t+64>>0]=1;o[t+60>>2]=0;o[t+56>>2]=0}do{o[(o[t+60>>2]|0)+(e<<2)>>2]=0;e=e+1|0}while((e|0)!=0)}o[t+52>>2]=0;e=o[t+72>>2]|0;if((e|0)>=0){o[t+72>>2]=0;return}if((o[t+76>>2]|0)<0){n=o[t+80>>2]|0;if(n|0){if(i[t+84>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[t+80>>2]=0}i[t+84>>0]=1;o[t+80>>2]=0;o[t+76>>2]=0}do{o[(o[t+80>>2]|0)+(e<<2)>>2]=0;e=e+1|0}while((e|0)!=0);o[t+72>>2]=0;return}function Tv(t,e){t=t|0;e=+e;var n=0,r=0,s=0,a=0,c=0,u=0,p=0,f=0.0,d=0.0,_=0.0,m=0.0;p=h;h=h+16|0;Wh(15930);n=o[t+232>>2]|0;if((n|0)>0){u=(i[23328]|0)==0;c=0;do{a=o[(o[t+240>>2]|0)+(c<<2)>>2]|0;t:do{if(a){r=o[a+216>>2]|0;e:do{switch(r|0){case 4:case 2:{if((r|0)==4)break t;break}default:{m=+l[a+336>>2];_=+l[a+340>>2];d=+l[a+344>>2];f=+l[a+496>>2];if(m*m+_*_+d*d<f*f?(f=+l[a+352>>2],d=+l[a+356>>2],_=+l[a+360>>2],m=+l[a+500>>2],f*f+d*d+_*_<m*m):0){l[a+220>>2]=+l[a+220>>2]+e;break e}l[a+220>>2]=0.0;if((r&-2|0)!=4){o[a+216>>2]=0;r=0}}}}while(0);s=r&-2;do{if(u){if((s|0)!=2?!(+l[a+220>>2]>2.0):0)break;if(o[a+204>>2]&3|0){if((s|0)==4)break t;o[a+216>>2]=2;break t}if((r|0)==1){if((s|0)==4)break t;o[a+216>>2]=3;break t}else{if((r|0)!=2)break t;n=(o[a+284>>2]|0)+2|0;o[a+352>>2]=0;o[a+352+4>>2]=0;o[a+352+8>>2]=0;o[a+352+12>>2]=0;o[a+284>>2]=n;o[a+336>>2]=0;o[a+336+4>>2]=0;o[a+336+8>>2]=0;o[a+336+12>>2]=0;n=o[t+232>>2]|0;break t}}}while(0);if((s|0)!=4)o[a+216>>2]=1}}while(0);c=c+1|0}while((c|0)<(n|0))}n=o[2006]|0;t=(o[n+16>>2]|0)+-1|0;o[n+16>>2]=t;if(t|0){h=p;return}do{if(o[n+4>>2]|0){fe(p|0,0)|0;t=o[5649]|0;l[n+8>>2]=+l[n+8>>2]+ +(((o[p+4>>2]|0)-(o[t+4>>2]|0)+(((o[p>>2]|0)-(o[t>>2]|0)|0)*1e6|0)-(o[n+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[n+16>>2]|0)){n=o[2006]|0;break}else{h=p;return}}}while(0);o[2006]=o[n+20>>2];h=p;return}function Av(t,e){t=t|0;e=+e;var n=0,s=0,a=0,c=0,u=0.0,p=0.0,f=0.0,d=0.0,_=0,m=0,g=0,b=0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0,A=0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0,D=0.0,k=0.0,O=0.0,N=0.0,F=0.0,B=0.0,j=0.0;A=h;h=h+464|0;Wh(15952);n=o[t+84>>2]|0;if(n|0)ok[n&31](t,e);ok[o[(o[t>>2]|0)+140>>2]&31](t,e);l[t+28>>2]=e;o[t+32>>2]=0;o[t+48>>2]=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;Wh(15981);Wh(16006);n=o[t+316>>2]|0;if((o[t+308>>2]|0)>0){s=0;do{b=o[t+24>>2]|0;ck[o[(o[b>>2]|0)+16>>2]&127](b,o[n+(s<<2)>>2]|0);s=s+1|0;n=o[t+316>>2]|0}while((s|0)<(o[t+308>>2]|0))}if(n|0){if(i[t+320>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[t+316>>2]=0}i[t+320>>0]=1;o[t+316>>2]=0;o[t+308>>2]=0;o[t+312>>2]=0;n=o[2006]|0;b=(o[n+16>>2]|0)+-1|0;o[n+16>>2]=b;do{if(!b){if(o[n+4>>2]|0){fe(A+368|0,0)|0;b=o[5649]|0;l[n+8>>2]=+l[n+8>>2]+ +(((o[A+368+4>>2]|0)-(o[b+4>>2]|0)+(((o[A+368>>2]|0)-(o[b>>2]|0)|0)*1e6|0)-(o[n+12>>2]|0)|0)>>>0)/1.0e3;if(o[n+16>>2]|0)break;n=o[2006]|0}o[2006]=o[n+20>>2]}}while(0);t:do{if((o[t+232>>2]|0)>0){m=A+304+48|0;g=A+368+44|0;b=0;while(1){c=o[(o[t+240>>2]|0)+(b<<2)>>2]|0;l[c+248>>2]=1.0;e:do{switch(o[c+216>>2]|0){case 2:case 5:break;default:if(((o[c+204>>2]&3|0)==0?(Uy(c+4|0,+l[c+336>>2],+l[c+340>>2],+l[c+344>>2],c+352|0,e,A+304|0),v=+l[m>>2],y=v-+l[c+52>>2],x=+l[A+304+52>>2],w=x-+l[c+56>>2],S=+l[A+304+56>>2],M=S-+l[c+60>>2],i[t+44>>0]|0):0)?(d=+l[c+256>>2],d*d!=0.0?d*d<y*y+w*w+M*M:0):0){Wh(16043);if((o[(o[c+192>>2]|0)+4>>2]|0)<20?(o[5475]=(o[5475]|0)+1,a=o[t+68>>2]|0,a=uk[o[(o[a>>2]|0)+36>>2]&127](a)|0,_=o[t+24>>2]|0,l[A+368+4>>2]=1.0,r[A+368+8>>1]=1,r[A+368+10>>1]=-1,o[A+368>>2]=7848,o[A+368+12>>2]=o[c+52>>2],o[A+368+12+4>>2]=o[c+52+4>>2],o[A+368+12+8>>2]=o[c+52+8>>2],o[A+368+12+12>>2]=o[c+52+12>>2],o[A+368+28>>2]=o[m>>2],o[A+368+28+4>>2]=o[m+4>>2],o[A+368+28+8>>2]=o[m+8>>2],o[A+368+28+12>>2]=o[m+12>>2],o[A+368+76>>2]=0,o[A+368>>2]=7872,o[A+368+80>>2]=c,o[A+368+88>>2]=a,o[A+368+92>>2]=_,_=o[c+252>>2]|0,o[A+248+8>>2]=0,o[A+248+12>>2]=-1,o[A+248+16>>2]=1065353216,o[A+248+20>>2]=1065353216,o[A+248+24>>2]=1065353216,l[A+248+28>>2]=0.0,o[A+248>>2]=6380,o[A+248+4>>2]=8,o[A+248+32>>2]=_,o[A+248+48>>2]=_,o[A+368+84>>2]=o[t+56>>2],_=o[(o[c+188>>2]|0)+4>>2]|0,r[A+368+8>>1]=_,r[A+368+10>>1]=_>>>16,o[A+184+48>>2]=o[m>>2],o[A+184+48+4>>2]=o[m+4>>2],o[A+184+48+8>>2]=o[m+8>>2],o[A+184+48+12>>2]=o[m+12>>2],o[A+184>>2]=o[c+4>>2],o[A+184+4>>2]=o[c+4+4>>2],o[A+184+8>>2]=o[c+4+8>>2],o[A+184+12>>2]=o[c+4+12>>2],o[A+184+16>>2]=o[c+20>>2],o[A+184+16+4>>2]=o[c+20+4>>2],o[A+184+16+8>>2]=o[c+20+8>>2],o[A+184+16+12>>2]=o[c+20+12>>2],o[A+184+32>>2]=o[c+36>>2],o[A+184+32+4>>2]=o[c+36+4>>2],o[A+184+32+8>>2]=o[c+36+8>>2],o[A+184+32+12>>2]=o[c+36+12>>2],qw(t,A+248|0,c+4|0,A+184|0,A+368|0,0.0),C=+l[A+368+4>>2],C<1.0):0){u=C*(v-+l[c+52>>2]);p=C*(x-+l[c+56>>2]);f=C*(S-+l[c+60>>2]);d=-(p*+l[A+368+48>>2])-u*+l[g>>2]-f*+l[A+368+52>>2];_=o[t+24>>2]|0;_=vk[o[(o[_>>2]|0)+12>>2]&63](_,c,o[A+368+76>>2]|0)|0;n=o[t+308>>2]|0;if((n|0)==(o[t+312>>2]|0)?(T=n|0?n<<1:1,(n|0)<(T|0)):0){if(!T)a=0;else{o[5637]=(o[5637]|0)+1;n=Jc((T<<2|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}a=n;n=o[t+308>>2]|0}if((n|0)>0){s=0;do{o[a+(s<<2)>>2]=o[(o[t+316>>2]|0)+(s<<2)>>2];s=s+1|0}while((s|0)!=(n|0))}s=o[t+316>>2]|0;if(s){if(i[t+320>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0);n=o[t+308>>2]|0}o[t+316>>2]=0}i[t+320>>0]=1;o[t+316>>2]=a;o[t+312>>2]=T}o[(o[t+316>>2]|0)+(n<<2)>>2]=_;o[t+308>>2]=n+1;u=u+ +l[c+52>>2];p=p+ +l[c+56>>2];f=f+ +l[c+60>>2];a=o[A+368+76>>2]|0;j=+l[a+4>>2];B=+l[a+20>>2];F=+l[a+36>>2];N=+l[a+8>>2];O=+l[a+24>>2];k=+l[a+40>>2];D=+l[a+12>>2];I=+l[a+28>>2];E=+l[a+44>>2];P=-+l[a+52>>2];R=-+l[a+56>>2];L=-+l[a+60>>2];o[A>>2]=0;o[A+4>>2]=0;o[A+8>>2]=0;o[A+12>>2]=0;l[A+16>>2]=u*j+p*B+f*F+(j*P+B*R+F*L);l[A+20>>2]=u*N+p*O+f*k+(N*P+O*R+k*L);l[A+24>>2]=u*D+p*I+f*E+(D*P+I*R+E*L);l[A+28>>2]=0.0;o[A+64>>2]=o[g>>2];o[A+64+4>>2]=o[g+4>>2];o[A+64+8>>2]=o[g+8>>2];o[A+64+12>>2]=o[g+12>>2];l[A+80>>2]=d;l[A+84>>2]=0.0;l[A+88>>2]=0.0;l[A+92>>2]=0.0;o[A+112>>2]=0;i[A+116>>0]=0;o[A+120>>2]=0;o[A+120+4>>2]=0;o[A+120+8>>2]=0;o[A+120+12>>2]=0;o[A+120+16>>2]=0;o[A+120+20>>2]=0;o[A+120+24>>2]=0;o[A+120+28>>2]=0;a=hx(_,A)|0;l[_+4+(a*184|0)+92>>2]=0.0;d=+l[c+224>>2]*+l[(o[A+368+76>>2]|0)+224>>2];d=d<-10.0?-10.0:d;l[_+4+(a*184|0)+84>>2]=d>10.0?10.0:d;o[_+4+(a*184|0)+48>>2]=o[c+52>>2];o[_+4+(a*184|0)+48+4>>2]=o[c+52+4>>2];o[_+4+(a*184|0)+48+8>>2]=o[c+52+8>>2];o[_+4+(a*184|0)+48+12>>2]=o[c+52+12>>2];l[_+4+(a*184|0)+32>>2]=u;l[_+4+(a*184|0)+36>>2]=p;l[_+4+(a*184|0)+40>>2]=f;l[_+4+(a*184|0)+44>>2]=0.0}n=o[2006]|0;_=(o[n+16>>2]|0)+-1|0;o[n+16>>2]=_;if(!_){if(o[n+4>>2]|0){fe(A+368|0,0)|0;_=o[5649]|0;l[n+8>>2]=+l[n+8>>2]+ +(((o[A+368+4>>2]|0)-(o[_+4>>2]|0)+(((o[A+368>>2]|0)-(o[_>>2]|0)|0)*1e6|0)-(o[n+12>>2]|0)|0)>>>0)/1.0e3;if(o[n+16>>2]|0)break e;n=o[2006]|0}o[2006]=o[n+20>>2]}}}}while(0);b=b+1|0;if((b|0)>=(o[t+232>>2]|0))break t}}}while(0);n=o[2006]|0;T=(o[n+16>>2]|0)+-1|0;o[n+16>>2]=T;do{if(!T){if(o[n+4>>2]|0){fe(A+368|0,0)|0;T=o[5649]|0;l[n+8>>2]=+l[n+8>>2]+ +(((o[A+368+4>>2]|0)-(o[T+4>>2]|0)+(((o[A+368>>2]|0)-(o[T>>2]|0)|0)*1e6|0)-(o[n+12>>2]|0)|0)>>>0)/1.0e3;if(o[n+16>>2]|0)break;n=o[2006]|0}o[2006]=o[n+20>>2]}}while(0);sk[o[(o[t>>2]|0)+44>>2]&255](t);sk[o[(o[t>>2]|0)+148>>2]&255](t);l[t+104>>2]=e;ck[o[(o[t>>2]|0)+152>>2]&127](t,t+92|0);ok[o[(o[t>>2]|0)+144>>2]&31](t,e);Wh(16070);if((o[t+280>>2]|0)>0){n=0;do{T=o[(o[t+288>>2]|0)+(n<<2)>>2]|0;Gk[o[(o[T>>2]|0)+8>>2]&7](T,t,e);n=n+1|0}while((n|0)<(o[t+280>>2]|0))}n=o[2006]|0;T=(o[n+16>>2]|0)+-1|0;o[n+16>>2]=T;do{if(!T){if(o[n+4>>2]|0){fe(A+368|0,0)|0;T=o[5649]|0;l[n+8>>2]=+l[n+8>>2]+ +(((o[A+368+4>>2]|0)-(o[T+4>>2]|0)+(((o[A+368>>2]|0)-(o[T>>2]|0)|0)*1e6|0)-(o[n+12>>2]|0)|0)>>>0)/1.0e3;if(o[n+16>>2]|0)break;n=o[2006]|0}o[2006]=o[n+20>>2]}}while(0);ok[o[(o[t>>2]|0)+156>>2]&31](t,e);n=o[t+80>>2]|0;if(n|0)ok[n&31](t,e);n=o[2006]|0;t=(o[n+16>>2]|0)+-1|0;o[n+16>>2]=t;if(t|0){h=A;return}do{if(o[n+4>>2]|0){fe(A+368|0,0)|0;t=o[5649]|0;l[n+8>>2]=+l[n+8>>2]+ +(((o[A+368+4>>2]|0)-(o[t+4>>2]|0)+(((o[A+368>>2]|0)-(o[t>>2]|0)|0)*1e6|0)-(o[n+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[n+16>>2]|0)){n=o[2006]|0;break}else{h=A;return}}}while(0);o[2006]=o[n+20>>2];h=A;return}function Lv(t,e){t=t|0;e=+e;var n=0,i=0,r=0,s=0,a=0.0,c=0.0,u=0.0;s=h;h=h+32|0;n=o[t+8>>2]|0;if((n|0)<=0){h=s;return}r=0;do{i=o[(o[t+16>>2]|0)+(r<<2)>>2]|0;if((!((i|0)==0?1:(o[i+236>>2]&2|0)==0)?(o[i+216>>2]|0)!=2:0)?!(e==0.0?1:(o[i+204>>2]&2|0)==0):0){n=o[i+504>>2]|0;if(!n)n=i+4|0;else{ck[o[(o[n>>2]|0)+8>>2]&127](n,i+4|0);n=i+4|0}c=1.0/e*(+l[i+56>>2]-+l[i+120>>2]);u=1.0/e*(+l[i+60>>2]-+l[i+124>>2]);l[i+336>>2]=1.0/e*(+l[i+52>>2]-+l[i+116>>2]);l[i+340>>2]=c;l[i+344>>2]=u;l[i+348>>2]=0.0;Yw(i+68|0,n,s+8|0,s);u=+l[s>>2];c=1.0/e*(u*+l[s+8+4>>2]);a=1.0/e*(u*+l[s+8+8>>2]);l[i+352>>2]=1.0/e*(+l[s+8>>2]*u);l[i+356>>2]=c;l[i+360>>2]=a;l[i+364>>2]=0.0;o[i+132>>2]=o[i+336>>2];o[i+132+4>>2]=o[i+336+4>>2];o[i+132+8>>2]=o[i+336+8>>2];o[i+132+12>>2]=o[i+336+12>>2];o[i+148>>2]=o[i+352>>2];o[i+148+4>>2]=o[i+352+4>>2];o[i+148+8>>2]=o[i+352+8>>2];o[i+148+12>>2]=o[i+352+12>>2];o[i+68>>2]=o[n>>2];o[i+68+4>>2]=o[n+4>>2];o[i+68+8>>2]=o[n+8>>2];o[i+68+12>>2]=o[n+12>>2];o[i+84>>2]=o[i+20>>2];o[i+84+4>>2]=o[i+20+4>>2];o[i+84+8>>2]=o[i+20+8>>2];o[i+84+12>>2]=o[i+20+12>>2];o[i+100>>2]=o[i+36>>2];o[i+100+4>>2]=o[i+36+4>>2];o[i+100+8>>2]=o[i+36+8>>2];o[i+100+12>>2]=o[i+36+12>>2];o[i+116>>2]=o[i+52>>2];o[i+116+4>>2]=o[i+52+4>>2];o[i+116+8>>2]=o[i+52+8>>2];o[i+116+12>>2]=o[i+52+12>>2];n=o[t+8>>2]|0}r=r+1|0}while((r|0)<(n|0));h=s;return}function Ev(t,e){t=t|0;e=e|0;var n=0.0,r=0.0,s=0,a=0,c=0,u=0.0,p=0.0,d=0,_=0,m=0,g=0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0,E=0,R=0,I=0,P=0,D=0,k=0,O=0,N=0.0,F=0,B=0.0,j=0.0,U=0.0,z=0.0,G=0.0,V=0.0,W=0.0,q=0.0,Y=0.0,Z=0.0,J=0.0;F=h;h=h+384|0;L=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;L=(uk[o[(o[L>>2]|0)+56>>2]&127](L)|0)>>>11;O=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;O=(uk[o[(o[O>>2]|0)+56>>2]&127](O)|0)>>>12;N=+l[e+40>>2];if(N<=0.0){h=F;return}switch(o[e+4>>2]|0){case 3:{o[F+320>>2]=1065353216;o[F+320+4>>2]=0;o[F+320+4+4>>2]=0;o[F+320+4+8>>2]=0;o[F+320+4+12>>2]=0;o[F+320+20>>2]=1065353216;o[F+320+24>>2]=0;o[F+320+24+4>>2]=0;o[F+320+24+8>>2]=0;o[F+320+24+12>>2]=0;o[F+320+40>>2]=1065353216;O=F+320+44|0;o[O>>2]=0;o[O+4>>2]=0;o[O+8>>2]=0;o[O+12>>2]=0;o[O+16>>2]=0;A=+l[e+300>>2];T=+l[e+304>>2];C=+l[e+308>>2];O=o[e+28>>2]|0;M=A*+l[O+20>>2]+T*+l[O+24>>2]+C*+l[O+28>>2]+ +l[O+56>>2];S=A*+l[O+36>>2]+T*+l[O+40>>2]+C*+l[O+44>>2]+ +l[O+60>>2];l[F+320+48>>2]=A*+l[O+4>>2]+T*+l[O+8>>2]+C*+l[O+12>>2]+ +l[O+52>>2];l[F+320+52>>2]=M;l[F+320+56>>2]=S;l[F+320+60>>2]=0.0;O=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;Gk[o[(o[O>>2]|0)+64>>2]&7](O,F+320|0,N);S=+l[e+316>>2];M=+l[e+320>>2];C=+l[e+324>>2];e=o[e+32>>2]|0;T=S*+l[e+20>>2]+M*+l[e+24>>2]+C*+l[e+28>>2]+ +l[e+56>>2];A=S*+l[e+36>>2]+M*+l[e+40>>2]+C*+l[e+44>>2]+ +l[e+60>>2];l[F+320+48>>2]=S*+l[e+4>>2]+M*+l[e+8>>2]+C*+l[e+12>>2]+ +l[e+52>>2];l[F+320+52>>2]=T;l[F+320+56>>2]=A;l[F+320+60>>2]=0.0;if(L&1|0){t=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;Gk[o[(o[t>>2]|0)+64>>2]&7](t,F+320|0,N)}h=F;return}case 4:{k=o[e+28>>2]|0;B=+l[e+552>>2];W=+l[k+4>>2];n=+l[e+552+16>>2];V=+l[k+8>>2];r=+l[e+552+32>>2];G=+l[k+12>>2];u=+l[e+552+4>>2];p=+l[e+552+20>>2];b=+l[e+552+36>>2];v=+l[e+552+8>>2];x=+l[e+552+24>>2];S=+l[e+552+40>>2];z=+l[k+20>>2];U=+l[k+24>>2];j=+l[k+28>>2];y=+l[k+36>>2];w=+l[k+40>>2];M=+l[k+44>>2];Y=+l[e+552+48>>2];q=+l[e+552+52>>2];A=+l[e+552+56>>2];C=+l[k+52>>2]+(W*Y+V*q+G*A);T=z*Y+U*q+j*A+ +l[k+56>>2];A=y*Y+w*q+M*A+ +l[k+60>>2];l[F+320>>2]=B*W+n*V+r*G;l[F+320+4>>2]=W*u+V*p+G*b;l[F+320+8>>2]=W*v+V*x+G*S;l[F+320+12>>2]=0.0;l[F+320+16>>2]=B*z+n*U+r*j;l[F+320+20>>2]=u*z+p*U+b*j;l[F+320+24>>2]=v*z+x*U+S*j;l[F+320+28>>2]=0.0;l[F+320+32>>2]=B*y+n*w+r*M;l[F+320+36>>2]=u*y+p*w+b*M;l[F+320+40>>2]=v*y+x*w+S*M;l[F+320+44>>2]=0.0;l[F+320+48>>2]=C;l[F+320+52>>2]=T;l[F+320+56>>2]=A;l[F+320+60>>2]=0.0;if(!(L&1)){k=o[e+32>>2]|0;w=+l[e+616>>2];u=+l[k+4>>2];S=+l[e+616+16>>2];p=+l[k+8>>2];M=+l[e+616+32>>2];b=+l[k+12>>2];C=+l[e+616+4>>2];T=+l[e+616+20>>2];A=+l[e+616+36>>2];B=+l[e+616+8>>2];U=+l[e+616+24>>2];G=+l[e+616+40>>2];v=+l[k+20>>2];y=+l[k+24>>2];x=+l[k+28>>2];j=+l[k+36>>2];z=+l[k+40>>2];V=+l[k+44>>2];n=+l[e+616+48>>2];r=+l[e+616+52>>2];Y=+l[e+616+56>>2];W=+l[k+52>>2]+(u*n+p*r+b*Y);q=v*n+y*r+x*Y+ +l[k+56>>2];Y=j*n+z*r+V*Y+ +l[k+60>>2];l[F+320>>2]=w*u+S*p+M*b;l[F+320+4>>2]=u*C+p*T+b*A;l[F+320+8>>2]=u*B+p*U+b*G;l[F+320+12>>2]=0.0;l[F+320+16>>2]=w*v+S*y+M*x;l[F+320+20>>2]=C*v+T*y+A*x;l[F+320+24>>2]=B*v+U*y+G*x;l[F+320+28>>2]=0.0;l[F+320+32>>2]=w*j+S*z+M*V;l[F+320+36>>2]=C*j+T*z+A*V;l[F+320+40>>2]=B*j+U*z+G*V;l[F+320+44>>2]=0.0;l[F+320+48>>2]=W;l[F+320+52>>2]=q;l[F+320+56>>2]=Y;l[F+320+60>>2]=0.0}else{k=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;Gk[o[(o[k>>2]|0)+64>>2]&7](k,F+320|0,N);k=o[e+32>>2]|0;w=+l[e+616>>2];u=+l[k+4>>2];S=+l[e+616+16>>2];p=+l[k+8>>2];M=+l[e+616+32>>2];b=+l[k+12>>2];C=+l[e+616+4>>2];T=+l[e+616+20>>2];A=+l[e+616+36>>2];B=+l[e+616+8>>2];U=+l[e+616+24>>2];G=+l[e+616+40>>2];v=+l[k+20>>2];y=+l[k+24>>2];x=+l[k+28>>2];j=+l[k+36>>2];z=+l[k+40>>2];V=+l[k+44>>2];n=+l[e+616+48>>2];r=+l[e+616+52>>2];Y=+l[e+616+56>>2];W=+l[k+52>>2]+(u*n+p*r+b*Y);q=v*n+y*r+x*Y+ +l[k+56>>2];Y=j*n+z*r+V*Y+ +l[k+60>>2];l[F+320>>2]=w*u+S*p+M*b;l[F+320+4>>2]=u*C+p*T+b*A;l[F+320+8>>2]=u*B+p*U+b*G;l[F+320+12>>2]=0.0;l[F+320+16>>2]=w*v+S*y+M*x;l[F+320+20>>2]=C*v+T*y+A*x;l[F+320+24>>2]=B*v+U*y+G*x;l[F+320+28>>2]=0.0;l[F+320+32>>2]=w*j+S*z+M*V;l[F+320+36>>2]=C*j+T*z+A*V;l[F+320+40>>2]=B*j+U*z+G*V;l[F+320+44>>2]=0.0;l[F+320+48>>2]=W;l[F+320+52>>2]=q;l[F+320+56>>2]=Y;l[F+320+60>>2]=0.0;k=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;Gk[o[(o[k>>2]|0)+64>>2]&7](k,F+320|0,N)}u=+l[e+688>>2];p=+l[e+688+4>>2];n=+Yc(u-p);if(!(n<-3.1415927410125732))if(n>3.1415927410125732)r=n+-6.2831854820251465;else r=n;else r=n+6.2831854820251465;n=+Yc(u+p);if(!(n<-3.1415927410125732)){if(n>3.1415927410125732)n=n+-6.2831854820251465}else n=n+6.2831854820251465;if(!(r==n)?O&1|0:0){o[F+304>>2]=o[F+320+8>>2];o[F+304+4>>2]=o[F+320+24>>2];o[F+304+8>>2]=o[F+320+40>>2];l[F+304+12>>2]=0.0;o[F+272>>2]=o[F+320>>2];o[F+272+4>>2]=o[F+320+16>>2];o[F+272+8>>2]=o[F+320+32>>2];l[F+272+12>>2]=0.0;t=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;e=o[(o[t>>2]|0)+68>>2]|0;o[F+288>>2]=0;o[F+288+4>>2]=0;o[F+288+8>>2]=0;o[F+288+12>>2]=0;gk[e&0](t,F+320+48|0,F+304|0,F+272|0,N,N,p>0.0?r:0.0,p>0.0?n:6.2831854820251465,F+288|0,p>0.0,10.0)}h=F;return}case 5:{c=o[e+28>>2]|0;w=+l[e+300>>2];u=+l[c+4>>2];S=+l[e+300+16>>2];p=+l[c+8>>2];M=+l[e+300+32>>2];b=+l[c+12>>2];C=+l[e+300+4>>2];T=+l[e+300+20>>2];A=+l[e+300+36>>2];B=+l[e+300+8>>2];U=+l[e+300+24>>2];G=+l[e+300+40>>2];v=+l[c+20>>2];y=+l[c+24>>2];x=+l[c+28>>2];j=+l[c+36>>2];z=+l[c+40>>2];V=+l[c+44>>2];n=+l[e+300+48>>2];r=+l[e+300+52>>2];Y=+l[e+300+56>>2];W=+l[c+52>>2]+(u*n+p*r+b*Y);q=v*n+y*r+x*Y+ +l[c+56>>2];Y=j*n+z*r+V*Y+ +l[c+60>>2];l[F+320>>2]=w*u+S*p+M*b;c=F+320+4|0;l[c>>2]=u*C+p*T+b*A;d=F+320+8|0;l[d>>2]=u*B+p*U+b*G;l[F+320+12>>2]=0.0;_=F+320+16|0;l[_>>2]=w*v+S*y+M*x;m=F+320+20|0;l[m>>2]=C*v+T*y+A*x;g=F+320+24|0;l[g>>2]=B*v+U*y+G*x;l[F+320+28>>2]=0.0;E=F+320+32|0;l[E>>2]=w*j+S*z+M*V;R=F+320+36|0;l[R>>2]=C*j+T*z+A*V;I=F+320+40|0;l[I>>2]=B*j+U*z+G*V;l[F+320+44>>2]=0.0;P=F+320+48|0;l[P>>2]=W;D=F+320+52|0;l[D>>2]=q;k=F+320+56|0;l[k>>2]=Y;l[F+320+60>>2]=0.0;if(!(L&1)){L=o[e+32>>2]|0;w=+l[e+364>>2];u=+l[L+4>>2];S=+l[e+364+16>>2];p=+l[L+8>>2];M=+l[e+364+32>>2];b=+l[L+12>>2];C=+l[e+364+4>>2];T=+l[e+364+20>>2];A=+l[e+364+36>>2];B=+l[e+364+8>>2];U=+l[e+364+24>>2];G=+l[e+364+40>>2];v=+l[L+20>>2];y=+l[L+24>>2];x=+l[L+28>>2];j=+l[L+36>>2];z=+l[L+40>>2];V=+l[L+44>>2];n=+l[e+364+48>>2];r=+l[e+364+52>>2];Y=+l[e+364+56>>2];W=+l[L+52>>2]+(u*n+p*r+b*Y);q=v*n+y*r+x*Y+ +l[L+56>>2];Y=j*n+z*r+V*Y+ +l[L+60>>2];l[F+320>>2]=w*u+S*p+M*b;l[c>>2]=u*C+p*T+b*A;l[d>>2]=u*B+p*U+b*G;l[F+320+12>>2]=0.0;l[_>>2]=w*v+S*y+M*x;l[m>>2]=C*v+T*y+A*x;l[g>>2]=B*v+U*y+G*x;l[F+320+28>>2]=0.0;l[E>>2]=w*j+S*z+M*V;l[R>>2]=C*j+T*z+A*V;l[I>>2]=B*j+U*z+G*V;l[F+320+44>>2]=0.0;l[P>>2]=W;l[D>>2]=q;l[k>>2]=Y;l[F+320+60>>2]=0.0}else{L=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;Gk[o[(o[L>>2]|0)+64>>2]&7](L,F+320|0,N);L=o[e+32>>2]|0;w=+l[e+364>>2];u=+l[L+4>>2];S=+l[e+364+16>>2];p=+l[L+8>>2];M=+l[e+364+32>>2];b=+l[L+12>>2];C=+l[e+364+4>>2];T=+l[e+364+20>>2];A=+l[e+364+36>>2];B=+l[e+364+8>>2];U=+l[e+364+24>>2];G=+l[e+364+40>>2];v=+l[L+20>>2];y=+l[L+24>>2];x=+l[L+28>>2];j=+l[L+36>>2];z=+l[L+40>>2];V=+l[L+44>>2];n=+l[e+364+48>>2];r=+l[e+364+52>>2];Y=+l[e+364+56>>2];W=+l[L+52>>2]+(u*n+p*r+b*Y);q=v*n+y*r+x*Y+ +l[L+56>>2];Y=j*n+z*r+V*Y+ +l[L+60>>2];l[F+320>>2]=w*u+S*p+M*b;l[c>>2]=u*C+p*T+b*A;l[d>>2]=u*B+p*U+b*G;l[F+320+12>>2]=0.0;l[_>>2]=w*v+S*y+M*x;l[m>>2]=C*v+T*y+A*x;l[g>>2]=B*v+U*y+G*x;l[F+320+28>>2]=0.0;l[E>>2]=w*j+S*z+M*V;l[R>>2]=C*j+T*z+A*V;l[I>>2]=B*j+U*z+G*V;l[F+320+44>>2]=0.0;l[P>>2]=W;l[D>>2]=q;l[k>>2]=Y;l[F+320+60>>2]=0.0;L=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;Gk[o[(o[L>>2]|0)+64>>2]&7](L,F+320|0,N)}if(O&1|0){jA(F+304|0,e,6.0868353843688965,N);G=+l[F+304>>2];V=+l[F+304+4>>2];W=+l[F+304+8>>2];q=G*+l[_>>2]+V*+l[m>>2]+W*+l[g>>2]+ +l[D>>2];Y=G*+l[E>>2]+V*+l[R>>2]+W*+l[I>>2]+ +l[k>>2];l[F+304>>2]=G*+l[F+320>>2]+V*+l[c>>2]+W*+l[d>>2]+ +l[P>>2];l[F+304+4>>2]=q;l[F+304+8>>2]=Y;l[F+304+12>>2]=0.0;a=F+320+48|0;s=0;do{jA(F+272|0,e,+(s|0)*6.283185005187988*.03125,N);G=+l[F+272>>2];V=+l[F+272+4>>2];W=+l[F+272+8>>2];q=G*+l[_>>2]+V*+l[m>>2]+W*+l[g>>2]+ +l[D>>2];Y=G*+l[E>>2]+V*+l[R>>2]+W*+l[I>>2]+ +l[k>>2];l[F+272>>2]=G*+l[F+320>>2]+V*+l[c>>2]+W*+l[d>>2]+ +l[P>>2];l[F+272+4>>2]=q;l[F+272+8>>2]=Y;l[F+272+12>>2]=0.0;O=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;L=o[(o[O>>2]|0)+16>>2]|0;o[F+256>>2]=0;o[F+256+4>>2]=0;o[F+256+8>>2]=0;o[F+256+12>>2]=0;Wk[L&127](O,F+304|0,F+272|0,F+256|0);if(!(s&3)){O=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;L=o[(o[O>>2]|0)+16>>2]|0;o[F+240>>2]=0;o[F+240+4>>2]=0;o[F+240+8>>2]=0;o[F+240+12>>2]=0;Wk[L&127](O,a,F+272|0,F+240|0)}o[F+304>>2]=o[F+272>>2];o[F+304+4>>2]=o[F+272+4>>2];o[F+304+8>>2]=o[F+272+8>>2];o[F+304+12>>2]=o[F+272+12>>2];s=s+1|0}while((s|0)!=32);T=+l[e+452>>2];A=+l[e+512>>2];s=o[e+32>>2]|0;if(+l[s+368>>2]>0.0){G=+l[e+364>>2];V=+l[s+4>>2];W=+l[e+364+16>>2];q=+l[s+8>>2];Y=+l[e+364+32>>2];S=+l[s+12>>2];U=+l[e+364+4>>2];z=+l[e+364+20>>2];w=+l[e+364+36>>2];B=+l[e+364+8>>2];j=+l[e+364+24>>2];x=+l[e+364+40>>2];J=+l[s+20>>2];Z=+l[s+24>>2];y=+l[s+28>>2];v=+l[s+36>>2];b=+l[s+40>>2];p=+l[s+44>>2];u=+l[e+364+48>>2];r=+l[e+364+52>>2];n=+l[e+364+56>>2];M=v*u+b*r+p*n+ +l[s+60>>2];C=J*u+Z*r+y*n+ +l[s+56>>2];n=+l[s+52>>2]+(V*u+q*r+S*n);r=B*v+j*b+x*p;u=U*v+z*b+w*p;p=G*v+W*b+Y*p;b=B*J+j*Z+x*y;v=U*J+z*Z+w*y;y=G*J+W*Z+Y*y;x=V*B+q*j+S*x;w=V*U+q*z+S*w;S=G*V+W*q+Y*S}else{O=o[e+28>>2]|0;W=+l[e+300>>2];q=+l[O+4>>2];Y=+l[e+300+16>>2];Z=+l[O+8>>2];J=+l[e+300+32>>2];S=+l[O+12>>2];G=+l[e+300+4>>2];V=+l[e+300+20>>2];w=+l[e+300+36>>2];U=+l[e+300+8>>2];z=+l[e+300+24>>2];x=+l[e+300+40>>2];B=+l[O+20>>2];j=+l[O+24>>2];y=+l[O+28>>2];v=+l[O+36>>2];b=+l[O+40>>2];p=+l[O+44>>2];u=+l[e+300+48>>2];r=+l[e+300+52>>2];n=+l[e+300+56>>2];M=v*u+b*r+p*n+ +l[O+60>>2];C=B*u+j*r+y*n+ +l[O+56>>2];n=+l[O+52>>2]+(q*u+Z*r+S*n);r=U*v+z*b+x*p;u=G*v+V*b+w*p;p=W*v+Y*b+J*p;b=U*B+z*j+x*y;v=G*B+V*j+w*y;y=W*B+Y*j+J*y;x=q*U+Z*z+S*x;w=q*G+Z*V+S*w;S=W*q+Y*Z+J*S}l[F+320>>2]=S;l[c>>2]=w;l[d>>2]=x;l[F+320+12>>2]=0.0;l[_>>2]=y;l[m>>2]=v;l[g>>2]=b;l[F+320+28>>2]=0.0;l[E>>2]=p;l[R>>2]=u;l[I>>2]=r;l[F+320+44>>2]=0.0;l[P>>2]=n;l[D>>2]=C;l[k>>2]=M;l[F+320+60>>2]=0.0;o[F+272>>2]=o[a>>2];o[F+272+4>>2]=o[a+4>>2];o[F+272+8>>2]=o[a+8>>2];o[F+272+12>>2]=o[a+12>>2];l[F+208>>2]=S;l[F+208+4>>2]=y;l[F+208+8>>2]=p;l[F+208+12>>2]=0.0;l[F+176>>2]=w;l[F+176+4>>2]=v;l[F+176+8>>2]=u;l[F+176+12>>2]=0.0;t=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;e=o[(o[t>>2]|0)+68>>2]|0;o[F+224>>2]=0;o[F+224+4>>2]=0;o[F+224+8>>2]=0;o[F+224+12>>2]=0;gk[e&0](t,F+272|0,F+208|0,F+176|0,N,N,-A-T,T-A,F+224|0,1,10.0)}h=F;return}case 6:case 9:{o[F+320>>2]=o[e+1064>>2];o[F+320+4>>2]=o[e+1064+4>>2];o[F+320+8>>2]=o[e+1064+8>>2];o[F+320+12>>2]=o[e+1064+12>>2];a=F+320+16|0;c=e+1064+16|0;o[a>>2]=o[c>>2];o[a+4>>2]=o[c+4>>2];o[a+8>>2]=o[c+8>>2];o[a+12>>2]=o[c+12>>2];d=F+320+32|0;_=e+1064+32|0;o[d>>2]=o[_>>2];o[d+4>>2]=o[_+4>>2];o[d+8>>2]=o[_+8>>2];o[d+12>>2]=o[_+12>>2];m=F+320+48|0;g=e+1064+48|0;o[m>>2]=o[g>>2];o[m+4>>2]=o[g+4>>2];o[m+8>>2]=o[g+8>>2];o[m+12>>2]=o[g+12>>2];if(!(L&1)){o[F+320>>2]=o[e+1128>>2];o[F+320+4>>2]=o[e+1128+4>>2];o[F+320+8>>2]=o[e+1128+8>>2];o[F+320+12>>2]=o[e+1128+12>>2];o[a>>2]=o[e+1128+16>>2];o[a+4>>2]=o[e+1128+16+4>>2];o[a+8>>2]=o[e+1128+16+8>>2];o[a+12>>2]=o[e+1128+16+12>>2];o[d>>2]=o[e+1128+32>>2];o[d+4>>2]=o[e+1128+32+4>>2];o[d+8>>2]=o[e+1128+32+8>>2];o[d+12>>2]=o[e+1128+32+12>>2];o[m>>2]=o[e+1128+48>>2];o[m+4>>2]=o[e+1128+48+4>>2];o[m+8>>2]=o[e+1128+48+8>>2];o[m+12>>2]=o[e+1128+48+12>>2]}else{k=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;Gk[o[(o[k>>2]|0)+64>>2]&7](k,F+320|0,N);o[F+320>>2]=o[e+1128>>2];o[F+320+4>>2]=o[e+1128+4>>2];o[F+320+8>>2]=o[e+1128+8>>2];o[F+320+12>>2]=o[e+1128+12>>2];o[a>>2]=o[e+1128+16>>2];o[a+4>>2]=o[e+1128+16+4>>2];o[a+8>>2]=o[e+1128+16+8>>2];o[a+12>>2]=o[e+1128+16+12>>2];o[d>>2]=o[e+1128+32>>2];o[d+4>>2]=o[e+1128+32+4>>2];o[d+8>>2]=o[e+1128+32+8>>2];o[d+12>>2]=o[e+1128+32+12>>2];o[m>>2]=o[e+1128+48>>2];o[m+4>>2]=o[e+1128+48+4>>2];o[m+8>>2]=o[e+1128+48+8>>2];o[m+12>>2]=o[e+1128+48+12>>2];k=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;Gk[o[(o[k>>2]|0)+64>>2]&7](k,F+320|0,N)}if(O&1|0){o[F+320>>2]=o[e+1064>>2];o[F+320+4>>2]=o[e+1064+4>>2];o[F+320+8>>2]=o[e+1064+8>>2];o[F+320+12>>2]=o[e+1064+12>>2];o[a>>2]=o[c>>2];o[a+4>>2]=o[c+4>>2];o[a+8>>2]=o[c+8>>2];o[a+12>>2]=o[c+12>>2];o[d>>2]=o[_>>2];o[d+4>>2]=o[_+4>>2];o[d+8>>2]=o[_+8>>2];o[d+12>>2]=o[_+12>>2];o[m>>2]=o[g>>2];o[m+4>>2]=o[g+4>>2];o[m+8>>2]=o[g+8>>2];o[m+12>>2]=o[g+12>>2];s=e+1128+48|0;o[F+304>>2]=o[F+320+8>>2];o[F+304+4>>2]=o[F+320+24>>2];o[F+304+8>>2]=o[F+320+40>>2];l[F+304+12>>2]=0.0;o[F+272>>2]=o[F+320>>2];o[F+272+4>>2]=o[F+320+16>>2];o[F+272+8>>2]=o[F+320+32>>2];l[F+272+12>>2]=0.0;W=+l[e+932>>2];n=+l[e+932+4>>2];Z=+l[e+996>>2];Y=+l[e+996+4>>2];D=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;k=o[(o[D>>2]|0)+72>>2]|0;o[F+192>>2]=0;o[F+192+4>>2]=0;o[F+192+8>>2]=0;o[F+192+12>>2]=0;Ok[k&0](D,s,F+304|0,F+272|0,N*.8999999761581421,W,n,Z,Y,F+192|0,10.0,1);D=o[F+320+4>>2]|0;k=o[F+320+20>>2]|0;O=o[F+320+36>>2]|0;o[F+272>>2]=D;o[F+272+4>>2]=k;o[F+272+8>>2]=O;l[F+272+12>>2]=0.0;Y=+l[e+1196>>2];Z=+l[e+1200>>2];n=+H(+Y);Y=+X(+Y);W=+H(+Z);Z=+X(+Z);q=(o[f>>2]=D,+l[f>>2]);J=(o[f>>2]=k,+l[f>>2]);r=(o[f>>2]=O,+l[f>>2]);l[F+208>>2]=n*W*q+n*Z*J-Y*r;l[F+208+4>>2]=W*J-Z*q;l[F+208+8>>2]=Y*W*q+Y*Z*J+n*r;o[F+320>>2]=o[e+1128>>2];o[F+320+4>>2]=o[e+1128+4>>2];o[F+320+8>>2]=o[e+1128+8>>2];o[F+320+12>>2]=o[e+1128+12>>2];o[a>>2]=o[e+1128+16>>2];o[a+4>>2]=o[e+1128+16+4>>2];o[a+8>>2]=o[e+1128+16+8>>2];o[a+12>>2]=o[e+1128+16+12>>2];o[d>>2]=o[e+1128+32>>2];o[d+4>>2]=o[e+1128+32+4>>2];o[d+8>>2]=o[e+1128+32+8>>2];o[d+12>>2]=o[e+1128+32+12>>2];o[m>>2]=o[s>>2];o[m+4>>2]=o[s+4>>2];o[m+8>>2]=o[s+8>>2];o[m+12>>2]=o[s+12>>2];r=-+l[F+320+16>>2];n=-+l[F+320+32>>2];l[F+176>>2]=-+l[F+320>>2];l[F+176+4>>2]=r;l[F+176+8>>2]=n;l[F+176+12>>2]=0.0;n=+l[e+868>>2];r=+l[e+868+4>>2];if(!(n>r)){if(n<r){O=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;k=o[(o[O>>2]|0)+68>>2]|0;o[F+144>>2]=0;o[F+144+4>>2]=0;o[F+144+8>>2]=0;o[F+144+12>>2]=0;gk[k&0](O,s,F+176|0,F+208|0,N,N,n,r,F+144|0,1,10.0)}}else{O=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;k=o[(o[O>>2]|0)+68>>2]|0;o[F+160>>2]=0;o[F+160+4>>2]=0;o[F+160+8>>2]=0;o[F+160+12>>2]=0;gk[k&0](O,s,F+176|0,F+208|0,N,N,-3.1415927410125732,3.1415927410125732,F+160|0,0,10.0)}o[F+320>>2]=o[e+1064>>2];o[F+320+4>>2]=o[e+1064+4>>2];o[F+320+8>>2]=o[e+1064+8>>2];o[F+320+12>>2]=o[e+1064+12>>2];o[a>>2]=o[c>>2];o[a+4>>2]=o[c+4>>2];o[a+8>>2]=o[c+8>>2];o[a+12>>2]=o[c+12>>2];o[d>>2]=o[_>>2];o[d+4>>2]=o[_+4>>2];o[d+8>>2]=o[_+8>>2];o[d+12>>2]=o[_+12>>2];o[m>>2]=o[g>>2];o[m+4>>2]=o[g+4>>2];o[m+8>>2]=o[g+8>>2];o[m+12>>2]=o[g+12>>2];o[F+96>>2]=o[e+680>>2];o[F+96+4>>2]=o[e+680+4>>2];o[F+96+8>>2]=o[e+680+8>>2];o[F+96+12>>2]=o[e+680+12>>2];o[F+64>>2]=o[e+680+16>>2];o[F+64+4>>2]=o[e+680+16+4>>2];o[F+64+8>>2]=o[e+680+16+8>>2];o[F+64+12>>2]=o[e+680+16+12>>2];t=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;e=o[(o[t>>2]|0)+80>>2]|0;o[F+128>>2]=0;o[F+128+4>>2]=0;o[F+128+8>>2]=0;o[F+128+12>>2]=0;rk[e&31](t,F+96|0,F+64|0,F+320|0,F+128|0)}h=F;return}case 12:{o[F+320>>2]=o[e+1236>>2];o[F+320+4>>2]=o[e+1236+4>>2];o[F+320+8>>2]=o[e+1236+8>>2];o[F+320+12>>2]=o[e+1236+12>>2];a=F+320+16|0;c=e+1236+16|0;o[a>>2]=o[c>>2];o[a+4>>2]=o[c+4>>2];o[a+8>>2]=o[c+8>>2];o[a+12>>2]=o[c+12>>2];d=F+320+32|0;_=e+1236+32|0;o[d>>2]=o[_>>2];o[d+4>>2]=o[_+4>>2];o[d+8>>2]=o[_+8>>2];o[d+12>>2]=o[_+12>>2];m=F+320+48|0;g=e+1236+48|0;o[m>>2]=o[g>>2];o[m+4>>2]=o[g+4>>2];o[m+8>>2]=o[g+8>>2];o[m+12>>2]=o[g+12>>2];if(!(L&1)){o[F+320>>2]=o[e+1300>>2];o[F+320+4>>2]=o[e+1300+4>>2];o[F+320+8>>2]=o[e+1300+8>>2];o[F+320+12>>2]=o[e+1300+12>>2];o[a>>2]=o[e+1300+16>>2];o[a+4>>2]=o[e+1300+16+4>>2];o[a+8>>2]=o[e+1300+16+8>>2];o[a+12>>2]=o[e+1300+16+12>>2];o[d>>2]=o[e+1300+32>>2];o[d+4>>2]=o[e+1300+32+4>>2];o[d+8>>2]=o[e+1300+32+8>>2];o[d+12>>2]=o[e+1300+32+12>>2];o[m>>2]=o[e+1300+48>>2];o[m+4>>2]=o[e+1300+48+4>>2];o[m+8>>2]=o[e+1300+48+8>>2];o[m+12>>2]=o[e+1300+48+12>>2]}else{k=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;Gk[o[(o[k>>2]|0)+64>>2]&7](k,F+320|0,N);o[F+320>>2]=o[e+1300>>2];o[F+320+4>>2]=o[e+1300+4>>2];o[F+320+8>>2]=o[e+1300+8>>2];o[F+320+12>>2]=o[e+1300+12>>2];o[a>>2]=o[e+1300+16>>2];o[a+4>>2]=o[e+1300+16+4>>2];o[a+8>>2]=o[e+1300+16+8>>2];o[a+12>>2]=o[e+1300+16+12>>2];o[d>>2]=o[e+1300+32>>2];o[d+4>>2]=o[e+1300+32+4>>2];o[d+8>>2]=o[e+1300+32+8>>2];o[d+12>>2]=o[e+1300+32+12>>2];o[m>>2]=o[e+1300+48>>2];o[m+4>>2]=o[e+1300+48+4>>2];o[m+8>>2]=o[e+1300+48+8>>2];o[m+12>>2]=o[e+1300+48+12>>2];k=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;Gk[o[(o[k>>2]|0)+64>>2]&7](k,F+320|0,N)}if(O&1|0){o[F+320>>2]=o[e+1236>>2];o[F+320+4>>2]=o[e+1236+4>>2];o[F+320+8>>2]=o[e+1236+8>>2];o[F+320+12>>2]=o[e+1236+12>>2];o[a>>2]=o[c>>2];o[a+4>>2]=o[c+4>>2];o[a+8>>2]=o[c+8>>2];o[a+12>>2]=o[c+12>>2];o[d>>2]=o[_>>2];o[d+4>>2]=o[_+4>>2];o[d+8>>2]=o[_+8>>2];o[d+12>>2]=o[_+12>>2];o[m>>2]=o[g>>2];o[m+4>>2]=o[g+4>>2];o[m+8>>2]=o[g+8>>2];o[m+12>>2]=o[g+12>>2];s=e+1300+48|0;o[F+304>>2]=o[F+320+8>>2];o[F+304+4>>2]=o[F+320+24>>2];o[F+304+8>>2]=o[F+320+40>>2];l[F+304+12>>2]=0.0;o[F+272>>2]=o[F+320>>2];o[F+272+4>>2]=o[F+320+16>>2];o[F+272+8>>2]=o[F+320+32>>2];l[F+272+12>>2]=0.0;W=+l[e+1056>>2];n=+l[e+1060>>2];Z=+l[e+1144>>2];Y=+l[e+1144+4>>2];D=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;k=o[(o[D>>2]|0)+72>>2]|0;o[F+112>>2]=0;o[F+112+4>>2]=0;o[F+112+8>>2]=0;o[F+112+12>>2]=0;Ok[k&0](D,s,F+304|0,F+272|0,N*.8999999761581421,W,n,Z,Y,F+112|0,10.0,1);D=o[F+320+4>>2]|0;k=o[F+320+20>>2]|0;O=o[F+320+36>>2]|0;o[F+272>>2]=D;o[F+272+4>>2]=k;o[F+272+8>>2]=O;l[F+272+12>>2]=0.0;Y=+l[e+1368>>2];Z=+l[e+1372>>2];n=+H(+Y);Y=+X(+Y);W=+H(+Z);Z=+X(+Z);q=(o[f>>2]=D,+l[f>>2]);J=(o[f>>2]=k,+l[f>>2]);r=(o[f>>2]=O,+l[f>>2]);l[F+208>>2]=n*W*q+n*Z*J-Y*r;l[F+208+4>>2]=W*J-Z*q;l[F+208+8>>2]=Y*W*q+Y*Z*J+n*r;o[F+320>>2]=o[e+1300>>2];o[F+320+4>>2]=o[e+1300+4>>2];o[F+320+8>>2]=o[e+1300+8>>2];o[F+320+12>>2]=o[e+1300+12>>2];o[a>>2]=o[e+1300+16>>2];o[a+4>>2]=o[e+1300+16+4>>2];o[a+8>>2]=o[e+1300+16+8>>2];o[a+12>>2]=o[e+1300+16+12>>2];o[d>>2]=o[e+1300+32>>2];o[d+4>>2]=o[e+1300+32+4>>2];o[d+8>>2]=o[e+1300+32+8>>2];o[d+12>>2]=o[e+1300+32+12>>2];o[m>>2]=o[s>>2];o[m+4>>2]=o[s+4>>2];o[m+8>>2]=o[s+8>>2];o[m+12>>2]=o[s+12>>2];r=-+l[F+320+16>>2];n=-+l[F+320+32>>2];l[F+176>>2]=-+l[F+320>>2];l[F+176+4>>2]=r;l[F+176+8>>2]=n;l[F+176+12>>2]=0.0;n=+l[e+968>>2];r=+l[e+968+4>>2];if(!(n>r)){if(n<r){O=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;k=o[(o[O>>2]|0)+68>>2]|0;o[F+48>>2]=0;o[F+48+4>>2]=0;o[F+48+8>>2]=0;o[F+48+12>>2]=0;gk[k&0](O,s,F+176|0,F+208|0,N,N,n,r,F+48|0,1,10.0)}}else{O=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;k=o[(o[O>>2]|0)+68>>2]|0;o[F+80>>2]=0;o[F+80+4>>2]=0;o[F+80+8>>2]=0;o[F+80+12>>2]=0;gk[k&0](O,s,F+176|0,F+208|0,N,N,-3.1415927410125732,3.1415927410125732,F+80|0,0,10.0)}o[F+320>>2]=o[e+1236>>2];o[F+320+4>>2]=o[e+1236+4>>2];o[F+320+8>>2]=o[e+1236+8>>2];o[F+320+12>>2]=o[e+1236+12>>2];o[a>>2]=o[c>>2];o[a+4>>2]=o[c+4>>2];o[a+8>>2]=o[c+8>>2];o[a+12>>2]=o[c+12>>2];o[d>>2]=o[_>>2];o[d+4>>2]=o[_+4>>2];o[d+8>>2]=o[_+8>>2];o[d+12>>2]=o[_+12>>2];o[m>>2]=o[g>>2];o[m+4>>2]=o[g+4>>2];o[m+8>>2]=o[g+8>>2];o[m+12>>2]=o[g+12>>2];o[F+96>>2]=o[e+680>>2];o[F+96+4>>2]=o[e+680+4>>2];o[F+96+8>>2]=o[e+680+8>>2];o[F+96+12>>2]=o[e+680+12>>2];o[F+64>>2]=o[e+680+16>>2];o[F+64+4>>2]=o[e+680+16+4>>2];o[F+64+8>>2]=o[e+680+16+8>>2];o[F+64+12>>2]=o[e+680+16+12>>2];t=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;e=o[(o[t>>2]|0)+80>>2]|0;o[F+32>>2]=0;o[F+32+4>>2]=0;o[F+32+8>>2]=0;o[F+32+12>>2]=0;rk[e&31](t,F+96|0,F+64|0,F+320|0,F+32|0)}h=F;return}case 7:{o[F+320>>2]=o[e+824>>2];o[F+320+4>>2]=o[e+824+4>>2];o[F+320+8>>2]=o[e+824+8>>2];o[F+320+12>>2]=o[e+824+12>>2];s=F+320+16|0;o[s>>2]=o[e+824+16>>2];o[s+4>>2]=o[e+824+16+4>>2];o[s+8>>2]=o[e+824+16+8>>2];o[s+12>>2]=o[e+824+16+12>>2];a=F+320+32|0;o[a>>2]=o[e+824+32>>2];o[a+4>>2]=o[e+824+32+4>>2];o[a+8>>2]=o[e+824+32+8>>2];o[a+12>>2]=o[e+824+32+12>>2];c=F+320+48|0;o[c>>2]=o[e+824+48>>2];o[c+4>>2]=o[e+824+48+4>>2];o[c+8>>2]=o[e+824+48+8>>2];o[c+12>>2]=o[e+824+48+12>>2];if(!(L&1)){o[F+320>>2]=o[e+888>>2];o[F+320+4>>2]=o[e+888+4>>2];o[F+320+8>>2]=o[e+888+8>>2];o[F+320+12>>2]=o[e+888+12>>2];o[s>>2]=o[e+888+16>>2];o[s+4>>2]=o[e+888+16+4>>2];o[s+8>>2]=o[e+888+16+8>>2];o[s+12>>2]=o[e+888+16+12>>2];o[a>>2]=o[e+888+32>>2];o[a+4>>2]=o[e+888+32+4>>2];o[a+8>>2]=o[e+888+32+8>>2];o[a+12>>2]=o[e+888+32+12>>2];o[c>>2]=o[e+888+48>>2];o[c+4>>2]=o[e+888+48+4>>2];o[c+8>>2]=o[e+888+48+8>>2];o[c+12>>2]=o[e+888+48+12>>2]}else{k=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;Gk[o[(o[k>>2]|0)+64>>2]&7](k,F+320|0,N);o[F+320>>2]=o[e+888>>2];o[F+320+4>>2]=o[e+888+4>>2];o[F+320+8>>2]=o[e+888+8>>2];o[F+320+12>>2]=o[e+888+12>>2];o[s>>2]=o[e+888+16>>2];o[s+4>>2]=o[e+888+16+4>>2];o[s+8>>2]=o[e+888+16+8>>2];o[s+12>>2]=o[e+888+16+12>>2];o[a>>2]=o[e+888+32>>2];o[a+4>>2]=o[e+888+32+4>>2];o[a+8>>2]=o[e+888+32+8>>2];o[a+12>>2]=o[e+888+32+12>>2];o[c>>2]=o[e+888+48>>2];o[c+4>>2]=o[e+888+48+4>>2];o[c+8>>2]=o[e+888+48+8>>2];o[c+12>>2]=o[e+888+48+12>>2];k=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;Gk[o[(o[k>>2]|0)+64>>2]&7](k,F+320|0,N)}if(O&1|0){E=i[e+180>>0]|0?e+824|0:e+888|0;R=o[E>>2]|0;D=o[E+4>>2]|0;I=o[E+16>>2]|0;k=o[E+20>>2]|0;P=o[E+32>>2]|0;O=o[E+36>>2]|0;T=+l[E+48>>2];U=+l[E+52>>2];W=+l[E+56>>2];Z=+l[e+184>>2];j=(o[f>>2]=R,+l[f>>2]);B=(o[f>>2]=D,+l[f>>2])*0.0;A=+l[E+8>>2]*0.0;V=(o[f>>2]=I,+l[f>>2]);G=(o[f>>2]=k,+l[f>>2])*0.0;z=+l[E+24>>2]*0.0;J=(o[f>>2]=P,+l[f>>2]);Y=(o[f>>2]=O,+l[f>>2])*0.0;q=+l[E+40>>2]*0.0;l[F+304>>2]=T+(A+(B+j*Z));l[F+304+4>>2]=U+(z+(G+V*Z));l[F+304+8>>2]=W+(q+(Y+J*Z));l[F+304+12>>2]=0.0;Z=+l[e+188>>2];l[F+272>>2]=T+(A+(B+j*Z));l[F+272+4>>2]=U+(z+(G+V*Z));l[F+272+8>>2]=W+(q+(Y+J*Z));l[F+272+12>>2]=0.0;E=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;L=o[(o[E>>2]|0)+16>>2]|0;o[F+16>>2]=0;o[F+16+4>>2]=0;o[F+16+8>>2]=0;o[F+16+12>>2]=0;Wk[L&127](E,F+304|0,F+272|0,F+16|0);o[F+208>>2]=R;o[F+208+4>>2]=I;o[F+208+8>>2]=P;l[F+208+12>>2]=0.0;o[F+176>>2]=D;o[F+176+4>>2]=k;o[F+176+8>>2]=O;l[F+176+12>>2]=0.0;Z=+l[e+192>>2];J=+l[e+196>>2];t=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;O=o[(o[t>>2]|0)+68>>2]|0;o[F>>2]=0;o[F+4>>2]=0;o[F+8>>2]=0;o[F+12>>2]=0;gk[O&0](t,e+888+48|0,F+208|0,F+176|0,N,N,Z,J,F,1,10.0)}h=F;return}default:{h=F;return}}}function Rv(t){t=t|0;var e=0,n=0,i=0,r=0.0,s=0.0;i=o[t+232>>2]|0;if((i|0)<=0)return;t=o[t+240>>2]|0;n=0;do{e=o[t+(n<<2)>>2]|0;switch(o[e+216>>2]|0){case 2:case 5:break;default:if(!(o[e+204>>2]&3)){s=+l[e+392>>2]*+l[e+376>>2];r=+l[e+396>>2]*+l[e+380>>2];l[e+436>>2]=+l[e+388>>2]*+l[e+372>>2]+ +l[e+436>>2];l[e+440>>2]=s+ +l[e+440>>2];l[e+444>>2]=r+ +l[e+444>>2]}}n=n+1|0}while((n|0)!=(i|0));return}function Iv(t,e){t=t|0;e=e|0;return}function Pv(t,e){t=t|0;e=+e;var n=0,i=0,r=0;i=h;h=h+16|0;Wh(16070);if((o[t+280>>2]|0)>0){n=0;do{r=o[(o[t+288>>2]|0)+(n<<2)>>2]|0;Gk[o[(o[r>>2]|0)+8>>2]&7](r,t,e);n=n+1|0}while((n|0)<(o[t+280>>2]|0))}n=o[2006]|0;r=(o[n+16>>2]|0)+-1|0;o[n+16>>2]=r;if(r|0){h=i;return}do{if(o[n+4>>2]|0){fe(i|0,0)|0;r=o[5649]|0;l[n+8>>2]=+l[n+8>>2]+ +(((o[i+4>>2]|0)-(o[r+4>>2]|0)+(((o[i>>2]|0)-(o[r>>2]|0)|0)*1e6|0)-(o[n+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[n+16>>2]|0)){n=o[2006]|0;break}else{h=i;return}}}while(0);o[2006]=o[n+20>>2];h=i;return}function Dv(t){t=t|0;var e=0;o[t>>2]=7896;e=o[t+80>>2]|0;if(e|0){if(i[t+84>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+80>>2]=0}i[t+84>>0]=1;o[t+80>>2]=0;o[t+72>>2]=0;o[t+76>>2]=0;e=o[t+60>>2]|0;if(e|0){if(i[t+64>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+60>>2]=0}i[t+64>>0]=1;o[t+60>>2]=0;o[t+52>>2]=0;o[t+56>>2]=0;e=o[t+40>>2]|0;if(!e){i[t+44>>0]=1;o[t+40>>2]=0;o[t+32>>2]=0;t=t+36|0;o[t>>2]=0;return}if(i[t+44>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+40>>2]=0;i[t+44>>0]=1;o[t+40>>2]=0;o[t+32>>2]=0;t=t+36|0;o[t>>2]=0;return}function kv(t){t=t|0;Dv(t);Kc(t);return}function Ov(t,e,n,r,s,a){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;a=a|0;var c=0,l=0,u=0,h=0,p=0,f=0,d=0;if((a|0)<0){d=o[t+8>>2]|0;+Ik[o[(o[d>>2]|0)+12>>2]&3](d,e,n,r,s,o[t+12>>2]|0,o[t+16>>2]|0,o[t+4>>2]|0,o[t+20>>2]|0,o[t+24>>2]|0);return}f=o[t+16>>2]|0;t:do{if((f|0)>0){p=o[t+12>>2]|0;c=0;while(1){h=p+(c<<2)|0;u=o[h>>2]|0;l=o[(o[u+28>>2]|0)+208>>2]|0;if((l|0)<=-1)l=o[(o[u+32>>2]|0)+208>>2]|0;if((l|0)==(a|0)){d=h;break t}c=c+1|0;if((c|0)>=(f|0)){d=0;break}}}else{c=0;d=0}}while(0);if((c|0)<(f|0)){p=o[t+12>>2]|0;l=0;do{h=o[p+(c<<2)>>2]|0;u=o[(o[h+28>>2]|0)+208>>2]|0;if((u|0)<=-1)u=o[(o[h+32>>2]|0)+208>>2]|0;l=((u|0)==(a|0)&1)+l|0;c=c+1|0}while((c|0)!=(f|0));a=l}else a=0;c=o[t+4>>2]|0;if((o[c+72>>2]|0)<2){f=o[t+8>>2]|0;+Ik[o[(o[f>>2]|0)+12>>2]&3](f,e,n,r,s,d,a,c,o[t+20>>2]|0,o[t+24>>2]|0);return}if((n|0)>0){c=o[t+32>>2]|0;l=o[t+36>>2]|0;f=0;do{p=e+(f<<2)|0;if((c|0)==(l|0)){h=l|0?l<<1:1;if((l|0)<(h|0)){if(!h)c=0;else{o[5637]=(o[5637]|0)+1;c=Jc((h<<2|3)+16|0)|0;if(!c)c=0;else{o[(c+4+15&-16)+-4>>2]=c;c=c+4+15&-16}l=o[t+32>>2]|0}if((l|0)>0){u=0;do{o[c+(u<<2)>>2]=o[(o[t+40>>2]|0)+(u<<2)>>2];u=u+1|0}while((u|0)!=(l|0))}u=o[t+40>>2]|0;if(u){if(i[t+44>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[u+-4>>2]|0);l=o[t+32>>2]|0}o[t+40>>2]=0}i[t+44>>0]=1;o[t+40>>2]=c;o[t+36>>2]=h;c=l;l=h}else c=l}o[(o[t+40>>2]|0)+(c<<2)>>2]=o[p>>2];c=c+1|0;o[t+32>>2]=c;f=f+1|0}while((f|0)!=(n|0))}if((s|0)>0){c=o[t+52>>2]|0;l=o[t+56>>2]|0;f=0;do{p=r+(f<<2)|0;if((c|0)==(l|0)){h=l|0?l<<1:1;if((l|0)<(h|0)){if(!h)c=0;else{o[5637]=(o[5637]|0)+1;c=Jc((h<<2|3)+16|0)|0;if(!c)c=0;else{o[(c+4+15&-16)+-4>>2]=c;c=c+4+15&-16}l=o[t+52>>2]|0}if((l|0)>0){u=0;do{o[c+(u<<2)>>2]=o[(o[t+60>>2]|0)+(u<<2)>>2];u=u+1|0}while((u|0)!=(l|0))}u=o[t+60>>2]|0;if(u){if(i[t+64>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[u+-4>>2]|0);l=o[t+52>>2]|0}o[t+60>>2]=0}i[t+64>>0]=1;o[t+60>>2]=c;o[t+56>>2]=h;c=l;l=h}else c=l}o[(o[t+60>>2]|0)+(c<<2)>>2]=o[p>>2];c=c+1|0;o[t+52>>2]=c;f=f+1|0}while((f|0)!=(s|0))}if((a|0)>0){c=o[t+72>>2]|0;l=o[t+76>>2]|0;f=0;do{p=d+(f<<2)|0;if((c|0)==(l|0)){h=l|0?l<<1:1;if((l|0)<(h|0)){if(!h){u=0;c=l}else{o[5637]=(o[5637]|0)+1;c=Jc((h<<2|3)+16|0)|0;if(!c)c=0;else{o[(c+4+15&-16)+-4>>2]=c;c=c+4+15&-16}u=c;c=o[t+72>>2]|0}if((c|0)>0){l=0;do{o[u+(l<<2)>>2]=o[(o[t+80>>2]|0)+(l<<2)>>2];l=l+1|0}while((l|0)!=(c|0))}l=o[t+80>>2]|0;if(l){if(i[t+84>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[l+-4>>2]|0);c=o[t+72>>2]|0}o[t+80>>2]=0}i[t+84>>0]=1;o[t+80>>2]=u;o[t+76>>2]=h;l=h}else c=l}o[(o[t+80>>2]|0)+(c<<2)>>2]=o[p>>2];c=c+1|0;o[t+72>>2]=c;f=f+1|0}while((f|0)!=(a|0))}else c=o[t+72>>2]|0;if(((o[t+52>>2]|0)+c|0)<=(o[(o[t+4>>2]|0)+72>>2]|0))return;Cv(t);return}function Nv(t){t=t|0;var e=0;o[t>>2]=7916;e=o[t+520>>2]|0;if(e|0){if(i[t+524>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+520>>2]=0}i[t+524>>0]=1;o[t+520>>2]=0;o[t+512>>2]=0;o[t+516>>2]=0;o[t>>2]=3156;e=o[t+276>>2]|0;if(e|0){if(i[t+280>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+276>>2]=0}i[t+280>>0]=1;o[t+276>>2]=0;o[t+268>>2]=0;o[t+272>>2]=0;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function Fv(t){t=t|0;return 488}function Bv(t,e,n){t=t|0;e=e|0;n=n|0;qx(t,e,n)|0;o[e+256>>2]=o[t+288>>2];o[e+260>>2]=o[t+292>>2];o[e+264>>2]=o[t+296>>2];o[e+268>>2]=o[t+300>>2];o[e+272>>2]=o[t+304>>2];o[e+276>>2]=o[t+308>>2];o[e+280>>2]=o[t+312>>2];o[e+284>>2]=o[t+316>>2];o[e+288>>2]=o[t+320>>2];o[e+292>>2]=o[t+324>>2];o[e+296>>2]=o[t+328>>2];o[e+300>>2]=o[t+332>>2];o[e+304>>2]=o[t+336>>2];o[e+308>>2]=o[t+340>>2];o[e+312>>2]=o[t+344>>2];o[e+316>>2]=o[t+348>>2];o[e+320>>2]=o[t+352>>2];o[e+324>>2]=o[t+356>>2];o[e+328>>2]=o[t+360>>2];o[e+332>>2]=o[t+364>>2];o[e+448>>2]=o[t+368>>2];o[e+336>>2]=o[t+568>>2];o[e+340>>2]=o[t+572>>2];o[e+344>>2]=o[t+576>>2];o[e+348>>2]=o[t+580>>2];o[e+352>>2]=o[t+372>>2];o[e+356>>2]=o[t+376>>2];o[e+360>>2]=o[t+380>>2];o[e+364>>2]=o[t+384>>2];o[e+368>>2]=o[t+388>>2];o[e+372>>2]=o[t+392>>2];o[e+376>>2]=o[t+396>>2];o[e+380>>2]=o[t+400>>2];o[e+384>>2]=o[t+404>>2];o[e+388>>2]=o[t+408>>2];o[e+392>>2]=o[t+412>>2];o[e+396>>2]=o[t+416>>2];o[e+400>>2]=o[t+420>>2];o[e+404>>2]=o[t+424>>2];o[e+408>>2]=o[t+428>>2];o[e+412>>2]=o[t+432>>2];o[e+416>>2]=o[t+436>>2];o[e+420>>2]=o[t+440>>2];o[e+424>>2]=o[t+444>>2];o[e+428>>2]=o[t+448>>2];o[e+432>>2]=o[t+452>>2];o[e+436>>2]=o[t+456>>2];o[e+440>>2]=o[t+460>>2];o[e+444>>2]=o[t+464>>2];o[e+452>>2]=o[t+468>>2];o[e+456>>2]=o[t+472>>2];o[e+484>>2]=s[t+476>>0];o[e+460>>2]=o[t+480>>2];o[e+464>>2]=o[t+484>>2];o[e+468>>2]=o[t+488>>2];o[e+472>>2]=o[t+492>>2];o[e+476>>2]=o[t+496>>2];o[e+480>>2]=o[t+500>>2];return 16174}function jv(t,e){t=t|0;e=e|0;var n=0,i=0;n=o[(o[e>>2]|0)+16>>2]|0;i=uk[o[(o[t>>2]|0)+16>>2]&127](t)|0;i=vk[n&63](e,i,1)|0;n=vk[o[(o[t>>2]|0)+20>>2]&63](t,o[i+8>>2]|0,e)|0;rk[o[(o[e>>2]|0)+20>>2]&31](e,i,n,1497645650,t);return}function Uv(t,e){t=t|0;e=e|0;var n=0,r=0.0,s=0,a=0,c=0,u=0.0,p=0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0;p=h;h=h+32|0;o[t+236>>2]=2;o[t+336>>2]=0;o[t+336+4>>2]=0;o[t+336+8>>2]=0;o[t+336+12>>2]=0;o[t+336+16>>2]=0;o[t+336+20>>2]=0;o[t+336+24>>2]=0;o[t+336+28>>2]=0;o[t+568>>2]=1065353216;o[t+572>>2]=1065353216;o[t+576>>2]=1065353216;l[t+580>>2]=0.0;o[t+372>>2]=1065353216;o[t+376>>2]=1065353216;o[t+380>>2]=1065353216;n=t+384|0;s=n+36|0;do{o[n>>2]=0;n=n+4|0}while((n|0)<(s|0));o[t+436>>2]=0;o[t+436+4>>2]=0;o[t+436+8>>2]=0;o[t+436+12>>2]=0;o[t+436+16>>2]=0;o[t+436+20>>2]=0;o[t+436+24>>2]=0;o[t+436+28>>2]=0;r=+l[e+92>>2];u=+l[e+96>>2];l[p+20>>2]=r;l[p+16>>2]=u;l[p+12>>2]=0.0;l[p+8>>2]=1.0;o[t+468>>2]=o[(r<0.0?p+12|0:r>1.0?p+8|0:p+20|0)>>2];l[p+4>>2]=0.0;l[p>>2]=1.0;o[t+472>>2]=o[(u<0.0?p+4|0:u>1.0?p:p+16|0)>>2];o[t+496>>2]=o[e+112>>2];o[t+500>>2]=o[e+116>>2];n=o[e+4>>2]|0;o[t+504>>2]=n;o[t+632>>2]=0;o[t+636>>2]=0;i[t+476>>0]=i[e+120>>0]|0;o[t+480>>2]=o[e+124>>2];o[t+484>>2]=o[e+128>>2];o[t+488>>2]=o[e+132>>2];o[t+492>>2]=o[e+136>>2];if(!n){o[t+4>>2]=o[e+8>>2];o[t+4+4>>2]=o[e+8+4>>2];o[t+4+8>>2]=o[e+8+8>>2];o[t+4+12>>2]=o[e+8+12>>2];o[t+20>>2]=o[e+24>>2];o[t+20+4>>2]=o[e+24+4>>2];o[t+20+8>>2]=o[e+24+8>>2];o[t+20+12>>2]=o[e+24+12>>2];o[t+36>>2]=o[e+40>>2];o[t+36+4>>2]=o[e+40+4>>2];o[t+36+8>>2]=o[e+40+8>>2];o[t+36+12>>2]=o[e+40+12>>2];o[t+52>>2]=o[e+56>>2];o[t+52+4>>2]=o[e+56+4>>2];o[t+52+8>>2]=o[e+56+8>>2];o[t+52+12>>2]=o[e+56+12>>2];n=t+4|0;s=t+20|0;a=t+36|0;c=t+52|0}else{ck[o[(o[n>>2]|0)+8>>2]&127](n,t+4|0);n=t+4|0;s=t+20|0;a=t+36|0;c=t+52|0}o[t+68>>2]=o[n>>2];o[t+68+4>>2]=o[n+4>>2];o[t+68+8>>2]=o[n+8>>2];o[t+68+12>>2]=o[n+12>>2];o[t+84>>2]=o[s>>2];o[t+84+4>>2]=o[s+4>>2];o[t+84+8>>2]=o[s+8>>2];o[t+84+12>>2]=o[s+12>>2];o[t+100>>2]=o[a>>2];o[t+100+4>>2]=o[a+4>>2];o[t+100+8>>2]=o[a+8>>2];o[t+100+12>>2]=o[a+12>>2];o[t+116>>2]=o[c>>2];o[t+116+4>>2]=o[c+4>>2];o[t+116+8>>2]=o[c+8>>2];o[t+116+12>>2]=o[c+12>>2];o[t+132>>2]=0;o[t+132+4>>2]=0;o[t+132+8>>2]=0;o[t+132+12>>2]=0;o[t+132+16>>2]=0;o[t+132+20>>2]=0;o[t+132+24>>2]=0;o[t+132+28>>2]=0;o[t+224>>2]=o[e+100>>2];o[t+232>>2]=o[e+104>>2];o[t+228>>2]=o[e+108>>2];ck[o[(o[t>>2]|0)+8>>2]&127](t,o[e+72>>2]|0);n=o[5476]|0;o[5476]=n+1;o[t+532>>2]=n;r=+l[e>>2];n=o[t+204>>2]|0;if(r==0.0){o[t+204>>2]=n|1;u=0.0}else{o[t+204>>2]=n&-2;u=1.0/r}l[t+368>>2]=u;_=r*+l[t+408>>2];d=r*+l[t+412>>2];l[t+388>>2]=r*+l[t+404>>2];l[t+392>>2]=_;l[t+396>>2]=d;l[t+400>>2]=0.0;r=+l[e+76>>2];s=r!=0.0?(l[f>>2]=1.0/r,o[f>>2]|0):0;r=+l[e+80>>2];n=r!=0.0?(l[f>>2]=1.0/r,o[f>>2]|0):0;r=+l[e+84>>2];e=r!=0.0?(l[f>>2]=1.0/r,o[f>>2]|0):0;o[t+420>>2]=s;o[t+424>>2]=n;o[t+428>>2]=e;l[t+432>>2]=0.0;g=u*+l[t+376>>2];S=u*+l[t+380>>2];l[t+584>>2]=u*+l[t+372>>2];l[t+588>>2]=g;l[t+592>>2]=S;l[t+596>>2]=0.0;S=+l[t+4>>2];g=(o[f>>2]=s,+l[f>>2]);w=+l[t+8>>2];r=(o[f>>2]=n,+l[f>>2]);x=+l[t+12>>2];d=(o[f>>2]=e,+l[f>>2]);y=+l[t+20>>2];v=+l[t+24>>2];b=+l[t+28>>2];m=+l[t+36>>2];_=+l[t+40>>2];u=+l[t+44>>2];l[t+288>>2]=S*(S*g)+w*(w*r)+x*(x*d);l[t+292>>2]=S*g*y+w*r*v+x*d*b;l[t+296>>2]=S*g*m+w*r*_+x*d*u;l[t+300>>2]=0.0;l[t+304>>2]=S*(g*y)+w*(r*v)+x*(d*b);l[t+308>>2]=y*(g*y)+v*(r*v)+b*(d*b);l[t+312>>2]=g*y*m+r*v*_+d*b*u;l[t+316>>2]=0.0;l[t+320>>2]=S*(g*m)+w*(r*_)+x*(d*u);l[t+324>>2]=y*(g*m)+v*(r*_)+b*(d*u);l[t+328>>2]=m*(g*m)+_*(r*_)+u*(d*u);l[t+332>>2]=0.0;o[t+528>>2]=8;o[t+536>>2]=0;o[t+536+4>>2]=0;o[t+536+8>>2]=0;o[t+536+12>>2]=0;o[t+536+16>>2]=0;o[t+536+20>>2]=0;o[t+536+24>>2]=0;o[t+536+28>>2]=0;u=+l[t+368>>2];d=u*+l[t+376>>2];_=u*+l[t+380>>2];l[t+584>>2]=+l[t+372>>2]*u;l[t+588>>2]=d;l[t+592>>2]=_;n=t+596|0;s=n+36|0;do{o[n>>2]=0;n=n+4|0}while((n|0)<(s|0));h=p;return}function zv(t,e,n,r,s){t=t|0;e=+e;n=n|0;r=r|0;s=s|0;var a=0;a=h;h=h+144|0;o[t+164>>2]=1065353216;o[t+168>>2]=1065353216;o[t+172>>2]=1065353216;l[t+176>>2]=0.0;o[t+180>>2]=0;l[t+184>>2]=999999984306749440.0;o[t+188>>2]=0;o[t+188+4>>2]=0;o[t+188+8>>2]=0;o[t+188+12>>2]=0;o[t+204>>2]=1;o[t+208>>2]=-1;o[t+212>>2]=-1;o[t+216>>2]=1;l[t+220>>2]=0.0;l[t+224>>2]=.5;l[t+228>>2]=0.0;l[t+232>>2]=0.0;o[t+236>>2]=1;o[t+240>>2]=0;o[t+244>>2]=-1;l[t+248>>2]=1.0;l[t+252>>2]=0.0;l[t+256>>2]=0.0;o[t+260>>2]=0;i[t+280>>0]=1;o[t+276>>2]=0;o[t+268>>2]=0;o[t+272>>2]=0;o[t+284>>2]=0;o[t+4>>2]=1065353216;o[t+8>>2]=0;o[t+8+4>>2]=0;o[t+8+8>>2]=0;o[t+8+12>>2]=0;o[t+24>>2]=1065353216;o[t+28>>2]=0;o[t+28+4>>2]=0;o[t+28+8>>2]=0;o[t+28+12>>2]=0;o[t+44>>2]=1065353216;o[t+48>>2]=0;o[t+48+4>>2]=0;o[t+48+8>>2]=0;o[t+48+12>>2]=0;o[t+48+16>>2]=0;o[t>>2]=7916;i[t+524>>0]=1;o[t+520>>2]=0;o[t+512>>2]=0;o[t+516>>2]=0;l[a>>2]=e;o[a+4>>2]=n;o[a+72>>2]=r;o[a+76>>2]=o[s>>2];o[a+76+4>>2]=o[s+4>>2];o[a+76+8>>2]=o[s+8>>2];o[a+76+12>>2]=o[s+12>>2];l[a+92>>2]=0.0;l[a+96>>2]=0.0;l[a+100>>2]=.5;l[a+104>>2]=0.0;l[a+108>>2]=0.0;l[a+112>>2]=.800000011920929;l[a+116>>2]=1.0;i[a+120>>0]=0;l[a+124>>2]=.004999999888241291;l[a+128>>2]=.009999999776482582;l[a+132>>2]=.009999999776482582;l[a+136>>2]=.009999999776482582;o[a+8>>2]=1065353216;o[a+12>>2]=0;o[a+12+4>>2]=0;o[a+12+8>>2]=0;o[a+12+12>>2]=0;o[a+28>>2]=1065353216;o[a+32>>2]=0;o[a+32+4>>2]=0;o[a+32+8>>2]=0;o[a+32+12>>2]=0;o[a+48>>2]=1065353216;o[a+52>>2]=0;o[a+52+4>>2]=0;o[a+52+8>>2]=0;o[a+52+12>>2]=0;o[a+52+16>>2]=0;Uv(t,a);h=a;return}function Gv(t,e){t=t|0;e=+e;var n=0.0,r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0,p=0.0,f=0.0;h=+l[t+468>>2];a=+W(+(1.0-h),+e);n=a*+l[t+336>>2];l[t+336>>2]=n;s=a*+l[t+340>>2];l[t+340>>2]=s;a=a*+l[t+344>>2];l[t+344>>2]=a;p=+l[t+472>>2];r=+W(+(1.0-p),+e);e=r*+l[t+352>>2];l[t+352>>2]=e;c=r*+l[t+356>>2];l[t+356>>2]=c;r=r*+l[t+360>>2];l[t+360>>2]=r;if(!(i[t+476>>0]|0))return;if(r*r+(e*e+c*c)<+l[t+488>>2]?n*n+s*s+a*a<+l[t+484>>2]:0){f=+l[t+480>>2];l[t+352>>2]=e*f;l[t+356>>2]=f*c;l[t+360>>2]=f*r;l[t+336>>2]=f*n;l[t+340>>2]=f*s;l[t+344>>2]=f*a;n=f*n;s=f*s;a=f*a;u=e*f;c=f*c;r=f*r}else u=e;e=+V(+(n*n+s*s+a*a));do{if(e<h)if(e>.004999999888241291){l[t+336>>2]=n-n*(1.0/e)*.004999999888241291;l[t+340>>2]=s-s*(1.0/e)*.004999999888241291;l[t+344>>2]=a-a*(1.0/e)*.004999999888241291;break}else{o[t+336>>2]=0;o[t+336+4>>2]=0;o[t+336+8>>2]=0;o[t+336+12>>2]=0;break}}while(0);e=+V(+(u*u+c*c+r*r));if(!(e<p))return;if(e>.004999999888241291){l[t+352>>2]=u-u*(1.0/e)*.004999999888241291;l[t+356>>2]=c-c*(1.0/e)*.004999999888241291;l[t+360>>2]=r-r*(1.0/e)*.004999999888241291;return}else{o[t+352>>2]=0;o[t+352+4>>2]=0;o[t+352+8>>2]=0;o[t+352+12>>2]=0;return}}function Vv(t,e){t=t|0;e=e|0;var n=0,i=0,r=0,s=0,a=0,c=0,u=0,h=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0;if(!(o[t+204>>2]&2)){o[t+68>>2]=o[e>>2];o[t+68+4>>2]=o[e+4>>2];o[t+68+8>>2]=o[e+8>>2];o[t+68+12>>2]=o[e+12>>2];o[t+84>>2]=o[e+16>>2];o[t+84+4>>2]=o[e+16+4>>2];o[t+84+8>>2]=o[e+16+8>>2];o[t+84+12>>2]=o[e+16+12>>2];o[t+100>>2]=o[e+32>>2];o[t+100+4>>2]=o[e+32+4>>2];o[t+100+8>>2]=o[e+32+8>>2];o[t+100+12>>2]=o[e+32+12>>2];o[t+116>>2]=o[e+48>>2];o[t+116+4>>2]=o[e+48+4>>2];o[t+116+8>>2]=o[e+48+8>>2];o[t+116+12>>2]=o[e+48+12>>2];n=t+20|0;i=e+16|0;r=t+36|0;s=e+32|0;a=t+52|0;c=e+48|0;u=t+4|0}else{o[t+68>>2]=o[t+4>>2];o[t+68+4>>2]=o[t+4+4>>2];o[t+68+8>>2]=o[t+4+8>>2];o[t+68+12>>2]=o[t+4+12>>2];o[t+84>>2]=o[t+20>>2];o[t+84+4>>2]=o[t+20+4>>2];o[t+84+8>>2]=o[t+20+8>>2];o[t+84+12>>2]=o[t+20+12>>2];o[t+100>>2]=o[t+36>>2];o[t+100+4>>2]=o[t+36+4>>2];o[t+100+8>>2]=o[t+36+8>>2];o[t+100+12>>2]=o[t+36+12>>2];o[t+116>>2]=o[t+52>>2];o[t+116+4>>2]=o[t+52+4>>2];o[t+116+8>>2]=o[t+52+8>>2];o[t+116+12>>2]=o[t+52+12>>2];n=t+20|0;i=e+16|0;r=t+36|0;s=e+32|0;a=t+52|0;c=e+48|0;u=t+4|0}o[t+132>>2]=o[t+336>>2];o[t+132+4>>2]=o[t+336+4>>2];o[t+132+8>>2]=o[t+336+8>>2];o[t+132+12>>2]=o[t+336+12>>2];o[t+148>>2]=o[t+352>>2];o[t+148+4>>2]=o[t+352+4>>2];o[t+148+8>>2]=o[t+352+8>>2];o[t+148+12>>2]=o[t+352+12>>2];o[u>>2]=o[e>>2];o[u+4>>2]=o[e+4>>2];o[u+8>>2]=o[e+8>>2];o[u+12>>2]=o[e+12>>2];o[n>>2]=o[i>>2];o[n+4>>2]=o[i+4>>2];o[n+8>>2]=o[i+8>>2];o[n+12>>2]=o[i+12>>2];o[r>>2]=o[s>>2];o[r+4>>2]=o[s+4>>2];o[r+8>>2]=o[s+8>>2];o[r+12>>2]=o[s+12>>2];o[a>>2]=o[c>>2];o[a+4>>2]=o[c+4>>2];o[a+8>>2]=o[c+8>>2];o[a+12>>2]=o[c+12>>2];w=+l[t+4>>2];m=+l[t+420>>2];x=+l[t+8>>2];d=+l[t+424>>2];y=+l[t+12>>2];p=+l[t+428>>2];v=+l[t+20>>2];b=+l[t+24>>2];g=+l[t+28>>2];_=+l[t+36>>2];f=+l[t+40>>2];h=+l[t+44>>2];l[t+288>>2]=w*(w*m)+x*(x*d)+y*(y*p);l[t+292>>2]=w*m*v+x*d*b+y*p*g;l[t+296>>2]=w*m*_+x*d*f+y*p*h;l[t+300>>2]=0.0;l[t+304>>2]=w*(m*v)+x*(d*b)+y*(p*g);l[t+308>>2]=v*(m*v)+b*(d*b)+g*(p*g);l[t+312>>2]=m*v*_+d*b*f+p*g*h;l[t+316>>2]=0.0;l[t+320>>2]=w*(m*_)+x*(d*f)+y*(p*h);l[t+324>>2]=v*(m*_)+b*(d*f)+g*(p*h);l[t+328>>2]=_*(m*_)+f*(d*f)+h*(p*h);l[t+332>>2]=0.0;return}function Wv(t,e){t=t|0;e=e|0;var n=0,r=0,s=0,a=0,c=0,l=0;n=o[t+512>>2]|0;t:do{if((n|0)>0){s=o[t+520>>2]|0;r=0;while(1){if((o[s+(r<<2)>>2]|0)==(e|0))break;r=r+1|0;if((r|0)>=(n|0))break t}if((r|0)!=(n|0))return}}while(0);if((n|0)==(o[t+516>>2]|0)?(a=n|0?n<<1:1,(n|0)<(a|0)):0){if(!a)s=0;else{o[5637]=(o[5637]|0)+1;n=Jc((a<<2|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}s=n;n=o[t+512>>2]|0}if((n|0)>0){r=0;do{o[s+(r<<2)>>2]=o[(o[t+520>>2]|0)+(r<<2)>>2];r=r+1|0}while((r|0)!=(n|0))}r=o[t+520>>2]|0;if(r){if(i[t+524>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0);n=o[t+512>>2]|0}o[t+520>>2]=0}i[t+524>>0]=1;o[t+520>>2]=s;o[t+516>>2]=a}o[(o[t+520>>2]|0)+(n<<2)>>2]=e;o[t+512>>2]=n+1;a=o[e+28>>2]|0;e=o[e+32>>2]|0;if((a|0)==(t|0)){n=o[t+268>>2]|0;if((n|0)==(o[t+272>>2]|0)?(l=n|0?n<<1:1,(n|0)<(l|0)):0){if(!l)s=0;else{o[5637]=(o[5637]|0)+1;n=Jc((l<<2|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}s=n;n=o[t+268>>2]|0}if((n|0)>0){r=0;do{o[s+(r<<2)>>2]=o[(o[t+276>>2]|0)+(r<<2)>>2];r=r+1|0}while((r|0)!=(n|0))}r=o[t+276>>2]|0;if(r){if(i[t+280>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0);n=o[t+268>>2]|0}o[t+276>>2]=0}i[t+280>>0]=1;o[t+276>>2]=s;o[t+272>>2]=l}o[(o[t+276>>2]|0)+(n<<2)>>2]=e;o[t+268>>2]=n+1;o[t+260>>2]=n>>>31^1;return}else{n=o[e+268>>2]|0;if((n|0)==(o[e+272>>2]|0)?(c=n|0?n<<1:1,(n|0)<(c|0)):0){if(!c)s=0;else{o[5637]=(o[5637]|0)+1;n=Jc((c<<2|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}s=n;n=o[e+268>>2]|0}if((n|0)>0){r=0;do{o[s+(r<<2)>>2]=o[(o[e+276>>2]|0)+(r<<2)>>2];r=r+1|0}while((r|0)!=(n|0))}r=o[e+276>>2]|0;if(r){if(i[e+280>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0);n=o[e+268>>2]|0}o[e+276>>2]=0}i[e+280>>0]=1;o[e+276>>2]=s;o[e+272>>2]=c}o[(o[e+276>>2]|0)+(n<<2)>>2]=a;o[e+268>>2]=n+1;o[e+260>>2]=n>>>31^1;return}}function Hv(t,e){t=t|0;e=e|0;var n=0,i=0,r=0,s=0,a=0,c=0;s=o[t+512>>2]|0;if((s|0)<=0)return;a=o[t+520>>2]|0;n=0;while(1){if((o[a+(n<<2)>>2]|0)==(e|0))break;n=n+1|0;if((n|0)>=(s|0)){c=25;break}}if((c|0)==25)return;if((n|0)<(s|0))r=0;else return;while(1){n=a+(r<<2)|0;if((o[n>>2]|0)==(e|0)){c=8;break}i=r+1|0;if((i|0)<(s|0))r=i;else break}if((c|0)==8?(r|0)<(s|0):0){o[n>>2]=o[a+(s+-1<<2)>>2];o[(o[t+520>>2]|0)+(s+-1<<2)>>2]=e;o[t+512>>2]=s+-1}a=o[e+28>>2]|0;c=o[e+32>>2]|0;if((a|0)==(t|0)){n=o[t+268>>2]|0;t:do{if((n|0)>0){s=o[t+276>>2]|0;i=0;while(1){r=s+(i<<2)|0;if((o[r>>2]|0)==(c|0))break;i=i+1|0;if((i|0)>=(n|0))break t}if((i|0)<(n|0)){o[r>>2]=o[s+(n+-1<<2)>>2];o[(o[t+276>>2]|0)+(n+-1<<2)>>2]=c;o[t+268>>2]=n+-1;n=n+-1|0}}}while(0);o[t+260>>2]=(n|0)>0&1;return}else{n=o[c+268>>2]|0;t:do{if((n|0)>0){s=o[c+276>>2]|0;i=0;while(1){r=s+(i<<2)|0;if((o[r>>2]|0)==(a|0))break;i=i+1|0;if((i|0)>=(n|0))break t}if((i|0)<(n|0)){o[r>>2]=o[s+(n+-1<<2)>>2];o[(o[c+276>>2]|0)+(n+-1<<2)>>2]=a;o[c+268>>2]=n+-1;n=n+-1|0}}}while(0);o[c+260>>2]=(n|0)>0&1;return}}function Xv(t){t=t|0;var e=0;o[t>>2]=7952;e=o[t+136>>2]|0;if(e|0){if(i[t+140>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+136>>2]=0}i[t+140>>0]=1;o[t+136>>2]=0;o[t+128>>2]=0;o[t+132>>2]=0;e=o[t+76>>2]|0;if(e|0){if(i[t+80>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+76>>2]=0}i[t+80>>0]=1;o[t+76>>2]=0;o[t+68>>2]=0;o[t+72>>2]=0;e=o[t+56>>2]|0;if(e|0){if(i[t+60>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+56>>2]=0}i[t+60>>0]=1;o[t+56>>2]=0;o[t+48>>2]=0;o[t+52>>2]=0;e=o[t+36>>2]|0;if(e|0){if(i[t+40>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+36>>2]=0}i[t+40>>0]=1;o[t+36>>2]=0;o[t+28>>2]=0;o[t+32>>2]=0;e=o[t+16>>2]|0;if(!e){i[t+20>>0]=1;o[t+16>>2]=0;o[t+8>>2]=0;t=t+12|0;o[t>>2]=0;return}if(i[t+20>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+16>>2]=0;i[t+20>>0]=1;o[t+16>>2]=0;o[t+8>>2]=0;t=t+12|0;o[t>>2]=0;return}function qv(t){t=t|0;Xv(t);Kc(t);return}function Yv(t,e,n){t=t|0;e=e|0;n=+n;ok[o[(o[t>>2]|0)+16>>2]&31](t,n);return}function Zv(t,e){t=t|0;e=e|0;var n=0,r=0,s=0,a=0.0,c=0.0,u=0,p=0;r=h;h=h+48|0;if((o[t+128>>2]|0)<=0){h=r;return}n=0;do{p=o[t+136>>2]|0;o[r+32>>2]=(i[p+(n*284|0)+84>>0]|0)==0?1065353216:0;o[r+32+4>>2]=0;o[r+32+8>>2]=1065353216;l[r+32+12>>2]=0.0;u=p+(n*284|0)+140|0;o[r+16>>2]=o[u>>2];o[r+16+4>>2]=o[u+4>>2];o[r+16+8>>2]=o[u+8>>2];o[r+16+12>>2]=o[u+12>>2];u=o[t+112>>2]|0;s=o[(o[e>>2]|0)+16>>2]|0;c=+l[p+(n*284|0)+108+(u<<2)>>2]+ +l[r+16+4>>2];a=+l[p+(n*284|0)+124+(u<<2)>>2]+ +l[r+16+8>>2];l[r>>2]=+l[p+(n*284|0)+92+(u<<2)>>2]+ +l[r+16>>2];l[r+4>>2]=c;l[r+8>>2]=a;l[r+12>>2]=0.0;Wk[s&127](e,r+16|0,r,r+32|0);Wk[o[(o[e>>2]|0)+16>>2]&127](e,r+16|0,(o[t+136>>2]|0)+(n*284|0)+16|0,r+32|0);n=n+1|0}while((n|0)<(o[t+128>>2]|0));h=r;return}function Jv(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0.0,c=0.0,p=0.0,f=0,d=0,_=0.0,m=0.0,g=0,b=0,v=0,y=0;d=h;h=h+80|0;n=uk[o[(o[t>>2]|0)+28>>2]&127](t)|0;r=+l[t+4>>2];c=+l[t+8>>2];p=+l[t+12>>2];if((n|0)<=0){h=d;return}f=0;do{Lk[o[(o[t>>2]|0)+16>>2]&3](t,d+76|0,d+52|0,d+64|0,d+56|0,d+72|0,d+68|0,d+48|0,d+60|0,f);t:do{switch(o[d+64>>2]|0){case 0:{switch(o[d+60>>2]|0){case 2:{if((o[d+48>>2]|0)>0)i=0;else break t;do{g=(o[d+72>>2]|0)+(et(o[d+68>>2]|0,i)|0)|0;v=o[d+76>>2]|0;b=o[d+56>>2]|0;y=v+(et(b,o[g>>2]|0)|0)|0;m=c*+l[y+4>>2];_=p*+l[y+8>>2];l[d>>2]=r*+l[y>>2];l[d+4>>2]=m;l[d+8>>2]=_;l[d+12>>2]=0.0;y=v+(et(b,o[g+4>>2]|0)|0)|0;_=c*+l[y+4>>2];m=p*+l[y+8>>2];l[d+16>>2]=r*+l[y>>2];l[d+20>>2]=_;l[d+24>>2]=m;l[d+28>>2]=0.0;g=v+(et(b,o[g+8>>2]|0)|0)|0;m=c*+l[g+4>>2];_=p*+l[g+8>>2];l[d+32>>2]=r*+l[g>>2];l[d+36>>2]=m;l[d+40>>2]=_;l[d+44>>2]=0.0;Wk[o[(o[e>>2]|0)+8>>2]&127](e,d,f,i);i=i+1|0}while((i|0)<(o[d+48>>2]|0));break}case 3:{if((o[d+48>>2]|0)>0)i=0;else break t;do{v=(o[d+72>>2]|0)+(et(o[d+68>>2]|0,i)|0)|0;b=o[d+76>>2]|0;y=o[d+56>>2]|0;g=b+(et(a[v>>1]|0,y)|0)|0;_=c*+l[g+4>>2];m=p*+l[g+8>>2];l[d>>2]=r*+l[g>>2];l[d+4>>2]=_;l[d+8>>2]=m;l[d+12>>2]=0.0;g=b+(et(a[v+2>>1]|0,y)|0)|0;m=c*+l[g+4>>2];_=p*+l[g+8>>2];l[d+16>>2]=r*+l[g>>2];l[d+20>>2]=m;l[d+24>>2]=_;l[d+28>>2]=0.0;y=b+(et(a[v+4>>1]|0,y)|0)|0;_=c*+l[y+4>>2];m=p*+l[y+8>>2];l[d+32>>2]=r*+l[y>>2];l[d+36>>2]=_;l[d+40>>2]=m;l[d+44>>2]=0.0;Wk[o[(o[e>>2]|0)+8>>2]&127](e,d,f,i);i=i+1|0}while((i|0)<(o[d+48>>2]|0));break}case 5:{if((o[d+48>>2]|0)>0)i=0;else break t;do{v=(o[d+72>>2]|0)+(et(o[d+68>>2]|0,i)|0)|0;b=o[d+76>>2]|0;y=o[d+56>>2]|0;g=b+(et(s[v>>0]|0,y)|0)|0;_=c*+l[g+4>>2];m=p*+l[g+8>>2];l[d>>2]=r*+l[g>>2];l[d+4>>2]=_;l[d+8>>2]=m;l[d+12>>2]=0.0;g=b+(et(s[v+1>>0]|0,y)|0)|0;m=c*+l[g+4>>2];_=p*+l[g+8>>2];l[d+16>>2]=r*+l[g>>2];l[d+20>>2]=m;l[d+24>>2]=_;l[d+28>>2]=0.0;y=b+(et(s[v+2>>0]|0,y)|0)|0;_=c*+l[y+4>>2];m=p*+l[y+8>>2];l[d+32>>2]=r*+l[y>>2];l[d+36>>2]=_;l[d+40>>2]=m;l[d+44>>2]=0.0;Wk[o[(o[e>>2]|0)+8>>2]&127](e,d,f,i);i=i+1|0}while((i|0)<(o[d+48>>2]|0));break}default:break t}break}case 1:{switch(o[d+60>>2]|0){case 2:{if((o[d+48>>2]|0)>0)i=0;else break t;do{y=(o[d+72>>2]|0)+(et(o[d+68>>2]|0,i)|0)|0;b=o[d+76>>2]|0;v=o[d+56>>2]|0;g=b+(et(v,o[y>>2]|0)|0)|0;_=c*+u[g+8>>3];m=p*+u[g+16>>3];l[d>>2]=r*+u[g>>3];l[d+4>>2]=_;l[d+8>>2]=m;l[d+12>>2]=0.0;g=b+(et(v,o[y+4>>2]|0)|0)|0;m=c*+u[g+8>>3];_=p*+u[g+16>>3];l[d+16>>2]=r*+u[g>>3];l[d+20>>2]=m;l[d+24>>2]=_;l[d+28>>2]=0.0;y=b+(et(v,o[y+8>>2]|0)|0)|0;_=c*+u[y+8>>3];m=p*+u[y+16>>3];l[d+32>>2]=r*+u[y>>3];l[d+36>>2]=_;l[d+40>>2]=m;l[d+44>>2]=0.0;Wk[o[(o[e>>2]|0)+8>>2]&127](e,d,f,i);i=i+1|0}while((i|0)<(o[d+48>>2]|0));break}case 3:{if((o[d+48>>2]|0)>0)i=0;else break t;do{v=(o[d+72>>2]|0)+(et(o[d+68>>2]|0,i)|0)|0;b=o[d+76>>2]|0;y=o[d+56>>2]|0;g=b+(et(a[v>>1]|0,y)|0)|0;_=c*+u[g+8>>3];m=p*+u[g+16>>3];l[d>>2]=r*+u[g>>3];l[d+4>>2]=_;l[d+8>>2]=m;l[d+12>>2]=0.0;g=b+(et(a[v+2>>1]|0,y)|0)|0;m=c*+u[g+8>>3];_=p*+u[g+16>>3];l[d+16>>2]=r*+u[g>>3];l[d+20>>2]=m;l[d+24>>2]=_;l[d+28>>2]=0.0;y=b+(et(a[v+4>>1]|0,y)|0)|0;_=c*+u[y+8>>3];m=p*+u[y+16>>3];l[d+32>>2]=r*+u[y>>3];l[d+36>>2]=_;l[d+40>>2]=m;l[d+44>>2]=0.0;Wk[o[(o[e>>2]|0)+8>>2]&127](e,d,f,i);i=i+1|0}while((i|0)<(o[d+48>>2]|0));break}case 5:{if((o[d+48>>2]|0)>0)i=0;else break t;do{v=(o[d+72>>2]|0)+(et(o[d+68>>2]|0,i)|0)|0;b=o[d+76>>2]|0;y=o[d+56>>2]|0;g=b+(et(s[v>>0]|0,y)|0)|0;_=c*+u[g+8>>3];m=p*+u[g+16>>3];l[d>>2]=r*+u[g>>3];l[d+4>>2]=_;l[d+8>>2]=m;l[d+12>>2]=0.0;g=b+(et(s[v+1>>0]|0,y)|0)|0;m=c*+u[g+8>>3];_=p*+u[g+16>>3];l[d+16>>2]=r*+u[g>>3];l[d+20>>2]=m;l[d+24>>2]=_;l[d+28>>2]=0.0;y=b+(et(s[v+2>>0]|0,y)|0)|0;_=c*+u[y+8>>3];m=p*+u[y+16>>3];l[d+32>>2]=r*+u[y>>3];l[d+36>>2]=_;l[d+40>>2]=m;l[d+44>>2]=0.0;Wk[o[(o[e>>2]|0)+8>>2]&127](e,d,f,i);i=i+1|0}while((i|0)<(o[d+48>>2]|0));break}default:break t}break}default:{}}}while(0);ck[o[(o[t>>2]|0)+24>>2]&127](t,f);f=f+1|0}while((f|0)!=(n|0));h=d;return}function Kv(t){t=t|0;return 28}function $v(t,e,n){t=t|0;e=e|0;n=n|0;var s=0,a=0,c=0,l=0,p=0,f=0,d=0,_=0,m=0,g=0,b=0,v=0,y=0;v=h;h=h+32|0;s=uk[o[(o[t>>2]|0)+28>>2]&127](t)|0;o[e+20>>2]=s;o[e>>2]=0;if(!s){b=t+4|0;n=e+4|0;b=o[b>>2]|0;o[n>>2]=b;n=t+8|0;n=o[n>>2]|0;b=e+8|0;o[b>>2]=n;b=t+12|0;b=o[b>>2]|0;n=e+12|0;o[n>>2]=b;n=t+16|0;n=o[n>>2]|0;t=e+16|0;o[t>>2]=n;h=v;return 14151}b=vk[o[(o[n>>2]|0)+16>>2]&63](n,32,s)|0;s=o[b+8>>2]|0;o[e>>2]=Ek[o[(o[n>>2]|0)+28>>2]&31](n,s)|0;g=uk[o[(o[t>>2]|0)+28>>2]&127](t)|0;t:do{if((g|0)>0){m=0;while(1){Lk[o[(o[t>>2]|0)+16>>2]&3](t,v+28|0,v+4|0,v+16|0,v+8|0,v+24|0,v+20|0,v,v+12|0,m);o[s+24>>2]=o[v>>2];o[s+28>>2]=o[v+4>>2];c=s+12|0;p=s+16|0;_=s+4|0;o[s>>2]=0;o[s+4>>2]=0;o[s+8>>2]=0;o[s+12>>2]=0;o[s+16>>2]=0;o[s+20>>2]=0;switch(o[v+12>>2]|0){case 2:{a=o[v>>2]|0;if(a|0){a=vk[o[(o[n>>2]|0)+16>>2]&63](n,4,a*3|0)|0;c=o[a+8>>2]|0;o[s+8>>2]=Ek[o[(o[n>>2]|0)+28>>2]&31](n,c)|0;if((o[v>>2]|0)>0){l=o[v+24>>2]|0;p=0;do{f=l+(et(o[v+20>>2]|0,p)|0)|0;d=p*3|0;o[c+(d<<2)>>2]=o[f>>2];o[c+(d+1<<2)>>2]=o[f+4>>2];o[c+(d+2<<2)>>2]=o[f+8>>2];p=p+1|0}while((p|0)<(o[v>>2]|0))}rk[o[(o[n>>2]|0)+20>>2]&31](n,a,14051,1497453121,o[a+8>>2]|0)}break}case 3:{a=o[v>>2]|0;if(a|0){f=vk[o[(o[n>>2]|0)+16>>2]&63](n,8,a)|0;d=o[f+8>>2]|0;o[c>>2]=Ek[o[(o[n>>2]|0)+28>>2]&31](n,d)|0;a=o[v>>2]|0;if((a|0)>0){c=o[v+24>>2]|0;l=o[v+20>>2]|0;p=0;do{y=c+(et(l,p)|0)|0;r[d+(p<<3)>>1]=r[y>>1]|0;r[d+(p<<3)+2>>1]=r[y+2>>1]|0;r[d+(p<<3)+4>>1]=r[y+4>>1]|0;p=p+1|0}while((p|0)!=(a|0))}rk[o[(o[n>>2]|0)+20>>2]&31](n,f,14066,1497453121,o[f+8>>2]|0)}break}case 5:{a=o[v>>2]|0;if(a|0){c=vk[o[(o[n>>2]|0)+16>>2]&63](n,4,a)|0;l=o[c+8>>2]|0;o[p>>2]=Ek[o[(o[n>>2]|0)+28>>2]&31](n,l)|0;if((o[v>>2]|0)>0){a=0;do{y=(o[v+24>>2]|0)+(et(o[v+20>>2]|0,a)|0)|0;i[l+(a<<2)>>0]=i[y>>0]|0;i[l+(a<<2)+1>>0]=i[y+1>>0]|0;i[l+(a<<2)+2>>0]=i[y+2>>0]|0;a=a+1|0}while((a|0)<(o[v>>2]|0))}rk[o[(o[n>>2]|0)+20>>2]&31](n,c,14093,1497453121,o[c+8>>2]|0)}break}default:{}}switch(o[v+16>>2]|0){case 0:{a=o[v+4>>2]|0;if(a|0){a=vk[o[(o[n>>2]|0)+16>>2]&63](n,16,a)|0;c=o[a+8>>2]|0;o[s>>2]=Ek[o[(o[n>>2]|0)+28>>2]&31](n,c)|0;l=o[v+4>>2]|0;if((l|0)>0){p=o[v+28>>2]|0;f=o[v+8>>2]|0;d=0;do{y=p+(et(f,d)|0)|0;o[c+(d<<4)>>2]=o[y>>2];o[c+(d<<4)+4>>2]=o[y+4>>2];o[c+(d<<4)+8>>2]=o[y+8>>2];d=d+1|0}while((d|0)!=(l|0))}rk[o[(o[n>>2]|0)+20>>2]&31](n,a,16354,1497453121,o[a+8>>2]|0)}break}case 1:{a=o[v+4>>2]|0;if(a|0){f=vk[o[(o[n>>2]|0)+16>>2]&63](n,32,a)|0;d=o[f+8>>2]|0;o[_>>2]=Ek[o[(o[n>>2]|0)+28>>2]&31](n,d)|0;a=o[v+4>>2]|0;if((a|0)>0){c=o[v+28>>2]|0;l=o[v+8>>2]|0;p=0;do{y=c+(et(l,p)|0)|0;u[d+(p<<5)>>3]=+u[y>>3];u[d+(p<<5)+8>>3]=+u[y+8>>3];u[d+(p<<5)+16>>3]=+u[y+16>>3];p=p+1|0}while((p|0)!=(a|0))}rk[o[(o[n>>2]|0)+20>>2]&31](n,f,14116,1497453121,o[f+8>>2]|0)}break}default:{}}ck[o[(o[t>>2]|0)+24>>2]&127](t,m);m=m+1|0;if((m|0)==(g|0)){s=n;break t}else s=s+32|0}}else s=n}while(0);rk[o[(o[s>>2]|0)+20>>2]&31](n,b,14136,1497453121,o[b+8>>2]|0);n=t+4|0;y=e+4|0;n=o[n>>2]|0;o[y>>2]=n;y=t+8|0;y=o[y>>2]|0;n=e+8|0;o[n>>2]=y;n=t+12|0;n=o[n>>2]|0;y=e+12|0;o[y>>2]=n;t=t+16|0;t=o[t>>2]|0;y=e+16|0;o[y>>2]=t;h=v;return 14151}function Qv(t){t=t|0;return}function ty(t){t=t|0;return}function ey(t){t=t|0;var e=0;o[t>>2]=6556;e=o[t+32>>2]|0;if(e|0){if(i[t+36>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+32>>2]=0}i[t+36>>0]=1;o[t+32>>2]=0;o[t+24>>2]=0;o[t+28>>2]=0;return}function ny(t){t=t|0;var e=0;o[t>>2]=6556;e=o[t+32>>2]|0;if(e|0){if(i[t+36>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+32>>2]=0}i[t+36>>0]=1;o[t+32>>2]=0;o[t+24>>2]=0;o[t+28>>2]=0;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function iy(t,e,n,i,r,s,a,c,l,u){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;s=s|0;a=a|0;c=c|0;l=l|0;u=u|0;t=o[t+32>>2]|0;o[n>>2]=o[t+(u<<5)+12>>2];o[e>>2]=o[t+(u<<5)+16>>2];o[i>>2]=o[t+(u<<5)+28>>2];o[r>>2]=o[t+(u<<5)+20>>2];o[c>>2]=o[t+(u<<5)>>2];o[s>>2]=o[t+(u<<5)+4>>2];o[a>>2]=o[t+(u<<5)+8>>2];o[l>>2]=o[t+(u<<5)+24>>2];return}function ry(t,e,n,i,r,s,a,c,l,u){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;s=s|0;a=a|0;c=c|0;l=l|0;u=u|0;t=o[t+32>>2]|0;o[n>>2]=o[t+(u<<5)+12>>2];o[e>>2]=o[t+(u<<5)+16>>2];o[i>>2]=o[t+(u<<5)+28>>2];o[r>>2]=o[t+(u<<5)+20>>2];o[c>>2]=o[t+(u<<5)>>2];o[s>>2]=o[t+(u<<5)+4>>2];o[a>>2]=o[t+(u<<5)+8>>2];o[l>>2]=o[t+(u<<5)+24>>2];return}function oy(t,e){t=t|0;e=e|0;return}function sy(t,e){t=t|0;e=e|0;return}function ay(t){t=t|0;return o[t+24>>2]|0}function cy(t,e){t=t|0;e=e|0;return}function ly(t,e){t=t|0;e=e|0;return}function uy(t){t=t|0;return(o[t+48>>2]|0)==1|0}function hy(t,e,n){t=t|0;e=e|0;n=n|0;o[t+52>>2]=o[e>>2];o[t+52+4>>2]=o[e+4>>2];o[t+52+8>>2]=o[e+8>>2];o[t+52+12>>2]=o[e+12>>2];o[t+68>>2]=o[n>>2];o[t+68+4>>2]=o[n+4>>2];o[t+68+8>>2]=o[n+8>>2];o[t+68+12>>2]=o[n+12>>2];o[t+48>>2]=1;return}function py(t,e,n){t=t|0;e=e|0;n=n|0;o[e>>2]=o[t+52>>2];o[e+4>>2]=o[t+52+4>>2];o[e+8>>2]=o[t+52+8>>2];o[e+12>>2]=o[t+52+12>>2];o[n>>2]=o[t+68>>2];o[n+4>>2]=o[t+68+4>>2];o[n+8>>2]=o[t+68+8>>2];o[n+12>>2]=o[t+68+12>>2];return}function fy(t){t=t|0;var e=0;o[t>>2]=6624;e=o[t+156>>2]|0;if(e|0){if(i[t+160>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+156>>2]=0}i[t+160>>0]=1;o[t+156>>2]=0;o[t+148>>2]=0;o[t+152>>2]=0;e=o[t+136>>2]|0;if(e|0){if(i[t+140>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+136>>2]=0}i[t+140>>0]=1;o[t+136>>2]=0;o[t+128>>2]=0;o[t+132>>2]=0;e=o[t+116>>2]|0;if(e|0){if(i[t+120>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+116>>2]=0}i[t+120>>0]=1;o[t+116>>2]=0;o[t+108>>2]=0;o[t+112>>2]=0;e=o[t+96>>2]|0;if(e|0){if(i[t+100>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+96>>2]=0}i[t+100>>0]=1;o[t+96>>2]=0;o[t+88>>2]=0;o[t+92>>2]=0;o[t>>2]=6556;e=o[t+32>>2]|0;if(!e){i[t+36>>0]=1;o[t+32>>2]=0;o[t+24>>2]=0;t=t+28|0;o[t>>2]=0;return}if(i[t+36>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+32>>2]=0;i[t+36>>0]=1;o[t+32>>2]=0;o[t+24>>2]=0;t=t+28|0;o[t>>2]=0;return}function dy(t){t=t|0;fy(t);if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function _y(t,e){t=t|0;e=e|0;var n=0,r=0,s=0,a=0,c=0;if(i[t+165>>0]|0){if((o[t+92>>2]|0)>=(e|0))return;if((e|0)!=0?(o[5637]=(o[5637]|0)+1,n=Jc((e<<4|3)+16|0)|0,(n|0)!=0):0){o[(n+4+15&-16)+-4>>2]=n;s=n+4+15&-16}else s=0;n=o[t+88>>2]|0;if((n|0)>0){r=0;do{c=s+(r<<4)|0;a=(o[t+96>>2]|0)+(r<<4)|0;o[c>>2]=o[a>>2];o[c+4>>2]=o[a+4>>2];o[c+8>>2]=o[a+8>>2];o[c+12>>2]=o[a+12>>2];r=r+1|0}while((r|0)!=(n|0))}n=o[t+96>>2]|0;if(n|0){if(i[t+100>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[t+96>>2]=0}i[t+100>>0]=1;o[t+96>>2]=s;o[t+92>>2]=e;return}if((o[t+112>>2]|0)>=(e|0))return;if((e|0)!=0?(o[5637]=(o[5637]|0)+1,r=Jc((e<<2|3)+16|0)|0,(r|0)!=0):0){o[(r+4+15&-16)+-4>>2]=r;a=r+4+15&-16}else a=0;r=o[t+108>>2]|0;s=o[t+116>>2]|0;if((r|0)<=0)if(!s)n=t+120|0;else c=21;else{n=0;do{o[a+(n<<2)>>2]=o[s+(n<<2)>>2];n=n+1|0}while((n|0)!=(r|0));c=21}if((c|0)==21){if(i[t+120>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0)}o[t+116>>2]=0;n=t+120|0}i[n>>0]=1;o[t+116>>2]=a;o[t+112>>2]=e;return}function my(t,e){t=t|0;e=e|0;var n=0,s=0,a=0,c=0,l=0;if(!(i[t+164>>0]|0)){if((o[t+152>>2]|0)>=(e|0))return;if((e|0)!=0?(o[5637]=(o[5637]|0)+1,s=Jc((e<<1)+19|0)|0,(s|0)!=0):0){o[(s+4+15&-16)+-4>>2]=s;c=s+4+15&-16}else c=0;s=o[t+148>>2]|0;a=o[t+156>>2]|0;if((s|0)<=0)if(!a)n=t+160|0;else l=22;else{n=0;do{r[c+(n<<1)>>1]=r[a+(n<<1)>>1]|0;n=n+1|0}while((n|0)!=(s|0));l=22}if((l|0)==22){if(i[t+160>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0)}o[t+156>>2]=0;n=t+160|0}i[n>>0]=1;o[t+156>>2]=c;o[t+152>>2]=e;return}else{if((o[t+132>>2]|0)>=(e|0))return;if((e|0)!=0?(o[5637]=(o[5637]|0)+1,n=Jc((e<<2|3)+16|0)|0,(n|0)!=0):0){o[(n+4+15&-16)+-4>>2]=n;c=n+4+15&-16}else c=0;s=o[t+128>>2]|0;a=o[t+136>>2]|0;if((s|0)<=0)if(!a)n=t+140|0;else l=10;else{n=0;do{o[c+(n<<2)>>2]=o[a+(n<<2)>>2];n=n+1|0}while((n|0)!=(s|0));l=10}if((l|0)==10){if(i[t+140>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0)}o[t+136>>2]=0;n=t+140|0}i[n>>0]=1;o[t+136>>2]=c;o[t+132>>2]=e;return}}function gy(t,e,n){t=t|0;e=e|0;n=n|0;var s=0,a=0,c=0;o[t+4>>2]=1065353216;o[t+8>>2]=1065353216;o[t+12>>2]=1065353216;l[t+16>>2]=0.0;i[t+36>>0]=1;o[t+32>>2]=0;o[t+24>>2]=0;o[t+28>>2]=0;o[t+48>>2]=0;o[t>>2]=6624;i[t+100>>0]=1;o[t+96>>2]=0;o[t+88>>2]=0;o[t+92>>2]=0;i[t+120>>0]=1;o[t+116>>2]=0;o[t+108>>2]=0;o[t+112>>2]=0;i[t+140>>0]=1;o[t+136>>2]=0;o[t+128>>2]=0;o[t+132>>2]=0;i[t+160>>0]=1;o[t+156>>2]=0;o[t+148>>2]=0;o[t+152>>2]=0;i[t+164>>0]=e&1;i[t+165>>0]=n&1;l[t+168>>2]=0.0;o[5637]=(o[5637]|0)+1;e=Jc(51)|0;if(!e)s=0;else{o[(e+4+15&-16)+-4>>2]=e;s=e+4+15&-16}e=o[t+24>>2]|0;if((e|0)>0){n=0;do{a=s+(n<<5)|0;c=(o[t+32>>2]|0)+(n<<5)|0;o[a>>2]=o[c>>2];o[a+4>>2]=o[c+4>>2];o[a+8>>2]=o[c+8>>2];o[a+12>>2]=o[c+12>>2];o[a+16>>2]=o[c+16>>2];o[a+20>>2]=o[c+20>>2];o[a+24>>2]=o[c+24>>2];o[a+28>>2]=o[c+28>>2];n=n+1|0}while((n|0)!=(e|0))}e=o[t+32>>2]|0;if(e|0){if(i[t+36>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+32>>2]=0}i[t+36>>0]=1;o[t+32>>2]=s;o[t+28>>2]=1;e=o[t+24>>2]|0;o[s+(e<<5)>>2]=0;o[s+(e<<5)+4>>2]=0;o[s+(e<<5)+8>>2]=12;o[s+(e<<5)+12>>2]=0;o[s+(e<<5)+16>>2]=0;o[s+(e<<5)+20>>2]=16;o[s+(e<<5)+24>>2]=2;o[s+(e<<5)+28>>2]=0;o[t+24>>2]=(o[t+24>>2]|0)+1;e=r[t+164>>1]|0;if(!((e&255)<<24>>24)){n=o[t+32>>2]|0;o[n>>2]=(o[t+148>>2]|0)/3|0;o[n+4>>2]=0;o[n+24>>2]=3;o[n+8>>2]=6}else{n=o[t+32>>2]|0;o[n>>2]=(o[t+128>>2]|0)/3|0;o[n+4>>2]=0;o[n+24>>2]=2;o[n+8>>2]=12}if((e&65535)<256){a=12;t=(o[t+108>>2]|0)/3|0;c=n+12|0;o[c>>2]=t;c=n+16|0;o[c>>2]=0;c=n+20|0;o[c>>2]=a;return}else{a=16;t=o[t+88>>2]|0;c=n+12|0;o[c>>2]=t;c=n+16|0;o[c>>2]=0;c=n+20|0;o[c>>2]=a;return}}function by(t,e){t=t|0;e=e|0;var n=0,s=0,a=0,c=0,l=0,u=0;if(!(i[t+164>>0]|0)){n=o[t+148>>2]|0;if((n|0)==(o[t+152>>2]|0)?(u=n|0?n<<1:1,(n|0)<(u|0)):0){if(!u)c=0;else{o[5637]=(o[5637]|0)+1;n=Jc((u<<1)+19|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}c=n;n=o[t+148>>2]|0}a=o[t+156>>2]|0;if((n|0)<=0)if(!a)n=t+160|0;else s=27;else{s=0;do{r[c+(s<<1)>>1]=r[a+(s<<1)>>1]|0;s=s+1|0}while((s|0)!=(n|0));s=27}if((s|0)==27){if(i[t+160>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0)}o[t+156>>2]=0;n=t+160|0}i[n>>0]=1;o[t+156>>2]=c;o[t+152>>2]=u;n=o[t+148>>2]|0}u=o[t+156>>2]|0;r[u+(n<<1)>>1]=e;o[t+148>>2]=n+1;o[(o[t+32>>2]|0)+4>>2]=u;return}else{n=o[t+128>>2]|0;if((n|0)==(o[t+132>>2]|0)?(l=n|0?n<<1:1,(n|0)<(l|0)):0){if(!l)c=0;else{o[5637]=(o[5637]|0)+1;n=Jc((l<<2|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}c=n;n=o[t+128>>2]|0}a=o[t+136>>2]|0;if((n|0)<=0)if(!a)n=t+140|0;else s=12;else{s=0;do{o[c+(s<<2)>>2]=o[a+(s<<2)>>2];s=s+1|0}while((s|0)!=(n|0));s=12}if((s|0)==12){if(i[t+140>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0)}o[t+136>>2]=0;n=t+140|0}i[n>>0]=1;o[t+136>>2]=c;o[t+132>>2]=l;n=o[t+128>>2]|0}u=o[t+136>>2]|0;o[u+(n<<2)>>2]=e;o[t+128>>2]=(o[t+128>>2]|0)+1;o[(o[t+32>>2]|0)+4>>2]=u;return}}function vy(t,e,n){t=t|0;e=e|0;n=n|0;var r=0,s=0,a=0,c=0.0,u=0.0,h=0.0,p=0.0,f=0,d=0,_=0.0,m=0.0,g=0.0;if(i[t+165>>0]|0){r=o[t+88>>2]|0;t:do{if((r|0)>0&n){s=o[t+96>>2]|0;p=+l[e>>2];c=+l[e+4>>2];u=+l[e+8>>2];h=+l[t+168>>2];n=0;while(1){g=+l[s+(n<<4)>>2]-p;m=+l[s+(n<<4)+4>>2]-c;_=+l[s+(n<<4)+8>>2]-u;if(g*g+m*m+_*_<=h)break;n=n+1|0;if((n|0)>=(r|0))break t}return n|0}}while(0);d=(o[t+32>>2]|0)+12|0;o[d>>2]=(o[d>>2]|0)+1;if((r|0)==(o[t+92>>2]|0)?(a=r|0?r<<1:1,(r|0)<(a|0)):0){if(!a)n=0;else{o[5637]=(o[5637]|0)+1;n=Jc((a<<4|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}r=o[t+88>>2]|0}if((r|0)>0){s=0;do{d=n+(s<<4)|0;f=(o[t+96>>2]|0)+(s<<4)|0;o[d>>2]=o[f>>2];o[d+4>>2]=o[f+4>>2];o[d+8>>2]=o[f+8>>2];o[d+12>>2]=o[f+12>>2];s=s+1|0}while((s|0)!=(r|0))}r=o[t+96>>2]|0;if(r|0){if(i[t+100>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0)}o[t+96>>2]=0}i[t+100>>0]=1;o[t+96>>2]=n;o[t+92>>2]=a;n=o[t+88>>2]|0}else n=r;d=(o[t+96>>2]|0)+(n<<4)|0;o[d>>2]=o[e>>2];o[d+4>>2]=o[e+4>>2];o[d+8>>2]=o[e+8>>2];o[d+12>>2]=o[e+12>>2];e=o[t+88>>2]|0;o[t+88>>2]=e+1;o[(o[t+32>>2]|0)+16>>2]=o[t+96>>2];return e|0}s=o[t+108>>2]|0;t:do{if((s|0)>0&n){n=o[t+116>>2]|0;c=+l[e>>2];u=+l[e+4>>2];h=+l[e+8>>2];p=+l[t+168>>2];a=0;while(1){_=+l[n+(a<<2)>>2]-c;m=+l[n+(a+1<<2)>>2]-u;g=+l[n+(a+2<<2)>>2]-h;r=a+3|0;if(_*_+m*m+g*g<=p)break;if((r|0)<(s|0))a=r;else break t}e=(a|0)/3|0;return e|0}}while(0);n=o[t+112>>2]|0;if((s|0)==(n|0)){f=s|0?s<<1:1;if((s|0)<(f|0)){if(!f)n=0;else{o[5637]=(o[5637]|0)+1;n=Jc((f<<2|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}s=o[t+108>>2]|0}a=o[t+116>>2]|0;if((s|0)<=0)if(!a)r=t+120|0;else d=34;else{r=0;do{o[n+(r<<2)>>2]=o[a+(r<<2)>>2];r=r+1|0}while((r|0)!=(s|0));d=34}if((d|0)==34){if(i[t+120>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0)}o[t+116>>2]=0;r=t+120|0}i[r>>0]=1;o[t+116>>2]=n;o[t+112>>2]=f;r=o[t+108>>2]|0;s=f}else r=s}else{r=s;s=n}o[(o[t+116>>2]|0)+(r<<2)>>2]=o[e>>2];n=r+1|0;o[t+108>>2]=n;if((n|0)==(s|0)){f=s|0?s<<1:1;if((s|0)<(f|0)){if(!f)n=0;else{o[5637]=(o[5637]|0)+1;n=Jc((f<<2|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}s=o[t+108>>2]|0}a=o[t+116>>2]|0;if((s|0)<=0)if(!a)r=t+120|0;else d=48;else{r=0;do{o[n+(r<<2)>>2]=o[a+(r<<2)>>2];r=r+1|0}while((r|0)!=(s|0));d=48}if((d|0)==48){if(i[t+120>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0)}o[t+116>>2]=0;r=t+120|0}i[r>>0]=1;o[t+116>>2]=n;o[t+112>>2]=f;n=o[t+108>>2]|0;s=f}else n=s}o[(o[t+116>>2]|0)+(n<<2)>>2]=o[e+4>>2];n=n+1|0;o[t+108>>2]=n;if((n|0)==(s|0)){f=s|0?s<<1:1;if((s|0)<(f|0)){if(!f)n=0;else{o[5637]=(o[5637]|0)+1;n=Jc((f<<2|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}s=o[t+108>>2]|0}a=o[t+116>>2]|0;if((s|0)<=0)if(!a)r=t+120|0;else d=62;else{r=0;do{o[n+(r<<2)>>2]=o[a+(r<<2)>>2];r=r+1|0}while((r|0)!=(s|0));d=62}if((d|0)==62){if(i[t+120>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0)}o[t+116>>2]=0;r=t+120|0}i[r>>0]=1;o[t+116>>2]=n;o[t+112>>2]=f;n=o[t+108>>2]|0}else n=s}d=o[t+116>>2]|0;o[d+(n<<2)>>2]=o[e+8>>2];e=n+1|0;o[t+108>>2]=e;t=o[t+32>>2]|0;o[t+12>>2]=(o[t+12>>2]|0)+1;o[t+16>>2]=d;e=((e|0)/3|0)+-1|0;return e|0}function yy(t){t=t|0;return}function xy(t){t=t|0;if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function wy(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0;d=(+l[t+36>>2]-+l[t+20>>2])*.5;h=(+l[t+40>>2]-+l[t+24>>2])*.5;a=(+l[t+44>>2]-+l[t+28>>2])*.5;f=+wk[o[(o[t>>2]|0)+48>>2]&15](t);u=+wk[o[(o[t>>2]|0)+48>>2]&15](t);a=a+ +wk[o[(o[t>>2]|0)+48>>2]&15](t);A=(+l[t+36>>2]+ +l[t+20>>2])*.5;C=(+l[t+40>>2]+ +l[t+24>>2])*.5;S=(+l[t+44>>2]+ +l[t+28>>2])*.5;I=+l[e>>2];w=+G(+I);R=+l[e+4>>2];x=+G(+R);v=+l[e+8>>2];y=+G(+v);E=+l[e+16>>2];b=+G(+E);L=+l[e+20>>2];g=+G(+L);_=+l[e+24>>2];m=+G(+_);T=+l[e+32>>2];p=+G(+T);M=+l[e+36>>2];c=+G(+M);r=+l[e+40>>2];s=+G(+r);v=A*I+C*R+S*v+ +l[e+48>>2];_=A*E+C*L+S*_+ +l[e+52>>2];r=A*T+C*M+S*r+ +l[e+56>>2];l[n>>2]=v-((d+f)*w+(h+u)*x+a*y);l[n+4>>2]=_-((d+f)*b+(h+u)*g+a*m);l[n+8>>2]=r-((d+f)*p+(h+u)*c+a*s);l[n+12>>2]=0.0;l[i>>2]=(d+f)*w+(h+u)*x+a*y+v;l[i+4>>2]=(d+f)*b+(h+u)*g+a*m+_;l[i+8>>2]=(d+f)*p+(h+u)*c+a*s+r;l[i+12>>2]=0.0;return}function Sy(t,e){t=t|0;e=e|0;var n=0,i=0;n=h;h=h+48|0;i=(o[t+52>>2]|0)+4|0;o[i>>2]=o[e>>2];o[i+4>>2]=o[e+4>>2];o[i+8>>2]=o[e+8>>2];o[i+12>>2]=o[e+12>>2];o[n+32>>2]=0;o[n+32+4>>2]=0;o[n+32+8>>2]=0;o[n+32+12>>2]=0;l[n+32>>2]=1.0;Uk[o[(o[t>>2]|0)+68>>2]&127](n+16|0,t,n+32|0);l[t+36>>2]=+l[n+16>>2]+ +l[t+16>>2];l[n+32>>2]=-1.0;Uk[o[(o[t>>2]|0)+68>>2]&127](n,t,n+32|0);o[n+16>>2]=o[n>>2];o[n+16+4>>2]=o[n+4>>2];o[n+16+8>>2]=o[n+8>>2];o[n+16+12>>2]=o[n+12>>2];l[t+20>>2]=+l[n+16>>2]-+l[t+16>>2];o[n+32>>2]=0;o[n+32+4>>2]=0;o[n+32+8>>2]=0;o[n+32+12>>2]=0;l[n+32+4>>2]=1.0;Uk[o[(o[t>>2]|0)+68>>2]&127](n+16|0,t,n+32|0);l[t+40>>2]=+l[n+16+4>>2]+ +l[t+16>>2];l[n+32+4>>2]=-1.0;Uk[o[(o[t>>2]|0)+68>>2]&127](n,t,n+32|0);o[n+16>>2]=o[n>>2];o[n+16+4>>2]=o[n+4>>2];o[n+16+8>>2]=o[n+8>>2];o[n+16+12>>2]=o[n+12>>2];l[t+24>>2]=+l[n+16+4>>2]-+l[t+16>>2];o[n+32>>2]=0;o[n+32+4>>2]=0;o[n+32+8>>2]=0;o[n+32+12>>2]=0;l[n+32+8>>2]=1.0;Uk[o[(o[t>>2]|0)+68>>2]&127](n+16|0,t,n+32|0);l[t+44>>2]=+l[n+16+8>>2]+ +l[t+16>>2];l[n+32+8>>2]=-1.0;Uk[o[(o[t>>2]|0)+68>>2]&127](n,t,n+32|0);o[n+16>>2]=o[n>>2];o[n+16+4>>2]=o[n+4>>2];o[n+16+8>>2]=o[n+8>>2];o[n+16+12>>2]=o[n+12>>2];l[t+28>>2]=+l[n+16+8>>2]-+l[t+16>>2];h=n;return}function My(t){t=t|0;return(o[t+52>>2]|0)+4|0}function Cy(t,e,n){t=t|0;e=+e;n=n|0;o[n>>2]=0;o[n+4>>2]=0;o[n+8>>2]=0;o[n+12>>2]=0;return}function Ty(t){t=t|0;return 14302}function Ay(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0;r=h;h=h+48|0;o[r>>2]=6776;o[r+4>>2]=e;o[r+8>>2]=o[n>>2];o[r+8+4>>2]=o[n+4>>2];o[r+8+8>>2]=o[n+8>>2];o[r+8+12>>2]=o[n+12>>2];o[r+24>>2]=o[i>>2];o[r+24+4>>2]=o[i+4>>2];o[r+24+8>>2]=o[i+8>>2];o[r+24+12>>2]=o[i+12>>2];t=o[t+52>>2]|0;Wk[o[(o[t>>2]|0)+8>>2]&127](t,r,n,i);h=r;return}function Ly(t){t=t|0;Kc(t);return}function Ey(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0.0,s=0.0,a=0.0,c=0.0,u=0;r=+l[e>>2];s=+l[e+16>>2];c=r<s?r:s;a=+l[e+32>>2];if((c<a?c:a)>+l[t+24>>2])return;u=r>s?e:e+16|0;if(+l[(+l[u>>2]>a?u:e+32|0)>>2]<+l[t+8>>2])return;r=+l[e+8>>2];s=+l[e+24>>2];c=r<s?r:s;a=+l[e+40>>2];if((c<a?c:a)>+l[t+32>>2])return;u=r>s?e+8|0:e+24|0;if(+l[(+l[u>>2]>a?u:e+40|0)>>2]<+l[t+16>>2])return;r=+l[e+4>>2];s=+l[e+20>>2];c=r<s?r:s;a=+l[e+36>>2];if((c<a?c:a)>+l[t+28>>2])return;u=r>s?e+4|0:e+20|0;if(+l[(+l[u>>2]>a?u:e+36|0)>>2]<+l[t+12>>2])return;u=o[t+4>>2]|0;Wk[o[(o[u>>2]|0)+8>>2]&127](u,e,n,i);return}function Ry(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0,s=0.0,a=0.0,c=0.0;i=h;h=h+160|0;o[i+136>>2]=0;o[i+136+4>>2]=0;o[i+136+8>>2]=0;o[i+136+12>>2]=0;o[i+136+16>>2]=0;o[i+32>>2]=6796;r=i+32+4|0;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;o[i+32+20>>2]=1065353216;o[i+32+24>>2]=0;o[i+32+24+4>>2]=0;o[i+32+24+8>>2]=0;o[i+32+24+12>>2]=0;o[i+32+40>>2]=1065353216;o[i+32+44>>2]=0;o[i+32+44+4>>2]=0;o[i+32+44+8>>2]=0;o[i+32+44+12>>2]=0;o[i+32+60>>2]=1065353216;o[i+32+64>>2]=0;o[i+32+68>>2]=o[i+136+4>>2];o[i+32+68+4>>2]=o[i+136+4+4>>2];o[i+32+68+8>>2]=o[i+136+4+8>>2];o[i+32+68+12>>2]=o[i+136+4+12>>2];l[i+32+84>>2]=-999999984306749440.0;c=+l[n>>2];a=+l[n+4>>2];s=+l[n+8>>2];l[i+32+88>>2]=c+a*0.0+s*0.0;l[i+32+92>>2]=c*0.0+a+s*0.0;l[i+32+96>>2]=c*0.0+a*0.0+s;l[i+32+100>>2]=0.0;o[i+16>>2]=1566444395;o[i+16+4>>2]=1566444395;o[i+16+8>>2]=1566444395;l[i+16+12>>2]=0.0;n=o[(o[e>>2]|0)+64>>2]|0;l[i>>2]=-999999984306749440.0;l[i+4>>2]=-999999984306749440.0;l[i+8>>2]=-999999984306749440.0;l[i+12>>2]=0.0;Wk[n&127](e,i+32|0,i,i+16|0);o[t>>2]=o[r>>2];o[t+4>>2]=o[r+4>>2];o[t+8>>2]=o[r+8>>2];o[t+12>>2]=o[r+12>>2];h=i;return}function Iy(t){t=t|0;Kc(t);return}function Py(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0.0,s=0.0,a=0.0,c=0.0,u=0.0;c=+l[t+88>>2];u=+l[t+92>>2];a=+l[t+96>>2];r=c*+l[e>>2]+u*+l[e+4>>2]+a*+l[e+8>>2];s=+l[t+84>>2];if(r>s){l[t+84>>2]=r;o[t+4>>2]=o[e>>2];o[t+4+4>>2]=o[e+4>>2];o[t+4+8>>2]=o[e+8>>2];o[t+4+12>>2]=o[e+12>>2]}else r=s;s=c*+l[e+16>>2]+u*+l[e+20>>2]+a*+l[e+24>>2];if(s>r){l[t+84>>2]=s;o[t+4>>2]=o[e+16>>2];o[t+4+4>>2]=o[e+16+4>>2];o[t+4+8>>2]=o[e+16+8>>2];o[t+4+12>>2]=o[e+16+12>>2]}else s=r;r=c*+l[e+32>>2]+u*+l[e+36>>2]+a*+l[e+40>>2];if(!(r>s))return;l[t+84>>2]=r;o[t+4>>2]=o[e+32>>2];o[t+4+4>>2]=o[e+32+4>>2];o[t+4+8>>2]=o[e+32+8>>2];o[t+4+12>>2]=o[e+32+12>>2];return}function Dy(t){t=t|0;Kc(t);return}function ky(t,e,n,r,s,a){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;a=a|0;var c=0,u=0.0,p=0,d=0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0,E=0;L=h;h=h+304|0;A=+l[n+48>>2]-+l[e+48>>2];C=+l[n+52>>2]-+l[e+52>>2];T=+l[n+56>>2]-+l[e+56>>2];Yw(e,n,L+288|0,L+240|0);x=+l[L+240>>2];v=+l[L+288>>2]*x;y=x*+l[L+288+4>>2];x=x*+l[L+288+8>>2];l[L+224>>2]=v;l[L+224+4>>2]=y;l[L+224+8>>2]=x;l[L+224+12>>2]=0.0;w=+l[s+48>>2]-+l[r+48>>2];S=+l[s+52>>2]-+l[r+52>>2];M=+l[s+56>>2]-+l[r+56>>2];Yw(r,s,L+288|0,L+240|0);g=+l[L+240>>2];_=+l[L+288>>2]*g;m=g*+l[L+288+4>>2];g=g*+l[L+288+8>>2];l[L+192>>2]=_;l[L+192+4>>2]=m;l[L+192+8>>2]=g;l[L+192+12>>2]=0.0;n=o[t+12>>2]|0;b=+wk[o[(o[n>>2]|0)+16>>2]&15](n);n=o[t+16>>2]|0;if(!n)u=0.0;else u=+wk[o[(o[n>>2]|0)+16>>2]&15](n);b=b*+V(+(v*v+y*y+x*x))+u*+V(+(_*_+m*m+g*g));if(b+ +V(+((w-A)*(w-A)+(S-C)*(S-C)+(M-T)*(M-T)))==0.0){a=0;h=L;return a|0}o[L+240>>2]=6836;l[L+240+36>>2]=999999984306749440.0;i[L+240+40>>0]=0;jy(t,e,r,L+240|0);s=(i[L+240+40>>0]|0)==0;o[L+288>>2]=o[L+240+20>>2];o[L+288+4>>2]=o[L+240+20+4>>2];o[L+288+8>>2]=o[L+240+20+8>>2];o[L+288+12>>2]=o[L+240+20+12>>2];t:do{if(!s?(d=o[L+240+4>>2]|0,c=o[L+240+8>>2]|0,p=o[L+240+12>>2]|0,x=(w-A)*(o[f>>2]=d,+l[f>>2]),x=x+(S-C)*(o[f>>2]=c,+l[f>>2]),!(b+(x+(M-T)*(o[f>>2]=p,+l[f>>2]))<=1.1920928955078125e-07)):0){u=+l[L+240+16>>2];_=+l[L+240+36>>2]+ +l[a+172>>2];e:do{if(_>1.0000000474974513e-03){m=_;g=0.0;s=0;while(1){n=o[a+168>>2]|0;if(n|0){E=o[(o[n>>2]|0)+28>>2]|0;o[L+208>>2]=1065353216;o[L+208+4>>2]=1065353216;o[L+208+8>>2]=1065353216;l[L+208+12>>2]=0.0;hk[E&7](n,L+288|0,.20000000298023224,L+208|0)}u=(w-A)*(o[f>>2]=d,+l[f>>2]);u=u+(S-C)*(o[f>>2]=c,+l[f>>2]);u=b+(u+(M-T)*(o[f>>2]=p,+l[f>>2]));if(u<=1.1920928955078125e-07){c=0;break t}_=g+m/u;if(!(!(_<=g)&(!(_<0.0)&!(_>1.0)))){c=0;break t}Uy(e,A,C,T,L+224|0,_,L+112|0);Uy(r,w,S,M,L+192|0,_,L+48|0);c=o[a+168>>2]|0;if(c|0){E=o[(o[c>>2]|0)+28>>2]|0;o[L+176>>2]=1065353216;o[L+176+4>>2]=0;o[L+176+8>>2]=0;l[L+176+12>>2]=0.0;hk[E&7](c,L+112+48|0,.20000000298023224,L+176|0)}ok[o[o[a>>2]>>2]&31](a,_);o[L>>2]=6836;l[L+36>>2]=999999984306749440.0;i[L+40>>0]=0;jy(t,L+112|0,L+48|0,L);if(!(i[L+40>>0]|0)){c=15;break}u=+l[L+36>>2];m=+l[a+172>>2];o[L+288>>2]=o[L+20>>2];o[L+288+4>>2]=o[L+20+4>>2];o[L+288+8>>2]=o[L+20+8>>2];o[L+288+12>>2]=o[L+20+12>>2];n=s+1|0;if((s|0)>63){c=16;break}p=o[L+12>>2]|0;c=o[L+8>>2]|0;d=o[L+4>>2]|0;m=u+m;if(!(m>1.0000000474974513e-03)){u=+l[L+16>>2];break e}else{g=_;s=n}}if((c|0)==15)Uk[o[(o[a>>2]|0)+8>>2]&127](a,-1,s);else if((c|0)==16)Uk[o[(o[a>>2]|0)+8>>2]&127](a,-2,n);c=0;break t}else _=0.0}while(0);l[a+164>>2]=_;o[a+132>>2]=d;o[a+136>>2]=c;o[a+140>>2]=p;l[a+144>>2]=u;o[a+148>>2]=o[L+288>>2];o[a+148+4>>2]=o[L+288+4>>2];o[a+148+8>>2]=o[L+288+8>>2];o[a+148+12>>2]=o[L+288+12>>2];c=1}else c=0}while(0);E=c;h=L;return E|0}function Oy(t){t=t|0;Kc(t);return}function Ny(t,e,n){t=t|0;e=e|0;n=n|0;return}function Fy(t,e,n){t=t|0;e=e|0;n=n|0;return}function By(t,e,n,r){t=t|0;e=e|0;n=n|0;r=+r;if(!(+l[t+36>>2]>r))return;i[t+40>>0]=1;o[t+4>>2]=o[e>>2];o[t+4+4>>2]=o[e+4>>2];o[t+4+8>>2]=o[e+8>>2];o[t+4+12>>2]=o[e+12>>2];o[t+20>>2]=o[n>>2];o[t+20+4>>2]=o[n+4>>2];o[t+20+8>>2]=o[n+8>>2];o[t+20+12>>2]=o[n+12>>2];l[t+36>>2]=r;return}function jy(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;var s=0,a=0.0,c=0.0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0,D=0.0,k=0.0,O=0.0,N=0,F=0,B=0,j=0,U=0;s=h;h=h+256|0;if(!(o[t+16>>2]|0)){N=o[t+12>>2]|0;t=o[t+20>>2]|0;f=+l[e>>2];m=+l[e+4>>2];y=+l[e+8>>2];c=+l[e+16>>2];g=+l[e+20>>2];a=+l[e+24>>2];p=+l[e+32>>2];b=+l[e+36>>2];u=+l[e+40>>2];I=+l[e+48>>2];R=+l[e+52>>2];E=+l[e+56>>2];O=+l[n>>2];k=+l[n+16>>2];M=+l[n+32>>2];D=+l[n+4>>2];P=+l[n+20>>2];w=+l[n+36>>2];x=+l[n+8>>2];C=+l[n+24>>2];S=+l[n+40>>2];L=-+l[n+48>>2];A=-+l[n+52>>2];_=-+l[n+56>>2];e=o[(o[N>>2]|0)+64>>2]|0;T=-+l[t+52>>2];v=-+l[t+56>>2];d=-+l[t+60>>2];l[s+16>>2]=(f*O+c*k+p*M)*T+(f*D+c*P+p*w)*v+(f*x+c*C+p*S)*d;l[s+16+4>>2]=(m*O+g*k+b*M)*T+(m*D+g*P+b*w)*v+(m*x+g*C+b*S)*d;l[s+16+8>>2]=(y*O+a*k+u*M)*T+(y*D+a*P+u*w)*v+(y*x+a*C+u*S)*d;l[s+16+12>>2]=0.0;Uk[e&127](s+168|0,N,s+16|0);d=+l[s+168>>2];v=+l[s+168+4>>2];T=+l[s+168+8>>2];M=I*O+R*k+E*M+(O*L+k*A+M*_)+((f*O+c*k+p*M)*d+(m*O+g*k+b*M)*v+(y*O+a*k+u*M)*T);w=I*D+R*P+E*w+(D*L+P*A+w*_)+((f*D+c*P+p*w)*d+(m*D+g*P+b*w)*v+(y*D+a*P+u*w)*T);T=I*x+R*C+E*S+(x*L+C*A+S*_)+((f*x+c*C+p*S)*d+(m*x+g*C+b*S)*v+(y*x+a*C+u*S)*T);S=+l[t+52>>2];u=+l[t+56>>2];C=+l[t+60>>2];a=C*T+(S*M+u*w)-+l[t+68>>2];x=+l[n>>2];y=+l[n+4>>2];v=+l[n+8>>2];b=+l[n+16>>2];g=+l[n+20>>2];m=+l[n+24>>2];d=+l[n+32>>2];p=+l[n+36>>2];c=+l[n+40>>2];f=(M-S*a)*b+(w-u*a)*g+(T-C*a)*m+ +l[n+52>>2];_=(M-S*a)*d+(w-u*a)*p+(T-C*a)*c+ +l[n+56>>2];l[s+32>>2]=v*(T-C*a)+(x*(M-S*a)+y*(w-u*a))+ +l[n+48>>2];l[s+32+4>>2]=f;l[s+32+8>>2]=_;l[s+32+12>>2]=0.0;_=+l[t+52>>2];f=+l[t+56>>2];u=+l[t+60>>2];l[s>>2]=x*_+y*f+v*u;l[s+4>>2]=_*b+f*g+u*m;l[s+8>>2]=_*d+f*p+u*c;l[s+12>>2]=0.0;jk[o[(o[r>>2]|0)+16>>2]&15](r,s,s+32|0,a);h=s;return}else{j=o[t+4>>2]|0;i[j+312>>0]=0;o[j>>2]=0;i[j+356>>0]=1;o[j+292>>2]=1566444395;o[j+296>>2]=1566444395;o[j+300>>2]=1566444395;l[j+304>>2]=0.0;o[j+336>>2]=0;o[j+336+4>>2]=0;o[j+336+8>>2]=0;o[j+336+12>>2]=0;i[j+336+16>>0]=0;i[j+332>>0]=i[j+332>>0]&-16;j=o[t+12>>2]|0;B=o[t+16>>2]|0;F=o[j+4>>2]|0;N=o[B+4>>2]|0;k=+wk[o[(o[j>>2]|0)+48>>2]&15](j);U=o[t+16>>2]|0;O=+wk[o[(o[U>>2]|0)+48>>2]&15](U);U=o[t+4>>2]|0;t=o[t+8>>2]|0;o[s+168>>2]=6928;o[s+168+4>>2]=0;o[s+168+8>>2]=1065353216;o[s+168+12>>2]=0;l[s+168+16>>2]=0.0;o[s+168+20>>2]=t;o[s+168+24>>2]=U;o[s+168+28>>2]=j;o[s+168+32>>2]=B;o[s+168+36>>2]=F;o[s+168+40>>2]=N;l[s+168+44>>2]=k;l[s+168+48>>2]=O;i[s+168+52>>0]=0;o[s+168+60>>2]=-1;o[s+168+72>>2]=1;o[s+168+76>>2]=1;l[s+32+128>>2]=999999984306749440.0;o[s+32>>2]=o[e>>2];o[s+32+4>>2]=o[e+4>>2];o[s+32+8>>2]=o[e+8>>2];o[s+32+12>>2]=o[e+12>>2];o[s+32+16>>2]=o[e+16>>2];o[s+32+16+4>>2]=o[e+16+4>>2];o[s+32+16+8>>2]=o[e+16+8>>2];o[s+32+16+12>>2]=o[e+16+12>>2];o[s+32+32>>2]=o[e+32>>2];o[s+32+32+4>>2]=o[e+32+4>>2];o[s+32+32+8>>2]=o[e+32+8>>2];o[s+32+32+12>>2]=o[e+32+12>>2];o[s+32+48>>2]=o[e+48>>2];o[s+32+48+4>>2]=o[e+48+4>>2];o[s+32+48+8>>2]=o[e+48+8>>2];o[s+32+48+12>>2]=o[e+48+12>>2];o[s+32+64>>2]=o[n>>2];o[s+32+64+4>>2]=o[n+4>>2];o[s+32+64+8>>2]=o[n+8>>2];o[s+32+64+12>>2]=o[n+12>>2];o[s+32+80>>2]=o[n+16>>2];o[s+32+80+4>>2]=o[n+16+4>>2];o[s+32+80+8>>2]=o[n+16+8>>2];o[s+32+80+12>>2]=o[n+16+12>>2];o[s+32+96>>2]=o[n+32>>2];o[s+32+96+4>>2]=o[n+32+4>>2];o[s+32+96+8>>2]=o[n+32+8>>2];o[s+32+96+12>>2]=o[n+32+12>>2];o[s+32+112>>2]=o[n+48>>2];o[s+32+112+4>>2]=o[n+48+4>>2];o[s+32+112+8>>2]=o[n+48+8>>2];o[s+32+112+12>>2]=o[n+48+12>>2];ix(s+168|0,s+32|0,r,0,0);h=s;return}}function Uy(t,e,n,i,r,o,s){t=t|0;e=+e;n=+n;i=+i;r=r|0;o=+o;s=s|0;var a=0.0,c=0.0,u=0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0;u=h;h=h+16|0;c=n*o+ +l[t+52>>2];a=i*o+ +l[t+56>>2];l[s+48>>2]=e*o+ +l[t+48>>2];l[s+52>>2]=c;l[s+56>>2]=a;l[s+60>>2]=0.0;a=+l[r>>2];c=+l[r+4>>2];n=+l[r+8>>2];i=+V(+(a*a+c*c+n*n));i=i*o>.7853981852531433?.7853981852531433/o:i;if(i<1.0000000474974513e-03)e=o*.5-i*(o*o*o*.02083333395421505*i);else e=+X(+(i*.5*o))/i;d=a*e;f=c*e;a=n*e;m=+H(+(i*o*.5));Zw(t,u);e=+l[u>>2];_=+l[u+12>>2];n=+l[u+8>>2];o=+l[u+4>>2];g=1.0/+V(+((m*_-d*e-f*o-a*n)*(m*_-d*e-f*o-a*n)+((a*_+m*n+d*o-f*e)*(a*_+m*n+d*o-f*e)+((m*e+d*_+f*n-a*o)*(m*e+d*_+f*n-a*o)+(a*e+(f*_+m*o)-d*n)*(a*e+(f*_+m*o)-d*n)))));i=(m*e+d*_+f*n-a*o)*g;c=g*(a*e+(f*_+m*o)-d*n);p=g*(a*_+m*n+d*o-f*e);n=g*(m*_-d*e-f*o-a*n);a=i*(2.0/(n*n+(p*p+(i*i+c*c))));o=c*(2.0/(n*n+(p*p+(i*i+c*c))));e=p*(2.0/(n*n+(p*p+(i*i+c*c))));l[s>>2]=1.0-(c*o+p*e);l[s+4>>2]=i*o-n*e;l[s+8>>2]=i*e+n*o;l[s+12>>2]=0.0;l[s+16>>2]=i*o+n*e;l[s+20>>2]=1.0-(i*a+p*e);l[s+24>>2]=c*e-n*a;l[s+28>>2]=0.0;l[s+32>>2]=i*e-n*o;l[s+36>>2]=c*e+n*a;l[s+40>>2]=1.0-(i*a+c*o);l[s+44>>2]=0.0;h=u;return}function zy(t){t=t|0;return}function Gy(t){t=t|0;Kc(t);return}function Vy(t,e,n,r,s,a){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;a=a|0;var c=0.0,u=0,p=0.0,d=0,_=0,m=0,g=0.0,b=0.0,v=0.0,y=0,x=0.0,w=0.0;y=h;h=h+288|0;m=o[t+4>>2]|0;i[m+312>>0]=0;o[m>>2]=0;i[m+356>>0]=1;o[m+292>>2]=1566444395;o[m+296>>2]=1566444395;o[m+300>>2]=1566444395;l[m+304>>2]=0.0;o[m+336>>2]=0;o[m+336+4>>2]=0;o[m+336+8>>2]=0;o[m+336+12>>2]=0;i[m+336+16>>0]=0;i[m+332>>0]=i[m+332>>0]&-16;g=+l[n+48>>2]-+l[e+48>>2]-(+l[s+48>>2]-+l[r+48>>2]);b=+l[n+52>>2]-+l[e+52>>2]-(+l[s+52>>2]-+l[r+52>>2]);v=+l[n+56>>2]-+l[e+56>>2]-(+l[s+56>>2]-+l[r+56>>2]);o[y+216>>2]=6836;l[y+216+36>>2]=999999984306749440.0;i[y+216+40>>0]=0;m=o[t+8>>2]|0;_=o[t+12>>2]|0;d=o[t+4>>2]|0;o[y+136>>2]=6928;o[y+136+4>>2]=0;o[y+136+8>>2]=1065353216;o[y+136+12>>2]=0;l[y+136+16>>2]=0.0;o[y+136+20>>2]=0;o[y+136+24>>2]=d;o[y+136+28>>2]=m;o[y+136+32>>2]=_;o[y+136+36>>2]=o[m+4>>2];o[y+136+40>>2]=o[_+4>>2];l[y+136+44>>2]=+wk[o[(o[m>>2]|0)+48>>2]&15](m);l[y+136+48>>2]=+wk[o[(o[_>>2]|0)+48>>2]&15](_);i[y+136+52>>0]=0;o[y+136+60>>2]=-1;o[y+136+72>>2]=1;o[y+136+76>>2]=1;l[y+128>>2]=999999984306749440.0;o[y>>2]=o[e>>2];o[y+4>>2]=o[e+4>>2];o[y+8>>2]=o[e+8>>2];o[y+12>>2]=o[e+12>>2];o[y+16>>2]=o[e+16>>2];o[y+16+4>>2]=o[e+16+4>>2];o[y+16+8>>2]=o[e+16+8>>2];o[y+16+12>>2]=o[e+16+12>>2];o[y+32>>2]=o[e+32>>2];o[y+32+4>>2]=o[e+32+4>>2];o[y+32+8>>2]=o[e+32+8>>2];o[y+32+12>>2]=o[e+32+12>>2];o[y+48>>2]=o[e+48>>2];o[y+48+4>>2]=o[e+48+4>>2];o[y+48+8>>2]=o[e+48+8>>2];o[y+48+12>>2]=o[e+48+12>>2];o[y+64>>2]=o[r>>2];o[y+64+4>>2]=o[r+4>>2];o[y+64+8>>2]=o[r+8>>2];o[y+64+12>>2]=o[r+12>>2];o[y+80>>2]=o[r+16>>2];o[y+80+4>>2]=o[r+16+4>>2];o[y+80+8>>2]=o[r+16+8>>2];o[y+80+12>>2]=o[r+16+12>>2];o[y+96>>2]=o[r+32>>2];o[y+96+4>>2]=o[r+32+4>>2];o[y+96+8>>2]=o[r+32+8>>2];o[y+96+12>>2]=o[r+32+12>>2];o[y+112>>2]=o[r+48>>2];o[y+112+4>>2]=o[r+48+4>>2];o[y+112+8>>2]=o[r+48+8>>2];o[y+112+12>>2]=o[r+48+12>>2];ix(y+136|0,y,y+216|0,0,0);_=(i[y+216+40>>0]|0)==0;m=y+216+20|0;o[y+264>>2]=o[m>>2];o[y+264+4>>2]=o[m+4>>2];o[y+264+8>>2]=o[m+8>>2];o[y+264+12>>2]=o[m+12>>2];if(_){a=0;h=y;return a|0}p=+l[y+216+36>>2];c=+l[y+216+16>>2];t=o[y+216+12>>2]|0;u=o[y+216+8>>2]|0;d=o[y+216+4>>2]|0;do{if(p>1.0000000474974513e-03){c=0.0;_=0;while(1){if((_|0)>31){t=0;_=13;break}w=g*(o[f>>2]=d,+l[f>>2]);w=b*(o[f>>2]=u,+l[f>>2])+w;x=c;c=c-p/(v*(o[f>>2]=t,+l[f>>2])+w);if(!(!(c<=x)&(!(c<0.0)&!(c>1.0)))){t=0;_=13;break}ok[o[o[a>>2]>>2]&31](a,c);w=1.0-c;l[y+48>>2]=w*+l[e+48>>2]+c*+l[n+48>>2];l[y+52>>2]=w*+l[e+52>>2]+c*+l[n+52>>2];l[y+56>>2]=w*+l[e+56>>2]+c*+l[n+56>>2];l[y+112>>2]=w*+l[r+48>>2]+c*+l[s+48>>2];l[y+116>>2]=w*+l[r+52>>2]+c*+l[s+52>>2];l[y+120>>2]=w*+l[r+56>>2]+c*+l[s+56>>2];ix(y+136|0,y,y+216|0,0,0);if(!(i[y+216+40>>0]|0)){t=0;_=13;break}p=+l[y+216+36>>2];if(p<0.0){_=8;break}o[y+264>>2]=o[m>>2];o[y+264+4>>2]=o[m+4>>2];o[y+264+8>>2]=o[m+8>>2];o[y+264+12>>2]=o[m+12>>2];t=o[y+216+12>>2]|0;u=o[y+216+8>>2]|0;d=o[y+216+4>>2]|0;if(!(p>1.0000000474974513e-03)){_=10;break}else _=_+1|0}if((_|0)==8){l[a+164>>2]=c;r=o[y+216+8>>2]|0;n=o[y+216+12>>2]|0;s=o[y+216+16>>2]|0;o[a+132>>2]=o[y+216+4>>2];o[a+136>>2]=r;o[a+140>>2]=n;o[a+144>>2]=s;o[a+148>>2]=o[m>>2];o[a+148+4>>2]=o[m+4>>2];o[a+148+8>>2]=o[m+8>>2];o[a+148+12>>2]=o[m+12>>2];a=1;h=y;return a|0}else if((_|0)==10){p=c;c=+l[y+216+16>>2];break}else if((_|0)==13){h=y;return t|0}}else p=0.0}while(0);w=g*(o[f>>2]=d,+l[f>>2]);w=b*(o[f>>2]=u,+l[f>>2])+w;if(v*(o[f>>2]=t,+l[f>>2])+w>=-+l[a+172>>2]){a=0;h=y;return a|0}l[a+164>>2]=p;o[a+132>>2]=d;o[a+136>>2]=u;o[a+140>>2]=t;l[a+144>>2]=c;o[a+148>>2]=o[y+264>>2];o[a+148+4>>2]=o[y+264+4>>2];o[a+148+8>>2]=o[y+264+8>>2];o[a+148+12>>2]=o[y+264+12>>2];a=1;h=y;return a|0}function Wy(t,e,n,i,r,s){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;s=s|0;var a=0.0,c=0,u=0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0;x=h;h=h+560|0;c=s;u=c+36|0;do{o[c>>2]=0;c=c+4|0}while((c|0)<(u|0));o[x+400>>2]=t;o[x+400+4>>2]=n;d=+l[i>>2];R=+l[e>>2];f=+l[i+16>>2];a=+l[e+16>>2];p=+l[i+32>>2];I=+l[e+32>>2];w=+l[e+4>>2];P=+l[e+20>>2];S=+l[e+36>>2];v=+l[e+8>>2];g=+l[e+24>>2];_=+l[e+40>>2];E=+l[i+4>>2];L=+l[i+20>>2];A=+l[i+36>>2];T=+l[i+8>>2];C=+l[i+24>>2];M=+l[i+40>>2];l[x+400+8>>2]=d*R+f*a+p*I;l[x+400+12>>2]=d*w+f*P+p*S;l[x+400+16>>2]=d*v+f*g+p*_;l[x+400+20>>2]=0.0;l[x+400+24>>2]=R*E+a*L+I*A;l[x+400+28>>2]=w*E+P*L+S*A;l[x+400+32>>2]=v*E+g*L+_*A;l[x+400+36>>2]=0.0;l[x+400+40>>2]=R*T+a*C+I*M;l[x+400+44>>2]=w*T+P*C+S*M;l[x+400+48>>2]=v*T+g*C+_*M;l[x+400+52>>2]=0.0;_=+l[i+48>>2]-+l[e+48>>2];g=+l[i+52>>2]-+l[e+52>>2];v=+l[i+56>>2]-+l[e+56>>2];S=+l[e>>2];P=+l[i>>2];w=+l[e+16>>2];I=+l[i+16>>2];a=+l[e+32>>2];R=+l[i+32>>2];p=+l[e+4>>2];f=+l[e+20>>2];d=+l[e+36>>2];m=+l[e+8>>2];b=+l[e+24>>2];y=+l[e+40>>2];l[x+400+56>>2]=S*P+w*I+a*R;l[x+400+60>>2]=S*E+w*L+a*A;l[x+400+64>>2]=S*T+w*C+a*M;l[x+400+68>>2]=0.0;l[x+400+72>>2]=P*p+I*f+R*d;l[x+400+76>>2]=E*p+L*f+A*d;l[x+400+80>>2]=T*p+C*f+M*d;l[x+400+84>>2]=0.0;l[x+400+88>>2]=P*m+I*b+R*y;l[x+400+92>>2]=E*m+L*b+A*y;l[x+400+96>>2]=T*m+C*b+M*y;l[x+400+100>>2]=0.0;l[x+400+104>>2]=_*S+g*w+v*a;l[x+400+108>>2]=_*p+g*f+v*d;l[x+400+112>>2]=_*m+g*b+v*y;l[x+400+116>>2]=0.0;o[x+400+120>>2]=71;o[x+400+124>>2]=0;o[x+16+364>>2]=0;o[x+16+128>>2]=0;o[x+16+128+4>>2]=0;o[x+16+128+8>>2]=0;o[x+16+128+12>>2]=0;o[x+16+376>>2]=2;o[x+16+368>>2]=0;l[x+16+144>>2]=0.0;r=Hy(x+16|0,x+400|0,r)|0;if(r|0){o[s>>2]=(r|0)==1?1:2;e=0;h=x;return e|0}r=o[x+16+372>>2]|0;if(!(o[r+32>>2]|0)){m=0.0;_=0.0;d=0.0;f=0.0;p=0.0;a=0.0}else{i=0;m=0.0;_=0.0;d=0.0;f=0.0;p=0.0;a=0.0;do{y=+l[r+16+(i<<2)>>2];t=o[x+400+120>>2]|0;u=o[x+400+124>>2]|0;n=(o[x+400>>2]|0)+(u>>1)|0;if(u&1)t=o[(o[n>>2]|0)+t>>2]|0;Uk[t&127](x,n,o[r+(i<<2)>>2]|0);m=m+y*+l[x>>2];d=d+y*+l[x+4>>2];_=_+y*+l[x+8>>2];r=o[(o[x+16+372>>2]|0)+(i<<2)>>2]|0;g=-+l[r>>2];b=-+l[r+4>>2];v=-+l[r+8>>2];r=o[x+400+120>>2]|0;u=o[x+400+124>>2]|0;t=(o[x+400+4>>2]|0)+(u>>1)|0;if(u&1)r=o[(o[t>>2]|0)+r>>2]|0;I=+l[x+400+24>>2]*g+ +l[x+400+28>>2]*b+ +l[x+400+32>>2]*v;R=+l[x+400+40>>2]*g+ +l[x+400+44>>2]*b+ +l[x+400+48>>2]*v;l[x+528>>2]=+l[x+400+8>>2]*g+ +l[x+400+12>>2]*b+ +l[x+400+16>>2]*v;l[x+528+4>>2]=I;l[x+528+8>>2]=R;l[x+528+12>>2]=0.0;Uk[r&127](x+544|0,t,x+528|0);R=+l[x+544>>2];I=+l[x+544+4>>2];P=+l[x+544+8>>2];f=f+y*(R*+l[x+400+56>>2]+I*+l[x+400+60>>2]+P*+l[x+400+64>>2]+ +l[x+400+104>>2]);a=a+y*(R*+l[x+400+72>>2]+I*+l[x+400+76>>2]+P*+l[x+400+80>>2]+ +l[x+400+108>>2]);p=p+y*(R*+l[x+400+88>>2]+I*+l[x+400+92>>2]+P*+l[x+400+96>>2]+ +l[x+400+112>>2]);i=i+1|0;r=o[x+16+372>>2]|0}while(i>>>0<(o[r+32>>2]|0)>>>0)}E=m*+l[e+16>>2]+d*+l[e+20>>2]+_*+l[e+24>>2]+ +l[e+52>>2];R=m*+l[e+32>>2]+d*+l[e+36>>2]+_*+l[e+40>>2]+ +l[e+56>>2];l[s+4>>2]=m*+l[e>>2]+d*+l[e+4>>2]+_*+l[e+8>>2]+ +l[e+48>>2];l[s+8>>2]=E;l[s+12>>2]=R;l[s+16>>2]=0.0;R=f*+l[e+16>>2]+a*+l[e+20>>2]+p*+l[e+24>>2]+ +l[e+52>>2];E=f*+l[e+32>>2]+a*+l[e+36>>2]+p*+l[e+40>>2]+ +l[e+56>>2];l[s+20>>2]=f*+l[e>>2]+a*+l[e+4>>2]+p*+l[e+8>>2]+ +l[e+48>>2];l[s+24>>2]=R;l[s+28>>2]=E;l[s+32>>2]=0.0;E=m-f;R=d-a;P=_-p;l[s+48>>2]=0.0;I=+V(+(E*E+R*R+P*P));l[s+52>>2]=I;I=I>9.999999747378752e-05?1.0/I:1.0;l[s+36>>2]=I*E;l[s+40>>2]=I*R;l[s+44>>2]=I*P;e=1;h=x;return e|0}function Hy(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0,s=0.0,a=0.0,c=0.0,u=0,p=0,d=0.0,_=0.0,m=0.0,g=0.0,b=0,v=0.0,y=0,x=0.0,w=0,S=0,M=0.0,C=0,T=0,A=0.0,L=0.0,E=0.0,R=0.0,I=0;T=h;h=h+176|0;o[t+348>>2]=t+220;o[t+352>>2]=t+252;o[t+356>>2]=t+284;o[t+360>>2]=t+316;o[t+364>>2]=4;o[t+368>>2]=0;o[t+376>>2]=0;S=o[e+4>>2]|0;o[t>>2]=o[e>>2];o[t+4>>2]=S;o[t+8>>2]=o[e+8>>2];o[t+8+4>>2]=o[e+8+4>>2];o[t+8+8>>2]=o[e+8+8>>2];o[t+8+12>>2]=o[e+8+12>>2];o[t+24>>2]=o[e+24>>2];o[t+24+4>>2]=o[e+24+4>>2];o[t+24+8>>2]=o[e+24+8>>2];o[t+24+12>>2]=o[e+24+12>>2];o[t+40>>2]=o[e+40>>2];o[t+40+4>>2]=o[e+40+4>>2];o[t+40+8>>2]=o[e+40+8>>2];o[t+40+12>>2]=o[e+40+12>>2];o[t+56>>2]=o[e+56>>2];o[t+56+4>>2]=o[e+56+4>>2];o[t+56+8>>2]=o[e+56+8>>2];o[t+56+12>>2]=o[e+56+12>>2];o[t+72>>2]=o[e+72>>2];o[t+72+4>>2]=o[e+72+4>>2];o[t+72+8>>2]=o[e+72+8>>2];o[t+72+12>>2]=o[e+72+12>>2];o[t+88>>2]=o[e+88>>2];o[t+88+4>>2]=o[e+88+4>>2];o[t+88+8>>2]=o[e+88+8>>2];o[t+88+12>>2]=o[e+88+12>>2];o[t+104>>2]=o[e+104>>2];o[t+104+4>>2]=o[e+104+4>>2];o[t+104+8>>2]=o[e+104+8>>2];o[t+104+12>>2]=o[e+104+12>>2];S=o[e+124>>2]|0;o[t+120>>2]=o[e+120>>2];o[t+124>>2]=S;l[t+144>>2]=0.0;o[t+180>>2]=0;o[t+128>>2]=o[n>>2];o[t+128+4>>2]=o[n+4>>2];o[t+128+8>>2]=o[n+8>>2];o[t+128+12>>2]=o[n+12>>2];i=+l[t+128>>2];s=+l[t+132>>2];a=+l[t+136>>2];if(i*i+s*s+a*a>0.0){n=(l[f>>2]=-i,o[f>>2]|0);e=(l[f>>2]=-s,o[f>>2]|0);r=(l[f>>2]=-a,o[f>>2]|0)}else{n=1065353216;e=0;r=0}l[t+164>>2]=0.0;o[t+364>>2]=3;o[t+148>>2]=t+316;o[t+180>>2]=1;v=(o[f>>2]=n,+l[f>>2]);x=(o[f>>2]=e,+l[f>>2]);Xy(t,v,x,(o[f>>2]=r,+l[f>>2]),t+316|0);l[t+164>>2]=1.0;w=(o[t+148>>2]|0)+16|0;o[t+128>>2]=o[w>>2];o[t+128+4>>2]=o[w+4>>2];o[t+128+8>>2]=o[w+8>>2];o[t+128+12>>2]=o[w+12>>2];o[T+24+48>>2]=o[w>>2];o[T+24+48+4>>2]=o[w+4>>2];o[T+24+48+8>>2]=o[w+8>>2];o[T+24+48+12>>2]=o[w+12>>2];o[T+24+32>>2]=o[w>>2];o[T+24+32+4>>2]=o[w+4>>2];o[T+24+32+8>>2]=o[w+8>>2];o[T+24+32+12>>2]=o[w+12>>2];o[T+24+16>>2]=o[w>>2];o[T+24+16+4>>2]=o[w+4>>2];o[T+24+16+8>>2]=o[w+8>>2];o[T+24+16+12>>2]=o[w+12>>2];o[T+24>>2]=o[w>>2];o[T+24+4>>2]=o[w+4>>2];o[T+24+8>>2]=o[w+8>>2];o[T+24+12>>2]=o[w+12>>2];x=0.0;w=0;S=0;i=i*i+s*s+a*a;t:do{y=o[t+368>>2]|0;c=+l[t+128>>2];s=+l[t+132>>2];a=+l[t+136>>2];d=+V(+(c*c+s*s+a*a));if(d<9.999999747378752e-05){C=5;break}l[t+148+(y*36|0)+16+(o[t+148+(y*36|0)+32>>2]<<2)>>2]=0.0;n=(o[t+364>>2]|0)+-1|0;o[t+364>>2]=n;o[t+148+(y*36|0)+(o[t+148+(y*36|0)+32>>2]<<2)>>2]=o[t+348+(n<<2)>>2];n=o[t+148+(y*36|0)+32>>2]|0;o[t+148+(y*36|0)+32>>2]=n+1;Xy(t,-c,-s,-a,o[t+148+(y*36|0)+(n<<2)>>2]|0);n=o[t+148+(y*36|0)+32>>2]|0;e=o[t+148+(y*36|0)+(n+-1<<2)>>2]|0;s=+l[e+16>>2];a=+l[e+20>>2];c=+l[e+24>>2];m=s-+l[T+24>>2];g=a-+l[T+24+4>>2];v=c-+l[T+24+8>>2];if(m*m+g*g+v*v<9.999999747378752e-05){C=8;break}m=s-+l[T+24+16>>2];g=a-+l[T+24+20>>2];v=c-+l[T+24+24>>2];if(m*m+g*g+v*v<9.999999747378752e-05){C=8;break}m=s-+l[T+24+32>>2];g=a-+l[T+24+36>>2];v=c-+l[T+24+40>>2];if(m*m+g*g+v*v<9.999999747378752e-05){C=8;break}m=s-+l[T+24+48>>2];g=a-+l[T+24+52>>2];v=c-+l[T+24+56>>2];if(m*m+g*g+v*v<9.999999747378752e-05){C=8;break}w=w+1&3;b=T+24+(w<<4)|0;o[b>>2]=o[e+16>>2];o[b+4>>2]=o[e+16+4>>2];o[b+8>>2]=o[e+16+8>>2];o[b+12>>2]=o[e+16+12>>2];v=(+l[t+128>>2]*s+ +l[t+132>>2]*a+ +l[t+136>>2]*c)/d;x=v>x?v:x;if(d-x-d*9.999999747378752e-05<=0.0){C=9;break}o[T>>2]=0;e:do{switch(n|0){case 2:{b=o[t+148+(y*36|0)>>2]|0;p=o[t+148+(y*36|0)+4>>2]|0;i=+l[p+16>>2];s=+l[b+16>>2];a=+l[p+20>>2];c=+l[b+20>>2];d=+l[p+24>>2];_=+l[b+24>>2];if(!((i-s)*(i-s)+(a-c)*(a-c)+(d-_)*(d-_)>0.0)){C=39;break t}m=-(s*(i-s)+c*(a-c)+_*(d-_))/((i-s)*(i-s)+(a-c)*(a-c)+(d-_)*(d-_));if(m>=1.0){l[T+8>>2]=0.0;l[T+8+4>>2]=1.0;o[T>>2]=2;i=i*i+a*a+d*d;break e}if(!(m<=0.0)){l[T+8+4>>2]=m;l[T+8>>2]=1.0-m;o[T>>2]=3;i=((i-s)*m+s)*((i-s)*m+s)+((a-c)*m+c)*((a-c)*m+c)+((d-_)*m+_)*((d-_)*m+_);break e}else{l[T+8>>2]=1.0;l[T+8+4>>2]=0.0;o[T>>2]=1;i=s*s+c*c+_*_;break e}}case 3:{i=+qy((o[t+148+(y*36|0)>>2]|0)+16|0,(o[t+148+(y*36|0)+4>>2]|0)+16|0,(o[t+148+(y*36|0)+8>>2]|0)+16|0,T+8|0,T);break}case 4:{r=o[t+148+(y*36|0)>>2]|0;u=o[t+148+(y*36|0)+4>>2]|0;p=o[t+148+(y*36|0)+8>>2]|0;b=o[t+148+(y*36|0)+12>>2]|0;o[T+152>>2]=r+16;o[T+152+4>>2]=u+16;o[T+152+8>>2]=p+16;o[T+152+12>>2]=b+16;a=+l[r+16>>2];c=+l[b+16>>2];i=+l[r+20>>2];d=+l[b+20>>2];s=+l[r+24>>2];_=+l[b+24>>2];l[T+104>>2]=a-c;l[T+104+4>>2]=i-d;l[T+104+8>>2]=s-_;l[T+104+12>>2]=0.0;A=+l[u+16>>2];E=+l[u+20>>2];g=+l[u+24>>2];l[T+104+16>>2]=A-c;l[T+104+20>>2]=E-d;l[T+104+24>>2]=g-_;l[T+104+28>>2]=0.0;m=+l[p+16>>2];R=+l[p+20>>2];L=+l[p+24>>2];l[T+104+32>>2]=m-c;l[T+104+36>>2]=R-d;l[T+104+40>>2]=L-_;l[T+104+44>>2]=0.0;v=(i-d)*(g-_)*(m-c)+(s-_)*(A-c)*(R-d)-(R-d)*((g-_)*(a-c))-(i-d)*(A-c)*(L-_)+(L-_)*((a-c)*(E-d))-(m-c)*((s-_)*(E-d));if(v!=v|0.0!=0.0|v==0.0|!(v*(s*((A-m)*(i-E)-(E-R)*(a-A))+(a*((E-R)*(s-g)-(g-L)*(i-E))+i*((g-L)*(a-A)-(A-m)*(s-g))))<=0.0))i=-1.0;else{o[T+92>>2]=0;o[T+92+4>>2]=0;o[T+92+8>>2]=0;o[T+88>>2]=0;g=i-d;m=s-_;s=a-c;n=0;i=-1.0;while(1){e=o[6876+(n<<2)>>2]|0;L=+l[T+104+(e<<4)+8>>2];E=+l[T+104+(e<<4)+4>>2];R=+l[T+104+(e<<4)>>2];if(v*((g*L-m*E)*c+d*(m*R-L*s)+(E*s-g*R)*_)>0.0?(M=+qy(o[T+152+(n<<2)>>2]|0,o[T+152+(e<<2)>>2]|0,b+16|0,T+92|0,T+88|0),i<0.0|M<i):0){I=o[T+88>>2]|0;o[T>>2]=(I&2|0?1<<e:0)+(I<<1&8)+(I&1|0?1<<n:0);o[T+8+(n<<2)>>2]=o[T+92>>2];o[T+8+(e<<2)>>2]=o[T+92+4>>2];l[T+8+(o[6876+(e<<2)>>2]<<2)>>2]=0.0;o[T+8+12>>2]=o[T+92+8>>2];i=M}n=n+1|0;if((n|0)==3)break;g=+l[T+104+(n<<4)+4>>2];m=+l[T+104+(n<<4)+8>>2];s=+l[T+104+(n<<4)>>2];c=+l[b+16>>2];d=+l[b+20>>2];_=+l[b+24>>2]}if(i<0.0){o[T>>2]=15;c=+l[p+20>>2];R=+l[u+24>>2];E=+l[b+16>>2];s=+l[p+24>>2];L=+l[u+16>>2];d=+l[b+20>>2];a=+l[p+16>>2];A=+l[b+24>>2];m=+l[u+20>>2];l[T+8>>2]=(c*R*E+s*L*d-d*(R*a)-c*L*A+A*(a*m)-E*(s*m))/v;i=+l[r+20>>2];_=+l[r+24>>2];g=+l[r+16>>2];l[T+8+4>>2]=(i*s*E+_*a*d-d*(s*g)-i*a*A+A*(g*c)-E*(_*c))/v;l[T+8+8>>2]=(m*_*E+R*g*d-d*(_*L)-m*g*A+A*(L*i)-E*(R*i))/v;l[T+8+12>>2]=1.0-((c*R*E+s*L*d-d*(R*a)-c*L*A+A*(a*m)-E*(s*m))/v+(i*s*E+_*a*d-d*(s*g)-i*a*A+A*(g*c)-E*(_*c))/v+(m*_*E+R*g*d-d*(_*L)-m*g*A+A*(L*i)-E*(R*i))/v);i=0.0}}break}default:{}}}while(0);if(!(i>=0.0)){C=39;break}o[t+148+((1-y|0)*36|0)+32>>2]=0;o[t+128>>2]=0;o[t+128+4>>2]=0;o[t+128+8>>2]=0;o[t+128+12>>2]=0;o[t+368>>2]=1-y;n=o[t+148+(y*36|0)+32>>2]|0;e=o[T>>2]|0;if(n|0){p=0;do{r=t+148+(y*36|0)+(p<<2)|0;u=o[r>>2]|0;if(!(e&1<<p)){I=o[t+364>>2]|0;o[t+364>>2]=I+1;o[t+348+(I<<2)>>2]=u}else{o[t+148+((1-y|0)*36|0)+(o[t+148+((1-y|0)*36|0)+32>>2]<<2)>>2]=u;b=o[T+8+(p<<2)>>2]|0;I=o[t+148+((1-y|0)*36|0)+32>>2]|0;o[t+148+((1-y|0)*36|0)+32>>2]=I+1;o[t+148+((1-y|0)*36|0)+16+(I<<2)>>2]=b;I=o[r>>2]|0;L=(o[f>>2]=b,+l[f>>2]);E=L*+l[I+20>>2];R=L*+l[I+24>>2];l[t+128>>2]=+l[I+16>>2]*L+ +l[t+128>>2];l[t+132>>2]=E+ +l[t+132>>2];l[t+136>>2]=R+ +l[t+136>>2]}p=p+1|0}while((p|0)!=(n|0))}if((e|0)==15)o[t+376>>2]=1;S=S+1|0;if(S>>>0>=128){C=38;break}}while(!(o[t+376>>2]|0));if((C|0)==5)o[t+376>>2]=1;else if((C|0)==8){I=o[t+368>>2]|0;C=(o[t+148+(I*36|0)+32>>2]|0)+-1|0;o[t+148+(I*36|0)+32>>2]=C;C=o[t+148+(I*36|0)+(C<<2)>>2]|0;I=o[t+364>>2]|0;o[t+364>>2]=I+1;o[t+348+(I<<2)>>2]=C}else if((C|0)==9){I=o[t+368>>2]|0;C=(o[t+148+(I*36|0)+32>>2]|0)+-1|0;o[t+148+(I*36|0)+32>>2]=C;C=o[t+148+(I*36|0)+(C<<2)>>2]|0;I=o[t+364>>2]|0;o[t+364>>2]=I+1;o[t+348+(I<<2)>>2]=C}else if((C|0)==38)o[t+376>>2]=2;else if((C|0)==39){I=o[t+368>>2]|0;C=(o[t+148+(I*36|0)+32>>2]|0)+-1|0;o[t+148+(I*36|0)+32>>2]=C;C=o[t+148+(I*36|0)+(C<<2)>>2]|0;I=o[t+364>>2]|0;o[t+364>>2]=I+1;o[t+348+(I<<2)>>2]=C}o[t+372>>2]=t+148+((o[t+368>>2]|0)*36|0);n=o[t+376>>2]|0;switch(n|0){case 0:{L=+l[t+128>>2];E=+l[t+132>>2];R=+l[t+136>>2];l[t+144>>2]=+V(+(L*L+E*E+R*R));h=T;return n|0}case 1:{l[t+144>>2]=0.0;h=T;return n|0}default:{h=T;return n|0}}return 0}function Xy(t,e,n,i,r){t=t|0;e=+e;n=+n;i=+i;r=r|0;var s=0,a=0,c=0,u=0,p=0.0,f=0.0;c=h;h=h+48|0;p=1.0/+V(+(e*e+n*n+i*i));l[r>>2]=p*e;l[r+4>>2]=p*n;l[r+8>>2]=p*i;l[r+12>>2]=0.0;s=o[t+120>>2]|0;u=o[t+124>>2]|0;a=(o[t>>2]|0)+(u>>1)|0;if(u&1)s=o[(o[a>>2]|0)+s>>2]|0;Uk[s&127](c,a,r);e=-+l[r>>2];n=-+l[r+4>>2];i=-+l[r+8>>2];s=o[t+120>>2]|0;u=o[t+124>>2]|0;a=(o[t+4>>2]|0)+(u>>1)|0;if(u&1)s=o[(o[a>>2]|0)+s>>2]|0;p=+l[t+24>>2]*e+ +l[t+28>>2]*n+ +l[t+32>>2]*i;f=+l[t+40>>2]*e+ +l[t+44>>2]*n+ +l[t+48>>2]*i;l[c+16>>2]=+l[t+8>>2]*e+ +l[t+12>>2]*n+ +l[t+16>>2]*i;l[c+16+4>>2]=p;l[c+16+8>>2]=f;l[c+16+12>>2]=0.0;Uk[s&127](c+32|0,a,c+16|0);f=+l[c+32>>2];e=+l[c+32+4>>2];n=+l[c+32+8>>2];i=+l[c+4>>2]-(f*+l[t+72>>2]+e*+l[t+76>>2]+n*+l[t+80>>2]+ +l[t+108>>2]);p=+l[c+8>>2]-(f*+l[t+88>>2]+e*+l[t+92>>2]+n*+l[t+96>>2]+ +l[t+112>>2]);l[r+16>>2]=+l[c>>2]-(f*+l[t+56>>2]+e*+l[t+60>>2]+n*+l[t+64>>2]+ +l[t+104>>2]);l[r+20>>2]=i;l[r+24>>2]=p;l[r+28>>2]=0.0;h=c;return}function qy(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;var s=0,a=0,c=0.0,u=0,p=0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0,D=0.0,k=0.0,O=0.0,N=0.0,F=0,B=0;F=h;h=h+64|0;o[F+48>>2]=t;o[F+48+4>>2]=e;o[F+48+8>>2]=n;L=+l[t>>2];I=+l[e>>2];O=+l[t+4>>2];N=+l[e+4>>2];C=+l[t+8>>2];T=+l[e+8>>2];l[F>>2]=L-I;l[F+4>>2]=O-N;l[F+8>>2]=C-T;l[F+12>>2]=0.0;A=+l[n>>2];E=+l[n+4>>2];R=+l[n+8>>2];l[F+16>>2]=I-A;l[F+20>>2]=N-E;l[F+24>>2]=T-R;l[F+28>>2]=0.0;l[F+32>>2]=A-L;l[F+36>>2]=E-O;l[F+40>>2]=R-C;l[F+44>>2]=0.0;P=(O-N)*(T-R)-(C-T)*(N-E);D=(C-T)*(I-A)-(T-R)*(L-I);k=(N-E)*(L-I)-(O-N)*(I-A);if(k*k+(P*P+D*D)>0.0){d=O-N;_=C-T;m=L-I;x=L;w=O;S=C;u=0;M=-1.0;p=0;s=0;a=0}else{N=-1.0;h=F;return+N}while(1){if(x*(k*d-D*_)+w*(P*_-k*m)+(D*m-P*d)*S>0.0){y=o[6876+(u<<2)>>2]|0;B=o[F+48+(y<<2)>>2]|0;c=+l[B>>2];_=c-x;m=+l[B+4>>2];g=m-w;b=+l[B+8>>2];v=b-S;do{if(_*_+g*g+v*v>0.0){d=-(x*_+w*g+S*v)/(_*_+g*g+v*v);if(d>=1.0){c=c*c+m*m+b*b;p=2;s=0;a=1065353216;break}if(!(d<=0.0)){a=(l[f>>2]=d,o[f>>2]|0);x=x+_*d;c=w+g*d;S=S+v*d;c=S*S+(x*x+c*c);p=3;s=(l[f>>2]=1.0-d,o[f>>2]|0);break}else{c=x*x+w*w+S*S;p=1;s=1065353216;a=0;break}}else c=-1.0}while(0);if(M<0.0|c<M){o[r>>2]=(p&1|0?1<<u:0)+(p&2|0?1<<y:0);o[i+(u<<2)>>2]=s;o[i+(y<<2)>>2]=a;l[i+(o[6876+(y<<2)>>2]<<2)>>2]=0.0}else c=M}else c=M;u=u+1|0;if((u|0)==3)break;B=o[F+48+(u<<2)>>2]|0;d=+l[F+(u<<4)+4>>2];_=+l[F+(u<<4)+8>>2];m=+l[F+(u<<4)>>2];x=+l[B>>2];w=+l[B+4>>2];S=+l[B+8>>2];M=c}if(!(c<0.0)){N=c;h=F;return+N}S=+V(+(k*k+(P*P+D*D)));M=(P*+l[t>>2]+D*+l[t+4>>2]+k*+l[t+8>>2])/(k*k+(P*P+D*D));o[r>>2]=7;x=+l[e>>2]-P*M;v=+l[e+4>>2]-D*M;w=+l[e+8>>2]-k*M;N=+V(+((v*(I-A)-x*(N-E))*(v*(I-A)-x*(N-E))+(((N-E)*w-v*(T-R))*((N-E)*w-v*(T-R))+(x*(T-R)-w*(I-A))*(x*(T-R)-w*(I-A)))))/S;l[i>>2]=N;T=+l[n>>2]-P*M;w=+l[n+4>>2]-D*M;I=+l[n+8>>2]-k*M;O=+V(+((w*(A-L)-T*(E-O))*(w*(A-L)-T*(E-O))+(((E-O)*I-w*(R-C))*((E-O)*I-w*(R-C))+(T*(R-C)-I*(A-L))*(T*(R-C)-I*(A-L)))))/S;l[i+4>>2]=O;l[i+8>>2]=1.0-(O+N);N=k*M*(k*M)+(P*M*(P*M)+D*M*(D*M));h=F;return+N}function Yy(t,e,n,r,a,c,u){t=t|0;e=e|0;n=n|0;r=r|0;a=a|0;c=c|0;u=u|0;var p=0.0,d=0.0,_=0.0,m=0,g=0,b=0.0,v=0,y=0,x=0,w=0,S=0,M=0,C=0,T=0,A=0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0,D=0.0,k=0.0,O=0.0,N=0.0,F=0.0,B=0.0,j=0.0,U=0.0,z=0.0,G=0.0,W=0.0,H=0.0,X=0;A=h;h=h+9856|0;m=c;g=m+36|0;do{o[m>>2]=0;m=m+4|0}while((m|0)<(g|0));o[A+9712>>2]=t;o[A+9712+4>>2]=n;R=+l[r>>2];G=+l[e>>2];I=+l[r+16>>2];D=+l[e+16>>2];P=+l[r+32>>2];W=+l[e+32>>2];k=+l[e+4>>2];H=+l[e+20>>2];O=+l[e+36>>2];b=+l[e+8>>2];p=+l[e+24>>2];E=+l[e+40>>2];z=+l[r+4>>2];U=+l[r+20>>2];j=+l[r+36>>2];B=+l[r+8>>2];F=+l[r+24>>2];N=+l[r+40>>2];l[A+9712+8>>2]=R*G+I*D+P*W;l[A+9712+12>>2]=R*k+I*H+P*O;l[A+9712+16>>2]=R*b+I*p+P*E;l[A+9712+20>>2]=0.0;l[A+9712+24>>2]=G*z+D*U+W*j;l[A+9712+28>>2]=k*z+H*U+O*j;l[A+9712+32>>2]=b*z+p*U+E*j;l[A+9712+36>>2]=0.0;l[A+9712+40>>2]=G*B+D*F+W*N;l[A+9712+44>>2]=k*B+H*F+O*N;l[A+9712+48>>2]=b*B+p*F+E*N;l[A+9712+52>>2]=0.0;E=+l[r+48>>2]-+l[e+48>>2];p=+l[r+52>>2]-+l[e+52>>2];b=+l[r+56>>2]-+l[e+56>>2];O=+l[e>>2];H=+l[r>>2];k=+l[e+16>>2];W=+l[r+16>>2];D=+l[e+32>>2];G=+l[r+32>>2];P=+l[e+4>>2];I=+l[e+20>>2];R=+l[e+36>>2];L=+l[e+8>>2];d=+l[e+24>>2];_=+l[e+40>>2];l[A+9712+56>>2]=O*H+k*W+D*G;l[A+9712+60>>2]=O*z+k*U+D*j;l[A+9712+64>>2]=O*B+k*F+D*N;l[A+9712+68>>2]=0.0;l[A+9712+72>>2]=H*P+W*I+G*R;l[A+9712+76>>2]=z*P+U*I+j*R;l[A+9712+80>>2]=B*P+F*I+N*R;l[A+9712+84>>2]=0.0;l[A+9712+88>>2]=H*L+W*d+G*_;l[A+9712+92>>2]=z*L+U*d+j*_;l[A+9712+96>>2]=B*L+F*d+N*_;l[A+9712+100>>2]=0.0;l[A+9712+104>>2]=E*O+p*k+b*D;l[A+9712+108>>2]=E*P+p*I+b*R;l[A+9712+112>>2]=E*L+p*d+b*_;l[A+9712+116>>2]=0.0;o[A+9712+120>>2]=u?72:71;o[A+9712+124>>2]=0;o[A+9328+364>>2]=0;o[A+9328+128>>2]=0;o[A+9328+128+4>>2]=0;o[A+9328+128+8>>2]=0;o[A+9328+128+12>>2]=0;o[A+9328+376>>2]=2;o[A+9328+368>>2]=0;l[A+9328+144>>2]=0.0;_=-+l[a+4>>2];b=-+l[a+8>>2];l[A+16>>2]=-+l[a>>2];l[A+16+4>>2]=_;l[A+16+8>>2]=b;l[A+16+12>>2]=0.0;switch(Hy(A+9328|0,A+9712|0,A+16|0)|0){case 1:{w=A+32+9280|0;S=A+32+9288|0;M=A+32+9292|0;o[w>>2]=0;o[w+4>>2]=0;o[w+8>>2]=0;o[w+12>>2]=0;o[A+32>>2]=9;T=A+32+40|0;o[A+32+9276>>2]=0;o[T>>2]=0;o[T+4>>2]=0;o[T+8>>2]=0;o[T+12>>2]=0;o[T+16>>2]=0;u=0;do{t=128-u+-1|0;o[A+32+2108+(t*56|0)+44>>2]=0;n=o[S>>2]|0;o[A+32+2108+(t*56|0)+48>>2]=n;if(n|0)o[n+44>>2]=A+32+2108+(t*56|0);o[S>>2]=A+32+2108+(t*56|0);o[M>>2]=(o[M>>2]|0)+1;u=u+1|0}while((u|0)!=128);_=+l[a>>2];b=+l[a+4>>2];d=+l[a+8>>2];v=o[A+9328+372>>2]|0;do{if((o[v+32>>2]|0)>>>0>1?Zy(A+9328|0)|0:0){x=A+32+9280|0;t=o[x>>2]|0;if(t|0){m=o[A+32+9284>>2]|0;g=o[M>>2]|0;do{n=t+44|0;r=t+48|0;u=o[r>>2]|0;if(u|0)o[u+44>>2]=o[n>>2];n=o[n>>2]|0;if(n|0)o[n+48>>2]=o[r>>2];if((o[x>>2]|0)==(t|0))o[x>>2]=o[r>>2];m=m+-1|0;o[t+44>>2]=0;o[r>>2]=o[S>>2];n=o[S>>2]|0;if(n|0)o[n+44>>2]=t;o[S>>2]=t;g=g+1|0;t=o[x>>2]|0}while((t|0)!=0);o[A+32+9284>>2]=m;o[M>>2]=g}o[A+32>>2]=0;o[A+32+9276>>2]=0;t=o[v>>2]|0;n=o[v+12>>2]|0;H=+l[n+16>>2];N=+l[t+16>>2]-H;B=+l[n+20>>2];j=+l[t+20>>2]-B;z=+l[n+24>>2];G=+l[t+24>>2]-z;n=o[v+4>>2]|0;U=+l[n+16>>2]-H;W=+l[n+20>>2]-B;F=+l[n+24>>2]-z;u=o[v+8>>2]|0;H=+l[u+16>>2]-H;B=+l[u+20>>2]-B;z=+l[u+24>>2]-z;if(N*W*z+(j*F*H+G*U*B-N*F*B-j*U*z)-G*W*H<0.0){o[v>>2]=n;o[v+4>>2]=t;r=o[v+16>>2]|0;o[v+16>>2]=o[v+20>>2];o[v+20>>2]=r;r=n}else{r=t;t=n}r=Jy(A+32|0,r,t,u,1)|0;m=Jy(A+32|0,o[v+4>>2]|0,o[v>>2]|0,o[v+12>>2]|0,1)|0;g=Jy(A+32|0,o[v+8>>2]|0,o[v+4>>2]|0,o[v+12>>2]|0,1)|0;a=Jy(A+32|0,o[v>>2]|0,o[v+8>>2]|0,o[v+12>>2]|0,1)|0;if((o[A+32+9284>>2]|0)==4){t=o[w>>2]|0;p=+l[t+16>>2];n=o[t+48>>2]|0;if(n){d=p*p;while(1){p=+l[n+16>>2];u=p*p<d;t=u?n:t;n=o[n+48>>2]|0;if(!n)break;else d=u?p*p:d}}b=+l[t>>2];_=+l[t+4>>2];d=+l[t+8>>2];p=+l[t+12>>2];y=o[t+16>>2]|0;X=o[t+20>>2]|0;n=o[t+24>>2]|0;u=o[t+28>>2]|0;i[r+52>>0]=0;o[r+32>>2]=m;i[m+52>>0]=0;o[m+32>>2]=r;i[r+53>>0]=0;o[r+36>>2]=g;i[g+52>>0]=1;o[g+32>>2]=r;i[r+54>>0]=0;o[r+40>>2]=a;i[a+52>>0]=2;o[a+32>>2]=r;i[m+53>>0]=2;o[m+36>>2]=a;i[a+54>>0]=1;o[a+40>>2]=m;i[m+54>>0]=1;o[m+40>>2]=g;i[g+53>>0]=2;o[g+36>>2]=m;i[g+54>>0]=1;o[g+40>>2]=a;i[a+53>>0]=2;o[a+36>>2]=g;o[A+32>>2]=0;v=t;g=X;a=n;m=u;t=y;y=0;while(1){n=o[A+32+9276>>2]|0;if(n>>>0>=64){C=43;break}o[A+9840>>2]=0;o[A+9840+4>>2]=0;o[A+9840+8>>2]=0;o[A+32+9276>>2]=n+1;y=y+1|0;i[v+55>>0]=y;r=v+4|0;X=v+8|0;Xy(A+9328|0,+l[v>>2],+l[r>>2],+l[X>>2],A+32+60+(n<<5)|0);if(+l[v>>2]*+l[A+32+60+(n<<5)+16>>2]+ +l[r>>2]*+l[A+32+60+(n<<5)+20>>2]+ +l[X>>2]*+l[A+32+60+(n<<5)+24>>2]-+l[v+16>>2]>9.999999747378752e-05)r=0;else{n=7;C=42;break}do{u=$y(A+32|0,y,A+32+60+(n<<5)|0,o[v+32+(r<<2)>>2]|0,s[v+52+r>>0]|0,A+9840|0)|0;r=r+1|0}while(u&r>>>0<3);if(!(u&(o[A+9840+8>>2]|0)>>>0>2)){n=4;C=42;break}u=o[A+9840>>2]|0;t=o[A+9840+4>>2]|0;i[u+53>>0]=2;o[u+36>>2]=t;i[t+54>>0]=1;o[t+40>>2]=u;t=v+44|0;u=v+48|0;n=o[u>>2]|0;if(n|0)o[n+44>>2]=o[t>>2];t=o[t>>2]|0;if(t|0)o[t+48>>2]=o[u>>2];if((o[x>>2]|0)==(v|0))o[x>>2]=o[u>>2];o[A+32+9284>>2]=(o[A+32+9284>>2]|0)+-1;o[v+44>>2]=0;o[u>>2]=o[S>>2];t=o[S>>2]|0;if(t|0)o[t+44>>2]=v;o[S>>2]=v;o[M>>2]=(o[M>>2]|0)+1;n=o[w>>2]|0;p=+l[n+16>>2];t=o[n+48>>2]|0;if(t){d=p*p;while(1){p=+l[t+16>>2];u=p*p<d;n=u?t:n;t=o[t+48>>2]|0;if(!t)break;else d=u?p*p:d}}b=+l[n>>2];_=+l[n+4>>2];d=+l[n+8>>2];p=+l[n+12>>2];t=o[n+16>>2]|0;u=o[n+20>>2]|0;r=o[n+24>>2]|0;m=o[n+28>>2]|0;if(y>>>0>=255){n=m;break}else{v=n;g=u;a=r}}if((C|0)==42){o[A+32>>2]=n;u=g;r=a;n=m}else if((C|0)==43){o[A+32>>2]=6;u=g;r=a;n=m}G=(o[f>>2]=t,+l[f>>2]);U=b*G;B=_*G;G=d*G;l[A+32+40>>2]=b;l[A+32+44>>2]=_;l[A+32+48>>2]=d;l[A+32+52>>2]=p;o[A+32+56>>2]=t;o[A+32+36>>2]=3;o[A+32+4>>2]=u;o[A+32+8>>2]=r;o[A+32+12>>2]=n;X=r;z=+l[X+16>>2]-U;N=+l[X+20>>2]-B;j=+l[X+24>>2]-G;M=n;O=+l[M+16>>2]-U;F=+l[M+20>>2]-B;W=+l[M+24>>2]-G;W=+V(+((z*F-N*O)*(z*F-N*O)+((N*W-j*F)*(N*W-j*F)+(j*O-z*W)*(j*O-z*W))));l[A+32+20>>2]=W;z=+l[M+16>>2]-U;O=+l[M+20>>2]-B;j=+l[M+24>>2]-G;M=u;F=+l[M+16>>2]-U;N=+l[M+20>>2]-B;H=+l[M+24>>2]-G;H=+V(+((z*N-O*F)*(z*N-O*F)+((O*H-j*N)*(O*H-j*N)+(j*F-z*H)*(j*F-z*H))));l[A+32+24>>2]=H;z=+l[M+16>>2]-U;F=+l[M+20>>2]-B;j=+l[M+24>>2]-G;U=+l[X+16>>2]-U;B=+l[X+20>>2]-B;G=+l[X+24>>2]-G;G=+V(+((z*B-F*U)*(z*B-F*U)+((F*G-j*B)*(F*G-j*B)+(j*U-z*G)*(j*U-z*G))));l[A+32+20>>2]=W/(G+(W+H));l[A+32+24>>2]=H/(G+(W+H));l[A+32+28>>2]=G/(G+(W+H));if((o[A+32>>2]|0)!=9)if(!(o[A+32+36>>2]|0)){_=0.0;d=0.0;p=0.0;break}else{r=A+32+36|0;C=51;break}o[c>>2]=3;X=0;h=A;return X|0}else C=45}else C=45}while(0);if((C|0)==45){o[A+32>>2]=8;l[A+32+40>>2]=_;l[A+32+44>>2]=b;l[A+32+48>>2]=d;l[A+32+52>>2]=0.0;p=+V(+(_*_+b*b+d*d));if(p>0.0){l[A+32+40>>2]=1.0/p*_;l[A+32+44>>2]=1.0/p*b;l[A+32+48>>2]=1.0/p*d}else{o[T>>2]=1065353216;o[A+32+44>>2]=0;o[A+32+48>>2]=0}l[A+32+52>>2]=0.0;l[A+32+56>>2]=0.0;o[A+32+36>>2]=1;o[A+32+4>>2]=o[v>>2];l[A+32+20>>2]=1.0;r=A+32+36|0;C=51}if((C|0)==51){u=0;_=0.0;d=0.0;p=0.0;do{t=o[A+9712+120>>2]|0;X=o[A+9712+124>>2]|0;n=(o[A+9712>>2]|0)+(X>>1)|0;if(X&1)t=o[(o[n>>2]|0)+t>>2]|0;Uk[t&127](A,n,o[A+32+4+(u<<2)>>2]|0);H=+l[A+32+20+(u<<2)>>2];_=_+ +l[A>>2]*H;p=p+H*+l[A+4>>2];d=d+H*+l[A+8>>2];u=u+1|0}while(u>>>0<(o[r>>2]|0)>>>0)}o[c>>2]=1;H=_*+l[e+16>>2]+p*+l[e+20>>2]+d*+l[e+24>>2]+ +l[e+52>>2];z=_*+l[e+32>>2]+p*+l[e+36>>2]+d*+l[e+40>>2]+ +l[e+56>>2];l[c+4>>2]=_*+l[e>>2]+p*+l[e+4>>2]+d*+l[e+8>>2]+ +l[e+48>>2];l[c+8>>2]=H;l[c+12>>2]=z;l[c+16>>2]=0.0;z=+l[T>>2];H=+l[A+32+56>>2];G=+l[A+32+44>>2];W=+l[A+32+48>>2];N=_-z*H;F=p-H*G;B=d-H*W;j=N*+l[e+16>>2]+F*+l[e+20>>2]+B*+l[e+24>>2]+ +l[e+52>>2];U=N*+l[e+32>>2]+F*+l[e+36>>2]+B*+l[e+40>>2]+ +l[e+56>>2];l[c+20>>2]=N*+l[e>>2]+F*+l[e+4>>2]+B*+l[e+8>>2]+ +l[e+48>>2];l[c+24>>2]=j;l[c+28>>2]=U;l[c+32>>2]=0.0;l[c+36>>2]=-z;l[c+40>>2]=-G;l[c+44>>2]=-W;l[c+48>>2]=0.0;l[c+52>>2]=-H;X=1;h=A;return X|0}case 2:{o[c>>2]=2;X=0;h=A;return X|0}default:{X=0;h=A;return X|0}}return 0}function Zy(t){t=t|0;var e=0,n=0,i=0.0,r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,p=0,f=0,d=0,_=0.0,m=0.0,g=0.0;f=h;h=h+16|0;p=o[t+372>>2]|0;t:do{switch(o[p+32>>2]|0){case 1:{n=1;e=0;while(1){o[f>>2]=0;o[f+4>>2]=0;o[f+8>>2]=0;o[f+12>>2]=0;l[f+(e<<2)>>2]=1.0;d=p+32|0;l[p+16+(n<<2)>>2]=0.0;n=(o[t+364>>2]|0)+-1|0;o[t+364>>2]=n;o[p+(o[d>>2]<<2)>>2]=o[t+348+(n<<2)>>2];n=o[d>>2]|0;o[d>>2]=n+1;i=+l[f>>2];r=+l[f+4>>2];s=+l[f+8>>2];Xy(t,i,r,s,o[p+(n<<2)>>2]|0);if(Zy(t)|0)break;p=o[t+372>>2]|0;d=(o[p+32>>2]|0)+-1|0;o[p+32>>2]=d;d=o[p+(d<<2)>>2]|0;p=o[t+364>>2]|0;o[t+364>>2]=p+1;o[t+348+(p<<2)>>2]=d;p=o[t+372>>2]|0;l[p+16+(o[p+32>>2]<<2)>>2]=0.0;d=(o[t+364>>2]|0)+-1|0;o[t+364>>2]=d;o[p+(o[p+32>>2]<<2)>>2]=o[t+348+(d<<2)>>2];d=o[p+32>>2]|0;o[p+32>>2]=d+1;Xy(t,-i,-r,-s,o[p+(d<<2)>>2]|0);if(Zy(t)|0)break;d=o[t+372>>2]|0;p=(o[d+32>>2]|0)+-1|0;o[d+32>>2]=p;p=o[d+(p<<2)>>2]|0;d=o[t+364>>2]|0;o[t+364>>2]=d+1;o[t+348+(d<<2)>>2]=p;e=e+1|0;if(e>>>0>=3)break t;p=o[t+372>>2]|0;n=o[p+32>>2]|0}d=1;h=f;return d|0}case 2:{d=o[p+4>>2]|0;e=o[p>>2]|0;i=+l[d+16>>2]-+l[e+16>>2];r=+l[d+20>>2]-+l[e+20>>2];s=+l[d+24>>2]-+l[e+24>>2];e=0;while(1){o[f>>2]=0;o[f+4>>2]=0;o[f+8>>2]=0;o[f+12>>2]=0;l[f+(e<<2)>>2]=1.0;a=+l[f+8>>2];c=+l[f+4>>2];u=+l[f>>2];if((r*a-s*c)*(r*a-s*c)+(s*u-i*a)*(s*u-i*a)+(i*c-r*u)*(i*c-r*u)>0.0){p=o[t+372>>2]|0;l[p+16+(o[p+32>>2]<<2)>>2]=0.0;d=(o[t+364>>2]|0)+-1|0;o[t+364>>2]=d;o[p+(o[p+32>>2]<<2)>>2]=o[t+348+(d<<2)>>2];d=o[p+32>>2]|0;o[p+32>>2]=d+1;Xy(t,r*a-s*c,s*u-i*a,i*c-r*u,o[p+(d<<2)>>2]|0);if(Zy(t)|0)break;p=o[t+372>>2]|0;d=(o[p+32>>2]|0)+-1|0;o[p+32>>2]=d;d=o[p+(d<<2)>>2]|0;p=o[t+364>>2]|0;o[t+364>>2]=p+1;o[t+348+(p<<2)>>2]=d;p=o[t+372>>2]|0;l[p+16+(o[p+32>>2]<<2)>>2]=0.0;d=(o[t+364>>2]|0)+-1|0;o[t+364>>2]=d;o[p+(o[p+32>>2]<<2)>>2]=o[t+348+(d<<2)>>2];d=o[p+32>>2]|0;o[p+32>>2]=d+1;Xy(t,-(r*a-s*c),-(s*u-i*a),-(i*c-r*u),o[p+(d<<2)>>2]|0);if(Zy(t)|0)break;d=o[t+372>>2]|0;p=(o[d+32>>2]|0)+-1|0;o[d+32>>2]=p;p=o[d+(p<<2)>>2]|0;d=o[t+364>>2]|0;o[t+364>>2]=d+1;o[t+348+(d<<2)>>2]=p}e=e+1|0;if(e>>>0>=3)break t}d=1;h=f;return d|0}case 3:{d=o[p+4>>2]|0;n=o[p>>2]|0;a=+l[n+16>>2];i=+l[d+16>>2]-a;c=+l[n+20>>2];r=+l[d+20>>2]-c;u=+l[n+24>>2];s=+l[d+24>>2]-u;d=o[p+8>>2]|0;a=+l[d+16>>2]-a;c=+l[d+20>>2]-c;u=+l[d+24>>2]-u;if((r*u-s*c)*(r*u-s*c)+(s*a-i*u)*(s*a-i*u)+(i*c-r*a)*(i*c-r*a)>0.0){l[p+28>>2]=0.0;d=(o[t+364>>2]|0)+-1|0;o[t+364>>2]=d;o[p+12>>2]=o[t+348+(d<<2)>>2];d=o[p+32>>2]|0;o[p+32>>2]=d+1;Xy(t,r*u-s*c,s*a-i*u,i*c-r*a,o[p+(d<<2)>>2]|0);if(Zy(t)|0){d=1;h=f;return d|0}p=o[t+372>>2]|0;d=(o[p+32>>2]|0)+-1|0;o[p+32>>2]=d;d=o[p+(d<<2)>>2]|0;p=o[t+364>>2]|0;o[t+364>>2]=p+1;o[t+348+(p<<2)>>2]=d;p=o[t+372>>2]|0;l[p+16+(o[p+32>>2]<<2)>>2]=0.0;d=(o[t+364>>2]|0)+-1|0;o[t+364>>2]=d;o[p+(o[p+32>>2]<<2)>>2]=o[t+348+(d<<2)>>2];d=o[p+32>>2]|0;o[p+32>>2]=d+1;Xy(t,-(r*u-s*c),-(s*a-i*u),-(i*c-r*a),o[p+(d<<2)>>2]|0);if(Zy(t)|0){d=1;h=f;return d|0}else{d=o[t+372>>2]|0;p=(o[d+32>>2]|0)+-1|0;o[d+32>>2]=p;p=o[d+(p<<2)>>2]|0;d=o[t+364>>2]|0;o[t+364>>2]=d+1;o[t+348+(d<<2)>>2]=p;break t}}break}case 4:{d=o[p>>2]|0;t=o[p+12>>2]|0;u=+l[t+16>>2];g=+l[d+16>>2]-u;_=+l[t+20>>2];i=+l[d+20>>2]-_;s=+l[t+24>>2];a=+l[d+24>>2]-s;d=o[p+4>>2]|0;r=+l[d+16>>2]-u;c=+l[d+20>>2]-_;m=+l[d+24>>2]-s;d=o[p+8>>2]|0;u=+l[d+16>>2]-u;_=+l[d+20>>2]-_;s=+l[d+24>>2]-s;if(!((0.0!=0.0?1:g*c*s+(i*m*u+a*r*_-g*m*_-i*r*s)-a*c*u!=g*c*s+(i*m*u+a*r*_-g*m*_-i*r*s)-a*c*u)|g*c*s+(i*m*u+a*r*_-g*m*_-i*r*s)-a*c*u==0.0)){d=1;h=f;return d|0}break}default:{}}}while(0);d=0;h=f;return d|0}function Jy(t,e,n,r,s){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;var a=0,c=0.0,u=0.0,h=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0;m=o[t+9288>>2]|0;if(!m){o[t>>2]=5;t=0;return t|0}a=o[m+48>>2]|0;if(a|0)o[a+44>>2]=o[m+44>>2];a=o[m+44>>2]|0;if(a|0)o[a+48>>2]=o[m+48>>2];if((o[t+9288>>2]|0)==(m|0))o[t+9288>>2]=o[m+48>>2];o[t+9292>>2]=(o[t+9292>>2]|0)+-1;o[m+44>>2]=0;o[m+48>>2]=o[t+9280>>2];a=o[t+9280>>2]|0;if(a|0)o[a+44>>2]=m;o[t+9280>>2]=m;o[t+9284>>2]=(o[t+9284>>2]|0)+1;i[m+55>>0]=0;o[m+20>>2]=e;o[m+24>>2]=n;o[m+28>>2]=r;p=+l[e+16>>2];c=+l[n+16>>2]-p;f=+l[e+20>>2];u=+l[n+20>>2]-f;d=+l[e+24>>2];h=+l[n+24>>2]-d;p=+l[r+16>>2]-p;f=+l[r+20>>2]-f;d=+l[r+24>>2]-d;l[m>>2]=u*d-h*f;l[m+4>>2]=h*p-c*d;l[m+8>>2]=c*f-u*p;l[m+12>>2]=0.0;_=+V(+((u*d-h*f)*(u*d-h*f)+(h*p-c*d)*(h*p-c*d)+(c*f-u*p)*(c*f-u*p)));do{if(_>9.999999747378752e-05){if((!(Ky(u*d-h*f,h*p-c*d,c*f-u*p,+l[e+16>>2],+l[e+20>>2],+l[e+24>>2],+l[n+16>>2],+l[n+20>>2],+l[n+24>>2],m+16|0)|0)?!(Ky(+l[m>>2],+l[m+4>>2],+l[m+8>>2],+l[n+16>>2],+l[n+20>>2],+l[n+24>>2],+l[r+16>>2],+l[r+20>>2],+l[r+24>>2],m+16|0)|0):0)?!(Ky(+l[m>>2],+l[m+4>>2],+l[m+8>>2],+l[r+16>>2],+l[r+20>>2],+l[r+24>>2],+l[e+16>>2],+l[e+20>>2],+l[e+24>>2],m+16|0)|0):0)l[m+16>>2]=(+l[e+16>>2]*+l[m>>2]+ +l[e+20>>2]*+l[m+4>>2]+ +l[e+24>>2]*+l[m+8>>2])/_;l[m>>2]=1.0/_*+l[m>>2];l[m+4>>2]=1.0/_*+l[m+4>>2];l[m+8>>2]=1.0/_*+l[m+8>>2];if(s){t=m;return t|0}if(!(+l[m+16>>2]>=-9.999999747378752e-06)){o[t>>2]=3;break}else{t=m;return t|0}}else o[t>>2]=2}while(0);a=o[m+48>>2]|0;if(a|0)o[a+44>>2]=o[m+44>>2];a=o[m+44>>2]|0;if(a|0)o[a+48>>2]=o[m+48>>2];if((o[t+9280>>2]|0)==(m|0))o[t+9280>>2]=o[m+48>>2];o[t+9284>>2]=(o[t+9284>>2]|0)+-1;o[m+44>>2]=0;o[m+48>>2]=o[t+9288>>2];a=o[t+9288>>2]|0;if(a|0)o[a+44>>2]=m;o[t+9288>>2]=m;o[t+9292>>2]=(o[t+9292>>2]|0)+1;t=0;return t|0}function Ky(t,e,n,i,r,o,s,a,c,u){t=+t;e=+e;n=+n;i=+i;r=+r;o=+o;s=+s;a=+a;c=+c;u=u|0;if(!(((s-i)*e-(a-r)*t)*o+(((a-r)*n-(c-o)*e)*i+((c-o)*t-(s-i)*n)*r)<0.0)){u=0;return u|0}if((s-i)*i+(a-r)*r+(c-o)*o>0.0){l[u>>2]=+V(+(i*i+r*r+o*o));u=1;return u|0}if((s-i)*s+(a-r)*a+(c-o)*c<0.0){l[u>>2]=+V(+(s*s+a*a+c*c));u=1;return u|0}else{n=((s*s+a*a+c*c)*(i*i+r*r+o*o)-(s*i+a*r+c*o)*(s*i+a*r+c*o))/((s-i)*(s-i)+(a-r)*(a-r)+(c-o)*(c-o));l[u>>2]=+V(+(n>0.0?n:0.0));u=1;return u|0}return 0}function $y(t,e,n,r,a,c){t=t|0;e=e|0;n=n|0;r=r|0;a=a|0;c=c|0;var u=0;if((s[r+55>>0]|0|0)==(e|0)){r=0;return r|0}u=o[6876+(a<<2)>>2]|0;if(+l[r>>2]*+l[n+16>>2]+ +l[r+4>>2]*+l[n+20>>2]+ +l[r+8>>2]*+l[n+24>>2]-+l[r+16>>2]<-9.999999747378752e-06){u=Jy(t,o[r+20+(u<<2)>>2]|0,o[r+20+(a<<2)>>2]|0,n,0)|0;if(!u){r=0;return r|0}i[u+52>>0]=a;o[u+32>>2]=r;i[r+52+a>>0]=0;o[r+32+(a<<2)>>2]=u;a=o[c>>2]|0;if(!a)o[c+4>>2]=u;else{i[a+53>>0]=2;o[a+36>>2]=u;i[u+54>>0]=1;o[u+40>>2]=a}o[c>>2]=u;o[c+8>>2]=(o[c+8>>2]|0)+1;r=1;return r|0}a=o[6888+(a<<2)>>2]|0;i[r+55>>0]=e;if(!($y(t,e,n,o[r+32+(u<<2)>>2]|0,s[r+52+u>>0]|0,c)|0)){r=0;return r|0}if(!($y(t,e,n,o[r+32+(a<<2)>>2]|0,s[r+52+a>>0]|0,c)|0)){r=0;return r|0}a=o[r+48>>2]|0;if(a|0)o[a+44>>2]=o[r+44>>2];a=o[r+44>>2]|0;if(a|0)o[a+48>>2]=o[r+48>>2];if((o[t+9280>>2]|0)==(r|0))o[t+9280>>2]=o[r+48>>2];o[t+9284>>2]=(o[t+9284>>2]|0)+-1;o[r+44>>2]=0;o[r+48>>2]=o[t+9288>>2];a=o[t+9288>>2]|0;if(a|0)o[a+44>>2]=r;o[t+9288>>2]=r;o[t+9292>>2]=(o[t+9292>>2]|0)+1;r=1;return r|0}function Qy(t){t=t|0;return}function tx(t){t=t|0;Kc(t);return}function ex(t,e,n,i,r,s,a,c,u,p){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;s=s|0;a=a|0;c=c|0;u=u|0;p=p|0;var f=0.0,d=0.0;p=h;h=h+80|0;d=+l[s+52>>2]-+l[r+52>>2];f=+l[s+56>>2]-+l[r+56>>2];l[p+56>>2]=+l[s+48>>2]-+l[r+48>>2];l[p+56+4>>2]=d;l[p+56+8>>2]=f;l[p+56+12>>2]=0.0;if(Yy(n,r,i,s,p+56|0,p,1)|0){o[c>>2]=o[p+4>>2];o[c+4>>2]=o[p+4+4>>2];o[c+8>>2]=o[p+4+8>>2];o[c+12>>2]=o[p+4+12>>2];o[u>>2]=o[p+20>>2];o[u+4>>2]=o[p+20+4>>2];o[u+8>>2]=o[p+20+8>>2];o[u+12>>2]=o[p+20+12>>2];o[a>>2]=o[p+36>>2];o[a+4>>2]=o[p+36+4>>2];o[a+8>>2]=o[p+36+8>>2];o[a+12>>2]=o[p+36+12>>2];u=1;h=p;return u|0}if(!(Wy(n,r,i,s,p+56|0,p)|0)){u=0;h=p;return u|0}o[c>>2]=o[p+4>>2];o[c+4>>2]=o[p+4+4>>2];o[c+8>>2]=o[p+4+8>>2];o[c+12>>2]=o[p+4+12>>2];o[u>>2]=o[p+20>>2];o[u+4>>2]=o[p+20+4>>2];o[u+8>>2]=o[p+20+8>>2];o[u+12>>2]=o[p+20+12>>2];o[a>>2]=o[p+36>>2];o[a+4>>2]=o[p+36+4>>2];o[a+8>>2]=o[p+36+8>>2];o[a+12>>2]=o[p+36+12>>2];u=0;h=p;return u|0}function nx(t){t=t|0;Kc(t);return}function ix(t,e,n,r,s){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;var a=0.0,c=0.0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0,v=0.0,y=0.0,x=0.0,w=0,S=0,M=0.0,C=0,T=0,A=0.0,L=0.0,E=0,R=0,I=0,P=0,D=0,k=0,O=0,N=0.0,F=0.0,B=0.0,j=0.0,U=0.0,z=0.0,G=0,W=0;G=h;h=h+256|0;l[t+56>>2]=0.0;k=G+240+4|0;O=G+240+8|0;o[G+240>>2]=0;o[G+240+4>>2]=0;o[G+240+8>>2]=0;o[G+240+12>>2]=0;o[G+176>>2]=o[e>>2];o[G+176+4>>2]=o[e+4>>2];o[G+176+8>>2]=o[e+8>>2];o[G+176+12>>2]=o[e+12>>2];o[G+176+16>>2]=o[e+16>>2];o[G+176+16+4>>2]=o[e+16+4>>2];o[G+176+16+8>>2]=o[e+16+8>>2];o[G+176+16+12>>2]=o[e+16+12>>2];o[G+176+32>>2]=o[e+32>>2];o[G+176+32+4>>2]=o[e+32+4>>2];o[G+176+32+8>>2]=o[e+32+8>>2];o[G+176+32+12>>2]=o[e+32+12>>2];C=G+176+48|0;o[C>>2]=o[e+48>>2];o[C+4>>2]=o[e+48+4>>2];o[C+8>>2]=o[e+48+8>>2];o[C+12>>2]=o[e+48+12>>2];o[G+112>>2]=o[e+64>>2];o[G+112+4>>2]=o[e+64+4>>2];o[G+112+8>>2]=o[e+64+8>>2];o[G+112+12>>2]=o[e+64+12>>2];o[G+112+16>>2]=o[e+80>>2];o[G+112+16+4>>2]=o[e+80+4>>2];o[G+112+16+8>>2]=o[e+80+8>>2];o[G+112+16+12>>2]=o[e+80+12>>2];o[G+112+32>>2]=o[e+96>>2];o[G+112+32+4>>2]=o[e+96+4>>2];o[G+112+32+8>>2]=o[e+96+8>>2];o[G+112+32+12>>2]=o[e+96+12>>2];T=G+112+48|0;o[T>>2]=o[e+112>>2];o[T+4>>2]=o[e+112+4>>2];o[T+8>>2]=o[e+112+8>>2];o[T+12>>2]=o[e+112+12>>2];N=+l[C>>2];F=+l[T>>2];R=G+176+52|0;B=+l[R>>2];I=G+112+52|0;j=+l[I>>2];P=G+176+56|0;U=+l[P>>2];D=G+112+56|0;z=+l[D>>2];l[C>>2]=N-(N+F)*.5;l[R>>2]=B-(B+j)*.5;l[P>>2]=U-(U+z)*.5;l[T>>2]=F-(N+F)*.5;l[I>>2]=j-(B+j)*.5;l[D>>2]=z-(U+z)*.5;if(((o[(o[t+28>>2]|0)+4>>2]|0)+-17|0)>>>0<2)C=((o[(o[t+32>>2]|0)+4>>2]|0)+-17|0)>>>0<2;else C=0;x=+l[t+44>>2];y=+l[t+48>>2];o[5046]=(o[5046]|0)+1;T=i[t+52>>0]|0;o[t+64>>2]=0;o[t+4>>2]=0;o[t+8>>2]=1065353216;o[t+12>>2]=0;l[t+16>>2]=0.0;o[t+68>>2]=0;o[t+60>>2]=-1;b=o[t+24>>2]|0;i[b+312>>0]=0;o[b>>2]=0;i[b+356>>0]=1;o[b+292>>2]=1566444395;o[b+296>>2]=1566444395;o[b+300>>2]=1566444395;l[b+304>>2]=0.0;o[b+336>>2]=0;o[b+336+4>>2]=0;o[b+336+8>>2]=0;o[b+336+12>>2]=0;i[b+336+16>>0]=0;i[b+332>>0]=i[b+332>>0]&-16;b=0;p=999999984306749440.0;do{_=+l[t+4>>2];d=+l[t+8>>2];c=+l[t+12>>2];u=+l[e+4>>2]*-_+ +l[e+20>>2]*-d+ +l[e+36>>2]*-c;f=+l[e+8>>2]*-_+ +l[e+24>>2]*-d+ +l[e+40>>2]*-c;l[G+96>>2]=+l[e>>2]*-_+ +l[e+16>>2]*-d+ +l[e+32>>2]*-c;l[G+96+4>>2]=u;l[G+96+8>>2]=f;l[G+96+12>>2]=0.0;f=_*+l[e+68>>2]+d*+l[e+84>>2]+c*+l[e+100>>2];u=_*+l[e+72>>2]+d*+l[e+88>>2]+c*+l[e+104>>2];l[G+80>>2]=+l[e+64>>2]*_+ +l[e+80>>2]*d+ +l[e+96>>2]*c;l[G+80+4>>2]=f;l[G+80+8>>2]=u;l[G+80+12>>2]=0.0;AC(G+64|0,o[t+28>>2]|0,G+96|0);AC(G+48|0,o[t+32>>2]|0,G+80|0);u=+l[G+64>>2];f=+l[G+64+4>>2];c=+l[G+64+8>>2];d=u*+l[G+176>>2]+f*+l[G+176+4>>2]+c*+l[G+176+8>>2]+ +l[G+176+48>>2];_=u*+l[G+176+16>>2]+f*+l[G+176+20>>2]+c*+l[G+176+24>>2]+ +l[R>>2];c=u*+l[G+176+32>>2]+f*+l[G+176+36>>2]+c*+l[G+176+40>>2]+ +l[P>>2];f=+l[G+48>>2];u=+l[G+48+4>>2];v=+l[G+48+8>>2];m=f*+l[G+112>>2]+u*+l[G+112+4>>2]+v*+l[G+112+8>>2]+ +l[G+112+48>>2];g=f*+l[G+112+16>>2]+u*+l[G+112+20>>2]+v*+l[G+112+24>>2]+ +l[I>>2];v=f*+l[G+112+32>>2]+u*+l[G+112+36>>2]+v*+l[G+112+40>>2]+ +l[D>>2];u=C?0.0:v;f=C?0.0:c;v=(C?0.0:c)-(C?0.0:v);c=+l[t+4>>2]*(d-m)+ +l[t+8>>2]*(_-g)+ +l[t+12>>2]*v;if(c>0.0?c*c>p*+l[e+128>>2]:0){o[t+68>>2]=10;s=0;b=1}else W=7;do{if((W|0)==7){W=0;w=o[t+24>>2]|0;S=o[w>>2]|0;t:do{if((S|0)>0){a=+l[w+308>>2];s=0;while(1){M=d-m-+l[w+4+(s<<4)>>2];A=_-g-+l[w+4+(s<<4)+4>>2];L=v-+l[w+4+(s<<4)+8>>2];s=s+1|0;if(M*M+A*A+L*L<=a){s=1;break t}if((s|0)>=(S|0)){s=0;break}}}else s=0}while(0);if((+l[w+304>>2]==0.0?v==+l[w+300>>2]:0)?_-g==+l[w+296>>2]:0){if(d-m==+l[w+292>>2]|s)W=16}else W=15;if((W|0)==15?(W=0,s):0)W=16;if((W|0)==16){W=0;o[t+68>>2]=1;s=0;b=1;break}a=p-c;if(a<=p*9.999999974752427e-07){o[t+68>>2]=!(a<=0.0)?11:2;s=0;b=1;break}l[w+292>>2]=d-m;l[w+296>>2]=_-g;l[w+300>>2]=v;l[w+304>>2]=0.0;i[w+356>>0]=1;l[w+4+(S<<4)>>2]=d-m;l[w+4+(S<<4)+4>>2]=_-g;l[w+4+(S<<4)+8>>2]=v;l[w+4+(S<<4)+12>>2]=0.0;s=o[w>>2]|0;l[w+84+(s<<4)>>2]=d;l[w+84+(s<<4)+4>>2]=_;l[w+84+(s<<4)+8>>2]=f;l[w+84+(s<<4)+12>>2]=0.0;s=o[w>>2]|0;l[w+164+(s<<4)>>2]=m;l[w+164+(s<<4)+4>>2]=g;l[w+164+(s<<4)+8>>2]=u;l[w+164+(s<<4)+12>>2]=0.0;o[w>>2]=(o[w>>2]|0)+1;s=o[t+24>>2]|0;S=yx(s)|0;a=+l[s+276>>2];c=+l[s+280>>2];u=+l[s+284>>2];s=o[s+288>>2]|0;if(!S){o[t+68>>2]=3;s=0;b=1;break}if(a*a+c*c+u*u<9.999999974752427e-07){l[t+4>>2]=a;l[t+8>>2]=c;l[t+12>>2]=u;o[t+16>>2]=s;o[t+68>>2]=6;s=0;b=1;break}if(p-(a*a+c*c+u*u)<=p*1.1920928955078125e-07){o[t+68>>2]=12;s=0;b=1;p=a*a+c*c+u*u;break}l[t+4>>2]=a;l[t+8>>2]=c;l[t+12>>2]=u;o[t+16>>2]=s;S=o[t+64>>2]|0;o[t+64>>2]=S+1;if((S|0)<=1e3)if((o[o[t+24>>2]>>2]|0)==4){o[t+68>>2]=13;s=0;p=a*a+c*c+u*u}else{s=1;p=a*a+c*c+u*u}else{s=0;p=a*a+c*c+u*u}}}while(0)}while(s);y=T<<24>>24==0?y:0.0;v=(T<<24>>24==0?x:0.0)+y;do{if(b){T=o[t+24>>2]|0;yx(T)|0;u=+l[T+260>>2];c=+l[T+264>>2];d=+l[T+268>>2];o[G+240>>2]=o[t+4>>2];o[G+240+4>>2]=o[t+4+4>>2];o[G+240+8>>2]=o[t+4+8>>2];o[G+240+12>>2]=o[t+4+12>>2];a=+l[t+4>>2];f=+l[t+8>>2];_=+l[t+12>>2];if(a*a+f*f+_*_<.0001)o[t+68>>2]=5;if(a*a+f*f+_*_>1.4210854715202004e-14){L=1.0/+V(+(a*a+f*f+_*_));l[G+240>>2]=L*+l[G+240>>2];l[k>>2]=L*+l[k>>2];l[O>>2]=L*+l[O>>2];A=y/+V(+p);o[t+60>>2]=1;p=1.0/L-v;w=1;u=A*a+u;L=A*f+c;A=A*_+d;break}else{o[t+60>>2]=2;p=0.0;w=0;L=c;A=d;break}}else{p=0.0;w=0;u=0.0;L=0.0;A=0.0}}while(0);if(((o[t+72>>2]|0)!=0?(o[t+20>>2]|0)!=0:0)?(o[t+68>>2]|0)!=0:0)s=v+p<.01;else s=0;b=w^1;do{if(s|b?(E=o[t+20>>2]|0,(E|0)!=0):0){o[5045]=(o[5045]|0)+1;o[t+4>>2]=0;o[t+4+4>>2]=0;o[t+4+8>>2]=0;o[t+4+12>>2]=0;if(!(lk[o[(o[E>>2]|0)+8>>2]&3](E,o[t+24>>2]|0,o[t+28>>2]|0,o[t+32>>2]|0,G+176|0,G+112|0,t+4|0,G+96|0,G+80|0,r)|0)){c=+l[t+4>>2];d=+l[t+8>>2];m=+l[t+12>>2];if(!(c*c+d*d+m*m>0.0)){if(w){c=L;a=A;break}h=G;return}f=+l[G+80>>2];x=+l[G+96>>2]-f;_=+l[G+80+4>>2];M=+l[G+96+4>>2]-_;g=+l[G+80+8>>2];a=+l[G+96+8>>2]-g;a=+V(+(x*x+M*M+a*a))-v;if(a<p|b){o[G+240>>2]=o[t+4>>2];o[G+240+4>>2]=o[t+4+4>>2];o[G+240+8>>2]=o[t+4+8>>2];o[G+240+12>>2]=o[t+4+12>>2];A=+l[G+240>>2];L=+l[k>>2];u=+l[O>>2];p=1.0/+V(+(A*A+L*L+u*u));l[G+240>>2]=A*p;l[k>>2]=L*p;l[O>>2]=u*p;o[t+60>>2]=6;p=a;u=y*c+f;c=y*d+_;a=y*m+g;break}o[t+60>>2]=5;if(w){c=L;a=A;break}h=G;return}M=+l[G+80>>2];d=+l[G+96>>2];c=+l[G+80+4>>2];_=+l[G+96+4>>2];a=+l[G+80+8>>2];m=+l[G+96+8>>2];if(!((M-d)*(M-d)+(c-_)*(c-_)+(a-m)*(a-m)<=1.4210854715202004e-14)){f=(M-d)*(M-d)+(c-_)*(c-_)+(a-m)*(a-m);g=M-d;v=a-m;y=0.0;x=c-_}else{g=+l[t+4>>2];x=+l[t+8>>2];v=+l[t+12>>2];f=g*g+x*x+v*v;y=+l[t+16>>2]}if(!(f>1.4210854715202004e-14)){o[t+60>>2]=9;if(w){c=L;a=A;break}h=G;return}f=1.0/+V(+f);d=-+V(+((d-M)*(d-M)+(_-c)*(_-c)+(m-a)*(m-a)));o[t+60>>2]=3;if(!(p>d|b)){o[t+60>>2]=8;if(w){c=L;a=A;break}h=G;return}L=v*f;v=x*f;g=g*f;l[G+240>>2]=g;l[k>>2]=v;l[O>>2]=L;l[G+240+12>>2]=y;p=g*+l[e+4>>2]+v*+l[e+20>>2]+L*+l[e+36>>2];u=g*+l[e+8>>2]+v*+l[e+24>>2]+L*+l[e+40>>2];l[G+64>>2]=+l[e>>2]*g+ +l[e+16>>2]*v+ +l[e+32>>2]*L;l[G+64+4>>2]=p;l[G+64+8>>2]=u;l[G+64+12>>2]=0.0;u=+l[e+68>>2]*-g+ +l[e+84>>2]*-v+ +l[e+100>>2]*-L;p=+l[e+72>>2]*-g+ +l[e+88>>2]*-v+ +l[e+104>>2]*-L;l[G+48>>2]=+l[e+64>>2]*-g+ +l[e+80>>2]*-v+ +l[e+96>>2]*-L;l[G+48+4>>2]=u;l[G+48+8>>2]=p;l[G+48+12>>2]=0.0;AC(G+32|0,o[t+28>>2]|0,G+64|0);AC(G+16|0,o[t+32>>2]|0,G+48|0);p=+l[G+32>>2];u=+l[G+32+4>>2];L=+l[G+32+8>>2];v=+l[G+16>>2];g=+l[G+16+4>>2];m=+l[G+16+8>>2];A=+l[G+240>>2];x=+l[k>>2];y=+l[O>>2];m=-((p*+l[G+176+16>>2]+u*+l[G+176+20>>2]+L*+l[G+176+24>>2]+ +l[R>>2]-(v*+l[G+112+16>>2]+g*+l[G+112+20>>2]+m*+l[G+112+24>>2]+ +l[I>>2]))*x)-(p*+l[G+176>>2]+u*+l[G+176+4>>2]+L*+l[G+176+8>>2]+ +l[G+176+48>>2]-(v*+l[G+112>>2]+g*+l[G+112+4>>2]+m*+l[G+112+8>>2]+ +l[G+112+48>>2]))*A-(p*+l[G+176+32>>2]+u*+l[G+176+36>>2]+L*+l[G+176+40>>2]+ +l[P>>2]-(v*+l[G+112+32>>2]+g*+l[G+112+36>>2]+m*+l[G+112+40>>2]+ +l[D>>2]))*y;g=+l[e+4>>2]*-A+ +l[e+20>>2]*-x+ +l[e+36>>2]*-y;v=+l[e+8>>2]*-A+ +l[e+24>>2]*-x+ +l[e+40>>2]*-y;l[G+64>>2]=+l[e>>2]*-A+ +l[e+16>>2]*-x+ +l[e+32>>2]*-y;l[G+64+4>>2]=g;l[G+64+8>>2]=v;l[G+64+12>>2]=0.0;v=A*+l[e+68>>2]+x*+l[e+84>>2]+y*+l[e+100>>2];g=A*+l[e+72>>2]+x*+l[e+88>>2]+y*+l[e+104>>2];l[G+48>>2]=+l[e+64>>2]*A+ +l[e+80>>2]*x+ +l[e+96>>2]*y;l[G+48+4>>2]=v;l[G+48+8>>2]=g;l[G+48+12>>2]=0.0;AC(G+32|0,o[t+28>>2]|0,G+64|0);AC(G+16|0,o[t+32>>2]|0,G+48|0);g=+l[G+32>>2];v=+l[G+32+4>>2];y=+l[G+32+8>>2];x=+l[G+16>>2];A=+l[G+16+4>>2];L=+l[G+16+8>>2];u=+l[G+240>>2];p=+l[k>>2];f=+l[O>>2];if(m>(g*+l[G+176>>2]+v*+l[G+176+4>>2]+y*+l[G+176+8>>2]+ +l[G+176+48>>2]-(x*+l[G+112>>2]+A*+l[G+112+4>>2]+L*+l[G+112+8>>2]+ +l[G+112+48>>2]))*u+(g*+l[G+176+16>>2]+v*+l[G+176+20>>2]+y*+l[G+176+24>>2]+ +l[R>>2]-(x*+l[G+112+16>>2]+A*+l[G+112+20>>2]+L*+l[G+112+24>>2]+ +l[I>>2]))*p+(g*+l[G+176+32>>2]+v*+l[G+176+36>>2]+y*+l[G+176+40>>2]+ +l[P>>2]-(x*+l[G+112+32>>2]+A*+l[G+112+36>>2]+L*+l[G+112+40>>2]+ +l[D>>2]))*f){o[t+60>>2]=10;l[G+240>>2]=-u;l[k>>2]=-p;l[O>>2]=-f}p=d;u=M}else W=56}while(0);if((W|0)==56)if(w){c=L;a=A}else{h=G;return}if(!(p<0.0)?!(p*p<+l[e+128>>2]):0){h=G;return}o[t+4>>2]=o[G+240>>2];o[t+4+4>>2]=o[G+240+4>>2];o[t+4+8>>2]=o[G+240+8>>2];o[t+4+12>>2]=o[G+240+12>>2];l[t+56>>2]=p;W=o[(o[n>>2]|0)+16>>2]|0;l[G>>2]=(N+F)*.5+u;l[G+4>>2]=(B+j)*.5+c;l[G+8>>2]=(U+z)*.5+a;l[G+12>>2]=0.0;jk[W&15](n,G+240|0,G,p);h=G;return}function rx(t){t=t|0;Kc(t);return}function ox(t,e,n,r,s,a,c,u,p,d){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;a=a|0;c=c|0;u=u|0;p=p|0;d=d|0;var _=0.0,m=0,g=0,b=0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0,T=0,A=0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0;A=h;h=h+4224|0;if(((o[n+4>>2]|0)+-17|0)>>>0<2)T=((o[r+4>>2]|0)+-17|0)>>>0<2;else T=0;t=0;do{sx();v=+l[20188+(t<<4)>>2];y=+l[20188+(t<<4)+4>>2];x=+l[20188+(t<<4)+8>>2];M=+l[s+4>>2]*-v+ +l[s+20>>2]*-y+ +l[s+36>>2]*-x;w=+l[s+8>>2]*-v+ +l[s+24>>2]*-y+ +l[s+40>>2]*-x;l[A+1248+(t<<4)>>2]=+l[s>>2]*-v+ +l[s+16>>2]*-y+ +l[s+32>>2]*-x;l[A+1248+(t<<4)+4>>2]=M;l[A+1248+(t<<4)+8>>2]=w;l[A+1248+(t<<4)+12>>2]=0.0;w=v*+l[a+4>>2]+y*+l[a+20>>2]+x*+l[a+36>>2];M=v*+l[a+8>>2]+y*+l[a+24>>2]+x*+l[a+40>>2];l[A+256+(t<<4)>>2]=v*+l[a>>2]+y*+l[a+16>>2]+x*+l[a+32>>2];l[A+256+(t<<4)+4>>2]=w;l[A+256+(t<<4)+8>>2]=M;l[A+256+(t<<4)+12>>2]=0.0;t=t+1|0}while((t|0)!=42);t=uk[o[(o[n>>2]|0)+84>>2]&127](n)|0;if((t|0)>0){m=0;g=42;while(1){Uk[o[(o[n>>2]|0)+88>>2]&127](n,m,A+176|0);w=+l[A+176>>2];M=+l[A+176+4>>2];x=+l[A+176+8>>2];y=w*+l[s+16>>2]+M*+l[s+20>>2]+x*+l[s+24>>2];v=w*+l[s+32>>2]+M*+l[s+36>>2]+x*+l[s+40>>2];l[A+176>>2]=+l[s>>2]*w+ +l[s+4>>2]*M+ +l[s+8>>2]*x;l[A+176+4>>2]=y;l[A+176+8>>2]=v;l[A+176+12>>2]=0.0;sx();C=20188+(g<<4)|0;o[C>>2]=o[A+176>>2];o[C+4>>2]=o[A+176+4>>2];o[C+8>>2]=o[A+176+8>>2];o[C+12>>2]=o[A+176+12>>2];v=+l[A+176>>2];y=+l[A+176+4>>2];x=+l[A+176+8>>2];M=+l[s+4>>2]*-v+ +l[s+20>>2]*-y+ +l[s+36>>2]*-x;w=+l[s+8>>2]*-v+ +l[s+24>>2]*-y+ +l[s+40>>2]*-x;l[A+1248+(g<<4)>>2]=+l[s>>2]*-v+ +l[s+16>>2]*-y+ +l[s+32>>2]*-x;l[A+1248+(g<<4)+4>>2]=M;l[A+1248+(g<<4)+8>>2]=w;l[A+1248+(g<<4)+12>>2]=0.0;w=v*+l[a+4>>2]+y*+l[a+20>>2]+x*+l[a+36>>2];M=v*+l[a+8>>2]+y*+l[a+24>>2]+x*+l[a+40>>2];l[A+256+(g<<4)>>2]=+l[a>>2]*v+ +l[a+16>>2]*y+ +l[a+32>>2]*x;l[A+256+(g<<4)+4>>2]=w;l[A+256+(g<<4)+8>>2]=M;l[A+256+(g<<4)+12>>2]=0.0;m=m+1|0;if((m|0)==(t|0))break;else g=g+1|0}g=t+42|0}else g=42;t=uk[o[(o[r>>2]|0)+84>>2]&127](r)|0;if((t|0)>0){m=0;b=g;while(1){Uk[o[(o[r>>2]|0)+88>>2]&127](r,m,A+176|0);w=+l[A+176>>2];M=+l[A+176+4>>2];x=+l[A+176+8>>2];y=w*+l[a+16>>2]+M*+l[a+20>>2]+x*+l[a+24>>2];v=w*+l[a+32>>2]+M*+l[a+36>>2]+x*+l[a+40>>2];l[A+176>>2]=+l[a>>2]*w+ +l[a+4>>2]*M+ +l[a+8>>2]*x;l[A+176+4>>2]=y;l[A+176+8>>2]=v;l[A+176+12>>2]=0.0;sx();C=20188+(b<<4)|0;o[C>>2]=o[A+176>>2];o[C+4>>2]=o[A+176+4>>2];o[C+8>>2]=o[A+176+8>>2];o[C+12>>2]=o[A+176+12>>2];v=+l[A+176>>2];y=+l[A+176+4>>2];x=+l[A+176+8>>2];M=+l[s+4>>2]*-v+ +l[s+20>>2]*-y+ +l[s+36>>2]*-x;w=+l[s+8>>2]*-v+ +l[s+24>>2]*-y+ +l[s+40>>2]*-x;l[A+1248+(b<<4)>>2]=+l[s>>2]*-v+ +l[s+16>>2]*-y+ +l[s+32>>2]*-x;l[A+1248+(b<<4)+4>>2]=M;l[A+1248+(b<<4)+8>>2]=w;l[A+1248+(b<<4)+12>>2]=0.0;w=v*+l[a+4>>2]+y*+l[a+20>>2]+x*+l[a+36>>2];M=v*+l[a+8>>2]+y*+l[a+24>>2]+x*+l[a+40>>2];l[A+256+(b<<4)>>2]=+l[a>>2]*v+ +l[a+16>>2]*y+ +l[a+32>>2]*x;l[A+256+(b<<4)+4>>2]=w;l[A+256+(b<<4)+8>>2]=M;l[A+256+(b<<4)+12>>2]=0.0;m=m+1|0;if((m|0)==(t|0))break;else b=b+1|0}g=t+g|0}Wk[o[(o[n>>2]|0)+76>>2]&127](n,A+1248|0,A+3232|0,g);Wk[o[(o[r>>2]|0)+76>>2]&127](r,A+256|0,A+2240|0,g);if((g|0)>0){C=0;t=0;m=0;b=0;w=0.0;y=999999984306749440.0;while(1){sx();_=+l[20188+(C<<4)>>2];v=+l[20188+(C<<4)+4>>2];M=+l[20188+(C<<4)+12>>2];x=T?0.0:+l[20188+(C<<4)+8>>2];if(_*_+v*v+x*x>.01?(E=+l[A+3232+(C<<4)>>2],L=+l[A+3232+(C<<4)+4>>2],S=+l[A+3232+(C<<4)+8>>2],P=+l[A+2240+(C<<4)>>2],I=+l[A+2240+(C<<4)+4>>2],R=+l[A+2240+(C<<4)+8>>2],S=_*(P*+l[a>>2]+I*+l[a+4>>2]+R*+l[a+8>>2]+ +l[a+48>>2]-(E*+l[s>>2]+L*+l[s+4>>2]+S*+l[s+8>>2]+ +l[s+48>>2]))+v*(P*+l[a+16>>2]+I*+l[a+20>>2]+R*+l[a+24>>2]+ +l[a+52>>2]-(E*+l[s+16>>2]+L*+l[s+20>>2]+S*+l[s+24>>2]+ +l[s+52>>2]))+x*((T?0.0:P*+l[a+32>>2]+I*+l[a+36>>2]+R*+l[a+40>>2]+ +l[a+56>>2])-(T?0.0:E*+l[s+32>>2]+L*+l[s+36>>2]+S*+l[s+40>>2]+ +l[s+56>>2])),S<y):0){t=(l[f>>2]=_,o[f>>2]|0);m=(l[f>>2]=v,o[f>>2]|0);b=(l[f>>2]=x,o[f>>2]|0);y=S}else M=w;C=C+1|0;if((C|0)==(g|0)){C=t;g=b;break}else w=M}}else{C=0;m=0;g=0;M=0.0;y=999999984306749440.0}switch(o[n+4>>2]|0){case 4:case 5:case 10:case 11:case 13:case 1:case 0:case 8:break;default:+wk[o[(o[n>>2]|0)+48>>2]&15](n)}x=(o[f>>2]=C,+l[f>>2]);w=(o[f>>2]=m,+l[f>>2]);S=(o[f>>2]=g,+l[f>>2]);switch(o[r+4>>2]|0){case 4:case 5:case 10:case 11:case 13:case 1:case 0:case 8:break;default:+wk[o[(o[r>>2]|0)+48>>2]&15](r)}if(y<0.0){c=0;h=A;return c|0}switch(o[n+4>>2]|0){case 8:{_=+l[n+32>>2]*+l[n+16>>2];break}case 0:{_=+l[n+48>>2];break}case 1:{_=+l[n+48>>2];break}case 13:{_=+l[n+48>>2];break}case 11:{_=+l[n+48>>2];break}case 10:{_=+l[n+48>>2];break}case 4:case 5:{_=+l[n+48>>2];break}default:_=+wk[o[(o[n>>2]|0)+48>>2]&15](n)}t=o[r+4>>2]|0;switch(t|0){case 8:{v=+l[r+32>>2]*+l[r+16>>2];t=8;break}case 0:{v=+l[r+48>>2];t=0;break}case 1:{v=+l[r+48>>2];t=1;break}case 13:{v=+l[r+48>>2];t=13;break}case 11:{v=+l[r+48>>2];t=11;break}case 10:{v=+l[r+48>>2];t=10;break}case 4:case 5:{v=+l[r+48>>2];break}default:{v=+wk[o[(o[r>>2]|0)+48>>2]&15](r);t=o[r+4>>2]|0}}_=y+(_+v+.5);o[A+176>>2]=6928;o[A+176+4>>2]=0;o[A+176+8>>2]=1065353216;o[A+176+12>>2]=0;l[A+176+16>>2]=0.0;o[A+176+20>>2]=0;o[A+176+24>>2]=e;o[A+176+28>>2]=n;o[A+176+32>>2]=r;o[A+176+36>>2]=o[n+4>>2];o[A+176+40>>2]=t;l[A+176+44>>2]=+wk[o[(o[n>>2]|0)+48>>2]&15](n);l[A+176+48>>2]=+wk[o[(o[r>>2]|0)+48>>2]&15](r);i[A+176+52>>0]=0;o[A+176+60>>2]=-1;o[A+176+72>>2]=1;o[A+176+76>>2]=1;R=x*_+ +l[s+48>>2];I=w*_+ +l[s+52>>2];P=S*_+ +l[s+56>>2];o[A+44>>2]=o[s>>2];o[A+44+4>>2]=o[s+4>>2];o[A+44+8>>2]=o[s+8>>2];o[A+44+12>>2]=o[s+12>>2];o[A+44+16>>2]=o[s+16>>2];o[A+44+16+4>>2]=o[s+16+4>>2];o[A+44+16+8>>2]=o[s+16+8>>2];o[A+44+16+12>>2]=o[s+16+12>>2];o[A+44+32>>2]=o[s+32>>2];o[A+44+32+4>>2]=o[s+32+4>>2];o[A+44+32+8>>2]=o[s+32+8>>2];o[A+44+32+12>>2]=o[s+32+12>>2];l[A+44+48>>2]=R;l[A+44+52>>2]=I;l[A+44+56>>2]=P;l[A+44+60>>2]=0.0;o[A+44+64>>2]=o[a>>2];o[A+44+64+4>>2]=o[a+4>>2];o[A+44+64+8>>2]=o[a+8>>2];o[A+44+64+12>>2]=o[a+12>>2];o[A+44+80>>2]=o[a+16>>2];o[A+44+80+4>>2]=o[a+16+4>>2];o[A+44+80+8>>2]=o[a+16+8>>2];o[A+44+80+12>>2]=o[a+16+12>>2];o[A+44+96>>2]=o[a+32>>2];o[A+44+96+4>>2]=o[a+32+4>>2];o[A+44+96+8>>2]=o[a+32+8>>2];o[A+44+96+12>>2]=o[a+32+12>>2];o[A+44+112>>2]=o[a+48>>2];o[A+44+112+4>>2]=o[a+48+4>>2];o[A+44+112+8>>2]=o[a+48+8>>2];o[A+44+112+12>>2]=o[a+48+12>>2];l[A+44+128>>2]=999999984306749440.0;o[A>>2]=6968;i[A+40>>0]=0;l[A+176+4>>2]=-x;l[A+176+8>>2]=-w;l[A+176+12>>2]=-S;l[A+176+16>>2]=0.0;ix(A+176|0,A+44|0,A,d,0);_=_-+l[A+36>>2];t=i[A+40>>0]|0;if(t<<24>>24){I=+l[A+24>>2]-w*_;P=+l[A+28>>2]-S*_;l[u>>2]=+l[A+20>>2]-x*_;l[u+4>>2]=I;l[u+8>>2]=P;l[u+12>>2]=0.0;o[p>>2]=o[A+20>>2];o[p+4>>2]=o[A+20+4>>2];o[p+8>>2]=o[A+20+8>>2];o[p+12>>2]=o[A+20+12>>2];o[c>>2]=C;o[c+4>>2]=m;o[c+8>>2]=g;l[c+12>>2]=M}c=t<<24>>24!=0;h=A;return c|0}function sx(){if(i[19864]|0)return;i[19864]=1;o[5047]=0;o[5048]=-2147483648;o[5049]=-1082130432;l[5050]=0.0;o[5051]=1060716128;o[5052]=-1090087446;o[5053]=-1092290076;l[5054]=0.0;o[5055]=-1098022214;o[5056]=-1084636126;o[5057]=-1092290076;l[5058]=0.0;o[5059]=-1083901670;o[5060]=-2147483648;o[5061]=-1092290177;l[5062]=0.0;o[5063]=-1098022214;o[5064]=1062847522;o[5065]=-1092290043;l[5066]=0.0;o[5067]=1060716128;o[5068]=1057396202;o[5069]=-1092290076;l[5070]=0.0;o[5071]=1049461434;o[5072]=-1084636126;o[5073]=1055193605;l[5074]=0.0;o[5075]=-1086767520;o[5076]=-1090087446;o[5077]=1055193572;l[5078]=0.0;o[5079]=-1086767520;o[5080]=1057396202;o[5081]=1055193572;l[5082]=0.0;o[5083]=1049461434;o[5084]=1062847522;o[5085]=1055193572;l[5086]=0.0;o[5087]=1063581978;o[5088]=0;o[5089]=1055193471;l[5090]=0.0;o[5091]=-2147483648;o[5092]=0;o[5093]=1065353216;l[5094]=0.0;o[5095]=1054458864;o[5096]=-1096927567;o[5097]=-1084636042;l[5098]=0.0;o[5099]=-1104782626;o[5100]=-1090519208;o[5101]=-1084636042;l[5102]=0.0;o[5103]=1049007812;o[5104]=-1085334679;o[5105]=-1090087228;l[5106]=0.0;o[5107]=1054458864;o[5108]=1050556081;o[5109]=-1084636042;l[5110]=0.0;o[5111]=1062847505;o[5112]=-2147483648;o[5113]=-1090087262;l[5114]=0.0;o[5115]=-1090087362;o[5116]=-2147483648;o[5117]=-1084636076;l[5118]=0.0;o[5119]=-1087361736;o[5120]=-1090519141;o[5121]=-1090087262;l[5122]=0.0;o[5123]=-1104782626;o[5124]=1056964440;o[5125]=-1084636042;l[5126]=0.0;o[5127]=-1087361736;o[5128]=1056964507;o[5129]=-1090087262;l[5130]=0.0;o[5131]=1049007812;o[5132]=1062148969;o[5133]=-1090087228;l[5134]=0.0;o[5135]=1064532105;o[5136]=1050556148;o[5137]=0;l[5138]=0.0;o[5139]=1064532105;o[5140]=-1096927500;o[5141]=0;l[5142]=0.0;o[5143]=1058437413;o[5144]=-1085334595;o[5145]=0;l[5146]=0.0;o[5147]=0;o[5148]=-1082130432;o[5149]=0;l[5150]=0.0;o[5151]=-1089046235;o[5152]=-1085334595;o[5153]=0;l[5154]=0.0;o[5155]=-1082951543;o[5156]=-1096927500;o[5157]=-2147483648;l[5158]=0.0;o[5159]=-1082951543;o[5160]=1050556148;o[5161]=-2147483648;l[5162]=0.0;o[5163]=-1089046235;o[5164]=1062149053;o[5165]=-2147483648;l[5166]=0.0;o[5167]=-2147483648;o[5168]=1065353216;o[5169]=-2147483648;l[5170]=0.0;o[5171]=1058437413;o[5172]=1062149053;o[5173]=-2147483648;l[5174]=0.0;o[5175]=1060121912;o[5176]=-1090519141;o[5177]=1057396386;l[5178]=0.0;o[5179]=-1098475836;o[5180]=-1085334679;o[5181]=1057396420;l[5182]=0.0;o[5183]=-1084636143;o[5184]=0;o[5185]=1057396386;l[5186]=0.0;o[5187]=-1098475836;o[5188]=1062148969;o[5189]=1057396420;l[5190]=0.0;o[5191]=1060121912;o[5192]=1056964507;o[5193]=1057396386;l[5194]=0.0;o[5195]=1057396286;o[5196]=0;o[5197]=1062847572;l[5198]=0.0;o[5199]=1042701022;o[5200]=-1090519208;o[5201]=1062847606;l[5202]=0.0;o[5203]=-1093024784;o[5204]=-1096927567;o[5205]=1062847606;l[5206]=0.0;o[5207]=-1093024784;o[5208]=1050556081;o[5209]=1062847606;l[5210]=0.0;o[5211]=1042701022;o[5212]=1056964440;o[5213]=1062847606;l[5214]=0.0;return}function ax(t){t=t|0;Kc(t);return}function cx(t,e,n){t=t|0;e=e|0;n=n|0;return}function lx(t,e,n){t=t|0;e=e|0;n=n|0;return}function ux(t,e,n,r){t=t|0;e=e|0;n=n|0;r=+r;o[t+4>>2]=o[e>>2];o[t+4+4>>2]=o[e+4>>2];o[t+4+8>>2]=o[e+8>>2];o[t+4+12>>2]=o[e+12>>2];o[t+20>>2]=o[n>>2];o[t+20+4>>2]=o[n+4>>2];o[t+20+8>>2]=o[n+8>>2];o[t+20+12>>2]=o[n+12>>2];l[t+36>>2]=r;i[t+40>>0]=1;return}function hx(t,e){t=t|0;e=e|0;var n=0,i=0.0,r=0,s=0,a=0.0,c=0.0,u=0.0,h=0.0,p=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0,S=0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0;n=o[t+748>>2]|0;if((n|0)!=4){o[t+748>>2]=n+1;S=n;w=(S|0)<0;S=w?0:S;t=t+4+(S*184|0)|0;Ol(t|0,e|0,184)|0;return S|0}M=+l[e+80>>2];x=+l[t+84>>2];y=x<M?x:M;v=+l[t+268>>2];b=v<y?v:y;g=+l[t+452>>2];w=+l[t+636>>2]<(g<b?g:b);n=w?3:g<b?2:v<y?1:(x<M^1)<<31>>31;M=+l[e>>2];if(n){i=+l[t+188>>2];_=+l[e+4>>2];h=+l[t+192>>2];a=+l[e+8>>2];c=+l[t+196>>2];d=+l[t+556>>2];y=+l[t+372>>2];g=+l[t+560>>2];x=+l[t+376>>2];v=+l[t+564>>2];p=+l[t+380>>2];s=(l[f>>2]=((M-i)*(g-x)-(_-h)*(d-y))*((M-i)*(g-x)-(_-h)*(d-y))+(((_-h)*(v-p)-(a-c)*(g-x))*((_-h)*(v-p)-(a-c)*(g-x))+((a-c)*(d-y)-(M-i)*(v-p))*((a-c)*(d-y)-(M-i)*(v-p))),o[f>>2]|0);if((n|0)==1){u=+l[t+8>>2];m=+l[t+12>>2];b=g;g=+l[t+4>>2];r=0;S=7}else{b=g;S=6}}else{i=+l[t+188>>2];h=+l[t+192>>2];c=+l[t+196>>2];_=+l[e+4>>2];a=+l[e+8>>2];d=+l[t+556>>2];y=+l[t+372>>2];b=+l[t+560>>2];x=+l[t+376>>2];v=+l[t+564>>2];p=+l[t+380>>2];s=0;S=6}if((S|0)==6){g=+l[t+4>>2];u=+l[t+8>>2];E=_-u;m=+l[t+12>>2];A=a-m;T=d-y;L=b-x;C=v-p;r=(l[f>>2]=((M-g)*L-E*T)*((M-g)*L-E*T)+((E*C-A*L)*(E*C-A*L)+(A*T-(M-g)*C)*(A*T-(M-g)*C)),o[f>>2]|0);if((n|0)==2){b=y;d=x;n=0;S=8}else S=7}if((S|0)==7){L=M-g;R=_-u;T=a-m;A=d-i;C=b-h;E=v-c;n=(l[f>>2]=(L*C-R*A)*(L*C-R*A)+((R*E-T*C)*(R*E-T*C)+(T*A-L*E)*(T*A-L*E)),o[f>>2]|0);if(w)i=0.0;else{b=y;d=x;S=8}}if((S|0)==8){R=M-g;T=_-u;L=a-m;E=b-i;A=d-h;i=p-c;i=(R*A-T*E)*(R*A-T*E)+((T*i-L*A)*(T*i-L*A)+(L*E-R*i)*(L*E-R*i))}R=+G(+(o[f>>2]=s,+l[f>>2]));L=+G(+(o[f>>2]=r,+l[f>>2]));T=+G(+(o[f>>2]=n,+l[f>>2]));C=+G(+i);E=R>-999999984306749440.0?R:-999999984306749440.0;A=L>E?L:E;S=C>(T>A?T:A)?3:T>A?2:L>E?1:(R>-999999984306749440.0^1)<<31>>31;w=(S|0)<0;S=w?0:S;t=t+4+(S*184|0)|0;Ol(t|0,e|0,184)|0;return S|0}function px(t,e,n){t=t|0;e=e|0;n=n|0;var r=0,s=0.0,a=0.0,c=0,u=0,h=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0;r=o[t+748>>2]|0;if((r|0)<=0)return;do{u=r;r=r+-1|0;_=+l[t+4+(r*184|0)>>2];m=+l[t+4+(r*184|0)+4>>2];s=+l[t+4+(r*184|0)+8>>2];d=_*+l[e>>2]+m*+l[e+4>>2]+s*+l[e+8>>2]+ +l[e+48>>2];p=_*+l[e+16>>2]+m*+l[e+20>>2]+s*+l[e+24>>2]+ +l[e+52>>2];s=_*+l[e+32>>2]+m*+l[e+36>>2]+s*+l[e+40>>2]+ +l[e+56>>2];l[t+4+(r*184|0)+48>>2]=d;l[t+4+(r*184|0)+52>>2]=p;l[t+4+(r*184|0)+56>>2]=s;l[t+4+(r*184|0)+60>>2]=0.0;m=+l[t+4+(r*184|0)+16>>2];_=+l[t+4+(r*184|0)+20>>2];a=+l[t+4+(r*184|0)+24>>2];f=m*+l[n>>2]+_*+l[n+4>>2]+a*+l[n+8>>2]+ +l[n+48>>2];h=m*+l[n+16>>2]+_*+l[n+20>>2]+a*+l[n+24>>2]+ +l[n+52>>2];a=m*+l[n+32>>2]+_*+l[n+36>>2]+a*+l[n+40>>2]+ +l[n+56>>2];l[t+4+(r*184|0)+32>>2]=f;l[t+4+(r*184|0)+36>>2]=h;l[t+4+(r*184|0)+40>>2]=a;l[t+4+(r*184|0)+44>>2]=0.0;l[t+4+(r*184|0)+80>>2]=(d-f)*+l[t+4+(r*184|0)+64>>2]+(p-h)*+l[t+4+(r*184|0)+68>>2]+(s-a)*+l[t+4+(r*184|0)+72>>2];c=t+4+(r*184|0)+148|0;o[c>>2]=(o[c>>2]|0)+1}while((u|0)>1);r=o[t+748>>2]|0;if((r|0)<=0)return;n=r;c=r;while(1){u=c;c=c+-1|0;e=t+4+(c*184|0)|0;s=+l[t+4+(c*184|0)+80>>2];a=+l[t+752>>2];if(s<=a){d=+l[t+4+(c*184|0)+32>>2]-(+l[t+4+(c*184|0)+48>>2]-+l[t+4+(c*184|0)+64>>2]*s);_=+l[t+4+(c*184|0)+36>>2]-(+l[t+4+(c*184|0)+52>>2]-s*+l[t+4+(c*184|0)+68>>2]);m=+l[t+4+(c*184|0)+40>>2]-(+l[t+4+(c*184|0)+56>>2]-s*+l[t+4+(c*184|0)+72>>2]);if(d*d+_*_+m*m>a*a){r=n+-1|0;if((r|0)==(c|0))r=n;else{Ol(e|0,t+4+(r*184|0)|0,184)|0;o[t+4+(r*184|0)+112>>2]=0;l[t+4+(r*184|0)+120>>2]=0.0;i[t+4+(r*184|0)+116>>0]=0;l[t+4+(r*184|0)+124>>2]=0.0;l[t+4+(r*184|0)+128>>2]=0.0;o[t+4+(r*184|0)+148>>2]=0;r=o[t+748>>2]|0}r=r+-1|0;o[t+748>>2]=r}else r=n}else{r=n+-1|0;if((r|0)==(c|0))r=n;else{Ol(e|0,t+4+(r*184|0)|0,184)|0;o[t+4+(r*184|0)+112>>2]=0;l[t+4+(r*184|0)+120>>2]=0.0;i[t+4+(r*184|0)+116>>0]=0;l[t+4+(r*184|0)+124>>2]=0.0;l[t+4+(r*184|0)+128>>2]=0.0;o[t+4+(r*184|0)+148>>2]=0;r=o[t+748>>2]|0}r=r+-1|0;o[t+748>>2]=r}if((u|0)<=1)break;else n=r}return}function fx(t,e,n,i,r,o,s,a,c,u,h){t=t|0;e=e|0;n=+n;i=+i;r=+r;o=+o;s=+s;a=+a;c=c|0;u=u|0;h=+h;var p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0;S=+l[t>>2]*o+ +l[t+16>>2]*s+ +l[t+32>>2]*a;x=+l[t+4>>2]*o+ +l[t+20>>2]*s+ +l[t+36>>2]*a;v=+l[t+8>>2]*o+ +l[t+24>>2]*s+ +l[t+40>>2]*a;b=+l[e>>2]*o+ +l[e+16>>2]*s+ +l[e+32>>2]*a;m=+l[e+4>>2]*o+ +l[e+20>>2]*s+ +l[e+36>>2]*a;d=+l[e+8>>2]*o+ +l[e+24>>2]*s+ +l[e+40>>2]*a;w=+l[c+80>>2];y=+l[c+84>>2];_=+l[c+88>>2];g=+l[u+80>>2];p=+l[u+84>>2];f=+l[u+88>>2];_=S*(S<0.0?-w:w)+x*(x<0.0?-y:y)+v*(v<0.0?-_:_);f=b*(b<0.0?-g:g)+m*(m<0.0?-p:p)+d*(d<0.0?-f:f);d=+l[c+96>>2];p=+l[u+96>>2];p=(_>d?_:d)+(f>p?f:p);return!((n*o+i*s+r*a+p<p-(n*o+i*s+r*a)?n*o+i*s+r*a+p:p-(n*o+i*s+r*a))>h)|0}function dx(t,e,n,r,s,a,c){t=t|0;e=e|0;n=n|0;r=r|0;s=+s;a=+a;c=c|0;var u=0,p=0,f=0.0,d=0,_=0.0,m=0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0,E=0,R=0.0,I=0.0,P=0.0,D=0,k=0,O=0,N=0,F=0,B=0,j=0,U=0,z=0,G=0,V=0,W=0,H=0,X=0,q=0,Y=0,Z=0,J=0.0,K=0.0,$=0.0,Q=0.0,tt=0,et=0;Z=h;h=h+64|0;i[Z+32+16>>0]=1;Y=Z+32+12|0;o[Y>>2]=0;o[Z+32+4>>2]=0;o[Z+32+8>>2]=0;m=o[r+4>>2]|0;if((m|0)>0){o[5637]=(o[5637]|0)+1;u=Jc((m<<4|3)+16|0)|0;if(!u)d=0;else{o[(u+4+15&-16)+-4>>2]=u;d=u+4+15&-16}u=o[Z+32+4>>2]|0;if((u|0)>0){p=0;do{q=d+(p<<4)|0;X=(o[Y>>2]|0)+(p<<4)|0;o[q>>2]=o[X>>2];o[q+4>>2]=o[X+4>>2];o[q+8>>2]=o[X+8>>2];o[q+12>>2]=o[X+12>>2];p=p+1|0}while((p|0)!=(u|0))}u=o[Y>>2]|0;if(u|0){if(i[Z+32+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[u+-4>>2]|0)}o[Y>>2]=0}i[Z+32+16>>0]=1;o[Y>>2]=d;o[Z+32+8>>2]=m}u=o[e+28>>2]|0;if((u|0)>0){X=o[e+36>>2]|0;T=+l[n>>2];A=+l[n+4>>2];R=+l[n+8>>2];I=+l[n+16>>2];P=+l[n+20>>2];b=+l[n+24>>2];g=+l[n+32>>2];_=+l[n+36>>2];f=+l[n+40>>2];v=+l[t>>2];y=+l[t+4>>2];x=+l[t+8>>2];q=-1;C=3402823466385288598117041.0e14;d=0;while(1){w=+l[X+(d*36|0)+20>>2];S=+l[X+(d*36|0)+24>>2];M=+l[X+(d*36|0)+28>>2];p=(w*T+S*A+M*R)*v+(w*I+S*P+M*b)*y+(w*g+S*_+M*f)*x<C;q=p?d:q;d=d+1|0;if((d|0)==(u|0))break;else C=p?(w*T+S*A+M*R)*v+(w*I+S*P+M*b)*y+(w*g+S*_+M*f)*x:C}if((q|0)>=0){F=o[X+(q*36|0)+4>>2]|0;if((F|0)>0){B=X+(q*36|0)+12|0;j=X+(q*36|0)+20|0;U=X+(q*36|0)+24|0;z=X+(q*36|0)+28|0;v=T;S=A;w=R;x=I;y=P;N=0;O=r;r=Z+32|0;while(1){k=o[B>>2]|0;u=o[k+(N<<2)>>2]|0;D=o[e+16>>2]|0;N=N+1|0;k=o[k+(((N|0)==(F|0)?0:N)<<2)>>2]|0;K=+l[D+(u<<4)>>2];$=K-+l[D+(k<<4)>>2];J=+l[D+(u<<4)+4>>2];Q=J-+l[D+(k<<4)+4>>2];M=+l[D+(u<<4)+8>>2];A=M-+l[D+(k<<4)+8>>2];C=$*v+Q*S+A*w;T=$*x+Q*y+A*b;A=$*g+Q*_+A*f;Q=+l[j>>2];$=+l[U>>2];P=+l[z>>2];R=v*Q+S*$+w*P;I=x*Q+y*$+b*P;P=g*Q+_*$+f*P;y=(K*v+J*S+M*w+ +l[n+48>>2])*-(T*P-A*I)+(K*x+J*y+M*b+ +l[n+52>>2])*-(A*R-C*P)+(K*g+J*_+M*f+ +l[n+56>>2])*-(C*I-T*R);k=O;D=r;u=o[k+4>>2]|0;if((u|0)>=2){d=o[k+12>>2]|0;_=+l[d+(u+-1<<4)>>2];g=+l[d+(u+-1<<4)+4>>2];b=+l[d+(u+-1<<4)+8>>2];f=_*-(T*P-A*I)+g*-(A*R-C*P)+b*-(C*I-T*R)-y;E=0;while(1){x=+l[d+(E<<4)>>2];w=+l[d+(E<<4)+4>>2];S=+l[d+(E<<4)+8>>2];L=o[d+(E<<4)+12>>2]|0;M=x*-(T*P-A*I)+w*-(A*R-C*P)+S*-(C*I-T*R)-y;do{if(f<0.0)if(M<0.0){p=o[D+4>>2]|0;if((p|0)==(o[D+8>>2]|0)?(G=p|0?p<<1:1,(p|0)<(G|0)):0){if(!G)m=0;else{o[5637]=(o[5637]|0)+1;p=Jc((G<<4|3)+16|0)|0;if(!p)p=0;else{o[(p+4+15&-16)+-4>>2]=p;p=p+4+15&-16}m=p;p=o[D+4>>2]|0}if((p|0)>0){d=0;do{tt=m+(d<<4)|0;et=(o[D+12>>2]|0)+(d<<4)|0;o[tt>>2]=o[et>>2];o[tt+4>>2]=o[et+4>>2];o[tt+8>>2]=o[et+8>>2];o[tt+12>>2]=o[et+12>>2];d=d+1|0}while((d|0)!=(p|0))}p=o[D+12>>2]|0;if(p|0){if(i[D+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[p+-4>>2]|0)}o[D+12>>2]=0}i[D+16>>0]=1;o[D+12>>2]=m;o[D+8>>2]=G;p=o[D+4>>2]|0}et=o[D+12>>2]|0;l[et+(p<<4)>>2]=x;l[et+(p<<4)+4>>2]=w;l[et+(p<<4)+8>>2]=S;o[et+(p<<4)+12>>2]=L;o[D+4>>2]=(o[D+4>>2]|0)+1;break}else{f=f/(f-M);v=_+(x-_)*f;_=g+(w-g)*f;f=b+(S-b)*f;p=o[D+4>>2]|0;if((p|0)==(o[D+8>>2]|0)?(V=p|0?p<<1:1,(p|0)<(V|0)):0){if(!V)m=0;else{o[5637]=(o[5637]|0)+1;p=Jc((V<<4|3)+16|0)|0;if(!p)p=0;else{o[(p+4+15&-16)+-4>>2]=p;p=p+4+15&-16}m=p;p=o[D+4>>2]|0}if((p|0)>0){d=0;do{et=m+(d<<4)|0;tt=(o[D+12>>2]|0)+(d<<4)|0;o[et>>2]=o[tt>>2];o[et+4>>2]=o[tt+4>>2];o[et+8>>2]=o[tt+8>>2];o[et+12>>2]=o[tt+12>>2];d=d+1|0}while((d|0)!=(p|0))}p=o[D+12>>2]|0;if(p|0){if(i[D+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[p+-4>>2]|0)}o[D+12>>2]=0}i[D+16>>0]=1;o[D+12>>2]=m;o[D+8>>2]=V;p=o[D+4>>2]|0}et=o[D+12>>2]|0;l[et+(p<<4)>>2]=v;l[et+(p<<4)+4>>2]=_;l[et+(p<<4)+8>>2]=f;l[et+(p<<4)+12>>2]=0.0;o[D+4>>2]=(o[D+4>>2]|0)+1;break}else if(M<0.0){f=f/(f-M);v=_+(x-_)*f;_=g+(w-g)*f;f=b+(S-b)*f;p=o[D+4>>2]|0;if((p|0)==(o[D+8>>2]|0)?(W=p|0?p<<1:1,(p|0)<(W|0)):0){if(!W)m=0;else{o[5637]=(o[5637]|0)+1;p=Jc((W<<4|3)+16|0)|0;if(!p)p=0;else{o[(p+4+15&-16)+-4>>2]=p;p=p+4+15&-16}m=p;p=o[D+4>>2]|0}if((p|0)>0){d=0;do{et=m+(d<<4)|0;tt=(o[D+12>>2]|0)+(d<<4)|0;o[et>>2]=o[tt>>2];o[et+4>>2]=o[tt+4>>2];o[et+8>>2]=o[tt+8>>2];o[et+12>>2]=o[tt+12>>2];d=d+1|0}while((d|0)!=(p|0))}p=o[D+12>>2]|0;if(p|0){if(i[D+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[p+-4>>2]|0)}o[D+12>>2]=0}i[D+16>>0]=1;o[D+12>>2]=m;o[D+8>>2]=W;p=o[D+4>>2]|0}et=o[D+12>>2]|0;l[et+(p<<4)>>2]=v;l[et+(p<<4)+4>>2]=_;l[et+(p<<4)+8>>2]=f;l[et+(p<<4)+12>>2]=0.0;p=(o[D+4>>2]|0)+1|0;o[D+4>>2]=p;if((p|0)==(o[D+8>>2]|0)?(H=p|0?p<<1:1,(p|0)<(H|0)):0){if(!H)m=0;else{o[5637]=(o[5637]|0)+1;p=Jc((H<<4|3)+16|0)|0;if(!p)p=0;else{o[(p+4+15&-16)+-4>>2]=p;p=p+4+15&-16}m=p;p=o[D+4>>2]|0}if((p|0)>0){d=0;do{et=m+(d<<4)|0;tt=(o[D+12>>2]|0)+(d<<4)|0;o[et>>2]=o[tt>>2];o[et+4>>2]=o[tt+4>>2];o[et+8>>2]=o[tt+8>>2];o[et+12>>2]=o[tt+12>>2];d=d+1|0}while((d|0)!=(p|0))}p=o[D+12>>2]|0;if(p|0){if(i[D+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[p+-4>>2]|0)}o[D+12>>2]=0}i[D+16>>0]=1;o[D+12>>2]=m;o[D+8>>2]=H;p=o[D+4>>2]|0}et=o[D+12>>2]|0;l[et+(p<<4)>>2]=x;l[et+(p<<4)+4>>2]=w;l[et+(p<<4)+8>>2]=S;o[et+(p<<4)+12>>2]=L;o[D+4>>2]=(o[D+4>>2]|0)+1}}while(0);p=E+1|0;if((p|0)==(u|0))break;d=o[k+12>>2]|0;f=M;_=x;b=S;g=w;E=p}u=o[k+4>>2]|0}if((u|0)<0){if((o[k+8>>2]|0)<0){p=o[k+12>>2]|0;if(p|0){if(i[k+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[p+-4>>2]|0)}o[k+12>>2]=0}i[k+16>>0]=1;o[k+12>>2]=0;o[k+8>>2]=0}do{et=(o[k+12>>2]|0)+(u<<4)|0;o[et>>2]=o[Z>>2];o[et+4>>2]=o[Z+4>>2];o[et+8>>2]=o[Z+8>>2];o[et+12>>2]=o[Z+12>>2];u=u+1|0}while((u|0)!=0)}o[k+4>>2]=0;v=+l[n>>2];S=+l[n+4>>2];w=+l[n+8>>2];x=+l[n+16>>2];y=+l[n+20>>2];b=+l[n+24>>2];g=+l[n+32>>2];_=+l[n+36>>2];f=+l[n+40>>2];if((N|0)>=(F|0)){d=j;p=U;u=z;L=n+48|0;E=n+52|0;m=n+56|0;break}else{et=r;r=O;O=et}}}else{d=X+(q*36|0)+20|0;p=X+(q*36|0)+24|0;u=X+(q*36|0)+28|0;L=n+48|0;E=n+52|0;m=n+56|0;v=T;S=A;w=R;x=I;y=P}K=+l[d>>2];$=+l[p>>2];Q=+l[u>>2];v=K*v+$*S+Q*w;b=K*x+$*y+Q*b;g=K*g+$*_+Q*f;_=+l[X+(q*36|0)+32>>2]-(v*+l[L>>2]+b*+l[E>>2]+g*+l[m>>2]);u=o[r+4>>2]|0;if((u|0)>0){d=0;do{p=o[r+12>>2]|0;f=_+(v*+l[p+(d<<4)>>2]+b*+l[p+(d<<4)+4>>2]+g*+l[p+(d<<4)+8>>2]);f=f<=s?s:f;if(f<=a){u=p+(d<<4)|0;o[Z+16>>2]=o[u>>2];o[Z+16+4>>2]=o[u+4>>2];o[Z+16+8>>2]=o[u+8>>2];o[Z+16+12>>2]=o[u+12>>2];jk[o[(o[c>>2]|0)+16>>2]&15](c,t,Z+16|0,f);u=o[r+4>>2]|0}d=d+1|0}while((d|0)<(u|0))}}}u=o[Y>>2]|0;if(!u){h=Z;return}if(i[Z+32+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[u+-4>>2]|0)}o[Y>>2]=0;h=Z;return}function _x(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0,P=0.0,D=0;D=h;h=h+32|0;c=+l[e+16>>2];r=+l[e>>2];u=+l[e+20>>2];s=+l[e+4>>2];f=+l[e+24>>2];a=+l[e+8>>2];g=+l[e+32>>2];x=+l[e+36>>2];w=+l[e+40>>2];A=(u-s)*(w-a)-(f-a)*(x-s);L=(f-a)*(g-r)-(c-r)*(w-a);E=(c-r)*(x-s)-(u-s)*(g-r);l[D+16>>2]=A;l[D+16+4>>2]=L;l[D+16+8>>2]=E;l[D+16+12>>2]=0.0;d=+l[t+4>>2];b=+l[t+8>>2];S=+l[t+12>>2];R=A*d+L*b+E*S-(r*A+s*L+a*E);_=+l[t+20>>2];v=+l[t+24>>2];M=+l[t+28>>2];if(R*(A*_+L*v+E*M-(r*A+s*L+a*E))>=0.0){h=D;return}I=o[t+36>>2]|0;if(R<=0.0&(I&1|0)!=0){h=D;return}P=R/(R-(A*_+L*v+E*M-(r*A+s*L+a*E)));if(!(P<+l[t+40>>2])){h=D;return}T=(A*A+L*L+E*E)*-9.999999747378752e-05;C=r-(_*P+d*(1.0-P));y=s-(v*P+b*(1.0-P));m=a-(M*P+S*(1.0-P));p=c-(_*P+d*(1.0-P));u=u-(v*P+b*(1.0-P));c=f-(M*P+S*(1.0-P));if(!(E*(C*u-y*p)+(A*(y*c-m*u)+L*(m*p-C*c))>=T)){h=D;return}a=g-(_*P+d*(1.0-P));s=x-(v*P+b*(1.0-P));r=w-(M*P+S*(1.0-P));if(!(E*(p*s-u*a)+(A*(u*r-c*s)+L*(c*a-p*r))>=T)){h=D;return}if(!(E*(y*a-C*s)+(A*(m*s-y*r)+L*(C*r-m*a))>=T)){h=D;return}r=1.0/+V(+(A*A+L*L+E*E));l[D+16>>2]=A*r;l[D+16+4>>2]=L*r;l[D+16+8>>2]=E*r;e=o[(o[t>>2]|0)+12>>2]|0;if(R<=0.0&(I&2|0)==0){l[D>>2]=-(A*r);l[D+4>>2]=-(L*r);l[D+8>>2]=-(E*r);l[D+12>>2]=0.0;l[t+40>>2]=+Nk[e&3](t,D,P,n,i);h=D;return}else{l[t+40>>2]=+Nk[e&3](t,D+16|0,P,n,i);h=D;return}}function mx(t){t=t|0;Kc(t);return}function gx(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;var s=0.0,a=0.0,c=0.0,u=0.0,p=0,f=0.0;p=h;h=h+688|0;o[p+568+8>>2]=0;o[p+568+12>>2]=-1;o[p+568+16>>2]=1065353216;o[p+568+20>>2]=1065353216;o[p+568+24>>2]=1065353216;l[p+568+28>>2]=0.0;o[p+568+56>>2]=0;o[p+568>>2]=3768;o[p+568+4>>2]=1;o[p+568+60>>2]=o[e>>2];o[p+568+60+4>>2]=o[e+4>>2];o[p+568+60+8>>2]=o[e+8>>2];o[p+568+60+12>>2]=o[e+12>>2];o[p+568+76>>2]=o[e+16>>2];o[p+568+76+4>>2]=o[e+16+4>>2];o[p+568+76+8>>2]=o[e+16+8>>2];o[p+568+76+12>>2]=o[e+16+12>>2];o[p+568+92>>2]=o[e+32>>2];o[p+568+92+4>>2]=o[e+32+4>>2];o[p+568+92+8>>2]=o[e+32+8>>2];o[p+568+92+12>>2]=o[e+32+12>>2];o[p+568+48>>2]=o[t+204>>2];l[p+208+308>>2]=9.999999747378752e-05;i[p+208+332>>0]=0;o[p+200>>2]=6908;e=o[t+4>>2]|0;o[p+176>>2]=6816;o[p+176+4>>2]=p+208;o[p+176+8>>2]=p+200;o[p+176+12>>2]=e;o[p+176+16>>2]=p+568;o[p+176+20>>2]=0;o[p>>2]=3316;o[p+168>>2]=0;l[p+164>>2]=1.0;o[p+172>>2]=o[t+208>>2];if((ky(p+176|0,t+8|0,t+72|0,t+136|0,t+136|0,p)|0?(s=+l[p+132>>2],a=+l[p+136>>2],c=+l[p+140>>2],s*s+a*a+c*c>9.999999747378752e-05):0)?(u=+l[p+164>>2],u<+l[t+200>>2]):0){f=1.0/+V(+(s*s+a*a+c*c));l[p+132>>2]=s*f;l[p+136>>2]=a*f;l[p+140>>2]=c*f;+Mk[o[(o[t>>2]|0)+12>>2]&3](t,p+132|0,p+148|0,u,n,r)}o[p+568>>2]=6248;n=o[p+568+56>>2]|0;if(!n){h=p;return}sk[o[o[n>>2]>>2]&255](n);n=o[p+568+56>>2]|0;if(!n){h=p;return}o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0);h=p;return}function bx(t){t=t|0;Kc(t);return}function vx(t,e,n,r,s,a){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;a=a|0;var c=0,u=0.0,p=0.0,d=0.0,_=0.0,m=0,g=0,b=0,v=0.0,y=0.0,x=0.0,w=0,S=0.0,M=0,C=0,T=0.0,A=0.0,L=0,E=0.0,R=0.0,I=0.0,P=0.0,D=0.0,k=0.0,O=0.0,N=0,F=0.0,B=0.0,j=0.0,U=0.0,z=0.0,G=0.0,W=0.0,H=0.0,X=0.0,q=0.0,Y=0.0,Z=0.0,J=0.0,K=0.0,$=0.0,Q=0.0,tt=0.0,et=0.0,nt=0,it=0.0,rt=0.0,ot=0.0,st=0,at=0.0;st=h;h=h+128|0;N=o[t+4>>2]|0;i[N+312>>0]=0;o[N>>2]=0;i[N+356>>0]=1;o[N+292>>2]=1566444395;o[N+296>>2]=1566444395;o[N+300>>2]=1566444395;l[N+304>>2]=0.0;o[N+336>>2]=0;o[N+336+4>>2]=0;o[N+336+8>>2]=0;o[N+336+12>>2]=0;i[N+336+16>>0]=0;i[N+332>>0]=i[N+332>>0]&-16;u=+l[e+48>>2];p=+l[e+52>>2];d=+l[e+56>>2];_=+l[r+48>>2];v=+l[r+52>>2];y=+l[r+56>>2];F=+l[e>>2];B=+l[e+4>>2];j=+l[e+8>>2];U=+l[e+16>>2];z=+l[e+20>>2];G=+l[e+24>>2];W=+l[e+32>>2];H=+l[e+36>>2];X=+l[e+40>>2];q=+l[r>>2];Y=+l[r+4>>2];Z=+l[r+8>>2];J=+l[r+16>>2];K=+l[r+20>>2];$=+l[r+24>>2];Q=+l[r+32>>2];tt=+l[r+36>>2];et=+l[r+40>>2];it=+l[n+48>>2]-u-(+l[s+48>>2]-_);rt=+l[n+52>>2]-p-(+l[s+52>>2]-v);ot=+l[n+56>>2]-d-(+l[s+56>>2]-y);N=o[t+8>>2]|0;L=o[(o[N>>2]|0)+64>>2]|0;l[st+96>>2]=F*-it+U*-rt+W*-ot;l[st+96+4>>2]=B*-it+z*-rt+H*-ot;l[st+96+8>>2]=j*-it+G*-rt+X*-ot;l[st+96+12>>2]=0.0;Uk[L&127](st+112|0,N,st+96|0);k=+l[st+112>>2];O=+l[st+112+4>>2];D=+l[st+112+8>>2];x=k*+l[e>>2]+O*+l[e+4>>2]+D*+l[e+8>>2]+ +l[e+48>>2];T=k*+l[e+16>>2]+O*+l[e+20>>2]+D*+l[e+24>>2]+ +l[e+52>>2];D=k*+l[e+32>>2]+O*+l[e+36>>2]+D*+l[e+40>>2]+ +l[e+56>>2];N=o[t+12>>2]|0;L=o[(o[N>>2]|0)+64>>2]|0;O=it*+l[r+4>>2]+rt*+l[r+20>>2]+ot*+l[r+36>>2];k=it*+l[r+8>>2]+rt*+l[r+24>>2]+ot*+l[r+40>>2];l[st+64>>2]=it*+l[r>>2]+rt*+l[r+16>>2]+ot*+l[r+32>>2];l[st+64+4>>2]=O;l[st+64+8>>2]=k;l[st+64+12>>2]=0.0;Uk[L&127](st+80|0,N,st+64|0);k=+l[st+80>>2];O=+l[st+80+4>>2];S=+l[st+80+8>>2];x=x-(k*+l[r>>2]+O*+l[r+4>>2]+S*+l[r+8>>2]+ +l[r+48>>2]);T=T-(k*+l[r+16>>2]+O*+l[r+20>>2]+S*+l[r+24>>2]+ +l[r+52>>2]);S=D-(k*+l[r+32>>2]+O*+l[r+36>>2]+S*+l[r+40>>2]+ +l[r+56>>2]);t:do{if(x*x+T*T+S*S>9.999999747378752e-05){O=u;u=0.0;N=32;g=0;b=0;m=0;c=0;C=0;while(1){if(!N)break t;N=N+-1|0;w=o[t+8>>2]|0;M=o[(o[w>>2]|0)+64>>2]|0;I=-x;at=-T;A=-S;l[st+32>>2]=F*I+U*at+W*A;l[st+32+4>>2]=B*I+z*at+H*A;l[st+32+8>>2]=j*I+G*at+X*A;l[st+32+12>>2]=0.0;Uk[M&127](st+48|0,w,st+32|0);A=+l[st+48>>2];at=+l[st+48+4>>2];I=+l[st+48+8>>2];E=O+(F*A+B*at+j*I);R=p+(U*A+z*at+G*I);I=d+(W*A+H*at+X*I);w=o[t+12>>2]|0;M=o[(o[w>>2]|0)+64>>2]|0;l[st>>2]=q*x+J*T+Q*S;l[st+4>>2]=Y*x+K*T+tt*S;l[st+8>>2]=Z*x+$*T+et*S;l[st+12>>2]=0.0;Uk[M&127](st+16|0,w,st);at=+l[st+16>>2];A=+l[st+16+4>>2];k=+l[st+16+8>>2];P=_+(q*at+Y*A+Z*k);D=v+(J*at+K*A+$*k);k=y+(Q*at+tt*A+et*k);A=x*(E-P)+T*(R-D)+S*(I-k);w=(l[f>>2]=x,o[f>>2]|0);M=(l[f>>2]=T,o[f>>2]|0);L=(l[f>>2]=S,o[f>>2]|0);if(u>1.0){c=0;nt=25;break}if(A>0.0){p=it*x+rt*T+ot*S;if(p>=-1.4210854715202004e-14){c=0;nt=25;break}u=u-A/p;A=(1.0-u)*+l[e+48>>2]+u*+l[n+48>>2];p=(1.0-u)*+l[e+52>>2]+u*+l[n+52>>2];d=(1.0-u)*+l[e+56>>2]+u*+l[n+56>>2];_=(1.0-u)*+l[r+48>>2]+u*+l[s+48>>2];v=(1.0-u)*+l[r+52>>2]+u*+l[s+52>>2];y=(1.0-u)*+l[r+56>>2]+u*+l[s+56>>2];g=w;b=C;m=M;c=L}else A=O;M=o[t+4>>2]|0;C=o[M>>2]|0;e:do{if((C|0)>0){x=+l[M+308>>2];w=0;while(1){T=E-P-+l[M+4+(w<<4)>>2];O=R-D-+l[M+4+(w<<4)+4>>2];at=I-k-+l[M+4+(w<<4)+8>>2];w=w+1|0;if(T*T+O*O+at*at<=x){w=1;break e}if((w|0)>=(C|0)){w=0;break}}}else w=0}while(0);if((+l[M+304>>2]==0.0?I-k==+l[M+300>>2]:0)?R-D==+l[M+296>>2]:0){if(!(E-P==+l[M+292>>2]|w))nt=17}else if(!w)nt=17;if((nt|0)==17){nt=0;l[M+292>>2]=E-P;l[M+296>>2]=R-D;l[M+300>>2]=I-k;l[M+304>>2]=0.0;i[M+356>>0]=1;l[M+4+(C<<4)>>2]=E-P;l[M+4+(C<<4)+4>>2]=R-D;l[M+4+(C<<4)+8>>2]=I-k;l[M+4+(C<<4)+12>>2]=0.0;L=o[M>>2]|0;l[M+84+(L<<4)>>2]=E;l[M+84+(L<<4)+4>>2]=R;l[M+84+(L<<4)+8>>2]=I;l[M+84+(L<<4)+12>>2]=0.0;L=o[M>>2]|0;l[M+164+(L<<4)>>2]=P;l[M+164+(L<<4)+4>>2]=D;l[M+164+(L<<4)+8>>2]=k;l[M+164+(L<<4)+12>>2]=0.0;o[M>>2]=(o[M>>2]|0)+1;M=o[t+4>>2]|0}L=yx(M)|0;x=+l[M+276>>2];T=+l[M+280>>2];S=+l[M+284>>2];if(!L)break t;if(!(x*x+T*T+S*S>9.999999747378752e-05))break t;else{O=A;C=o[M+288>>2]|0}}if((nt|0)==25){h=st;return c|0}}else{u=0.0;g=0;b=0;m=0;c=0}}while(0);l[a+164>>2]=u;u=(o[f>>2]=g,+l[f>>2]);p=(o[f>>2]=m,+l[f>>2]);_=(o[f>>2]=c,+l[f>>2]);if(!(u*u+p*p+_*_>=1.4210854715202004e-14)){o[a+132>>2]=0;o[a+132+4>>2]=0;o[a+132+8>>2]=0;o[a+132+12>>2]=0;d=0.0;p=0.0;u=0.0}else{at=1.0/+V(+(u*u+p*p+_*_));l[a+132>>2]=u*at;l[a+136>>2]=p*at;l[a+140>>2]=_*at;o[a+144>>2]=b;d=u*at;p=p*at;u=_*at}if(it*d+rt*p+ot*u>=-+l[a+172>>2]){t=0;h=st;return t|0}t=o[t+4>>2]|0;yx(t)|0;Nl(a+148|0,t+260|0,16)|0;t=1;h=st;return t|0}function yx(t){t=t|0;var e=0,n=0.0,r=0.0,s=0,a=0.0,c=0.0,u=0.0,p=0.0,f=0,d=0,_=0,m=0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0,D=0,k=0,O=0.0,N=0.0,F=0.0,B=0.0,j=0.0,U=0.0,z=0.0,G=0.0,V=0.0,W=0.0,H=0.0,X=0.0,q=0.0,Y=0;k=h;h=h+64|0;if(!(i[t+356>>0]|0)){t=i[t+312>>0]|0;t=t<<24>>24!=0;h=k;return t|0}o[t+336>>2]=0;o[t+336+4>>2]=0;o[t+336+8>>2]=0;o[t+336+12>>2]=0;i[t+336+16>>0]=0;s=i[t+332>>0]|0;i[t+332>>0]=s&-16;i[t+356>>0]=0;switch(o[t>>2]|0){case 0:{i[t+312>>0]=0;t=0;t=t<<24>>24!=0;h=k;return t|0}case 1:{o[t+244>>2]=o[t+84>>2];o[t+244+4>>2]=o[t+84+4>>2];o[t+244+8>>2]=o[t+84+8>>2];o[t+244+12>>2]=o[t+84+12>>2];o[t+260>>2]=o[t+164>>2];o[t+260+4>>2]=o[t+164+4>>2];o[t+260+8>>2]=o[t+164+8>>2];o[t+260+12>>2]=o[t+164+12>>2];R=+l[t+248>>2]-+l[t+264>>2];I=+l[t+252>>2]-+l[t+268>>2];l[t+276>>2]=+l[t+244>>2]-+l[t+260>>2];l[t+280>>2]=R;l[t+284>>2]=I;l[t+288>>2]=0.0;o[t+336>>2]=0;o[t+336+4>>2]=0;o[t+336+8>>2]=0;o[t+336+12>>2]=0;i[t+336+16>>0]=0;i[t+332>>0]=s&-16;l[t+336>>2]=1.0;l[t+340>>2]=0.0;l[t+344>>2]=0.0;l[t+348>>2]=0.0;i[t+312>>0]=1;t=1;t=t<<24>>24!=0;h=k;return t|0}case 2:{n=+l[t+4>>2];r=+l[t+8>>2];a=+l[t+12>>2];c=+l[t+20>>2]-n;u=+l[t+24>>2]-r;p=+l[t+28>>2]-a;do{if((0.0-n)*c+(0.0-r)*u+(0.0-a)*p>0.0)if((0.0-n)*c+(0.0-r)*u+(0.0-a)*p<c*c+u*u+p*p){i[t+332>>0]=s&-16|3;s=s&-16|3;r=((0.0-n)*c+(0.0-r)*u+(0.0-a)*p)/(c*c+u*u+p*p);break}else{i[t+332>>0]=s&-16|2;s=s&-16|2;r=1.0;break}else{i[t+332>>0]=s&-16|1;s=s&-16|1;r=0.0}}while(0);n=1.0-r;l[t+336>>2]=n;l[t+340>>2]=r;l[t+344>>2]=0.0;l[t+348>>2]=0.0;T=+l[t+84>>2];L=+l[t+88>>2];R=+l[t+92>>2];T=T+r*(+l[t+100>>2]-T);L=L+r*(+l[t+104>>2]-L);R=R+r*(+l[t+108>>2]-R);l[t+244>>2]=T;l[t+248>>2]=L;l[t+252>>2]=R;l[t+256>>2]=0.0;A=+l[t+164>>2];E=+l[t+168>>2];I=+l[t+172>>2];A=A+r*(+l[t+180>>2]-A);E=E+r*(+l[t+184>>2]-E);I=I+r*(+l[t+188>>2]-I);l[t+260>>2]=A;l[t+264>>2]=E;l[t+268>>2]=I;l[t+272>>2]=0.0;l[t+276>>2]=T-A;l[t+280>>2]=L-E;l[t+284>>2]=R-I;l[t+288>>2]=0.0;if(!(s&2)){o[t>>2]=1;e=0}else e=1;if(!(s&1)){o[t>>2]=e;D=t+4+(e<<4)|0;o[t+4>>2]=o[D>>2];o[t+4+4>>2]=o[D+4>>2];o[t+4+8>>2]=o[D+8>>2];o[t+4+12>>2]=o[D+12>>2];D=t+84+(e<<4)|0;o[t+84>>2]=o[D>>2];o[t+84+4>>2]=o[D+4>>2];o[t+84+8>>2]=o[D+8>>2];o[t+84+12>>2]=o[D+12>>2];D=t+164+(e<<4)|0;o[t+164>>2]=o[D>>2];o[t+164+4>>2]=o[D+4>>2];o[t+164+8>>2]=o[D+8>>2];o[t+164+12>>2]=o[D+12>>2]}D=(!(n>=0.0)|!(r>=0.0))&1^1;i[t+312>>0]=D;t=D;t=t<<24>>24!=0;h=k;return t|0}case 3:{o[k+16>>2]=0;o[k+16+4>>2]=0;o[k+16+8>>2]=0;o[k+16+12>>2]=0;tA(k+16|0,t+4|0,t+20|0,t+36|0,t+316|0);I=+l[t+336>>2];n=+l[t+340>>2];r=+l[t+344>>2];T=+l[t+84>>2]*I+ +l[t+100>>2]*n+ +l[t+116>>2]*r;L=I*+l[t+88>>2]+n*+l[t+104>>2]+r*+l[t+120>>2];R=I*+l[t+92>>2]+n*+l[t+108>>2]+r*+l[t+124>>2];l[t+244>>2]=T;l[t+248>>2]=L;l[t+252>>2]=R;l[t+256>>2]=0.0;A=+l[t+164>>2]*I+ +l[t+180>>2]*n+ +l[t+196>>2]*r;E=I*+l[t+168>>2]+n*+l[t+184>>2]+r*+l[t+200>>2];I=I*+l[t+172>>2]+n*+l[t+188>>2]+r*+l[t+204>>2];l[t+260>>2]=A;l[t+264>>2]=E;l[t+268>>2]=I;l[t+272>>2]=0.0;l[t+276>>2]=T-A;l[t+280>>2]=L-E;l[t+284>>2]=R-I;l[t+288>>2]=0.0;s=o[t>>2]|0;do{if((s|0)>3){e=i[t+332>>0]|0;if(!(e&8)){o[t>>2]=s+-1;D=t+4+(s+-1<<4)|0;o[t+52>>2]=o[D>>2];o[t+52+4>>2]=o[D+4>>2];o[t+52+8>>2]=o[D+8>>2];o[t+52+12>>2]=o[D+12>>2];D=t+84+(s+-1<<4)|0;o[t+132>>2]=o[D>>2];o[t+132+4>>2]=o[D+4>>2];o[t+132+8>>2]=o[D+8>>2];o[t+132+12>>2]=o[D+12>>2];D=t+164+(s+-1<<4)|0;o[t+212>>2]=o[D>>2];o[t+212+4>>2]=o[D+4>>2];o[t+212+8>>2]=o[D+8>>2];o[t+212+12>>2]=o[D+12>>2];s=s+-1|0;D=21}else D=21}else{if((s|0)>2){e=i[t+332>>0]|0;s=3;D=21;break}if((s|0)>1){e=i[t+332>>0]|0;s=2;D=25;break}if((s|0)>0){d=i[t+332>>0]|0;f=1;D=29}}}while(0);if((D|0)==21)if(!(e&4)){s=s+-1|0;o[t>>2]=s;o[t+36>>2]=o[t+4+(s<<4)>>2];o[t+36+4>>2]=o[t+4+(s<<4)+4>>2];o[t+36+8>>2]=o[t+4+(s<<4)+8>>2];o[t+36+12>>2]=o[t+4+(s<<4)+12>>2];o[t+116>>2]=o[t+84+(s<<4)>>2];o[t+116+4>>2]=o[t+84+(s<<4)+4>>2];o[t+116+8>>2]=o[t+84+(s<<4)+8>>2];o[t+116+12>>2]=o[t+84+(s<<4)+12>>2];o[t+196>>2]=o[t+164+(s<<4)>>2];o[t+196+4>>2]=o[t+164+(s<<4)+4>>2];o[t+196+8>>2]=o[t+164+(s<<4)+8>>2];o[t+196+12>>2]=o[t+164+(s<<4)+12>>2];D=25}else D=25;if((D|0)==25)if(!(e&2)){f=s+-1|0;o[t>>2]=f;o[t+20>>2]=o[t+4+(f<<4)>>2];o[t+20+4>>2]=o[t+4+(f<<4)+4>>2];o[t+20+8>>2]=o[t+4+(f<<4)+8>>2];o[t+20+12>>2]=o[t+4+(f<<4)+12>>2];o[t+100>>2]=o[t+84+(f<<4)>>2];o[t+100+4>>2]=o[t+84+(f<<4)+4>>2];o[t+100+8>>2]=o[t+84+(f<<4)+8>>2];o[t+100+12>>2]=o[t+84+(f<<4)+12>>2];o[t+180>>2]=o[t+164+(f<<4)>>2];o[t+180+4>>2]=o[t+164+(f<<4)+4>>2];o[t+180+8>>2]=o[t+164+(f<<4)+8>>2];o[t+180+12>>2]=o[t+164+(f<<4)+12>>2];d=e;D=29}else{d=e;f=s;D=29}if((D|0)==29?(d&1)==0:0){D=f+-1|0;o[t>>2]=D;o[t+4>>2]=o[t+4+(D<<4)>>2];o[t+4+4>>2]=o[t+4+(D<<4)+4>>2];o[t+4+8>>2]=o[t+4+(D<<4)+8>>2];o[t+4+12>>2]=o[t+4+(D<<4)+12>>2];o[t+84>>2]=o[t+84+(D<<4)>>2];o[t+84+4>>2]=o[t+84+(D<<4)+4>>2];o[t+84+8>>2]=o[t+84+(D<<4)+8>>2];o[t+84+12>>2]=o[t+84+(D<<4)+12>>2];o[t+164>>2]=o[t+164+(D<<4)>>2];o[t+164+4>>2]=o[t+164+(D<<4)+4>>2];o[t+164+8>>2]=o[t+164+(D<<4)+8>>2];o[t+164+12>>2]=o[t+164+(D<<4)+12>>2]}if((n>=0.0?!(+l[t+336>>2]>=0.0):1)|!(r>=0.0))e=0;else e=+l[t+348>>2]>=0.0&1;i[t+312>>0]=e;t=e;t=t<<24>>24!=0;h=k;return t|0}case 4:{o[k>>2]=0;o[k+4>>2]=0;o[k+8>>2]=0;o[k+12>>2]=0;m=k+16+16|0;i[m>>0]=0;o[t+316>>2]=0;o[t+316+4>>2]=0;o[t+316+8>>2]=0;o[t+316+12>>2]=0;i[t+332>>0]=s|15;N=+l[t+20>>2];H=+l[t+4>>2];G=+l[t+24>>2];O=+l[t+8>>2];B=+l[t+28>>2];X=+l[t+12>>2];z=+l[t+36>>2];V=+l[t+40>>2];j=+l[t+44>>2];F=+l[t+52>>2];W=+l[t+56>>2];U=+l[t+60>>2];q=((G-O)*(j-X)-(B-X)*(V-O))*(F-H)+((B-X)*(z-H)-(N-H)*(j-X))*(W-O)+((N-H)*(V-O)-(G-O)*(z-H))*(U-X);s=q*q<9.99999905104687e-09?-1:((0.0-H)*((G-O)*(j-X)-(B-X)*(V-O))+(0.0-O)*((B-X)*(z-H)-(N-H)*(j-X))+((N-H)*(V-O)-(G-O)*(z-H))*(0.0-X))*q<0.0&1;q=(B-X)*((z-H)*(W-O)-(V-O)*(F-H))+((N-H)*((V-O)*(U-X)-(j-X)*(W-O))+(G-O)*((j-X)*(F-H)-(z-H)*(U-X)));f=q*q<9.99999905104687e-09?-1:((0.0-X)*((z-H)*(W-O)-(V-O)*(F-H))+((0.0-H)*((V-O)*(U-X)-(j-X)*(W-O))+(0.0-O)*((j-X)*(F-H)-(z-H)*(U-X))))*q<0.0&1;q=(j-X)*((G-O)*(F-H)-(N-H)*(W-O))+((z-H)*((B-X)*(W-O)-(G-O)*(U-X))+(V-O)*((N-H)*(U-X)-(B-X)*(F-H)));d=q*q<9.99999905104687e-09?-1:((0.0-X)*((G-O)*(F-H)-(N-H)*(W-O))+((0.0-H)*((B-X)*(W-O)-(G-O)*(U-X))+(0.0-O)*((N-H)*(U-X)-(B-X)*(F-H))))*q<0.0&1;O=(X-B)*((V-G)*(F-N)-(z-N)*(W-G))+((H-N)*((j-B)*(W-G)-(V-G)*(U-B))+(O-G)*((z-N)*(U-B)-(j-B)*(F-N)));_=O*O<9.99999905104687e-09?-1:((0.0-B)*((V-G)*(F-N)-(z-N)*(W-G))+((0.0-N)*((j-B)*(W-G)-(V-G)*(U-B))+(0.0-G)*((z-N)*(U-B)-(j-B)*(F-N))))*O<0.0&1;do{if((f|s|d|_|0)<0){i[t+352>>0]=1;e=t+312|0;D=70}else{if(!(f|s|d|_)){if(i[t+352>>0]|0){e=t+312|0;D=70;break}i[t+312>>0]=1;o[t+276>>2]=0;o[t+276+4>>2]=0;o[t+276+8>>2]=0;o[t+276+12>>2]=0;e=1;break}if((s|0)!=0?(tA(k,t+4|0,t+20|0,t+36|0,k+16|0),n=+l[k+16>>2],r=+l[k+16+4>>2],a=+l[k+16+8>>2],c=n-+l[k>>2],u=r-+l[k+4>>2],p=a-+l[k+8>>2],c*c+u*u+p*p<3402823466385288598117041.0e14):0){Y=o[k+16+12>>2]|0;l[t+316>>2]=n;l[t+320>>2]=r;l[t+324>>2]=a;o[t+328>>2]=Y;Y=i[m>>0]|0;i[t+332>>0]=Y&1|i[t+332>>0]&-16|Y&2|Y&4;Y=o[k+16+24>>2]|0;s=o[k+16+28>>2]|0;o[t+336>>2]=o[k+16+20>>2];o[t+340>>2]=Y;o[t+344>>2]=s;l[t+348>>2]=0.0;n=c*c+u*u+p*p}else n=3402823466385288598117041.0e14;if((f|0)!=0?(tA(k,t+4|0,t+36|0,t+52|0,k+16|0),g=+l[k+16>>2],b=+l[k+16+4>>2],v=+l[k+16+8>>2],y=g-+l[k>>2],x=b-+l[k+4>>2],w=v-+l[k+8>>2],y*y+x*x+w*w<n):0){f=o[k+16+12>>2]|0;l[t+316>>2]=g;l[t+320>>2]=b;l[t+324>>2]=v;o[t+328>>2]=f;f=i[m>>0]|0;i[t+332>>0]=f<<1&8|(f&1|i[t+332>>0]&-16|f<<1&4);f=o[k+16+24>>2]|0;Y=o[k+16+28>>2]|0;o[t+336>>2]=o[k+16+20>>2];l[t+340>>2]=0.0;o[t+344>>2]=f;o[t+348>>2]=Y;n=y*y+x*x+w*w}if((d|0)!=0?(tA(k,t+4|0,t+52|0,t+20|0,k+16|0),S=+l[k+16>>2],M=+l[k+16+4>>2],C=+l[k+16+8>>2],T=S-+l[k>>2],A=M-+l[k+4>>2],L=C-+l[k+8>>2],T*T+A*A+L*L<n):0){d=o[k+16+12>>2]|0;l[t+316>>2]=S;l[t+320>>2]=M;l[t+324>>2]=C;o[t+328>>2]=d;d=i[m>>0]|0;i[t+332>>0]=d<<2&8|(d&1|i[t+332>>0]&-16|(d&255)>>>1&2);d=o[k+16+28>>2]|0;Y=o[k+16+24>>2]|0;o[t+336>>2]=o[k+16+20>>2];o[t+340>>2]=d;l[t+344>>2]=0.0;o[t+348>>2]=Y;n=T*T+A*A+L*L}if(_|0?(tA(k,t+20|0,t+52|0,t+36|0,k+16|0),E=+l[k+16>>2],R=+l[k+16+4>>2],I=+l[k+16+8>>2],H=E-+l[k>>2],X=R-+l[k+4>>2],q=I-+l[k+8>>2],H*H+X*X+q*q<n):0){_=o[k+16+12>>2]|0;l[t+316>>2]=E;l[t+320>>2]=R;l[t+324>>2]=I;o[t+328>>2]=_;_=i[m>>0]|0;i[t+332>>0]=_&4|i[t+332>>0]&-16|_<<1&2|_<<2&8;_=o[k+16+20>>2]|0;m=o[k+16+28>>2]|0;Y=o[k+16+24>>2]|0;l[t+336>>2]=0.0;o[t+340>>2]=_;o[t+344>>2]=m;o[t+348>>2]=Y}U=+l[t+336>>2];z=+l[t+340>>2];q=+l[t+344>>2];n=+l[t+348>>2];G=+l[t+84>>2]*U+ +l[t+100>>2]*z+ +l[t+116>>2]*q+ +l[t+132>>2]*n;W=U*+l[t+88>>2]+z*+l[t+104>>2]+q*+l[t+120>>2]+n*+l[t+136>>2];X=U*+l[t+92>>2]+z*+l[t+108>>2]+q*+l[t+124>>2]+n*+l[t+140>>2];l[t+244>>2]=G;l[t+248>>2]=W;l[t+252>>2]=X;l[t+256>>2]=0.0;V=+l[t+164>>2]*U+ +l[t+180>>2]*z+ +l[t+196>>2]*q+ +l[t+212>>2]*n;H=U*+l[t+168>>2]+z*+l[t+184>>2]+q*+l[t+200>>2]+n*+l[t+216>>2];q=U*+l[t+172>>2]+z*+l[t+188>>2]+q*+l[t+204>>2]+n*+l[t+220>>2];l[t+260>>2]=V;l[t+264>>2]=H;l[t+268>>2]=q;l[t+272>>2]=0.0;l[t+276>>2]=G-V;l[t+280>>2]=W-H;l[t+284>>2]=X-q;l[t+288>>2]=0.0;s=o[t>>2]|0;do{if((s|0)>3){e=i[t+332>>0]|0;if(!(e&8)){o[t>>2]=s+-1;D=t+4+(s+-1<<4)|0;o[t+52>>2]=o[D>>2];o[t+52+4>>2]=o[D+4>>2];o[t+52+8>>2]=o[D+8>>2];o[t+52+12>>2]=o[D+12>>2];D=t+84+(s+-1<<4)|0;o[t+132>>2]=o[D>>2];o[t+132+4>>2]=o[D+4>>2];o[t+132+8>>2]=o[D+8>>2];o[t+132+12>>2]=o[D+12>>2];D=t+164+(s+-1<<4)|0;o[t+212>>2]=o[D>>2];o[t+212+4>>2]=o[D+4>>2];o[t+212+8>>2]=o[D+8>>2];o[t+212+12>>2]=o[D+12>>2];s=s+-1|0;D=54}else D=54}else{if((s|0)>2){e=i[t+332>>0]|0;s=3;D=54;break}if((s|0)>1){e=i[t+332>>0]|0;s=2;D=58;break}if((s|0)>0){e=i[t+332>>0]|0;P=1;D=62}}}while(0);if((D|0)==54)if(!(e&4)){s=s+-1|0;o[t>>2]=s;o[t+36>>2]=o[t+4+(s<<4)>>2];o[t+36+4>>2]=o[t+4+(s<<4)+4>>2];o[t+36+8>>2]=o[t+4+(s<<4)+8>>2];o[t+36+12>>2]=o[t+4+(s<<4)+12>>2];o[t+116>>2]=o[t+84+(s<<4)>>2];o[t+116+4>>2]=o[t+84+(s<<4)+4>>2];o[t+116+8>>2]=o[t+84+(s<<4)+8>>2];o[t+116+12>>2]=o[t+84+(s<<4)+12>>2];o[t+196>>2]=o[t+164+(s<<4)>>2];o[t+196+4>>2]=o[t+164+(s<<4)+4>>2];o[t+196+8>>2]=o[t+164+(s<<4)+8>>2];o[t+196+12>>2]=o[t+164+(s<<4)+12>>2];D=58}else D=58;if((D|0)==58)if(!(e&2)){P=s+-1|0;o[t>>2]=P;o[t+20>>2]=o[t+4+(P<<4)>>2];o[t+20+4>>2]=o[t+4+(P<<4)+4>>2];o[t+20+8>>2]=o[t+4+(P<<4)+8>>2];o[t+20+12>>2]=o[t+4+(P<<4)+12>>2];o[t+100>>2]=o[t+84+(P<<4)>>2];o[t+100+4>>2]=o[t+84+(P<<4)+4>>2];o[t+100+8>>2]=o[t+84+(P<<4)+8>>2];o[t+100+12>>2]=o[t+84+(P<<4)+12>>2];o[t+180>>2]=o[t+164+(P<<4)>>2];o[t+180+4>>2]=o[t+164+(P<<4)+4>>2];o[t+180+8>>2]=o[t+164+(P<<4)+8>>2];o[t+180+12>>2]=o[t+164+(P<<4)+12>>2];D=62}else{P=s;D=62}if((D|0)==62?(e&1)==0:0){Y=P+-1|0;o[t>>2]=Y;o[t+4>>2]=o[t+4+(Y<<4)>>2];o[t+4+4>>2]=o[t+4+(Y<<4)+4>>2];o[t+4+8>>2]=o[t+4+(Y<<4)+8>>2];o[t+4+12>>2]=o[t+4+(Y<<4)+12>>2];o[t+84>>2]=o[t+84+(Y<<4)>>2];o[t+84+4>>2]=o[t+84+(Y<<4)+4>>2];o[t+84+8>>2]=o[t+84+(Y<<4)+8>>2];o[t+84+12>>2]=o[t+84+(Y<<4)+12>>2];o[t+164>>2]=o[t+164+(Y<<4)>>2];o[t+164+4>>2]=o[t+164+(Y<<4)+4>>2];o[t+164+8>>2]=o[t+164+(Y<<4)+8>>2];o[t+164+12>>2]=o[t+164+(Y<<4)+12>>2]}if((+l[t+336>>2]>=0.0?+l[t+340>>2]>=0.0:0)?+l[t+344>>2]>=0.0:0)e=n>=0.0&1;else e=0;i[t+312>>0]=e}}while(0);if((D|0)==70){i[e>>0]=0;e=0}Y=e;Y=Y<<24>>24!=0;h=k;return Y|0}default:{i[t+312>>0]=0;Y=0;Y=Y<<24>>24!=0;h=k;return Y|0}}return 0}function xx(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;var s=0.0,a=0.0,c=0,u=0.0,p=0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0,I=0,P=0,D=0,k=0,O=0,N=0,F=0,B=0.0,j=0.0,U=0,z=0.0,W=0.0,H=0.0,X=0.0,q=0,Y=0.0,Z=0,J=0.0,$=0,Q=0.0,tt=0.0,et=0.0,nt=0.0,it=0,rt=0,ot=0.0,st=0,at=0.0,ct=0.0,lt=0.0,ut=0.0,ht=0.0,pt=0.0,ft=0.0,dt=0.0,_t=0.0,mt=0.0,gt=0.0,bt=0.0,vt=0.0,yt=0.0,xt=0.0,wt=0.0,St=0.0,Mt=0.0,Ct=0.0,Tt=0,At=0,Lt=0,Et=0.0,Rt=0.0,It=0;It=h;h=h+592|0;o[It+48>>2]=o[e>>2];o[It>>2]=o[e+64>>2];R=It+48+4|0;o[R>>2]=o[e+4>>2];o[It+4>>2]=o[e+68>>2];o[It+48+8>>2]=o[e+8>>2];o[It+8>>2]=o[e+72>>2];o[It+48+16>>2]=o[e+16>>2];o[It+16>>2]=o[e+80>>2];o[It+48+20>>2]=o[e+20>>2];o[It+20>>2]=o[e+84>>2];o[It+48+24>>2]=o[e+24>>2];o[It+24>>2]=o[e+88>>2];o[It+48+32>>2]=o[e+32>>2];o[It+32>>2]=o[e+96>>2];o[It+48+36>>2]=o[e+36>>2];o[It+36>>2]=o[e+100>>2];o[It+48+40>>2]=o[e+40>>2];o[It+40>>2]=o[e+104>>2];Lt=o[t+4>>2]|0;ct=+l[Lt+32>>2];lt=+l[Lt+36>>2];pt=+l[Lt+40>>2];ut=+wk[o[(o[Lt>>2]|0)+48>>2]&15](Lt);ht=+wk[o[(o[Lt>>2]|0)+48>>2]&15](Lt);pt=(pt+ +wk[o[(o[Lt>>2]|0)+48>>2]&15](Lt))*2.0;Lt=o[t+8>>2]|0;mt=+l[Lt+32>>2];gt=+l[Lt+36>>2];wt=+l[Lt+40>>2];bt=+wk[o[(o[Lt>>2]|0)+48>>2]&15](Lt);_t=+wk[o[(o[Lt>>2]|0)+48>>2]&15](Lt);wt=(wt+ +wk[o[(o[Lt>>2]|0)+48>>2]&15](Lt))*2.0;E=+l[e+112>>2]-+l[e+48>>2];B=+l[e+116>>2]-+l[e+52>>2];j=+l[e+120>>2]-+l[e+56>>2];nt=+l[It+48>>2];tt=+l[It+48+16>>2];et=+l[It+48+32>>2];Q=+l[R>>2];Y=+l[It+48+20>>2];J=+l[It+48+36>>2];ot=+l[It+48+8>>2];at=+l[It+48+24>>2];ft=+l[It+48+40>>2];l[It+484>>2]=(ct+ut)*2.0*.5;l[It+484+4>>2]=(lt+ht)*2.0*.5;l[It+484+8>>2]=pt*.5;l[It+472>>2]=(mt+bt)*2.0*.5;l[It+472+4>>2]=(gt+_t)*2.0*.5;l[It+472+8>>2]=wt*.5;Ct=+l[It>>2];vt=+l[It+16>>2];xt=+l[It+32>>2];Mt=+l[It+4>>2];dt=+l[It+20>>2];yt=+l[It+36>>2];St=+l[It+8>>2];Et=+l[It+24>>2];Rt=+l[It+40>>2];M=+G(+(nt*Ct+tt*vt+et*xt));T=+G(+(nt*Mt+tt*dt+et*yt));z=+G(+(nt*St+tt*Et+et*Rt));C=+G(+(Ct*Q+vt*Y+xt*J));A=+G(+(Mt*Q+dt*Y+yt*J));W=+G(+(St*Q+Et*Y+Rt*J));H=+G(+(Ct*ot+vt*at+xt*ft));X=+G(+(Mt*ot+dt*at+yt*ft));L=+G(+(St*ot+Et*at+Rt*ft));s=+G(+(E*nt+B*tt+j*et))-(wt*.5*z+((ct+ut)*2.0*.5+M*((mt+bt)*2.0*.5)+T*((gt+_t)*2.0*.5)));if(s>0.0){h=It;return}if(s>-3402823466385288598117041.0e14){p=1;c=E*nt+B*tt+j*et<0.0&1;i=It+48|0}else{p=0;c=0;i=0;s=-3402823466385288598117041.0e14}a=+G(+(E*Q+B*Y+j*J))-((lt+ht)*2.0*.5+C*((mt+bt)*2.0*.5)+A*((gt+_t)*2.0*.5)+W*(wt*.5));if(a>0.0){h=It;return}if(a>s){p=2;c=E*Q+B*Y+j*J<0.0&1;i=R;s=a}a=+G(+(E*ot+B*at+j*ft))-(pt*.5+H*((mt+bt)*2.0*.5)+X*((gt+_t)*2.0*.5)+L*(wt*.5));if(a>0.0){h=It;return}if(a>s){p=3;c=E*ot+B*at+j*ft<0.0&1;i=It+48+8|0;s=a}a=+G(+(E*Ct+B*vt+j*xt))-((mt+bt)*2.0*.5+(M*((ct+ut)*2.0*.5)+C*((lt+ht)*2.0*.5)+H*(pt*.5)));if(a>0.0){h=It;return}if(a>s){p=4;c=E*Ct+B*vt+j*xt<0.0&1;i=It;s=a}a=+G(+(E*Mt+B*dt+j*yt))-((gt+_t)*2.0*.5+(T*((ct+ut)*2.0*.5)+A*((lt+ht)*2.0*.5)+X*(pt*.5)));if(a>0.0){h=It;return}if(a>s){p=5;c=E*Mt+B*dt+j*yt<0.0&1;i=It+4|0}else a=s;s=+G(+(E*St+B*Et+j*Rt))-(wt*.5+(z*((ct+ut)*2.0*.5)+W*((lt+ht)*2.0*.5)+L*(pt*.5)));if(s>0.0){h=It;return}if(s>a){p=6;c=E*St+B*Et+j*Rt<0.0&1;y=It+8|0}else{y=i;s=a}a=(E*ot+B*at+j*ft)*(Ct*Q+vt*Y+xt*J)-(E*Q+B*Y+j*J)*(Ct*ot+vt*at+xt*ft);u=+G(+a)-((H+9.999999747378752e-06)*((lt+ht)*2.0*.5)+(C+9.999999747378752e-06)*(pt*.5)+(z+9.999999747378752e-06)*((gt+_t)*2.0*.5)+(T+9.999999747378752e-06)*(wt*.5));if(u>1.1920928955078125e-07){h=It;return}_=(Ct*ot+vt*at+xt*ft)*(Ct*ot+vt*at+xt*ft)+0.0;x=(Ct*Q+vt*Y+xt*J)*(Ct*Q+vt*Y+xt*J);d=+V(+(x+_));if(d>1.1920928955078125e-07?u/d*1.0499999523162842>s:0){t=(l[f>>2]=0.0/d,o[f>>2]|0);r=(l[f>>2]=-(Ct*ot+vt*at+xt*ft)/d,o[f>>2]|0);p=7;c=a<0.0&1;i=(l[f>>2]=(Ct*Q+vt*Y+xt*J)/d,o[f>>2]|0);y=0;s=u/d}else{t=0;r=0;i=0}a=(E*ot+B*at+j*ft)*(Mt*Q+dt*Y+yt*J)-(E*Q+B*Y+j*J)*(Mt*ot+dt*at+yt*ft);u=+G(+a)-((X+9.999999747378752e-06)*((lt+ht)*2.0*.5)+(A+9.999999747378752e-06)*(pt*.5)+(z+9.999999747378752e-06)*((mt+bt)*2.0*.5)+(M+9.999999747378752e-06)*(wt*.5));if(u>1.1920928955078125e-07){h=It;return}m=(Mt*ot+dt*at+yt*ft)*(Mt*ot+dt*at+yt*ft)+0.0;w=(Mt*Q+dt*Y+yt*J)*(Mt*Q+dt*Y+yt*J);d=+V(+(w+m));if(d>1.1920928955078125e-07?u/d*1.0499999523162842>s:0){t=(l[f>>2]=0.0/d,o[f>>2]|0);r=(l[f>>2]=-(Mt*ot+dt*at+yt*ft)/d,o[f>>2]|0);p=8;c=a<0.0&1;i=(l[f>>2]=(Mt*Q+dt*Y+yt*J)/d,o[f>>2]|0);y=0;s=u/d}a=(E*ot+B*at+j*ft)*(St*Q+Et*Y+Rt*J)-(E*Q+B*Y+j*J)*(St*ot+Et*at+Rt*ft);u=+G(+a)-((L+9.999999747378752e-06)*((lt+ht)*2.0*.5)+(W+9.999999747378752e-06)*(pt*.5)+(T+9.999999747378752e-06)*((mt+bt)*2.0*.5)+(M+9.999999747378752e-06)*((gt+_t)*2.0*.5));if(u>1.1920928955078125e-07){h=It;return}b=(St*ot+Et*at+Rt*ft)*(St*ot+Et*at+Rt*ft)+0.0;S=(St*Q+Et*Y+Rt*J)*(St*Q+Et*Y+Rt*J);d=+V(+(S+b));if(d>1.1920928955078125e-07?u/d*1.0499999523162842>s:0){t=(l[f>>2]=0.0/d,o[f>>2]|0);r=(l[f>>2]=-(St*ot+Et*at+Rt*ft)/d,o[f>>2]|0);p=9;c=a<0.0&1;i=(l[f>>2]=(St*Q+Et*Y+Rt*J)/d,o[f>>2]|0);y=0;s=u/d}a=(E*nt+B*tt+j*et)*(Ct*ot+vt*at+xt*ft)-(E*ot+B*at+j*ft)*(nt*Ct+tt*vt+et*xt);d=+G(+a)-((H+9.999999747378752e-06)*((ct+ut)*2.0*.5)+(M+9.999999747378752e-06)*(pt*.5)+(W+9.999999747378752e-06)*((gt+_t)*2.0*.5)+(A+9.999999747378752e-06)*(wt*.5));if(d>1.1920928955078125e-07){h=It;return}v=(nt*Ct+tt*vt+et*xt)*(nt*Ct+tt*vt+et*xt);u=+V(+(v+_));do{if(u>1.1920928955078125e-07){if(!(d/u*1.0499999523162842>s))break;t=(l[f>>2]=(Ct*ot+vt*at+xt*ft)/u,o[f>>2]|0);r=(l[f>>2]=0.0/u,o[f>>2]|0);p=10;c=a<0.0&1;i=(l[f>>2]=-(nt*Ct+tt*vt+et*xt)/u,o[f>>2]|0);y=0;s=d/u}}while(0);a=(E*nt+B*tt+j*et)*(Mt*ot+dt*at+yt*ft)-(E*ot+B*at+j*ft)*(nt*Mt+tt*dt+et*yt);d=+G(+a)-((X+9.999999747378752e-06)*((ct+ut)*2.0*.5)+(T+9.999999747378752e-06)*(pt*.5)+(W+9.999999747378752e-06)*((mt+bt)*2.0*.5)+(C+9.999999747378752e-06)*(wt*.5));if(d>1.1920928955078125e-07){h=It;return}g=(nt*Mt+tt*dt+et*yt)*(nt*Mt+tt*dt+et*yt);u=+V(+(g+m));do{if(u>1.1920928955078125e-07){if(!(d/u*1.0499999523162842>s))break;t=(l[f>>2]=(Mt*ot+dt*at+yt*ft)/u,o[f>>2]|0);r=(l[f>>2]=0.0/u,o[f>>2]|0);p=11;c=a<0.0&1;i=(l[f>>2]=-(nt*Mt+tt*dt+et*yt)/u,o[f>>2]|0);y=0;s=d/u}}while(0);a=(E*nt+B*tt+j*et)*(St*ot+Et*at+Rt*ft)-(E*ot+B*at+j*ft)*(nt*St+tt*Et+et*Rt);d=+G(+a)-((L+9.999999747378752e-06)*((ct+ut)*2.0*.5)+(z+9.999999747378752e-06)*(pt*.5)+(A+9.999999747378752e-06)*((mt+bt)*2.0*.5)+(C+9.999999747378752e-06)*((gt+_t)*2.0*.5));if(d>1.1920928955078125e-07){h=It;return}_=(nt*St+tt*Et+et*Rt)*(nt*St+tt*Et+et*Rt);u=+V(+(_+b));do{if(u>1.1920928955078125e-07){if(!(d/u*1.0499999523162842>s))break;t=(l[f>>2]=(St*ot+Et*at+Rt*ft)/u,o[f>>2]|0);r=(l[f>>2]=0.0/u,o[f>>2]|0);p=12;c=a<0.0&1;i=(l[f>>2]=-(nt*St+tt*Et+et*Rt)/u,o[f>>2]|0);y=0;s=d/u}}while(0);a=(E*Q+B*Y+j*J)*(nt*Ct+tt*vt+et*xt)-(E*nt+B*tt+j*et)*(Ct*Q+vt*Y+xt*J);d=+G(+a)-((C+9.999999747378752e-06)*((ct+ut)*2.0*.5)+(M+9.999999747378752e-06)*((lt+ht)*2.0*.5)+(L+9.999999747378752e-06)*((gt+_t)*2.0*.5)+(X+9.999999747378752e-06)*(wt*.5));if(d>1.1920928955078125e-07){h=It;return}u=+V(+(v+x+0.0));do{if(u>1.1920928955078125e-07){if(!(d/u*1.0499999523162842>s))break;t=(l[f>>2]=-(Ct*Q+vt*Y+xt*J)/u,o[f>>2]|0);r=(l[f>>2]=(nt*Ct+tt*vt+et*xt)/u,o[f>>2]|0);p=13;c=a<0.0&1;i=(l[f>>2]=0.0/u,o[f>>2]|0);y=0;s=d/u}}while(0);a=(E*Q+B*Y+j*J)*(nt*Mt+tt*dt+et*yt)-(E*nt+B*tt+j*et)*(Mt*Q+dt*Y+yt*J);d=+G(+a)-((A+9.999999747378752e-06)*((ct+ut)*2.0*.5)+(T+9.999999747378752e-06)*((lt+ht)*2.0*.5)+(L+9.999999747378752e-06)*((mt+bt)*2.0*.5)+(H+9.999999747378752e-06)*(wt*.5));if(d>1.1920928955078125e-07){h=It;return}u=+V(+(g+w+0.0));do{if(u>1.1920928955078125e-07){if(!(d/u*1.0499999523162842>s))break;t=(l[f>>2]=-(Mt*Q+dt*Y+yt*J)/u,o[f>>2]|0);r=(l[f>>2]=(nt*Mt+tt*dt+et*yt)/u,o[f>>2]|0);p=14;c=a<0.0&1;i=(l[f>>2]=0.0/u,o[f>>2]|0);y=0;s=d/u}}while(0);u=(E*Q+B*Y+j*J)*(nt*St+tt*Et+et*Rt)-(E*nt+B*tt+j*et)*(St*Q+Et*Y+Rt*J);d=+G(+u)-((W+9.999999747378752e-06)*((ct+ut)*2.0*.5)+(z+9.999999747378752e-06)*((lt+ht)*2.0*.5)+(X+9.999999747378752e-06)*((mt+bt)*2.0*.5)+(H+9.999999747378752e-06)*((gt+_t)*2.0*.5));if(d>1.1920928955078125e-07){h=It;return}a=+V(+(_+S+0.0));do{if(a>1.1920928955078125e-07){if(!(d/a*1.0499999523162842>s)){Tt=55;break}t=(l[f>>2]=-(St*Q+Et*Y+Rt*J)/a,o[f>>2]|0);r=(l[f>>2]=(nt*St+tt*Et+et*Rt)/a,o[f>>2]|0);p=15;c=u<0.0&1;i=(l[f>>2]=0.0/a,o[f>>2]|0);s=d/a;Tt=58}else Tt=55}while(0);do{if((Tt|0)==55){if(!p){h=It;return}if(!y){Tt=58;break}i=o[y>>2]|0;t=o[y+16>>2]|0;Lt=o[y+32>>2]|0;a=(o[f>>2]=i,+l[f>>2]);u=(o[f>>2]=t,+l[f>>2]);d=(o[f>>2]=Lt,+l[f>>2]);r=c;c=Lt;E=s}}while(0);if((Tt|0)==58){nt=(o[f>>2]=t,+l[f>>2]);d=(o[f>>2]=r,+l[f>>2]);E=(o[f>>2]=i,+l[f>>2]);a=nt*+l[It+48>>2]+d*+l[R>>2]+E*ot;i=(l[f>>2]=a,o[f>>2]|0);u=nt*+l[It+48+16>>2]+d*+l[It+48+20>>2]+E*at;t=(l[f>>2]=u,o[f>>2]|0);E=nt*+l[It+48+32>>2]+d*+l[It+48+36>>2]+E*ft;d=E;r=c;c=(l[f>>2]=E,o[f>>2]|0);E=s}if(!r){At=t;Lt=c}else{i=(l[f>>2]=-a,o[f>>2]|0);At=(l[f>>2]=-u,o[f>>2]|0);Lt=(l[f>>2]=-d,o[f>>2]|0)}if((p|0)>6){L=(o[f>>2]=i,+l[f>>2]);A=(o[f>>2]=At,+l[f>>2]);T=(o[f>>2]=Lt,+l[f>>2]);a=+l[It+48>>2];v=+l[It+48+16>>2];w=+l[It+48+32>>2];x=(L*a+A*v+T*w>0.0?1.0:-1.0)*((ct+ut)*2.0*.5);C=+l[R>>2];M=+l[It+48+20>>2];s=+l[It+48+36>>2];b=(L*C+A*M+T*s>0.0?1.0:-1.0)*((lt+ht)*2.0*.5);S=(L*ot+A*at+T*ft>0.0?1.0:-1.0)*(pt*.5);C=+l[e+48>>2]+x*a+b*C+S*ot;M=+l[e+52>>2]+x*v+b*M+S*at;S=+l[e+56>>2]+x*w+b*s+S*ft;o[It+528>>2]=o[e+112>>2];o[It+528+4>>2]=o[e+112+4>>2];o[It+528+8>>2]=o[e+112+8>>2];s=(L*Ct+A*vt+T*xt>0.0?-1.0:1.0)*((mt+bt)*2.0*.5);b=(L*Mt+A*dt+T*yt>0.0?-1.0:1.0)*((gt+_t)*2.0*.5);w=+l[It+528+4>>2]+s*vt+b*dt;x=+l[It+528+8>>2]+s*xt+b*yt;v=(L*St+A*Et+T*Rt>0.0?-1.0:1.0)*(wt*.5);b=+l[It+528>>2]+s*Ct+b*Mt+v*St;l[It+528>>2]=b;l[It+528+4>>2]=w+v*Et;l[It+528+8>>2]=x+v*Rt;Lt=p+-7|0;s=+l[It+48+(((Lt|0)/3|0)<<2)>>2];a=+l[It+48+(((Lt|0)/3|0)+4<<2)>>2];u=+l[It+48+(((Lt|0)/3|0)+8<<2)>>2];_=+l[It+(((Lt|0)%3|0)<<2)>>2];m=+l[It+(((Lt|0)%3|0)+4<<2)>>2];g=+l[It+(((Lt|0)%3|0)+8<<2)>>2];d=1.0-(s*_+a*m+u*g)*(s*_+a*m+u*g);if(!(d<=9.999999747378752e-05))s=(((b-C)*s+(w+v*Et-M)*a+(x+v*Rt-S)*u)*(s*_+a*m+u*g)-((b-C)*_+(w+v*Et-M)*m+(x+v*Rt-S)*g))*(1.0/d);else s=0.0;l[It+528>>2]=b+s*_;l[It+528+4>>2]=w+v*Et+s*m;l[It+528+8>>2]=x+v*Rt+s*g;Lt=o[(o[n>>2]|0)+16>>2]|0;l[It+456>>2]=-L;l[It+456+4>>2]=-A;l[It+456+8>>2]=-T;l[It+456+12>>2]=0.0;jk[Lt&15](n,It+456|0,It+528|0,E);h=It;return}it=(p|0)<4;ot=(o[f>>2]=i,+l[f>>2]);if(it){c=It+48|0;$=It;U=It+484|0;y=It+472|0;nt=ot;r=Lt;i=At;st=e+48|0;t=e+112|0}else{i=(l[f>>2]=-(o[f>>2]=At,+l[f>>2]),o[f>>2]|0);c=It;$=It+48|0;U=It+472|0;y=It+484|0;nt=-ot;r=(l[f>>2]=-(o[f>>2]=Lt,+l[f>>2]),o[f>>2]|0);st=e+112|0;t=e+48|0}et=(o[f>>2]=i,+l[f>>2]);tt=(o[f>>2]=r,+l[f>>2]);s=nt*+l[$>>2]+et*+l[$+16>>2]+tt*+l[$+32>>2];l[It+440>>2]=s;a=nt*+l[$+4>>2]+et*+l[$+20>>2]+tt*+l[$+36>>2];l[It+440+4>>2]=a;_=nt*+l[$+8>>2]+et*+l[$+24>>2]+tt*+l[$+40>>2];l[It+440+8>>2]=_;s=+G(+s);a=+G(+a);_=+G(+_);i=a>s?a>_?1:2:s>_?0:2;q=a>s?0:s>_&1;Z=(a>s?a>_:s>_)?2:1;_=+l[y+(i<<2)>>2];s=+l[t>>2]-+l[st>>2];a=_*+l[$+(i<<2)>>2];u=+l[t+4>>2];rt=st+4|0;d=+l[rt>>2];if(+l[It+440+(i<<2)>>2]<0.0){Q=s+a;J=u-d+_*+l[$+((i|4)<<2)>>2];Y=+l[t+8>>2]-+l[st+8>>2]+_*+l[$+((i|8)<<2)>>2]}else{Q=s-a;J=u-d-_*+l[$+((i|4)<<2)>>2];Y=+l[t+8>>2]-+l[st+8>>2]-_*+l[$+((i|8)<<2)>>2]}N=(it?-1:-4)+p|0;switch(N|0){case 0:{i=1;r=2;break}case 1:{i=0;r=2;break}default:{i=0;r=1}}O=c+(i<<2)|0;H=+l[O>>2];z=+l[O+16>>2];W=+l[O+32>>2];X=Q*H+J*z+Y*W;O=c+(r<<2)|0;B=+l[O>>2];T=+l[O+16>>2];A=+l[O+32>>2];j=Q*B+J*T+Y*A;O=$+(q<<2)|0;E=+l[O>>2];M=+l[O+16>>2];C=+l[O+32>>2];F=$+(Z<<2)|0;L=+l[F>>2];w=+l[F+16>>2];S=+l[F+32>>2];Et=+l[y+(q<<2)>>2];Rt=+l[y+(Z<<2)>>2];Ct=(H*L+z*w+W*S)*Rt;Rt=(B*L+T*w+A*S)*Rt;l[It+408>>2]=X-(H*E+z*M+W*C)*Et-Ct;l[It+408+4>>2]=j-(B*E+T*M+A*C)*Et-Rt;l[It+408+8>>2]=X-(H*E+z*M+W*C)*Et+Ct;l[It+408+12>>2]=j-(B*E+T*M+A*C)*Et+Rt;l[It+408+16>>2]=X+(H*E+z*M+W*C)*Et+Ct;l[It+408+20>>2]=j+(B*E+T*M+A*C)*Et+Rt;l[It+408+24>>2]=X+(H*E+z*M+W*C)*Et-Ct;l[It+408+28>>2]=j+(B*E+T*M+A*C)*Et-Rt;o[It+400>>2]=o[U+(i<<2)>>2];o[It+400+4>>2]=o[U+(r<<2)>>2];k=0;r=4;e=It+408|0;D=It+336|0;t:while(1){I=It+400+(k<<2)|0;P=1-k|0;do{if((r|0)>0){t=0;R=e;i=D;while(1){c=R+(k<<2)|0;s=+l[c>>2];a=+l[I>>2];if(a>-s){o[i>>2]=o[R>>2];o[i+4>>2]=o[R+4>>2];t=t+1|0;if(t&8|0){r=t;i=D;break t}s=+l[c>>2];a=+l[I>>2];p=i+8|0}else p=i;y=(r|0)>1;c=R;R=R+8|0;i=y?R:e;u=+l[i+(k<<2)>>2];if(a>-s^a>-u){Rt=+l[c+(P<<2)>>2];l[p+(P<<2)>>2]=Rt+(-a-s)*((+l[i+(P<<2)>>2]-Rt)/(u-s));l[p+(k<<2)>>2]=-+l[I>>2];i=t+1|0;if(!(i&8)){t=i;i=p+8|0}else{r=i;i=D;break t}}else i=p;if(!y)break;else r=r+-1|0}i=(D|0)==(It+336|0)?It+528|0:It+336|0;if((t|0)<=0){r=0;break}R=t;r=0;e=D;t=i;while(1){c=e+(k<<2)|0;s=+l[c>>2];a=+l[I>>2];if(s<a){o[t>>2]=o[e>>2];o[t+4>>2]=o[e+4>>2];r=r+1|0;if(r&8|0)break t;s=+l[c>>2];a=+l[I>>2];t=t+8|0}y=(R|0)>1;p=e;e=e+8|0;c=y?e:D;u=+l[c+(k<<2)>>2];if(s<a^u<a){Rt=+l[p+(P<<2)>>2];l[t+(P<<2)>>2]=Rt+(a-s)*((+l[c+(P<<2)>>2]-Rt)/(u-s));o[t+(k<<2)>>2]=o[I>>2];r=r+1|0;if(!(r&8))t=t+8|0;else break t}if(!y)break;else R=R+-1|0}}else{i=(D|0)==(It+336|0)?It+528|0:It+336|0;r=0}}while(0);k=k+1|0;if((k|0)>=2)break;else{e=i;D=(i|0)==(It+336|0)?It+528|0:It+336|0}}if((i|0)!=(It+336|0))Ol(It+336|0,i|0,r<<3|0)|0;if((r|0)>=1){x=1.0/((H*E+z*M+W*C)*(B*L+T*w+A*S)-(B*E+T*M+A*C)*(H*L+z*w+W*S));v=+l[U+(N<<2)>>2];b=+l[O>>2];_=+l[F>>2];m=+l[$+((q|4)<<2)>>2];g=+l[$+((Z|4)<<2)>>2];d=+l[$+((q|8)<<2)>>2];u=+l[$+((Z|8)<<2)>>2];t=0;i=0;do{$=i<<1;s=+l[It+336+($<<2)>>2];a=+l[It+336+(($|1)<<2)>>2];Mt=(B*L+T*w+A*S)*x*(s-X)-(H*L+z*w+W*S)*x*(a-j);Rt=(H*E+z*M+W*C)*x*(a-j)-(B*E+T*M+A*C)*x*(s-X);$=t*3|0;Ct=Q+Mt*b+Rt*_;l[It+240+($<<2)>>2]=Ct;Et=J+Mt*m+Rt*g;l[It+240+($+1<<2)>>2]=Et;Rt=Y+Mt*d+Rt*u;l[It+240+($+2<<2)>>2]=Rt;Rt=v-(nt*Ct+et*Et+tt*Rt);l[It+208+(t<<2)>>2]=Rt;if(Rt>=0.0){$=t<<1;l[It+336+($<<2)>>2]=s;l[It+336+(($|1)<<2)>>2]=a;t=t+1|0}i=i+1|0}while((i|0)!=(r|0));t:do{if((t|0)>=1){R=(t|0)<4?t:4;R=(R|0)<1?1:R;if((t|0)<=(R|0))if(it){r=st+8|0;a=-(o[f>>2]=At,+l[f>>2]);s=-(o[f>>2]=Lt,+l[f>>2]);i=0;while(1){Lt=i*3|0;l[It+528>>2]=+l[It+240+(Lt<<2)>>2]+ +l[st>>2];l[It+528+4>>2]=+l[It+240+(Lt+1<<2)>>2]+ +l[rt>>2];l[It+528+8>>2]=+l[It+240+(Lt+2<<2)>>2]+ +l[r>>2];Lt=o[(o[n>>2]|0)+16>>2]|0;l[It+192>>2]=-ot;l[It+192+4>>2]=a;l[It+192+8>>2]=s;l[It+192+12>>2]=0.0;jk[Lt&15](n,It+192|0,It+528|0,-+l[It+208+(i<<2)>>2]);i=i+1|0;if((i|0)==(t|0))break t}}else{r=st+8|0;a=(o[f>>2]=At,+l[f>>2]);s=(o[f>>2]=Lt,+l[f>>2]);i=0;while(1){Lt=i*3|0;Rt=+l[It+208+(i<<2)>>2];l[It+528>>2]=+l[It+240+(Lt<<2)>>2]+ +l[st>>2]-ot*Rt;l[It+528+4>>2]=+l[It+240+(Lt+1<<2)>>2]+ +l[rt>>2]-a*Rt;l[It+528+8>>2]=+l[It+240+(Lt+2<<2)>>2]+ +l[r>>2]-s*Rt;Lt=o[(o[n>>2]|0)+16>>2]|0;l[It+176>>2]=-ot;l[It+176+4>>2]=-a;l[It+176+8>>2]=-s;l[It+176+12>>2]=0.0;jk[Lt&15](n,It+176|0,It+528|0,-Rt);i=i+1|0;if((i|0)==(t|0))break t}}e:do{if((t|0)>1){r=1;c=0;a=+l[It+208>>2];while(1){s=+l[It+208+(r<<2)>>2];i=s>a;c=i?r:c;r=r+1|0;if((r|0)==(t|0))break;else a=i?s:a}switch(t|0){case 1:{i=It+144|0;r=It+144|0;t=1;Tt=111;break e}case 2:{i=It+144|0;r=It+144|0;t=2;a=(+l[It+336>>2]+ +l[It+336+8>>2])*.5;s=(+l[It+336+4>>2]+ +l[It+336+12>>2])*.5;Tt=116;break e}default:{}}i=t+-1|0;s=0.0;a=0.0;g=0.0;r=0;do{$=r<<1;Mt=+l[It+336+($<<2)>>2];Ct=+l[It+336+($+3<<2)>>2];Et=+l[It+336+($+2<<2)>>2];Rt=+l[It+336+(($|1)<<2)>>2];s=s+(Mt*Ct-Et*Rt);a=a+(Mt+Et)*(Mt*Ct-Et*Rt);g=g+(Ct+Rt)*(Mt*Ct-Et*Rt);r=r+1|0}while((r|0)!=(i|0));$=t<<1;u=+l[It+336+($+-2<<2)>>2];d=+l[It+336+4>>2];_=+l[It+336>>2];m=+l[It+336+($+-1<<2)>>2];s=s+(u*d-_*m);if(+G(+s)>1.1920928955078125e-07)s=1.0/(s*3.0);else s=999999984306749440.0;if((t|0)>0){y=It+144|0;r=It+144|0;p=It+528|0;a=s*(a+(u*d-_*m)*(u+_));s=s*(g+(u*d-_*m)*(m+d));Tt=119;break}i=It+144|0;r=0;y=t}else{i=It+144|0;r=It+144|0;c=0;Tt=111}}while(0);if((Tt|0)==111){a=+l[It+336>>2];s=+l[It+336+4>>2];Tt=116}if((Tt|0)==116){y=i;p=It+528|0;Tt=119}if((Tt|0)==119){i=0;do{Tt=i<<1;l[It+528+(i<<2)>>2]=+K(+(+l[It+336+((Tt|1)<<2)>>2]-s),+(+l[It+336+(Tt<<2)>>2]-a));i=i+1|0}while((i|0)!=(t|0));i=0;do{o[It+496+(i<<2)>>2]=1;i=i+1|0}while((i|0)!=(t|0));i=y;r=1;y=t}t=It+496+(c<<2)|0;o[t>>2]=0;o[i>>2]=c;e:do{if((R|0)>1){d=+l[It+528+(c<<2)>>2];if(r){r=It+144+4|0;p=1}else{i=It+144+4|0;r=1;while(1){o[i>>2]=c;o[t>>2]=0;r=r+1|0;if((r|0)==(R|0))break e;else i=i+4|0}}while(1){u=6.2831854820251465/+(R|0)*+(p|0)+d;u=u>3.1415927410125732?u+-6.2831854820251465:u;o[r>>2]=c;i=c;t=0;a=1.0e9;while(1){do{if(!(o[It+496+(t<<2)>>2]|0))s=a;else{s=+G(+(+l[It+528+(t<<2)>>2]-u));s=s>3.1415927410125732?6.2831854820251465-s:s;if(!(s<a)){s=a;break}o[r>>2]=t;i=t}}while(0);t=t+1|0;if((t|0)==(y|0))break;else a=s}o[It+496+(i<<2)>>2]=0;p=p+1|0;if((p|0)==(R|0))break;else r=r+4|0}}}while(0);if((R|0)>0){r=st+8|0;a=(o[f>>2]=At,+l[f>>2]);s=(o[f>>2]=Lt,+l[f>>2]);if(it){i=0;do{Lt=o[It+144+(i<<2)>>2]|0;l[It+528>>2]=+l[It+240+(Lt*3<<2)>>2]+ +l[st>>2];l[It+528+4>>2]=+l[It+240+((Lt*3|0)+1<<2)>>2]+ +l[rt>>2];l[It+528+8>>2]=+l[It+240+((Lt*3|0)+2<<2)>>2]+ +l[r>>2];At=o[(o[n>>2]|0)+16>>2]|0;l[It+128>>2]=-ot;l[It+128+4>>2]=-a;l[It+128+8>>2]=-s;l[It+128+12>>2]=0.0;jk[At&15](n,It+128|0,It+528|0,-+l[It+208+(Lt<<2)>>2]);i=i+1|0}while((i|0)<(R|0))}else{i=0;do{At=o[It+144+(i<<2)>>2]|0;Mt=+l[It+240+(At*3<<2)>>2]+ +l[st>>2];l[It+528>>2]=Mt;Ct=+l[It+240+((At*3|0)+1<<2)>>2]+ +l[rt>>2];l[It+528+4>>2]=Ct;Et=+l[It+240+((At*3|0)+2<<2)>>2]+ +l[r>>2];l[It+528+8>>2]=Et;Lt=o[(o[n>>2]|0)+16>>2]|0;l[It+112>>2]=-ot;l[It+112+4>>2]=-a;l[It+112+8>>2]=-s;l[It+112+12>>2]=0.0;Rt=+l[It+208+(At<<2)>>2];l[It+96>>2]=Mt-ot*Rt;l[It+96+4>>2]=Ct-Rt*a;l[It+96+8>>2]=Et-Rt*s;l[It+96+12>>2]=0.0;jk[Lt&15](n,It+112|0,It+96|0,-Rt);i=i+1|0}while((i|0)<(R|0))}}}}while(0)}h=It;return}function wx(t){t=t|0;var e=0;o[t>>2]=3064;e=o[t+20>>2]|0;if(e|0){if(i[t+24>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+20>>2]=0}i[t+24>>0]=1;o[t+20>>2]=0;o[t+12>>2]=0;o[t+16>>2]=0;return}function Sx(t){t=t|0;var e=0;o[t>>2]=3064;e=o[t+20>>2]|0;if(!e){Kc(t);return}if(!(i[t+24>>0]|0)){Kc(t);return}o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0);Kc(t);return}function Mx(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0;r=h;h=h+16|0;o[r>>2]=t;o[r+4>>2]=i;t=o[t+72+((o[(o[e+4>>2]|0)+4>>2]|0)*144|0)+(o[(o[n+4>>2]|0)+4>>2]<<2)>>2]|0;t=dk[o[(o[t>>2]|0)+8>>2]&31](t,r,e,n)|0;h=r;return t|0}function Cx(t,e,n){t=t|0;e=e|0;n=n|0;var r=0,s=0,a=0,c=0.0,u=0,p=0,f=0,d=0.0;f=h;h=h+16|0;o[4989]=(o[4989]|0)+1;if(!(o[t+4>>2]&2))r=6988;else{r=o[e+192>>2]|0;d=+kk[o[(o[r>>2]|0)+20>>2]&1](r,.019999999552965164);l[f+4>>2]=d;r=o[n+192>>2]|0;c=+kk[o[(o[r>>2]|0)+20>>2]&1](r,.019999999552965164);l[f>>2]=c;r=d<c?f+4|0:f}a=o[r>>2]|0;d=+l[e+184>>2];c=+l[n+184>>2];c=d<c?d:c;r=o[t+68>>2]|0;s=o[r+8>>2]|0;if(!s){if(o[t+4>>2]&4|0){t=0;h=f;return t|0}o[5637]=(o[5637]|0)+1;r=Jc(791)|0;if(!r)u=0;else{o[(r+4+15&-16)+-4>>2]=r;u=r+4+15&-16}}else{u=o[r+12>>2]|0;o[r+12>>2]=o[u>>2];o[r+8>>2]=s+-1}o[u>>2]=1025;o[u+116>>2]=0;i[u+120>>0]=0;r=u+124|0;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;o[r+16>>2]=0;o[r+20>>2]=0;o[r+24>>2]=0;o[r+28>>2]=0;o[u+300>>2]=0;i[u+304>>0]=0;r=u+308|0;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;o[r+16>>2]=0;o[r+20>>2]=0;o[r+24>>2]=0;o[r+28>>2]=0;o[u+484>>2]=0;i[u+488>>0]=0;r=u+492|0;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;o[r+16>>2]=0;o[r+20>>2]=0;o[r+24>>2]=0;o[r+28>>2]=0;o[u+668>>2]=0;i[u+672>>0]=0;r=u+676|0;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;o[r+16>>2]=0;o[r+20>>2]=0;o[r+24>>2]=0;o[r+28>>2]=0;o[u+740>>2]=e;o[u+744>>2]=n;o[u+748>>2]=0;o[u+752>>2]=a;l[u+756>>2]=c;e=u;r=o[t+12>>2]|0;o[u+768>>2]=r;if((r|0)==(o[t+16>>2]|0)?(p=r|0?r<<1:1,(r|0)<(p|0)):0){if(!p)a=0;else{o[5637]=(o[5637]|0)+1;r=Jc((p<<2|3)+16|0)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}a=r;r=o[t+12>>2]|0}if((r|0)>0){s=0;do{o[a+(s<<2)>>2]=o[(o[t+20>>2]|0)+(s<<2)>>2];s=s+1|0}while((s|0)!=(r|0))}s=o[t+20>>2]|0;if(s){if(i[t+24>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0);r=o[t+12>>2]|0}o[t+20>>2]=0}i[t+24>>0]=1;o[t+20>>2]=a;o[t+16>>2]=p}o[(o[t+20>>2]|0)+(r<<2)>>2]=e;o[t+12>>2]=r+1;t=u;h=f;return t|0}function Tx(t,e){t=t|0;e=e|0;var n=0,i=0,r=0,s=0;o[4989]=(o[4989]|0)+-1;ck[o[(o[t>>2]|0)+20>>2]&127](t,e);i=o[e+768>>2]|0;n=(o[t+12>>2]|0)+-1|0;s=o[t+20>>2]|0;r=o[s+(i<<2)>>2]|0;o[s+(i<<2)>>2]=o[s+(n<<2)>>2];o[(o[t+20>>2]|0)+(n<<2)>>2]=r;o[(o[(o[t+20>>2]|0)+(i<<2)>>2]|0)+768>>2]=i;o[t+12>>2]=n;t=o[t+68>>2]|0;if(!e)return;s=o[t+16>>2]|0;if(s>>>0<=e>>>0?(s+(et(o[t>>2]|0,o[t+4>>2]|0)|0)|0)>>>0>e>>>0:0){o[e>>2]=o[t+12>>2];o[t+12>>2]=e;o[t+8>>2]=(o[t+8>>2]|0)+1;return}o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0);return}function Ax(t,e){t=t|0;e=e|0;o[e+748>>2]=0;return}function Lx(t,e,n){t=t|0;e=e|0;n=n|0;t:do{switch(o[e+216>>2]|0){case 2:case 5:{switch(o[n+216>>2]|0){case 2:case 5:{e=0;break}default:break t}return e|0}default:{}}}while(0);if(!((o[e+260>>2]|0)!=0?!(Ek[o[(o[e>>2]|0)+12>>2]&31](e,n)|0):0)){if(!(o[n+260>>2]|0)){t=1;return t|0}if(Ek[o[(o[n>>2]|0)+12>>2]&31](n,e)|0){t=1;return t|0}}t=0;return t|0}function Ex(t,e,n){t=t|0;e=e|0;n=n|0;t=o[e+204>>2]|0;if(t&4|0){n=0;return n|0}e=o[n+204>>2]|0;if(e&4|0){n=0;return n|0}if(!(t&3)){n=1;return n|0}n=(e&3|0)==0;return n|0}function Rx(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0;r=h;h=h+16|0;o[r>>2]=3136;o[r+4>>2]=n;o[r+8>>2]=t;Uk[o[(o[e>>2]|0)+48>>2]&127](e,r,i);h=r;return}function Ix(t){t=t|0;Kc(t);return}function Px(t,e){t=t|0;e=e|0;var n=0;n=o[t+8>>2]|0;Uk[o[n+60>>2]&127](e,n,o[t+4>>2]|0);return 0}function Dx(t){t=t|0;return o[t+12>>2]|0}function kx(t,e){t=t|0;e=e|0;return o[(o[t+20>>2]|0)+(e<<2)>>2]|0}function Ox(t){t=t|0;if(!(o[t+12>>2]|0)){t=0;return t|0}t=o[t+20>>2]|0;return t|0}function Nx(t){t=t|0;return o[t+68>>2]|0}function Fx(t){t=t|0;return o[t+68>>2]|0}function Bx(t,e){t=t|0;e=e|0;var n=0;t=o[t+64>>2]|0;n=o[t+8>>2]|0;if(n|0){e=o[t+12>>2]|0;o[t+12>>2]=o[e>>2];o[t+8>>2]=n+-1;return e|0}o[5637]=(o[5637]|0)+1;t=Jc(e+19|0)|0;if(!t){e=0;return e|0}o[(t+4+15&-16)+-4>>2]=t;e=t+4+15&-16;return e|0}function jx(t,e){t=t|0;e=e|0;var n=0;t=o[t+64>>2]|0;if(!e)return;n=o[t+16>>2]|0;if(n>>>0<=e>>>0?(n+(et(o[t>>2]|0,o[t+4>>2]|0)|0)|0)>>>0>e>>>0:0){o[e>>2]=o[t+12>>2];o[t+12>>2]=e;o[t+8>>2]=(o[t+8>>2]|0)+1;return}o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0);return}function Ux(t,e){t=t|0;e=e|0;var n=0,r=0;o[t>>2]=3064;o[t+4>>2]=2;i[t+24>>0]=1;o[t+20>>2]=0;o[t+12>>2]=0;o[t+16>>2]=0;o[t+28>>2]=4460;o[t+5256>>2]=e;o[t+60>>2]=70;o[t+64>>2]=uk[o[(o[e>>2]|0)+12>>2]&127](e)|0;o[t+68>>2]=uk[o[(o[e>>2]|0)+8>>2]&127](e)|0;e=0;do{n=0;do{r=o[t+5256>>2]|0;o[t+72+(e*144|0)+(n<<2)>>2]=vk[o[(o[r>>2]|0)+16>>2]&63](r,e,n)|0;n=n+1|0}while((n|0)<36);e=e+1|0}while((e|0)<36);return}function zx(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0,s=0,a=0,c=0,u=0;u=h;h=h+80|0;s=o[o[t>>2]>>2]|0;a=o[o[t+4>>2]>>2]|0;if(!(vk[o[(o[e>>2]|0)+24>>2]&63](e,s,a)|0)){h=u;return}r=o[s+192>>2]|0;o[u+56>>2]=0;o[u+56+4>>2]=r;o[u+56+8>>2]=s;o[u+56+12>>2]=s+4;o[u+56+16>>2]=-1;o[u+56+20>>2]=-1;r=o[a+192>>2]|0;o[u+32>>2]=0;o[u+32+4>>2]=r;o[u+32+8>>2]=a;o[u+32+12>>2]=a+4;o[u+32+16>>2]=-1;o[u+32+20>>2]=-1;r=o[t+8>>2]|0;if(!r){r=dk[o[(o[e>>2]|0)+8>>2]&31](e,u+56|0,u+32|0,0)|0;o[t+8>>2]=r;if(r|0)c=4}else c=4;if((c|0)==4){o[u>>2]=4460;o[u+4>>2]=0;o[u+8>>2]=u+56;o[u+12>>2]=u+32;if((o[n+8>>2]|0)!=1){i=+bk[o[(o[r>>2]|0)+12>>2]&15](r,s,a,n,u);if(+l[n+12>>2]>i)l[n+12>>2]=i}else rk[o[(o[r>>2]|0)+8>>2]&31](r,u+56|0,u+32|0,n,u)}h=u;return}function Gx(t){t=t|0;var e=0;o[t>>2]=3156;e=o[t+276>>2]|0;if(e|0){if(i[t+280>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+276>>2]=0}i[t+280>>0]=1;o[t+276>>2]=0;o[t+268>>2]=0;o[t+272>>2]=0;return}function Vx(t){t=t|0;var e=0;o[t>>2]=3156;e=o[t+276>>2]|0;if(e|0){if(i[t+280>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+276>>2]=0}i[t+280>>0]=1;o[t+276>>2]=0;o[t+268>>2]=0;o[t+272>>2]=0;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function Wx(t,e){t=t|0;e=e|0;o[t+284>>2]=(o[t+284>>2]|0)+1;o[t+192>>2]=e;o[t+200>>2]=e;return}function Hx(t,e){t=t|0;e=e|0;var n=0,i=0;i=o[t+268>>2]|0;t:do{if((i|0)>0){n=o[t+276>>2]|0;t=0;while(1){if((o[n+(t<<2)>>2]|0)==(e|0))break t;t=t+1|0;if((t|0)>=(i|0)){t=i;break}}}else t=i}while(0);return(t|0)>=(i|0)|0}function Xx(t){t=t|0;return 256}function qx(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0;o[e+16>>2]=o[t+4>>2];o[e+20>>2]=o[t+8>>2];o[e+24>>2]=o[t+12>>2];o[e+28>>2]=o[t+16>>2];o[e+32>>2]=o[t+20>>2];o[e+36>>2]=o[t+24>>2];o[e+40>>2]=o[t+28>>2];o[e+44>>2]=o[t+32>>2];o[e+48>>2]=o[t+36>>2];o[e+52>>2]=o[t+40>>2];o[e+56>>2]=o[t+44>>2];o[e+60>>2]=o[t+48>>2];o[e+64>>2]=o[t+52>>2];o[e+68>>2]=o[t+56>>2];o[e+72>>2]=o[t+60>>2];o[e+76>>2]=o[t+64>>2];o[e+80>>2]=o[t+68>>2];o[e+84>>2]=o[t+72>>2];o[e+88>>2]=o[t+76>>2];o[e+92>>2]=o[t+80>>2];o[e+96>>2]=o[t+84>>2];o[e+100>>2]=o[t+88>>2];o[e+104>>2]=o[t+92>>2];o[e+108>>2]=o[t+96>>2];o[e+112>>2]=o[t+100>>2];o[e+116>>2]=o[t+104>>2];o[e+120>>2]=o[t+108>>2];o[e+124>>2]=o[t+112>>2];o[e+128>>2]=o[t+116>>2];o[e+132>>2]=o[t+120>>2];o[e+136>>2]=o[t+124>>2];o[e+140>>2]=o[t+128>>2];o[e+144>>2]=o[t+132>>2];o[e+148>>2]=o[t+136>>2];o[e+152>>2]=o[t+140>>2];o[e+156>>2]=o[t+144>>2];o[e+160>>2]=o[t+148>>2];o[e+164>>2]=o[t+152>>2];o[e+168>>2]=o[t+156>>2];o[e+172>>2]=o[t+160>>2];o[e+176>>2]=o[t+164>>2];o[e+180>>2]=o[t+168>>2];o[e+184>>2]=o[t+172>>2];o[e+188>>2]=o[t+176>>2];o[e+224>>2]=o[t+180>>2];o[e+192>>2]=o[t+184>>2];o[e>>2]=0;o[e+4>>2]=Ek[o[(o[n>>2]|0)+28>>2]&31](n,o[t+192>>2]|0)|0;o[e+8>>2]=0;o[e+228>>2]=o[t+204>>2];o[e+232>>2]=o[t+208>>2];o[e+236>>2]=o[t+212>>2];o[e+240>>2]=o[t+216>>2];o[e+196>>2]=o[t+220>>2];o[e+200>>2]=o[t+224>>2];o[e+204>>2]=o[t+232>>2];o[e+208>>2]=o[t+228>>2];o[e+244>>2]=o[t+236>>2];i=Ek[o[(o[n>>2]|0)+40>>2]&31](n,t)|0;r=Ek[o[(o[n>>2]|0)+28>>2]&31](n,i)|0;o[e+12>>2]=r;if(!r){n=t+248|0;n=o[n>>2]|0;r=e+212|0;o[r>>2]=n;r=t+252|0;r=o[r>>2]|0;n=e+216|0;o[n>>2]=r;n=t+256|0;n=o[n>>2]|0;r=e+220|0;o[r>>2]=n;t=t+260|0;t=o[t>>2]|0;r=e+248|0;o[r>>2]=t;return 9250}ck[o[(o[n>>2]|0)+48>>2]&127](n,i);n=t+248|0;n=o[n>>2]|0;r=e+212|0;o[r>>2]=n;r=t+252|0;r=o[r>>2]|0;n=e+216|0;o[n>>2]=r;n=t+256|0;n=o[n>>2]|0;r=e+220|0;o[r>>2]=n;t=t+260|0;t=o[t>>2]|0;r=e+248|0;o[r>>2]=t;return 9250}function Yx(t,e){t=t|0;e=e|0;var n=0,i=0;i=uk[o[(o[t>>2]|0)+16>>2]&127](t)|0;i=vk[o[(o[e>>2]|0)+16>>2]&63](e,i,1)|0;n=vk[o[(o[t>>2]|0)+20>>2]&63](t,o[i+8>>2]|0,e)|0;rk[o[(o[e>>2]|0)+20>>2]&31](e,i,n,1245859651,t);return}function Zx(t){t=t|0;var e=0,n=0,r=0,s=0,a=0;o[t>>2]=3192;n=o[t+8>>2]|0;e=o[t+16>>2]|0;if((n|0)>0){a=0;do{r=(o[e+(a<<2)>>2]|0)+188|0;s=o[r>>2]|0;if(s){n=o[t+68>>2]|0;n=uk[o[(o[n>>2]|0)+36>>2]&127](n)|0;Uk[o[(o[n>>2]|0)+40>>2]&127](n,s,o[t+24>>2]|0);n=o[t+68>>2]|0;Uk[o[(o[n>>2]|0)+12>>2]&127](n,s,o[t+24>>2]|0);o[r>>2]=0;n=o[t+8>>2]|0;e=o[t+16>>2]|0}a=a+1|0}while((a|0)<(n|0))}if(!e){i[t+20>>0]=1;o[t+16>>2]=0;o[t+8>>2]=0;t=t+12|0;o[t>>2]=0;return}if(i[t+20>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+16>>2]=0;i[t+20>>0]=1;o[t+16>>2]=0;o[t+8>>2]=0;t=t+12|0;o[t>>2]=0;return}function Jx(t){t=t|0;Zx(t);Kc(t);return}function Kx(t){t=t|0;var e=0,n=0.0,r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,p=0.0,f=0.0,d=0,_=0,m=0,g=0,b=0;b=h;h=h+64|0;Wh(9296);e=o[t+8>>2]|0;if((e|0)>0){_=0;do{d=o[(o[t+16>>2]|0)+(_<<2)>>2]|0;if(!(i[t+76>>0]|0))switch(o[d+216>>2]|0){case 2:case 5:break;default:g=11}else g=11;if((g|0)==11){g=0;e=o[d+192>>2]|0;Wk[o[(o[e>>2]|0)+8>>2]&127](e,d+4|0,b+48|0,b+32|0);c=+l[b+48>>2]+-.019999999552965164;l[b+48>>2]=c;u=+l[b+48+4>>2]+-.019999999552965164;l[b+48+4>>2]=u;a=+l[b+48+8>>2]+-.019999999552965164;l[b+48+8>>2]=a;n=+l[b+32>>2]+.019999999552965164;l[b+32>>2]=n;r=+l[b+32+4>>2]+.019999999552965164;l[b+32+4>>2]=r;s=+l[b+32+8>>2]+.019999999552965164;l[b+32+8>>2]=s;if(((i[t+44>>0]|0)!=0?(o[d+236>>2]|0)==2:0)?(o[d+204>>2]&3|0)==0:0){e=o[d+192>>2]|0;Wk[o[(o[e>>2]|0)+8>>2]&127](e,d+68|0,b+16|0,b);c=+l[b+16>>2]+-.019999999552965164;l[b+16>>2]=c;u=+l[b+16+4>>2]+-.019999999552965164;l[b+16+4>>2]=u;r=+l[b+16+8>>2]+-.019999999552965164;l[b+16+8>>2]=r;s=+l[b>>2]+.019999999552965164;l[b>>2]=s;a=+l[b+4>>2]+.019999999552965164;l[b+4>>2]=a;p=+l[b+8>>2]+.019999999552965164;l[b+8>>2]=p;n=+l[b+48>>2];if(c<n)l[b+48>>2]=c;else c=n;n=+l[b+48+4>>2];if(u<n)l[b+48+4>>2]=u;else u=n;n=+l[b+48+8>>2];if(r<n){l[b+48+8>>2]=r;f=r}else f=n;n=+l[b+16+12>>2];if(n<+l[b+48+12>>2])l[b+48+12>>2]=n;n=+l[b+32>>2];if(n<s){l[b+32>>2]=s;n=s}r=+l[b+32+4>>2];if(r<a){l[b+32+4>>2]=a;r=a}s=+l[b+32+8>>2];if(s<p){l[b+32+8>>2]=p;s=p}a=+l[b+12>>2];if(+l[b+32+12>>2]<a)l[b+32+12>>2]=a;a=f}e=o[t+68>>2]|0;if((o[d+204>>2]&1|0)==0?(c=n-c,p=r-u,f=s-a,!(c*c+p*p+f*f<999999995904.0)):0){if((o[d+216>>2]&-2|0)!=4)o[d+216>>2]=5;if(i[9308]|0?(m=o[t+72>>2]|0,m|0):0){i[9308]=0;ck[o[(o[m>>2]|0)+44>>2]&127](m,9309);d=o[t+72>>2]|0;ck[o[(o[d>>2]|0)+44>>2]&127](d,9358);d=o[t+72>>2]|0;ck[o[(o[d>>2]|0)+44>>2]&127](d,9426);d=o[t+72>>2]|0;ck[o[(o[d>>2]|0)+44>>2]&127](d,9491)}}else rk[o[(o[e>>2]|0)+16>>2]&31](e,o[d+188>>2]|0,b+48|0,b+32|0,o[t+24>>2]|0);e=o[t+8>>2]|0}_=_+1|0}while((_|0)<(e|0))}e=o[2006]|0;g=(o[e+16>>2]|0)+-1|0;o[e+16>>2]=g;if(g|0){h=b;return}do{if(o[e+4>>2]|0){fe(b+48|0,0)|0;g=o[5649]|0;l[e+8>>2]=+l[e+8>>2]+ +(((o[b+48+4>>2]|0)-(o[g+4>>2]|0)+(((o[b+48>>2]|0)-(o[g>>2]|0)|0)*1e6|0)-(o[e+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[e+16>>2]|0)){e=o[2006]|0;break}else{h=b;return}}}while(0);o[2006]=o[e+20>>2];h=b;return}function $x(t){t=t|0;var e=0,n=0;e=h;h=h+16|0;Wh(9500);n=o[t+68>>2]|0;ck[o[(o[n>>2]|0)+32>>2]&127](n,o[t+24>>2]|0);t=o[2006]|0;n=(o[t+16>>2]|0)+-1|0;o[t+16>>2]=n;if(n|0){h=e;return}do{if(o[t+4>>2]|0){fe(e|0,0)|0;n=o[5649]|0;l[t+8>>2]=+l[t+8>>2]+ +(((o[e+4>>2]|0)-(o[n+4>>2]|0)+(((o[e>>2]|0)-(o[n>>2]|0)|0)*1e6|0)-(o[t+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[t+16>>2]|0)){t=o[2006]|0;break}else{h=e;return}}}while(0);o[2006]=o[t+20>>2];h=e;return}function Qx(t,e){t=t|0;e=e|0;o[t+72>>2]=e;return}function tw(t){t=t|0;return o[t+72>>2]|0}function ew(t){t=t|0;var e=0.0,n=0,r=0,s=0,a=0,c=0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0,g=0;m=h;h=h+192|0;if(!(uk[o[(o[t>>2]|0)+20>>2]&127](t)|0)){h=m;return}a=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;ck[o[(o[a>>2]|0)+8>>2]&127](m+80|0,a);a=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;if(((uk[o[(o[a>>2]|0)+56>>2]&127](a)|0)&8|0?(n=o[t+24>>2]|0,n|0):0)?(c=uk[o[(o[n>>2]|0)+36>>2]&127](n)|0,(c|0)>0):0){s=0;do{n=o[t+24>>2]|0;n=Ek[o[(o[n>>2]|0)+40>>2]&31](n,s)|0;r=o[n+748>>2]|0;if((r|0)>0){a=0;do{g=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;ak[o[(o[g>>2]|0)+40>>2]&0](g,n+4+(a*184|0)+32|0,n+4+(a*184|0)+64|0,+l[n+4+(a*184|0)+80>>2],o[n+4+(a*184|0)+148>>2]|0,m+80+96|0);a=a+1|0}while((a|0)!=(r|0))}s=s+1|0}while((s|0)!=(c|0))}g=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;if((uk[o[(o[g>>2]|0)+56>>2]&127](g)|0)&3|0?(o[t+8>>2]|0)>0:0){s=0;do{r=o[(o[t+16>>2]|0)+(s<<2)>>2]|0;if(!(o[r+204>>2]&32)){if(uk[o[(o[t>>2]|0)+20>>2]&127](t)|0?(g=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0,(uk[o[(o[g>>2]|0)+56>>2]&127](g)|0)&1|0):0){o[m+64>>2]=1053609165;o[m+64+4>>2]=1053609165;o[m+64+8>>2]=1053609165;l[m+64+12>>2]=0.0;switch(o[r+216>>2]|0){case 1:{o[m+64>>2]=o[m+80>>2];o[m+64+4>>2]=o[m+80+4>>2];o[m+64+8>>2]=o[m+80+8>>2];o[m+64+12>>2]=o[m+80+12>>2];break}case 2:{o[m+64>>2]=o[m+80+16>>2];o[m+64+4>>2]=o[m+80+16+4>>2];o[m+64+8>>2]=o[m+80+16+8>>2];o[m+64+12>>2]=o[m+80+16+12>>2];break}case 3:{o[m+64>>2]=o[m+80+32>>2];o[m+64+4>>2]=o[m+80+32+4>>2];o[m+64+8>>2]=o[m+80+32+8>>2];o[m+64+12>>2]=o[m+80+32+12>>2];break}case 4:{o[m+64>>2]=o[m+80+48>>2];o[m+64+4>>2]=o[m+80+48+4>>2];o[m+64+8>>2]=o[m+80+48+8>>2];o[m+64+12>>2]=o[m+80+48+12>>2];break}case 5:{o[m+64>>2]=o[m+80+64>>2];o[m+64+4>>2]=o[m+80+64+4>>2];o[m+64+8>>2]=o[m+80+64+8>>2];o[m+64+12>>2]=o[m+80+64+12>>2];break}default:{o[m+64>>2]=1050253722;o[m+64+4>>2]=1050253722;o[m+64+8>>2]=1050253722;l[m+64+12>>2]=0.0}}Wk[o[(o[t>>2]|0)+28>>2]&127](t,r+4|0,o[r+192>>2]|0,m+64|0)}n=o[t+72>>2]|0;if(n|0?(uk[o[(o[n>>2]|0)+56>>2]&127](n)|0)&2|0:0){o[m+32>>2]=o[m+80+80>>2];o[m+32+4>>2]=o[m+80+80+4>>2];o[m+32+8>>2]=o[m+80+80+8>>2];o[m+32+12>>2]=o[m+80+80+12>>2];g=o[r+192>>2]|0;Wk[o[(o[g>>2]|0)+8>>2]&127](g,r+4|0,m+64|0,m+48|0);l[m+64>>2]=+l[m+64>>2]+-.019999999552965164;l[m+64+4>>2]=+l[m+64+4>>2]+-.019999999552965164;l[m+64+8>>2]=+l[m+64+8>>2]+-.019999999552965164;l[m+48>>2]=+l[m+48>>2]+.019999999552965164;l[m+48+4>>2]=+l[m+48+4>>2]+.019999999552965164;l[m+48+8>>2]=+l[m+48+8>>2]+.019999999552965164;do{if((i[t+44>>0]|0?(o[r+236>>2]|0)==2:0)?(o[r+204>>2]&3|0)==0:0){g=o[r+192>>2]|0;Wk[o[(o[g>>2]|0)+8>>2]&127](g,r+68|0,m+16|0,m);e=+l[m+16>>2]+-.019999999552965164;l[m+16>>2]=e;u=+l[m+16+4>>2]+-.019999999552965164;l[m+16+4>>2]=u;p=+l[m+16+8>>2]+-.019999999552965164;l[m+16+8>>2]=p;f=+l[m>>2]+.019999999552965164;l[m>>2]=f;d=+l[m+4>>2]+.019999999552965164;l[m+4>>2]=d;_=+l[m+8>>2]+.019999999552965164;l[m+8>>2]=_;if(e<+l[m+64>>2])l[m+64>>2]=e;if(u<+l[m+64+4>>2])l[m+64+4>>2]=u;if(p<+l[m+64+8>>2])l[m+64+8>>2]=p;e=+l[m+16+12>>2];if(e<+l[m+64+12>>2])l[m+64+12>>2]=e;if(+l[m+48>>2]<f)l[m+48>>2]=f;if(+l[m+48+4>>2]<d)l[m+48+4>>2]=d;if(+l[m+48+8>>2]<_)l[m+48+8>>2]=_;e=+l[m+12>>2];if(!(+l[m+48+12>>2]<e))break;l[m+48+12>>2]=e}}while(0);g=o[t+72>>2]|0;Wk[o[(o[g>>2]|0)+60>>2]&127](g,m+64|0,m+48|0,m+32|0)}}s=s+1|0}while((s|0)<(o[t+8>>2]|0))}h=m;return}function nw(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0,s=0,a=0,c=0,u=0,p=0,d=0,_=0,m=0,g=0,b=0,v=0,y=0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0,D=0.0,k=0.0,O=0.0,N=0.0,F=0.0,B=0.0,j=0.0,U=0.0,z=0.0,G=0.0,V=0.0,W=0;y=h;h=h+368|0;if(uk[o[(o[t>>2]|0)+20>>2]&127](t)|0?(b=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0,(uk[o[(o[b>>2]|0)+56>>2]&127](b)|0)&32768|0):0){b=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;Gk[o[(o[b>>2]|0)+64>>2]&7](b,e,1.0)}r=o[n+4>>2]|0;switch(r|0){case 31:{r=o[n+20>>2]|0;if((r|0)<=0){h=y;return}do{v=r;r=r+-1|0;b=o[n+28>>2]|0;O=+l[b+(r*80|0)>>2];P=+l[b+(r*80|0)+4>>2];E=+l[b+(r*80|0)+8>>2];k=+l[b+(r*80|0)+16>>2];I=+l[b+(r*80|0)+20>>2];A=+l[b+(r*80|0)+24>>2];D=+l[b+(r*80|0)+32>>2];R=+l[b+(r*80|0)+36>>2];C=+l[b+(r*80|0)+40>>2];V=+l[b+(r*80|0)+48>>2];G=+l[b+(r*80|0)+52>>2];x=+l[b+(r*80|0)+56>>2];b=o[b+(r*80|0)+64>>2]|0;g=o[(o[t>>2]|0)+28>>2]|0;z=+l[e>>2];U=+l[e+4>>2];j=+l[e+8>>2];B=+l[e+16>>2];F=+l[e+20>>2];N=+l[e+24>>2];L=+l[e+32>>2];T=+l[e+36>>2];M=+l[e+40>>2];S=V*z+G*U+x*j+ +l[e+48>>2];w=V*B+G*F+x*N+ +l[e+52>>2];x=V*L+G*T+x*M+ +l[e+56>>2];l[y+304>>2]=O*z+k*U+D*j;l[y+304+4>>2]=P*z+I*U+R*j;l[y+304+8>>2]=E*z+A*U+C*j;l[y+304+12>>2]=0.0;l[y+304+16>>2]=O*B+k*F+D*N;l[y+304+20>>2]=P*B+I*F+R*N;l[y+304+24>>2]=E*B+A*F+C*N;l[y+304+28>>2]=0.0;l[y+304+32>>2]=O*L+k*T+D*M;l[y+304+36>>2]=P*L+I*T+R*M;l[y+304+40>>2]=E*L+A*T+C*M;l[y+304+44>>2]=0.0;l[y+304+48>>2]=S;l[y+304+52>>2]=w;l[y+304+56>>2]=x;l[y+304+60>>2]=0.0;Wk[g&127](t,y+304|0,b,i)}while((v|0)>1);h=y;return}case 0:{o[y+288>>2]=o[n+32>>2];o[y+288+4>>2]=o[n+32+4>>2];o[y+288+8>>2]=o[n+32+8>>2];o[y+288+12>>2]=o[n+32+12>>2];z=+wk[o[(o[n>>2]|0)+48>>2]&15](n);G=+wk[o[(o[n>>2]|0)+48>>2]&15](n);V=+wk[o[(o[n>>2]|0)+48>>2]&15](n);z=z+ +l[y+288>>2];l[y+288>>2]=z;G=G+ +l[y+288+4>>2];l[y+288+4>>2]=G;V=V+ +l[y+288+8>>2];l[y+288+8>>2]=V;t=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;n=o[(o[t>>2]|0)+80>>2]|0;l[y+272>>2]=-z;l[y+272+4>>2]=-G;l[y+272+8>>2]=-V;l[y+272+12>>2]=0.0;rk[n&31](t,y+272|0,y+288|0,e,i);h=y;return}case 8:{V=+wk[o[(o[n>>2]|0)+48>>2]&15](n);t=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;fk[o[(o[t>>2]|0)+24>>2]&0](t,V,e,i);h=y;return}case 9:{r=o[n+96>>2]|0;if((r|0)<=0){h=y;return}do{v=r;r=r+-1|0;b=o[n+104>>2]|0;E=+l[b+(r<<4)>>2];R=+l[b+(r<<4)+4>>2];G=+l[b+(r<<4)+8>>2];b=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;g=o[(o[b>>2]|0)+24>>2]|0;V=+l[(o[n+124>>2]|0)+(r<<2)>>2];P=+l[e>>2];D=+l[e+4>>2];I=+l[e+8>>2];O=+l[e+16>>2];N=+l[e+20>>2];k=+l[e+24>>2];B=+l[e+32>>2];j=+l[e+36>>2];F=+l[e+40>>2];U=E*P+R*D+G*I+ +l[e+48>>2];z=E*O+R*N+G*k+ +l[e+52>>2];G=E*B+R*j+G*F+ +l[e+56>>2];l[y+192>>2]=P+D*0.0+I*0.0;l[y+192+4>>2]=P*0.0+D+I*0.0;l[y+192+8>>2]=I+(P*0.0+D*0.0);l[y+192+12>>2]=0.0;l[y+192+16>>2]=O+N*0.0+k*0.0;l[y+192+20>>2]=O*0.0+N+k*0.0;l[y+192+24>>2]=k+(O*0.0+N*0.0);l[y+192+28>>2]=0.0;l[y+192+32>>2]=B+j*0.0+F*0.0;l[y+192+36>>2]=B*0.0+j+F*0.0;l[y+192+40>>2]=F+(B*0.0+j*0.0);l[y+192+44>>2]=0.0;l[y+192+48>>2]=U;l[y+192+52>>2]=z;l[y+192+56>>2]=G;l[y+192+60>>2]=0.0;fk[g&0](b,V,y+192|0,i)}while((v|0)>1);h=y;return}case 10:{v=o[n+56>>2]|0;G=+l[n+32+(((v+2|0)%3|0)<<2)>>2];V=+l[n+32+(v<<2)>>2];t=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;pk[o[(o[t>>2]|0)+84>>2]&0](t,G,V,v,e,i);h=y;return}case 11:{G=+l[n+60>>2];V=+l[n+64>>2];n=o[n+72>>2]|0;t=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;pk[o[(o[t>>2]|0)+92>>2]&0](t,G,V,n,e,i);h=y;return}case 13:{v=o[n+56>>2]|0;G=+wk[o[(o[n>>2]|0)+92>>2]&15](n);o[y+176>>2]=o[n+32>>2];o[y+176+4>>2]=o[n+32+4>>2];o[y+176+8>>2]=o[n+32+8>>2];o[y+176+12>>2]=o[n+32+12>>2];U=+wk[o[(o[n>>2]|0)+48>>2]&15](n);z=+wk[o[(o[n>>2]|0)+48>>2]&15](n);V=+wk[o[(o[n>>2]|0)+48>>2]&15](n);l[y+176>>2]=U+ +l[y+176>>2];l[y+176+4>>2]=z+ +l[y+176+4>>2];l[y+176+8>>2]=V+ +l[y+176+8>>2];V=+l[y+176+(v<<2)>>2];t=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;pk[o[(o[t>>2]|0)+88>>2]&0](t,G,V,v,e,i);h=y;return}case 28:{V=+l[n+68>>2];t=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;Ck[o[(o[t>>2]|0)+96>>2]&0](t,n+52|0,V,e,i);h=y;return}default:{t:do{if((r|0)<7){m=o[n+56>>2]|0;if(!m){if((uk[o[(o[n>>2]|0)+100>>2]&127](n)|0)<=0)break;r=0;while(1){Wk[o[(o[n>>2]|0)+104>>2]&127](n,r,y+288|0,y+256|0);z=+l[y+288>>2];E=+l[e>>2];j=+l[y+288+4>>2];R=+l[e+4>>2];F=+l[y+288+8>>2];I=+l[e+8>>2];D=+l[e+16>>2];k=+l[e+20>>2];O=+l[e+24>>2];B=+l[e+32>>2];U=+l[e+36>>2];G=+l[e+40>>2];P=+l[e+48>>2];N=+l[e+52>>2];V=+l[e+56>>2];l[y+80>>2]=z*E+j*R+F*I+P;l[y+80+4>>2]=z*D+j*k+F*O+N;l[y+80+8>>2]=z*B+j*U+F*G+V;l[y+80+12>>2]=0.0;F=+l[y+256>>2];j=+l[y+256+4>>2];z=+l[y+256+8>>2];l[y+48>>2]=F*E+j*R+z*I+P;l[y+48+4>>2]=F*D+j*k+z*O+N;l[y+48+8>>2]=F*B+j*U+z*G+V;l[y+48+12>>2]=0.0;v=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;Wk[o[(o[v>>2]|0)+16>>2]&127](v,y+80|0,y+48|0,i);r=r+1|0;if((r|0)>=(uk[o[(o[n>>2]|0)+100>>2]&127](n)|0))break t}}if((o[m+28>>2]|0)>0){b=0;do{r=o[m+36>>2]|0;g=o[r+(b*36|0)+4>>2]|0;e:do{if((g|0)!=0?(v=o[r+(b*36|0)+12>>2]|0,(g|0)>0):0){u=v;a=0;s=0;r=0;d=o[v+(g+-1<<2)>>2]|0;c=0;while(1){_=o[u+(c<<2)>>2]|0;p=o[m+16>>2]|0;a=(l[f>>2]=(o[f>>2]=a,+l[f>>2])+ +l[p+(_<<4)>>2],o[f>>2]|0);r=(l[f>>2]=(o[f>>2]=r,+l[f>>2])+ +l[p+(_<<4)+4>>2],o[f>>2]|0);s=(l[f>>2]=(o[f>>2]=s,+l[f>>2])+ +l[p+(_<<4)+8>>2],o[f>>2]|0);p=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;u=o[(o[p>>2]|0)+16>>2]|0;W=o[m+16>>2]|0;z=+l[W+(d<<4)>>2];E=+l[e>>2];j=+l[W+(d<<4)+4>>2];R=+l[e+4>>2];F=+l[W+(d<<4)+8>>2];I=+l[e+8>>2];D=+l[e+16>>2];k=+l[e+20>>2];O=+l[e+24>>2];B=+l[e+32>>2];U=+l[e+36>>2];G=+l[e+40>>2];P=+l[e+48>>2];N=+l[e+52>>2];V=+l[e+56>>2];l[y+64>>2]=z*E+j*R+F*I+P;l[y+64+4>>2]=z*D+j*k+F*O+N;l[y+64+8>>2]=z*B+j*U+F*G+V;l[y+64+12>>2]=0.0;F=+l[W+(_<<4)>>2];j=+l[W+(_<<4)+4>>2];z=+l[W+(_<<4)+8>>2];l[y+32>>2]=F*E+j*R+z*I+P;l[y+32+4>>2]=F*D+j*k+z*O+N;l[y+32+8>>2]=F*B+j*U+z*G+V;l[y+32+12>>2]=0.0;Wk[u&127](p,y+64|0,y+32|0,i);p=c+1|0;c=o[m+36>>2]|0;if((p|0)>=(o[c+(b*36|0)+4>>2]|0))break e;u=o[c+(b*36|0)+12>>2]|0;d=_;c=p}}else{a=0;s=0;r=0}}while(0);W=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;if((uk[o[(o[W>>2]|0)+56>>2]&127](W)|0)&16384|0){U=1.0/+(g|0)*(o[f>>2]=s,+l[f>>2]);F=1.0/+(g|0)*(o[f>>2]=r,+l[f>>2]);k=1.0/+(g|0)*(o[f>>2]=a,+l[f>>2]);o[y+288>>2]=1065353216;o[y+288+4>>2]=1065353216;o[y+288+8>>2]=0;l[y+288+12>>2]=0.0;W=o[m+36>>2]|0;O=+l[W+(b*36|0)+20>>2];B=+l[W+(b*36|0)+24>>2];z=+l[W+(b*36|0)+28>>2];W=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;g=o[(o[W>>2]|0)+16>>2]|0;T=+l[e>>2];A=+l[e+4>>2];L=+l[e+8>>2];R=+l[e+16>>2];I=+l[e+20>>2];P=+l[e+24>>2];N=+l[e+32>>2];j=+l[e+36>>2];G=+l[e+40>>2];E=+l[e+48>>2];D=+l[e+52>>2];V=+l[e+56>>2];l[y+16>>2]=k*T+F*A+U*L+E;l[y+16+4>>2]=k*R+F*I+U*P+D;l[y+16+8>>2]=k*N+F*j+U*G+V;l[y+16+12>>2]=0.0;l[y>>2]=(k+O)*T+(F+B)*A+(U+z)*L+E;l[y+4>>2]=(k+O)*R+(F+B)*I+(U+z)*P+D;l[y+8>>2]=(k+O)*N+(F+B)*j+(U+z)*G+V;l[y+12>>2]=0.0;Wk[g&127](W,y+16|0,y,y+288|0)}b=b+1|0}while((b|0)<(o[m+28>>2]|0))}}}while(0);r=o[n+4>>2]|0;if((r+-21|0)>>>0<9){o[y+288>>2]=1566444395;o[y+288+4>>2]=1566444395;o[y+288+8>>2]=1566444395;l[y+288+12>>2]=0.0;o[y+256>>2]=-581039253;o[y+256+4>>2]=-581039253;o[y+256+8>>2]=-581039253;l[y+256+12>>2]=0.0;r=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;o[y+80>>2]=3252;o[y+80+4>>2]=3276;o[y+80+8>>2]=r;o[y+80+12>>2]=o[i>>2];o[y+80+12+4>>2]=o[i+4>>2];o[y+80+12+8>>2]=o[i+8>>2];o[y+80+12+12>>2]=o[i+12>>2];o[y+80+28>>2]=o[e>>2];o[y+80+28+4>>2]=o[e+4>>2];o[y+80+28+8>>2]=o[e+8>>2];o[y+80+28+12>>2]=o[e+12>>2];o[y+80+44>>2]=o[e+16>>2];o[y+80+44+4>>2]=o[e+16+4>>2];o[y+80+44+8>>2]=o[e+16+8>>2];o[y+80+44+12>>2]=o[e+16+12>>2];o[y+80+60>>2]=o[e+32>>2];o[y+80+60+4>>2]=o[e+32+4>>2];o[y+80+60+8>>2]=o[e+32+8>>2];o[y+80+60+12>>2]=o[e+32+12>>2];o[y+80+76>>2]=o[e+48>>2];o[y+80+76+4>>2]=o[e+48+4>>2];o[y+80+76+8>>2]=o[e+48+8>>2];o[y+80+76+12>>2]=o[e+48+12>>2];Wk[o[(o[n>>2]|0)+64>>2]&127](n,y+80|0,y+256|0,y+288|0);r=o[n+4>>2]|0}if((r|0)!=3){h=y;return}o[y+288>>2]=1566444395;o[y+288+4>>2]=1566444395;o[y+288+8>>2]=1566444395;l[y+288+12>>2]=0.0;o[y+256>>2]=-581039253;o[y+256+4>>2]=-581039253;o[y+256+8>>2]=-581039253;l[y+256+12>>2]=0.0;W=uk[o[(o[t>>2]|0)+20>>2]&127](t)|0;o[y+80>>2]=3252;o[y+80+4>>2]=3276;o[y+80+8>>2]=W;o[y+80+12>>2]=o[i>>2];o[y+80+12+4>>2]=o[i+4>>2];o[y+80+12+8>>2]=o[i+8>>2];o[y+80+12+12>>2]=o[i+12>>2];o[y+80+28>>2]=o[e>>2];o[y+80+28+4>>2]=o[e+4>>2];o[y+80+28+8>>2]=o[e+8>>2];o[y+80+28+12>>2]=o[e+12>>2];o[y+80+44>>2]=o[e+16>>2];o[y+80+44+4>>2]=o[e+16+4>>2];o[y+80+44+8>>2]=o[e+16+8>>2];o[y+80+44+12>>2]=o[e+16+12>>2];o[y+80+60>>2]=o[e+32>>2];o[y+80+60+4>>2]=o[e+32+4>>2];o[y+80+60+8>>2]=o[e+32+8>>2];o[y+80+60+12>>2]=o[e+32+12>>2];o[y+80+76>>2]=o[e+48>>2];o[y+80+76+4>>2]=o[e+48+4>>2];o[y+80+76+8>>2]=o[e+48+8>>2];o[y+80+76+12>>2]=o[e+48+12>>2];W=o[n+96>>2]|0;Wk[o[(o[W>>2]|0)+8>>2]&127](W,y+80+4|0,y+256|0,y+288|0);h=y;return}}}function iw(t){t=t|0;return}function rw(t){t=t|0;Kc(t);return}function ow(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0,P=0.0,D=0.0,k=0.0;n=h;h=h+96|0;u=+l[e>>2];b=+l[t+28>>2];A=+l[e+4>>2];E=+l[t+32>>2];p=+l[e+8>>2];f=+l[t+36>>2];d=+l[t+44>>2];_=+l[t+48>>2];m=+l[t+52>>2];g=+l[t+60>>2];v=+l[t+64>>2];y=+l[t+68>>2];x=+l[t+76>>2];w=+l[t+80>>2];S=+l[t+84>>2];l[n+80>>2]=u*b+A*E+p*f+x;l[n+80+4>>2]=u*d+A*_+p*m+w;l[n+80+8>>2]=u*g+A*v+p*y+S;l[n+80+12>>2]=0.0;M=+l[e+16>>2];C=+l[e+20>>2];T=+l[e+24>>2];l[n+64>>2]=M*b+C*E+T*f+x;l[n+64+4>>2]=M*d+C*_+T*m+w;l[n+64+8>>2]=M*g+C*v+T*y+S;l[n+64+12>>2]=0.0;L=+l[e+32>>2];R=+l[e+36>>2];c=+l[e+40>>2];l[n+48>>2]=L*b+R*E+c*f+x;l[n+48+4>>2]=L*d+R*_+c*m+w;l[n+48+8>>2]=L*g+R*v+c*y+S;l[n+48+12>>2]=0.0;r=(u*b+A*E+p*f+x+(M*b+C*E+T*f+x)+(L*b+R*E+c*f+x))*.3333333432674408;s=(u*d+A*_+p*m+w+(M*d+C*_+T*m+w)+(L*d+R*_+c*m+w))*.3333333432674408;a=(u*g+A*v+p*y+S+(M*g+C*v+T*y+S)+(L*g+R*v+c*y+S))*.3333333432674408;l[n+32>>2]=r;l[n+32+4>>2]=s;l[n+32+8>>2]=a;l[n+32+12>>2]=0.0;e=o[t+8>>2]|0;if(!((uk[o[(o[e>>2]|0)+56>>2]&127](e)|0)&16384)){i=o[t+8>>2]|0;I=o[i>>2]|0;I=I+16|0;I=o[I>>2]|0;e=t+12|0;Wk[I&127](i,n+80|0,n+64|0,e);i=o[t+8>>2]|0;I=o[i>>2]|0;I=I+16|0;I=o[I>>2]|0;Wk[I&127](i,n+64|0,n+48|0,e);t=o[t+8>>2]|0;i=o[t>>2]|0;i=i+16|0;i=o[i>>2]|0;Wk[i&127](t,n+48|0,n+80|0,e);h=n;return}k=+l[n+80>>2];D=M*d+C*_+T*m+w-(u*d+A*_+p*m+w);P=M*g+C*v+T*y+S-(u*g+A*v+p*y+S);w=L*d+R*_+c*m+w-(u*d+A*_+p*m+w);S=L*g+R*v+c*y+S-(u*g+A*v+p*y+S);A=P*(L*b+R*E+c*f+x-k)-(M*b+C*E+T*f+x-k)*S;R=(M*b+C*E+T*f+x-k)*w-D*(L*b+R*E+c*f+x-k);E=1.0/+V(+(R*R+((D*S-P*w)*(D*S-P*w)+A*A)));o[n+16>>2]=1065353216;o[n+16+4>>2]=1065353216;o[n+16+8>>2]=0;l[n+16+12>>2]=0.0;e=o[t+8>>2]|0;i=o[(o[e>>2]|0)+16>>2]|0;l[n>>2]=E*(D*S-P*w)+r;l[n+4>>2]=E*A+s;l[n+8>>2]=E*R+a;l[n+12>>2]=0.0;Wk[i&127](e,n+32|0,n,n+16|0);e=o[t+8>>2]|0;i=o[e>>2]|0;i=i+16|0;i=o[i>>2]|0;I=t+12|0;Wk[i&127](e,n+80|0,n+64|0,I);e=o[t+8>>2]|0;i=o[e>>2]|0;i=i+16|0;i=o[i>>2]|0;Wk[i&127](e,n+64|0,n+48|0,I);t=o[t+8>>2]|0;e=o[t>>2]|0;e=e+16|0;e=o[e>>2]|0;Wk[e&127](t,n+48|0,n+80|0,I);h=n;return}function sw(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;Wk[o[(o[t>>2]|0)+8>>2]&127](t,e,n,i);return}function aw(t){t=t|0;return}function cw(t){t=t|0;Kc(t+-4|0);return}function lw(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;Wk[o[(o[t+-4>>2]|0)+8>>2]&127](t+-4|0,e,n,i);return}function uw(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0,s=0.0,a=0.0,c=0.0,u=0,p=0,f=0.0,d=0.0,_=0.0,m=0.0;r=h;h=h+256|0;o[r+32>>2]=3296;u=r+32+36|0;o[u>>2]=o[e>>2];o[u+4>>2]=o[e+4>>2];o[u+8>>2]=o[e+8>>2];o[u+12>>2]=o[e+12>>2];p=r+32+52|0;o[p>>2]=o[n>>2];o[p+4>>2]=o[n+4>>2];o[p+8>>2]=o[n+8>>2];o[p+12>>2]=o[n+12>>2];o[r+32+212>>2]=t;o[r+32+216>>2]=i;o[r+32+68>>2]=1065353216;o[r+32+72>>2]=0;o[r+32+72+4>>2]=0;o[r+32+72+8>>2]=0;o[r+32+72+12>>2]=0;o[r+32+88>>2]=1065353216;o[r+32+92>>2]=0;o[r+32+92+4>>2]=0;o[r+32+92+8>>2]=0;o[r+32+92+12>>2]=0;o[r+32+108>>2]=1065353216;o[r+32+112>>2]=0;o[r+32+116>>2]=o[u>>2];o[r+32+116+4>>2]=o[u+4>>2];o[r+32+116+8>>2]=o[u+8>>2];o[r+32+116+12>>2]=o[u+12>>2];o[r+32+132>>2]=1065353216;o[r+32+136>>2]=0;o[r+32+136+4>>2]=0;o[r+32+136+8>>2]=0;o[r+32+136+12>>2]=0;o[r+32+152>>2]=1065353216;o[r+32+156>>2]=0;o[r+32+156+4>>2]=0;o[r+32+156+8>>2]=0;o[r+32+156+12>>2]=0;o[r+32+172>>2]=1065353216;o[r+32+176>>2]=0;o[r+32+180>>2]=o[n>>2];o[r+32+180+4>>2]=o[n+4>>2];o[r+32+180+8>>2]=o[n+8>>2];o[r+32+180+12>>2]=o[n+12>>2];f=+l[n>>2]-+l[e>>2];c=+l[n+4>>2]-+l[e+4>>2];a=+l[n+8>>2]-+l[e+8>>2];s=1.0/+V(+(f*f+c*c+a*a));m=f*s==0.0?999999984306749440.0:1.0/(f*s);l[r+32+4>>2]=m;_=c*s==0.0?999999984306749440.0:1.0/(c*s);l[r+32+8>>2]=_;d=a*s==0.0?999999984306749440.0:1.0/(a*s);l[r+32+12>>2]=d;o[r+32+20>>2]=m<0.0&1;o[r+32+24>>2]=_<0.0&1;o[r+32+28>>2]=d<0.0&1;l[r+32+32>>2]=f*s*(+l[p>>2]-+l[u>>2])+c*s*(+l[r+32+56>>2]-+l[r+32+40>>2])+a*s*(+l[r+32+60>>2]-+l[r+32+44>>2]);t=o[t+68>>2]|0;i=o[(o[t>>2]|0)+24>>2]|0;o[r+16>>2]=0;o[r+16+4>>2]=0;o[r+16+8>>2]=0;o[r+16+12>>2]=0;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;yk[i&7](t,e,n,r+32|0,r+16|0,r);h=r;return}function hw(t){t=t|0;return}function pw(t){t=t|0;Kc(t);return}function fw(t,e){t=t|0;e=e|0;var n=0,i=0,r=0;i=h;h=h+32|0;n=o[t+216>>2]|0;if(+l[n+4>>2]==0.0){t=0;h=i;return t|0}e=o[e>>2]|0;if(!(Ek[o[(o[n>>2]|0)+8>>2]&31](n,o[e+188>>2]|0)|0)){t=1;h=i;return t|0}r=o[e+192>>2]|0;n=o[t+216>>2]|0;o[i>>2]=0;o[i+4>>2]=r;o[i+8>>2]=e;o[i+12>>2]=e+4;o[i+16>>2]=-1;o[i+20>>2]=-1;dw(t+68|0,t+132|0,i,n);t=1;h=i;return t|0}function dw(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;var s=0,a=0,c=0.0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0,g=0,b=0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0;b=h;h=h+752|0;o[b+136+8>>2]=0;o[b+136+12>>2]=-1;o[b+136+16>>2]=1065353216;o[b+136+20>>2]=1065353216;o[b+136+24>>2]=1065353216;l[b+136+28>>2]=0.0;o[b+136>>2]=6380;o[b+136+4>>2]=8;l[b+136+32>>2]=0.0;l[b+136+48>>2]=0.0;m=o[n+4>>2]|0;g=o[n+12>>2]|0;s=o[m+4>>2]|0;if((s|0)<20){o[b+568>>2]=3316;o[b+568+168>>2]=0;l[b+568+172>>2]=0.0;o[b+568+164>>2]=o[r+4>>2];l[b+208+308>>2]=9.999999747378752e-05;i[b+208+332>>0]=0;o[b+192>>2]=7024;o[b+192+4>>2]=b+208;o[b+192+8>>2]=b+136;o[b+192+12>>2]=m;o[b+120>>2]=6864;o[b+120+4>>2]=b+208;o[b+120+8>>2]=b+136;o[b+120+12>>2]=m;m=(o[r+16>>2]&8|0)==0?b+192|0:b+120|0;if((Sk[o[(o[m>>2]|0)+8>>2]&3](m,t,e,g,g,b+568|0)|0?(a=b+568+132|0,c=+l[a>>2],u=+l[b+568+136>>2],p=+l[b+568+140>>2],c*c+u*u+p*p>9.999999747378752e-05):0)?(f=+l[b+568+164>>2],f<+l[r+4>>2]):0){_=1.0/+V(+(c*c+u*u+p*p));l[a>>2]=c*_;l[b+568+136>>2]=u*_;l[b+568+140>>2]=p*_;o[b>>2]=o[n+8>>2];o[b+4>>2]=0;o[b+8>>2]=o[a>>2];o[b+8+4>>2]=o[a+4>>2];o[b+8+8>>2]=o[a+8>>2];o[b+8+12>>2]=o[a+12>>2];l[b+24>>2]=f;+Rk[o[(o[r>>2]|0)+12>>2]&15](r,b,1)}h=b;return}if((s+-21|0)>>>0>=9){if((s|0)!=31){h=b;return}s=o[m+68>>2]|0;n=o[n+8>>2]|0;o[b+568>>2]=3392;o[b+568+4>>2]=n;o[b+568+8>>2]=m;o[b+568+12>>2]=g;o[b+568+16>>2]=t;o[b+568+20>>2]=e;o[b+568+24>>2]=r;if(!s){s=o[m+20>>2]|0;if((s|0)>0){a=0;do{Tw(b+568|0,a);a=a+1|0}while((a|0)<(s|0))}}else{c=+l[g+48>>2];A=+l[t+48>>2]-c;p=+l[g+52>>2];T=+l[t+52>>2]-p;d=+l[g+56>>2];C=+l[t+56>>2]-d;M=+l[g>>2];S=+l[g+16>>2];w=+l[g+32>>2];x=+l[g+4>>2];y=+l[g+20>>2];v=+l[g+36>>2];u=+l[g+8>>2];f=+l[g+24>>2];_=+l[g+40>>2];l[b+208>>2]=A*M+T*S+C*w;l[b+208+4>>2]=A*x+T*y+C*v;l[b+208+8>>2]=A*u+T*f+C*_;l[b+208+12>>2]=0.0;c=+l[e+48>>2]-c;p=+l[e+52>>2]-p;d=+l[e+56>>2]-d;Iw(o[s>>2]|0,b+208|0,c*M+p*S+d*w,c*x+p*y+d*v,c*u+p*f+d*_,b+568|0)}h=b;return}R=+l[g>>2];E=+l[g+16>>2];f=+l[g+32>>2];L=+l[g+4>>2];v=+l[g+20>>2];d=+l[g+36>>2];S=+l[g+8>>2];C=+l[g+24>>2];A=+l[g+40>>2];y=-+l[g+48>>2];x=-+l[g+52>>2];w=-+l[g+56>>2];T=+l[t+48>>2];M=+l[t+52>>2];p=+l[t+56>>2];c=R*y+E*x+f*w+(R*T+E*M+f*p);u=L*y+v*x+d*w+(L*T+v*M+d*p);p=S*y+C*x+A*w+(S*T+C*M+A*p);l[b+120>>2]=c;l[b+120+4>>2]=u;l[b+120+8>>2]=p;l[b+120+12>>2]=0.0;M=+l[e+48>>2];T=+l[e+52>>2];_=+l[e+56>>2];f=R*y+E*x+f*w+(R*M+E*T+f*_);d=L*y+v*x+d*w+(L*M+v*T+d*_);_=S*y+C*x+A*w+(S*M+C*T+A*_);if((o[m+4>>2]|0)==21){s=o[n+8>>2]|0;n=o[r+16>>2]|0;o[b+4>>2]=o[b+120>>2];o[b+4+4>>2]=o[b+120+4>>2];o[b+4+8>>2]=o[b+120+8>>2];o[b+4+12>>2]=o[b+120+12>>2];l[b+20>>2]=f;l[b+24>>2]=d;l[b+28>>2]=_;l[b+32>>2]=0.0;o[b+36>>2]=n;l[b+40>>2]=1.0;o[b>>2]=3344;o[b+44>>2]=r;o[b+48>>2]=s;o[b+52>>2]=m;o[b+56>>2]=o[g>>2];o[b+56+4>>2]=o[g+4>>2];o[b+56+8>>2]=o[g+8>>2];o[b+56+12>>2]=o[g+12>>2];o[b+72>>2]=o[g+16>>2];o[b+72+4>>2]=o[g+16+4>>2];o[b+72+8>>2]=o[g+16+8>>2];o[b+72+12>>2]=o[g+16+12>>2];o[b+88>>2]=o[g+32>>2];o[b+88+4>>2]=o[g+32+4>>2];o[b+88+8>>2]=o[g+32+8>>2];o[b+88+12>>2]=o[g+32+12>>2];o[b+104>>2]=o[g+48>>2];o[b+104+4>>2]=o[g+48+4>>2];o[b+104+8>>2]=o[g+48+8>>2];o[b+104+12>>2]=o[g+48+12>>2];o[b+40>>2]=o[r+4>>2];s=o[m+52>>2]|0;o[b+192>>2]=4836;o[b+192+4>>2]=s;o[b+192+8>>2]=b;s=o[m+56>>2]|0;o[b+568>>2]=0;o[b+568+4>>2]=0;o[b+568+8>>2]=0;o[b+568+12>>2]=0;o[b+208>>2]=0;o[b+208+4>>2]=0;o[b+208+8>>2]=0;o[b+208+12>>2]=0;if(!(i[s+60>>0]|0))QP(s,b+192|0,b+120|0,f,d,_,b+568|0,b+208|0);else tD(s,b+192|0,b+120|0,f,d,_,b+568|0,b+208|0,o[s+56>>2]|0)}else{n=o[n+8>>2]|0;e=o[r+16>>2]|0;l[b+568+4>>2]=c;l[b+568+8>>2]=u;l[b+568+12>>2]=p;l[b+568+16>>2]=0.0;l[b+568+20>>2]=f;l[b+568+24>>2]=d;l[b+568+28>>2]=_;l[b+568+32>>2]=0.0;o[b+568+36>>2]=e;l[b+568+40>>2]=1.0;o[b+568>>2]=3368;o[b+568+44>>2]=r;o[b+568+48>>2]=n;o[b+568+52>>2]=m;o[b+568+56>>2]=o[g>>2];o[b+568+56+4>>2]=o[g+4>>2];o[b+568+56+8>>2]=o[g+8>>2];o[b+568+56+12>>2]=o[g+12>>2];o[b+568+72>>2]=o[g+16>>2];o[b+568+72+4>>2]=o[g+16+4>>2];o[b+568+72+8>>2]=o[g+16+8>>2];o[b+568+72+12>>2]=o[g+16+12>>2];o[b+568+88>>2]=o[g+32>>2];o[b+568+88+4>>2]=o[g+32+4>>2];o[b+568+88+8>>2]=o[g+32+8>>2];o[b+568+88+12>>2]=o[g+32+12>>2];o[b+568+104>>2]=o[g+48>>2];o[b+568+104+4>>2]=o[g+48+4>>2];o[b+568+104+8>>2]=o[g+48+8>>2];o[b+568+104+12>>2]=o[g+48+12>>2];o[b+568+40>>2]=o[r+4>>2];l[b+208>>2]=c;l[b+208+4>>2]=u;l[b+208+8>>2]=p;l[b+208+12>>2]=0.0;if(f<c)l[b+208>>2]=f;if(d<u)l[b+208+4>>2]=d;if(_<p)l[b+208+8>>2]=_;l[b+192>>2]=c;l[b+192+4>>2]=u;l[b+192+8>>2]=p;l[b+192+12>>2]=0.0;if(c<f)l[b+192>>2]=f;if(u<d)l[b+192+4>>2]=d;if(p<_)l[b+192+8>>2]=_;Wk[o[(o[m>>2]|0)+64>>2]&127](m,b+568|0,b+208|0,b+192|0)}h=b;return}function _w(t,e){t=t|0;e=+e;return}function mw(t,e){t=t|0;e=e|0;return}function gw(t,e,n){t=t|0;e=e|0;n=n|0;return}function bw(t){t=t|0;return}function vw(t){t=t|0;Kc(t);return}function yw(t){t=t|0;Kc(t);return}function xw(t,e,n,i,r){t=t|0;e=e|0;n=+n;i=i|0;r=r|0;var s=0,a=0.0,c=0.0,u=0.0,p=0.0,f=0.0;s=h;h=h+48|0;o[s+32>>2]=i;o[s+32+4>>2]=r;f=+l[e>>2];p=+l[e+4>>2];a=+l[e+8>>2];u=+l[t+56>>2]*f+ +l[t+60>>2]*p+ +l[t+64>>2]*a;c=f*+l[t+72>>2]+p*+l[t+76>>2]+a*+l[t+80>>2];a=f*+l[t+88>>2]+p*+l[t+92>>2]+a*+l[t+96>>2];o[s>>2]=o[t+48>>2];o[s+4>>2]=s+32;l[s+8>>2]=u;l[s+12>>2]=c;l[s+16>>2]=a;l[s+20>>2]=0.0;l[s+24>>2]=n;r=o[t+44>>2]|0;n=+Rk[o[(o[r>>2]|0)+12>>2]&15](r,s,1);h=s;return+n}function ww(t){t=t|0;Kc(t);return}function Sw(t,e,n,i,r){t=t|0;e=e|0;n=+n;i=i|0;r=r|0;var s=0,a=0.0,c=0.0,u=0.0,p=0.0,f=0.0;s=h;h=h+48|0;o[s+32>>2]=i;o[s+32+4>>2]=r;f=+l[e>>2];p=+l[e+4>>2];a=+l[e+8>>2];u=+l[t+56>>2]*f+ +l[t+60>>2]*p+ +l[t+64>>2]*a;c=f*+l[t+72>>2]+p*+l[t+76>>2]+a*+l[t+80>>2];a=f*+l[t+88>>2]+p*+l[t+92>>2]+a*+l[t+96>>2];o[s>>2]=o[t+48>>2];o[s+4>>2]=s+32;l[s+8>>2]=u;l[s+12>>2]=c;l[s+16>>2]=a;l[s+20>>2]=0.0;l[s+24>>2]=n;r=o[t+44>>2]|0;n=+Rk[o[(o[r>>2]|0)+12>>2]&15](r,s,1);h=s;return+n}function Mw(t){t=t|0;Kc(t);return}function Cw(t,e){t=t|0;e=e|0;Tw(t,o[e+36>>2]|0);return}function Tw(t,e){t=t|0;e=e|0;var n=0,i=0,s=0,a=0.0,c=0.0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0;n=h;h=h+128|0;P=o[(o[t+8>>2]|0)+28>>2]|0;s=o[P+(e*80|0)+64>>2]|0;i=o[t+12>>2]|0;S=+l[P+(e*80|0)>>2];E=+l[i>>2];w=+l[P+(e*80|0)+16>>2];L=+l[i+4>>2];x=+l[P+(e*80|0)+32>>2];A=+l[i+8>>2];y=+l[P+(e*80|0)+4>>2];v=+l[P+(e*80|0)+20>>2];b=+l[P+(e*80|0)+36>>2];g=+l[P+(e*80|0)+8>>2];_=+l[P+(e*80|0)+24>>2];f=+l[P+(e*80|0)+40>>2];T=+l[i+16>>2];C=+l[i+20>>2];M=+l[i+24>>2];m=+l[i+32>>2];d=+l[i+36>>2];p=+l[i+40>>2];I=+l[P+(e*80|0)+48>>2];R=+l[P+(e*80|0)+52>>2];a=+l[P+(e*80|0)+56>>2];u=+l[i+48>>2]+(E*I+L*R+A*a);c=T*I+C*R+M*a+ +l[i+52>>2];a=m*I+d*R+p*a+ +l[i+56>>2];l[n+56>>2]=S*E+w*L+x*A;l[n+56+4>>2]=E*y+L*v+A*b;l[n+56+8>>2]=E*g+L*_+A*f;l[n+56+12>>2]=0.0;l[n+56+16>>2]=S*T+w*C+x*M;l[n+56+20>>2]=y*T+v*C+b*M;l[n+56+24>>2]=g*T+_*C+f*M;l[n+56+28>>2]=0.0;l[n+56+32>>2]=S*m+w*d+x*p;l[n+56+36>>2]=y*m+v*d+b*p;l[n+56+40>>2]=g*m+_*d+f*p;l[n+56+44>>2]=0.0;l[n+56+48>>2]=u;l[n+56+52>>2]=c;l[n+56+56>>2]=a;l[n+56+60>>2]=0.0;i=o[t+4>>2]|0;o[n+32>>2]=0;o[n+32+4>>2]=s;o[n+32+8>>2]=i;o[n+32+12>>2]=n+56;o[n+32+16>>2]=-1;o[n+32+20>>2]=e;i=o[t+24>>2]|0;l[n+4>>2]=1.0;o[n+8>>2]=0;r[n+12>>1]=1;r[n+14>>1]=-1;o[n+16>>2]=0;o[n>>2]=3428;o[n+20>>2]=i;o[n+24>>2]=e;o[n+4>>2]=o[i+4>>2];o[n+16>>2]=o[i+16>>2];dw(o[t+16>>2]|0,o[t+20>>2]|0,n+32|0,n);h=n;return}function Aw(t){t=t|0;return}function Lw(t){t=t|0;Kc(t);return}function Ew(t,e){t=t|0;e=e|0;t=o[t+20>>2]|0;return Ek[o[(o[t>>2]|0)+8>>2]&31](t,e)|0}function Rw(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0.0,s=0;i=h;h=h+16|0;o[i>>2]=-1;o[i+4>>2]=o[t+24>>2];if(!(o[e+4>>2]|0))o[e+4>>2]=i;s=o[t+20>>2]|0;r=+Rk[o[(o[s>>2]|0)+12>>2]&15](s,e,n);o[t+4>>2]=o[(o[t+20>>2]|0)+4>>2];h=i;return+r}function Iw(t,e,n,i,r,s){t=t|0;e=e|0;n=+n;i=+i;r=+r;s=s|0;var a=0,c=0,u=0.0,p=0,f=0,d=0,_=0,m=0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0,E=0;E=h;h=h+32|0;if(!t){h=E;return}S=n-+l[e>>2];w=i-+l[e+4>>2];x=r-+l[e+8>>2];g=1.0/+V(+(S*S+w*w+x*x));b=S*g==0.0?999999984306749440.0:1.0/(S*g);v=w*g==0.0?999999984306749440.0:1.0/(w*g);y=x*g==0.0?999999984306749440.0:1.0/(x*g);o[5637]=(o[5637]|0)+1;a=Jc(531)|0;if(!a)a=0;else{o[(a+4+15&-16)+-4>>2]=a;a=a+4+15&-16}Il(a|0,0,512)|0;o[a>>2]=t;m=1;t=128;p=128;c=126;while(1){f=m+-1|0;_=o[a+(f<<2)>>2]|0;o[E>>2]=o[_>>2];o[E+4>>2]=o[_+4>>2];o[E+8>>2]=o[_+8>>2];o[E+12>>2]=o[_+12>>2];o[E+16>>2]=o[_+16>>2];o[E+16+4>>2]=o[_+16+4>>2];o[E+16+8>>2]=o[_+16+8>>2];o[E+16+12>>2]=o[_+16+12>>2];i=+l[e>>2];n=b*(+l[E+((b<0.0&1)<<4)>>2]-i);i=b*(+l[E+((b<0.0^1)<<4)>>2]-i);u=+l[e+4>>2];r=v*(+l[E+((v<0.0&1)<<4)+4>>2]-u);u=v*(+l[E+((v<0.0^1)<<4)+4>>2]-u);do{if((!(r>i|n>u)?(M=r>n?r:n,A=u<i?u:i,T=+l[e+8>>2],C=y*(+l[E+((y<0.0&1)<<4)+8>>2]-T),T=y*(+l[E+((y<0.0^1)<<4)+8>>2]-T),!(C>A|M>T)):0)?(T<A?T:A)>0.0?(C>M?C:M)<S*g*S+w*g*w+x*g*x:0:0){if(!(o[_+40>>2]|0)){ck[o[(o[s>>2]|0)+12>>2]&127](s,_);break}if((f|0)>(c|0)){d=p<<1;if((p|0)<(d|0)){do{if((t|0)<(d|0)){if(p){o[5637]=(o[5637]|0)+1;t=Jc((p<<3|3)+16|0)|0;if(!t)t=0;else{o[(t+4+15&-16)+-4>>2]=t;t=t+4+15&-16}if((p|0)>0){c=0;do{o[t+(c<<2)>>2]=o[a+(c<<2)>>2];c=c+1|0}while((c|0)!=(p|0))}else L=17}else{t=0;L=17}if((L|0)==17){L=0;if(!a){c=d;a=t;break}}o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0);c=d;a=t}else c=t}while(0);Il(a+(p<<2)|0,0,p<<2|0)|0;t=c}p=d;c=d+-2|0}o[a+(f<<2)>>2]=o[_+36>>2];o[a+(m<<2)>>2]=o[_+40>>2];f=m+1|0}}while(0);if(!f)break;else m=f}if(!a){h=E;return}o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0);h=E;return}function Pw(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;var s=0,a=0,c=0,l=0,u=0;u=h;h=h+96|0;s=o[t+8>>2]|0;if((s|0)==(o[t+12>>2]|0)?(l=s|0?s<<1:1,(s|0)<(l|0)):0){if(!l)c=0;else{o[5637]=(o[5637]|0)+1;s=Jc((l<<2|3)+16|0)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}c=s;s=o[t+8>>2]|0}if((s|0)>0){a=0;do{o[c+(a<<2)>>2]=o[(o[t+16>>2]|0)+(a<<2)>>2];a=a+1|0}while((a|0)!=(s|0))}a=o[t+16>>2]|0;if(a){if(i[t+20>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0);s=o[t+8>>2]|0}o[t+16>>2]=0}i[t+20>>0]=1;o[t+16>>2]=c;o[t+12>>2]=l}o[(o[t+16>>2]|0)+(s<<2)>>2]=e;o[t+8>>2]=s+1;o[u+32>>2]=o[e+4>>2];o[u+32+4>>2]=o[e+4+4>>2];o[u+32+8>>2]=o[e+4+8>>2];o[u+32+12>>2]=o[e+4+12>>2];o[u+32+16>>2]=o[e+20>>2];o[u+32+16+4>>2]=o[e+20+4>>2];o[u+32+16+8>>2]=o[e+20+8>>2];o[u+32+16+12>>2]=o[e+20+12>>2];o[u+32+32>>2]=o[e+36>>2];o[u+32+32+4>>2]=o[e+36+4>>2];o[u+32+32+8>>2]=o[e+36+8>>2];o[u+32+32+12>>2]=o[e+36+12>>2];o[u+32+48>>2]=o[e+52>>2];o[u+32+48+4>>2]=o[e+52+4>>2];o[u+32+48+8>>2]=o[e+52+8>>2];o[u+32+48+12>>2]=o[e+52+12>>2];l=o[e+192>>2]|0;Wk[o[(o[l>>2]|0)+8>>2]&127](l,u+32|0,u+16|0,u);l=o[t+68>>2]|0;o[e+188>>2]=Bk[o[(o[l>>2]|0)+8>>2]&3](l,u+16|0,u,o[(o[e+192>>2]|0)+4>>2]|0,e,n,r,o[t+24>>2]|0,0)|0;h=u;return}function Dw(t,e){t=t|0;e=e|0;var n=0,i=0,r=0,s=0,a=0;n=o[e+188>>2]|0;if(n|0){s=o[t+68>>2]|0;s=uk[o[(o[s>>2]|0)+36>>2]&127](s)|0;Uk[o[(o[s>>2]|0)+40>>2]&127](s,n,o[t+24>>2]|0);s=o[t+68>>2]|0;Uk[o[(o[s>>2]|0)+12>>2]&127](s,n,o[t+24>>2]|0);o[e+188>>2]=0}r=o[t+8>>2]|0;if((r|0)<=0)return;s=o[t+16>>2]|0;n=0;while(1){i=s+(n<<2)|0;if((o[i>>2]|0)==(e|0))break;n=n+1|0;if((n|0)>=(r|0)){a=9;break}}if((a|0)==9)return;if((n|0)>=(r|0))return;o[i>>2]=o[s+(r+-1<<2)>>2];o[(o[t+16>>2]|0)+(r+-1<<2)>>2]=e;o[t+8>>2]=r+-1;return}function kw(t){t=t|0;var e=0,n=0,i=0,r=0;n=h;h=h+16|0;Wh(10245);sk[o[(o[t>>2]|0)+8>>2]&255](t);sk[o[(o[t>>2]|0)+12>>2]&255](t);e=o[t+24>>2]|0;Wh(10279);if(e|0){r=o[(o[e>>2]|0)+32>>2]|0;i=o[t+68>>2]|0;i=uk[o[(o[i>>2]|0)+36>>2]&127](i)|0;Wk[r&127](e,i,t+28|0,o[t+24>>2]|0)}t=o[2006]|0;r=(o[t+16>>2]|0)+-1|0;o[t+16>>2]=r;do{if(!r){if(o[t+4>>2]|0){fe(n|0,0)|0;e=o[5649]|0;l[t+8>>2]=+l[t+8>>2]+ +(((o[n+4>>2]|0)-(o[e+4>>2]|0)+(((o[n>>2]|0)-(o[e>>2]|0)|0)*1e6|0)-(o[t+12>>2]|0)|0)>>>0)/1.0e3;e=o[2006]|0;if(o[t+16>>2]|0)break}else e=t;e=o[e+20>>2]|0;o[2006]=e}else e=t}while(0);t=e+16|0;r=(o[t>>2]|0)+-1|0;o[t>>2]=r;if(r|0){h=n;return}do{if(o[e+4>>2]|0){fe(n|0,0)|0;i=o[5649]|0;r=e+8|0;l[r>>2]=+l[r>>2]+ +(((o[n+4>>2]|0)-(o[i+4>>2]|0)+(((o[n>>2]|0)-(o[i>>2]|0)|0)*1e6|0)-(o[e+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[t>>2]|0)){e=o[2006]|0;break}else{h=n;return}}}while(0);o[2006]=o[e+20>>2];h=n;return}function Ow(t,e){t=t|0;e=e|0;sk[o[(o[e>>2]|0)+32>>2]&255](e);Nw(t,e);sk[o[(o[e>>2]|0)+36>>2]&255](e);return}function Nw(t,e){t=t|0;e=e|0;var n=0,r=0,s=0,a=0,c=0,l=0,u=0,p=0,f=0,d=0,_=0,m=0,g=0,b=0,v=0,y=0,x=0,w=0,S=0;S=h;h=h+80|0;i[S+16>>0]=1;o[S+12>>2]=0;o[S+4>>2]=0;o[S+8>>2]=0;i[S+36>>0]=1;o[S+32>>2]=0;o[S+24>>2]=0;o[S+28>>2]=0;i[S+56>>0]=1;o[S+52>>2]=0;o[S+44>>2]=0;o[S+48>>2]=0;i[S+76>>0]=1;o[S+72>>2]=0;o[S+64>>2]=0;o[S+68>>2]=0;n=o[t+8>>2]|0;if((n|0)<=0){Fw(S);h=S;return}c=0;l=0;s=0;r=0;g=0;while(1){m=o[(o[(o[t+16>>2]|0)+(g<<2)>>2]|0)+192>>2]|0;_=(m+~(m<<15)>>10^m+~(m<<15))*9|0;_=(_>>6^_)+~((_>>6^_)<<11)>>16^(_>>6^_)+~((_>>6^_)<<11);d=_&c+-1;u=d>>>0<l>>>0;t:do{if(u){a=o[s+(d<<2)>>2]|0;if((a|0)!=-1){p=o[S+72>>2]|0;while(1){if((m|0)==(o[p+(a<<3)>>2]|0)){f=9;break}l=o[r+(a<<2)>>2]|0;if((l|0)==-1)break;else a=l}if((f|0)==9?(f=0,(o[S+52>>2]|0)+(a<<2)|0):0)break;if(!u){f=16;break}}n=o[s+(d<<2)>>2]|0;if((n|0)!=-1){a=o[S+72>>2]|0;while(1){if((m|0)==(o[a+(n<<3)>>2]|0))break;n=o[r+(n<<2)>>2]|0;if((n|0)==-1){f=16;break t}}o[(o[S+52>>2]|0)+(n<<2)>>2]=m;n=c;f=78}else f=16}else f=16}while(0);if((f|0)==16){u=o[S+44>>2]|0;if((u|0)==(c|0)){n=c|0?c<<1:1;if((c|0)<(n|0)){if((n|0)!=0?(o[5637]=(o[5637]|0)+1,w=Jc((n<<2|3)+16|0)|0,(w|0)!=0):0){o[(w+4+15&-16)+-4>>2]=w;s=w+4+15&-16}else s=0;if((c|0)>0){r=0;do{o[s+(r<<2)>>2]=o[(o[S+52>>2]|0)+(r<<2)>>2];r=r+1|0}while((r|0)!=(c|0))}r=o[S+52>>2]|0;if(r|0){if(i[S+56>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0)}o[S+52>>2]=0}i[S+56>>0]=1;o[S+52>>2]=s;o[S+48>>2]=n;r=c}else{r=c;n=c}}else{r=u;n=c}o[(o[S+52>>2]|0)+(r<<2)>>2]=m;o[S+44>>2]=r+1;r=o[S+64>>2]|0;if((r|0)==(o[S+68>>2]|0)?(b=r|0?r<<1:1,(r|0)<(b|0)):0){if((b|0)!=0?(o[5637]=(o[5637]|0)+1,v=Jc((b<<3|3)+16|0)|0,(v|0)!=0):0){o[(v+4+15&-16)+-4>>2]=v;s=v+4+15&-16}else s=0;if((r|0)>0){n=0;do{l=(o[S+72>>2]|0)+(n<<3)|0;p=o[l+4>>2]|0;f=s+(n<<3)|0;o[f>>2]=o[l>>2];o[f+4>>2]=p;n=n+1|0}while((n|0)!=(r|0))}n=o[S+72>>2]|0;if(n|0){if(i[S+76>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[S+72>>2]=0}i[S+76>>0]=1;o[S+72>>2]=s;o[S+68>>2]=b;r=o[S+64>>2]|0;n=o[S+48>>2]|0}f=(o[S+72>>2]|0)+(r<<3)|0;o[f>>2]=m;o[f+4>>2]=0;o[S+64>>2]=r+1;if((c|0)<(n|0)){l=o[S+4>>2]|0;do{if((n|0)>(l|0)){if((n|0)>=(l|0)){do{if((o[S+8>>2]|0)<(n|0)){if((n|0)!=0?(o[5637]=(o[5637]|0)+1,y=Jc((n<<2|3)+16|0)|0,(y|0)!=0):0){o[(y+4+15&-16)+-4>>2]=y;r=y+4+15&-16}else r=0;s=o[S+12>>2]|0;if((l|0)<=0){if(!s){i[S+16>>0]=1;o[S+12>>2]=r;o[S+8>>2]=n;break}}else{a=0;do{o[r+(a<<2)>>2]=o[s+(a<<2)>>2];a=a+1|0}while((a|0)!=(l|0))}if(i[S+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0)}i[S+16>>0]=1;o[S+12>>2]=r;o[S+8>>2]=n}else r=o[S+12>>2]|0}while(0);Il(r+(l<<2)|0,0,n-l<<2|0)|0}o[S+4>>2]=n;c=o[S+24>>2]|0;if((n|0)>(c|0)){do{if((o[S+28>>2]|0)<(n|0)){if((n|0)!=0?(o[5637]=(o[5637]|0)+1,x=Jc((n<<2|3)+16|0)|0,(x|0)!=0):0){o[(x+4+15&-16)+-4>>2]=x;r=x+4+15&-16}else r=0;s=o[S+32>>2]|0;if((c|0)<=0){if(!s){i[S+36>>0]=1;o[S+32>>2]=r;o[S+28>>2]=n;break}}else{a=0;do{o[r+(a<<2)>>2]=o[s+(a<<2)>>2];a=a+1|0}while((a|0)!=(c|0))}if(i[S+36>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0)}i[S+36>>0]=1;o[S+32>>2]=r;o[S+28>>2]=n}else r=o[S+32>>2]|0}while(0);Il(r+(c<<2)|0,0,n-c<<2|0)|0}o[S+24>>2]=n;if((n|0)>0){d=n<<2;Il(o[S+12>>2]|0,-1,d|0)|0;Il(o[S+32>>2]|0,-1,d|0)|0}if((l|0)<=0){n=o[S+48>>2]|0;break}r=o[S+72>>2]|0;s=o[S+12>>2]|0;a=o[S+32>>2]|0;n=o[S+48>>2]|0;c=0;do{d=o[r+(c<<3)>>2]|0;d=(d+~(d<<15)>>10^d+~(d<<15))*9|0;d=s+((((d>>6^d)+~((d>>6^d)<<11)>>16^(d>>6^d)+~((d>>6^d)<<11))&n+-1)<<2)|0;o[a+(c<<2)>>2]=o[d>>2];o[d>>2]=c;c=c+1|0}while((c|0)!=(l|0))}}while(0);r=n;n=_&n+-1}else{r=n;n=d}s=o[S+12>>2]|0;n=s+(n<<2)|0;f=o[S+32>>2]|0;o[f+(u<<2)>>2]=o[n>>2];o[n>>2]=u;n=r;r=f;f=78}if((f|0)==78){f=0;ck[o[(o[m>>2]|0)+60>>2]&127](m,e);c=n;n=o[t+8>>2]|0}a=g+1|0;if((a|0)>=(n|0))break;l=o[S+4>>2]|0;g=a}if((n|0)>0)s=0;else{Fw(S);h=S;return}do{r=o[(o[t+16>>2]|0)+(s<<2)>>2]|0;switch(o[r+236>>2]|0){case 64:case 1:{ck[o[(o[r>>2]|0)+24>>2]&127](r,e);n=o[t+8>>2]|0;break}default:{}}s=s+1|0}while((s|0)<(n|0));Fw(S);h=S;return}function Fw(t){t=t|0;var e=0;e=o[t+72>>2]|0;if(e|0){if(i[t+76>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+72>>2]=0}i[t+76>>0]=1;o[t+72>>2]=0;o[t+64>>2]=0;o[t+68>>2]=0;e=o[t+52>>2]|0;if(e|0){if(i[t+56>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+52>>2]=0}i[t+56>>0]=1;o[t+52>>2]=0;o[t+44>>2]=0;o[t+48>>2]=0;e=o[t+32>>2]|0;if(e|0){if(i[t+36>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+32>>2]=0}i[t+36>>0]=1;o[t+32>>2]=0;o[t+24>>2]=0;o[t+28>>2]=0;e=o[t+12>>2]|0;if(!e){i[t+16>>0]=1;o[t+12>>2]=0;o[t+4>>2]=0;t=t+8|0;o[t>>2]=0;return}if(i[t+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+12>>2]=0;i[t+16>>0]=1;o[t+12>>2]=0;o[t+4>>2]=0;t=t+8|0;o[t>>2]=0;return}function Bw(t,e,n,s,a,c){t=t|0;e=e|0;n=n|0;s=s|0;a=a|0;c=+c;var u=0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0,x=0.0,w=0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0,R=0,I=0,P=0.0,D=0.0,k=0.0,O=0.0,N=0.0,F=0.0,B=0.0,j=0.0,U=0.0;I=h;h=h+896|0;R=o[s+4>>2]|0;E=o[s+12>>2]|0;w=o[R+4>>2]|0;if((w|0)<20){o[I+712>>2]=3316;o[I+712+168>>2]=0;l[I+712+172>>2]=c;o[I+712+164>>2]=o[a+4>>2];l[I+352+308>>2]=9.999999747378752e-05;i[I+352+332>>0]=0;o[I+288>>2]=6908;o[I+64>>2]=6816;o[I+64+4>>2]=I+352;o[I+64+8>>2]=I+288;o[I+64+12>>2]=t;o[I+64+16>>2]=R;o[I+64+20>>2]=0;if((ky(I+64|0,e,n,E,E,I+712|0)|0?(u=I+712+132|0,p=+l[u>>2],f=+l[I+712+136>>2],_=+l[I+712+140>>2],p*p+f*f+_*_>9.999999747378752e-05):0)?(v=+l[I+712+164>>2],v<+l[a+4>>2]):0){c=1.0/+V(+(p*p+f*f+_*_));l[u>>2]=p*c;l[I+712+136>>2]=f*c;l[I+712+140>>2]=_*c;o[I+16>>2]=o[s+8>>2];o[I+16+4>>2]=0;o[I+16+8>>2]=o[u>>2];o[I+16+8+4>>2]=o[u+4>>2];o[I+16+8+8>>2]=o[u+8>>2];o[I+16+8+12>>2]=o[u+12>>2];o[I+16+24>>2]=o[I+712+148>>2];o[I+16+24+4>>2]=o[I+712+148+4>>2];o[I+16+24+8>>2]=o[I+712+148+8>>2];o[I+16+24+12>>2]=o[I+712+148+12>>2];l[I+16+40>>2]=v;+Rk[o[(o[a>>2]|0)+12>>2]&15](a,I+16|0,1)}h=I;return}if((w+-21|0)>>>0>=9){if((w|0)!=31){h=I;return}Wh(10657);if((o[R+20>>2]|0)>0){u=0;do{y=o[R+28>>2]|0;p=+l[y+(u*80|0)>>2];_=+l[y+(u*80|0)+4>>2];b=+l[y+(u*80|0)+8>>2];f=+l[y+(u*80|0)+16>>2];m=+l[y+(u*80|0)+20>>2];x=+l[y+(u*80|0)+24>>2];d=+l[y+(u*80|0)+32>>2];g=+l[y+(u*80|0)+36>>2];M=+l[y+(u*80|0)+40>>2];j=+l[y+(u*80|0)+48>>2];B=+l[y+(u*80|0)+52>>2];L=+l[y+(u*80|0)+56>>2];y=o[y+(u*80|0)+64>>2]|0;F=+l[E>>2];N=+l[E+4>>2];O=+l[E+8>>2];k=+l[E+16>>2];D=+l[E+20>>2];P=+l[E+24>>2];v=+l[E+32>>2];S=+l[E+36>>2];C=+l[E+40>>2];T=j*F+B*N+L*O+ +l[E+48>>2];A=j*k+B*D+L*P+ +l[E+52>>2];L=j*v+B*S+L*C+ +l[E+56>>2];l[I+712>>2]=p*F+f*N+d*O;l[I+712+4>>2]=_*F+m*N+g*O;l[I+712+8>>2]=b*F+x*N+M*O;l[I+712+12>>2]=0.0;l[I+712+16>>2]=p*k+f*D+d*P;l[I+712+20>>2]=_*k+m*D+g*P;l[I+712+24>>2]=b*k+x*D+M*P;l[I+712+28>>2]=0.0;l[I+712+32>>2]=p*v+f*S+d*C;l[I+712+36>>2]=_*v+m*S+g*C;l[I+712+40>>2]=b*v+x*S+M*C;l[I+712+44>>2]=0.0;l[I+712+48>>2]=T;l[I+712+52>>2]=A;l[I+712+56>>2]=L;l[I+712+60>>2]=0.0;r[I+352+8>>1]=1;r[I+352+10>>1]=-1;o[I+352>>2]=3500;o[I+352+12>>2]=a;o[I+352+16>>2]=u;o[I+352+4>>2]=o[a+4>>2];w=o[s+8>>2]|0;o[I+288>>2]=s;o[I+288+4>>2]=y;o[I+288+8>>2]=w;o[I+288+12>>2]=I+712;o[I+288+16>>2]=-1;o[I+288+20>>2]=u;Bw(t,e,n,I+288|0,I+352|0,c);u=u+1|0}while((u|0)<(o[R+20>>2]|0))}u=o[2006]|0;R=(o[u+16>>2]|0)+-1|0;o[u+16>>2]=R;if(R|0){h=I;return}do{if(o[u+4>>2]|0){fe(I+712|0,0)|0;R=o[5649]|0;l[u+8>>2]=+l[u+8>>2]+ +(((o[I+712+4>>2]|0)-(o[R+4>>2]|0)+(((o[I+712>>2]|0)-(o[R>>2]|0)|0)*1e6|0)-(o[u+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[u+16>>2]|0)){u=o[2006]|0;break}else{h=I;return}}}while(0);o[2006]=o[u+20>>2];h=I;return}switch(w|0){case 21:{_=+l[E>>2];m=+l[E+16>>2];g=+l[E+32>>2];b=+l[E+4>>2];v=+l[E+20>>2];x=+l[E+36>>2];S=+l[E+8>>2];M=+l[E+24>>2];C=+l[E+40>>2];T=-+l[E+48>>2];A=-+l[E+52>>2];L=-+l[E+56>>2];d=+l[e+48>>2];f=+l[e+52>>2];p=+l[e+56>>2];l[I+352>>2]=_*T+m*A+g*L+(_*d+m*f+g*p);l[I+352+4>>2]=b*T+v*A+x*L+(b*d+v*f+x*p);l[I+352+8>>2]=S*T+M*A+C*L+(S*d+M*f+C*p);l[I+352+12>>2]=0.0;p=+l[n+48>>2];f=+l[n+52>>2];d=+l[n+56>>2];U=+l[n>>2];P=+l[n+16>>2];D=+l[n+32>>2];k=+l[n+4>>2];O=+l[n+20>>2];N=+l[n+36>>2];F=+l[n+8>>2];B=+l[n+24>>2];j=+l[n+40>>2];l[I+288>>2]=_*U+m*P+g*D;l[I+288+4>>2]=_*k+m*O+g*N;l[I+288+8>>2]=_*F+m*B+g*j;l[I+288+12>>2]=0.0;l[I+288+16>>2]=b*U+v*P+x*D;l[I+288+20>>2]=b*k+v*O+x*N;l[I+288+24>>2]=b*F+v*B+x*j;l[I+288+28>>2]=0.0;l[I+288+32>>2]=S*U+M*P+C*D;l[I+288+36>>2]=S*k+M*O+C*N;l[I+288+40>>2]=S*F+M*B+C*j;u=I+288+44|0;o[u>>2]=0;o[u+4>>2]=0;o[u+8>>2]=0;o[u+12>>2]=0;o[u+16>>2]=0;u=o[s+8>>2]|0;j=+wk[o[(o[R>>2]|0)+48>>2]&15](R);o[I+64>>2]=7e3;o[I+64+4>>2]=t;o[I+64+8>>2]=o[e>>2];o[I+64+8+4>>2]=o[e+4>>2];o[I+64+8+8>>2]=o[e+8>>2];o[I+64+8+12>>2]=o[e+12>>2];o[I+64+24>>2]=o[e+16>>2];o[I+64+24+4>>2]=o[e+16+4>>2];o[I+64+24+8>>2]=o[e+16+8>>2];o[I+64+24+12>>2]=o[e+16+12>>2];o[I+64+40>>2]=o[e+32>>2];o[I+64+40+4>>2]=o[e+32+4>>2];o[I+64+40+8>>2]=o[e+32+8>>2];o[I+64+40+12>>2]=o[e+32+12>>2];o[I+64+56>>2]=o[e+48>>2];o[I+64+56+4>>2]=o[e+48+4>>2];o[I+64+56+8>>2]=o[e+48+8>>2];o[I+64+56+12>>2]=o[e+48+12>>2];o[I+64+72>>2]=o[n>>2];o[I+64+72+4>>2]=o[n+4>>2];o[I+64+72+8>>2]=o[n+8>>2];o[I+64+72+12>>2]=o[n+12>>2];o[I+64+88>>2]=o[n+16>>2];o[I+64+88+4>>2]=o[n+16+4>>2];o[I+64+88+8>>2]=o[n+16+8>>2];o[I+64+88+12>>2]=o[n+16+12>>2];o[I+64+104>>2]=o[n+32>>2];o[I+64+104+4>>2]=o[n+32+4>>2];o[I+64+104+8>>2]=o[n+32+8>>2];o[I+64+104+12>>2]=o[n+32+12>>2];o[I+64+120>>2]=o[n+48>>2];o[I+64+120+4>>2]=o[n+48+4>>2];o[I+64+120+8>>2]=o[n+48+8>>2];o[I+64+120+12>>2]=o[n+48+12>>2];o[I+64+136>>2]=o[E>>2];o[I+64+136+4>>2]=o[E+4>>2];o[I+64+136+8>>2]=o[E+8>>2];o[I+64+136+12>>2]=o[E+12>>2];o[I+64+152>>2]=o[E+16>>2];o[I+64+152+4>>2]=o[E+16+4>>2];o[I+64+152+8>>2]=o[E+16+8>>2];o[I+64+152+12>>2]=o[E+16+12>>2];o[I+64+168>>2]=o[E+32>>2];o[I+64+168+4>>2]=o[E+32+4>>2];o[I+64+168+8>>2]=o[E+32+8>>2];o[I+64+168+12>>2]=o[E+32+12>>2];o[I+64+184>>2]=o[E+48>>2];o[I+64+184+4>>2]=o[E+48+4>>2];o[I+64+184+8>>2]=o[E+48+8>>2];o[I+64+184+12>>2]=o[E+48+12>>2];l[I+64+204>>2]=j;o[I+64>>2]=3452;o[I+64+212>>2]=a;o[I+64+216>>2]=u;o[I+64+220>>2]=R;o[I+64+200>>2]=o[a+4>>2];l[I+64+208>>2]=c;Wk[o[(o[t>>2]|0)+8>>2]&127](t,I+288|0,I+16|0,I);u=o[R+52>>2]|0;o[I+712>>2]=4856;o[I+712+4>>2]=u;o[I+712+8>>2]=I+64;u=o[R+56>>2]|0;if(!(i[u+60>>0]|0))QP(u,I+712|0,I+352|0,_*T+m*A+g*L+(_*p+m*f+g*d),b*T+v*A+x*L+(b*p+v*f+x*d),S*T+M*A+C*L+(S*p+M*f+C*d),I+16|0,I);else tD(u,I+712|0,I+352|0,_*T+m*A+g*L+(_*p+m*f+g*d),b*T+v*A+x*L+(b*p+v*f+x*d),S*T+M*A+C*L+(S*p+M*f+C*d),I+16|0,I,o[u+56>>2]|0);h=I;return}case 28:{o[I+712>>2]=3316;o[I+712+168>>2]=0;l[I+712+172>>2]=c;o[I+712+164>>2]=o[a+4>>2];o[I+352>>2]=6816;o[I+352+4>>2]=0;o[I+352+8>>2]=0;o[I+352+12>>2]=t;o[I+352+16>>2]=0;o[I+352+20>>2]=R;if((ky(I+352|0,e,n,E,E,I+712|0)|0?(y=I+712+132|0,d=+l[y>>2],m=+l[I+712+136>>2],g=+l[I+712+140>>2],d*d+m*m+g*g>9.999999747378752e-05):0)?(b=+l[I+712+164>>2],b<+l[a+4>>2]):0){U=1.0/+V(+(d*d+m*m+g*g));l[y>>2]=d*U;l[I+712+136>>2]=m*U;l[I+712+140>>2]=g*U;o[I+288>>2]=o[s+8>>2];o[I+288+4>>2]=0;o[I+288+8>>2]=o[y>>2];o[I+288+8+4>>2]=o[y+4>>2];o[I+288+8+8>>2]=o[y+8>>2];o[I+288+8+12>>2]=o[y+12>>2];o[I+288+24>>2]=o[I+712+148>>2];o[I+288+24+4>>2]=o[I+712+148+4>>2];o[I+288+24+8>>2]=o[I+712+148+8>>2];o[I+288+24+12>>2]=o[I+712+148+12>>2];l[I+288+40>>2]=b;+Rk[o[(o[a>>2]|0)+12>>2]&15](a,I+288|0,1)}h=I;return}default:{_=+l[E>>2];m=+l[E+16>>2];g=+l[E+32>>2];S=+l[E+4>>2];M=+l[E+20>>2];C=+l[E+36>>2];O=+l[E+8>>2];F=+l[E+24>>2];j=+l[E+40>>2];D=-+l[E+48>>2];P=-+l[E+52>>2];L=-+l[E+56>>2];T=+l[e+48>>2];A=+l[e+52>>2];p=+l[e+56>>2];d=_*D+m*P+g*L+(_*T+m*A+g*p);f=S*D+M*P+C*L+(S*T+M*A+C*p);p=O*D+F*P+j*L+(O*T+F*A+j*p);A=+l[n+48>>2];T=+l[n+52>>2];x=+l[n+56>>2];b=_*D+m*P+g*L+(_*A+m*T+g*x);v=S*D+M*P+C*L+(S*A+M*T+C*x);x=O*D+F*P+j*L+(O*A+F*T+j*x);T=+l[n>>2];A=+l[n+16>>2];L=+l[n+32>>2];P=+l[n+4>>2];D=+l[n+20>>2];k=+l[n+36>>2];N=+l[n+8>>2];B=+l[n+24>>2];U=+l[n+40>>2];l[I+712>>2]=_*T+m*A+g*L;l[I+712+4>>2]=_*P+m*D+g*k;l[I+712+8>>2]=_*N+m*B+g*U;l[I+712+12>>2]=0.0;l[I+712+16>>2]=S*T+M*A+C*L;l[I+712+20>>2]=S*P+M*D+C*k;l[I+712+24>>2]=S*N+M*B+C*U;l[I+712+28>>2]=0.0;l[I+712+32>>2]=O*T+F*A+j*L;l[I+712+36>>2]=O*P+F*D+j*k;l[I+712+40>>2]=O*N+F*B+j*U;w=I+712+44|0;o[w>>2]=0;o[w+4>>2]=0;o[w+8>>2]=0;o[w+12>>2]=0;o[w+16>>2]=0;s=o[s+8>>2]|0;U=+wk[o[(o[R>>2]|0)+48>>2]&15](R);o[I+352>>2]=7e3;o[I+352+4>>2]=t;o[I+352+8>>2]=o[e>>2];o[I+352+8+4>>2]=o[e+4>>2];o[I+352+8+8>>2]=o[e+8>>2];o[I+352+8+12>>2]=o[e+12>>2];o[I+352+24>>2]=o[e+16>>2];o[I+352+24+4>>2]=o[e+16+4>>2];o[I+352+24+8>>2]=o[e+16+8>>2];o[I+352+24+12>>2]=o[e+16+12>>2];o[I+352+40>>2]=o[e+32>>2];o[I+352+40+4>>2]=o[e+32+4>>2];o[I+352+40+8>>2]=o[e+32+8>>2];o[I+352+40+12>>2]=o[e+32+12>>2];o[I+352+56>>2]=o[e+48>>2];o[I+352+56+4>>2]=o[e+48+4>>2];o[I+352+56+8>>2]=o[e+48+8>>2];o[I+352+56+12>>2]=o[e+48+12>>2];o[I+352+72>>2]=o[n>>2];o[I+352+72+4>>2]=o[n+4>>2];o[I+352+72+8>>2]=o[n+8>>2];o[I+352+72+12>>2]=o[n+12>>2];o[I+352+88>>2]=o[n+16>>2];o[I+352+88+4>>2]=o[n+16+4>>2];o[I+352+88+8>>2]=o[n+16+8>>2];o[I+352+88+12>>2]=o[n+16+12>>2];o[I+352+104>>2]=o[n+32>>2];o[I+352+104+4>>2]=o[n+32+4>>2];o[I+352+104+8>>2]=o[n+32+8>>2];o[I+352+104+12>>2]=o[n+32+12>>2];o[I+352+120>>2]=o[n+48>>2];o[I+352+120+4>>2]=o[n+48+4>>2];o[I+352+120+8>>2]=o[n+48+8>>2];o[I+352+120+12>>2]=o[n+48+12>>2];o[I+352+136>>2]=o[E>>2];o[I+352+136+4>>2]=o[E+4>>2];o[I+352+136+8>>2]=o[E+8>>2];o[I+352+136+12>>2]=o[E+12>>2];o[I+352+152>>2]=o[E+16>>2];o[I+352+152+4>>2]=o[E+16+4>>2];o[I+352+152+8>>2]=o[E+16+8>>2];o[I+352+152+12>>2]=o[E+16+12>>2];o[I+352+168>>2]=o[E+32>>2];o[I+352+168+4>>2]=o[E+32+4>>2];o[I+352+168+8>>2]=o[E+32+8>>2];o[I+352+168+12>>2]=o[E+32+12>>2];o[I+352+184>>2]=o[E+48>>2];o[I+352+184+4>>2]=o[E+48+4>>2];o[I+352+184+8>>2]=o[E+48+8>>2];o[I+352+184+12>>2]=o[E+48+12>>2];l[I+352+204>>2]=U;o[I+352>>2]=3476;o[I+352+212>>2]=a;o[I+352+216>>2]=s;o[I+352+220>>2]=R;o[I+352+200>>2]=o[a+4>>2];l[I+352+208>>2]=c;Wk[o[(o[t>>2]|0)+8>>2]&127](t,I+712|0,I+288|0,I+64|0);l[I+16>>2]=d;l[I+16+4>>2]=f;l[I+16+8>>2]=p;l[I+16+12>>2]=0.0;if(b<d){l[I+16>>2]=b;_=b}else _=d;if(v<f){l[I+16+4>>2]=v;m=v}else m=f;if(x<p){l[I+16+8>>2]=x;g=x}else g=p;l[I>>2]=d;l[I+4>>2]=f;l[I+8>>2]=p;l[I+12>>2]=0.0;if(d<b){l[I>>2]=b;d=b}if(f<v){l[I+4>>2]=v;f=v}if(p<x){l[I+8>>2]=x;p=x}l[I+16>>2]=+l[I+288>>2]+_;l[I+16+4>>2]=+l[I+288+4>>2]+m;l[I+16+8>>2]=+l[I+288+8>>2]+g;l[I>>2]=+l[I+64>>2]+d;l[I+4>>2]=+l[I+64+4>>2]+f;l[I+8>>2]=+l[I+64+8>>2]+p;Wk[o[(o[R>>2]|0)+64>>2]&127](R,I+352|0,I+16|0,I);h=I;return}}}function jw(t){t=t|0;Kc(t);return}function Uw(t,e,n,i,r,s){t=t|0;e=e|0;n=n|0;i=+i;r=r|0;s=s|0;var a=0;a=h;h=h+64|0;o[a+48>>2]=r;o[a+48+4>>2]=s;r=o[t+212>>2]|0;if(!(+l[r+4>>2]>=i)){h=a;return+i}o[a>>2]=o[t+216>>2];o[a+4>>2]=a+48;o[a+8>>2]=o[e>>2];o[a+8+4>>2]=o[e+4>>2];o[a+8+8>>2]=o[e+8>>2];o[a+8+12>>2]=o[e+12>>2];o[a+24>>2]=o[n>>2];o[a+24+4>>2]=o[n+4>>2];o[a+24+8>>2]=o[n+8>>2];o[a+24+12>>2]=o[n+12>>2];l[a+40>>2]=i;i=+Rk[o[(o[r>>2]|0)+12>>2]&15](r,a,1);h=a;return+i}function zw(t){t=t|0;Kc(t);return}function Gw(t,e,n,i,r,s){t=t|0;e=e|0;n=n|0;i=+i;r=r|0;s=s|0;var a=0;a=h;h=h+64|0;o[a+48>>2]=r;o[a+48+4>>2]=s;r=o[t+212>>2]|0;if(!(+l[r+4>>2]>=i)){h=a;return+i}o[a>>2]=o[t+216>>2];o[a+4>>2]=a+48;o[a+8>>2]=o[e>>2];o[a+8+4>>2]=o[e+4>>2];o[a+8+8>>2]=o[e+8>>2];o[a+8+12>>2]=o[e+12>>2];o[a+24>>2]=o[n>>2];o[a+24+4>>2]=o[n+4>>2];o[a+24+8>>2]=o[n+8>>2];o[a+24+12>>2]=o[n+12>>2];l[a+40>>2]=i;i=+Rk[o[(o[r>>2]|0)+12>>2]&15](r,a,1);h=a;return+i}function Vw(t){t=t|0;return}function Ww(t){t=t|0;Kc(t);return}function Hw(t,e){t=t|0;e=e|0;t=o[t+12>>2]|0;return Ek[o[(o[t>>2]|0)+8>>2]&31](t,e)|0}function Xw(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0.0,s=0;i=h;h=h+16|0;o[i>>2]=-1;o[i+4>>2]=o[t+16>>2];if(!(o[e+4>>2]|0))o[e+4>>2]=i;s=o[t+12>>2]|0;r=+Rk[o[(o[s>>2]|0)+12>>2]&15](s,e,n);o[t+4>>2]=o[(o[t+12>>2]|0)+4>>2];h=i;return+r}function qw(t,e,n,i,r,s){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;s=+s;var a=0,c=0,u=0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0,v=0.0;a=h;h=h+464|0;Wh(10877);o[a+128>>2]=o[n>>2];o[a+128+4>>2]=o[n+4>>2];o[a+128+8>>2]=o[n+8>>2];o[a+128+12>>2]=o[n+12>>2];o[a+128+16>>2]=o[n+16>>2];o[a+128+16+4>>2]=o[n+16+4>>2];o[a+128+16+8>>2]=o[n+16+8>>2];o[a+128+16+12>>2]=o[n+16+12>>2];o[a+128+32>>2]=o[n+32>>2];o[a+128+32+4>>2]=o[n+32+4>>2];o[a+128+32+8>>2]=o[n+32+8>>2];o[a+128+32+12>>2]=o[n+32+12>>2];u=a+128+48|0;o[u>>2]=o[n+48>>2];o[u+4>>2]=o[n+48+4>>2];o[u+8>>2]=o[n+48+8>>2];o[u+12>>2]=o[n+48+12>>2];o[a+64>>2]=o[i>>2];o[a+64+4>>2]=o[i+4>>2];o[a+64+8>>2]=o[i+8>>2];o[a+64+12>>2]=o[i+12>>2];o[a+64+16>>2]=o[i+16>>2];o[a+64+16+4>>2]=o[i+16+4>>2];o[a+64+16+8>>2]=o[i+16+8>>2];o[a+64+16+12>>2]=o[i+16+12>>2];o[a+64+32>>2]=o[i+32>>2];o[a+64+32+4>>2]=o[i+32+4>>2];o[a+64+32+8>>2]=o[i+32+8>>2];o[a+64+32+12>>2]=o[i+32+12>>2];c=a+64+48|0;o[c>>2]=o[i+48>>2];o[c+4>>2]=o[i+48+4>>2];o[c+8>>2]=o[i+48+8>>2];o[c+12>>2]=o[i+48+12>>2];Yw(a+128|0,a+64|0,a+256|0,a+192|0);v=+l[a+192>>2];p=v*+l[a+256+4>>2];g=v*+l[a+256+8>>2];l[a+16>>2]=+l[a+256>>2]*v;l[a+16+4>>2]=p;l[a+16+8>>2]=g;l[a+16+12>>2]=0.0;o[a+256>>2]=0;o[a+256+4>>2]=0;o[a+256+8>>2]=0;o[a+256+12>>2]=0;o[a+192+4>>2]=0;o[a+192+4+4>>2]=0;o[a+192+24>>2]=0;o[a+192+24+4>>2]=0;b=a+192+44|0;o[b>>2]=0;o[b+4>>2]=0;o[b+8>>2]=0;o[b+12>>2]=0;o[b+16>>2]=0;Zw(a+128|0,a);g=+l[a>>2];p=+l[a+4>>2];v=+l[a+8>>2];m=+l[a+12>>2];d=g*(2.0/(g*g+p*p+v*v+m*m));f=p*(2.0/(g*g+p*p+v*v+m*m));_=v*(2.0/(g*g+p*p+v*v+m*m));l[a+192>>2]=1.0-(p*f+v*_);l[a+192+4>>2]=g*f-m*_;l[a+192+8>>2]=g*_+m*f;l[a+192+12>>2]=0.0;l[a+192+16>>2]=g*f+m*_;l[a+192+20>>2]=1.0-(g*d+v*_);l[a+192+24>>2]=p*_-m*d;l[a+192+28>>2]=0.0;l[a+192+32>>2]=g*_-m*f;l[a+192+36>>2]=p*_+m*d;l[a+192+40>>2]=1.0-(g*d+p*f);l[b>>2]=0.0;yM(e,a+192|0,a+256|0,a+16|0,a+48|0,a+32|0);o[a+256>>2]=3524;o[a+256+36>>2]=o[n>>2];o[a+256+36+4>>2]=o[n+4>>2];o[a+256+36+8>>2]=o[n+8>>2];o[a+256+36+12>>2]=o[n+12>>2];o[a+256+52>>2]=o[n+16>>2];o[a+256+52+4>>2]=o[n+16+4>>2];o[a+256+52+8>>2]=o[n+16+8>>2];o[a+256+52+12>>2]=o[n+16+12>>2];o[a+256+68>>2]=o[n+32>>2];o[a+256+68+4>>2]=o[n+32+4>>2];o[a+256+68+8>>2]=o[n+32+8>>2];o[a+256+68+12>>2]=o[n+32+12>>2];b=a+256+84|0;o[b>>2]=o[n+48>>2];o[b+4>>2]=o[n+48+4>>2];o[b+8>>2]=o[n+48+8>>2];o[b+12>>2]=o[n+48+12>>2];o[a+256+100>>2]=o[i>>2];o[a+256+100+4>>2]=o[i+4>>2];o[a+256+100+8>>2]=o[i+8>>2];o[a+256+100+12>>2]=o[i+12>>2];o[a+256+116>>2]=o[i+16>>2];o[a+256+116+4>>2]=o[i+16+4>>2];o[a+256+116+8>>2]=o[i+16+8>>2];o[a+256+116+12>>2]=o[i+16+12>>2];o[a+256+132>>2]=o[i+32>>2];o[a+256+132+4>>2]=o[i+32+4>>2];o[a+256+132+8>>2]=o[i+32+8>>2];o[a+256+132+12>>2]=o[i+32+12>>2];n=a+256+148|0;o[n>>2]=o[i+48>>2];o[n+4>>2]=o[i+48+4>>2];o[n+8>>2]=o[i+48+8>>2];o[n+12>>2]=o[i+48+12>>2];o[a+256+180>>2]=t;o[a+256+184>>2]=r;l[a+256+188>>2]=s;o[a+256+192>>2]=e;f=+l[n>>2]-+l[b>>2];p=+l[a+256+152>>2]-+l[a+256+88>>2];d=+l[a+256+156>>2]-+l[a+256+92>>2];s=1.0/+V(+(f*f+p*p+d*d));g=f*s==0.0?999999984306749440.0:1.0/(f*s);l[a+256+4>>2]=g;m=p*s==0.0?999999984306749440.0:1.0/(p*s);l[a+256+8>>2]=m;_=d*s==0.0?999999984306749440.0:1.0/(d*s);l[a+256+12>>2]=_;o[a+256+20>>2]=g<0.0&1;o[a+256+24>>2]=m<0.0&1;o[a+256+28>>2]=_<0.0&1;l[a+256+32>>2]=d*(d*s)+(f*(f*s)+p*(p*s));e=o[t+68>>2]|0;yk[o[(o[e>>2]|0)+24>>2]&7](e,u,c,a+256|0,a+48|0,a+32|0);e=o[2006]|0;t=(o[e+16>>2]|0)+-1|0;o[e+16>>2]=t;if(t|0){h=a;return}do{if(o[e+4>>2]|0){fe(a+256|0,0)|0;b=o[5649]|0;l[e+8>>2]=+l[e+8>>2]+ +(((o[a+256+4>>2]|0)-(o[b+4>>2]|0)+(((o[a+256>>2]|0)-(o[b>>2]|0)|0)*1e6|0)-(o[e+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[e+16>>2]|0)){e=o[2006]|0;break}else{h=a;return}}}while(0);o[2006]=o[e+20>>2];h=a;return}function Yw(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0.0,s=0.0,a=0.0,c=0.0,u=0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0;u=h;h=h+64|0;f=+l[t+20>>2];y=+l[t+40>>2];_=+l[t+24>>2];b=+l[t+36>>2];v=+l[t+32>>2];p=+l[t+16>>2];c=+l[t>>2];a=+l[t+4>>2];m=+l[t+8>>2];s=1.0/((f*y-_*b)*c+a*(_*v-y*p)+(b*p-f*v)*m);C=+l[e>>2];M=+l[e+4>>2];T=+l[e+8>>2];S=+l[e+16>>2];w=+l[e+20>>2];x=+l[e+24>>2];g=+l[e+32>>2];d=+l[e+36>>2];r=+l[e+40>>2];l[u+16>>2]=T*((b*p-f*v)*s)+(C*((f*y-_*b)*s)+M*((_*v-y*p)*s));l[u+16+4>>2]=T*((v*a-b*c)*s)+(C*((b*m-y*a)*s)+M*((y*c-v*m)*s));l[u+16+8>>2]=T*((f*c-p*a)*s)+(C*((_*a-f*m)*s)+M*((p*m-_*c)*s));l[u+16+12>>2]=0.0;l[u+16+16>>2]=(f*y-_*b)*s*S+(_*v-y*p)*s*w+(b*p-f*v)*s*x;l[u+16+20>>2]=(b*m-y*a)*s*S+(y*c-v*m)*s*w+(v*a-b*c)*s*x;l[u+16+24>>2]=(_*a-f*m)*s*S+(p*m-_*c)*s*w+(f*c-p*a)*s*x;l[u+16+28>>2]=0.0;l[u+16+32>>2]=(f*y-_*b)*s*g+(_*v-y*p)*s*d+(b*p-f*v)*s*r;l[u+16+36>>2]=(b*m-y*a)*s*g+(y*c-v*m)*s*d+(v*a-b*c)*s*r;l[u+16+40>>2]=(_*a-f*m)*s*g+(p*m-_*c)*s*d+(f*c-p*a)*s*r;l[u+16+44>>2]=0.0;Zw(u+16|0,u);r=+l[u>>2];s=+l[u+4>>2];a=+l[u+8>>2];p=+l[u+12>>2];c=1.0/+V(+(r*r+s*s+a*a+p*p));l[u>>2]=r*c;l[u+4>>2]=s*c;l[u+8>>2]=a*c;l[u+12>>2]=p*c;p=p*c<-1.0?-1.0:p*c;l[i>>2]=+Y(+(p>1.0?1.0:p))*2.0;l[n>>2]=r*c;l[n+4>>2]=s*c;l[n+8>>2]=a*c;l[n+12>>2]=0.0;if(r*c*(r*c)+s*c*(s*c)+a*c*(a*c)<1.4210854715202004e-14){o[n>>2]=1065353216;o[n+4>>2]=0;o[n+8>>2]=0;l[n+12>>2]=0.0;h=u;return}else{T=1.0/+V(+(r*c*(r*c)+s*c*(s*c)+a*c*(a*c)));l[n>>2]=r*c*T;l[n+4>>2]=T*(s*c);l[n+8>>2]=T*(a*c);h=u;return}}function Zw(t,e){t=t|0;e=e|0;var n=0.0,i=0.0,r=0.0,s=0,a=0,c=0,u=0,p=0.0;s=h;h=h+16|0;n=+l[t>>2];i=+l[t+20>>2];r=+l[t+40>>2];if(n+i+r>0.0){r=+V(+(n+i+r+1.0));l[s+12>>2]=r*.5;p=.5/r*(+l[t+36>>2]-+l[t+24>>2]);l[s>>2]=p;n=.5/r*(+l[t+8>>2]-+l[t+32>>2]);l[s+4>>2]=n;i=.5/r*(+l[t+16>>2]-+l[t+4>>2]);l[s+8>>2]=i;t=(l[f>>2]=p,o[f>>2]|0);u=(l[f>>2]=n,o[f>>2]|0);c=(l[f>>2]=i,o[f>>2]|0);a=(l[f>>2]=r*.5,o[f>>2]|0);o[e>>2]=t;t=e+4|0;o[t>>2]=u;t=e+8|0;o[t>>2]=c;t=e+12|0;o[t>>2]=a;h=s;return}else{u=n<i?i<r?2:1:n<r?2:0;p=+V(+(+l[t+(u<<4)+(u<<2)>>2]-+l[t+((((u+1|0)>>>0)%3|0)<<4)+((((u+1|0)>>>0)%3|0)<<2)>>2]-+l[t+((((u+2|0)>>>0)%3|0)<<4)+((((u+2|0)>>>0)%3|0)<<2)>>2]+1.0));l[s+(u<<2)>>2]=p*.5;l[s+12>>2]=.5/p*(+l[t+((((u+2|0)>>>0)%3|0)<<4)+((((u+1|0)>>>0)%3|0)<<2)>>2]-+l[t+((((u+1|0)>>>0)%3|0)<<4)+((((u+2|0)>>>0)%3|0)<<2)>>2]);l[s+((((u+1|0)>>>0)%3|0)<<2)>>2]=.5/p*(+l[t+((((u+1|0)>>>0)%3|0)<<4)+(u<<2)>>2]+ +l[t+(u<<4)+((((u+1|0)>>>0)%3|0)<<2)>>2]);l[s+((((u+2|0)>>>0)%3|0)<<2)>>2]=.5/p*(+l[t+((((u+2|0)>>>0)%3|0)<<4)+(u<<2)>>2]+ +l[t+(u<<4)+((((u+2|0)>>>0)%3|0)<<2)>>2]);u=o[s>>2]|0;t=o[s+4>>2]|0;a=o[s+8>>2]|0;c=o[s+12>>2]|0;o[e>>2]=u;u=e+4|0;o[u>>2]=t;u=e+8|0;o[u>>2]=a;u=e+12|0;o[u>>2]=c;h=s;return}}function Jw(t){t=t|0;Kc(t);return}function Kw(t,e){t=t|0;e=e|0;var n=0,i=0,r=0.0,s=0,a=0;i=h;h=h+32|0;n=o[t+184>>2]|0;if(+l[n+4>>2]==0.0){t=0;h=i;return t|0}e=o[e>>2]|0;if(!(Ek[o[(o[n>>2]|0)+8>>2]&31](n,o[e+188>>2]|0)|0)){t=1;h=i;return t|0}s=o[t+192>>2]|0;a=o[e+192>>2]|0;n=o[t+184>>2]|0;r=+l[t+188>>2];o[i>>2]=0;o[i+4>>2]=a;o[i+8>>2]=e;o[i+12>>2]=e+4;o[i+16>>2]=-1;o[i+20>>2]=-1;Bw(s,t+36|0,t+100|0,i,n,r);t=1;h=i;return t|0}function $w(t){t=t|0;Kc(t);return}function Qw(t,e){t=t|0;e=e|0;var n=0,i=0,r=0;n=h;h=h+96|0;e=o[e>>2]|0;if((e|0)==(o[t+4>>2]|0)){h=n;return 1}i=o[t+12>>2]|0;if(!(Ek[o[(o[i>>2]|0)+8>>2]&31](i,o[e+188>>2]|0)|0)){h=n;return 1}i=o[t+4>>2]|0;r=o[i+192>>2]|0;o[n+64>>2]=0;o[n+64+4>>2]=r;o[n+64+8>>2]=i;o[n+64+12>>2]=i+4;o[n+64+16>>2]=-1;o[n+64+20>>2]=-1;i=o[e+192>>2]|0;o[n+40>>2]=0;o[n+40+4>>2]=i;o[n+40+8>>2]=e;o[n+40+12>>2]=e+4;o[n+40+16>>2]=-1;o[n+40+20>>2]=-1;e=o[(o[t+8>>2]|0)+24>>2]|0;e=dk[o[(o[e>>2]|0)+8>>2]&31](e,n+64|0,n+40|0,0)|0;if(e|0){r=o[t+12>>2]|0;o[n+4>>2]=0;o[n+8>>2]=n+64;o[n+12>>2]=n+40;o[n>>2]=3564;o[n+32>>2]=r;rk[o[(o[e>>2]|0)+8>>2]&31](e,n+64|0,n+40|0,(o[t+8>>2]|0)+28|0,n);sk[o[o[e>>2]>>2]&255](e);r=o[(o[t+8>>2]|0)+24>>2]|0;ck[o[(o[r>>2]|0)+60>>2]&127](r,e)}h=n;return 1}function tS(t){t=t|0;return}function eS(t){t=t|0;Kc(t);return}function nS(t,e,n){t=t|0;e=e|0;n=n|0;o[t+16>>2]=e;o[t+24>>2]=n;return}function iS(t,e,n){t=t|0;e=e|0;n=n|0;o[t+20>>2]=e;o[t+28>>2]=n;return}function rS(t,e,n,r){t=t|0;e=e|0;n=n|0;r=+r;var s=0.0,a=0.0,c=0.0,u=0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0,S=0,M=0,C=0,T=0;M=h;h=h+192|0;w=o[(o[t+4>>2]|0)+740>>2]|0;S=o[(o[t+8>>2]|0)+8>>2]|0;a=+l[n>>2];v=+l[e>>2]*r+a;c=+l[n+4>>2];y=+l[e+4>>2]*r+c;s=+l[n+8>>2];x=+l[e+8>>2]*r+s;u=o[(o[t+12>>2]|0)+8>>2]|0;p=+l[u+52>>2];f=+l[u+56>>2];if((w|0)!=(S|0)){m=x-+l[u+60>>2];a=a-+l[S+52>>2];c=c-+l[S+56>>2];s=s-+l[S+60>>2];d=(v-p)*+l[u+4>>2]+(y-f)*+l[u+20>>2]+m*+l[u+36>>2];_=(v-p)*+l[u+8>>2]+(y-f)*+l[u+24>>2]+m*+l[u+40>>2];m=(v-p)*+l[u+12>>2]+(y-f)*+l[u+28>>2]+m*+l[u+44>>2];g=a*+l[S+4>>2]+c*+l[S+20>>2]+s*+l[S+36>>2];b=a*+l[S+8>>2]+c*+l[S+24>>2]+s*+l[S+40>>2];s=a*+l[S+12>>2]+c*+l[S+28>>2]+s*+l[S+44>>2]}else{b=v-+l[w+52>>2];g=y-+l[w+56>>2];m=x-+l[w+60>>2];s=s-+l[u+60>>2];d=b*+l[w+4>>2]+g*+l[w+20>>2]+m*+l[w+36>>2];_=b*+l[w+8>>2]+g*+l[w+24>>2]+m*+l[w+40>>2];m=b*+l[w+12>>2]+g*+l[w+28>>2]+m*+l[w+44>>2];g=(a-p)*+l[u+4>>2]+(c-f)*+l[u+20>>2]+s*+l[u+36>>2];b=(a-p)*+l[u+8>>2]+(c-f)*+l[u+24>>2]+s*+l[u+40>>2];s=(a-p)*+l[u+12>>2]+(c-f)*+l[u+28>>2]+s*+l[u+44>>2]}l[M>>2]=d;l[M+4>>2]=_;l[M+8>>2]=m;l[M+12>>2]=0.0;l[M+16>>2]=g;l[M+20>>2]=b;l[M+24>>2]=s;l[M+28>>2]=0.0;o[M+64>>2]=o[e>>2];o[M+64+4>>2]=o[e+4>>2];o[M+64+8>>2]=o[e+8>>2];o[M+64+12>>2]=o[e+12>>2];l[M+80>>2]=r;l[M+84>>2]=0.0;l[M+88>>2]=0.0;l[M+92>>2]=0.0;o[M+112>>2]=0;i[M+116>>0]=0;o[M+120>>2]=0;o[M+120+4>>2]=0;o[M+120+8>>2]=0;o[M+120+12>>2]=0;o[M+120+16>>2]=0;o[M+120+20>>2]=0;o[M+120+24>>2]=0;o[M+120+28>>2]=0;l[M+48>>2]=v;l[M+52>>2]=y;l[M+56>>2]=x;l[M+60>>2]=0.0;o[M+32>>2]=o[n>>2];o[M+32+4>>2]=o[n+4>>2];o[M+32+8>>2]=o[n+8>>2];o[M+32+12>>2]=o[n+12>>2];e=o[t+20>>2]|0;u=o[t+16>>2]|0;n=o[t+28>>2]|0;T=o[t+24>>2]|0;C=(w|0)!=(S|0)?e:u;e=(w|0)!=(S|0)?u:e;u=(w|0)!=(S|0)?n:T;n=(w|0)!=(S|0)?T:n;o[M+96>>2]=C;o[M+100>>2]=e;o[M+104>>2]=u;o[M+108>>2]=n;T=o[t+32>>2]|0;+mk[o[(o[T>>2]|0)+12>>2]&1](T,M,o[((w|0)!=(S|0)?t+12|0:t+8|0)>>2]|0,C,u,o[((w|0)!=(S|0)?t+8|0:t+12|0)>>2]|0,e,n);h=M;return}function oS(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0,s=0;r=h;h=h+96|0;s=o[e+192>>2]|0;o[r+64>>2]=0;o[r+64+4>>2]=s;o[r+64+8>>2]=e;o[r+64+12>>2]=e+4;o[r+64+16>>2]=-1;o[r+64+20>>2]=-1;e=o[n+192>>2]|0;o[r+40>>2]=0;o[r+40+4>>2]=e;o[r+40+8>>2]=n;o[r+40+12>>2]=n+4;o[r+40+16>>2]=-1;o[r+40+20>>2]=-1;e=o[t+24>>2]|0;e=dk[o[(o[e>>2]|0)+8>>2]&31](e,r+64|0,r+40|0,0)|0;if(!e){h=r;return}o[r+4>>2]=0;o[r+8>>2]=r+64;o[r+12>>2]=r+40;o[r>>2]=3564;o[r+32>>2]=i;rk[o[(o[e>>2]|0)+8>>2]&31](e,r+64|0,r+40|0,t+28|0,r);sk[o[o[e>>2]>>2]&255](e);s=o[t+24>>2]|0;ck[o[(o[s>>2]|0)+60>>2]&127](s,e);h=r;return}function sS(t){t=t|0;var e=0,n=0,r=0;o[t>>2]=3592;e=o[t+12>>2]|0;if((e|0)>0){r=0;do{n=o[(o[t+20>>2]|0)+(r<<2)>>2]|0;if(n|0){sk[o[o[n>>2]>>2]&255](n);n=o[t+4>>2]|0;ck[o[(o[n>>2]|0)+60>>2]&127](n,o[(o[t+20>>2]|0)+(r<<2)>>2]|0)}r=r+1|0}while((r|0)!=(e|0))}e=o[t+20>>2]|0;if(!e){i[t+24>>0]=1;o[t+20>>2]=0;o[t+12>>2]=0;t=t+16|0;o[t>>2]=0;return}if(i[t+24>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+20>>2]=0;i[t+24>>0]=1;o[t+20>>2]=0;o[t+12>>2]=0;t=t+16|0;o[t>>2]=0;return}function aS(t){t=t|0;sS(t);Kc(t);return}function cS(t,e,n,r,s){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;var a=0,c=0,u=0,p=0,f=0,d=0,_=0,m=0,g=0,b=0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0,D=0.0,k=0.0,O=0.0,N=0.0,F=0.0,B=0.0,j=0.0,U=0.0,z=0.0,G=0.0;b=h;h=h+224|0;m=(i[t+28>>0]|0)!=0;_=m?n:e;m=m?e:n;g=o[_+4>>2]|0;if((o[g+72>>2]|0)!=(o[t+40>>2]|0)){a=o[t+12>>2]|0;if((a|0)>0){u=0;do{c=o[(o[t+20>>2]|0)+(u<<2)>>2]|0;if(c|0){sk[o[o[c>>2]>>2]&255](c);f=o[t+4>>2]|0;ck[o[(o[f>>2]|0)+60>>2]&127](f,o[(o[t+20>>2]|0)+(u<<2)>>2]|0)}u=u+1|0}while((u|0)!=(a|0))}lS(t,e,n);o[t+40>>2]=o[g+72>>2]}a=o[t+12>>2]|0;if(!a){h=b;return}f=o[g+68>>2]|0;u=o[t+4>>2]|0;c=o[t+20>>2]|0;p=o[t+32>>2]|0;o[b+192>>2]=3620;o[b+192+4>>2]=_;o[b+192+8>>2]=m;o[b+192+12>>2]=u;o[b+192+16>>2]=r;o[b+192+20>>2]=s;o[b+192+24>>2]=c;o[b+192+28>>2]=p;i[b+128+16>>0]=1;p=b+128+12|0;o[p>>2]=0;o[b+128+4>>2]=0;o[b+128+8>>2]=0;if((a|0)>0){e=c;r=0;while(1){c=o[e+(r<<2)>>2]|0;if(c){ck[o[(o[c>>2]|0)+16>>2]&127](c,b+128|0);a=o[b+128+4>>2]|0;if((a|0)>0){u=0;do{n=o[(o[p>>2]|0)+(u<<2)>>2]|0;if(o[n+748>>2]|0){o[s+4>>2]=n;a=o[n+740>>2]|0;c=o[(o[s+8>>2]|0)+8>>2]|0;e=o[(o[s+12>>2]|0)+8>>2]|0;if((a|0)==(c|0))px(n,a+4|0,e+4|0);else px(n,e+4|0,c+4|0);o[s+4>>2]=0;a=o[b+128+4>>2]|0}u=u+1|0}while((u|0)<(a|0))}if((a|0)<0){if((o[b+128+8>>2]|0)<0){c=o[p>>2]|0;if(c|0){if(i[b+128+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[c+-4>>2]|0)}o[p>>2]=0}i[b+128+16>>0]=1;o[p>>2]=0;o[b+128+8>>2]=0}do{o[(o[p>>2]|0)+(a<<2)>>2]=0;a=a+1|0}while((a|0)!=0)}o[b+128+4>>2]=0;a=o[t+12>>2]|0}c=r+1|0;if((c|0)>=(a|0))break;e=o[t+20>>2]|0;r=c}a=o[p>>2]|0;if(a|0){if(i[b+128+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0)}o[p>>2]=0}}if(!f){c=o[t+12>>2]|0;if((c|0)>0){a=0;do{pS(b+192|0,o[(o[g+28>>2]|0)+(a*80|0)+64>>2]|0,a);a=a+1|0}while((a|0)<(c|0));d=39}}else{d=o[_+12>>2]|0;D=+l[d>>2];P=+l[d+16>>2];I=+l[d+32>>2];R=+l[d+4>>2];E=+l[d+20>>2];L=+l[d+36>>2];M=+l[d+8>>2];w=+l[d+24>>2];y=+l[d+40>>2];A=-+l[d+48>>2];T=-+l[d+52>>2];C=-+l[d+56>>2];d=o[m+12>>2]|0;G=+l[d>>2];z=+l[d+16>>2];U=+l[d+32>>2];j=+l[d+4>>2];B=+l[d+20>>2];F=+l[d+36>>2];N=+l[d+8>>2];O=+l[d+24>>2];k=+l[d+40>>2];S=+l[d+48>>2];x=+l[d+52>>2];v=+l[d+56>>2];l[b+48>>2]=D*G+P*z+I*U;l[b+48+4>>2]=D*j+P*B+I*F;l[b+48+8>>2]=D*N+P*O+I*k;l[b+48+12>>2]=0.0;l[b+48+16>>2]=R*G+E*z+L*U;l[b+48+20>>2]=R*j+E*B+L*F;l[b+48+24>>2]=R*N+E*O+L*k;l[b+48+28>>2]=0.0;l[b+48+32>>2]=M*G+w*z+y*U;l[b+48+36>>2]=M*j+w*B+y*F;l[b+48+40>>2]=M*N+w*O+y*k;l[b+48+44>>2]=0.0;l[b+48+48>>2]=D*A+P*T+I*C+(D*S+P*x+I*v);l[b+48+52>>2]=R*A+E*T+L*C+(R*S+E*x+L*v);l[b+48+56>>2]=M*A+w*T+y*C+(M*S+w*x+y*v);l[b+48+60>>2]=0.0;d=o[m+4>>2]|0;Wk[o[(o[d>>2]|0)+8>>2]&127](d,b+48|0,b+128|0,b+112|0);o[b+16>>2]=o[b+128>>2];o[b+16+4>>2]=o[b+128+4>>2];o[b+16+8>>2]=o[b+128+8>>2];o[b+16+12>>2]=o[b+128+12>>2];o[b+16+16>>2]=o[b+112>>2];o[b+16+16+4>>2]=o[b+112+4>>2];o[b+16+16+8>>2]=o[b+112+8>>2];o[b+16+16+12>>2]=o[b+112+12>>2];QI(o[f>>2]|0,b+16|0,b+192|0);d=39}if((d|0)==39)c=o[t+12>>2]|0;if((c|0)>0){e=0;do{do{if(o[(o[t+20>>2]|0)+(e<<2)>>2]|0){f=o[g+28>>2]|0;d=o[f+(e*80|0)+64>>2]|0;s=o[_+12>>2]|0;w=+l[s>>2];S=+l[s+4>>2];M=+l[s+8>>2];C=+l[s+16>>2];T=+l[s+20>>2];A=+l[s+24>>2];k=+l[s+32>>2];N=+l[s+36>>2];B=+l[s+40>>2];L=+l[f+(e*80|0)>>2];E=+l[f+(e*80|0)+16>>2];R=+l[f+(e*80|0)+32>>2];I=+l[f+(e*80|0)+4>>2];P=+l[f+(e*80|0)+20>>2];D=+l[f+(e*80|0)+36>>2];O=+l[f+(e*80|0)+8>>2];F=+l[f+(e*80|0)+24>>2];j=+l[f+(e*80|0)+40>>2];y=+l[f+(e*80|0)+48>>2];x=+l[f+(e*80|0)+52>>2];G=+l[f+(e*80|0)+56>>2];U=+l[s+48>>2]+(w*y+S*x+M*G);z=+l[s+52>>2]+(C*y+T*x+A*G);G=+l[s+56>>2]+(k*y+N*x+B*G);l[b+128>>2]=w*L+S*E+M*R;l[b+128+4>>2]=w*I+S*P+M*D;l[b+128+8>>2]=w*O+S*F+M*j;l[b+128+12>>2]=0.0;l[b+128+16>>2]=C*L+T*E+A*R;l[b+128+20>>2]=C*I+T*P+A*D;l[b+128+24>>2]=C*O+T*F+A*j;l[b+128+28>>2]=0.0;l[b+128+32>>2]=k*L+N*E+B*R;l[b+128+36>>2]=k*I+N*P+B*D;l[b+128+40>>2]=k*O+N*F+B*j;l[b+128+44>>2]=0.0;l[b+128+48>>2]=U;l[b+128+52>>2]=z;l[b+128+56>>2]=G;l[b+128+60>>2]=0.0;Wk[o[(o[d>>2]|0)+8>>2]&127](d,b+128|0,b+112|0,b+48|0);d=o[m+4>>2]|0;Wk[o[(o[d>>2]|0)+8>>2]&127](d,o[m+12>>2]|0,b+16|0,b);if(!(+l[b+112>>2]>+l[b>>2])?!(+l[b+48>>2]<+l[b+16>>2]):0)a=1;else a=0;if(!(!(+l[b+112+8>>2]>+l[b+8>>2])?!(+l[b+48+8>>2]<+l[b+16+8>>2]):0))a=0;if(!(+l[b+112+4>>2]>+l[b+4>>2])?!(+l[b+48+4>>2]<+l[b+16+4>>2]|a^1):0)break;d=o[(o[t+20>>2]|0)+(e<<2)>>2]|0;sk[o[o[d>>2]>>2]&255](d);d=o[t+4>>2]|0;ck[o[(o[d>>2]|0)+60>>2]&127](d,o[(o[t+20>>2]|0)+(e<<2)>>2]|0);o[(o[t+20>>2]|0)+(e<<2)>>2]=0}}while(0);e=e+1|0}while((e|0)<(c|0))}h=b;return}function lS(t,e,n){t=t|0;e=e|0;n=n|0;var r=0,s=0,a=0,c=0,l=0,u=0,p=0;p=h;h=h+32|0;a=(i[t+28>>0]|0)!=0;u=a?n:e;a=a?e:n;c=o[u+4>>2]|0;l=o[c+20>>2]|0;s=o[t+12>>2]|0;if((s|0)<(l|0)){if((o[t+16>>2]|0)<(l|0)){if(!l){e=0;n=s}else{o[5637]=(o[5637]|0)+1;e=Jc((l<<2|3)+16|0)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}n=o[t+12>>2]|0}if((n|0)>0){r=0;do{o[e+(r<<2)>>2]=o[(o[t+20>>2]|0)+(r<<2)>>2];r=r+1|0}while((r|0)!=(n|0))}n=o[t+20>>2]|0;if(n|0){if(i[t+24>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[t+20>>2]=0}i[t+24>>0]=1;o[t+20>>2]=e;o[t+16>>2]=l;n=t+20|0}else n=t+20|0;e=s;do{o[(o[n>>2]|0)+(e<<2)>>2]=0;e=e+1|0}while((e|0)!=(l|0))}o[t+12>>2]=l;if((l|0)<=0){h=p;return}e=0;do{if(!(o[c+68>>2]|0)){n=o[(o[c+28>>2]|0)+(e*80|0)+64>>2]|0;r=o[u+8>>2]|0;s=o[u+12>>2]|0;o[p>>2]=u;o[p+4>>2]=n;o[p+8>>2]=r;o[p+12>>2]=s;o[p+16>>2]=-1;o[p+20>>2]=e;s=o[t+4>>2]|0;s=dk[o[(o[s>>2]|0)+8>>2]&31](s,p,a,o[t+32>>2]|0)|0;o[(o[t+20>>2]|0)+(e<<2)>>2]=s}else o[(o[t+20>>2]|0)+(e<<2)>>2]=0;e=e+1|0}while((e|0)!=(l|0));h=p;return}function uS(t){t=t|0;Kc(t);return}function hS(t,e){t=t|0;e=e|0;e=o[e+36>>2]|0;pS(t,o[(o[(o[(o[t+4>>2]|0)+4>>2]|0)+28>>2]|0)+(e*80|0)+64>>2]|0,e);return}function pS(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0,s=0,a=0.0,c=0.0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0;s=h;h=h+160|0;i=o[t+4>>2]|0;r=o[i+12>>2]|0;E=+l[r>>2];L=+l[r+4>>2];A=+l[r+8>>2];T=+l[r+16>>2];C=+l[r+20>>2];M=+l[r+24>>2];g=+l[r+32>>2];_=+l[r+36>>2];f=+l[r+40>>2];i=o[(o[i+4>>2]|0)+28>>2]|0;S=+l[i+(n*80|0)>>2];w=+l[i+(n*80|0)+16>>2];x=+l[i+(n*80|0)+32>>2];y=+l[i+(n*80|0)+4>>2];v=+l[i+(n*80|0)+20>>2];b=+l[i+(n*80|0)+36>>2];m=+l[i+(n*80|0)+8>>2];d=+l[i+(n*80|0)+24>>2];p=+l[i+(n*80|0)+40>>2];I=+l[i+(n*80|0)+48>>2];R=+l[i+(n*80|0)+52>>2];a=+l[i+(n*80|0)+56>>2];u=+l[r+48>>2]+(E*I+L*R+A*a);c=+l[r+52>>2]+(T*I+C*R+M*a);a=+l[r+56>>2]+(g*I+_*R+f*a);l[s+88>>2]=E*S+L*w+A*x;l[s+88+4>>2]=E*y+L*v+A*b;l[s+88+8>>2]=E*m+L*d+A*p;l[s+88+12>>2]=0.0;l[s+88+16>>2]=T*S+C*w+M*x;l[s+88+20>>2]=T*y+C*v+M*b;l[s+88+24>>2]=T*m+C*d+M*p;l[s+88+28>>2]=0.0;l[s+88+32>>2]=g*S+_*w+f*x;l[s+88+36>>2]=g*y+_*v+f*b;l[s+88+40>>2]=g*m+_*d+f*p;l[s+88+44>>2]=0.0;l[s+88+48>>2]=u;l[s+88+52>>2]=c;l[s+88+56>>2]=a;l[s+88+60>>2]=0.0;Wk[o[(o[e>>2]|0)+8>>2]&127](e,s+88|0,s+72|0,s+56|0);r=o[t+8>>2]|0;i=o[r+4>>2]|0;Wk[o[(o[i>>2]|0)+8>>2]&127](i,o[r+12>>2]|0,s+40|0,s+24|0);if(!(+l[s+72>>2]>+l[s+24>>2])?!(+l[s+56>>2]<+l[s+40>>2]):0)i=1;else i=0;if(!(!(+l[s+72+8>>2]>+l[s+24+8>>2])?!(+l[s+56+8>>2]<+l[s+40+8>>2]):0))i=0;if(+l[s+72+4>>2]>+l[s+24+4>>2]){h=s;return}if(+l[s+56+4>>2]<+l[s+40+4>>2]|i^1){h=s;return}i=o[t+4>>2]|0;r=o[i+8>>2]|0;o[s>>2]=i;o[s+4>>2]=e;o[s+8>>2]=r;o[s+12>>2]=s+88;o[s+16>>2]=-1;o[s+20>>2]=n;if(!(o[(o[t+24>>2]|0)+(n<<2)>>2]|0)){i=o[t+12>>2]|0;i=dk[o[(o[i>>2]|0)+8>>2]&31](i,s,o[t+8>>2]|0,o[t+28>>2]|0)|0;o[(o[t+24>>2]|0)+(n<<2)>>2]=i;i=o[t+4>>2]|0}r=o[t+20>>2]|0;e=o[r+8>>2]|0;if((o[e+8>>2]|0)==(o[i+8>>2]|0)){o[r+8>>2]=s;Uk[o[(o[r>>2]|0)+8>>2]&127](r,-1,n)}else{e=o[r+12>>2]|0;o[r+12>>2]=s;Uk[o[(o[r>>2]|0)+12>>2]&127](r,-1,n)}i=o[(o[t+24>>2]|0)+(n<<2)>>2]|0;rk[o[(o[i>>2]|0)+8>>2]&31](i,s,o[t+8>>2]|0,o[t+16>>2]|0,o[t+20>>2]|0);i=o[t+20>>2]|0;if((o[(o[i+8>>2]|0)+8>>2]|0)==(o[(o[t+4>>2]|0)+8>>2]|0))o[i+8>>2]=e;else o[i+12>>2]=e;h=s;return}function fS(t,e,n,r,s){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;var a=0.0,c=0.0,u=0.0,h=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0,v=0.0,y=0.0,x=0,w=0.0,S=0,M=0,C=0,T=0,A=0,L=0,E=0.0,R=0,I=0.0,P=0.0,D=0.0,k=0.0,O=0.0,N=0.0,F=0.0,B=0.0,j=0.0,U=0.0,z=0.0;C=(i[t+28>>0]|0)!=0;L=C?n:e;C=C?e:n;T=o[t+12>>2]|0;if((T|0)<=0){w=1.0;return+w}M=(o[L+192>>2]|0)+28|0;c=+l[L+4>>2];v=+l[L+8>>2];y=+l[L+12>>2];x=o[L+16>>2]|0;w=+l[L+20>>2];u=+l[L+24>>2];h=+l[L+28>>2];e=o[L+32>>2]|0;p=+l[L+36>>2];f=+l[L+40>>2];d=+l[L+44>>2];n=o[L+48>>2]|0;_=+l[L+52>>2];m=+l[L+56>>2];g=+l[L+60>>2];b=o[L+64>>2]|0;S=o[L+284>>2]|0;a=1.0;A=0;do{R=o[M>>2]|0;z=+l[R+(A*80|0)>>2];U=+l[R+(A*80|0)+16>>2];j=+l[R+(A*80|0)+32>>2];B=+l[R+(A*80|0)+4>>2];F=+l[R+(A*80|0)+20>>2];N=+l[R+(A*80|0)+36>>2];O=+l[R+(A*80|0)+8>>2];k=+l[R+(A*80|0)+24>>2];D=+l[R+(A*80|0)+40>>2];P=+l[R+(A*80|0)+48>>2];I=+l[R+(A*80|0)+52>>2];E=+l[R+(A*80|0)+56>>2];o[L+284>>2]=S+1;l[L+4>>2]=c*z+v*U+y*j;l[L+8>>2]=c*B+v*F+y*N;l[L+12>>2]=c*O+v*k+y*D;l[L+16>>2]=0.0;l[L+20>>2]=w*z+u*U+h*j;l[L+24>>2]=w*B+u*F+h*N;l[L+28>>2]=w*O+u*k+h*D;l[L+32>>2]=0.0;l[L+36>>2]=p*z+f*U+d*j;l[L+40>>2]=p*B+f*F+d*N;l[L+44>>2]=p*O+f*k+d*D;l[L+48>>2]=0.0;l[L+52>>2]=_+(c*P+v*I+y*E);l[L+56>>2]=m+(w*P+u*I+h*E);l[L+60>>2]=g+(p*P+f*I+d*E);l[L+64>>2]=0.0;R=o[(o[t+20>>2]|0)+(A<<2)>>2]|0;E=+bk[o[(o[R>>2]|0)+12>>2]&15](R,L,C,r,s);a=E<a?E:a;S=(o[L+284>>2]|0)+1|0;o[L+284>>2]=S;l[L+4>>2]=c;l[L+8>>2]=v;l[L+12>>2]=y;o[L+16>>2]=x;l[L+20>>2]=w;l[L+24>>2]=u;l[L+28>>2]=h;o[L+32>>2]=e;l[L+36>>2]=p;l[L+40>>2]=f;l[L+44>>2]=d;o[L+48>>2]=n;l[L+52>>2]=_;l[L+56>>2]=m;l[L+60>>2]=g;o[L+64>>2]=b;A=A+1|0}while((A|0)!=(T|0));return+a}function dS(t,e){t=t|0;e=e|0;var n=0,i=0,r=0;n=o[t+12>>2]|0;if((n|0)<=0)return;r=0;do{i=o[(o[t+20>>2]|0)+(r<<2)>>2]|0;if(i){ck[o[(o[i>>2]|0)+16>>2]&127](i,e);n=o[t+12>>2]|0}r=r+1|0}while((r|0)<(n|0));return}function _S(t,e,n,r,s){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;o[t+4>>2]=o[e>>2];o[t>>2]=3592;i[t+24>>0]=1;o[t+20>>2]=0;o[t+12>>2]=0;o[t+16>>2]=0;i[t+28>>0]=s&1;o[t+32>>2]=o[e+4>>2];i[t+36>>0]=0;o[t+40>>2]=o[(o[(s?r:n)+4>>2]|0)+72>>2];lS(t,n,r);return}function mS(t){t=t|0;var e=0,n=0,r=0,s=0,a=0;o[t>>2]=3656;e=o[t+44>>2]|0;n=o[e+8>>2]|0;if((n|0)>0){s=0;do{r=o[(o[e+16>>2]|0)+(s*12|0)+8>>2]|0;if(r|0){sk[o[o[r>>2]>>2]&255](r);a=o[t+4>>2]|0;ck[o[(o[a>>2]|0)+60>>2]&127](a,r)}s=s+1|0}while((s|0)!=(n|0));e=o[t+44>>2]|0}FE(e);e=o[t+44>>2]|0;sk[o[o[e>>2]>>2]&255](e);e=o[t+44>>2]|0;if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}e=o[t+60>>2]|0;if(!e){i[t+64>>0]=1;o[t+60>>2]=0;o[t+52>>2]=0;a=t+56|0;o[a>>2]=0;sS(t);return}if(i[t+64>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+60>>2]=0;i[t+64>>0]=1;o[t+60>>2]=0;o[t+52>>2]=0;a=t+56|0;o[a>>2]=0;sS(t);return}function gS(t){t=t|0;mS(t);Kc(t);return}function bS(t,e,n,r,s){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;var a=0,c=0,u=0,p=0,f=0,d=0,_=0,m=0,g=0,b=0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0,D=0.0,k=0.0,O=0.0,N=0.0,F=0.0,B=0.0,j=0.0,U=0.0,z=0.0,V=0.0,W=0.0,H=0.0,X=0.0,q=0.0,Y=0.0,Z=0.0,J=0.0,K=0.0,$=0.0,Q=0,tt=0,et=0,nt=0,it=0,rt=0,ot=0.0,st=0.0,at=0.0,ct=0.0,lt=0.0,ut=0.0,ht=0.0,pt=0.0,ft=0.0,dt=0.0,_t=0.0;rt=h;h=h+176|0;et=o[e+4>>2]|0;nt=o[n+4>>2]|0;g=o[et+68>>2]|0;b=o[nt+68>>2]|0;if(!((g|0)!=0&(b|0)!=0)){cS(t,e,n,r,s);h=rt;return}if((o[et+72>>2]|0)==(o[t+68>>2]|0)?(o[nt+72>>2]|0)==(o[t+72>>2]|0):0)tt=t+44|0;else{a=o[t+44>>2]|0;c=o[a+8>>2]|0;if((c|0)>0){p=0;do{u=o[(o[a+16>>2]|0)+(p*12|0)+8>>2]|0;if(u|0){sk[o[o[u>>2]>>2]&255](u);tt=o[t+4>>2]|0;ck[o[(o[tt>>2]|0)+60>>2]&127](tt,u)}p=p+1|0}while((p|0)!=(c|0));a=o[t+44>>2]|0}FE(a);o[t+68>>2]=o[et+72>>2];o[t+72>>2]=o[nt+72>>2];tt=t+44|0}i[rt+128+16>>0]=1;m=rt+128+12|0;o[m>>2]=0;o[rt+128+4>>2]=0;o[rt+128+8>>2]=0;_=o[tt>>2]|0;a=o[_+8>>2]|0;if((a|0)>0){d=0;do{c=o[(o[_+16>>2]|0)+(d*12|0)+8>>2]|0;if(c){ck[o[(o[c>>2]|0)+16>>2]&127](c,rt+128|0);a=o[rt+128+4>>2]|0;if((a|0)>0){f=0;do{p=o[(o[m>>2]|0)+(f<<2)>>2]|0;if(o[p+748>>2]|0){o[s+4>>2]=p;a=o[p+740>>2]|0;c=o[(o[s+8>>2]|0)+8>>2]|0;u=o[(o[s+12>>2]|0)+8>>2]|0;if((a|0)==(c|0))px(p,a+4|0,u+4|0);else px(p,u+4|0,c+4|0);o[s+4>>2]=0;a=o[rt+128+4>>2]|0}f=f+1|0}while((f|0)<(a|0))}if((a|0)<0){if((o[rt+128+8>>2]|0)<0){c=o[m>>2]|0;if(c|0){if(i[rt+128+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[c+-4>>2]|0)}o[m>>2]=0}i[rt+128+16>>0]=1;o[m>>2]=0;o[rt+128+8>>2]=0}do{o[(o[m>>2]|0)+(a<<2)>>2]=0;a=a+1|0}while((a|0)!=0)}o[rt+128+4>>2]=0;a=o[_+8>>2]|0}d=d+1|0}while((d|0)<(a|0));a=o[m>>2]|0;if(a|0){if(i[rt+128+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0)}o[m>>2]=0}}m=o[t+4>>2]|0;c=o[tt>>2]|0;u=o[t+32>>2]|0;o[rt+128>>2]=3684;o[rt+128+4>>2]=0;o[rt+128+8>>2]=e;o[rt+128+12>>2]=n;o[rt+128+16>>2]=m;o[rt+128+20>>2]=r;o[rt+128+24>>2]=s;o[rt+128+28>>2]=c;o[rt+128+32>>2]=u;u=o[e+12>>2]|0;L=+l[u>>2];E=+l[u+16>>2];R=+l[u+32>>2];I=+l[u+4>>2];P=+l[u+20>>2];D=+l[u+36>>2];k=+l[u+8>>2];O=+l[u+24>>2];N=+l[u+40>>2];F=-+l[u+48>>2];B=-+l[u+52>>2];j=-+l[u+56>>2];u=o[n+12>>2]|0;U=+l[u>>2];z=+l[u+16>>2];V=+l[u+32>>2];W=+l[u+4>>2];H=+l[u+20>>2];X=+l[u+36>>2];q=+l[u+8>>2];Y=+l[u+24>>2];Z=+l[u+40>>2];J=+l[u+48>>2];K=+l[u+52>>2];$=+l[u+56>>2];u=o[g>>2]|0;c=o[b>>2]|0;if((u|0)!=0&(c|0)!=0){o[5637]=(o[5637]|0)+1;a=Jc(1043)|0;if(!a)a=0;else{o[(a+4+15&-16)+-4>>2]=a;a=a+4+15&-16}o[a>>2]=u;o[a+4>>2]=c;v=+G(+(L*U+E*z+R*V));y=+G(+(L*W+E*H+R*X));x=+G(+(L*q+E*Y+R*Z));w=+G(+(I*U+P*z+D*V));S=+G(+(I*W+P*H+D*X));M=+G(+(I*q+P*Y+D*Z));C=+G(+(k*U+O*z+N*V));T=+G(+(k*W+O*H+N*X));A=+G(+(k*q+O*Y+N*Z));g=1;u=128;p=128;c=124;while(1){m=g+-1|0;r=o[a+(m<<3)>>2]|0;s=o[a+(m<<3)+4>>2]|0;_t=+l[s+16>>2];dt=+l[s>>2];ft=+l[s+20>>2];pt=+l[s+4>>2];ht=+l[s+24>>2];ot=+l[s+8>>2];ut=L*F+E*B+R*j+(L*J+E*K+R*$)+((L*U+E*z+R*V)*((_t+dt)*.5)+(L*W+E*H+R*X)*((ft+pt)*.5)+(L*q+E*Y+R*Z)*((ht+ot)*.5));ct=I*F+P*B+D*j+(I*J+P*K+D*$)+((I*U+P*z+D*V)*((_t+dt)*.5)+(I*W+P*H+D*X)*((ft+pt)*.5)+(I*q+P*Y+D*Z)*((ht+ot)*.5));st=k*F+O*B+N*j+(k*J+O*K+N*$)+((k*U+O*z+N*V)*((_t+dt)*.5)+(k*W+O*H+N*X)*((ft+pt)*.5)+(k*q+O*Y+N*Z)*((ht+ot)*.5));lt=((_t-dt)*.5+0.0)*v+((ft-pt)*.5+0.0)*y+((ht-ot)*.5+0.0)*x;at=((_t-dt)*.5+0.0)*w+((ft-pt)*.5+0.0)*S+((ht-ot)*.5+0.0)*M;ot=((_t-dt)*.5+0.0)*C+((ft-pt)*.5+0.0)*T+((ht-ot)*.5+0.0)*A;do{if(((((+l[r>>2]<=lt+ut?+l[r+16>>2]>=ut-lt:0)?+l[r+4>>2]<=ct+at:0)?+l[r+20>>2]>=ct-at:0)?+l[r+8>>2]<=st+ot:0)?+l[r+24>>2]>=st-ot:0){if((m|0)>(c|0)){f=p<<1;do{if((p|0)<(f|0)&(u|0)<(f|0)){do{if(!p){c=0;Q=54}else{o[5637]=(o[5637]|0)+1;c=Jc((p<<4|3)+16|0)|0;if(!c)c=0;else{o[(c+4+15&-16)+-4>>2]=c;c=c+4+15&-16}if((p|0)>0)u=0;else{Q=54;break}do{d=a+(u<<3)|0;_=o[d+4>>2]|0;b=c+(u<<3)|0;o[b>>2]=o[d>>2];o[b+4>>2]=_;u=u+1|0}while((u|0)!=(p|0))}}while(0);if((Q|0)==54){Q=0;if(!a){u=f;a=c;break}}o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0);u=f;a=c}}while(0);_=f;c=f+-4|0}else _=p;p=(o[s+40>>2]|0)!=0;if(!(o[r+40>>2]|0))if(p){f=o[s+36>>2]|0;o[a+(m<<3)>>2]=r;o[a+(m<<3)+4>>2]=f;f=o[s+40>>2]|0;o[a+(g<<3)>>2]=r;o[a+(g<<3)+4>>2]=f;f=g+1|0;p=_;break}else{Uk[o[(o[rt+128>>2]|0)+8>>2]&127](rt+128|0,r,s);f=m;p=_;break}else{f=a+(m<<3)|0;d=o[r+36>>2]|0;if(p){p=o[s+36>>2]|0;o[f>>2]=d;o[a+(m<<3)+4>>2]=p;p=g+1|0;f=o[s+36>>2]|0;o[a+(g<<3)>>2]=o[r+40>>2];o[a+(g<<3)+4>>2]=f;f=g+2|0;b=o[s+40>>2]|0;o[a+(p<<3)>>2]=o[r+36>>2];o[a+(p<<3)+4>>2]=b;p=o[s+40>>2]|0;o[a+(f<<3)>>2]=o[r+40>>2];o[a+(f<<3)+4>>2]=p;f=g+3|0;p=_;break}else{o[f>>2]=d;o[a+(m<<3)+4>>2]=s;o[a+(g<<3)>>2]=o[r+40>>2];o[a+(g<<3)+4>>2]=s;f=g+1|0;p=_;break}}}else f=m}while(0);if(!f)break;else g=f}if(a|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0)}}d=o[tt>>2]|0;if((o[d+8>>2]|0)>0){_=0;do{a=o[d+16>>2]|0;c=o[a+(_*12|0)+8>>2]|0;do{if(c|0){Q=o[a+(_*12|0)>>2]|0;b=o[et+28>>2]|0;g=o[b+(Q*80|0)+64>>2]|0;s=o[e+12>>2]|0;_t=+l[s>>2];z=+l[s+4>>2];U=+l[s+8>>2];pt=+l[s+16>>2];ut=+l[s+20>>2];ct=+l[s+24>>2];ht=+l[s+32>>2];at=+l[s+36>>2];q=+l[s+40>>2];st=+l[b+(Q*80|0)>>2];ot=+l[b+(Q*80|0)+16>>2];$=+l[b+(Q*80|0)+32>>2];K=+l[b+(Q*80|0)+4>>2];J=+l[b+(Q*80|0)+20>>2];Z=+l[b+(Q*80|0)+36>>2];lt=+l[b+(Q*80|0)+8>>2];Y=+l[b+(Q*80|0)+24>>2];X=+l[b+(Q*80|0)+40>>2];dt=+l[b+(Q*80|0)+48>>2];ft=+l[b+(Q*80|0)+52>>2];V=+l[b+(Q*80|0)+56>>2];H=+l[s+48>>2]+(_t*dt+z*ft+U*V);W=+l[s+52>>2]+(pt*dt+ut*ft+ct*V);V=+l[s+56>>2]+(ht*dt+at*ft+q*V);l[rt>>2]=_t*st+z*ot+U*$;l[rt+4>>2]=_t*K+z*J+U*Z;l[rt+8>>2]=_t*lt+z*Y+U*X;l[rt+12>>2]=0.0;l[rt+16>>2]=pt*st+ut*ot+ct*$;l[rt+20>>2]=pt*K+ut*J+ct*Z;l[rt+24>>2]=pt*lt+ut*Y+ct*X;l[rt+28>>2]=0.0;l[rt+32>>2]=ht*st+at*ot+q*$;l[rt+36>>2]=ht*K+at*J+q*Z;l[rt+40>>2]=ht*lt+at*Y+q*X;l[rt+44>>2]=0.0;l[rt+48>>2]=H;l[rt+52>>2]=W;l[rt+56>>2]=V;l[rt+60>>2]=0.0;Wk[o[(o[g>>2]|0)+8>>2]&127](g,rt,rt+112|0,rt+96|0);g=o[(o[d+16>>2]|0)+(_*12|0)+4>>2]|0;s=o[nt+28>>2]|0;Q=o[s+(g*80|0)+64>>2]|0;b=o[n+12>>2]|0;V=+l[b>>2];W=+l[b+4>>2];H=+l[b+8>>2];X=+l[b+16>>2];q=+l[b+20>>2];Y=+l[b+24>>2];at=+l[b+32>>2];lt=+l[b+36>>2];ht=+l[b+40>>2];Z=+l[s+(g*80|0)>>2];J=+l[s+(g*80|0)+16>>2];K=+l[s+(g*80|0)+32>>2];$=+l[s+(g*80|0)+4>>2];ot=+l[s+(g*80|0)+20>>2];st=+l[s+(g*80|0)+36>>2];ct=+l[s+(g*80|0)+8>>2];ut=+l[s+(g*80|0)+24>>2];pt=+l[s+(g*80|0)+40>>2];U=+l[s+(g*80|0)+48>>2];z=+l[s+(g*80|0)+52>>2];_t=+l[s+(g*80|0)+56>>2];ft=+l[b+48>>2]+(V*U+W*z+H*_t);dt=+l[b+52>>2]+(X*U+q*z+Y*_t);_t=+l[b+56>>2]+(at*U+lt*z+ht*_t);l[rt>>2]=V*Z+W*J+H*K;l[rt+4>>2]=V*$+W*ot+H*st;l[rt+8>>2]=V*ct+W*ut+H*pt;l[rt+12>>2]=0.0;l[rt+16>>2]=X*Z+q*J+Y*K;l[rt+20>>2]=X*$+q*ot+Y*st;l[rt+24>>2]=X*ct+q*ut+Y*pt;l[rt+28>>2]=0.0;l[rt+32>>2]=at*Z+lt*J+ht*K;l[rt+36>>2]=at*$+lt*ot+ht*st;l[rt+40>>2]=at*ct+lt*ut+ht*pt;l[rt+44>>2]=0.0;l[rt+48>>2]=ft;l[rt+52>>2]=dt;l[rt+56>>2]=_t;l[rt+60>>2]=0.0;Wk[o[(o[Q>>2]|0)+8>>2]&127](Q,rt,rt+80|0,rt+64|0);if(!(+l[rt+112>>2]>+l[rt+64>>2])?!(+l[rt+96>>2]<+l[rt+80>>2]):0)a=1;else a=0;if(!(!(+l[rt+112+8>>2]>+l[rt+64+8>>2])?!(+l[rt+96+8>>2]<+l[rt+80+8>>2]):0))a=0;if(!(+l[rt+112+4>>2]>+l[rt+64+4>>2])?!(+l[rt+96+4>>2]<+l[rt+80+4>>2]|a^1):0)break;sk[o[o[c>>2]>>2]&255](c);f=o[t+4>>2]|0;ck[o[(o[f>>2]|0)+60>>2]&127](f,c);f=o[d+16>>2]|0;p=o[f+(_*12|0)>>2]|0;f=o[f+(_*12|0)+4>>2]|0;a=o[t+52>>2]|0;if((a|0)==(o[t+56>>2]|0)?(it=a|0?a<<1:1,(a|0)<(it|0)):0){if(!it)u=0;else{o[5637]=(o[5637]|0)+1;a=Jc((it*12|3)+16|0)|0;if(!a)a=0;else{o[(a+4+15&-16)+-4>>2]=a;a=a+4+15&-16}u=a;a=o[t+52>>2]|0}if((a|0)>0){c=0;do{Q=u+(c*12|0)|0;b=(o[t+60>>2]|0)+(c*12|0)|0;o[Q>>2]=o[b>>2];o[Q+4>>2]=o[b+4>>2];o[Q+8>>2]=o[b+8>>2];c=c+1|0}while((c|0)!=(a|0))}a=o[t+60>>2]|0;if(a|0){if(i[t+64>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0)}o[t+60>>2]=0}i[t+64>>0]=1;o[t+60>>2]=u;o[t+56>>2]=it;a=o[t+52>>2]|0}Q=o[t+60>>2]|0;o[Q+(a*12|0)>>2]=p;o[Q+(a*12|0)+4>>2]=f;o[Q+(a*12|0)+8>>2]=0;o[t+52>>2]=(o[t+52>>2]|0)+1}}while(0);_=_+1|0}while((_|0)<(o[d+8>>2]|0));c=t+60|0;u=t+52|0}else{c=t+60|0;u=t+52|0}if((o[u>>2]|0)>0){a=0;do{e=o[tt>>2]|0;n=o[c>>2]|0;vk[o[(o[e>>2]|0)+8>>2]&63](e,o[n+(a*12|0)>>2]|0,o[n+(a*12|0)+4>>2]|0)|0;a=a+1|0}while((a|0)<(o[u>>2]|0))}a=o[c>>2]|0;if(a|0){if(i[t+64>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0)}o[c>>2]=0}i[t+64>>0]=1;o[c>>2]=0;o[u>>2]=0;o[t+56>>2]=0;h=rt;return}function vS(t){t=t|0;Kc(t);return}function yS(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0,s=0,a=0,c=0,u=0,p=0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0,D=0.0,k=0.0,O=0.0,N=0;p=h;h=h+240|0;o[t+4>>2]=(o[t+4>>2]|0)+1;c=o[e+36>>2]|0;a=o[n+36>>2]|0;r=o[t+8>>2]|0;N=o[(o[r+4>>2]|0)+28>>2]|0;n=o[N+(c*80|0)+64>>2]|0;e=(o[(o[t+12>>2]|0)+4>>2]|0)+28|0;i=o[(o[e>>2]|0)+(a*80|0)+64>>2]|0;r=o[r+12>>2]|0;f=+l[r>>2];k=+l[r+4>>2];O=+l[r+8>>2];m=+l[r+16>>2];b=+l[r+20>>2];y=+l[r+24>>2];g=+l[r+32>>2];x=+l[r+36>>2];E=+l[r+40>>2];w=+l[N+(c*80|0)>>2];S=+l[N+(c*80|0)+16>>2];M=+l[N+(c*80|0)+32>>2];C=+l[N+(c*80|0)+4>>2];T=+l[N+(c*80|0)+20>>2];A=+l[N+(c*80|0)+36>>2];v=+l[N+(c*80|0)+8>>2];L=+l[N+(c*80|0)+24>>2];R=+l[N+(c*80|0)+40>>2];d=+l[N+(c*80|0)+48>>2];_=+l[N+(c*80|0)+52>>2];D=+l[N+(c*80|0)+56>>2];I=+l[r+48>>2]+(f*d+k*_+O*D);P=+l[r+52>>2]+(m*d+b*_+y*D);D=+l[r+56>>2]+(g*d+x*_+E*D);l[p+176>>2]=f*w+k*S+O*M;l[p+176+4>>2]=f*C+k*T+O*A;l[p+176+8>>2]=f*v+k*L+O*R;l[p+176+12>>2]=0.0;l[p+176+16>>2]=m*w+b*S+y*M;l[p+176+20>>2]=m*C+b*T+y*A;l[p+176+24>>2]=m*v+b*L+y*R;l[p+176+28>>2]=0.0;l[p+176+32>>2]=g*w+x*S+E*M;l[p+176+36>>2]=g*C+x*T+E*A;l[p+176+40>>2]=g*v+x*L+E*R;l[p+176+44>>2]=0.0;l[p+176+48>>2]=I;l[p+176+52>>2]=P;l[p+176+56>>2]=D;l[p+176+60>>2]=0.0;r=o[(o[t+12>>2]|0)+12>>2]|0;D=+l[r>>2];P=+l[r+4>>2];I=+l[r+8>>2];R=+l[r+16>>2];E=+l[r+20>>2];L=+l[r+24>>2];x=+l[r+32>>2];v=+l[r+36>>2];g=+l[r+40>>2];e=o[e>>2]|0;A=+l[e+(a*80|0)>>2];T=+l[e+(a*80|0)+16>>2];C=+l[e+(a*80|0)+32>>2];M=+l[e+(a*80|0)+4>>2];S=+l[e+(a*80|0)+20>>2];w=+l[e+(a*80|0)+36>>2];y=+l[e+(a*80|0)+8>>2];b=+l[e+(a*80|0)+24>>2];m=+l[e+(a*80|0)+40>>2];O=+l[e+(a*80|0)+48>>2];k=+l[e+(a*80|0)+52>>2];f=+l[e+(a*80|0)+56>>2];_=+l[r+48>>2]+(D*O+P*k+I*f);d=+l[r+52>>2]+(R*O+E*k+L*f);f=+l[r+56>>2]+(x*O+v*k+g*f);l[p+112>>2]=D*A+P*T+I*C;l[p+112+4>>2]=D*M+P*S+I*w;l[p+112+8>>2]=D*y+P*b+I*m;l[p+112+12>>2]=0.0;l[p+112+16>>2]=R*A+E*T+L*C;l[p+112+20>>2]=R*M+E*S+L*w;l[p+112+24>>2]=R*y+E*b+L*m;l[p+112+28>>2]=0.0;l[p+112+32>>2]=x*A+v*T+g*C;l[p+112+36>>2]=x*M+v*S+g*w;l[p+112+40>>2]=x*y+v*b+g*m;l[p+112+44>>2]=0.0;l[p+112+48>>2]=_;l[p+112+52>>2]=d;l[p+112+56>>2]=f;l[p+112+60>>2]=0.0;Wk[o[(o[n>>2]|0)+8>>2]&127](n,p+176|0,p+96|0,p+80|0);Wk[o[(o[i>>2]|0)+8>>2]&127](i,p+112|0,p+64|0,p+48|0);if(!(+l[p+96>>2]>+l[p+48>>2])?!(+l[p+80>>2]<+l[p+64>>2]):0)e=1;else e=0;if(!(!(+l[p+96+8>>2]>+l[p+48+8>>2])?!(+l[p+80+8>>2]<+l[p+64+8>>2]):0))e=0;if(+l[p+96+4>>2]>+l[p+48+4>>2]){h=p;return}if(+l[p+80+4>>2]<+l[p+64+4>>2]|e^1){h=p;return}r=o[t+8>>2]|0;e=o[r+8>>2]|0;o[p+24>>2]=r;o[p+24+4>>2]=n;o[p+24+8>>2]=e;o[p+24+12>>2]=p+176;o[p+24+16>>2]=-1;o[p+24+20>>2]=c;e=o[t+12>>2]|0;r=o[e+8>>2]|0;o[p>>2]=e;o[p+4>>2]=i;o[p+8>>2]=r;o[p+12>>2]=p+112;o[p+16>>2]=-1;o[p+20>>2]=a;r=o[t+28>>2]|0;o[4992]=(o[4992]|0)+1;e=((a<<16|c)+~((a<<16|c)<<15)>>10^(a<<16|c)+~((a<<16|c)<<15))*9|0;e=(o[r+12>>2]|0)+-1&((e>>6^e)+~((e>>6^e)<<11)>>16^(e>>6^e)+~((e>>6^e)<<11));t:do{if((e|0)<(o[r+28>>2]|0)?(s=o[(o[r+36>>2]|0)+(e<<2)>>2]|0,(s|0)!=-1):0){i=o[r+16>>2]|0;e=s;while(1){n=i+(e*12|0)|0;if((o[n>>2]|0)==(c|0)?(o[i+(e*12|0)+4>>2]|0)==(a|0):0)break;e=o[(o[r+56>>2]|0)+(e<<2)>>2]|0;if((e|0)==-1){u=16;break t}}if(n)e=o[i+(e*12|0)+8>>2]|0;else u=16}else u=16}while(0);if((u|0)==16){e=o[t+16>>2]|0;e=dk[o[(o[e>>2]|0)+8>>2]&31](e,p+24|0,p,o[t+32>>2]|0)|0;N=o[t+28>>2]|0;o[(vk[o[(o[N>>2]|0)+12>>2]&63](N,c,a)|0)+8>>2]=e}N=o[t+24>>2]|0;s=o[N+8>>2]|0;u=o[N+12>>2]|0;o[N+8>>2]=p+24;o[N+12>>2]=p;Uk[o[(o[N>>2]|0)+8>>2]&127](N,-1,c);N=o[t+24>>2]|0;Uk[o[(o[N>>2]|0)+12>>2]&127](N,-1,a);rk[o[(o[e>>2]|0)+8>>2]&31](e,p+24|0,p,o[t+20>>2]|0,o[t+24>>2]|0);N=o[t+24>>2]|0;o[N+8>>2]=s;o[N+12>>2]=u;h=p;return}function xS(t,e){t=t|0;e=e|0;return}function wS(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;return 0.0}function SS(t,e){t=t|0;e=e|0;var n=0,i=0,r=0;r=o[t+44>>2]|0;t=o[r+8>>2]|0;if((t|0)<=0)return;i=0;do{n=o[(o[r+16>>2]|0)+(i*12|0)+8>>2]|0;if(n){ck[o[(o[n>>2]|0)+16>>2]&127](n,e);t=o[r+8>>2]|0}i=i+1|0}while((i|0)<(t|0));return}function MS(t){t=t|0;var e=0;o[t>>2]=3720;o[t+12>>2]=3748;e=o[t+60>>2]|0;ck[o[(o[e>>2]|0)+20>>2]&127](e,o[t+76>>2]|0);e=o[t+60>>2]|0;ck[o[(o[e>>2]|0)+16>>2]&127](e,o[t+76>>2]|0);return}function CS(t){t=t|0;var e=0;o[t>>2]=3748;e=o[t+48>>2]|0;ck[o[(o[e>>2]|0)+20>>2]&127](e,o[t+64>>2]|0);e=o[t+48>>2]|0;ck[o[(o[e>>2]|0)+16>>2]&127](e,o[t+64>>2]|0);return}function TS(t){t=t|0;var e=0;o[t>>2]=3748;e=o[t+48>>2]|0;ck[o[(o[e>>2]|0)+20>>2]&127](e,o[t+64>>2]|0);e=o[t+48>>2]|0;ck[o[(o[e>>2]|0)+16>>2]&127](e,o[t+64>>2]|0);Kc(t);return}function AS(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0,s=0.0,a=0.0,c=0.0,u=0,p=0,f=0,d=0,_=0.0,m=0;d=h;h=h+144|0;s=+l[e>>2];a=+l[e+16>>2];_=s<a?s:a;c=+l[e+32>>2];if((_<c?_:c)>+l[t+28>>2]){h=d;return}p=s>a?e:e+16|0;if(+l[(+l[p>>2]>c?p:e+32|0)>>2]<+l[t+12>>2]){h=d;return}s=+l[e+8>>2];a=+l[e+24>>2];_=s<a?s:a;c=+l[e+40>>2];if((_<c?_:c)>+l[t+36>>2]){h=d;return}p=s>a?e+8|0:e+24|0;if(+l[(+l[p>>2]>c?p:e+40|0)>>2]<+l[t+20>>2]){h=d;return}s=+l[e+4>>2];a=+l[e+20>>2];_=s<a?s:a;c=+l[e+36>>2];if((_<c?_:c)>+l[t+32>>2]){h=d;return}p=s>a?e+4|0:e+20|0;if(+l[(+l[p>>2]>c?p:e+36|0)>>2]<+l[t+16>>2]){h=d;return}p=o[t+48>>2]|0;r=o[t+4>>2]|0;if((o[(o[r+4>>2]|0)+4>>2]|0)>=20){h=d;return}o[d+24+8>>2]=0;o[d+24+12>>2]=-1;o[d+24+16>>2]=1065353216;o[d+24+20>>2]=1065353216;o[d+24+24>>2]=1065353216;l[d+24+28>>2]=0.0;o[d+24+56>>2]=0;o[d+24>>2]=3768;o[d+24+4>>2]=1;o[d+24+60>>2]=o[e>>2];o[d+24+60+4>>2]=o[e+4>>2];o[d+24+60+8>>2]=o[e+8>>2];o[d+24+60+12>>2]=o[e+12>>2];o[d+24+76>>2]=o[e+16>>2];o[d+24+76+4>>2]=o[e+16+4>>2];o[d+24+76+8>>2]=o[e+16+8>>2];o[d+24+76+12>>2]=o[e+16+12>>2];o[d+24+92>>2]=o[e+32>>2];o[d+24+92+4>>2]=o[e+32+4>>2];o[d+24+92+8>>2]=o[e+32+8>>2];o[d+24+92+12>>2]=o[e+32+12>>2];o[d+24+48>>2]=o[t+56>>2];m=o[t+8>>2]|0;e=o[m+8>>2]|0;u=o[m+12>>2]|0;o[d>>2]=m;o[d+4>>2]=d+24;o[d+8>>2]=e;o[d+12>>2]=u;o[d+16>>2]=n;o[d+20>>2]=i;u=dk[o[(o[p>>2]|0)+8>>2]&31](p,r,d,o[t+64>>2]|0)|0;r=o[t+44>>2]|0;e=o[r+8>>2]|0;if((o[e+8>>2]|0)==(o[(o[t+8>>2]|0)+8>>2]|0)){o[r+8>>2]=d;Uk[o[(o[r>>2]|0)+8>>2]&127](r,n,i)}else{e=o[r+12>>2]|0;o[r+12>>2]=d;Uk[o[(o[r>>2]|0)+12>>2]&127](r,n,i)}rk[o[(o[u>>2]|0)+8>>2]&31](u,o[t+4>>2]|0,d,o[t+52>>2]|0,o[t+44>>2]|0);r=o[t+44>>2]|0;if((o[(o[r+8>>2]|0)+8>>2]|0)==(o[(o[t+8>>2]|0)+8>>2]|0))o[r+8>>2]=e;else o[r+12>>2]=e;sk[o[o[u>>2]>>2]&255](u);ck[o[(o[p>>2]|0)+60>>2]&127](p,u);o[d+24>>2]=6248;r=o[d+24+56>>2]|0;if(r|0?(sk[o[o[r>>2]>>2]&255](r),f=o[d+24+56>>2]|0,f|0):0){o[5638]=(o[5638]|0)+1;Kc(o[f+-4>>2]|0)}h=d;return}function LS(t){t=t|0;var e=0,n=0;o[t>>2]=6248;e=o[t+56>>2]|0;if(e|0?(sk[o[o[e>>2]>>2]&255](e),n=o[t+56>>2]|0,n|0):0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function ES(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;Wk[o[(o[t>>2]|0)+80>>2]&127](t,e,n,i);return}function RS(t){t=t|0;return t+16|0}function IS(t,e,n){t=t|0;e=+e;n=n|0;o[n>>2]=0;o[n+4>>2]=0;o[n+8>>2]=0;o[n+12>>2]=0;return}function PS(t){t=t|0;return 11211}function DS(t,e){t=t|0;e=e|0;o[t>>2]=1065353216;o[t+4>>2]=1065353216;o[t+8>>2]=1065353216;l[t+12>>2]=0.0;return}function kS(t,e){t=t|0;e=+e;l[t+48>>2]=e;return}function OS(t){t=t|0;return+ +l[t+48>>2]}function NS(t){t=t|0;return 52}function FS(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0;i=Ek[o[(o[n>>2]|0)+40>>2]&31](n,t)|0;r=Ek[o[(o[n>>2]|0)+28>>2]&31](n,i)|0;o[e>>2]=r;if(r|0)ck[o[(o[n>>2]|0)+48>>2]&127](n,i);o[e+4>>2]=o[t+4>>2];o[e+28>>2]=o[t+32>>2];o[e+32>>2]=o[t+36>>2];o[e+36>>2]=o[t+40>>2];o[e+40>>2]=o[t+44>>2];o[e+12>>2]=o[t+16>>2];o[e+16>>2]=o[t+20>>2];o[e+20>>2]=o[t+24>>2];o[e+24>>2]=o[t+28>>2];o[e+44>>2]=o[t+48>>2];return 11220}function BS(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,s=0.0,a=0.0,c=0.0;c=+l[n>>2];a=+l[n+4>>2];i=+l[n+8>>2];r=c*+l[e+60>>2]+a*+l[e+64>>2]+i*+l[e+68>>2];s=c*+l[e+76>>2]+a*+l[e+80>>2]+i*+l[e+84>>2];i=c*+l[e+92>>2]+a*+l[e+96>>2]+i*+l[e+100>>2];e=e+60+((r<s?s<i?2:1:r<i?2:0)<<4)|0;o[t>>2]=o[e>>2];o[t+4>>2]=o[e+4>>2];o[t+8>>2]=o[e+8>>2];o[t+12>>2]=o[e+12>>2];return}function jS(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0,s=0,a=0,c=0.0,u=0.0,h=0.0,p=0.0,f=0.0;if((i|0)<=0)return;r=0;do{f=+l[e+(r<<4)>>2];p=+l[e+(r<<4)+4>>2];c=+l[e+(r<<4)+8>>2];u=f*+l[t+60>>2]+p*+l[t+64>>2]+c*+l[t+68>>2];h=f*+l[t+76>>2]+p*+l[t+80>>2]+c*+l[t+84>>2];c=f*+l[t+92>>2]+p*+l[t+96>>2]+c*+l[t+100>>2];s=n+(r<<4)|0;a=t+60+((u<h?h<c?2:1:u<c?2:0)<<4)|0;o[s>>2]=o[a>>2];o[s+4>>2]=o[a+4>>2];o[s+8>>2]=o[a+8>>2];o[s+12>>2]=o[a+12>>2];r=r+1|0}while((r|0)!=(i|0));return}function US(t){t=t|0;return 2}function zS(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,o=0.0,s=0.0,a=0.0,c=0.0,u=0.0;s=+l[t+60>>2];c=+l[t+76>>2]-s;a=+l[t+64>>2];u=+l[t+80>>2]-a;i=+l[t+68>>2];o=+l[t+84>>2]-i;s=+l[t+92>>2]-s;a=+l[t+96>>2]-a;i=+l[t+100>>2]-i;l[n+12>>2]=0.0;r=1.0/+V(+((c*a-u*s)*(c*a-u*s)+((u*i-o*a)*(u*i-o*a)+(o*s-c*i)*(o*s-c*i))));l[n>>2]=(u*i-o*a)*r;l[n+4>>2]=(o*s-c*i)*r;l[n+8>>2]=(c*a-u*s)*r;if(!e)return;l[n>>2]=-((u*i-o*a)*r);l[n+4>>2]=-((o*s-c*i)*r);l[n+8>>2]=-((c*a-u*s)*r);return}function GS(t){t=t|0;return 3}function VS(t){t=t|0;return 3}function WS(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;Uk[o[(o[t>>2]|0)+108>>2]&127](t,e,n);Uk[o[(o[t>>2]|0)+108>>2]&127](t,(e+1|0)%3|0,i);return}function HS(t,e,n){t=t|0;e=e|0;n=n|0;o[n>>2]=o[t+60+(e<<4)>>2];o[n+4>>2]=o[t+60+(e<<4)+4>>2];o[n+8>>2]=o[t+60+(e<<4)+8>>2];o[n+12>>2]=o[t+60+(e<<4)+12>>2];return}function XS(t){t=t|0;return 1}function qS(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;Wk[o[(o[t>>2]|0)+124>>2]&127](t,i,e,n);return}function YS(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,s=0.0,c=0,p=0,f=0,d=0,_=0,m=0,g=0;g=h;h=h+80|0;d=o[t+4>>2]|0;Lk[o[(o[d>>2]|0)+16>>2]&3](d,g+28|0,g+24|0,g+20|0,g+16|0,g+12|0,g+8|0,g+4|0,g,e);d=(o[g+12>>2]|0)+(et(o[g+8>>2]|0,n)|0)|0;m=o[t+4>>2]|0;_=(o[g+20>>2]|0)==0;f=o[g+28>>2]|0;if((o[g>>2]|0)==3){p=o[g+16>>2]|0;c=f+(et(p,a[d+4>>1]|0)|0)|0;if(_){r=+l[c+8>>2]*+l[m+12>>2];s=+l[c+4>>2]*+l[m+8>>2];i=+l[c>>2]*+l[m+4>>2]}else{r=+u[c+16>>3]*+l[m+12>>2];s=+u[c+8>>3]*+l[m+8>>2];i=+u[c>>3]*+l[m+4>>2]}l[g+32+32>>2]=i;l[g+32+36>>2]=s;l[g+32+40>>2]=r;l[g+32+44>>2]=0.0;c=f+(et(p,a[d+2>>1]|0)|0)|0;if(_){r=+l[c+8>>2]*+l[m+12>>2];s=+l[c+4>>2]*+l[m+8>>2];i=+l[c>>2]*+l[m+4>>2]}else{r=+u[c+16>>3]*+l[m+12>>2];s=+u[c+8>>3]*+l[m+8>>2];i=+u[c>>3]*+l[m+4>>2]}l[g+32+16>>2]=i;l[g+32+20>>2]=s;l[g+32+24>>2]=r;l[g+32+28>>2]=0.0;c=f+(et(p,a[d>>1]|0)|0)|0;if(_){r=+l[c+8>>2]*+l[m+12>>2];s=+l[c+4>>2]*+l[m+8>>2];i=+l[c>>2]*+l[m+4>>2]}else{r=+u[c+16>>3]*+l[m+12>>2];s=+u[c+8>>3]*+l[m+8>>2];i=+u[c>>3]*+l[m+4>>2]}l[g+32>>2]=i;l[g+32+4>>2]=s;l[g+32+8>>2]=r;l[g+32+12>>2]=0.0;m=t+8|0;m=o[m>>2]|0;_=o[m>>2]|0;_=_+8|0;_=o[_>>2]|0;Wk[_&127](m,g+32|0,e,n);t=o[t+4>>2]|0;n=o[t>>2]|0;n=n+24|0;n=o[n>>2]|0;ck[n&127](t,e);h=g;return}else{p=o[g+16>>2]|0;c=f+(et(p,o[d+8>>2]|0)|0)|0;if(_){r=+l[c+8>>2]*+l[m+12>>2];s=+l[c+4>>2]*+l[m+8>>2];i=+l[c>>2]*+l[m+4>>2]}else{r=+u[c+16>>3]*+l[m+12>>2];s=+u[c+8>>3]*+l[m+8>>2];i=+u[c>>3]*+l[m+4>>2]}l[g+32+32>>2]=i;l[g+32+36>>2]=s;l[g+32+40>>2]=r;l[g+32+44>>2]=0.0;c=f+(et(p,o[d+4>>2]|0)|0)|0;if(_){r=+l[c+8>>2]*+l[m+12>>2];s=+l[c+4>>2]*+l[m+8>>2];i=+l[c>>2]*+l[m+4>>2]}else{r=+u[c+16>>3]*+l[m+12>>2];s=+u[c+8>>3]*+l[m+8>>2];i=+u[c>>3]*+l[m+4>>2]}l[g+32+16>>2]=i;l[g+32+20>>2]=s;l[g+32+24>>2]=r;l[g+32+28>>2]=0.0;c=f+(et(p,o[d>>2]|0)|0)|0;if(_){r=+l[c+8>>2]*+l[m+12>>2];s=+l[c+4>>2]*+l[m+8>>2];i=+l[c>>2]*+l[m+4>>2]}else{r=+u[c+16>>3]*+l[m+12>>2];s=+u[c+8>>3]*+l[m+8>>2];i=+u[c>>3]*+l[m+4>>2]}l[g+32>>2]=i;l[g+32+4>>2]=s;l[g+32+8>>2]=r;l[g+32+12>>2]=0.0;m=t+8|0;m=o[m>>2]|0;_=o[m>>2]|0;_=_+8|0;_=o[_>>2]|0;Wk[_&127](m,g+32|0,e,n);t=o[t+4>>2]|0;n=o[t>>2]|0;n=n+24|0;n=o[n>>2]|0;ck[n&127](t,e);h=g;return}}function ZS(t){t=t|0;Kc(t);return}function JS(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,s=0.0,c=0,p=0,f=0,d=0,_=0,m=0,g=0;g=h;h=h+80|0;d=o[t+4>>2]|0;Lk[o[(o[d>>2]|0)+16>>2]&3](d,g+28|0,g+24|0,g+20|0,g+16|0,g+12|0,g+8|0,g+4|0,g,e);d=(o[g+12>>2]|0)+(et(o[g+8>>2]|0,n)|0)|0;m=o[t+4>>2]|0;_=(o[g+20>>2]|0)==0;f=o[g+28>>2]|0;if((o[g>>2]|0)==3){p=o[g+16>>2]|0;c=f+(et(p,a[d+4>>1]|0)|0)|0;if(_){r=+l[c+8>>2]*+l[m+12>>2];s=+l[c+4>>2]*+l[m+8>>2];i=+l[c>>2]*+l[m+4>>2]}else{r=+u[c+16>>3]*+l[m+12>>2];s=+u[c+8>>3]*+l[m+8>>2];i=+u[c>>3]*+l[m+4>>2]}l[g+32+32>>2]=i;l[g+32+36>>2]=s;l[g+32+40>>2]=r;l[g+32+44>>2]=0.0;c=f+(et(p,a[d+2>>1]|0)|0)|0;if(_){r=+l[c+8>>2]*+l[m+12>>2];s=+l[c+4>>2]*+l[m+8>>2];i=+l[c>>2]*+l[m+4>>2]}else{r=+u[c+16>>3]*+l[m+12>>2];s=+u[c+8>>3]*+l[m+8>>2];i=+u[c>>3]*+l[m+4>>2]}l[g+32+16>>2]=i;l[g+32+20>>2]=s;l[g+32+24>>2]=r;l[g+32+28>>2]=0.0;c=f+(et(p,a[d>>1]|0)|0)|0;if(_){r=+l[c+8>>2]*+l[m+12>>2];s=+l[c+4>>2]*+l[m+8>>2];i=+l[c>>2]*+l[m+4>>2]}else{r=+u[c+16>>3]*+l[m+12>>2];s=+u[c+8>>3]*+l[m+8>>2];i=+u[c>>3]*+l[m+4>>2]}l[g+32>>2]=i;l[g+32+4>>2]=s;l[g+32+8>>2]=r;l[g+32+12>>2]=0.0;m=t+8|0;m=o[m>>2]|0;_=o[m>>2]|0;_=_+8|0;_=o[_>>2]|0;Wk[_&127](m,g+32|0,e,n);t=o[t+4>>2]|0;n=o[t>>2]|0;n=n+24|0;n=o[n>>2]|0;ck[n&127](t,e);h=g;return}else{p=o[g+16>>2]|0;c=f+(et(p,o[d+8>>2]|0)|0)|0;if(_){r=+l[c+8>>2]*+l[m+12>>2];s=+l[c+4>>2]*+l[m+8>>2];i=+l[c>>2]*+l[m+4>>2]}else{r=+u[c+16>>3]*+l[m+12>>2];s=+u[c+8>>3]*+l[m+8>>2];i=+u[c>>3]*+l[m+4>>2]}l[g+32+32>>2]=i;l[g+32+36>>2]=s;l[g+32+40>>2]=r;l[g+32+44>>2]=0.0;c=f+(et(p,o[d+4>>2]|0)|0)|0;if(_){r=+l[c+8>>2]*+l[m+12>>2];s=+l[c+4>>2]*+l[m+8>>2];i=+l[c>>2]*+l[m+4>>2]}else{r=+u[c+16>>3]*+l[m+12>>2];s=+u[c+8>>3]*+l[m+8>>2];i=+u[c>>3]*+l[m+4>>2]}l[g+32+16>>2]=i;l[g+32+20>>2]=s;l[g+32+24>>2]=r;l[g+32+28>>2]=0.0;c=f+(et(p,o[d>>2]|0)|0)|0;if(_){r=+l[c+8>>2]*+l[m+12>>2];s=+l[c+4>>2]*+l[m+8>>2];i=+l[c>>2]*+l[m+4>>2]}else{r=+u[c+16>>3]*+l[m+12>>2];s=+u[c+8>>3]*+l[m+8>>2];i=+u[c>>3]*+l[m+4>>2]}l[g+32>>2]=i;l[g+32+4>>2]=s;l[g+32+8>>2]=r;l[g+32+12>>2]=0.0;m=t+8|0;m=o[m>>2]|0;_=o[m>>2]|0;_=_+8|0;_=o[_>>2]|0;Wk[_&127](m,g+32|0,e,n);t=o[t+4>>2]|0;n=o[t>>2]|0;n=n+24|0;n=o[n>>2]|0;ck[n&127](t,e);h=g;return}}function KS(t){t=t|0;if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function $S(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0,s=0.0,a=0.0,c=0.0,u=0.0,p=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0,C=0;r=h;h=h+16|0;M=o[t+56>>2]|0;C=o[t+32+(((M+2|0)%3|0)<<2)>>2]|0;o[r>>2]=C;o[r+4>>2]=C;o[r+8>>2]=C;l[r+12>>2]=0.0;l[r+(M<<2)>>2]=(o[f>>2]=C,+l[f>>2])+ +l[t+32+(M<<2)>>2];c=+wk[o[(o[t>>2]|0)+48>>2]&15](t);s=+wk[o[(o[t>>2]|0)+48>>2]&15](t);d=+wk[o[(o[t>>2]|0)+48>>2]&15](t);c=c+ +l[r>>2];l[r>>2]=c;s=s+ +l[r+4>>2];l[r+4>>2]=s;d=d+ +l[r+8>>2];x=+G(+ +l[e>>2]);y=+G(+ +l[e+4>>2]);w=+G(+ +l[e+8>>2]);g=+G(+ +l[e+16>>2]);m=+G(+ +l[e+20>>2]);b=+G(+ +l[e+24>>2]);u=+G(+ +l[e+32>>2]);a=+G(+ +l[e+36>>2]);p=+G(+ +l[e+40>>2]);S=+l[e+48>>2];v=+l[e+52>>2];_=+l[e+56>>2];l[n>>2]=S-(d*w+(x*c+y*s));l[n+4>>2]=v-(d*b+(g*c+m*s));l[n+8>>2]=_-(d*p+(u*c+a*s));l[n+12>>2]=0.0;l[i>>2]=S+(d*w+(x*c+y*s));l[i+4>>2]=v+(d*b+(g*c+m*s));l[i+8>>2]=_+(d*p+(u*c+a*s));l[i+12>>2]=0.0;h=r;return}function QS(t,e){t=t|0;e=e|0;var n=0.0,i=0.0,r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0,p=0.0;u=+wk[o[(o[t>>2]|0)+48>>2]&15](t);s=+wk[o[(o[t>>2]|0)+48>>2]&15](t);n=+wk[o[(o[t>>2]|0)+48>>2]&15](t);p=(u+ +l[t+32>>2])/+l[t+16>>2];c=(s+ +l[t+36>>2])/+l[t+20>>2];r=(n+ +l[t+40>>2])/+l[t+24>>2];h=+G(+ +l[e>>2]);a=+G(+ +l[e+4>>2]);i=+G(+ +l[e+8>>2]);l[t+16>>2]=h;l[t+20>>2]=a;l[t+24>>2]=i;l[t+28>>2]=0.0;l[t+32>>2]=p*h-u;l[t+36>>2]=c*a-s;l[t+40>>2]=r*i-n;l[t+44>>2]=0.0;return}function tM(t,e,n){t=t|0;e=+e;n=n|0;var i=0,r=0.0,s=0.0,a=0.0,c=0,u=0;i=h;h=h+16|0;c=o[t+56>>2]|0;u=o[t+32+(((c+2|0)%3|0)<<2)>>2]|0;o[i>>2]=u;o[i+4>>2]=u;o[i+8>>2]=u;l[i+12>>2]=0.0;l[i+(c<<2)>>2]=+l[t+32+(c<<2)>>2]+ +l[i+(c<<2)>>2];s=(+l[i>>2]+.03999999910593033)*2.0;r=(+l[i+4>>2]+.03999999910593033)*2.0;a=(+l[i+8>>2]+.03999999910593033)*2.0;l[n>>2]=e*.0833333283662796*(r*r+a*a);l[n+4>>2]=e*.0833333283662796*(s*s+a*a);l[n+8>>2]=e*.0833333283662796*(s*s+r*r);h=i;return}function eM(t){t=t|0;return 13096}function nM(t,e){t=t|0;e=e|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;l[t+(o[e+56>>2]<<2)>>2]=1.0;return}function iM(t,e){t=t|0;e=+e;var n=0.0,i=0.0,r=0.0,s=0.0,a=0.0;s=+wk[o[(o[t>>2]|0)+48>>2]&15](t);i=+wk[o[(o[t>>2]|0)+48>>2]&15](t);a=+wk[o[(o[t>>2]|0)+48>>2]&15](t);s=s+ +l[t+32>>2];i=i+ +l[t+36>>2];a=a+ +l[t+40>>2];l[t+48>>2]=e;r=+wk[o[(o[t>>2]|0)+48>>2]&15](t);n=+wk[o[(o[t>>2]|0)+48>>2]&15](t);e=a-+wk[o[(o[t>>2]|0)+48>>2]&15](t);l[t+32>>2]=s-r;l[t+36>>2]=i-n;l[t+40>>2]=e;l[t+44>>2]=0.0;return}function rM(t){t=t|0;return 60}function oM(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0;i=Ek[o[(o[n>>2]|0)+40>>2]&31](n,t)|0;r=Ek[o[(o[n>>2]|0)+28>>2]&31](n,i)|0;o[e>>2]=r;if(r|0)ck[o[(o[n>>2]|0)+48>>2]&127](n,i);o[e+4>>2]=o[t+4>>2];o[e+28>>2]=o[t+32>>2];o[e+32>>2]=o[t+36>>2];o[e+36>>2]=o[t+40>>2];o[e+40>>2]=o[t+44>>2];o[e+12>>2]=o[t+16>>2];o[e+16>>2]=o[t+20>>2];o[e+20>>2]=o[t+24>>2];o[e+24>>2]=o[t+28>>2];o[e+44>>2]=o[t+48>>2];o[e+52>>2]=o[t+56>>2];return 13109}function sM(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0;m=h;h=h+16|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;i=+l[n>>2];r=+l[n+4>>2];s=+l[n+8>>2];if(i*i+r*r+s*s<9.999999747378752e-05){_=1.0;d=0.0;f=0.0}else{f=1.0/+V(+(i*i+r*r+s*s));_=i*f;d=r*f;f=s*f}n=o[e+56>>2]|0;p=+l[e+32+(((n+2|0)%3|0)<<2)>>2];o[m>>2]=0;o[m+4>>2]=0;o[m+8>>2]=0;o[m+12>>2]=0;o[m+(n<<2)>>2]=o[e+32+(n<<2)>>2];c=_*p;u=d*p;p=f*p;i=c+ +l[m>>2];r=u+ +l[m+4>>2];a=p+ +l[m+8>>2];s=+wk[o[(o[e>>2]|0)+48>>2]&15](e);i=i-_*s;r=r-d*s;s=a-f*s;a=f*s+(_*i+d*r);if(a>-999999984306749440.0){l[t>>2]=i;l[t+4>>2]=r;l[t+8>>2]=s;l[t+12>>2]=0.0}else a=-999999984306749440.0;o[m>>2]=0;o[m+4>>2]=0;o[m+8>>2]=0;o[m+12>>2]=0;n=o[e+56>>2]|0;l[m+(n<<2)>>2]=-+l[e+32+(n<<2)>>2];i=c+ +l[m>>2];r=u+ +l[m+4>>2];p=p+ +l[m+8>>2];s=+wk[o[(o[e>>2]|0)+48>>2]&15](e);i=i-_*s;r=r-d*s;s=p-f*s;if(!(f*s+(_*i+d*r)>a)){h=m;return}l[t>>2]=i;l[t+4>>2]=r;l[t+8>>2]=s;l[t+12>>2]=0.0;h=m;return}function aM(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0,s=0,a=0.0,c=0.0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0,x=0,w=0.0,S=0,M=0;S=h;h=h+16|0;r=o[t+56>>2]|0;w=+l[t+32+(((r+2|0)%3|0)<<2)>>2];if((i|0)<=0){h=S;return}s=0;while(1){o[S>>2]=0;o[S+4>>2]=0;o[S+8>>2]=0;o[S+12>>2]=0;o[S+(r<<2)>>2]=o[t+32+(r<<2)>>2];r=e+(s<<4)|0;y=e+(s<<4)+4|0;x=e+(s<<4)+8|0;a=w*+l[r>>2]+ +l[S>>2];c=w*+l[y>>2]+ +l[S+4>>2];u=w*+l[x>>2]+ +l[S+8>>2];p=+wk[o[(o[t>>2]|0)+48>>2]&15](t);f=+l[r>>2];d=+l[y>>2];_=+l[x>>2];if(f*(a-p*f)+d*(c-p*d)+_*(u-p*_)>-999999984306749440.0){l[n+(s<<4)>>2]=a-p*f;l[n+(s<<4)+4>>2]=c-p*d;l[n+(s<<4)+8>>2]=u-p*_;l[n+(s<<4)+12>>2]=0.0;m=+l[r>>2];b=+l[y>>2];v=+l[x>>2];g=f*(a-p*f)+d*(c-p*d)+_*(u-p*_)}else{m=f;b=d;v=_;g=-999999984306749440.0}o[S>>2]=0;o[S+4>>2]=0;o[S+8>>2]=0;o[S+12>>2]=0;M=o[t+56>>2]|0;l[S+(M<<2)>>2]=-+l[t+32+(M<<2)>>2];_=w*m+ +l[S>>2];d=w*b+ +l[S+4>>2];p=w*v+ +l[S+8>>2];f=+wk[o[(o[t>>2]|0)+48>>2]&15](t);u=+l[r>>2];c=+l[y>>2];a=+l[x>>2];if(u*(_-f*u)+c*(d-f*c)+a*(p-f*a)>g){l[n+(s<<4)>>2]=_-f*u;l[n+(s<<4)+4>>2]=d-f*c;l[n+(s<<4)+8>>2]=p-f*a;l[n+(s<<4)+12>>2]=0.0}s=s+1|0;if((s|0)==(i|0))break;r=o[t+56>>2]|0}h=S;return}function cM(t){t=t|0;return 0}function lM(t,e,n){t=t|0;e=e|0;n=n|0;return}function uM(t){t=t|0;if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function hM(t){t=t|0;return 13146}function pM(t){t=t|0;if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function fM(t){t=t|0;return 13173}function dM(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,p=0.0,f=0;i=h;h=h+96|0;o[i+32>>2]=1065353216;o[i+32+4>>2]=0;o[i+32+4+4>>2]=0;o[i+32+4+8>>2]=0;o[i+32+4+12>>2]=0;o[i+32+20>>2]=1065353216;o[i+32+24>>2]=0;o[i+32+24+4>>2]=0;o[i+32+24+8>>2]=0;o[i+32+24+12>>2]=0;o[i+32+40>>2]=1065353216;f=i+32+44|0;o[f>>2]=0;o[f+4>>2]=0;o[f+8>>2]=0;o[f+12>>2]=0;o[f+16>>2]=0;Wk[o[(o[t>>2]|0)+8>>2]&127](t,i+32|0,i+16|0,i);u=+l[i>>2];p=+l[i+16>>2];a=+l[i+4>>2];c=+l[i+16+4>>2];r=+l[i+8>>2];s=+l[i+16+8>>2];l[n>>2]=+V(+((u-p)*(u-p)+(a-c)*(a-c)+(r-s)*(r-s)))*.5;l[e>>2]=(p+u)*.5;l[e+4>>2]=(c+a)*.5;l[e+8>>2]=(s+r)*.5;l[e+12>>2]=0.0;h=i;return}function _M(t){t=t|0;var e=0,n=0.0,i=0.0,r=0.0;e=h;h=h+32|0;Uk[o[(o[t>>2]|0)+12>>2]&127](t,e+8|0,e);r=+l[e+8>>2];i=+l[e+8+4>>2];n=+l[e+8+8>>2];n=+V(+(r*r+i*i+n*n));h=e;return+(n+ +l[e>>2])}function mM(t,e){t=t|0;e=+e;return+(+wk[o[(o[t>>2]|0)+16>>2]&15](t)*e)}function gM(t){t=t|0;return 12}function bM(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0;i=Ek[o[(o[n>>2]|0)+40>>2]&31](n,t)|0;r=Ek[o[(o[n>>2]|0)+28>>2]&31](n,i)|0;o[e>>2]=r;if(r|0)ck[o[(o[n>>2]|0)+48>>2]&127](n,i);o[e+4>>2]=o[t+4>>2];return 13201}function vM(t,e){t=t|0;e=e|0;var n=0,i=0;i=uk[o[(o[t>>2]|0)+52>>2]&127](t)|0;i=vk[o[(o[e>>2]|0)+16>>2]&63](e,i,1)|0;n=vk[o[(o[t>>2]|0)+56>>2]&63](t,o[i+8>>2]|0,e)|0;rk[o[(o[e>>2]|0)+20>>2]&31](e,i,n,1346455635,t);return}function yM(t,e,n,i,r,s){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;s=s|0;var a=0,c=0,u=0,h=0.0,p=0,d=0,_=0.0,m=0.0;Wk[o[(o[t>>2]|0)+8>>2]&127](t,e,r,s);u=o[s>>2]|0;d=o[s+4>>2]|0;a=o[s+8>>2]|0;p=o[r>>2]|0;c=o[r+4>>2]|0;e=o[r+8>>2]|0;h=+l[n>>2];_=+l[n+4>>2];m=+l[n+8>>2];if(h>0.0)u=(l[f>>2]=(o[f>>2]=u,+l[f>>2])+h,o[f>>2]|0);else p=(l[f>>2]=(o[f>>2]=p,+l[f>>2])+h,o[f>>2]|0);if(_>0.0)n=(l[f>>2]=(o[f>>2]=d,+l[f>>2])+_,o[f>>2]|0);else{n=d;c=(l[f>>2]=(o[f>>2]=c,+l[f>>2])+_,o[f>>2]|0)}if(m>0.0)a=(l[f>>2]=(o[f>>2]=a,+l[f>>2])+m,o[f>>2]|0);else e=(l[f>>2]=(o[f>>2]=e,+l[f>>2])+m,o[f>>2]|0);h=+l[i>>2];_=+l[i+4>>2];m=+l[i+8>>2];m=+V(+(h*h+_*_+m*m));m=m*+wk[o[(o[t>>2]|0)+16>>2]&15](t);o[r>>2]=p;o[r+4>>2]=c;o[r+8>>2]=e;l[r+12>>2]=0.0;o[s>>2]=u;o[s+4>>2]=n;o[s+8>>2]=a;l[s+12>>2]=0.0;l[r>>2]=+l[r>>2]-m;l[r+4>>2]=+l[r+4>>2]-m;l[r+8>>2]=+l[r+8>>2]-m;l[s>>2]=m+ +l[s>>2];l[s+4>>2]=m+ +l[s+4>>2];l[s+8>>2]=m+ +l[s+8>>2];return}function xM(t){t=t|0;var e=0,n=0;o[t>>2]=5176;e=o[t+68>>2]|0;if(e|0?(NI(e),n=o[t+68>>2]|0,n|0):0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}e=o[t+28>>2]|0;if(!e){i[t+32>>0]=1;o[t+28>>2]=0;o[t+20>>2]=0;t=t+24|0;o[t>>2]=0;return}if(i[t+32>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+28>>2]=0;i[t+32>>0]=1;o[t+28>>2]=0;o[t+20>>2]=0;t=t+24|0;o[t>>2]=0;return}function wM(t){t=t|0;xM(t);if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function SM(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0,P=0.0,D=0.0;D=+l[t+52>>2];C=+l[t+36>>2];P=+l[t+56>>2];S=+l[t+40>>2];R=+l[t+60>>2];x=+l[t+44>>2];I=(o[t+20>>2]|0)==0;p=+wk[o[(o[t>>2]|0)+48>>2]&15](t);u=+wk[o[(o[t>>2]|0)+48>>2]&15](t);a=+wk[o[(o[t>>2]|0)+48>>2]&15](t);p=(I?0.0:(D-C)*.5)+p;u=(I?0.0:(P-S)*.5)+u;a=(I?0.0:(R-x)*.5)+a;E=+l[e>>2];y=+G(+E);L=+l[e+4>>2];v=+G(+L);g=+l[e+8>>2];b=+G(+g);A=+l[e+16>>2];m=+G(+A);T=+l[e+20>>2];_=+G(+T);f=+l[e+24>>2];d=+G(+f);M=+l[e+32>>2];h=+G(+M);w=+l[e+36>>2];c=+G(+w);r=+l[e+40>>2];s=+G(+r);C=I?0.0:(D+C)*.5;S=I?0.0:(P+S)*.5;x=I?0.0:(R+x)*.5;g=C*E+S*L+x*g+ +l[e+48>>2];f=C*A+S*T+x*f+ +l[e+52>>2];r=C*M+S*w+x*r+ +l[e+56>>2];l[n>>2]=g-(p*y+u*v+a*b);l[n+4>>2]=f-(p*m+u*_+a*d);l[n+8>>2]=r-(p*h+u*c+a*s);l[n+12>>2]=0.0;l[i>>2]=p*y+u*v+a*b+g;l[i+4>>2]=p*m+u*_+a*d+f;l[i+8>>2]=p*h+u*c+a*s+r;l[i+12>>2]=0.0;return}function MM(t,e){t=t|0;e=e|0;var n=0,i=0,r=0,s=0,a=0,c=0,u=0,p=0,f=0,d=0,_=0,m=0.0,g=0.0;_=h;h=h+144|0;if((o[t+20>>2]|0)<=0){d=t+80|0;o[d>>2]=o[e>>2];o[d+4>>2]=o[e+4>>2];o[d+8>>2]=o[e+8>>2];o[d+12>>2]=o[e+12>>2];e=o[t>>2]|0;e=e+68|0;e=o[e>>2]|0;sk[e&255](t);h=_;return}a=_+16+16|0;c=_+16+32|0;u=_+16+48|0;d=0;do{f=o[t+28>>2]|0;p=f+(d*80|0)|0;o[_+16>>2]=o[p>>2];o[_+16+4>>2]=o[p+4>>2];o[_+16+8>>2]=o[p+8>>2];o[_+16+12>>2]=o[p+12>>2];p=f+(d*80|0)+16|0;o[a>>2]=o[p>>2];o[a+4>>2]=o[p+4>>2];o[a+8>>2]=o[p+8>>2];o[a+12>>2]=o[p+12>>2];p=f+(d*80|0)+32|0;o[c>>2]=o[p>>2];o[c+4>>2]=o[p+4>>2];o[c+8>>2]=o[p+8>>2];o[c+12>>2]=o[p+12>>2];p=f+(d*80|0)+48|0;o[u>>2]=o[p>>2];o[u+4>>2]=o[p+4>>2];o[u+8>>2]=o[p+8>>2];o[u+12>>2]=o[p+12>>2];f=o[f+(d*80|0)+64>>2]|0;f=uk[o[(o[f>>2]|0)+28>>2]&127](f)|0;o[_>>2]=o[f>>2];o[_+4>>2]=o[f+4>>2];o[_+8>>2]=o[f+8>>2];m=+l[_+4>>2]*+l[e+4>>2]/+l[t+84>>2];g=+l[_+8>>2]*+l[e+8>>2]/+l[t+88>>2];l[_>>2]=+l[_>>2]*+l[e>>2]/+l[t+80>>2];l[_+4>>2]=m;l[_+8>>2]=g;l[_+12>>2]=0.0;f=o[(o[t+28>>2]|0)+(d*80|0)+64>>2]|0;ck[o[(o[f>>2]|0)+24>>2]&127](f,_);g=+l[_+16+52>>2]*+l[e+4>>2]/+l[t+84>>2];m=+l[_+16+56>>2]*+l[e+8>>2]/+l[t+88>>2];l[_+16+48>>2]=+l[u>>2]*+l[e>>2]/+l[t+80>>2];l[_+16+52>>2]=g;l[_+16+56>>2]=m;l[_+16+60>>2]=0.0;f=o[t+28>>2]|0;p=f+(d*80|0)|0;o[p>>2]=o[_+16>>2];o[p+4>>2]=o[_+16+4>>2];o[p+8>>2]=o[_+16+8>>2];o[p+12>>2]=o[_+16+12>>2];p=f+(d*80|0)+16|0;o[p>>2]=o[a>>2];o[p+4>>2]=o[a+4>>2];o[p+8>>2]=o[a+8>>2];o[p+12>>2]=o[a+12>>2];p=f+(d*80|0)+32|0;o[p>>2]=o[c>>2];o[p+4>>2]=o[c+4>>2];o[p+8>>2]=o[c+8>>2];o[p+12>>2]=o[c+12>>2];f=f+(d*80|0)+48|0;o[f>>2]=o[u>>2];o[f+4>>2]=o[u+4>>2];o[f+8>>2]=o[u+8>>2];o[f+12>>2]=o[u+12>>2];if(o[t+68>>2]|0){p=o[(o[t+28>>2]|0)+(d*80|0)+64>>2]|0;Wk[o[(o[p>>2]|0)+8>>2]&127](p,_+16|0,_+128|0,_+112|0);o[_+80>>2]=o[_+128>>2];o[_+80+4>>2]=o[_+128+4>>2];o[_+80+8>>2]=o[_+128+8>>2];o[_+80+12>>2]=o[_+128+12>>2];o[_+80+16>>2]=o[_+112>>2];o[_+80+16+4>>2]=o[_+112+4>>2];o[_+80+16+8>>2]=o[_+112+8>>2];o[_+80+16+12>>2]=o[_+112+12>>2];p=o[t+68>>2]|0;f=o[(o[t+28>>2]|0)+(d*80|0)+76>>2]|0;n=jI(p,f)|0;t:do{if(n){r=o[p+8>>2]|0;if((r|0)<=-1){n=o[p>>2]|0;break}if((r|0)>0){s=0;while(1){i=o[n+32>>2]|0;s=s+1|0;if(!i)break t;if((s|0)>=(r|0)){n=i;break}else n=i}}}else n=0}while(0);o[f>>2]=o[_+80>>2];o[f+4>>2]=o[_+80+4>>2];o[f+8>>2]=o[_+80+8>>2];o[f+12>>2]=o[_+80+12>>2];o[f+16>>2]=o[_+80+16>>2];o[f+20>>2]=o[_+80+20>>2];o[f+24>>2]=o[_+80+24>>2];o[f+28>>2]=o[_+80+28>>2];UI(p,n,f)}d=d+1|0}while((d|0)<(o[t+20>>2]|0));d=t+80|0;o[d>>2]=o[e>>2];o[d+4>>2]=o[e+4>>2];o[d+8>>2]=o[e+8>>2];o[d+12>>2]=o[e+12>>2];e=o[t>>2]|0;e=e+68|0;e=o[e>>2]|0;sk[e&255](t);h=_;return}function CM(t){t=t|0;return t+80|0}function TM(t,e,n){t=t|0;e=+e;n=n|0;var i=0,r=0.0,s=0.0,a=0.0,c=0;i=h;h=h+96|0;o[i+32>>2]=1065353216;o[i+32+4>>2]=0;o[i+32+4+4>>2]=0;o[i+32+4+8>>2]=0;o[i+32+4+12>>2]=0;o[i+32+20>>2]=1065353216;o[i+32+24>>2]=0;o[i+32+24+4>>2]=0;o[i+32+24+8>>2]=0;o[i+32+24+12>>2]=0;o[i+32+40>>2]=1065353216;c=i+32+44|0;o[c>>2]=0;o[c+4>>2]=0;o[c+8>>2]=0;o[c+12>>2]=0;o[c+16>>2]=0;Wk[o[(o[t>>2]|0)+8>>2]&127](t,i+32|0,i+16|0,i);s=(+l[i>>2]-+l[i+16>>2])*.5*2.0;r=(+l[i+4>>2]-+l[i+16+4>>2])*.5*2.0;a=(+l[i+8>>2]-+l[i+16+8>>2])*.5*2.0;l[n>>2]=e/12.0*(r*r+a*a);l[n+4>>2]=e/12.0*(s*s+a*a);l[n+8>>2]=e/12.0*(s*s+r*r);h=i;return}function AM(t){t=t|0;return 13240}function LM(t,e){t=t|0;e=+e;l[t+76>>2]=e;return}function EM(t){t=t|0;return+ +l[t+76>>2]}function RM(t){t=t|0;return 24}function IM(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0,s=0,a=0,c=0;i=Ek[o[(o[n>>2]|0)+40>>2]&31](n,t)|0;s=Ek[o[(o[n>>2]|0)+28>>2]&31](n,i)|0;o[e>>2]=s;if(s|0)ck[o[(o[n>>2]|0)+48>>2]&127](n,i);o[e+4>>2]=o[t+4>>2];o[e+20>>2]=o[t+76>>2];i=o[t+20>>2]|0;o[e+16>>2]=i;o[e+12>>2]=0;if(!i)return 13274;s=vk[o[(o[n>>2]|0)+16>>2]&63](n,76,i)|0;i=o[s+8>>2]|0;o[e+12>>2]=Ek[o[(o[n>>2]|0)+28>>2]&31](n,i)|0;if((o[e+16>>2]|0)>0){r=0;while(1){a=o[t+28>>2]|0;o[i+72>>2]=o[a+(r*80|0)+72>>2];o[i+64>>2]=Ek[o[(o[n>>2]|0)+28>>2]&31](n,o[a+(r*80|0)+64>>2]|0)|0;if(!(Ek[o[(o[n>>2]|0)+24>>2]&31](n,o[(o[t+28>>2]|0)+(r*80|0)+64>>2]|0)|0)){a=o[(o[n>>2]|0)+16>>2]|0;c=o[(o[t+28>>2]|0)+(r*80|0)+64>>2]|0;c=uk[o[(o[c>>2]|0)+52>>2]&127](c)|0;c=vk[a&63](n,c,1)|0;a=o[(o[t+28>>2]|0)+(r*80|0)+64>>2]|0;a=vk[o[(o[a>>2]|0)+56>>2]&63](a,o[c+8>>2]|0,n)|0;rk[o[(o[n>>2]|0)+20>>2]&31](n,c,a,1346455635,o[(o[t+28>>2]|0)+(r*80|0)+64>>2]|0)}c=o[t+28>>2]|0;o[i+68>>2]=o[c+(r*80|0)+68>>2];o[i>>2]=o[c+(r*80|0)>>2];o[i+4>>2]=o[c+(r*80|0)+4>>2];o[i+8>>2]=o[c+(r*80|0)+8>>2];o[i+12>>2]=o[c+(r*80|0)+12>>2];o[i+16>>2]=o[c+(r*80|0)+16>>2];o[i+20>>2]=o[c+(r*80|0)+20>>2];o[i+24>>2]=o[c+(r*80|0)+24>>2];o[i+28>>2]=o[c+(r*80|0)+28>>2];o[i+32>>2]=o[c+(r*80|0)+32>>2];o[i+36>>2]=o[c+(r*80|0)+36>>2];o[i+40>>2]=o[c+(r*80|0)+40>>2];o[i+44>>2]=o[c+(r*80|0)+44>>2];o[i+48>>2]=o[c+(r*80|0)+48>>2];o[i+52>>2]=o[c+(r*80|0)+52>>2];o[i+56>>2]=o[c+(r*80|0)+56>>2];o[i+60>>2]=o[c+(r*80|0)+60>>2];r=r+1|0;if((r|0)>=(o[e+16>>2]|0)){i=n;break}else i=i+76|0}}else i=n;rk[o[(o[i>>2]|0)+20>>2]&31](n,s,13249,1497453121,o[s+8>>2]|0);return 13274}function PM(t,e){t=t|0;e=e|0;var n=0,i=0;o[t+72>>2]=(o[t+72>>2]|0)+1;n=o[t+20>>2]|0;if((n|0)>0)do{i=n;n=n+-1|0;if((o[(o[t+28>>2]|0)+(n*80|0)+64>>2]|0)==(e|0))DM(t,n)}while((i|0)>1);sk[o[(o[t>>2]|0)+68>>2]&255](t);return}function DM(t,e){t=t|0;e=e|0;var n=0,i=0,r=0,s=0;s=h;h=h+80|0;o[t+72>>2]=(o[t+72>>2]|0)+1;i=o[t+68>>2]|0;if(i|0){r=o[(o[t+28>>2]|0)+(e*80|0)+76>>2]|0;jI(i,r)|0;n=o[i+4>>2]|0;if(n|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[i+4>>2]=r;o[i+12>>2]=(o[i+12>>2]|0)+-1}r=(o[t+20>>2]|0)+-1|0;i=o[t+28>>2]|0;o[s>>2]=o[i+(e*80|0)>>2];o[s+4>>2]=o[i+(e*80|0)+4>>2];o[s+8>>2]=o[i+(e*80|0)+8>>2];o[s+12>>2]=o[i+(e*80|0)+12>>2];o[s+16>>2]=o[i+(e*80|0)+16>>2];o[s+16+4>>2]=o[i+(e*80|0)+16+4>>2];o[s+16+8>>2]=o[i+(e*80|0)+16+8>>2];o[s+16+12>>2]=o[i+(e*80|0)+16+12>>2];o[s+32>>2]=o[i+(e*80|0)+32>>2];o[s+32+4>>2]=o[i+(e*80|0)+32+4>>2];o[s+32+8>>2]=o[i+(e*80|0)+32+8>>2];o[s+32+12>>2]=o[i+(e*80|0)+32+12>>2];o[s+48>>2]=o[i+(e*80|0)+48>>2];o[s+48+4>>2]=o[i+(e*80|0)+48+4>>2];o[s+48+8>>2]=o[i+(e*80|0)+48+8>>2];o[s+48+12>>2]=o[i+(e*80|0)+48+12>>2];o[s+64>>2]=o[i+(e*80|0)+64>>2];o[s+64+4>>2]=o[i+(e*80|0)+64+4>>2];o[s+64+8>>2]=o[i+(e*80|0)+64+8>>2];o[s+64+12>>2]=o[i+(e*80|0)+64+12>>2];o[i+(e*80|0)>>2]=o[i+(r*80|0)>>2];o[i+(e*80|0)+4>>2]=o[i+(r*80|0)+4>>2];o[i+(e*80|0)+8>>2]=o[i+(r*80|0)+8>>2];o[i+(e*80|0)+12>>2]=o[i+(r*80|0)+12>>2];o[i+(e*80|0)+16>>2]=o[i+(r*80|0)+16>>2];o[i+(e*80|0)+16+4>>2]=o[i+(r*80|0)+16+4>>2];o[i+(e*80|0)+16+8>>2]=o[i+(r*80|0)+16+8>>2];o[i+(e*80|0)+16+12>>2]=o[i+(r*80|0)+16+12>>2];o[i+(e*80|0)+32>>2]=o[i+(r*80|0)+32>>2];o[i+(e*80|0)+32+4>>2]=o[i+(r*80|0)+32+4>>2];o[i+(e*80|0)+32+8>>2]=o[i+(r*80|0)+32+8>>2];o[i+(e*80|0)+32+12>>2]=o[i+(r*80|0)+32+12>>2];o[i+(e*80|0)+48>>2]=o[i+(r*80|0)+48>>2];o[i+(e*80|0)+48+4>>2]=o[i+(r*80|0)+48+4>>2];o[i+(e*80|0)+48+8>>2]=o[i+(r*80|0)+48+8>>2];o[i+(e*80|0)+48+12>>2]=o[i+(r*80|0)+48+12>>2];o[i+(e*80|0)+64>>2]=o[i+(r*80|0)+64>>2];o[i+(e*80|0)+64+4>>2]=o[i+(r*80|0)+64+4>>2];o[i+(e*80|0)+64+8>>2]=o[i+(r*80|0)+64+8>>2];o[i+(e*80|0)+64+12>>2]=o[i+(r*80|0)+64+12>>2];i=o[t+28>>2]|0;o[i+(r*80|0)>>2]=o[s>>2];o[i+(r*80|0)+4>>2]=o[s+4>>2];o[i+(r*80|0)+8>>2]=o[s+8>>2];o[i+(r*80|0)+12>>2]=o[s+12>>2];o[i+(r*80|0)+16>>2]=o[s+16>>2];o[i+(r*80|0)+16+4>>2]=o[s+16+4>>2];o[i+(r*80|0)+16+8>>2]=o[s+16+8>>2];o[i+(r*80|0)+16+12>>2]=o[s+16+12>>2];o[i+(r*80|0)+32>>2]=o[s+32>>2];o[i+(r*80|0)+32+4>>2]=o[s+32+4>>2];o[i+(r*80|0)+32+8>>2]=o[s+32+8>>2];o[i+(r*80|0)+32+12>>2]=o[s+32+12>>2];o[i+(r*80|0)+48>>2]=o[s+48>>2];o[i+(r*80|0)+48+4>>2]=o[s+48+4>>2];o[i+(r*80|0)+48+8>>2]=o[s+48+8>>2];o[i+(r*80|0)+48+12>>2]=o[s+48+12>>2];o[i+(r*80|0)+64>>2]=o[s+64>>2];o[i+(r*80|0)+64+4>>2]=o[s+64+4>>2];o[i+(r*80|0)+64+8>>2]=o[s+64+8>>2];o[i+(r*80|0)+64+12>>2]=o[s+64+12>>2];if(!(o[t+68>>2]|0)){e=o[t+20>>2]|0;e=e+-1|0;o[t+20>>2]=e;h=s;return}o[(o[(o[t+28>>2]|0)+(e*80|0)+76>>2]|0)+36>>2]=e;e=o[t+20>>2]|0;e=e+-1|0;o[t+20>>2]=e;h=s;return}function kM(t){t=t|0;var e=0.0,n=0,i=0,r=0,s=0;i=h;h=h+32|0;o[t+36>>2]=1566444395;o[t+40>>2]=1566444395;o[t+44>>2]=1566444395;l[t+48>>2]=0.0;o[t+52>>2]=-581039253;o[t+56>>2]=-581039253;o[t+60>>2]=-581039253;l[t+64>>2]=0.0;if((o[t+20>>2]|0)<=0){h=i;return}n=0;do{r=o[t+28>>2]|0;s=o[r+(n*80|0)+64>>2]|0;Wk[o[(o[s>>2]|0)+8>>2]&127](s,r+(n*80|0)|0,i+16|0,i);e=+l[i+16>>2];if(+l[t+36>>2]>e)l[t+36>>2]=e;e=+l[i>>2];if(+l[t+52>>2]<e)l[t+52>>2]=e;e=+l[i+16+4>>2];if(+l[t+40>>2]>e)l[t+40>>2]=e;e=+l[i+4>>2];if(+l[t+56>>2]<e)l[t+56>>2]=e;e=+l[i+16+8>>2];if(+l[t+44>>2]>e)l[t+44>>2]=e;e=+l[i+8>>2];if(+l[t+60>>2]<e)l[t+60>>2]=e;n=n+1|0}while((n|0)<(o[t+20>>2]|0));h=i;return}function OM(t,e,n){t=t|0;e=e|0;n=n|0;var r=0,s=0,a=0,c=0,u=0;o[t+8>>2]=0;o[t+12>>2]=-1;o[t>>2]=5176;i[t+32>>0]=1;o[t+28>>2]=0;o[t+20>>2]=0;o[t+24>>2]=0;o[t+36>>2]=1566444395;o[t+40>>2]=1566444395;o[t+44>>2]=1566444395;l[t+48>>2]=0.0;o[t+52>>2]=-581039253;o[t+56>>2]=-581039253;o[t+60>>2]=-581039253;l[t+64>>2]=0.0;o[t+68>>2]=0;o[t+72>>2]=1;l[t+76>>2]=0.0;o[t+80>>2]=1065353216;o[t+84>>2]=1065353216;o[t+88>>2]=1065353216;l[t+92>>2]=0.0;o[t+4>>2]=31;if(e){o[5637]=(o[5637]|0)+1;e=Jc(79)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}i[e+36>>0]=1;o[e+32>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;i[e+56>>0]=1;o[e+52>>2]=0;o[e+44>>2]=0;o[e+48>>2]=0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=-1;o[e+12>>2]=0;o[e+16>>2]=0;o[t+68>>2]=e;e=o[t+24>>2]|0}else e=0;if((e|0)>=(n|0))return;if((n|0)!=0?(o[5637]=(o[5637]|0)+1,r=Jc((n*80|3)+16|0)|0,(r|0)!=0):0){o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16}else s=0;e=o[t+20>>2]|0;if((e|0)>0){r=0;do{a=s+(r*80|0)|0;c=o[t+28>>2]|0;u=c+(r*80|0)|0;o[a>>2]=o[u>>2];o[a+4>>2]=o[u+4>>2];o[a+8>>2]=o[u+8>>2];o[a+12>>2]=o[u+12>>2];a=s+(r*80|0)+16|0;u=c+(r*80|0)+16|0;o[a>>2]=o[u>>2];o[a+4>>2]=o[u+4>>2];o[a+8>>2]=o[u+8>>2];o[a+12>>2]=o[u+12>>2];a=s+(r*80|0)+32|0;u=c+(r*80|0)+32|0;o[a>>2]=o[u>>2];o[a+4>>2]=o[u+4>>2];o[a+8>>2]=o[u+8>>2];o[a+12>>2]=o[u+12>>2];a=s+(r*80|0)+48|0;u=c+(r*80|0)+48|0;o[a>>2]=o[u>>2];o[a+4>>2]=o[u+4>>2];o[a+8>>2]=o[u+8>>2];o[a+12>>2]=o[u+12>>2];a=s+(r*80|0)+64|0;c=c+(r*80|0)+64|0;o[a>>2]=o[c>>2];o[a+4>>2]=o[c+4>>2];o[a+8>>2]=o[c+8>>2];o[a+12>>2]=o[c+12>>2];r=r+1|0}while((r|0)!=(e|0))}e=o[t+28>>2]|0;if(e|0){if(i[t+32>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+28>>2]=0}i[t+32>>0]=1;o[t+28>>2]=s;o[t+24>>2]=n;return}function NM(t){t=t|0;if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function FM(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;Wk[o[(o[t>>2]|0)+80>>2]&127](t,e,n,i);return}function BM(t,e){t=t|0;e=e|0;var n=0.0,i=0.0,r=0.0,s=0,a=0,c=0;c=o[t+72>>2]|0;a=o[t+68>>2]|0;s=o[t+76>>2]|0;i=+l[t+64>>2]*(+l[e+(c<<2)>>2]/+l[t+16+(c<<2)>>2]);l[t+64>>2]=i;r=+l[t+60>>2]*((+l[e+(a<<2)>>2]/+l[t+16+(a<<2)>>2]+ +l[e+(s<<2)>>2]/+l[t+16+(s<<2)>>2])*.5);l[t+60>>2]=r;l[t+56>>2]=r/+V(+(i*i+r*r));r=+G(+ +l[e>>2]);i=+G(+ +l[e+4>>2]);n=+G(+ +l[e+8>>2]);l[t+16>>2]=r;l[t+20>>2]=i;l[t+24>>2]=n;l[t+28>>2]=0.0;return}function jM(t,e,n){t=t|0;e=+e;n=n|0;var i=0,r=0.0,s=0.0,a=0.0,c=0.0,u=0;i=h;h=h+96|0;o[i+32>>2]=1065353216;o[i+32+4>>2]=0;o[i+32+4+4>>2]=0;o[i+32+4+8>>2]=0;o[i+32+4+12>>2]=0;o[i+32+20>>2]=1065353216;o[i+32+24>>2]=0;o[i+32+24+4>>2]=0;o[i+32+24+8>>2]=0;o[i+32+24+12>>2]=0;o[i+32+40>>2]=1065353216;u=i+32+44|0;o[u>>2]=0;o[u+4>>2]=0;o[u+8>>2]=0;o[u+12>>2]=0;o[u+16>>2]=0;Wk[o[(o[t>>2]|0)+8>>2]&127](t,i+32|0,i+16|0,i);a=(+l[i>>2]-+l[i+16>>2])*.5;s=(+l[i+4>>2]-+l[i+16+4>>2])*.5;c=(+l[i+8>>2]-+l[i+16+8>>2])*.5;r=+wk[o[(o[t>>2]|0)+48>>2]&15](t);l[n>>2]=e*.0833333283662796*((s+r)*2.0*((s+r)*2.0)+(c+r)*2.0*((c+r)*2.0));l[n+4>>2]=e*.0833333283662796*((a+r)*2.0*((a+r)*2.0)+(c+r)*2.0*((c+r)*2.0));l[n+8>>2]=e*.0833333283662796*((a+r)*2.0*((a+r)*2.0)+(s+r)*2.0*((s+r)*2.0));l[n+12>>2]=0.0;h=i;return}function UM(t){t=t|0;return 13325}function zM(t,e){t=t|0;e=e|0;o[t>>2]=0;o[t+4>>2]=1065353216;o[t+8>>2]=0;l[t+12>>2]=0.0;return}function GM(t){t=t|0;return 60}function VM(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0;i=Ek[o[(o[n>>2]|0)+40>>2]&31](n,t)|0;r=Ek[o[(o[n>>2]|0)+28>>2]&31](n,i)|0;o[e>>2]=r;if(r|0)ck[o[(o[n>>2]|0)+48>>2]&127](n,i);o[e+4>>2]=o[t+4>>2];o[e+28>>2]=o[t+32>>2];o[e+32>>2]=o[t+36>>2];o[e+36>>2]=o[t+40>>2];o[e+40>>2]=o[t+44>>2];o[e+12>>2]=o[t+16>>2];o[e+16>>2]=o[t+20>>2];o[e+20>>2]=o[t+24>>2];o[e+24>>2]=o[t+28>>2];o[e+44>>2]=o[t+48>>2];o[e+52>>2]=o[t+72>>2];return 13330}function WM(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0,s=0.0,a=0,c=0.0,u=0.0,h=0,p=0.0;i=+l[e+64>>2]*.5;h=o[e+72>>2]|0;s=+l[n>>2];c=+l[n+4>>2];u=+l[n+8>>2];u=+V(+(s*s+c*c+u*u));r=o[e+68>>2]|0;do{if(!(+l[n+(h<<2)>>2]>u*+l[e+56>>2])){s=+l[n+(r<<2)>>2];a=o[e+76>>2]|0;c=+l[n+(a<<2)>>2];u=+V(+(s*s+c*c));if(u>1.1920928955078125e-07){u=+l[e+60>>2]/u;l[t+(r<<2)>>2]=s*u;l[t+(h<<2)>>2]=-i;l[t+(a<<2)>>2]=c*u;break}else{l[t+(r<<2)>>2]=0.0;l[t+(h<<2)>>2]=-i;l[t+(a<<2)>>2]=0.0;break}}else{l[t+(r<<2)>>2]=0.0;l[t+(h<<2)>>2]=i;l[t+(o[e+76>>2]<<2)>>2]=0.0}}while(0);if(!(+wk[o[(o[e>>2]|0)+48>>2]&15](e)!=0.0))return;s=+l[n>>2];c=+l[n+4>>2];u=+l[n+8>>2];p=s*s+c*c+u*u<1.4210854715202004e-14?-1.0:s;i=s*s+c*c+u*u<1.4210854715202004e-14?-1.0:c;u=s*s+c*c+u*u<1.4210854715202004e-14?-1.0:u;c=1.0/+V(+(u*u+(p*p+i*i)));s=+wk[o[(o[e>>2]|0)+48>>2]&15](e);l[t>>2]=+l[t>>2]+s*(c*p);l[t+4>>2]=s*(c*i)+ +l[t+4>>2];l[t+8>>2]=s*(c*u)+ +l[t+8>>2];return}function HM(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,s=0.0,a=0,c=0.0,u=0,h=0;s=+l[e+64>>2]*.5;h=o[e+72>>2]|0;i=+l[n>>2];r=+l[n+4>>2];c=+l[n+8>>2];c=+V(+(i*i+r*r+c*c));a=o[e+68>>2]|0;if(+l[n+(h<<2)>>2]>c*+l[e+56>>2]){l[t+(a<<2)>>2]=0.0;l[t+(h<<2)>>2]=s;l[t+(o[e+76>>2]<<2)>>2]=0.0;return}c=+l[n+(a<<2)>>2];u=o[e+76>>2]|0;i=+l[n+(u<<2)>>2];r=+V(+(c*c+i*i));if(r>1.1920928955078125e-07){r=+l[e+60>>2]/r;l[t+(a<<2)>>2]=c*r;l[t+(h<<2)>>2]=-s;l[t+(u<<2)>>2]=i*r;return}else{l[t+(a<<2)>>2]=0.0;l[t+(h<<2)>>2]=-s;l[t+(u<<2)>>2]=0.0;return}}function XM(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0.0,s=0,a=0,c=0.0,u=0,p=0.0,f=0.0,d=0,_=0,m=0;m=h;h=h+16|0;if((i|0)<=0){h=m;return}_=0;do{d=n+(_<<4)|0;r=+l[t+64>>2]*.5;s=o[t+72>>2]|0;c=+l[e+(_<<4)>>2];p=+l[e+(_<<4)+4>>2];f=+l[e+(_<<4)+8>>2];f=+V(+(c*c+p*p+f*f));a=o[t+68>>2]|0;do{if(!(+l[e+(_<<4)+(s<<2)>>2]>f*+l[t+56>>2])){c=+l[e+(_<<4)+(a<<2)>>2];u=o[t+76>>2]|0;p=+l[e+(_<<4)+(u<<2)>>2];f=+V(+(c*c+p*p));if(f>1.1920928955078125e-07){f=+l[t+60>>2]/f;l[m+(a<<2)>>2]=c*f;l[m+(s<<2)>>2]=-r;l[m+(u<<2)>>2]=p*f;break}else{l[m+(a<<2)>>2]=0.0;l[m+(s<<2)>>2]=-r;l[m+(u<<2)>>2]=0.0;break}}else{l[m+(a<<2)>>2]=0.0;l[m+(s<<2)>>2]=r;l[m+(o[t+76>>2]<<2)>>2]=0.0}}while(0);o[d>>2]=o[m>>2];o[d+4>>2]=o[m+4>>2];o[d+8>>2]=o[m+8>>2];o[d+12>>2]=o[m+12>>2];_=_+1|0}while((_|0)!=(i|0));h=m;return}function qM(t){t=t|0;if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function YM(t){t=t|0;return 13361}function ZM(t,e){t=t|0;e=e|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=1065353216;l[t+12>>2]=0.0;return}function JM(t){t=t|0;if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function KM(t){t=t|0;return 13382}function $M(t,e){t=t|0;e=e|0;o[t>>2]=1065353216;o[t+4>>2]=0;o[t+8>>2]=0;l[t+12>>2]=0.0;return}function QM(t){t=t|0;var e=0;o[t>>2]=5556;e=o[t+108>>2]|0;if(e|0){if(i[t+112>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+108>>2]=0}i[t+112>>0]=1;o[t+108>>2]=0;o[t+100>>2]=0;o[t+104>>2]=0;o[t>>2]=6248;e=o[t+56>>2]|0;if(!e)return;sk[o[o[e>>2]>>2]&255](e);e=o[t+56>>2]|0;if(!e)return;o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0);return}function tC(t){t=t|0;var e=0,n=0;o[t>>2]=5556;e=o[t+108>>2]|0;if(e|0){if(i[t+112>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+108>>2]=0}i[t+112>>0]=1;o[t+108>>2]=0;o[t+100>>2]=0;o[t+104>>2]=0;o[t>>2]=6248;e=o[t+56>>2]|0;if(e|0?(sk[o[o[e>>2]>>2]&255](e),n=o[t+56>>2]|0,n|0):0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function eC(t,e){t=t|0;e=e|0;o[t+16>>2]=o[e>>2];o[t+16+4>>2]=o[e+4>>2];o[t+16+8>>2]=o[e+8>>2];o[t+16+12>>2]=o[e+12>>2];kT(t);return}function nC(t){t=t|0;return 13408}function iC(t){t=t|0;return 68}function rC(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0,s=0;i=Ek[o[(o[n>>2]|0)+40>>2]&31](n,t)|0;s=Ek[o[(o[n>>2]|0)+28>>2]&31](n,i)|0;o[e>>2]=s;if(s|0)ck[o[(o[n>>2]|0)+48>>2]&127](n,i);o[e+4>>2]=o[t+4>>2];o[e+28>>2]=o[t+32>>2];o[e+32>>2]=o[t+36>>2];o[e+36>>2]=o[t+40>>2];o[e+40>>2]=o[t+44>>2];o[e+12>>2]=o[t+16>>2];o[e+16>>2]=o[t+20>>2];o[e+20>>2]=o[t+24>>2];o[e+24>>2]=o[t+28>>2];o[e+44>>2]=o[t+48>>2];r=o[t+100>>2]|0;o[e+60>>2]=r;if(!r){o[e+52>>2]=0;o[e+56>>2]=0;return 13415}o[e+52>>2]=Ek[o[(o[n>>2]|0)+28>>2]&31](n,o[t+108>>2]|0)|0;o[e+56>>2]=0;s=vk[o[(o[n>>2]|0)+16>>2]&63](n,16,r)|0;if((r|0)>0){i=o[t+108>>2]|0;e=0;t=o[s+8>>2]|0;while(1){o[t>>2]=o[i+(e<<4)>>2];o[t+4>>2]=o[i+(e<<4)+4>>2];o[t+8>>2]=o[i+(e<<4)+8>>2];o[t+12>>2]=o[i+(e<<4)+12>>2];e=e+1|0;if((e|0)==(r|0))break;else t=t+16|0}}else i=o[t+108>>2]|0;rk[o[(o[n>>2]|0)+20>>2]&31](n,s,16354,1497453121,i);return 13415}function oC(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,s=0.0,a=0.0,c=0.0;Uk[o[(o[e>>2]|0)+68>>2]&127](t,e,n);if(!(+wk[o[(o[e>>2]|0)+48>>2]&15](e)!=0.0))return;s=+l[n>>2];r=+l[n+4>>2];i=+l[n+8>>2];c=s*s+r*r+i*i<1.4210854715202004e-14?-1.0:s;a=s*s+r*r+i*i<1.4210854715202004e-14?-1.0:r;i=s*s+r*r+i*i<1.4210854715202004e-14?-1.0:i;r=1.0/+V(+(i*i+(c*c+a*a)));s=+wk[o[(o[e>>2]|0)+48>>2]&15](e);l[t>>2]=+l[t>>2]+s*(r*c);l[t+4>>2]=s*(r*a)+ +l[t+4>>2];l[t+8>>2]=s*(r*i)+ +l[t+8>>2];return}function sC(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0,s=0.0,a=0,c=0.0,u=0,h=0.0,p=0.0,f=0.0,d=0.0,_=0.0;u=o[e+100>>2]|0;if((u|0)<=0){o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;return}d=+l[e+16>>2];_=+l[n>>2]*d;h=+l[e+20>>2];p=+l[n+4>>2]*h;f=+l[e+24>>2];c=+l[n+8>>2]*f;n=o[e+108>>2]|0;r=0;s=-3402823466385288598117041.0e14;a=-1;while(1){i=_*+l[n+(r<<4)>>2]+p*+l[n+(r<<4)+4>>2]+c*+l[n+(r<<4)+8>>2];e=i>s;a=e?r:a;r=r+1|0;if((r|0)==(u|0))break;else s=e?i:s}p=+l[n+(a<<4)+4>>2]*h;_=+l[n+(a<<4)+8>>2]*f;l[t>>2]=+l[n+(a<<4)>>2]*d;l[t+4>>2]=p;l[t+8>>2]=_;l[t+12>>2]=0.0;return}function aC(t,e,n,i,r,s,a){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;s=s|0;a=a|0;var c=0.0,u=0.0,p=0,d=0.0,_=0.0,m=0,g=0,b=0.0,v=0;g=h;h=h+16|0;l[i>>2]=3402823466385288598117041.0e14;l[r>>2]=-3402823466385288598117041.0e14;p=o[t+100>>2]|0;if((p|0)>0){m=0;do{v=o[t+108>>2]|0;b=+l[v+(m<<4)>>2]*+l[t+16>>2];_=+l[v+(m<<4)+4>>2]*+l[t+20>>2];d=+l[v+(m<<4)+8>>2]*+l[t+24>>2];c=b*+l[e>>2]+_*+l[e+4>>2]+d*+l[e+8>>2]+ +l[e+48>>2];u=b*+l[e+16>>2]+_*+l[e+20>>2]+d*+l[e+24>>2]+ +l[e+52>>2];d=b*+l[e+32>>2]+_*+l[e+36>>2]+d*+l[e+40>>2]+ +l[e+56>>2];_=c*+l[n>>2]+u*+l[n+4>>2]+d*+l[n+8>>2];if(_<+l[i>>2]){l[i>>2]=_;l[s>>2]=c;l[s+4>>2]=u;l[s+8>>2]=d;l[s+12>>2]=0.0}if(_>+l[r>>2]){l[r>>2]=_;l[a>>2]=c;l[a+4>>2]=u;l[a+8>>2]=d;l[a+12>>2]=0.0}m=m+1|0}while((m|0)!=(p|0));b=+l[r>>2];u=b;p=(l[f>>2]=b,o[f>>2]|0)}else{u=-3402823466385288598117041.0e14;p=-8388609}c=+l[i>>2];if(!(c>u)){h=g;return}o[i>>2]=p;l[r>>2]=c;o[g>>2]=o[s>>2];o[g+4>>2]=o[s+4>>2];o[g+8>>2]=o[s+8>>2];o[g+12>>2]=o[s+12>>2];o[s>>2]=o[a>>2];o[s+4>>2]=o[a+4>>2];o[s+8>>2]=o[a+8>>2];o[s+12>>2]=o[a+12>>2];o[a>>2]=o[g>>2];o[a+4>>2]=o[g+4>>2];o[a+8>>2]=o[g+8>>2];o[a+12>>2]=o[g+12>>2];h=g;return}function cC(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0,p=0.0,f=0,d=0,_=0,m=0.0,g=0,b=0.0,v=0;if((i|0)>0)r=0;else return;do{l[n+(r<<4)+12>>2]=-999999984306749440.0;r=r+1|0}while((r|0)!=(i|0));_=0;do{s=+l[t+16>>2];a=+l[e+(_<<4)>>2]*s;c=+l[t+20>>2];u=+l[e+(_<<4)+4>>2]*c;h=+l[t+24>>2];p=+l[e+(_<<4)+8>>2]*h;r=o[t+100>>2]|0;if((r|0)>0){f=o[t+108>>2]|0;d=0;m=-3402823466385288598117041.0e14;g=-1;do{b=a*+l[f+(d<<4)>>2]+u*+l[f+(d<<4)+4>>2]+p*+l[f+(d<<4)+8>>2];v=b>m;g=v?d:g;m=v?b:m;d=d+1|0}while((d|0)!=(r|0));p=+l[f+(g<<4)+4>>2]*c;b=+l[f+(g<<4)+8>>2]*h;l[n+(_<<4)>>2]=+l[f+(g<<4)>>2]*s;l[n+(_<<4)+4>>2]=p;l[n+(_<<4)+8>>2]=b;l[n+(_<<4)+12>>2]=m}else l[n+(_<<4)+12>>2]=-999999984306749440.0;_=_+1|0}while((_|0)!=(i|0));return}function lC(t){t=t|0;return o[t+100>>2]|0}function uC(t){t=t|0;return o[t+100>>2]|0}function hC(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0.0,s=0.0,a=0,c=0;a=o[t+100>>2]|0;c=o[t+108>>2]|0;r=+l[c+(((e|0)%(a|0)|0)<<4)+4>>2]*+l[t+20>>2];s=+l[c+(((e|0)%(a|0)|0)<<4)+8>>2]*+l[t+24>>2];l[n>>2]=+l[c+(((e|0)%(a|0)|0)<<4)>>2]*+l[t+16>>2];l[n+4>>2]=r;l[n+8>>2]=s;l[n+12>>2]=0.0;n=o[t+108>>2]|0;s=+l[n+(((e+1|0)%(a|0)|0)<<4)+4>>2]*+l[t+20>>2];r=+l[n+(((e+1|0)%(a|0)|0)<<4)+8>>2]*+l[t+24>>2];l[i>>2]=+l[n+(((e+1|0)%(a|0)|0)<<4)>>2]*+l[t+16>>2];l[i+4>>2]=s;l[i+8>>2]=r;l[i+12>>2]=0.0;return}function pC(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,s=0;s=o[t+108>>2]|0;r=+l[s+(e<<4)+4>>2]*+l[t+20>>2];i=+l[s+(e<<4)+8>>2]*+l[t+24>>2];l[n>>2]=+l[s+(e<<4)>>2]*+l[t+16>>2];l[n+4>>2]=r;l[n+8>>2]=i;l[n+12>>2]=0.0;return}function fC(t){t=t|0;return 0}function dC(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;return}function _C(t,e,n){t=t|0;e=e|0;n=+n;return 0}function mC(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;var s=0,a=0,c=0,u=0,p=0,f=0;u=h;h=h+16|0;o[t+8>>2]=0;o[t+12>>2]=-1;o[t+16>>2]=1065353216;o[t+20>>2]=1065353216;o[t+24>>2]=1065353216;l[t+28>>2]=0.0;l[t+48>>2]=.03999999910593033;o[t+56>>2]=0;o[t+60>>2]=1065353216;o[t+64>>2]=1065353216;o[t+68>>2]=1065353216;l[t+72>>2]=0.0;o[t+76>>2]=-1082130432;o[t+80>>2]=-1082130432;o[t+84>>2]=-1082130432;l[t+88>>2]=0.0;i[t+92>>0]=0;o[t>>2]=5556;i[t+112>>0]=1;o[t+108>>2]=0;o[t+100>>2]=0;o[t+104>>2]=0;o[t+4>>2]=4;if((n|0)<=0){o[t+100>>2]=n;kT(t);h=u;return}o[5637]=(o[5637]|0)+1;s=Jc((n<<4|3)+16|0)|0;if(!s)c=0;else{o[(s+4+15&-16)+-4>>2]=s;c=s+4+15&-16}s=o[t+100>>2]|0;if((s|0)>0){a=0;do{p=c+(a<<4)|0;f=(o[t+108>>2]|0)+(a<<4)|0;o[p>>2]=o[f>>2];o[p+4>>2]=o[f+4>>2];o[p+8>>2]=o[f+8>>2];o[p+12>>2]=o[f+12>>2];a=a+1|0}while((a|0)!=(s|0))}s=o[t+108>>2]|0;if(s|0){if(i[t+112>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0)}o[t+108>>2]=0}i[t+112>>0]=1;o[t+108>>2]=c;o[t+104>>2]=n;o[c>>2]=o[u>>2];o[c+4>>2]=o[u+4>>2];o[c+8>>2]=o[u+8>>2];o[c+12>>2]=o[u+12>>2];if((n|0)!=1){s=1;do{f=(o[t+108>>2]|0)+(s<<4)|0;o[f>>2]=o[u>>2];o[f+4>>2]=o[u+4>>2];o[f+8>>2]=o[u+8>>2];o[f+12>>2]=o[u+12>>2];s=s+1|0}while((s|0)!=(n|0))}o[t+100>>2]=n;a=0;s=e;while(1){f=o[t+108>>2]|0;e=o[s+4>>2]|0;p=o[s+8>>2]|0;o[f+(a<<4)>>2]=o[s>>2];o[f+(a<<4)+4>>2]=e;o[f+(a<<4)+8>>2]=p;l[f+(a<<4)+12>>2]=0.0;a=a+1|0;if((a|0)==(n|0))break;else s=s+r|0}kT(t);h=u;return}function gC(t,e,n){t=t|0;e=e|0;n=n|0;var r=0,s=0,a=0,c=0,l=0,u=0;r=o[t+100>>2]|0;if((r|0)==(o[t+104>>2]|0)?(c=r|0?r<<1:1,(r|0)<(c|0)):0){if(!c)a=0;else{o[5637]=(o[5637]|0)+1;r=Jc((c<<4|3)+16|0)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}a=r;r=o[t+100>>2]|0}if((r|0)>0){s=0;do{l=a+(s<<4)|0;u=(o[t+108>>2]|0)+(s<<4)|0;o[l>>2]=o[u>>2];o[l+4>>2]=o[u+4>>2];o[l+8>>2]=o[u+8>>2];o[l+12>>2]=o[u+12>>2];s=s+1|0}while((s|0)!=(r|0))}r=o[t+108>>2]|0;if(r|0){if(i[t+112>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0)}o[t+108>>2]=0}i[t+112>>0]=1;o[t+108>>2]=a;o[t+104>>2]=c;r=o[t+100>>2]|0}u=(o[t+108>>2]|0)+(r<<4)|0;o[u>>2]=o[e>>2];o[u+4>>2]=o[e+4>>2];o[u+8>>2]=o[e+8>>2];o[u+12>>2]=o[e+12>>2];o[t+100>>2]=(o[t+100>>2]|0)+1;if(!n)return;kT(t);return}function bC(t,e){t=t|0;e=e|0;var n=0.0,i=0.0,r=0.0;r=+G(+ +l[e>>2]);i=+G(+ +l[e+4>>2]);n=+G(+ +l[e+8>>2]);l[t+16>>2]=r;l[t+20>>2]=i;l[t+24>>2]=n;l[t+28>>2]=0.0;return}function vC(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,s=0.0,a=0.0,c=0.0;Uk[o[(o[e>>2]|0)+68>>2]&127](t,e,n);if(!(+wk[o[(o[e>>2]|0)+48>>2]&15](e)!=0.0))return;s=+l[n>>2];r=+l[n+4>>2];i=+l[n+8>>2];c=s*s+r*r+i*i<1.4210854715202004e-14?-1.0:s;a=s*s+r*r+i*i<1.4210854715202004e-14?-1.0:r;i=s*s+r*r+i*i<1.4210854715202004e-14?-1.0:i;r=1.0/+V(+(i*i+(c*c+a*a)));s=+wk[o[(o[e>>2]|0)+48>>2]&15](e);l[t>>2]=+l[t>>2]+s*(r*c);l[t+4>>2]=s*(r*a)+ +l[t+4>>2];l[t+8>>2]=s*(r*i)+ +l[t+8>>2];return}function yC(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0.0,s=0,a=0,c=0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0;a=h;h=h+96|0;r=+wk[o[(o[t>>2]|0)+48>>2]&15](t);s=0;do{m=a+80+(s<<2)|0;o[a+80>>2]=0;o[a+80+4>>2]=0;o[a+80+8>>2]=0;o[a+80+12>>2]=0;l[m>>2]=1.0;c=o[(o[t>>2]|0)+64>>2]|0;u=+l[a+80>>2];p=+l[a+80+4>>2];f=+l[a+80+8>>2];d=u*+l[e+4>>2]+p*+l[e+20>>2]+f*+l[e+36>>2];_=u*+l[e+8>>2]+p*+l[e+24>>2]+f*+l[e+40>>2];l[a+32>>2]=+l[e>>2]*u+ +l[e+16>>2]*p+ +l[e+32>>2]*f;l[a+32+4>>2]=d;l[a+32+8>>2]=_;l[a+32+12>>2]=0.0;Uk[c&127](a+64|0,t,a+32|0);_=+l[a+64>>2];d=+l[a+64+4>>2];f=+l[a+64+8>>2];p=_*+l[e+16>>2]+d*+l[e+20>>2]+f*+l[e+24>>2]+ +l[e+52>>2];u=_*+l[e+32>>2]+d*+l[e+36>>2]+f*+l[e+40>>2]+ +l[e+56>>2];l[a+48>>2]=_*+l[e>>2]+d*+l[e+4>>2]+f*+l[e+8>>2]+ +l[e+48>>2];l[a+48+4>>2]=p;l[a+48+8>>2]=u;l[a+48+12>>2]=0.0;c=a+48+(s<<2)|0;l[i+(s<<2)>>2]=r+ +l[c>>2];l[m>>2]=-1.0;m=o[(o[t>>2]|0)+64>>2]|0;u=+l[a+80>>2];p=+l[a+80+4>>2];f=+l[a+80+8>>2];d=u*+l[e+4>>2]+p*+l[e+20>>2]+f*+l[e+36>>2];_=u*+l[e+8>>2]+p*+l[e+24>>2]+f*+l[e+40>>2];l[a>>2]=+l[e>>2]*u+ +l[e+16>>2]*p+ +l[e+32>>2]*f;l[a+4>>2]=d;l[a+8>>2]=_;l[a+12>>2]=0.0;Uk[m&127](a+16|0,t,a);_=+l[a+16>>2];d=+l[a+16+4>>2];f=+l[a+16+8>>2];p=_*+l[e+16>>2]+d*+l[e+20>>2]+f*+l[e+24>>2]+ +l[e+52>>2];u=_*+l[e+32>>2]+d*+l[e+36>>2]+f*+l[e+40>>2]+ +l[e+56>>2];l[a+48>>2]=_*+l[e>>2]+d*+l[e+4>>2]+f*+l[e+8>>2]+ +l[e+48>>2];l[a+48+4>>2]=p;l[a+48+8>>2]=u;l[a+48+12>>2]=0.0;l[n+(s<<2)>>2]=+l[c>>2]-r;s=s+1|0}while((s|0)!=3);h=a;return}function xC(t){t=t|0;var e=0,n=0,r=0,s=0,a=0,c=0,l=0;o[t>>2]=5688;e=o[t+56>>2]|0;if(e|0){if(i[t+60>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+56>>2]=0}i[t+60>>0]=1;o[t+56>>2]=0;o[t+48>>2]=0;o[t+52>>2]=0;n=o[t+28>>2]|0;if((n|0)>0){l=0;do{r=o[t+36>>2]|0;s=r+(l*36|0)+4|0;a=r+(l*36|0)+12|0;c=o[a>>2]|0;e=r+(l*36|0)+16|0;if(c|0){if(i[e>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[c+-4>>2]|0)}o[a>>2]=0}i[e>>0]=1;o[a>>2]=0;o[s>>2]=0;o[r+(l*36|0)+8>>2]=0;l=l+1|0}while((l|0)!=(n|0))}e=o[t+36>>2]|0;if(e|0){if(i[t+40>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+36>>2]=0}i[t+40>>0]=1;o[t+36>>2]=0;o[t+28>>2]=0;o[t+32>>2]=0;e=o[t+16>>2]|0;if(!e){i[t+20>>0]=1;o[t+16>>2]=0;o[t+8>>2]=0;t=t+12|0;o[t>>2]=0;return}if(i[t+20>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+16>>2]=0;i[t+20>>0]=1;o[t+16>>2]=0;o[t+8>>2]=0;t=t+12|0;o[t>>2]=0;return}function wC(t){t=t|0;xC(t);if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function SC(t){t=t|0;var e=0,n=0,i=0.0,r=0.0,s=0.0,a=0,c=0;a=o[t+28>>2]|0;i=0.0;r=0.0;s=0.0;c=0;t:while(1){switch(c|0){case 0:{i=+l[t+80>>2]+ +l[t+64>>2];r=+l[t+84>>2]+ +l[t+68>>2];s=+l[t+88>>2]+ +l[t+72>>2];break}case 1:{i=+l[t+80>>2]+ +l[t+64>>2];r=+l[t+84>>2]+ +l[t+68>>2];s=+l[t+72>>2]-+l[t+88>>2];break}case 2:{i=+l[t+80>>2]+ +l[t+64>>2];r=+l[t+68>>2]-+l[t+84>>2];s=+l[t+88>>2]+ +l[t+72>>2];break}case 3:{i=+l[t+80>>2]+ +l[t+64>>2];r=+l[t+68>>2]-+l[t+84>>2];s=+l[t+72>>2]-+l[t+88>>2];break}case 4:{i=+l[t+64>>2]-+l[t+80>>2];r=+l[t+84>>2]+ +l[t+68>>2];s=+l[t+88>>2]+ +l[t+72>>2];break}case 5:{i=+l[t+64>>2]-+l[t+80>>2];r=+l[t+84>>2]+ +l[t+68>>2];s=+l[t+72>>2]-+l[t+88>>2];break}case 6:{i=+l[t+64>>2]-+l[t+80>>2];r=+l[t+68>>2]-+l[t+84>>2];s=+l[t+88>>2]+ +l[t+72>>2];break}case 7:{i=+l[t+64>>2]-+l[t+80>>2];r=+l[t+68>>2]-+l[t+84>>2];s=+l[t+72>>2]-+l[t+88>>2];break}default:{}}if((a|0)>0){e=o[t+36>>2]|0;n=0;do{if(+l[e+(n*36|0)+32>>2]+(i*+l[e+(n*36|0)+20>>2]+r*+l[e+(n*36|0)+24>>2]+s*+l[e+(n*36|0)+28>>2])>0.0){e=0;n=16;break t}n=n+1|0}while((n|0)<(a|0))}c=c+1|0;if((c|0)>=8){e=1;n=16;break}}if((n|0)==16)return e|0;return 0}function MC(t,e,n,i,r,s,a){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;s=s|0;a=a|0;var c=0.0,u=0.0,p=0,d=0.0,_=0.0,m=0,g=0,b=0.0,v=0;g=h;h=h+16|0;l[i>>2]=3402823466385288598117041.0e14;l[r>>2]=-3402823466385288598117041.0e14;p=o[t+8>>2]|0;if((p|0)>0){m=0;do{v=o[t+16>>2]|0;b=+l[v+(m<<4)>>2];_=+l[v+(m<<4)+4>>2];d=+l[v+(m<<4)+8>>2];c=b*+l[e>>2]+_*+l[e+4>>2]+d*+l[e+8>>2]+ +l[e+48>>2];u=b*+l[e+16>>2]+_*+l[e+20>>2]+d*+l[e+24>>2]+ +l[e+52>>2];d=b*+l[e+32>>2]+_*+l[e+36>>2]+d*+l[e+40>>2]+ +l[e+56>>2];_=c*+l[n>>2]+u*+l[n+4>>2]+d*+l[n+8>>2];if(_<+l[i>>2]){l[i>>2]=_;l[s>>2]=c;l[s+4>>2]=u;l[s+8>>2]=d;l[s+12>>2]=0.0}if(_>+l[r>>2]){l[r>>2]=_;l[a>>2]=c;l[a+4>>2]=u;l[a+8>>2]=d;l[a+12>>2]=0.0}m=m+1|0}while((m|0)!=(p|0));b=+l[r>>2];u=b;p=(l[f>>2]=b,o[f>>2]|0)}else{u=-3402823466385288598117041.0e14;p=-8388609}c=+l[i>>2];if(!(c>u)){h=g;return}o[i>>2]=p;l[r>>2]=c;o[g>>2]=o[s>>2];o[g+4>>2]=o[s+4>>2];o[g+8>>2]=o[s+8>>2];o[g+12>>2]=o[s+12>>2];o[s>>2]=o[a>>2];o[s+4>>2]=o[a+4>>2];o[s+8>>2]=o[a+8>>2];o[s+12>>2]=o[a+12>>2];o[a>>2]=o[g>>2];o[a+4>>2]=o[g+4>>2];o[a+8>>2]=o[g+8>>2];o[a+12>>2]=o[g+12>>2];h=g;return}function CC(t){t=t|0;return}function TC(t,e,n,i,r,s,a){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;s=s|0;a=a|0;var c=0.0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0,v=0;b=h;h=h+64|0;m=+l[n>>2];_=+l[n+4>>2];g=+l[n+8>>2];c=m*+l[e+4>>2]+_*+l[e+20>>2]+g*+l[e+36>>2];u=m*+l[e+8>>2]+_*+l[e+24>>2]+g*+l[e+40>>2];l[b+48>>2]=+l[e>>2]*m+ +l[e+16>>2]*_+ +l[e+32>>2]*g;l[b+48+4>>2]=c;l[b+48+8>>2]=u;l[b+48+12>>2]=0.0;Uk[o[(o[t>>2]|0)+64>>2]&127](b+32|0,t,b+48|0);u=+l[b+32>>2];c=+l[b+32+4>>2];g=+l[b+32+8>>2];_=u*+l[e>>2]+c*+l[e+4>>2]+g*+l[e+8>>2]+ +l[e+48>>2];m=u*+l[e+16>>2]+c*+l[e+20>>2]+g*+l[e+24>>2]+ +l[e+52>>2];g=u*+l[e+32>>2]+c*+l[e+36>>2]+g*+l[e+40>>2]+ +l[e+56>>2];v=o[(o[t>>2]|0)+64>>2]|0;c=-+l[b+48+4>>2];u=-+l[b+48+8>>2];l[b>>2]=-+l[b+48>>2];l[b+4>>2]=c;l[b+8>>2]=u;l[b+12>>2]=0.0;Uk[v&127](b+16|0,t,b);u=+l[b+16>>2];c=+l[b+16+4>>2];p=+l[b+16+8>>2];f=u*+l[e>>2]+c*+l[e+4>>2]+p*+l[e+8>>2]+ +l[e+48>>2];d=u*+l[e+16>>2]+c*+l[e+20>>2]+p*+l[e+24>>2]+ +l[e+52>>2];p=u*+l[e+32>>2]+c*+l[e+36>>2]+p*+l[e+40>>2]+ +l[e+56>>2];l[i>>2]=_*+l[n>>2]+m*+l[n+4>>2]+g*+l[n+8>>2];l[r>>2]=f*+l[n>>2]+d*+l[n+4>>2]+p*+l[n+8>>2];l[a>>2]=f;l[a+4>>2]=d;l[a+8>>2]=p;l[a+12>>2]=0.0;l[s>>2]=_;l[s+4>>2]=m;l[s+8>>2]=g;l[s+12>>2]=0.0;c=+l[i>>2];u=+l[r>>2];if(!(c>u)){h=b;return}l[i>>2]=u;l[r>>2]=c;l[a>>2]=_;l[a+4>>2]=m;l[a+8>>2]=g;l[a+12>>2]=0.0;l[s>>2]=f;l[s+4>>2]=d;l[s+8>>2]=p;l[s+12>>2]=0.0;h=b;return}function AC(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0,s=0.0,a=0.0,c=0.0,u=0.0,p=0.0,d=0,_=0.0,m=0.0,g=0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0;C=h;h=h+48|0;switch(o[e+4>>2]|0){case 8:{o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;h=C;return}case 0:{w=+l[e+32>>2];S=+l[e+36>>2];S=+l[n+4>>2]>=0.0?S:-S;M=+l[e+40>>2];M=+l[n+8>>2]>=0.0?M:-M;l[t>>2]=+l[n>>2]>=0.0?w:-w;l[t+4>>2]=S;l[t+8>>2]=M;l[t+12>>2]=0.0;h=C;return}case 1:{y=+l[n>>2];x=+l[n+4>>2];M=+l[n+8>>2];S=y*+l[e+60>>2]+x*+l[e+60+4>>2]+M*+l[e+60+8>>2];w=y*+l[e+60+16>>2]+x*+l[e+60+20>>2]+M*+l[e+60+24>>2];M=y*+l[e+60+32>>2]+x*+l[e+60+36>>2]+M*+l[e+60+40>>2];n=S<w?w<M?2:1:S<M?2:0;d=o[e+60+(n<<4)+4>>2]|0;g=o[e+60+(n<<4)+8>>2]|0;o[t>>2]=o[e+60+(n<<4)>>2];o[t+4>>2]=d;o[t+8>>2]=g;l[t+12>>2]=0.0;h=C;return}case 13:{o[C+32>>2]=o[e+32>>2];o[C+32+4>>2]=o[e+32+4>>2];o[C+32+8>>2]=o[e+32+8>>2];o[C+32+12>>2]=o[e+32+12>>2];o[C+16>>2]=o[n>>2];r=o[n+4>>2]|0;o[C+16+4>>2]=r;g=o[n+8>>2]|0;o[C+16+8>>2]=g;l[C+16+12>>2]=0.0;n=o[e+56>>2]|0;i=(o[f>>2]=g,+l[f>>2]);switch(n|0){case 2:{i=(o[f>>2]=r,+l[f>>2]);r=0;e=2;d=1;break}case 1:{r=0;e=1;d=2;break}default:{r=1;e=0;d=2}}p=+l[C+32+(r<<2)>>2];c=+l[C+32+(n<<2)>>2];u=+l[C+16+(r<<2)>>2];s=+V(+(u*u+i*i));a=+l[C+16+(e<<2)>>2];if(s!=0.0){l[C+(r<<2)>>2]=u*(p/s);l[C+(e<<2)>>2]=a<0.0?-c:c;l[C+(d<<2)>>2]=p/s*i;o[t>>2]=o[C>>2];o[t+4>>2]=o[C+4>>2];o[t+8>>2]=o[C+8>>2]}else{l[C+(r<<2)>>2]=p;l[C+(e<<2)>>2]=a<0.0?-c:c;l[C+(d<<2)>>2]=0.0;o[t>>2]=o[C>>2];o[t+4>>2]=o[C+4>>2];o[t+8>>2]=o[C+8>>2]}l[t+12>>2]=0.0;h=C;return}case 10:{i=+l[n>>2];s=+l[n+4>>2];a=+l[n+8>>2];d=o[e+56>>2]|0;x=+l[e+32+(d<<2)>>2];c=+l[e+32+(((d+2|0)%3|0)<<2)>>2];if(i*i+s*s+a*a<9.999999747378752e-05){M=1.0;S=0.0;w=0.0}else{w=1.0/+V(+(i*i+s*s+a*a));M=i*w;S=s*w;w=a*w}o[C+32>>2]=0;o[C+32+4>>2]=0;o[C+32+8>>2]=0;o[C+32+12>>2]=0;l[C+32+(d<<2)>>2]=x;m=c*M;v=c*S;y=c*w;b=+l[e+48>>2];u=M*b;_=S*b;b=w*b;i=m+ +l[C+32>>2]-u;s=v+ +l[C+32+4>>2]-_;c=y+ +l[C+32+8>>2]-b;a=w*c+(M*i+S*s);if(a>-999999984306749440.0){e=(l[f>>2]=i,o[f>>2]|0);r=(l[f>>2]=s,o[f>>2]|0);p=a;n=(l[f>>2]=c,o[f>>2]|0)}else{p=-999999984306749440.0;e=0;n=0;r=0}o[C+32>>2]=0;o[C+32+4>>2]=0;o[C+32+8>>2]=0;o[C+32+12>>2]=0;l[C+32+(d<<2)>>2]=-x;a=m+ +l[C+32>>2]-u;s=v+ +l[C+32+4>>2]-_;i=y+ +l[C+32+8>>2]-b;if(w*i+(M*a+S*s)>p){e=(l[f>>2]=a,o[f>>2]|0);r=(l[f>>2]=s,o[f>>2]|0);n=(l[f>>2]=i,o[f>>2]|0)}o[t>>2]=e;o[t+4>>2]=r;o[t+8>>2]=n;l[t+12>>2]=0.0;h=C;return}case 5:{g=o[e+96>>2]|0;d=o[e+100>>2]|0;_=+l[e+16>>2];m=+l[e+20>>2];p=+l[e+24>>2];c=+l[n>>2]*_;u=+l[n+4>>2]*m;i=+l[n+8>>2]*p;if((d|0)>0){e=0;a=-3402823466385288598117041.0e14;r=-1;while(1){s=c*+l[g+(e<<4)>>2]+u*+l[g+(e<<4)+4>>2]+i*+l[g+(e<<4)+8>>2];n=s>a;r=n?e:r;e=e+1|0;if((e|0)==(d|0))break;else a=n?s:a}}else r=-1;S=m*+l[g+(r<<4)+4>>2];M=p*+l[g+(r<<4)+8>>2];l[t>>2]=_*+l[g+(r<<4)>>2];l[t+4>>2]=S;l[t+8>>2]=M;l[t+12>>2]=0.0;h=C;return}case 4:{g=o[e+108>>2]|0;d=o[e+100>>2]|0;_=+l[e+16>>2];m=+l[e+20>>2];p=+l[e+24>>2];c=+l[n>>2]*_;u=+l[n+4>>2]*m;i=+l[n+8>>2]*p;if((d|0)>0){e=0;a=-3402823466385288598117041.0e14;r=-1;while(1){s=c*+l[g+(e<<4)>>2]+u*+l[g+(e<<4)+4>>2]+i*+l[g+(e<<4)+8>>2];n=s>a;r=n?e:r;e=e+1|0;if((e|0)==(d|0))break;else a=n?s:a}}else r=-1;S=m*+l[g+(r<<4)+4>>2];M=p*+l[g+(r<<4)+8>>2];l[t>>2]=_*+l[g+(r<<4)>>2];l[t+4>>2]=S;l[t+8>>2]=M;l[t+12>>2]=0.0;h=C;return}default:{Uk[o[(o[e>>2]|0)+68>>2]&127](t,e,n);h=C;return}}}function LC(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,s=0.0,a=0,c=0.0;a=h;h=h+32|0;o[a+16>>2]=o[n>>2];o[a+16+4>>2]=o[n+4>>2];o[a+16+8>>2]=o[n+8>>2];o[a+16+12>>2]=o[n+12>>2];i=+l[a+16>>2];s=+l[a+16+4>>2];r=+l[a+16+8>>2];if(i*i+s*s+r*r<1.4210854715202004e-14){o[a+16>>2]=-1082130432;o[a+16+4>>2]=-1082130432;o[a+16+8>>2]=-1082130432;l[a+16+12>>2]=0.0;i=-1.0;s=-1.0;r=-1.0}c=1.0/+V(+(i*i+s*s+r*r));l[a+16>>2]=i*c;l[a+16+4>>2]=s*c;l[a+16+8>>2]=r*c;AC(a,e,a+16|0);switch(o[e+4>>2]|0){case 8:{i=+l[e+32>>2]*+l[e+16>>2];break}case 0:{i=+l[e+48>>2];break}case 1:{i=+l[e+48>>2];break}case 13:{i=+l[e+48>>2];break}case 11:{i=+l[e+48>>2];break}case 10:{i=+l[e+48>>2];break}case 4:case 5:{i=+l[e+48>>2];break}default:i=+wk[o[(o[e>>2]|0)+48>>2]&15](e)}s=i*+l[a+16+4>>2]+ +l[a+4>>2];c=i*+l[a+16+8>>2]+ +l[a+8>>2];l[t>>2]=i*+l[a+16>>2]+ +l[a>>2];l[t+4>>2]=s;l[t+8>>2]=c;l[t+12>>2]=0.0;h=a;return}function EC(t){t=t|0;var e=0,n=0;o[t>>2]=6248;e=o[t+56>>2]|0;if(e|0?(sk[o[o[e>>2]>>2]&255](e),n=o[t+56>>2]|0,n|0):0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function RC(t,e){t=t|0;e=e|0;var n=0;n=(o[t+96>>2]|0)+4|0;o[n>>2]=o[e>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];kT(t);return}function IC(t){t=t|0;return(o[t+96>>2]|0)+4|0}function PC(t){t=t|0;return 13526}function DC(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,s=0.0,a=0.0,c=0.0;Uk[o[(o[e>>2]|0)+68>>2]&127](t,e,n);if(!(+wk[o[(o[e>>2]|0)+48>>2]&15](e)!=0.0))return;s=+l[n>>2];r=+l[n+4>>2];i=+l[n+8>>2];c=s*s+r*r+i*i<1.4210854715202004e-14?-1.0:s;a=s*s+r*r+i*i<1.4210854715202004e-14?-1.0:r;i=s*s+r*r+i*i<1.4210854715202004e-14?-1.0:i;r=1.0/+V(+(i*i+(c*c+a*a)));s=+wk[o[(o[e>>2]|0)+48>>2]&15](e);l[t>>2]=+l[t>>2]+s*(r*c);l[t+4>>2]=s*(r*a)+ +l[t+4>>2];l[t+8>>2]=s*(r*i)+ +l[t+8>>2];return}function kC(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,s=0.0,a=0,c=0,u=0,p=0,d=0.0;u=h;h=h+80|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;i=+l[n>>2];r=+l[n+4>>2];s=+l[n+8>>2];if(i*i+r*r+s*s<9.999999747378752e-05){c=1065353216;a=0;i=0.0;n=0}else{d=1.0/+V(+(i*i+r*r+s*s));c=(l[f>>2]=i*d,o[f>>2]|0);p=(l[f>>2]=r*d,o[f>>2]|0);a=(l[f>>2]=s*d,o[f>>2]|0);i=+l[n+12>>2];n=p}o[u+32>>2]=5836;p=u+32+4|0;o[p>>2]=0;o[p+4>>2]=0;o[p+8>>2]=0;o[p+12>>2]=0;l[u+32+20>>2]=-999999984306749440.0;o[u+32+24>>2]=c;o[u+32+28>>2]=n;o[u+32+32>>2]=a;l[u+32+36>>2]=i;o[u+16>>2]=1566444395;o[u+16+4>>2]=1566444395;o[u+16+8>>2]=1566444395;l[u+16+12>>2]=0.0;e=o[e+96>>2]|0;c=o[(o[e>>2]|0)+8>>2]|0;l[u>>2]=-999999984306749440.0;l[u+4>>2]=-999999984306749440.0;l[u+8>>2]=-999999984306749440.0;l[u+12>>2]=0.0;Wk[c&127](e,u+32|0,u,u+16|0);o[t>>2]=o[p>>2];o[t+4>>2]=o[p+4>>2];o[t+8>>2]=o[p+8>>2];o[t+12>>2]=o[p+12>>2];h=u;return}function OC(t){t=t|0;Kc(t);return}function NC(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0.0,s=0.0,a=0.0,c=0.0,u=0.0;c=+l[t+24>>2];u=+l[t+28>>2];a=+l[t+32>>2];r=c*+l[e>>2]+u*+l[e+4>>2]+a*+l[e+8>>2];s=+l[t+20>>2];if(r>s){l[t+20>>2]=r;o[t+4>>2]=o[e>>2];o[t+4+4>>2]=o[e+4>>2];o[t+4+8>>2]=o[e+8>>2];o[t+4+12>>2]=o[e+12>>2]}else r=s;s=c*+l[e+16>>2]+u*+l[e+20>>2]+a*+l[e+24>>2];if(s>r){l[t+20>>2]=s;o[t+4>>2]=o[e+16>>2];o[t+4+4>>2]=o[e+16+4>>2];o[t+4+8>>2]=o[e+16+8>>2];o[t+4+12>>2]=o[e+16+12>>2]}else s=r;r=c*+l[e+32>>2]+u*+l[e+36>>2]+a*+l[e+40>>2];if(!(r>s))return;l[t+20>>2]=r;o[t+4>>2]=o[e+32>>2];o[t+4+4>>2]=o[e+32+4>>2];o[t+4+8>>2]=o[e+32+8>>2];o[t+4+12>>2]=o[e+32+12>>2];return}function FC(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0,s=0,a=0,c=0,u=0;a=h;h=h+80|0;if((i|0)>0)r=0;else{h=a;return}do{l[n+(r<<4)+12>>2]=-999999984306749440.0;r=r+1|0}while((r|0)!=(i|0));r=a+32+4|0;s=0;do{c=e+(s<<4)|0;o[a+32>>2]=5836;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;l[a+32+20>>2]=-999999984306749440.0;o[a+32+24>>2]=o[c>>2];o[a+32+24+4>>2]=o[c+4>>2];o[a+32+24+8>>2]=o[c+8>>2];o[a+32+24+12>>2]=o[c+12>>2];o[a+16>>2]=1566444395;o[a+16+4>>2]=1566444395;o[a+16+8>>2]=1566444395;l[a+16+12>>2]=0.0;c=o[t+96>>2]|0;u=o[(o[c>>2]|0)+8>>2]|0;l[a>>2]=-999999984306749440.0;l[a+4>>2]=-999999984306749440.0;l[a+8>>2]=-999999984306749440.0;l[a+12>>2]=0.0;Wk[u&127](c,a+32|0,a,a+16|0);c=n+(s<<4)|0;o[c>>2]=o[r>>2];o[c+4>>2]=o[r+4>>2];o[c+8>>2]=o[r+8>>2];o[c+12>>2]=o[r+12>>2];s=s+1|0}while((s|0)<(i|0));h=a;return}function BC(t){t=t|0;return 0}function jC(t){t=t|0;return 0}function UC(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;return}function zC(t,e,n){t=t|0;e=e|0;n=n|0;return}function GC(t){t=t|0;return 0}function VC(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;return}function WC(t,e,n){t=t|0;e=e|0;n=+n;return 0}function HC(t,e,n){t=t|0;e=e|0;n=n|0;o[t+8>>2]=0;o[t+12>>2]=-1;o[t+16>>2]=1065353216;o[t+20>>2]=1065353216;o[t+24>>2]=1065353216;l[t+28>>2]=0.0;l[t+48>>2]=.03999999910593033;o[t+56>>2]=0;o[t+60>>2]=1065353216;o[t+64>>2]=1065353216;o[t+68>>2]=1065353216;l[t+72>>2]=0.0;o[t+76>>2]=-1082130432;o[t+80>>2]=-1082130432;o[t+84>>2]=-1082130432;l[t+88>>2]=0.0;i[t+92>>0]=0;o[t>>2]=5704;o[t+96>>2]=e;o[t+4>>2]=3;if(!n)return;kT(t);return}function XC(t){t=t|0;if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function qC(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0;a=+wk[o[(o[t>>2]|0)+48>>2]&15](t);p=a+ +l[t+32>>2];u=a+ +l[t+36>>2];a=a+ +l[t+40>>2];y=+G(+ +l[e>>2]);v=+G(+ +l[e+4>>2]);b=+G(+ +l[e+8>>2]);m=+G(+ +l[e+16>>2]);_=+G(+ +l[e+20>>2]);d=+G(+ +l[e+24>>2]);h=+G(+ +l[e+32>>2]);c=+G(+ +l[e+36>>2]);s=+G(+ +l[e+40>>2]);g=+l[e+48>>2];f=+l[e+52>>2];r=+l[e+56>>2];l[n>>2]=g-(p*y+u*v+a*b);l[n+4>>2]=f-(p*m+u*_+a*d);l[n+8>>2]=r-(p*h+u*c+a*s);l[n+12>>2]=0.0;l[i>>2]=p*y+u*v+a*b+g;l[i+4>>2]=p*m+u*_+a*d+f;l[i+8>>2]=p*h+u*c+a*s+r;l[i+12>>2]=0.0;return}function YC(t,e){t=t|0;e=e|0;var n=0.0,i=0.0,r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0,p=0.0;u=+wk[o[(o[t>>2]|0)+48>>2]&15](t);s=+wk[o[(o[t>>2]|0)+48>>2]&15](t);n=+wk[o[(o[t>>2]|0)+48>>2]&15](t);p=(u+ +l[t+32>>2])/+l[t+16>>2];c=(s+ +l[t+36>>2])/+l[t+20>>2];r=(n+ +l[t+40>>2])/+l[t+24>>2];h=+G(+ +l[e>>2]);a=+G(+ +l[e+4>>2]);i=+G(+ +l[e+8>>2]);l[t+16>>2]=h;l[t+20>>2]=a;l[t+24>>2]=i;l[t+28>>2]=0.0;l[t+32>>2]=p*h-u;l[t+36>>2]=c*a-s;l[t+40>>2]=r*i-n;l[t+44>>2]=0.0;return}function ZC(t,e,n){t=t|0;e=+e;n=n|0;var i=0.0,r=0.0,s=0.0,a=0.0,c=0.0;i=+l[t+32>>2];a=+l[t+36>>2];s=+l[t+40>>2];c=+wk[o[(o[t>>2]|0)+48>>2]&15](t);r=+wk[o[(o[t>>2]|0)+48>>2]&15](t);s=+wk[o[(o[t>>2]|0)+48>>2]&15](t)+s;switch(o[t+56>>2]|0){case 0:{c=e*.25*((r+a)*(r+a))+e/12.0*((c+i)*((c+i)*4.0));l[n>>2]=e*.5*((r+a)*(r+a));l[n+4>>2]=c;l[n+8>>2]=c;l[n+12>>2]=0.0;return}case 2:{l[n>>2]=e*.25*((c+i)*(c+i))+e/12.0*(s*(s*4.0));l[n+4>>2]=e*.25*((c+i)*(c+i))+e/12.0*(s*(s*4.0));l[n+8>>2]=e*.5*((c+i)*(c+i));l[n+12>>2]=0.0;return}default:{a=e*.25*((c+i)*(c+i))+e/12.0*((r+a)*((r+a)*4.0));l[n>>2]=a;l[n+4>>2]=e*.5*((c+i)*(c+i));l[n+8>>2]=a;l[n+12>>2]=0.0;return}}}function JC(t){t=t|0;return 13587}function KC(t,e){t=t|0;e=e|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;l[t+(o[e+56>>2]<<2)>>2]=1.0;return}function $C(t,e){t=t|0;e=+e;var n=0.0,i=0.0,r=0.0,s=0.0,a=0.0;s=+wk[o[(o[t>>2]|0)+48>>2]&15](t);i=+wk[o[(o[t>>2]|0)+48>>2]&15](t);a=+wk[o[(o[t>>2]|0)+48>>2]&15](t);s=s+ +l[t+32>>2];i=i+ +l[t+36>>2];a=a+ +l[t+40>>2];l[t+48>>2]=e;r=+wk[o[(o[t>>2]|0)+48>>2]&15](t);n=+wk[o[(o[t>>2]|0)+48>>2]&15](t);e=a-+wk[o[(o[t>>2]|0)+48>>2]&15](t);l[t+32>>2]=s-r;l[t+36>>2]=i-n;l[t+40>>2]=e;l[t+44>>2]=0.0;return}function QC(t){t=t|0;return 60}function tT(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0;i=Ek[o[(o[n>>2]|0)+40>>2]&31](n,t)|0;r=Ek[o[(o[n>>2]|0)+28>>2]&31](n,i)|0;o[e>>2]=r;if(r|0)ck[o[(o[n>>2]|0)+48>>2]&127](n,i);o[e+4>>2]=o[t+4>>2];o[e+28>>2]=o[t+32>>2];o[e+32>>2]=o[t+36>>2];o[e+36>>2]=o[t+40>>2];o[e+40>>2]=o[t+44>>2];o[e+12>>2]=o[t+16>>2];o[e+16>>2]=o[t+20>>2];o[e+20>>2]=o[t+24>>2];o[e+24>>2]=o[t+28>>2];o[e+44>>2]=o[t+48>>2];o[e+52>>2]=o[t+56>>2];return 13597}function eT(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0.0,s=0.0,a=0.0,c=0.0,u=0.0;i=h;h=h+16|0;Uk[o[(o[e>>2]|0)+68>>2]&127](i,e,n);o[t>>2]=o[i>>2];o[t+4>>2]=o[i+4>>2];o[t+8>>2]=o[i+8>>2];o[t+12>>2]=o[i+12>>2];if(!(+wk[o[(o[e>>2]|0)+48>>2]&15](e)!=0.0)){h=i;return}a=+l[n>>2];s=+l[n+4>>2];r=+l[n+8>>2];u=a*a+s*s+r*r<1.4210854715202004e-14?-1.0:a;c=a*a+s*s+r*r<1.4210854715202004e-14?-1.0:s;r=a*a+s*s+r*r<1.4210854715202004e-14?-1.0:r;s=1.0/+V(+(r*r+(u*u+c*c)));a=+wk[o[(o[e>>2]|0)+48>>2]&15](e);l[t>>2]=+l[t>>2]+a*(s*u);l[t+4>>2]=a*(s*c)+ +l[t+4>>2];l[t+8>>2]=a*(s*r)+ +l[t+8>>2];h=i;return}function nT(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,o=0.0,s=0.0,a=0.0,c=0.0;i=+l[e+32>>2];s=+l[e+36>>2];c=+l[n>>2];o=+l[n+8>>2];a=+V(+(c*c+o*o));r=+l[n+4>>2];if(a!=0.0){o=o*(i/a);r=r<0.0?-s:s;i=c*(i/a)}else{o=0.0;r=r<0.0?-s:s}l[t>>2]=i;l[t+4>>2]=r;l[t+8>>2]=o;return}function iT(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0.0,o=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0,p=0;if((i|0)<=0)return;p=0;do{r=+l[t+32>>2];a=+l[t+36>>2];h=+l[e+(p<<4)>>2];o=+l[e+(p<<4)+8>>2];u=+V(+(h*h+o*o));s=+l[e+(p<<4)+4>>2];if(u!=0.0){c=o*(r/u);o=s<0.0?-a:a;r=h*(r/u)}else{c=0.0;o=s<0.0?-a:a}l[n+(p<<4)>>2]=r;l[n+(p<<4)+4>>2]=o;l[n+(p<<4)+8>>2]=c;p=p+1|0}while((p|0)!=(i|0));return}function rT(t){t=t|0;var e=0.0,n=0.0;n=+l[t+32>>2];e=+wk[o[(o[t>>2]|0)+48>>2]&15](t);+wk[o[(o[t>>2]|0)+48>>2]&15](t);+wk[o[(o[t>>2]|0)+48>>2]&15](t);return+(n+e)}function oT(t){t=t|0;if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function sT(t){t=t|0;return 13636}function aT(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,o=0.0,s=0.0,a=0.0,c=0.0;i=+l[e+36>>2];o=+l[e+32>>2];c=+l[n+4>>2];r=+l[n+8>>2];a=+V(+(c*c+r*r));if(a!=0.0){s=r*(i/a);r=+l[n>>2]<0.0?-o:o;i=c*(i/a)}else{s=0.0;r=+l[n>>2]<0.0?-o:o}l[t+4>>2]=i;l[t>>2]=r;l[t+8>>2]=s;return}function cT(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0.0,o=0.0,s=0.0,a=0,c=0.0,u=0.0,h=0.0,p=0;if((i|0)<=0)return;p=0;do{r=+l[t+36>>2];s=+l[t+32>>2];a=e+(p<<4)|0;h=+l[e+(p<<4)+4>>2];o=+l[e+(p<<4)+8>>2];u=+V(+(h*h+o*o));if(u!=0.0){c=o*(r/u);o=+l[a>>2]<0.0?-s:s;r=h*(r/u)}else{c=0.0;o=+l[a>>2]<0.0?-s:s}l[n+(p<<4)>>2]=o;l[n+(p<<4)+4>>2]=r;l[n+(p<<4)+8>>2]=c;p=p+1|0}while((p|0)!=(i|0));return}function lT(t){t=t|0;var e=0.0,n=0.0;n=+l[t+36>>2];+wk[o[(o[t>>2]|0)+48>>2]&15](t);e=+wk[o[(o[t>>2]|0)+48>>2]&15](t);+wk[o[(o[t>>2]|0)+48>>2]&15](t);return+(n+e)}function uT(t){t=t|0;if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function hT(t){t=t|0;return 13665}function pT(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,o=0.0,s=0.0,a=0.0,c=0.0;i=+l[e+32>>2];s=+l[e+40>>2];c=+l[n>>2];o=+l[n+4>>2];a=+V(+(c*c+o*o));r=+l[n+8>>2];if(a!=0.0){o=o*(i/a);r=r<0.0?-s:s;i=c*(i/a)}else{o=0.0;r=r<0.0?-s:s}l[t>>2]=i;l[t+8>>2]=r;l[t+4>>2]=o;return}function fT(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0.0,o=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0,p=0;if((i|0)<=0)return;p=0;do{r=+l[t+32>>2];a=+l[t+40>>2];h=+l[e+(p<<4)>>2];o=+l[e+(p<<4)+4>>2];u=+V(+(h*h+o*o));s=+l[e+(p<<4)+8>>2];if(u!=0.0){c=o*(r/u);o=s<0.0?-a:a;r=h*(r/u)}else{c=0.0;o=s<0.0?-a:a}l[n+(p<<4)>>2]=r;l[n+(p<<4)+4>>2]=c;l[n+(p<<4)+8>>2]=o;p=p+1|0}while((p|0)!=(i|0));return}function dT(t){t=t|0;var e=0.0,n=0.0;n=+l[t+32>>2];e=+wk[o[(o[t>>2]|0)+48>>2]&15](t);+wk[o[(o[t>>2]|0)+48>>2]&15](t);+wk[o[(o[t>>2]|0)+48>>2]&15](t);return+(n+e)}function _T(t,e){t=t|0;e=e|0;var n=0.0,i=0,r=0.0,s=0.0,a=0.0,c=0.0;o[t+4>>2]=35;o[t+8>>2]=0;o[t+12>>2]=-1;o[t+16>>2]=1065353216;o[t+20>>2]=1065353216;o[t+24>>2]=1065353216;l[t+28>>2]=0.0;l[t+48>>2]=.03999999910593033;o[t>>2]=5856;o[t+56>>2]=1;s=+l[e>>2];r=+l[e+4>>2];n=+l[e+8>>2];n=+l[e+((s<r?s<n?0:2:r<n?1:2)<<2)>>2]*.10000000149011612;if(n<.03999999910593033){c=+OS(t);a=+wk[o[(o[t>>2]|0)+48>>2]&15](t);s=+wk[o[(o[t>>2]|0)+48>>2]&15](t);c=c+ +l[t+32>>2];a=a+ +l[t+36>>2];s=s+ +l[t+40>>2];l[t+48>>2]=n;n=+wk[o[(o[t>>2]|0)+48>>2]&15](t);r=+wk[o[(o[t>>2]|0)+48>>2]&15](t);s=s-+wk[o[(o[t>>2]|0)+48>>2]&15](t);l[t+32>>2]=c-n;l[t+36>>2]=a-r;l[t+40>>2]=s;l[t+44>>2]=0.0;i=o[t>>2]|0}else i=5856;s=+wk[o[i+48>>2]&15](t);a=+wk[o[(o[t>>2]|0)+48>>2]&15](t);c=+wk[o[(o[t>>2]|0)+48>>2]&15](t);a=+l[e+4>>2]*+l[t+20>>2]-a;c=+l[e+8>>2]*+l[t+24>>2]-c;l[t+32>>2]=+l[e>>2]*+l[t+16>>2]-s;l[t+36>>2]=a;l[t+40>>2]=c;l[t+44>>2]=0.0;o[t+4>>2]=13;return}function mT(t){t=t|0;VP(t);return}function gT(t){t=t|0;VP(t);if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function bT(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;HP(t,e,n,i)|0;return 1}function vT(t,e,n,s,a){t=t|0;e=e|0;n=n|0;s=s|0;a=a|0;var c=0.0,u=0.0,p=0,f=0,d=0,_=0.0,m=0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0;T=h;h=h+160|0;i[t+60>>0]=n&1;if(n){g=+l[s>>2]+-1.0;y=+l[s+4>>2]+-1.0;b=+l[s+8>>2]+-1.0;l[t+4>>2]=g;l[t+8>>2]=y;l[t+12>>2]=b;l[t+16>>2]=0.0;x=+l[a>>2]+1.0;S=+l[a+4>>2]+1.0;M=+l[a+8>>2]+1.0;l[t+20>>2]=x;l[t+24>>2]=S;l[t+28>>2]=M;l[t+32>>2]=0.0;l[t+36>>2]=65533.0/(x-g);l[t+40>>2]=65533.0/(S-y);l[t+44>>2]=65533.0/(M-b);l[t+48>>2]=0.0;i[t+60>>0]=1;c=g+ +(~~((g-g)*(65533.0/(x-g)))&65534)/(65533.0/(x-g))+-1.0;u=y+ +(~~((y-y)*(65533.0/(S-y)))&65534)/(65533.0/(S-y))+-1.0;_=b+ +(~~((b-b)*(65533.0/(M-b)))&65534)/(65533.0/(M-b))+-1.0;if(c<g){l[t+4>>2]=c;C=c}else C=g;if(u<y){l[t+8>>2]=u;w=u}else w=y;if(_<b){l[t+12>>2]=_;v=_}else v=b;_=C+ +((~~((x-C)*(65533.0/(x-g))+1.0)&65535|1)&65535)/(65533.0/(x-g))+1.0;u=w+ +((~~((S-w)*(65533.0/(S-y))+1.0)&65535|1)&65535)/(65533.0/(S-y))+1.0;c=v+ +((~~((M-v)*(65533.0/(M-b))+1.0)&65535|1)&65535)/(65533.0/(M-b))+1.0;if(x<_)l[t+20>>2]=_;else _=x;if(S<u)l[t+24>>2]=u;else u=S;if(M<c)l[t+28>>2]=c;else c=M;l[t+36>>2]=65533.0/(_-C);l[t+40>>2]=65533.0/(u-w);l[t+44>>2]=65533.0/(c-v);l[t+48>>2]=0.0;o[T+144>>2]=6208;o[T+144+4>>2]=t+104;o[T+144+8>>2]=t;Wk[o[(o[e>>2]|0)+8>>2]&127](e,T+144|0,t+4|0,t+20|0);n=o[t+108>>2]|0;o[T+128>>2]=0;o[T+128+4>>2]=0;o[T+128+8>>2]=0;o[T+128+12>>2]=0;p=o[t+128>>2]|0;if((p|0)<(n<<1|0)){if((o[t+132>>2]|0)<(n<<1|0)){if(!n){s=0;a=p}else{o[5637]=(o[5637]|0)+1;s=Jc(n<<5|19)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}a=o[t+128>>2]|0}if((a|0)>0){e=0;do{m=s+(e<<4)|0;d=(o[t+136>>2]|0)+(e<<4)|0;o[m>>2]=o[d>>2];o[m+4>>2]=o[d+4>>2];o[m+8>>2]=o[d+8>>2];o[m+12>>2]=o[d+12>>2];e=e+1|0}while((e|0)!=(a|0))}a=o[t+136>>2]|0;if(a|0){if(i[t+140>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0)}o[t+136>>2]=0}i[t+140>>0]=1;o[t+136>>2]=s;o[t+132>>2]=n<<1;a=t+136|0}else a=t+136|0;s=p;do{m=(o[a>>2]|0)+(s<<4)|0;o[m>>2]=o[T+128>>2];o[m+4>>2]=o[T+128+4>>2];o[m+8>>2]=o[T+128+8>>2];o[m+12>>2]=o[T+128+12>>2];s=s+1|0}while((s|0)!=(n<<1|0))}o[t+128>>2]=n<<1}else{o[T+144>>2]=6228;o[T+144+4>>2]=t+64;o[T+112>>2]=-581039253;o[T+112+4>>2]=-581039253;o[T+112+8>>2]=-581039253;l[T+112+12>>2]=0.0;o[T+96>>2]=1566444395;o[T+96+4>>2]=1566444395;o[T+96+8>>2]=1566444395;l[T+96+12>>2]=0.0;Wk[o[(o[e>>2]|0)+8>>2]&127](e,T+144|0,T+112|0,T+96|0);n=o[t+68>>2]|0;p=T+32|0;d=p+64|0;do{o[p>>2]=0;p=p+4|0}while((p|0)<(d|0));m=o[t+88>>2]|0;if((m|0)<(n<<1|0)){if((o[t+92>>2]|0)<(n<<1|0)){if(!n){s=0;a=m}else{o[5637]=(o[5637]|0)+1;s=Jc(n<<7|19)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}a=o[t+88>>2]|0}if((a|0)>0){e=0;do{p=s+(e<<6)|0;f=(o[t+96>>2]|0)+(e<<6)|0;d=p+64|0;do{o[p>>2]=o[f>>2];p=p+4|0;f=f+4|0}while((p|0)<(d|0));e=e+1|0}while((e|0)!=(a|0))}a=o[t+96>>2]|0;if(a|0){if(i[t+100>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0)}o[t+96>>2]=0}i[t+100>>0]=1;o[t+96>>2]=s;o[t+92>>2]=n<<1;a=t+96|0}else a=t+96|0;s=m;do{p=(o[a>>2]|0)+(s<<6)|0;f=T+32|0;d=p+64|0;do{o[p>>2]=o[f>>2];p=p+4|0;f=f+4|0}while((p|0)<(d|0));s=s+1|0}while((s|0)!=(n<<1|0))}o[t+88>>2]=n<<1}o[t+56>>2]=0;JP(t,0,n);if(i[t+60>>0]|0?(o[t+152>>2]|0)==0:0){if(!(o[t+156>>2]|0)){o[5637]=(o[5637]|0)+1;n=Jc(51)|0;if(!n)e=0;else{o[(n+4+15&-16)+-4>>2]=n;e=n+4+15&-16}n=o[t+152>>2]|0;if((n|0)>0){s=0;do{m=e+(s<<5)|0;d=(o[t+160>>2]|0)+(s<<5)|0;o[m>>2]=o[d>>2];o[m+4>>2]=o[d+4>>2];o[m+8>>2]=o[d+8>>2];o[m+12>>2]=o[d+12>>2];o[m+16>>2]=o[d+16>>2];o[m+20>>2]=o[d+20>>2];o[m+24>>2]=o[d+24>>2];o[m+28>>2]=o[d+28>>2];s=s+1|0}while((s|0)!=(n|0))}n=o[t+160>>2]|0;if(n|0){if(i[t+164>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[t+160>>2]=0}i[t+164>>0]=1;o[t+160>>2]=e;o[t+156>>2]=1;s=t+160|0;a=(o[t+152>>2]|0)+1|0;n=e}else{s=t+160|0;a=1;n=o[t+160>>2]|0}o[t+152>>2]=a;o[n>>2]=o[T>>2];o[n+4>>2]=o[T+4>>2];o[n+8>>2]=o[T+8>>2];o[n+12>>2]=o[T+12>>2];o[n+16>>2]=o[T+16>>2];o[n+20>>2]=o[T+20>>2];o[n+24>>2]=o[T+24>>2];o[n+28>>2]=o[T+28>>2];m=o[s>>2]|0;d=o[t+136>>2]|0;r[m>>1]=r[d>>1]|0;r[m+2>>1]=r[d+2>>1]|0;r[m+4>>1]=r[d+4>>1]|0;r[m+6>>1]=r[d+6>>1]|0;r[m+8>>1]=r[d+8>>1]|0;r[m+10>>1]=r[d+10>>1]|0;o[m+12>>2]=0;d=o[d+12>>2]|0;o[m+16>>2]=(d|0)>-1?1:0-d|0}o[t+168>>2]=o[t+152>>2];n=o[t+116>>2]|0;if(n|0){if(i[t+120>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[t+116>>2]=0}i[t+120>>0]=1;o[t+116>>2]=0;o[t+108>>2]=0;o[t+112>>2]=0;n=o[t+76>>2]|0;if(!n){i[t+80>>0]=1;o[t+76>>2]=0;o[t+68>>2]=0;t=t+72|0;o[t>>2]=0;h=T;return}if(i[t+80>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[t+76>>2]=0;i[t+80>>0]=1;o[t+76>>2]=0;o[t+68>>2]=0;t=t+72|0;o[t>>2]=0;h=T;return}function yT(t){t=t|0;Kc(t);return}function xT(t,e,n,s){t=t|0;e=e|0;n=n|0;s=s|0;var a=0.0,c=0.0,u=0,h=0,p=0,d=0,_=0,m=0,g=0,b=0,v=0,y=0.0,x=0.0,w=0.0,S=0,M=0.0,C=0,T=0.0,A=0.0;c=+l[e>>2];h=(l[f>>2]=c,o[f>>2]|0);g=c<999999984306749440.0?h:1566444395;a=+l[e+4>>2];d=(l[f>>2]=a,o[f>>2]|0);v=a<999999984306749440.0?d:1566444395;M=+l[e+8>>2];m=(l[f>>2]=M,o[f>>2]|0);C=M<999999984306749440.0?m:1566444395;h=c>-999999984306749440.0?h:-581039253;d=a>-999999984306749440.0?d:-581039253;m=M>-999999984306749440.0?m:-581039253;M=+l[e+16>>2];S=M<(o[f>>2]=g,+l[f>>2]);u=(l[f>>2]=M,o[f>>2]|0);g=S?u:g;a=+l[e+20>>2];S=a<(o[f>>2]=v,+l[f>>2]);p=(l[f>>2]=a,o[f>>2]|0);v=S?p:v;c=+l[e+24>>2];S=c<(o[f>>2]=C,+l[f>>2]);_=(l[f>>2]=c,o[f>>2]|0);C=S?_:C;S=(o[f>>2]=h,+l[f>>2])<M?u:h;b=(o[f>>2]=d,+l[f>>2])<a?p:d;m=(o[f>>2]=m,+l[f>>2])<c?_:m;M=+l[e+32>>2];h=M<(o[f>>2]=g,+l[f>>2]);d=(l[f>>2]=M,o[f>>2]|0);g=h?d:g;c=+l[e+36>>2];h=c<(o[f>>2]=v,+l[f>>2]);_=(l[f>>2]=c,o[f>>2]|0);h=h?_:v;a=+l[e+40>>2];u=a<(o[f>>2]=C,+l[f>>2]);p=(l[f>>2]=a,o[f>>2]|0);u=u?p:C;d=(o[f>>2]=S,+l[f>>2])<M?d:S;_=(o[f>>2]=b,+l[f>>2])<c?_:b;m=(o[f>>2]=m,+l[f>>2])<a?p:m;a=(o[f>>2]=d,+l[f>>2]);c=(o[f>>2]=g,+l[f>>2]);if(a-c<2.0000000949949026e-03){d=(l[f>>2]=a+1.0000000474974513e-03,o[f>>2]|0);p=(l[f>>2]=c+-1.0000000474974513e-03,o[f>>2]|0)}else p=g;a=(o[f>>2]=_,+l[f>>2]);c=(o[f>>2]=h,+l[f>>2]);if(a-c<2.0000000949949026e-03){_=(l[f>>2]=a+1.0000000474974513e-03,o[f>>2]|0);h=(l[f>>2]=c+-1.0000000474974513e-03,o[f>>2]|0)}a=(o[f>>2]=m,+l[f>>2]);c=(o[f>>2]=u,+l[f>>2]);if(a-c<2.0000000949949026e-03){m=(l[f>>2]=a+1.0000000474974513e-03,o[f>>2]|0);u=(l[f>>2]=c+-1.0000000474974513e-03,o[f>>2]|0)}g=o[t+8>>2]|0;c=+l[g+4>>2];M=(o[f>>2]=p,+l[f>>2])-c;a=+l[g+8>>2];y=(o[f>>2]=h,+l[f>>2])-a;A=+l[g+12>>2];x=+l[g+36>>2];w=+l[g+40>>2];T=+l[g+44>>2];g=~~(((o[f>>2]=u,+l[f>>2])-A)*T)&65534;c=(o[f>>2]=d,+l[f>>2])-c;a=(o[f>>2]=_,+l[f>>2])-a;m=(~~(((o[f>>2]=m,+l[f>>2])-A)*T+1.0)&65535|1)&65535;d=o[t+4>>2]|0;h=o[d+4>>2]|0;if((h|0)!=(o[d+8>>2]|0)){t=h;C=d+12|0;C=o[C>>2]|0;S=C+(t<<4)|0;r[S>>1]=~~(M*x)&65534;S=C+(t<<4)+2|0;r[S>>1]=~~(y*w)&65534;S=C+(t<<4)+4|0;r[S>>1]=g;S=C+(t<<4)+6|0;r[S>>1]=~~(c*x+1.0)&65535|1;S=C+(t<<4)+8|0;r[S>>1]=~~(a*w+1.0)&65535|1;S=C+(t<<4)+10|0;r[S>>1]=m;t=C+(t<<4)+12|0;o[t>>2]=n<<21|s;s=o[d+4>>2]|0;s=s+1|0;o[d+4>>2]=s;return}_=h|0?h<<1:1;if((h|0)>=(_|0)){t=h;C=d+12|0;C=o[C>>2]|0;S=C+(t<<4)|0;r[S>>1]=~~(M*x)&65534;S=C+(t<<4)+2|0;r[S>>1]=~~(y*w)&65534;S=C+(t<<4)+4|0;r[S>>1]=g;S=C+(t<<4)+6|0;r[S>>1]=~~(c*x+1.0)&65535|1;S=C+(t<<4)+8|0;r[S>>1]=~~(a*w+1.0)&65535|1;S=C+(t<<4)+10|0;r[S>>1]=m;t=C+(t<<4)+12|0;o[t>>2]=n<<21|s;s=o[d+4>>2]|0;s=s+1|0;o[d+4>>2]=s;return}if(!_)u=0;else{o[5637]=(o[5637]|0)+1;u=Jc((_<<4|3)+16|0)|0;if(!u)u=0;else{o[(u+4+15&-16)+-4>>2]=u;u=u+4+15&-16}h=o[d+4>>2]|0}if((h|0)>0){p=0;do{t=u+(p<<4)|0;C=(o[d+12>>2]|0)+(p<<4)|0;o[t>>2]=o[C>>2];o[t+4>>2]=o[C+4>>2];o[t+8>>2]=o[C+8>>2];o[t+12>>2]=o[C+12>>2];p=p+1|0}while((p|0)!=(h|0))}h=o[d+12>>2]|0;if(h|0){if(i[d+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[h+-4>>2]|0)}o[d+12>>2]=0}i[d+16>>0]=1;o[d+12>>2]=u;o[d+8>>2]=_;t=o[d+4>>2]|0;C=d+12|0;C=o[C>>2]|0;S=C+(t<<4)|0;r[S>>1]=~~(M*x)&65534;S=C+(t<<4)+2|0;r[S>>1]=~~(y*w)&65534;S=C+(t<<4)+4|0;r[S>>1]=g;S=C+(t<<4)+6|0;r[S>>1]=~~(c*x+1.0)&65535|1;S=C+(t<<4)+8|0;r[S>>1]=~~(a*w+1.0)&65535|1;S=C+(t<<4)+10|0;r[S>>1]=m;t=C+(t<<4)+12|0;o[t>>2]=n<<21|s;s=o[d+4>>2]|0;s=s+1|0;o[d+4>>2]=s;return}function wT(t){t=t|0;Kc(t);return}function ST(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;var s=0,a=0,c=0,u=0,p=0,d=0,_=0.0,m=0.0,g=0.0,b=0.0,v=0,y=0,x=0,w=0,S=0,M=0.0,C=0,T=0,A=0,L=0,E=0,R=0.0;E=h;h=h+32|0;m=+l[e>>2];a=(l[f>>2]=m,o[f>>2]|0);v=m<999999984306749440.0?a:1566444395;_=+l[e+4>>2];u=(l[f>>2]=_,o[f>>2]|0);y=_<999999984306749440.0?u:1566444395;R=+l[e+8>>2];d=(l[f>>2]=R,o[f>>2]|0);w=R<999999984306749440.0?d:1566444395;b=+l[e+12>>2];M=b<0.0?b:0.0;a=m>-999999984306749440.0?a:-581039253;u=_>-999999984306749440.0?u:-581039253;d=R>-999999984306749440.0?d:-581039253;b=b>0.0?b:0.0;R=+l[e+16>>2];A=R<(o[f>>2]=v,+l[f>>2]);s=(l[f>>2]=R,o[f>>2]|0);v=A?s:v;_=+l[e+20>>2];A=_<(o[f>>2]=y,+l[f>>2]);c=(l[f>>2]=_,o[f>>2]|0);y=A?c:y;m=+l[e+24>>2];A=m<(o[f>>2]=w,+l[f>>2]);p=(l[f>>2]=m,o[f>>2]|0);w=A?p:w;g=+l[e+28>>2];M=g<M?g:M;S=(o[f>>2]=a,+l[f>>2])<R?s:a;x=(o[f>>2]=u,+l[f>>2])<_?c:u;u=(o[f>>2]=d,+l[f>>2])<m?p:d;b=b<g?g:b;R=+l[e+32>>2];A=R<(o[f>>2]=v,+l[f>>2]);s=(l[f>>2]=R,o[f>>2]|0);A=A?s:v;m=+l[e+36>>2];T=m<(o[f>>2]=y,+l[f>>2]);a=(l[f>>2]=m,o[f>>2]|0);T=T?a:y;g=+l[e+40>>2];C=g<(o[f>>2]=w,+l[f>>2]);c=(l[f>>2]=g,o[f>>2]|0);C=C?c:w;_=+l[e+44>>2];M=_<M?_:M;w=(o[f>>2]=S,+l[f>>2])<R?s:S;x=(o[f>>2]=x,+l[f>>2])<m?a:x;y=(o[f>>2]=u,+l[f>>2])<g?c:u;_=b<_?_:b;v=o[t+4>>2]|0;s=o[v+4>>2]|0;if((s|0)==(o[v+8>>2]|0)?(L=s|0?s<<1:1,(s|0)<(L|0)):0){if(!L)d=0;else{o[5637]=(o[5637]|0)+1;s=Jc(L<<6|19)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}d=s;s=o[v+4>>2]|0}if((s|0)>0){a=0;do{c=d+(a<<6)|0;u=(o[v+12>>2]|0)+(a<<6)|0;p=c+64|0;do{o[c>>2]=o[u>>2];c=c+4|0;u=u+4|0}while((c|0)<(p|0));a=a+1|0}while((a|0)!=(s|0))}s=o[v+12>>2]|0;if(s|0){if(i[v+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0)}o[v+12>>2]=0}i[v+16>>0]=1;o[v+12>>2]=d;o[v+8>>2]=L;s=o[v+4>>2]|0}L=o[v+12>>2]|0;o[L+(s<<6)>>2]=A;o[L+(s<<6)+4>>2]=T;o[L+(s<<6)+8>>2]=C;l[L+(s<<6)+12>>2]=M;o[L+(s<<6)+16>>2]=w;o[L+(s<<6)+20>>2]=x;o[L+(s<<6)+24>>2]=y;l[L+(s<<6)+28>>2]=_;o[L+(s<<6)+32>>2]=-1;o[L+(s<<6)+36>>2]=n;o[L+(s<<6)+40>>2]=r;r=L+(s<<6)+44|0;o[r>>2]=o[E>>2];o[r+4>>2]=o[E+4>>2];o[r+8>>2]=o[E+8>>2];o[r+12>>2]=o[E+12>>2];o[r+16>>2]=o[E+16>>2];o[v+4>>2]=(o[v+4>>2]|0)+1;h=E;return}function MT(t){t=t|0;var e=0;o[t>>2]=6248;e=o[t+56>>2]|0;if(!e)return;sk[o[o[e>>2]>>2]&255](e);e=o[t+56>>2]|0;if(!e)return;o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0);return}function CT(t){t=t|0;var e=0,n=0;o[t>>2]=6248;e=o[t+56>>2]|0;if(e|0?(sk[o[o[e>>2]>>2]&255](e),n=o[t+56>>2]|0,n|0):0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function TT(t,e,n){t=t|0;e=+e;n=n|0;var i=0,r=0.0,s=0.0,a=0.0,c=0;i=h;h=h+96|0;a=+wk[o[(o[t>>2]|0)+48>>2]&15](t);o[i+32>>2]=1065353216;o[i+32+4>>2]=0;o[i+32+4+4>>2]=0;o[i+32+4+8>>2]=0;o[i+32+4+12>>2]=0;o[i+32+20>>2]=1065353216;o[i+32+24>>2]=0;o[i+32+24+4>>2]=0;o[i+32+24+8>>2]=0;o[i+32+24+12>>2]=0;o[i+32+40>>2]=1065353216;c=i+32+44|0;o[c>>2]=0;o[c+4>>2]=0;o[c+8>>2]=0;o[c+12>>2]=0;o[c+16>>2]=0;Wk[o[(o[t>>2]|0)+8>>2]&127](t,i+32|0,i+16|0,i);s=(a+(+l[i>>2]-+l[i+16>>2])*.5)*2.0;r=(a+(+l[i+4>>2]-+l[i+16+4>>2])*.5)*2.0;a=(a+(+l[i+8>>2]-+l[i+16+8>>2])*.5)*2.0;l[n>>2]=e*.0833333283662796*(r*r+a*a);l[n+4>>2]=e*.0833333283662796*(s*s+a*a);l[n+8>>2]=e*.0833333283662796*(s*s+r*r);l[n+12>>2]=0.0;h=i;return}function AT(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,s=0.0,a=0,c=0,u=0,p=0.0,f=0.0,d=0,_=0,m=0.0,g=0;_=h;h=h+2048|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;i=+l[n>>2];s=+l[n+4>>2];r=+l[n+8>>2];if(i*i+s*s+r*r<9.999999747378752e-05){f=1.0;p=0.0;s=0.0}else{m=1.0/+V(+(i*i+s*s+r*r));f=i*m;p=r*m;s=s*m}if((uk[o[(o[e>>2]|0)+96>>2]&127](e)|0)<=0){h=_;return}u=0;i=-999999984306749440.0;do{if(((uk[o[(o[e>>2]|0)+96>>2]&127](e)|0)-u|0)<128){n=(uk[o[(o[e>>2]|0)+96>>2]&127](e)|0)-u|0;if((n|0)>0)d=8;else{r=-3402823466385288598117041.0e14;n=-1}}else{n=128;d=8}if((d|0)==8){d=0;a=0;do{Uk[o[(o[e>>2]|0)+108>>2]&127](e,a,_+(a<<4)|0);a=a+1|0}while((a|0)!=(n|0));c=0;r=-3402823466385288598117041.0e14;a=-1;do{m=f*+l[_+(c<<4)>>2]+s*+l[_+(c<<4)+4>>2]+p*+l[_+(c<<4)+8>>2];g=m>r;a=g?c:a;r=g?m:r;c=c+1|0}while((c|0)!=(n|0));n=a}if(r>i){g=_+(n<<4)|0;o[t>>2]=o[g>>2];o[t+4>>2]=o[g+4>>2];o[t+8>>2]=o[g+8>>2];o[t+12>>2]=o[g+12>>2];i=r}u=u+128|0}while((u|0)<(uk[o[(o[e>>2]|0)+96>>2]&127](e)|0));h=_;return}function LT(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0,s=0,a=0.0,c=0.0,u=0.0,p=0.0,f=0,d=0,_=0,m=0,g=0,b=0,v=0,y=0,x=0,w=0,S=0.0,M=0;w=h;h=h+2048|0;if((i|0)>0)r=0;else{h=w;return}do{l[n+(r<<4)+12>>2]=-999999984306749440.0;r=r+1|0}while((r|0)!=(i|0));v=0;do{if((uk[o[(o[t>>2]|0)+96>>2]&127](t)|0)>0){g=e+(v<<4)|0;b=e+(v<<4)+4|0;d=e+(v<<4)+8|0;_=n+(v<<4)+12|0;m=n+(v<<4)|0;y=0;do{if(((uk[o[(o[t>>2]|0)+96>>2]&127](t)|0)-y|0)<128){r=(uk[o[(o[t>>2]|0)+96>>2]&127](t)|0)-y|0;if((r|0)>0)x=10;else{a=-3402823466385288598117041.0e14;r=-1}}else{r=128;x=10}if((x|0)==10){x=0;s=0;do{Uk[o[(o[t>>2]|0)+108>>2]&127](t,s,w+(s<<4)|0);s=s+1|0}while((s|0)!=(r|0));c=+l[g>>2];u=+l[b>>2];p=+l[d>>2];f=0;a=-3402823466385288598117041.0e14;s=-1;do{S=c*+l[w+(f<<4)>>2]+u*+l[w+(f<<4)+4>>2]+p*+l[w+(f<<4)+8>>2];M=S>a;s=M?f:s;a=M?S:a;f=f+1|0}while((f|0)!=(r|0));r=s}if(a>+l[_>>2]){M=w+(r<<4)|0;o[m>>2]=o[M>>2];o[m+4>>2]=o[M+4>>2];o[m+8>>2]=o[M+8>>2];o[m+12>>2]=o[M+12>>2];l[_>>2]=a}y=y+128|0}while((y|0)<(uk[o[(o[t>>2]|0)+96>>2]&127](t)|0))}v=v+1|0}while((v|0)!=(i|0));h=w;return}function ET(t,e){t=t|0;e=e|0;var n=0,s=0,c=0,u=0,p=0,d=0,_=0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0,S=0.0,M=0,C=0,T=0,A=0,L=0,E=0,R=0.0,I=0.0,P=0,D=0.0,k=0.0,O=0,N=0,F=0.0,B=0.0,j=0,U=0,z=0,W=0,H=0,X=0,q=0,Y=0,Z=0,J=0,K=0,$=0,Q=0,tt=0,et=0,nt=0,it=0,rt=0,ot=0.0,st=0,at=0;rt=h;h=h+288|0;n=o[t+56>>2]|0;if(n|0?(sk[o[o[n>>2]>>2]&255](n),s=o[t+56>>2]|0,s|0):0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0)}o[5637]=(o[5637]|0)+1;n=Jc(151)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}o[n>>2]=5688;i[n+20>>0]=1;o[n+16>>2]=0;o[n+8>>2]=0;o[n+12>>2]=0;i[n+40>>0]=1;o[n+36>>2]=0;o[n+28>>2]=0;o[n+32>>2]=0;i[n+60>>0]=1;o[n+56>>2]=0;o[n+48>>2]=0;o[n+52>>2]=0;o[t+56>>2]=n;d=0;p=0;it=0;O=0;while(1){if((d|0)>=(uk[o[(o[t>>2]|0)+96>>2]&127](t)|0))break;do{if((O|0)==(p|0)){c=p|0?p<<1:1;if((p|0)<(c|0)){if((c|0)!=0?(o[5637]=(o[5637]|0)+1,_=Jc((c<<4|3)+16|0)|0,(_|0)!=0):0){o[(_+4+15&-16)+-4>>2]=_;n=_+4+15&-16}else n=0;if((p|0)<=0){if(!it){u=p;s=c;break}}else{s=0;do{nt=n+(s<<4)|0;et=it+(s<<4)|0;o[nt>>2]=o[et>>2];o[nt+4>>2]=o[et+4>>2];o[nt+8>>2]=o[et+8>>2];o[nt+12>>2]=o[et+12>>2];s=s+1|0}while((s|0)!=(p|0))}o[5638]=(o[5638]|0)+1;Kc(o[it+-4>>2]|0);u=p;s=c}else{u=p;s=p;n=it}}else{u=O;s=p;n=it}}while(0);p=n+(O<<4)|0;o[p>>2]=o[rt+200>>2];o[p+4>>2]=o[rt+200+4>>2];o[p+8>>2]=o[rt+200+8>>2];o[p+12>>2]=o[rt+200+12>>2];Uk[o[(o[t>>2]|0)+108>>2]&127](t,d,p);d=d+1|0;p=s;it=n;O=u+1|0}i[rt+136+16>>0]=1;nt=rt+136+12|0;o[nt>>2]=0;o[rt+136+4>>2]=0;o[rt+136+8>>2]=0;i[rt+136+36>>0]=1;et=rt+136+32|0;o[et>>2]=0;o[rt+136+24>>2]=0;o[rt+136+28>>2]=0;i[rt+136+56>>0]=1;tt=rt+136+52|0;o[tt>>2]=0;o[rt+136+44>>2]=0;o[rt+136+48>>2]=0;if(e){if((O|0)>0){P=0;s=0;u=0;c=0;while(1){n=P;P=P+1|0;if((P|0)<(O|0)){L=it+(n<<4)|0;E=it+(n<<4)+4|0;T=it+(n<<4)+8|0;A=P;n=c;do{c=A;A=A+1|0;if((A|0)<(O|0)){M=it+(c<<4)|0;C=it+(c<<4)+4|0;e=it+(c<<4)+8|0;w=A;do{R=+l[L>>2];k=+l[M>>2]-R;I=+l[E>>2];x=+l[C>>2]-I;D=+l[T>>2];S=+l[e>>2]-D;R=+l[it+(w<<4)>>2]-R;I=+l[it+(w<<4)+4>>2]-I;D=+l[it+(w<<4)+8>>2]-D;m=1.0;_=0;while(1){v=(x*D-S*I)*m;y=(S*R-k*D)*m;g=(k*I-x*R)*m;t:do{if(g*g+(v*v+y*y)>9.999999747378752e-05){b=1.0/+V(+(g*g+(v*v+y*y)));if((n|0)>0){c=0;do{if(v*b*+l[u+(c<<4)>>2]+y*b*+l[u+(c<<4)+4>>2]+g*b*+l[u+(c<<4)+8>>2]>.9990000128746033)break t;c=c+1|0}while((c|0)<(n|0))}m=v*b*+l[L>>2]+y*b*+l[E>>2]+g*b*+l[T>>2];c=0;do{if(v*b*+l[it+(c<<4)>>2]+y*b*+l[it+(c<<4)+4>>2]+g*b*+l[it+(c<<4)+8>>2]-m+-.009999999776482582>0.0)break t;c=c+1|0}while((c|0)<(O|0));do{if((n|0)==(s|0)){d=s|0?s<<1:1;if((s|0)<(d|0)){do{if(!d)p=0;else{o[5637]=(o[5637]|0)+1;c=Jc((d<<4|3)+16|0)|0;if(!c){p=0;break}o[(c+4+15&-16)+-4>>2]=c;p=c+4+15&-16}}while(0);if((s|0)<=0){if(!u){c=s;s=d;u=p;break}}else{c=0;do{K=p+(c<<4)|0;J=u+(c<<4)|0;o[K>>2]=o[J>>2];o[K+4>>2]=o[J+4>>2];o[K+8>>2]=o[J+8>>2];o[K+12>>2]=o[J+12>>2];c=c+1|0}while((c|0)!=(s|0))}o[5638]=(o[5638]|0)+1;Kc(o[u+-4>>2]|0);c=s;s=d;u=p}else c=s}else c=n}while(0);l[u+(c<<4)>>2]=v*b;l[u+(c<<4)+4>>2]=y*b;l[u+(c<<4)+8>>2]=g*b;l[u+(c<<4)+12>>2]=-m;n=n+1|0}}while(0);_=_+1|0;if((_|0)==2)break;else m=-1.0}w=w+1|0}while((w|0)!=(O|0))}}while((A|0)!=(O|0))}else n=c;if((P|0)==(O|0))break;else c=n}if((n|0)>0){d=0;_=0;e=0;while(1){K=u+(e<<4)|0;o[rt+216>>2]=o[K>>2];o[rt+216+4>>2]=o[K+4>>2];o[rt+216+8>>2]=o[K+8>>2];m=+l[u+(e<<4)+12>>2];m=m-+wk[o[(o[t>>2]|0)+48>>2]&15](t);do{if((e|0)==(d|0)){p=d|0?d<<1:1;if((d|0)<(p|0)){if((p|0)!=0?(o[5637]=(o[5637]|0)+1,N=Jc((p<<4|3)+16|0)|0,(N|0)!=0):0){o[(N+4+15&-16)+-4>>2]=N;c=N+4+15&-16}else c=0;if((d|0)<=0){if(!_){s=d;break}}else{s=0;do{K=c+(s<<4)|0;J=_+(s<<4)|0;o[K>>2]=o[J>>2];o[K+4>>2]=o[J+4>>2];o[K+8>>2]=o[J+8>>2];o[K+12>>2]=o[J+12>>2];s=s+1|0}while((s|0)!=(d|0))}o[5638]=(o[5638]|0)+1;Kc(o[_+-4>>2]|0);s=d}else{s=d;p=d;c=_}}else{s=e;p=d;c=_}}while(0);K=c+(s<<4)|0;o[K>>2]=o[rt+216>>2];o[K+4>>2]=o[rt+216+4>>2];o[K+8>>2]=o[rt+216+8>>2];l[c+(s<<4)+12>>2]=m;e=e+1|0;if((e|0)<(n|0)){d=p;_=c}else break}if((e|0)>0){L=0;p=0;s=0;n=0;do{T=L;L=L+1|0;if((L|0)<(e|0)){A=L;do{M=A;A=A+1|0;if((A|0)<(e|0)){C=A;do{v=+l[c+(M<<4)+4>>2];m=+l[c+(C<<4)+8>>2];g=+l[c+(M<<4)+8>>2];y=+l[c+(C<<4)+4>>2];x=+l[c+(C<<4)>>2];S=+l[c+(M<<4)>>2];b=+l[c+(T<<4)+8>>2];R=+l[c+(T<<4)+4>>2];I=+l[c+(T<<4)>>2];t:do{if((((y*S-v*x)*(y*S-v*x)+((v*m-g*y)*(v*m-g*y)+(g*x-m*S)*(g*x-m*S))>9.999999747378752e-05?(x*R-y*I)*(x*R-y*I)+((y*b-m*R)*(y*b-m*R)+(m*I-x*b)*(m*I-x*b))>9.999999747378752e-05:0)?(v*I-S*R)*(v*I-S*R)+((g*R-v*b)*(g*R-v*b)+(S*b-g*I)*(S*b-g*I))>9.999999747378752e-05:0)?(F=b*(y*S-v*x)+(R*(g*x-m*S)+(v*m-g*y)*I),+G(+F)>9.999999974752427e-07):0){k=+l[c+(T<<4)+12>>2];B=+l[c+(M<<4)+12>>2];ot=+l[c+(C<<4)+12>>2];D=-1.0/F*((g*R-v*b)*ot+((v*m-g*y)*k+(y*b-m*R)*B));g=-1.0/F*((S*b-g*I)*ot+((g*x-m*S)*k+(m*I-x*b)*B));m=-1.0/F*((v*I-S*R)*ot+((y*S-v*x)*k+(x*R-y*I)*B));d=0;do{if(+l[c+(d<<4)+12>>2]+(D*+l[c+(d<<4)>>2]+g*+l[c+(d<<4)+4>>2]+m*+l[c+(d<<4)+8>>2])+-.009999999776482582>0.0)break t;d=d+1|0}while((d|0)<(e|0));do{if((n|0)==(p|0)){w=p|0?p<<1:1;if((p|0)>=(w|0)){d=p;break}do{if(!w)_=0;else{o[5637]=(o[5637]|0)+1;d=Jc((w<<4|3)+16|0)|0;if(!d){_=0;break}o[(d+4+15&-16)+-4>>2]=d;_=d+4+15&-16}}while(0);if((p|0)<=0){if(!s){d=p;p=w;s=_;break}}else{d=0;do{K=_+(d<<4)|0;J=s+(d<<4)|0;o[K>>2]=o[J>>2];o[K+4>>2]=o[J+4>>2];o[K+8>>2]=o[J+8>>2];o[K+12>>2]=o[J+12>>2];d=d+1|0}while((d|0)!=(p|0))}o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0);d=p;p=w;s=_}else d=n}while(0);l[s+(d<<4)>>2]=D;l[s+(d<<4)+4>>2]=g;l[s+(d<<4)+8>>2]=m;l[s+(d<<4)+12>>2]=0.0;n=n+1|0}}while(0);C=C+1|0}while((C|0)!=(e|0))}}while((A|0)!=(e|0))}}while((L|0)!=(e|0))}else{s=0;n=0}}else{c=0;s=0;n=0}}else{u=0;c=0;s=0;n=0}Uh(rt+136|0,s,n);if(s|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0)}if(c|0){o[5638]=(o[5638]|0)+1;Kc(o[c+-4>>2]|0)}if(u|0){o[5638]=(o[5638]|0)+1;Kc(o[u+-4>>2]|0)}}else Uh(rt+136|0,it,O);P=o[rt+136+44>>2]|0;if((P|0)>0){o[5637]=(o[5637]|0)+1;n=Jc((P<<4|3)+16|0)|0;if(!n)s=0;else{o[(n+4+15&-16)+-4>>2]=n;s=n+4+15&-16}n=0;do{K=s+(n<<4)|0;o[K>>2]=o[rt+120>>2];o[K+4>>2]=o[rt+120+4>>2];o[K+8>>2]=o[rt+120+8>>2];o[K+12>>2]=o[rt+120+12>>2];n=n+1|0}while((n|0)!=(P|0))}else s=0;i[rt+96+16>>0]=1;K=rt+96+12|0;o[K>>2]=0;J=rt+96+4|0;o[J>>2]=0;o[rt+96+8>>2]=0;u=rt+264|0;d=u+19|0;do{i[u>>0]=0;u=u+1|0}while((u|0)<(d|0));if((P|0)<0)se();if((P|0)>0){RT(rt+96|0,P);n=o[K>>2]|0;c=0;do{u=n+(c*36|0)|0;i[u+16>>0]=1;o[u+4>>2]=0;o[u+4+4>>2]=0;o[u+4+8>>2]=0;u=u+20|0;p=rt+264+3|0;d=u+16|0;do{i[u>>0]=i[p>>0]|0;u=u+1|0;p=p+1|0}while((u|0)<(d|0));c=c+1|0}while((c|0)!=(P|0))}o[J>>2]=P;_=o[rt+136+4>>2]|0;d=o[t+56>>2]|0;p=o[d+8>>2]|0;if((p|0)<(_|0)){if((o[d+12>>2]|0)<(_|0)){if(!_){n=0;c=p}else{o[5637]=(o[5637]|0)+1;n=Jc((_<<4|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}c=o[d+8>>2]|0}if((c|0)>0){u=0;do{Z=n+(u<<4)|0;Y=(o[d+16>>2]|0)+(u<<4)|0;o[Z>>2]=o[Y>>2];o[Z+4>>2]=o[Y+4>>2];o[Z+8>>2]=o[Y+8>>2];o[Z+12>>2]=o[Y+12>>2];u=u+1|0}while((u|0)!=(c|0))}c=o[d+16>>2]|0;if(c|0){if(i[d+20>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[c+-4>>2]|0)}o[d+16>>2]=0}i[d+20>>0]=1;o[d+16>>2]=n;o[d+12>>2]=_;c=d+16|0}else c=d+16|0;n=p;do{Z=(o[c>>2]|0)+(n<<4)|0;o[Z>>2]=o[rt+80>>2];o[Z+4>>2]=o[rt+80+4>>2];o[Z+8>>2]=o[rt+80+8>>2];o[Z+12>>2]=o[rt+80+12>>2];n=n+1|0}while((n|0)!=(_|0))}o[d+8>>2]=_;if((_|0)>0){n=0;do{Z=(o[(o[t+56>>2]|0)+16>>2]|0)+(n<<4)|0;Y=(o[nt>>2]|0)+(n<<4)|0;o[Z>>2]=o[Y>>2];o[Z+4>>2]=o[Y+4>>2];o[Z+8>>2]=o[Y+8>>2];o[Z+12>>2]=o[Y+12>>2];n=n+1|0}while((n|0)!=(_|0))}if((P|0)>0){E=0;do{T=(o[et>>2]|0)+((o[(o[tt>>2]|0)+(E<<2)>>2]|0)*12|0)|0;L=T;c=0;do{A=L+4|0;C=o[L+((o[A>>2]|0)*12|0)+8>>2]|0;w=o[K>>2]|0;M=w+(E*36|0)+4|0;n=o[M>>2]|0;e=w+(E*36|0)+8|0;if((n|0)==(o[e>>2]|0)?(j=n|0?n<<1:1,(n|0)<(j|0)):0){if(!j)_=0;else{o[5637]=(o[5637]|0)+1;n=Jc((j<<2|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}_=n;n=o[M>>2]|0}d=w+(E*36|0)+12|0;p=o[d>>2]|0;if((n|0)<=0)if(!p)u=w+(E*36|0)+16|0;else Q=132;else{u=0;do{o[_+(u<<2)>>2]=o[p+(u<<2)>>2];u=u+1|0}while((u|0)!=(n|0));Q=132}if((Q|0)==132){Q=0;n=w+(E*36|0)+16|0;if(i[n>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[p+-4>>2]|0)}o[d>>2]=0;u=n;n=o[M>>2]|0}i[u>>0]=1;o[d>>2]=_;o[e>>2]=j}o[(o[w+(E*36|0)+12>>2]|0)+(n<<2)>>2]=C;o[M>>2]=(o[M>>2]|0)+1;Y=o[L+8>>2]|0;Z=o[nt>>2]|0;b=+l[Z+(Y<<4)>>2]-+l[Z+(C<<4)>>2];v=+l[Z+(Y<<4)+4>>2]-+l[Z+(C<<4)+4>>2];m=+l[Z+(Y<<4)+8>>2]-+l[Z+(C<<4)+8>>2];g=1.0/+V(+(b*b+v*v+m*m));if((c|0)<2){l[rt+216+(c<<4)>>2]=b*g;l[rt+216+(c<<4)+4>>2]=v*g;l[rt+216+(c<<4)+8>>2]=m*g;l[rt+216+(c<<4)+12>>2]=0.0;c=c+1|0}Z=L+((o[A>>2]|0)*12|0)|0;L=Z+((o[Z>>2]|0)*12|0)|0}while((L|0)!=(T|0));n=s+(E<<4)|0;if((c|0)==2){D=+l[rt+216+4>>2];k=+l[rt+216+24>>2];F=+l[rt+216+8>>2];B=+l[rt+216+20>>2];I=+l[rt+216+16>>2];R=+l[rt+216>>2];Y=s+(E<<4)+4|0;Z=s+(E<<4)+8|0;l[s+(E<<4)+12>>2]=0.0;ot=1.0/+V(+((D*k-F*B)*(D*k-F*B)+(F*I-k*R)*(F*I-k*R)+(B*R-D*I)*(B*R-D*I)));l[n>>2]=(D*k-F*B)*ot;l[Y>>2]=(F*I-k*R)*ot;l[Z>>2]=(B*R-D*I)*ot;d=o[K>>2]|0;l[d+(E*36|0)+20>>2]=(D*k-F*B)*ot;o[d+(E*36|0)+24>>2]=o[Y>>2];o[d+(E*36|0)+28>>2]=o[Z>>2];l[d+(E*36|0)+32>>2]=1000000015047466219876688.0e6}else{o[n>>2]=0;o[n+4>>2]=0;o[n+8>>2]=0;o[n+12>>2]=0;d=o[K>>2]|0}u=o[d+(E*36|0)+4>>2]|0;if((u|0)>0){p=o[(o[t+56>>2]|0)+16>>2]|0;g=+l[n>>2];b=+l[s+(E<<4)+4>>2];v=+l[s+(E<<4)+8>>2];n=o[d+(E*36|0)+12>>2]|0;m=1000000015047466219876688.0e6;c=0;do{Z=o[n+(c<<2)>>2]|0;ot=+l[p+(Z<<4)>>2]*g+ +l[p+(Z<<4)+4>>2]*b+ +l[p+(Z<<4)+8>>2]*v;m=m>ot?ot:m;c=c+1|0}while((c|0)!=(u|0))}else m=1000000015047466219876688.0e6;l[d+(E*36|0)+32>>2]=-m;E=E+1|0}while((E|0)!=(P|0))}if((o[J>>2]|0)>0){d=0;n=0;p=0;while(1){do{if((d|0)==(n|0)){n=d|0?d<<1:1;if((d|0)<(n|0)){if((n|0)!=0?(o[5637]=(o[5637]|0)+1,U=Jc((n<<2|3)+16|0)|0,(U|0)!=0):0){o[(U+4+15&-16)+-4>>2]=U;u=U+4+15&-16}else u=0;if((d|0)<=0){if(!p)break}else{c=0;do{o[u+(c<<2)>>2]=o[p+(c<<2)>>2];c=c+1|0}while((c|0)!=(d|0))}o[5638]=(o[5638]|0)+1;Kc(o[p+-4>>2]|0)}else{n=d;u=p}}else u=p}while(0);o[u+(d<<2)>>2]=d;d=d+1|0;if((d|0)>=(o[J>>2]|0))break;else p=u}j=rt+56+12|0;U=rt+56+4|0;while(1){e=d+-1|0;c=o[u+(e<<2)>>2]|0;o[5637]=(o[5637]|0)+1;n=Jc(23)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}o[n>>2]=c;Z=o[K>>2]|0;g=+l[Z+(c*36|0)+20>>2];b=+l[Z+(c*36|0)+24>>2];m=+l[Z+(c*36|0)+28>>2];t:do{if((d|0)>1){p=1;_=1;c=n;n=e;C=e;while(1){M=_;e=c;e:while(1){c=o[K>>2]|0;do{Z=n;n=n+-1|0;if((Z|0)<=0){n=c;N=M;O=e;d=C;break t}w=o[u+(n<<2)>>2]|0}while(!(g*+l[c+(w*36|0)+20>>2]+b*+l[c+(w*36|0)+24>>2]+m*+l[c+(w*36|0)+28>>2]>.9990000128746033));do{if((M|0)==(p|0)){p=M|0?M<<1:1;if((M|0)<(p|0)){do{if(!p)d=0;else{o[5637]=(o[5637]|0)+1;c=Jc((p<<2|3)+16|0)|0;if(!c){d=0;break}o[(c+4+15&-16)+-4>>2]=c;d=c+4+15&-16}}while(0);if((M|0)<=0){if(!e){e=d;break}}else{c=0;do{o[d+(c<<2)>>2]=o[e+(c<<2)>>2];c=c+1|0}while((c|0)!=(M|0))}o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0);e=d}else p=M}}while(0);o[e+(M<<2)>>2]=w;M=M+1|0;c=0;while(1){_=u+(c<<2)|0;if((o[_>>2]|0)==(w|0))break;c=c+1|0;if((c|0)>=(C|0))continue e}if((c|0)<(C|0))break}d=C+-1|0;Z=u+(d<<2)|0;o[_>>2]=o[Z>>2];o[Z>>2]=w;if((C|0)>1){_=M;c=e;C=d}else{_=M;c=e;Q=161;break}}}else{p=1;_=1;c=n;n=e;d=e;Q=161}}while(0);t:do{if((Q|0)==161){Q=0;M=_;w=c;while(1){c=o[K>>2]|0;do{Z=n;n=n+-1|0;if((Z|0)<=0){n=c;N=M;O=w;break t}e=o[u+(n<<2)>>2]|0}while(!(g*+l[c+(e*36|0)+20>>2]+b*+l[c+(e*36|0)+24>>2]+m*+l[c+(e*36|0)+28>>2]>.9990000128746033));do{if((M|0)==(p|0)){p=M|0?M<<1:1;if((M|0)<(p|0)){do{if(!p)c=0;else{o[5637]=(o[5637]|0)+1;c=Jc((p<<2|3)+16|0)|0;if(!c){c=0;break}o[(c+4+15&-16)+-4>>2]=c;c=c+4+15&-16}}while(0);if((M|0)<=0){if(!w)break}else{_=0;do{o[c+(_<<2)>>2]=o[w+(_<<2)>>2];_=_+1|0}while((_|0)!=(M|0))}o[5638]=(o[5638]|0)+1;Kc(o[w+-4>>2]|0)}else{p=M;c=w}}else c=w}while(0);o[c+(M<<2)>>2]=e;M=M+1|0;w=c}}}while(0);if((N|0)>1){i[rt+56+16>>0]=1;o[j>>2]=0;o[U>>2]=0;o[rt+56+8>>2]=0;m=0.0;g=0.0;b=0.0;p=0;A=0;do{c=o[O+(A<<2)>>2]|0;m=+l[n+(c*36|0)+20>>2]+m;g=+l[n+(c*36|0)+24>>2]+g;b=+l[n+(c*36|0)+28>>2]+b;T=n+(c*36|0)+4|0;if((o[T>>2]|0)>0){C=n+(c*36|0)+12|0;n=p;M=0;while(1){w=o[(o[C>>2]|0)+(M<<2)>>2]|0;Z=(o[(o[t+56>>2]|0)+16>>2]|0)+(w<<4)|0;o[rt+216>>2]=o[Z>>2];o[rt+216+4>>2]=o[Z+4>>2];o[rt+216+8>>2]=o[Z+8>>2];o[rt+216+12>>2]=o[Z+12>>2];t:do{if((n|0)>0){c=o[j>>2]|0;p=0;while(1){if((o[c+(p*24|0)+20>>2]|0)==(w|0))break t;p=p+1|0;if((p|0)>=(n|0)){Q=263;break}}}else Q=263}while(0);if((Q|0)==263){Q=0;o[rt>>2]=o[rt+216>>2];o[rt+4>>2]=o[rt+216+4>>2];o[rt+8>>2]=o[rt+216+8>>2];o[rt+12>>2]=o[rt+216+12>>2];do{if((n|0)==(o[rt+56+8>>2]|0)){e=n|0?n<<1:1;if((n|0)>=(e|0))break;if(!e)_=0;else{o[5637]=(o[5637]|0)+1;n=Jc((e*24|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}_=n;n=o[U>>2]|0}p=o[j>>2]|0;if((n|0)<=0){if(p)Q=272}else{c=0;do{Q=_+(c*24|0)|0;Z=p+(c*24|0)|0;o[Q>>2]=o[Z>>2];o[Q+4>>2]=o[Z+4>>2];o[Q+8>>2]=o[Z+8>>2];o[Q+12>>2]=o[Z+12>>2];o[Q+16>>2]=o[Z+16>>2];o[Q+20>>2]=o[Z+20>>2];c=c+1|0}while((c|0)!=(n|0));Q=272}if((Q|0)==272){Q=0;if(i[rt+56+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[p+-4>>2]|0);n=o[U>>2]|0}o[j>>2]=0}i[rt+56+16>>0]=1;o[j>>2]=_;o[rt+56+8>>2]=e}}while(0);Z=o[j>>2]|0;Y=Z+(n*24|0)|0;o[Y>>2]=o[rt>>2];o[Y+4>>2]=o[rt+4>>2];o[Y+8>>2]=o[rt+8>>2];o[Y+12>>2]=o[rt+12>>2];o[Y+16>>2]=o[rt+16>>2];o[Z+(n*24|0)+20>>2]=w;n=(o[U>>2]|0)+1|0;o[U>>2]=n}M=M+1|0;if((M|0)>=(o[T>>2]|0)){p=n;break}}}A=A+1|0;n=o[K>>2]|0}while((A|0)<(N|0));i[rt+20+16>>0]=1;o[rt+20+12>>2]=0;o[rt+20+4>>2]=0;o[rt+20+8>>2]=0;Z=n+20+((o[O>>2]|0)*9<<2)|0;o[rt+20+20>>2]=o[Z>>2];o[rt+20+20+4>>2]=o[Z+4>>2];o[rt+20+20+8>>2]=o[Z+8>>2];o[rt+20+20+12>>2]=o[Z+12>>2];k=1.0/+V(+(m*m+g*g+b*b));B=m*k;F=g*k;k=b*k;if(+G(+k)>.7071067690849304){D=1.0/+V(+(k*k+F*F));y=B*-(k*D);x=0.0;S=F*D;R=-(k*D);I=(k*k+F*F)*D;D=-(B*(F*D))}else{D=1.0/+V(+(B*B+F*F));y=(B*B+F*F)*D;x=-(F*D);S=0.0;R=B*D;I=-(k*(B*D));D=k*-(F*D)}if((p|0)<2)if((p|0)>0){n=p;p=0;_=0;M=0;while(1){C=o[j>>2]|0;do{if((p|0)==(_|0)){w=_|0?_<<1:1;if((_|0)>=(w|0)){e=_;c=M;break}do{if(!w)c=0;else{o[5637]=(o[5637]|0)+1;n=Jc((w*24|3)+16|0)|0;if(!n){c=0;_=p;break}o[(n+4+15&-16)+-4>>2]=n;c=n+4+15&-16;_=p}}while(0);if((_|0)<=0){if(M|0)Q=209}else{n=0;do{Q=c+(n*24|0)|0;Z=M+(n*24|0)|0;o[Q>>2]=o[Z>>2];o[Q+4>>2]=o[Z+4>>2];o[Q+8>>2]=o[Z+8>>2];o[Q+12>>2]=o[Z+12>>2];o[Q+16>>2]=o[Z+16>>2];o[Q+20>>2]=o[Z+20>>2];n=n+1|0}while((n|0)!=(_|0));Q=209}if((Q|0)==209){Q=0;o[5638]=(o[5638]|0)+1;Kc(o[M+-4>>2]|0)}e=p;n=o[U>>2]|0;_=w}else{e=p;c=M}}while(0);Z=c+(e*24|0)|0;o[Z>>2]=o[C>>2];o[Z+4>>2]=o[C+4>>2];o[Z+8>>2]=o[C+8>>2];o[Z+12>>2]=o[C+12>>2];o[Z+16>>2]=o[C+16>>2];o[Z+20>>2]=o[C+20>>2];p=p+1|0;if((p|0)<(n|0))M=c;else{Q=278;break}}}else{n=0;c=0;Q=307}else{n=o[j>>2]|0;c=p;_=0;do{if(x*+l[n+(_*24|0)>>2]+R*+l[n+(_*24|0)+4>>2]+S*+l[n+(_*24|0)+8>>2]<x*+l[n>>2]+R*+l[n+4>>2]+S*+l[n+8>>2]){o[rt+216>>2]=o[n>>2];o[rt+216+4>>2]=o[n+4>>2];o[rt+216+8>>2]=o[n+8>>2];o[rt+216+12>>2]=o[n+12>>2];o[rt+216+16>>2]=o[n+16>>2];o[rt+216+20>>2]=o[n+20>>2];c=n+(_*24|0)|0;o[n>>2]=o[c>>2];o[n+4>>2]=o[c+4>>2];o[n+8>>2]=o[c+8>>2];o[n+12>>2]=o[c+12>>2];o[n+16>>2]=o[c+16>>2];o[n+20>>2]=o[c+20>>2];c=n+(_*24|0)|0;o[c>>2]=o[rt+216>>2];o[c+4>>2]=o[rt+216+4>>2];o[c+8>>2]=o[rt+216+8>>2];o[c+12>>2]=o[rt+216+12>>2];o[c+16>>2]=o[rt+216+16>>2];o[c+20>>2]=o[rt+216+20>>2];c=p}_=_+1|0}while((_|0)<(c|0));l[n+16>>2]=-1000000015047466219876688.0e6;if((c|0)>1){n=o[j>>2]|0;c=o[U>>2]|0;b=+l[n+4>>2];p=1;do{g=+l[n+(p*24|0)>>2]-+l[n>>2];ot=+l[n+(p*24|0)+4>>2]-b;m=+l[n+(p*24|0)+8>>2]-+l[n+8>>2];v=I*g+D*ot+y*m;m=x*g+R*ot+S*m;if(v*v+m*m<1.1920928955078125e-07)l[n+(p*24|0)+16>>2]=0.0;else{g=+G(+v);if(!(m>=0.0))m=2.356194496154785-(m+g)/(g-m)*.7853981852531433;else m=.7853981852531433-(m-g)/(m+g)*.7853981852531433;l[n+(p*24|0)+16>>2]=v<0.0?-m:m}p=p+1|0}while((p|0)<(c|0))}o[rt+216>>2]=o[n>>2];o[rt+216+4>>2]=o[n+4>>2];o[rt+216+8>>2]=o[n+8>>2];o[rt+216+12>>2]=o[n+12>>2];IT(rt+56|0,rt+216|0,1,(o[U>>2]|0)+-1|0);c=o[j>>2]|0;o[5637]=(o[5637]|0)+1;n=Jc(43)|0;if(!n)_=0;else{o[(n+4+15&-16)+-4>>2]=n;_=n+4+15&-16}p=o[j>>2]|0;o[_>>2]=o[c>>2];o[_+4>>2]=o[c+4>>2];o[_+8>>2]=o[c+8>>2];o[_+12>>2]=o[c+12>>2];o[_+16>>2]=o[c+16>>2];o[_+20>>2]=o[c+20>>2];o[5637]=(o[5637]|0)+1;n=Jc(67)|0;if(!n)c=0;else{o[(n+4+15&-16)+-4>>2]=n;c=n+4+15&-16}o[c>>2]=o[_>>2];o[c+4>>2]=o[_+4>>2];o[c+8>>2]=o[_+8>>2];o[c+12>>2]=o[_+12>>2];o[c+16>>2]=o[_+16>>2];o[c+20>>2]=o[_+20>>2];if(_|0){o[5638]=(o[5638]|0)+1;Kc(o[_+-4>>2]|0)}Z=c+24|0;o[Z>>2]=o[p+24>>2];o[Z+4>>2]=o[p+24+4>>2];o[Z+8>>2]=o[p+24+8>>2];o[Z+12>>2]=o[p+24+12>>2];o[Z+16>>2]=o[p+24+16>>2];o[Z+20>>2]=o[p+24+20>>2];if((o[U>>2]|0)==2){n=2;p=2}else{e=2;p=2;w=2;n=2;do{t:do{if((e|0)>1){Z=o[j>>2]|0;T=Z+(n*24|0)|0;m=+l[T>>2];g=+l[Z+(n*24|0)+4>>2];b=+l[Z+(n*24|0)+8>>2];while(1){Z=e+-2|0;_=e+-1|0;I=+l[c+(Z*24|0)>>2];D=I-+l[c+(_*24|0)>>2];S=+l[c+(Z*24|0)+4>>2];x=S-+l[c+(_*24|0)+4>>2];ot=+l[c+(Z*24|0)+8>>2];R=ot-+l[c+(_*24|0)+8>>2];if((D*(S-g)-x*(I-m))*k+(B*(x*(ot-b)-R*(S-g))+F*(R*(I-m)-D*(ot-b)))>0.0)break;if((_|0)>1){e=_;p=_}else{e=_;p=_;break t}}do{if((e|0)==(w|0)){C=w<<1;if((w|0)>=(C|0)){e=w;break}if(w){o[5637]=(o[5637]|0)+1;_=Jc((w*48|3)+16|0)|0;if(!_)_=0;else{o[(_+4+15&-16)+-4>>2]=_;_=_+4+15&-16}if((p|0)>0){M=_;e=p;Q=236}}else{M=0;_=0;e=0;Q=236}if((Q|0)==236){Q=0;w=0;do{Z=_+(w*24|0)|0;Y=c+(w*24|0)|0;o[Z>>2]=o[Y>>2];o[Z+4>>2]=o[Y+4>>2];o[Z+8>>2]=o[Y+8>>2];o[Z+12>>2]=o[Y+12>>2];o[Z+16>>2]=o[Y+16>>2];o[Z+20>>2]=o[Y+20>>2];w=w+1|0}while((w|0)!=(e|0));_=M}o[5638]=(o[5638]|0)+1;Kc(o[c+-4>>2]|0);e=p;w=C;c=_}}while(0);e=c+(e*24|0)|0;o[e>>2]=o[T>>2];o[e+4>>2]=o[T+4>>2];o[e+8>>2]=o[T+8>>2];o[e+12>>2]=o[T+12>>2];o[e+16>>2]=o[T+16>>2];o[e+20>>2]=o[T+20>>2];p=p+1|0;e=p}}while(0);if((e|0)==1){M=(o[j>>2]|0)+(n*24|0)|0;do{if((w|0)==1){o[5637]=(o[5637]|0)+1;_=Jc(67)|0;if(!_)e=0;else{o[(_+4+15&-16)+-4>>2]=_;e=_+4+15&-16}if((p|0)<=0){if(!c){_=p;w=2;c=e;break}}else{_=0;do{Z=e+(_*24|0)|0;Y=c+(_*24|0)|0;o[Z>>2]=o[Y>>2];o[Z+4>>2]=o[Y+4>>2];o[Z+8>>2]=o[Y+8>>2];o[Z+12>>2]=o[Y+12>>2];o[Z+16>>2]=o[Y+16>>2];o[Z+20>>2]=o[Y+20>>2];_=_+1|0}while((_|0)!=(p|0))}o[5638]=(o[5638]|0)+1;Kc(o[c+-4>>2]|0);_=p;w=2;c=e}else _=1}while(0);e=c+(_*24|0)|0;o[e>>2]=o[M>>2];o[e+4>>2]=o[M+4>>2];o[e+8>>2]=o[M+8>>2];o[e+12>>2]=o[M+12>>2];o[e+16>>2]=o[M+16>>2];o[e+20>>2]=o[M+20>>2];p=p+1|0;e=p}n=n+1|0}while((n|0)!=(o[U>>2]|0))}Q=278}t:do{if((Q|0)==278){Q=0;if((p|0)>0){E=0;T=0;e=0;n=0;P=0;while(1){A=c+(P*24|0)+20|0;do{if((E|0)==(T|0)){w=T|0?T<<1:1;if((T|0)>=(w|0)){L=e;break}do{if(!w)_=0;else{o[5637]=(o[5637]|0)+1;n=Jc((w<<2|3)+16|0)|0;if(!n){_=0;break}o[(n+4+15&-16)+-4>>2]=n;_=n+4+15&-16}}while(0);if((T|0)<=0){if(e|0)Q=299}else{n=0;do{o[_+(n<<2)>>2]=o[e+(n<<2)>>2];n=n+1|0}while((n|0)!=(T|0));Q=299}if((Q|0)==299){Q=0;o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0);o[rt+20+12>>2]=0}i[rt+20+16>>0]=1;o[rt+20+12>>2]=_;o[rt+20+8>>2]=w;L=_;n=_;T=w}else L=e}while(0);o[L+(E<<2)>>2]=o[A>>2];E=(o[rt+20+4>>2]|0)+1|0;o[rt+20+4>>2]=E;M=o[U>>2]|0;e:do{if((M|0)>0){C=o[j>>2]|0;_=o[A>>2]|0;w=0;while(1){e=C+(w*24|0)+20|0;w=w+1|0;if((o[e>>2]|0)==(_|0))break;if((w|0)>=(M|0))break e}o[e>>2]=-1}}while(0);P=P+1|0;if((P|0)>=(p|0)){E=M;break}else e=L}}else{E=n;n=0}if((E|0)<=0){Q=307;break}w=o[j>>2]|0;M=o[J>>2]|0;C=o[K>>2]|0;if((M|0)>0)A=0;else{Q=307;break}while(1){T=o[w+(A*24|0)+20>>2]|0;if((T|0)!=-1){L=0;do{p=0;while(1){if((o[O+(p<<2)>>2]|0)==(L|0))break;p=p+1|0;if((p|0)>=(N|0)){Q=285;break}}do{if((Q|0)==285){Q=0;p=o[C+(L*36|0)+4>>2]|0;if((p|0)<=0)break;_=o[C+(L*36|0)+12>>2]|0;e=0;do{if((o[_+(e<<2)>>2]|0)==(T|0)){p=1;break t}e=e+1|0}while((e|0)<(p|0))}}while(0);L=L+1|0}while((L|0)<(M|0))}A=A+1|0;if((A|0)>=(E|0)){Q=307;break}}}}while(0);if((Q|0)==307){Q=0;PT((o[t+56>>2]|0)+24|0,rt+20|0);p=0}if(c|0){o[5638]=(o[5638]|0)+1;Kc(o[c+-4>>2]|0)}if(n|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0);o[rt+20+12>>2]=0}n=o[j>>2]|0;if(n|0){if(i[rt+56+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[j>>2]=0}if(p&(N|0)>0){M=0;Q=317}}else if((N|0)>0){M=0;Q=317}if((Q|0)==317)while(1){Q=0;e=o[O+(M<<2)>>2]|0;w=o[K>>2]|0;i[rt+216+16>>0]=1;o[rt+216+12>>2]=0;o[rt+216+4>>2]=0;o[rt+216+8>>2]=0;_=o[w+(e*36|0)+4>>2]|0;if((_|0)>0){o[5637]=(o[5637]|0)+1;n=Jc((_<<2|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}i[rt+216+16>>0]=1;o[rt+216+12>>2]=n;o[rt+216+8>>2]=_;Il(n|0,0,_<<2|0)|0;c=o[w+(e*36|0)+12>>2]|0;o[rt+216+4>>2]=_;p=0;do{o[n+(p<<2)>>2]=o[c+(p<<2)>>2];p=p+1|0}while((p|0)!=(_|0))}else{o[rt+216+4>>2]=_;n=0}o[rt+216+20>>2]=o[w+(e*36|0)+20>>2];o[rt+216+20+4>>2]=o[w+(e*36|0)+20+4>>2];o[rt+216+20+8>>2]=o[w+(e*36|0)+20+8>>2];o[rt+216+20+12>>2]=o[w+(e*36|0)+20+12>>2];PT((o[t+56>>2]|0)+24|0,rt+216|0);if(n|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0);o[rt+216+12>>2]=0}M=M+1|0;if((M|0)>=(N|0))break;else Q=317}if(O|0){o[5638]=(o[5638]|0)+1;Kc(o[O+-4>>2]|0)}if(!d)break}}else u=0;Z=o[t+56>>2]|0;o[Z+64>>2]=0;o[Z+64+4>>2]=0;o[Z+64+8>>2]=0;o[Z+64+12>>2]=0;n=o[Z+28>>2]|0;if((n|0)>0){C=0;c=0;p=0;E=0;A=0;w=0;d=0;L=0;M=0;_=0;T=0;P=0;Y=0;while(1){e=o[Z+36>>2]|0;q=o[e+(Y*36|0)+4>>2]|0;if((q|0)>0){H=Y&65535;X=Y|-65536;z=w;j=M;N=P;n=0;while(1){W=n+1|0;O=o[e+(Y*36|0)+12>>2]|0;w=o[O+(n<<2)>>2]&65535;O=o[O+(((W|0)==(q|0)?0:W)<<2)>>2]&65535;U=O<<16>>16>w<<16>>16?w:O;t=O<<16>>16>w<<16>>16?O:w;e=O<<16>>16>w<<16>>16?w:O;w=O<<16>>16>w<<16>>16?O:w;O=j+-1|0;t:do{if((((e&65535)<<16)+(w<<16>>16)&O)>>>0<E>>>0?($=o[p+((((e&65535)<<16)+(w<<16>>16)&O)<<2)>>2]|0,($|0)!=-1):0){n=$;while(1){if(w<<16>>16==(r[c+(n<<2)>>1]|0)?e<<16>>16==(r[c+(n<<2)+2>>1]|0):0)break;n=o[d+(n<<2)>>2]|0;if((n|0)==-1){P=0;break t}}P=_+(n<<2)|0}else P=0}while(0);n=o[Z+16>>2]|0;y=+l[n+(e<<16>>16<<4)>>2]-+l[n+(w<<16>>16<<4)>>2];x=+l[n+(e<<16>>16<<4)+4>>2]-+l[n+(w<<16>>16<<4)+4>>2];b=+l[n+(e<<16>>16<<4)+8>>2]-+l[n+(w<<16>>16<<4)+8>>2];v=1.0/+V(+(y*y+x*x+b*b));n=o[Z+48>>2]|0;t:do{if((n|0)>0){e=o[Z+56>>2]|0;w=0;while(1){m=+l[e+(w<<4)>>2];g=+l[e+(w<<4)+8>>2];do{if(!(+G(+(m-y*v))>1.0e-06)){if(+G(+(+l[e+(w<<4)+4>>2]-x*v))>1.0e-06)break;if(!(+G(+(g-b*v))>1.0e-06))break t}}while(0);do{if(!(+G(+(y*v+m))>1.0e-06)){if(+G(+(x*v+ +l[e+(w<<4)+4>>2]))>1.0e-06)break;if(!(+G(+(b*v+g))>1.0e-06))break t}}while(0);w=w+1|0;if((w|0)>=(n|0)){Q=353;break}}}else Q=353}while(0);if((Q|0)==353){Q=0;do{if((n|0)==(o[Z+52>>2]|0)){M=n|0?n<<1:1;if((n|0)>=(M|0))break;if(!M)w=0;else{o[5637]=(o[5637]|0)+1;n=Jc((M<<4|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}w=n;n=o[Z+48>>2]|0}if((n|0)>0){e=0;do{st=w+(e<<4)|0;at=(o[Z+56>>2]|0)+(e<<4)|0;o[st>>2]=o[at>>2];o[st+4>>2]=o[at+4>>2];o[st+8>>2]=o[at+8>>2];o[st+12>>2]=o[at+12>>2];e=e+1|0}while((e|0)!=(n|0))}n=o[Z+56>>2]|0;if(n|0){if(i[Z+60>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[Z+56>>2]=0}i[Z+60>>0]=1;o[Z+56>>2]=w;o[Z+52>>2]=M;n=o[Z+48>>2]|0}}while(0);at=o[Z+56>>2]|0;l[at+(n<<4)>>2]=y*v;l[at+(n<<4)+4>>2]=x*v;l[at+(n<<4)+8>>2]=b*v;l[at+(n<<4)+12>>2]=0.0;o[Z+48>>2]=(o[Z+48>>2]|0)+1}t:do{if(!P){n=((U&65535)<<16)+(t<<16>>16)&O;e:do{if(n>>>0<E>>>0){e=o[p+(n<<2)>>2]|0;if((e|0)==-1)break;while(1){if(t<<16>>16==(r[c+(e<<2)>>1]|0)?U<<16>>16==(r[c+(e<<2)+2>>1]|0):0)break;e=o[d+(e<<2)>>2]|0;if((e|0)==-1)break e}w=_+(e<<2)|0;r[w>>1]=X;r[w+2>>1]=X>>>16;w=z;M=j;P=N;break t}}while(0);do{if((L|0)==(j|0)){M=L|0?L<<1:1;if((L|0)>=(M|0)){M=L;break}do{if(!M)w=0;else{o[5637]=(o[5637]|0)+1;e=Jc((M<<2|3)+16|0)|0;if(!e){w=0;break}o[(e+4+15&-16)+-4>>2]=e;w=e+4+15&-16}}while(0);if((L|0)<=0){if(!_){_=w;break}}else{e=0;do{at=w+(e<<2)|0;st=_+(e<<2)|0;st=a[st>>1]|a[st+2>>1]<<16;r[at>>1]=st;r[at+2>>1]=st>>>16;e=e+1|0}while((e|0)!=(L|0))}o[5638]=(o[5638]|0)+1;Kc(o[_+-4>>2]|0);_=w}else M=j}while(0);O=_+(L<<2)|0;r[O>>1]=X;r[O+2>>1]=X>>>16;O=L+1|0;do{if((N|0)==(C|0)){C=N|0?N<<1:1;if((N|0)>=(C|0)){C=N;break}do{if(!C)w=0;else{o[5637]=(o[5637]|0)+1;e=Jc((C<<2|3)+16|0)|0;if(!e){w=0;break}o[(e+4+15&-16)+-4>>2]=e;w=e+4+15&-16}}while(0);if((N|0)<=0){if(!c){c=w;break}}else{e=0;do{at=w+(e<<2)|0;st=c+(e<<2)|0;st=a[st>>1]|a[st+2>>1]<<16;r[at>>1]=st;r[at+2>>1]=st>>>16;e=e+1|0}while((e|0)!=(N|0))}o[5638]=(o[5638]|0)+1;Kc(o[c+-4>>2]|0);c=w}}while(0);P=c+(N<<2)|0;r[P>>1]=(U&65535)<<16|t&65535;r[P+2>>1]=((U&65535)<<16|t&65535)>>>16;P=N+1|0;if((j|0)<(M|0)){do{if((M|0)>(E|0)){if((M|0)>=(E|0)){do{if((T|0)<(M|0)){do{if(!M)n=0;else{o[5637]=(o[5637]|0)+1;n=Jc((M<<2|3)+16|0)|0;if(!n){n=0;break}o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}}while(0);if((E|0)<=0){if(!p){p=n;n=M;break}}else{e=0;do{o[n+(e<<2)>>2]=o[p+(e<<2)>>2];e=e+1|0}while((e|0)!=(E|0))}o[5638]=(o[5638]|0)+1;Kc(o[p+-4>>2]|0);p=n;n=M}else n=T}while(0);Il(p+(E<<2)|0,0,M-E<<2|0)|0;T=n}if((M|0)>(A|0)){do{if((z|0)<(M|0)){do{if(!M)e=0;else{o[5637]=(o[5637]|0)+1;n=Jc((M<<2|3)+16|0)|0;if(!n){e=0;break}o[(n+4+15&-16)+-4>>2]=n;e=n+4+15&-16}}while(0);if((A|0)<=0){if(!d){n=M;d=e;break}}else{n=0;do{o[e+(n<<2)>>2]=o[d+(n<<2)>>2];n=n+1|0}while((n|0)!=(A|0))}o[5638]=(o[5638]|0)+1;Kc(o[d+-4>>2]|0);n=M;d=e}else n=z}while(0);Il(d+(A<<2)|0,0,M-A<<2|0)|0;w=n}else w=z;if((M|0)>0){at=M<<2;Il(p|0,-1,at|0)|0;Il(d|0,-1,at|0)|0}if((E|0)<=0){e=M;A=M;n=T;break}n=M+-1|0;e=0;do{at=p+(((a[c+(e<<2)+2>>1]<<16)+(r[c+(e<<2)>>1]|0)&n)<<2)|0;o[d+(e<<2)>>2]=o[at>>2];o[at>>2]=e;e=e+1|0}while((e|0)!=(E|0));e=M;A=M;n=T}else{e=E;w=z;n=T}}while(0);T=n;n=((U&65535)<<16)+(t<<16>>16)&M+-1}else{e=E;w=z}E=p+(n<<2)|0;o[d+(L<<2)>>2]=o[E>>2];o[E>>2]=L;E=e;L=O}else{r[P+2>>1]=H;w=z;M=j;P=N}}while(0);if((W|0)>=(q|0))break;e=o[Z+36>>2]|0;z=w;j=M;N=P;n=W}n=o[Z+28>>2]|0;e=P}else e=P;Y=Y+1|0;if((Y|0)>=(n|0))break;else P=e}if((n|0)>0){T=o[Z+36>>2]|0;A=o[Z+16>>2]|0;m=0.0;L=0;do{w=o[T+(L*36|0)+4>>2]|0;M=o[T+(L*36|0)+12>>2]|0;C=o[M>>2]|0;if((w+-2|0)>=1){g=+l[Z+64>>2];b=+l[Z+68>>2];v=+l[Z+72>>2];e=1;do{st=o[M+(e<<2)>>2]|0;e=e+1|0;at=o[M+(((e|0)%(w|0)|0)<<2)>>2]|0;y=+l[A+(C<<4)>>2];x=+l[A+(st<<4)>>2];R=+l[A+(C<<4)+4>>2];I=+l[A+(st<<4)+4>>2];k=+l[A+(C<<4)+8>>2];F=+l[A+(st<<4)+8>>2];S=+l[A+(at<<4)>>2];D=+l[A+(at<<4)+4>>2];B=+l[A+(at<<4)+8>>2];ot=+V(+(((y-x)*(R-D)-(R-I)*(y-S))*((y-x)*(R-D)-(R-I)*(y-S))+(((R-I)*(k-B)-(k-F)*(R-D))*((R-I)*(k-B)-(k-F)*(R-D))+((k-F)*(y-S)-(y-x)*(k-B))*((k-F)*(y-S)-(y-x)*(k-B)))))*.5;g=g+(y+x+S)*.3333333432674408*ot;l[Z+64>>2]=g;b=(R+I+D)*.3333333432674408*ot+b;l[Z+68>>2]=b;v=ot*((k+F+B)*.3333333432674408)+v;l[Z+72>>2]=v;m=m+ot}while((e|0)!=(w+-1|0))}L=L+1|0}while((L|0)!=(n|0));e=Z+64|0;w=1;C=c;M=p}else Q=332}else{c=0;p=0;d=0;_=0;Q=332}if((Q|0)==332){e=Z+64|0;w=0;m=0.0;C=c;M=p}v=1.0/m;y=v*+l[e>>2];l[e>>2]=y;b=v*+l[Z+68>>2];l[Z+68>>2]=b;v=v*+l[Z+72>>2];l[Z+72>>2]=v;l[Z+96>>2]=3402823466385288598117041.0e14;if(w){c=o[Z+36>>2]|0;g=3402823466385288598117041.0e14;p=0;while(1){m=+G(+(+l[c+(p*36|0)+32>>2]+(+l[c+(p*36|0)+20>>2]*y+ +l[c+(p*36|0)+24>>2]*b+ +l[c+(p*36|0)+28>>2]*v)));if(m<g)l[Z+96>>2]=m;else m=g;p=p+1|0;if((p|0)>=(n|0))break;else g=m}}else m=3402823466385288598117041.0e14;n=o[Z+8>>2]|0;if((n|0)>0){c=o[Z+16>>2]|0;S=-3402823466385288598117041.0e14;x=-3402823466385288598117041.0e14;y=-3402823466385288598117041.0e14;v=3402823466385288598117041.0e14;b=3402823466385288598117041.0e14;g=3402823466385288598117041.0e14;p=0;do{ot=+l[c+(p<<4)>>2];v=ot<v?ot:v;S=ot>S?ot:S;ot=+l[c+(p<<4)+4>>2];b=ot<b?ot:b;x=ot>x?ot:x;ot=+l[c+(p<<4)+8>>2];g=ot<g?ot:g;y=ot>y?ot:y;p=p+1|0}while((p|0)!=(n|0))}else{S=-3402823466385288598117041.0e14;x=-3402823466385288598117041.0e14;y=-3402823466385288598117041.0e14;v=3402823466385288598117041.0e14;b=3402823466385288598117041.0e14;g=3402823466385288598117041.0e14}l[Z+100>>2]=S+v;l[Z+104>>2]=b+x;l[Z+108>>2]=g+y;l[Z+112>>2]=0.0;ot=S-v;B=x-b;g=y-g;l[Z+116>>2]=ot;l[Z+120>>2]=B;l[Z+124>>2]=g;l[Z+128>>2]=0.0;b=m/1.7320507764816284;e=ot<B?B<g?2:1:ot<g?2:0;m=(+l[Z+116+(e<<2)>>2]*.5-b)*.0009765625;l[Z+88>>2]=b;l[Z+84>>2]=b;l[Z+80>>2]=b;g=+l[Z+116+(e<<2)>>2]*.5;l[Z+80+(e<<2)>>2]=g;n=0;while(1){if(SC(Z)|0){Q=440;break}g=g-m;l[Z+80+(e<<2)>>2]=g;n=n+1|0;if((n|0)>=1024){Q=439;break}}t:do{if((Q|0)==439){l[Z+88>>2]=b;l[Z+84>>2]=b;l[Z+80>>2]=b}else if((Q|0)==440){m=(+l[Z+96>>2]-b)*.0009765625;c=o[Z+80+((1<<(1<<e&3)&3)<<2)>>2]|0;p=0;while(1){n=o[Z+80+((1<<e&3)<<2)>>2]|0;l[Z+80+((1<<e&3)<<2)>>2]=m+(o[f>>2]=n,+l[f>>2]);g=m+ +l[Z+80+((1<<(1<<e&3)&3)<<2)>>2];l[Z+80+((1<<(1<<e&3)&3)<<2)>>2]=g;p=p+1|0;if(!(SC(Z)|0))break;if((p|0)>=1024)break t;else c=(l[f>>2]=g,o[f>>2]|0)}o[Z+80+((1<<e&3)<<2)>>2]=n;o[Z+80+((1<<(1<<e&3)&3)<<2)>>2]=c}}while(0);if(C|0){o[5638]=(o[5638]|0)+1;Kc(o[C+-4>>2]|0)}if(_|0){o[5638]=(o[5638]|0)+1;Kc(o[_+-4>>2]|0)}if(d|0){o[5638]=(o[5638]|0)+1;Kc(o[d+-4>>2]|0)}if(M|0){o[5638]=(o[5638]|0)+1;Kc(o[M+-4>>2]|0)}if(u|0){o[5638]=(o[5638]|0)+1;Kc(o[u+-4>>2]|0)}_=o[J>>2]|0;e=o[K>>2]|0;if((_|0)<=0){if(e|0)Q=461}else{d=0;do{c=e+(d*36|0)+4|0;u=e+(d*36|0)+12|0;p=o[u>>2]|0;n=e+(d*36|0)+16|0;if(p|0){if(i[n>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[p+-4>>2]|0)}o[u>>2]=0}i[n>>0]=1;o[u>>2]=0;o[c>>2]=0;o[e+(d*36|0)+8>>2]=0;d=d+1|0}while((d|0)!=(_|0));Q=461}if((Q|0)==461){if(i[rt+96+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[K>>2]=0}if(s|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0)}n=o[tt>>2]|0;if(n|0){if(i[rt+136+56>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[tt>>2]=0}i[rt+136+56>>0]=1;o[tt>>2]=0;o[rt+136+44>>2]=0;o[rt+136+48>>2]=0;n=o[et>>2]|0;if(n|0){if(i[rt+136+36>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[et>>2]=0}i[rt+136+36>>0]=1;o[et>>2]=0;o[rt+136+24>>2]=0;o[rt+136+28>>2]=0;n=o[nt>>2]|0;if(n|0){if(i[rt+136+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[nt>>2]=0}if(!it){h=rt;return 1}o[5638]=(o[5638]|0)+1;Kc(o[it+-4>>2]|0);h=rt;return 1}function RT(t,e){t=t|0;e=e|0;var n=0,r=0,s=0,a=0,c=0,l=0,u=0,h=0,p=0,f=0,d=0;if((o[t+8>>2]|0)>=(e|0))return;if((e|0)!=0?(o[5637]=(o[5637]|0)+1,n=Jc((e*36|3)+16|0)|0,(n|0)!=0):0){o[(n+4+15&-16)+-4>>2]=n;d=n+4+15&-16}else d=0;c=o[t+4>>2]|0;if((c|0)>0){p=0;do{l=d+(p*36|0)|0;u=o[t+12>>2]|0;i[l+16>>0]=1;o[l+12>>2]=0;o[l+4>>2]=0;o[l+8>>2]=0;h=o[u+(p*36|0)+4>>2]|0;if((h|0)>0){o[5637]=(o[5637]|0)+1;n=Jc((h<<2|3)+16|0)|0;if(!n)a=0;else{o[(n+4+15&-16)+-4>>2]=n;a=n+4+15&-16}s=o[l+4>>2]|0;r=o[l+12>>2]|0;if((s|0)<=0)if(!r){i[l+16>>0]=1;o[l+12>>2]=a;o[l+8>>2]=h;Il(a|0,0,h<<2|0)|0}else f=14;else{n=0;do{o[a+(n<<2)>>2]=o[r+(n<<2)>>2];n=n+1|0}while((n|0)!=(s|0));f=14}if((f|0)==14){f=0;if(i[l+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0)}i[l+16>>0]=1;o[l+12>>2]=a;o[l+8>>2]=h;Il(a|0,0,h<<2|0)|0}n=o[l+12>>2]|0;o[l+4>>2]=h;r=o[u+(p*36|0)+12>>2]|0;s=0;do{o[n+(s<<2)>>2]=o[r+(s<<2)>>2];s=s+1|0}while((s|0)!=(h|0))}else o[l+4>>2]=h;h=u+(p*36|0)+20|0;o[l+20>>2]=o[h>>2];o[l+20+4>>2]=o[h+4>>2];o[l+20+8>>2]=o[h+8>>2];o[l+20+12>>2]=o[h+12>>2];p=p+1|0}while((p|0)!=(c|0));n=o[t+4>>2]|0;if((n|0)>0){u=0;do{s=o[t+12>>2]|0;a=s+(u*36|0)+4|0;c=s+(u*36|0)+12|0;l=o[c>>2]|0;r=s+(u*36|0)+16|0;if(l|0){if(i[r>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[l+-4>>2]|0)}o[c>>2]=0}i[r>>0]=1;o[c>>2]=0;o[a>>2]=0;o[s+(u*36|0)+8>>2]=0;u=u+1|0}while((u|0)!=(n|0))}}n=o[t+12>>2]|0;if(n|0){if(i[t+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[t+12>>2]=0}i[t+16>>0]=1;o[t+12>>2]=d;o[t+8>>2]=e;return}function IT(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0,s=0,a=0.0,c=0.0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0,b=0,v=0.0,y=0.0,x=0.0,w=0,S=0;w=h;h=h+32|0;b=o[t+12>>2]|0;v=+l[b+(((i+n|0)/2|0)*24|0)>>2];y=+l[b+(((i+n|0)/2|0)*24|0)+4>>2];x=+l[b+(((i+n|0)/2|0)*24|0)+8>>2];m=+l[b+(((i+n|0)/2|0)*24|0)+16>>2];g=o[b+(((i+n|0)/2|0)*24|0)+20>>2]|0;r=n;s=i;while(1){p=+l[e>>2];f=+l[e+4>>2];d=+l[e+8>>2];_=(v-p)*(v-p)+(y-f)*(y-f)+(x-d)*(x-d);t:while(1){a=+l[b+(r*24|0)+16>>2];do{if(a!=m){if(!(a<m))break t}else{a=+l[b+(r*24|0)>>2]-p;c=+l[b+(r*24|0)+4>>2]-f;u=+l[b+(r*24|0)+8>>2]-d;if(a*a+c*c+u*u!=_)if(a*a+c*c+u*u<_)break;else break t;else if((o[b+(r*24|0)+20>>2]|0)<(g|0))break;else break t}}while(0);r=r+1|0}t:while(1){a=+l[b+(s*24|0)+16>>2];do{if(m!=a){if(!(m<a))break t}else{a=+l[b+(s*24|0)>>2]-p;c=+l[b+(s*24|0)+4>>2]-f;u=+l[b+(s*24|0)+8>>2]-d;if(_!=a*a+c*c+u*u)if(_<a*a+c*c+u*u)break;else break t;else if((g|0)<(o[b+(s*24|0)+20>>2]|0))break;else break t}}while(0);s=s+-1|0}if((r|0)<=(s|0)){S=b+(r*24|0)|0;o[w>>2]=o[S>>2];o[w+4>>2]=o[S+4>>2];o[w+8>>2]=o[S+8>>2];o[w+12>>2]=o[S+12>>2];o[w+16>>2]=o[S+16>>2];o[w+20>>2]=o[S+20>>2];b=b+(s*24|0)|0;o[S>>2]=o[b>>2];o[S+4>>2]=o[b+4>>2];o[S+8>>2]=o[b+8>>2];o[S+12>>2]=o[b+12>>2];o[S+16>>2]=o[b+16>>2];o[S+20>>2]=o[b+20>>2];b=(o[t+12>>2]|0)+(s*24|0)|0;o[b>>2]=o[w>>2];o[b+4>>2]=o[w+4>>2];o[b+8>>2]=o[w+8>>2];o[b+12>>2]=o[w+12>>2];o[b+16>>2]=o[w+16>>2];o[b+20>>2]=o[w+20>>2];r=r+1|0;s=s+-1|0}if((r|0)>(s|0))break;b=o[t+12>>2]|0}if((s|0)>(n|0))IT(t,e,n,s);if((r|0)>=(i|0)){h=w;return}IT(t,e,r,i);h=w;return}function PT(t,e){t=t|0;e=e|0;var n=0,r=0,s=0,a=0,c=0,l=0,u=0;n=o[t+4>>2]|0;if((n|0)==(o[t+8>>2]|0)){RT(t,n|0?n<<1:1);n=o[t+4>>2]|0}l=(o[t+12>>2]|0)+(n*36|0)|0;i[l+16>>0]=1;o[l+12>>2]=0;o[l+4>>2]=0;o[l+8>>2]=0;u=o[e+4>>2]|0;if((u|0)<=0){o[l+4>>2]=u;u=l+20|0;e=e+20|0;o[u>>2]=o[e>>2];o[u+4>>2]=o[e+4>>2];o[u+8>>2]=o[e+8>>2];o[u+12>>2]=o[e+12>>2];e=o[t+4>>2]|0;e=e+1|0;o[t+4>>2]=e;return}o[5637]=(o[5637]|0)+1;n=Jc((u<<2|3)+16|0)|0;if(!n)a=0;else{o[(n+4+15&-16)+-4>>2]=n;a=n+4+15&-16}s=o[l+4>>2]|0;r=o[l+12>>2]|0;if((s|0)<=0)if(!r){i[l+16>>0]=1;o[l+12>>2]=a;o[l+8>>2]=u;Il(a|0,0,u<<2|0)|0}else c=11;else{n=0;do{o[a+(n<<2)>>2]=o[r+(n<<2)>>2];n=n+1|0}while((n|0)!=(s|0));c=11}if((c|0)==11){if(i[l+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0)}i[l+16>>0]=1;o[l+12>>2]=a;o[l+8>>2]=u;Il(a|0,0,u<<2|0)|0}n=o[l+12>>2]|0;o[l+4>>2]=u;r=o[e+12>>2]|0;s=0;do{o[n+(s<<2)>>2]=o[r+(s<<2)>>2];s=s+1|0}while((s|0)!=(u|0));u=l+20|0;e=e+20|0;o[u>>2]=o[e>>2];o[u+4>>2]=o[e+4>>2];o[u+8>>2]=o[e+8>>2];o[u+12>>2]=o[e+12>>2];e=o[t+4>>2]|0;e=e+1|0;o[t+4>>2]=e;return}function DT(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0;d=+wk[o[(o[t>>2]|0)+48>>2]&15](t);y=+l[t+76>>2];v=+l[t+60>>2];g=+l[t+80>>2];m=+l[t+64>>2];f=+l[t+84>>2];p=+l[t+68>>2];R=+l[e>>2];M=+G(+R);E=+l[e+4>>2];S=+G(+E);u=+l[e+8>>2];h=+G(+u);L=+l[e+16>>2];w=+G(+L);A=+l[e+20>>2];x=+G(+A);a=+l[e+24>>2];c=+G(+a);T=+l[e+32>>2];b=+G(+T);C=+l[e+36>>2];_=+G(+C);r=+l[e+40>>2];s=+G(+r);u=(y+v)*.5*R+(g+m)*.5*E+(f+p)*.5*u+ +l[e+48>>2];a=(y+v)*.5*L+(g+m)*.5*A+(f+p)*.5*a+ +l[e+52>>2];r=(y+v)*.5*T+(g+m)*.5*C+(f+p)*.5*r+ +l[e+56>>2];h=(d+(y-v)*.5)*M+(d+(g-m)*.5)*S+(d+(f-p)*.5)*h;c=(d+(y-v)*.5)*w+(d+(g-m)*.5)*x+(d+(f-p)*.5)*c;s=(d+(y-v)*.5)*b+(d+(g-m)*.5)*_+(d+(f-p)*.5)*s;l[n>>2]=u-h;l[n+4>>2]=a-c;l[n+8>>2]=r-s;l[n+12>>2]=0.0;l[i>>2]=h+u;l[i+4>>2]=c+a;l[i+8>>2]=s+r;l[i+12>>2]=0.0;return}function kT(t){t=t|0;var e=0,n=0,r=0,s=0.0;n=h;h=h+96|0;i[t+92>>0]=1;if(!(i[19840]|0)){i[19840]=1;o[4993]=1065353216;o[4994]=0;o[4995]=0;o[4996]=0;o[4997]=0;o[4998]=1065353216;o[4999]=0;o[5e3]=0;o[5001]=0;o[5002]=0;o[5003]=1065353216;l[5004]=0.0;o[5005]=-1082130432;o[5006]=0;o[5007]=0;o[5008]=0;o[5009]=0;o[5010]=-1082130432;o[5011]=0;o[5012]=0;o[5013]=0;o[5014]=0;o[5015]=-1082130432;l[5016]=0.0}e=n;r=e+96|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(r|0));Wk[o[(o[t>>2]|0)+76>>2]&127](t,19972,n,6);s=+l[t+48>>2];l[t+76>>2]=+l[n>>2]+s;l[t+60>>2]=+l[n+48>>2]-s;l[t+80>>2]=+l[n+20>>2]+s;l[t+64>>2]=+l[n+68>>2]-s;l[t+84>>2]=+l[n+40>>2]+s;l[t+68>>2]=+l[n+88>>2]-s;h=n;return}function OT(t){t=t|0;if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function NT(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0.0,s=0.0,a=0.0,c=0.0,u=0.0;a=+wk[o[(o[t>>2]|0)+48>>2]&15](t);s=+wk[o[(o[t>>2]|0)+48>>2]&15](t);r=+wk[o[(o[t>>2]|0)+48>>2]&15](t);u=+l[e+52>>2]-s;c=+l[e+56>>2]-r;l[n>>2]=+l[e+48>>2]-a;l[n+4>>2]=u;l[n+8>>2]=c;l[n+12>>2]=0.0;s=s+ +l[e+52>>2];r=r+ +l[e+56>>2];l[i>>2]=a+ +l[e+48>>2];l[i+4>>2]=s;l[i+8>>2]=r;l[i+12>>2]=0.0;return}function FT(t,e,n){t=t|0;e=+e;n=n|0;e=e*.4000000059604645*+wk[o[(o[t>>2]|0)+48>>2]&15](t);e=e*+wk[o[(o[t>>2]|0)+48>>2]&15](t);l[n>>2]=e;l[n+4>>2]=e;l[n+8>>2]=e;l[n+12>>2]=0.0;return}function BT(t){t=t|0;return 13962}function jT(t,e){t=t|0;e=+e;l[t+48>>2]=e;return}function UT(t){t=t|0;return+(+l[t+32>>2]*+l[t+16>>2])}function zT(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0.0,s=0.0,a=0.0,c=0.0,u=0.0;i=h;h=h+16|0;Uk[o[(o[e>>2]|0)+68>>2]&127](i,e,n);o[t>>2]=o[i>>2];o[t+4>>2]=o[i+4>>2];o[t+8>>2]=o[i+8>>2];o[t+12>>2]=o[i+12>>2];a=+l[n>>2];s=+l[n+4>>2];r=+l[n+8>>2];u=a*a+s*s+r*r<1.4210854715202004e-14?-1.0:a;c=a*a+s*s+r*r<1.4210854715202004e-14?-1.0:s;r=a*a+s*s+r*r<1.4210854715202004e-14?-1.0:r;s=1.0/+V(+(r*r+(u*u+c*c)));a=+wk[o[(o[e>>2]|0)+48>>2]&15](e);l[t>>2]=+l[t>>2]+a*(s*u);l[t+4>>2]=a*(s*c)+ +l[t+4>>2];l[t+8>>2]=a*(s*r)+ +l[t+8>>2];h=i;return}function GT(t,e,n){t=t|0;e=e|0;n=n|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;return}function VT(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;if((i|0)>0)t=0;else return;do{e=n+(t<<4)|0;t=t+1|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0}while((t|0)!=(i|0));return}function WT(t){t=t|0;return}function HT(t){t=t|0;if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function XT(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;o[n>>2]=-581039253;o[n+4>>2]=-581039253;o[n+8>>2]=-581039253;l[n+12>>2]=0.0;o[i>>2]=1566444395;o[i+4>>2]=1566444395;o[i+8>>2]=1566444395;l[i+12>>2]=0.0;return}function qT(t,e){t=t|0;e=e|0;o[t+72>>2]=o[e>>2];o[t+72+4>>2]=o[e+4>>2];o[t+72+8>>2]=o[e+8>>2];o[t+72+12>>2]=o[e+12>>2];return}function YT(t){t=t|0;return t+72|0}function ZT(t,e,n){t=t|0;e=+e;n=n|0;o[n>>2]=0;o[n+4>>2]=0;o[n+8>>2]=0;o[n+12>>2]=0;return}function JT(t){t=t|0;return 13990}function KT(t){t=t|0;return 52}function $T(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0;i=Ek[o[(o[n>>2]|0)+40>>2]&31](n,t)|0;r=Ek[o[(o[n>>2]|0)+28>>2]&31](n,i)|0;o[e>>2]=r;if(r|0)ck[o[(o[n>>2]|0)+48>>2]&127](n,i);o[e+4>>2]=o[t+4>>2];o[e+12>>2]=o[t+72>>2];o[e+16>>2]=o[t+76>>2];o[e+20>>2]=o[t+80>>2];o[e+24>>2]=o[t+84>>2];o[e+28>>2]=o[t+52>>2];o[e+32>>2]=o[t+56>>2];o[e+36>>2]=o[t+60>>2];o[e+40>>2]=o[t+64>>2];o[e+44>>2]=o[t+68>>2];return 14002}function QT(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0,M=0.0;S=h;h=h+48|0;v=+l[i>>2];y=+l[n>>2];x=+l[i+4>>2];w=+l[n+4>>2];b=+l[i+8>>2];s=+l[n+8>>2];a=+V(+((v-y)*.5*((v-y)*.5)+(x-w)*.5*((x-w)*.5)+(b-s)*.5*((b-s)*.5)));c=+l[t+60>>2];n=+G(+c)>.7071067690849304;u=+l[t+56>>2];if(n){g=1.0/+V(+(c*c+u*u));M=+l[t+52>>2];r=M*-(c*g);p=M;f=0.0;d=-(c*g);_=u*g;m=(c*c+u*u)*g;g=-(M*(u*g))}else{m=+l[t+52>>2];g=1.0/+V(+(m*m+u*u));r=(m*m+u*u)*g;p=m;f=-(u*g);d=m*g;_=0.0;m=-(c*(m*g));g=c*-(u*g)}M=(v+y)*.5*p+(x+w)*.5*u+(b+s)*.5*c-+l[t+68>>2];p=(v+y)*.5-p*M;f=a*f;d=a*d;y=a*_;m=a*m;g=a*g;v=a*r;l[S>>2]=m+(f+p);l[S+4>>2]=g+(d+((x+w)*.5-u*M));l[S+8>>2]=v+(y+((b+s)*.5-c*M));l[S+12>>2]=0.0;l[S+16>>2]=f+p-m;l[S+20>>2]=d+((x+w)*.5-u*M)-g;l[S+24>>2]=y+((b+s)*.5-c*M)-v;l[S+28>>2]=0.0;l[S+32>>2]=p-f-m;l[S+36>>2]=(x+w)*.5-u*M-d-g;l[S+40>>2]=(b+s)*.5-c*M-y-v;l[S+44>>2]=0.0;Wk[o[(o[e>>2]|0)+8>>2]&127](e,S,0,0);l[S>>2]=p-f-m;l[S+4>>2]=(x+w)*.5-u*M-d-g;l[S+8>>2]=(b+s)*.5-c*M-y-v;l[S+12>>2]=0.0;l[S+16>>2]=m+(p-f);l[S+20>>2]=g+((x+w)*.5-u*M-d);l[S+24>>2]=v+((b+s)*.5-c*M-y);l[S+28>>2]=0.0;l[S+32>>2]=m+(f+p);l[S+36>>2]=g+(d+((x+w)*.5-u*M));l[S+40>>2]=v+(y+((b+s)*.5-c*M));l[S+44>>2]=0.0;Wk[o[(o[e>>2]|0)+8>>2]&127](e,S,0,1);h=S;return}function tA(t,e,n,r,s){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;var a=0.0,c=0.0,u=0.0,h=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0;y=i[s+16>>0]&-16;i[s+16>>0]=y;w=+l[n>>2];S=+l[e>>2];M=+l[n+4>>2];C=+l[e+4>>2];m=+l[n+8>>2];g=+l[e+8>>2];b=+l[r>>2];v=+l[r+4>>2];x=+l[r+8>>2];p=+l[t>>2];f=+l[t+4>>2];a=+l[t+8>>2];d=(w-S)*(p-S)+(M-C)*(f-C)+(m-g)*(a-g);_=(b-S)*(p-S)+(v-C)*(f-C)+(x-g)*(a-g);if(d<=0.0&_<=0.0){o[s>>2]=o[e>>2];o[s+4>>2]=o[e+4>>2];o[s+8>>2]=o[e+8>>2];o[s+12>>2]=o[e+12>>2];i[s+16>>0]=y|1;l[s+20>>2]=1.0;l[s+24>>2]=0.0;l[s+28>>2]=0.0;l[s+32>>2]=0.0;return}u=(w-S)*(p-w)+(M-C)*(f-M)+(m-g)*(a-m);h=(b-S)*(p-w)+(v-C)*(f-M)+(x-g)*(a-m);if(!(!(u>=0.0)|!(h<=u))){o[s>>2]=o[n>>2];o[s+4>>2]=o[n+4>>2];o[s+8>>2]=o[n+8>>2];o[s+12>>2]=o[n+12>>2];i[s+16>>0]=y|2;l[s+20>>2]=0.0;l[s+24>>2]=1.0;l[s+28>>2]=0.0;l[s+32>>2]=0.0;return}if(u<=0.0&(d>=0.0?d*h-u*_<=0.0:0)){l[s>>2]=S+(w-S)*(d/(d-u));l[s+4>>2]=C+(M-C)*(d/(d-u));l[s+8>>2]=g+(m-g)*(d/(d-u));l[s+12>>2]=0.0;i[s+16>>0]=y|3;l[s+20>>2]=1.0-d/(d-u);l[s+24>>2]=d/(d-u);l[s+28>>2]=0.0;l[s+32>>2]=0.0;return}c=(w-S)*(p-b)+(M-C)*(f-v)+(m-g)*(a-x);a=(b-S)*(p-b)+(v-C)*(f-v)+(x-g)*(a-x);if(!(!(a>=0.0)|!(c<=a))){o[s>>2]=o[r>>2];o[s+4>>2]=o[r+4>>2];o[s+8>>2]=o[r+8>>2];o[s+12>>2]=o[r+12>>2];i[s+16>>0]=y|4;l[s+20>>2]=0.0;l[s+24>>2]=0.0;l[s+28>>2]=1.0;l[s+32>>2]=0.0;return}if(a<=0.0&(_>=0.0?c*_-d*a<=0.0:0)){l[s>>2]=S+(b-S)*(_/(_-a));l[s+4>>2]=C+(v-C)*(_/(_-a));l[s+8>>2]=g+(x-g)*(_/(_-a));l[s+12>>2]=0.0;i[s+16>>0]=y|5;l[s+20>>2]=1.0-_/(_-a);l[s+24>>2]=0.0;l[s+28>>2]=_/(_-a);l[s+32>>2]=0.0;return}if((u*a-c*h<=0.0?h-u>=0.0:0)?c-a>=0.0:0){C=(h-u)/(h-u+(c-a));l[s>>2]=w+(b-w)*C;l[s+4>>2]=M+(v-M)*C;l[s+8>>2]=m+(x-m)*C;l[s+12>>2]=0.0;i[s+16>>0]=y|6;l[s+20>>2]=0.0;l[s+24>>2]=1.0-C;l[s+28>>2]=C;l[s+32>>2]=0.0;return}p=1.0/(d*h-u*_+(u*a-c*h+(c*_-d*a)));f=(c*_-d*a)*p;_=(d*h-u*_)*p;l[s>>2]=(b-S)*_+((w-S)*f+S);l[s+4>>2]=(v-C)*_+((M-C)*f+C);l[s+8>>2]=(x-g)*_+((m-g)*f+g);l[s+12>>2]=0.0;i[s+16>>0]=y|7;l[s+20>>2]=1.0-f-_;l[s+24>>2]=f;l[s+28>>2]=_;l[s+32>>2]=0.0;return}function eA(t){t=t|0;var e=0;o[t>>2]=7044;e=o[t+140>>2]|0;if(e|0){if(i[t+144>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+140>>2]=0}i[t+144>>0]=1;o[t+140>>2]=0;o[t+132>>2]=0;o[t+136>>2]=0;return}function nA(t){t=t|0;var e=0;o[t>>2]=7044;e=o[t+140>>2]|0;if(e|0){if(i[t+144>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+140>>2]=0}i[t+144>>0]=1;o[t+140>>2]=0;o[t+132>>2]=0;o[t+136>>2]=0;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function iA(t,e,n){t=t|0;e=e|0;n=+n;ck[o[(o[t>>2]|0)+32>>2]&127](t,e);Gk[o[(o[t>>2]|0)+36>>2]&7](t,e,n);return}function rA(t,e){t=t|0;e=e|0;return}function oA(t,e){t=t|0;e=e|0;var n=0.0,r=0.0,s=0.0,a=0.0,c=0.0;i[t+171>>0]=1;o[t+60>>2]=o[e>>2];o[t+60+4>>2]=o[e+4>>2];o[t+60+8>>2]=o[e+8>>2];o[t+60+12>>2]=o[e+12>>2];n=+l[t+60>>2];r=+l[t+64>>2];a=+l[t+68>>2];s=+V(+(n*n+r*r+a*a));if(s>1.1920928955078125e-07){c=n*(1.0/s);r=r*(1.0/s);n=a*(1.0/s);e=o[t+72>>2]|0}else{c=0.0;r=0.0;n=0.0;e=0}l[t+76>>2]=c;l[t+80>>2]=r;l[t+84>>2]=n;o[t+88>>2]=e;return}function sA(t,e,n){t=t|0;e=e|0;n=+n;var r=0.0,s=0.0,a=0.0,c=0.0,u=0.0;i[t+171>>0]=0;o[t+60>>2]=o[e>>2];o[t+60+4>>2]=o[e+4>>2];o[t+60+8>>2]=o[e+8>>2];o[t+60+12>>2]=o[e+12>>2];r=+l[t+60>>2];s=+l[t+64>>2];c=+l[t+68>>2];a=+V(+(r*r+s*s+c*c));if(a>1.1920928955078125e-07){u=r*(1.0/a);s=s*(1.0/a);r=c*(1.0/a);e=o[t+72>>2]|0}else{u=0.0;s=0.0;r=0.0;e=0}l[t+76>>2]=u;l[t+80>>2]=s;l[t+84>>2]=r;o[t+88>>2]=e;l[t+172>>2]=+l[t+172>>2]+n;return}function aA(t,e){t=t|0;e=e|0;var n=0,r=0,s=0;l[t+16>>2]=0.0;l[t+20>>2]=0.0;i[t+168>>0]=0;i[t+169>>0]=0;l[t+172>>2]=0.0;o[t+60>>2]=0;o[t+60+4>>2]=0;o[t+60+8>>2]=0;o[t+60+12>>2]=0;t=o[(o[t+8>>2]|0)+308>>2]|0;if((o[(uk[o[(o[t>>2]|0)+28>>2]&127](t)|0)+4>>2]|0)<=0)return;do{r=o[t>>2]|0;s=o[r+12>>2]|0;r=o[o[(uk[o[r+28>>2]&127](t)|0)+12>>2]>>2]|0;n=o[(o[(uk[o[(o[t>>2]|0)+28>>2]&127](t)|0)+12>>2]|0)+4>>2]|0;dk[s&31](t,r,n,o[e+24>>2]|0)|0}while((o[(uk[o[(o[t>>2]|0)+28>>2]&127](t)|0)+4>>2]|0)>0);return}function cA(t,e){t=t|0;e=e|0;var n=0;n=h;h=h+16|0;o[n>>2]=o[e>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];t=o[t+8>>2]|0;o[t+284>>2]=(o[t+284>>2]|0)+1;o[t+4>>2]=1065353216;o[t+8>>2]=0;o[t+8+4>>2]=0;o[t+8+8>>2]=0;o[t+8+12>>2]=0;o[t+24>>2]=1065353216;o[t+28>>2]=0;o[t+28+4>>2]=0;o[t+28+8>>2]=0;o[t+28+12>>2]=0;o[t+44>>2]=1065353216;o[t+48>>2]=0;o[t+52>>2]=o[n>>2];o[t+52+4>>2]=o[n+4>>2];o[t+52+8>>2]=o[n+8>>2];o[t+52+12>>2]=o[n+12>>2];h=n;return}function lA(t,e){t=t|0;e=e|0;i[t+148>>0]=0;if((((uA(t,e)|0?(i[t+148>>0]=1,uA(t,e)|0):0)?(i[t+148>>0]=1,uA(t,e)|0):0)?(i[t+148>>0]=1,uA(t,e)|0):0)?(i[t+148>>0]=1,uA(t,e)|0):0)i[t+148>>0]=1;e=(o[t+8>>2]|0)+52|0;o[t+92>>2]=o[e>>2];o[t+92+4>>2]=o[e+4>>2];o[t+92+8>>2]=o[e+8>>2];o[t+92+12>>2]=o[e+12>>2];Nl(t+112|0,e|0,16)|0;return}function uA(t,e){t=t|0;e=e|0;var n=0,r=0,s=0.0,a=0,c=0.0,u=0,p=0,f=0.0,d=0,_=0,m=0,g=0,b=0,v=0,y=0,x=0.0,w=0.0;y=h;h=h+96|0;b=o[t+12>>2]|0;Wk[o[(o[b>>2]|0)+8>>2]&127](b,(o[t+8>>2]|0)+4|0,y+80|0,y+64|0);b=o[e+68>>2]|0;rk[o[(o[b>>2]|0)+16>>2]&31](b,o[(o[t+8>>2]|0)+188>>2]|0,y+80|0,y+64|0,o[e+24>>2]|0);b=o[e+24>>2]|0;Wk[o[(o[b>>2]|0)+32>>2]&127](b,o[(o[t+8>>2]|0)+308>>2]|0,e+28|0,b);b=o[t+8>>2]|0;o[t+92>>2]=o[b+52>>2];o[t+92+4>>2]=o[b+52+4>>2];o[t+92+8>>2]=o[b+52+8>>2];o[t+92+12>>2]=o[b+52+12>>2];b=o[b+308>>2]|0;if((uk[o[(o[b>>2]|0)+36>>2]&127](b)|0)>0){b=0;s=0.0;e=0;do{n=o[t+132>>2]|0;if((n|0)<0){if((o[t+136>>2]|0)<0){r=o[t+140>>2]|0;if(r|0){if(i[t+144>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0)}o[t+140>>2]=0}i[t+144>>0]=1;o[t+140>>2]=0;o[t+136>>2]=0}do{o[(o[t+140>>2]|0)+(n<<2)>>2]=0;n=n+1|0}while((n|0)!=0)}o[t+132>>2]=0;n=o[(o[t+8>>2]|0)+308>>2]|0;n=o[(uk[o[(o[n>>2]|0)+28>>2]&127](n)|0)+12>>2]|0;g=o[o[n+(b<<4)>>2]>>2]|0;r=o[o[n+(b<<4)+4>>2]>>2]|0;if(!((g|0)!=0?(o[g+204>>2]&4|0)!=0:0))v=14;do{if((v|0)==14){v=0;if(r|0?o[r+204>>2]&4|0:0)break;n=o[n+(b<<4)+8>>2]|0;if(n|0)ck[o[(o[n>>2]|0)+16>>2]&127](n,t+128|0);m=o[t+132>>2]|0;if((m|0)>0){d=o[t+140>>2]|0;_=o[t+8>>2]|0;g=0;do{p=o[d+(g<<2)>>2]|0;f=(o[p+740>>2]|0)==(_|0)?-1.0:1.0;n=o[p+748>>2]|0;if((n|0)>0){u=0;do{c=+l[p+4+(u*184|0)+80>>2];if(c<0.0){a=p+4+(u*184|0)+64|0;if(c<s){e=p+4+(u*184|0)+68|0;x=f*+l[e>>2];r=p+4+(u*184|0)+72|0;s=f*+l[r>>2];l[t+152>>2]=f*+l[a>>2];l[t+156>>2]=x;l[t+160>>2]=s;l[t+164>>2]=0.0;n=o[p+748>>2]|0;s=c}else{e=p+4+(u*184|0)+68|0;r=p+4+(u*184|0)+72|0}w=c*(f*+l[e>>2])*.20000000298023224;x=c*(f*+l[r>>2])*.20000000298023224;l[t+92>>2]=c*(f*+l[a>>2])*.20000000298023224+ +l[t+92>>2];l[t+96>>2]=w+ +l[t+96>>2];l[t+100>>2]=x+ +l[t+100>>2];e=1}u=u+1|0}while((u|0)<(n|0))}g=g+1|0}while((g|0)!=(m|0))}}}while(0);b=b+1|0;g=o[(o[t+8>>2]|0)+308>>2]|0}while((b|0)<(uk[o[(o[g>>2]|0)+36>>2]&127](g)|0))}else e=0;v=o[t+8>>2]|0;o[y>>2]=o[v+4>>2];o[y+4>>2]=o[v+4+4>>2];o[y+8>>2]=o[v+4+8>>2];o[y+12>>2]=o[v+4+12>>2];o[y+16>>2]=o[v+20>>2];o[y+16+4>>2]=o[v+20+4>>2];o[y+16+8>>2]=o[v+20+8>>2];o[y+16+12>>2]=o[v+20+12>>2];o[y+32>>2]=o[v+36>>2];o[y+32+4>>2]=o[v+36+4>>2];o[y+32+8>>2]=o[v+36+8>>2];o[y+32+12>>2]=o[v+36+12>>2];o[y+48>>2]=o[t+92>>2];o[y+48+4>>2]=o[t+92+4>>2];o[y+48+8>>2]=o[t+92+8>>2];o[y+48+12>>2]=o[t+92+12>>2];o[v+284>>2]=(o[v+284>>2]|0)+1;o[v+4>>2]=o[y>>2];o[v+4+4>>2]=o[y+4>>2];o[v+4+8>>2]=o[y+8>>2];o[v+4+12>>2]=o[y+12>>2];o[v+20>>2]=o[y+16>>2];o[v+20+4>>2]=o[y+16+4>>2];o[v+20+8>>2]=o[y+16+8>>2];o[v+20+12>>2]=o[y+16+12>>2];o[v+36>>2]=o[y+32>>2];o[v+36+4>>2]=o[y+32+4>>2];o[v+36+8>>2]=o[y+32+8>>2];o[v+36+12>>2]=o[y+32+12>>2];o[v+52>>2]=o[y+48>>2];o[v+52+4>>2]=o[y+48+4>>2];o[v+52+8>>2]=o[y+48+8>>2];o[v+52+12>>2]=o[y+48+12>>2];h=y;return e|0}function hA(t,e,n){t=t|0;e=e|0;n=+n;var s=0,a=0.0,c=0.0,u=0,p=0.0,f=0,d=0.0,_=0,m=0.0,g=0.0,b=0.0,v=0,y=0;v=h;h=h+528|0;if(!(i[t+171>>0]|0)){if(+l[t+172>>2]<=0.0){h=v;return}a=+l[t+60>>2];m=+l[t+64>>2];g=+l[t+68>>2];if(a*a+m*m+g*g<1.4210854715202004e-14){h=v;return}}i[t+168>>0]=(uk[o[(o[t>>2]|0)+48>>2]&127](t)|0)&1;a=+l[t+16>>2]-+l[t+44>>2]*n;l[t+16>>2]=a;if(a>0.0?(c=+l[t+28>>2],a>c):0){l[t+16>>2]=c;a=c}if(a<0.0?(g=+G(+a),p=+G(+ +l[t+24>>2]),g>p):0){l[t+16>>2]=-p;a=-p}l[t+20>>2]=a*n;s=o[t+8>>2]|0;o[v>>2]=o[s+4>>2];o[v+4>>2]=o[s+4+4>>2];o[v+8>>2]=o[s+4+8>>2];o[v+12>>2]=o[s+4+12>>2];o[v+16>>2]=o[s+20>>2];o[v+16+4>>2]=o[s+20+4>>2];o[v+16+8>>2]=o[s+20+8>>2];o[v+16+12>>2]=o[s+20+12>>2];o[v+32>>2]=o[s+36>>2];o[v+32+4>>2]=o[s+36+4>>2];o[v+32+8>>2]=o[s+36+8>>2];o[v+32+12>>2]=o[s+36+12>>2];o[v+48>>2]=o[s+52>>2];o[v+48+4>>2]=o[s+52+4>>2];o[v+48+8>>2]=o[s+52+8>>2];o[v+48+12>>2]=o[s+52+12>>2];s=o[t+176>>2]|0;if(!(i[19872]|0)){i[19872]=1;o[5298]=1065353216;o[5299]=0;o[5300]=0;o[5301]=0;o[5302]=0;o[5303]=1065353216;o[5304]=0;o[5305]=0;o[5306]=0;o[5307]=0;o[5308]=1065353216;l[5309]=0.0}p=+l[t+20>>2];p=+l[t+52>>2]+(p>0.0?p:0.0);m=+l[21192+(s<<4)+4>>2]*p+ +l[t+96>>2];g=p*+l[21192+(s<<4)+8>>2]+ +l[t+100>>2];l[t+112>>2]=+l[t+92>>2]+ +l[21192+(s<<4)>>2]*p;l[t+116>>2]=m;l[t+120>>2]=g;l[t+124>>2]=0.0;o[v+456>>2]=1065353216;o[v+456+4>>2]=0;o[v+456+4+4>>2]=0;o[v+456+4+8>>2]=0;o[v+456+4+12>>2]=0;o[v+456+20>>2]=1065353216;o[v+456+24>>2]=0;o[v+456+24+4>>2]=0;o[v+456+24+8>>2]=0;o[v+456+24+12>>2]=0;o[v+456+40>>2]=1065353216;s=v+456+44|0;o[s>>2]=0;o[s+4>>2]=0;o[s+8>>2]=0;o[s+12>>2]=0;o[s+16>>2]=0;o[v+392>>2]=1065353216;o[v+392+4>>2]=0;o[v+392+4+4>>2]=0;o[v+392+4+8>>2]=0;o[v+392+4+12>>2]=0;o[v+392+20>>2]=1065353216;o[v+392+24>>2]=0;o[v+392+24+4>>2]=0;o[v+392+24+8>>2]=0;o[v+392+24+12>>2]=0;o[v+392+40>>2]=1065353216;s=v+392+44|0;o[s>>2]=0;o[s+4>>2]=0;o[s+8>>2]=0;o[s+12>>2]=0;o[s+16>>2]=0;s=o[t+176>>2]|0;if(!(i[19872]|0)){i[19872]=1;o[5298]=1065353216;o[5299]=0;o[5300]=0;o[5301]=0;o[5302]=0;o[5303]=1065353216;o[5304]=0;o[5305]=0;o[5306]=0;o[5307]=0;o[5308]=1065353216;l[5309]=0.0}u=o[t+12>>2]|0;p=+wk[o[(o[u>>2]|0)+48>>2]&15](u);p=p+ +l[t+56>>2];m=p*+l[21192+(s<<4)+4>>2]+ +l[t+96>>2];g=p*+l[21192+(s<<4)+8>>2]+ +l[t+100>>2];l[v+456+48>>2]=+l[21192+(s<<4)>>2]*p+ +l[t+92>>2];l[v+456+52>>2]=m;l[v+456+56>>2]=g;l[v+456+60>>2]=0.0;o[v+392+48>>2]=o[t+112>>2];o[v+392+48+4>>2]=o[t+112+4>>2];o[v+392+48+8>>2]=o[t+112+8>>2];o[v+392+48+12>>2]=o[t+112+12>>2];s=o[t+8>>2]|0;u=o[t+176>>2]|0;if(!(i[19872]|0)){i[19872]=1;o[5298]=1065353216;o[5299]=0;o[5300]=0;o[5301]=0;o[5302]=0;o[5303]=1065353216;o[5304]=0;o[5305]=0;o[5306]=0;o[5307]=0;o[5308]=1065353216;l[5309]=0.0}p=-+l[21192+(u<<4)>>2];m=-+l[21192+(u<<4)+4>>2];g=-+l[21192+(u<<4)+8>>2];l[v+288+4>>2]=1.0;r[v+288+8>>1]=1;r[v+288+10>>1]=-1;_=v+288+12|0;o[v+288+76>>2]=0;o[_>>2]=0;o[_+4>>2]=0;o[_+8>>2]=0;o[_+12>>2]=0;o[_+16>>2]=0;o[_+20>>2]=0;o[_+24>>2]=0;o[_+28>>2]=0;o[v+288>>2]=7108;o[v+288+80>>2]=s;l[v+288+84>>2]=p;l[v+288+88>>2]=m;l[v+288+92>>2]=g;l[v+288+96>>2]=0.0;l[v+288+100>>2]=.707099974155426;s=o[t+8>>2]|0;_=o[(o[s+188>>2]|0)+4>>2]|0;r[v+288+8>>1]=_;r[v+288+10>>1]=_>>>16;if(!(i[t+170>>0]|0))qw(e,o[t+12>>2]|0,v+456|0,v+392|0,v+288|0,0.0);else RE(s,o[t+12>>2]|0,v+456|0,v+392|0,v+288|0,+l[e+56>>2]);if(+l[v+288+4>>2]<1.0){s=o[t+176>>2]|0;if(!(i[19872]|0)){i[19872]=1;o[5298]=1065353216;o[5299]=0;o[5300]=0;o[5301]=0;o[5302]=0;o[5303]=1065353216;o[5304]=0;o[5305]=0;o[5306]=0;o[5307]=0;o[5308]=1065353216;l[5309]=0.0}do{if(+l[v+288+44>>2]*+l[21192+(s<<4)>>2]+ +l[v+288+48>>2]*+l[21192+(s<<4)+4>>2]+ +l[v+288+52>>2]*+l[21192+(s<<4)+8>>2]>0.0){a=+l[v+288+4>>2];l[t+108>>2]=+l[t+52>>2]*a;if(!(i[t+180>>0]|0)){o[t+92>>2]=o[t+112>>2];o[t+92+4>>2]=o[t+112+4>>2];o[t+92+8>>2]=o[t+112+8>>2];o[t+92+12>>2]=o[t+112+12>>2];break}else{l[t+92>>2]=(1.0-a)*+l[t+92>>2]+a*+l[t+112>>2];l[t+96>>2]=(1.0-a)*+l[t+96>>2]+a*+l[t+116>>2];l[t+100>>2]=(1.0-a)*+l[t+100>>2]+a*+l[t+120>>2];break}}}while(0);l[t+16>>2]=0.0;l[t+20>>2]=0.0}else{o[t+108>>2]=o[t+52>>2];o[t+92>>2]=o[t+112>>2];o[t+92+4>>2]=o[t+112+4>>2];o[t+92+8>>2]=o[t+112+8>>2];o[t+92+12>>2]=o[t+112+12>>2]}if(!(i[t+171>>0]|0)){m=+l[t+172>>2];g=m>n?n:m;l[t+172>>2]=m-n;_A(t,e,g*+l[t+60>>2],g*+l[t+64>>2],g*+l[t+68>>2])}else _A(t,e,+l[t+60>>2],+l[t+64>>2],+l[t+68>>2]);o[v+272>>2]=o[t+112>>2];o[v+272+4>>2]=o[t+112+4>>2];o[v+272+8>>2]=o[t+112+8>>2];o[v+272+12>>2]=o[t+112+12>>2];a=+l[t+16>>2];a=(a<0.0?-a:0.0)*n;if(a>0.0?(d=+l[t+24>>2],a>d):0){_=r[t+168>>1]|0;a=(_&255)<<24>>24!=0|(_&65535)<256?d:a}s=o[t+176>>2]|0;if(!(i[19872]|0)){i[19872]=1;o[5298]=1065353216;o[5299]=0;o[5300]=0;o[5301]=0;o[5302]=0;o[5303]=1065353216;o[5304]=0;o[5305]=0;o[5306]=0;o[5307]=0;o[5308]=1065353216;l[5309]=0.0}d=a+ +l[t+108>>2];m=+l[21192+(s<<4)>>2]*d;g=d*+l[21192+(s<<4)+4>>2];d=d*+l[21192+(s<<4)+8>>2];l[t+112>>2]=+l[t+112>>2]-m;l[t+116>>2]=+l[t+116>>2]-g;l[t+120>>2]=+l[t+120>>2]-d;s=o[t+8>>2]|0;u=o[t+176>>2]|0;if(!(i[19872]|0)){i[19872]=1;o[5298]=1065353216;o[5299]=0;o[5300]=0;o[5301]=0;o[5302]=0;o[5303]=1065353216;o[5304]=0;o[5305]=0;o[5306]=0;o[5307]=0;o[5308]=1065353216;l[5309]=0.0}f=o[t+40>>2]|0;_=v+168+4|0;l[_>>2]=1.0;r[v+168+8>>1]=1;r[v+168+10>>1]=-1;y=v+168+12|0;o[v+168+76>>2]=0;o[y>>2]=0;o[y+4>>2]=0;o[y+8>>2]=0;o[y+12>>2]=0;o[y+16>>2]=0;o[y+20>>2]=0;o[y+24>>2]=0;o[y+28>>2]=0;o[v+168>>2]=7108;o[v+168+80>>2]=s;o[v+168+84>>2]=o[21192+(u<<4)>>2];o[v+168+84+4>>2]=o[21192+(u<<4)+4>>2];o[v+168+84+8>>2]=o[21192+(u<<4)+8>>2];o[v+168+84+12>>2]=o[21192+(u<<4)+12>>2];o[v+168+100>>2]=f;s=o[t+8>>2]|0;u=o[(o[s+188>>2]|0)+4>>2]|0;r[v+168+8>>1]=u;r[v+168+10>>1]=u>>>16;u=o[t+176>>2]|0;if(!(i[19872]|0)){i[19872]=1;o[5298]=1065353216;o[5299]=0;o[5300]=0;o[5301]=0;o[5302]=0;o[5303]=1065353216;o[5304]=0;o[5305]=0;o[5306]=0;o[5307]=0;o[5308]=1065353216;l[5309]=0.0}y=o[t+40>>2]|0;l[v+64+4>>2]=1.0;r[v+64+8>>1]=1;r[v+64+10>>1]=-1;f=v+64+12|0;o[v+64+76>>2]=0;o[f>>2]=0;o[f+4>>2]=0;o[f+8>>2]=0;o[f+12>>2]=0;o[f+16>>2]=0;o[f+20>>2]=0;o[f+24>>2]=0;o[f+28>>2]=0;o[v+64>>2]=7108;o[v+64+80>>2]=s;o[v+64+84>>2]=o[21192+(u<<4)>>2];o[v+64+84+4>>2]=o[21192+(u<<4)+4>>2];o[v+64+84+8>>2]=o[21192+(u<<4)+8>>2];o[v+64+84+12>>2]=o[21192+(u<<4)+12>>2];o[v+64+100>>2]=y;s=o[(o[(o[t+8>>2]|0)+188>>2]|0)+4>>2]|0;r[v+64+8>>1]=s;r[v+64+10>>1]=s>>>16;a=+l[t+112>>2];c=+l[t+116>>2];p=+l[t+120>>2];s=0;while(1){o[v+456>>2]=1065353216;o[v+456+4>>2]=0;o[v+456+4+4>>2]=0;o[v+456+4+8>>2]=0;o[v+456+4+12>>2]=0;o[v+456+20>>2]=1065353216;o[v+456+24>>2]=0;o[v+456+24+4>>2]=0;o[v+456+24+8>>2]=0;o[v+456+24+12>>2]=0;o[v+456+40>>2]=1065353216;o[v+456+44>>2]=0;o[v+392>>2]=1065353216;o[v+392+4>>2]=0;o[v+392+4+4>>2]=0;o[v+392+4+8>>2]=0;o[v+392+4+12>>2]=0;o[v+392+20>>2]=1065353216;o[v+392+24>>2]=0;o[v+392+24+4>>2]=0;o[v+392+24+8>>2]=0;o[v+392+24+12>>2]=0;o[v+392+40>>2]=1065353216;o[v+392+44>>2]=0;o[v+288>>2]=1065353216;o[v+288+4>>2]=0;o[v+288+4+4>>2]=0;o[v+288+4+8>>2]=0;o[v+288+4+12>>2]=0;o[v+288+20>>2]=1065353216;o[v+288+24>>2]=0;o[v+288+24+4>>2]=0;o[v+288+24+8>>2]=0;o[v+288+24+12>>2]=0;o[v+288+40>>2]=1065353216;o[v+288+44>>2]=0;o[v+288+44+4>>2]=0;o[v+288+44+8>>2]=0;o[v+456+48>>2]=o[t+92>>2];o[v+456+48+4>>2]=o[t+92+4>>2];o[v+456+48+8>>2]=o[t+92+8>>2];o[v+456+48+12>>2]=o[t+92+12>>2];o[v+392+48>>2]=o[t+112>>2];o[v+392+48+4>>2]=o[t+112+4>>2];o[v+392+48+8>>2]=o[t+112+8>>2];o[v+392+48+12>>2]=o[t+112+12>>2];l[v+288+48>>2]=a-m;l[v+288+52>>2]=c-g;l[v+288+56>>2]=p-d;l[v+288+60>>2]=0.0;if(!(i[t+170>>0]|0)){qw(e,o[t+12>>2]|0,v+456|0,v+392|0,v+168|0,+l[e+56>>2]);if(!(+l[_>>2]<1.0))qw(e,o[t+12>>2]|0,v+456|0,v+288|0,v+64|0,+l[e+56>>2])}else{RE(o[t+8>>2]|0,o[t+12>>2]|0,v+456|0,v+392|0,v+168|0,+l[e+56>>2]);if(!(+l[_>>2]<1.0))RE(o[t+8>>2]|0,o[t+12>>2]|0,v+456|0,v+288|0,v+64|0,+l[e+56>>2])}c=+l[t+16>>2];c=(c<0.0?-c:0.0)*n;f=(i[t+182>>0]|0)==0;if(!f?+l[_>>2]<1.0:0)u=1;else u=+l[v+64+4>>2]<1.0;if(!(c>0.0))break;a=+l[t+52>>2];if(s|(!(c<a)|u^1))break;y=r[t+168>>1]|0;if(!((y&255)<<24>>24!=0|(y&65535)<256)){s=0;break}o[t+112>>2]=o[v+272>>2];o[t+112+4>>2]=o[v+272+4>>2];o[t+112+8>>2]=o[v+272+8>>2];o[t+112+12>>2]=o[v+272+12>>2];s=o[t+176>>2]|0;if(!(i[19872]|0)){i[19872]=1;o[5298]=1065353216;o[5299]=0;o[5300]=0;o[5301]=0;o[5302]=0;o[5303]=1065353216;o[5304]=0;o[5305]=0;o[5306]=0;o[5307]=0;o[5308]=1065353216;l[5309]=0.0}a=a+ +l[t+108>>2];c=a*+l[21192+(s<<4)+4>>2];p=a*+l[21192+(s<<4)+8>>2];a=+l[t+112>>2]-+l[21192+(s<<4)>>2]*a;l[t+112>>2]=a;c=+l[t+116>>2]-c;l[t+116>>2]=c;p=+l[t+120>>2]-p;l[t+120>>2]=p;s=1}p=+l[_>>2];if(s|p<1.0){a=+l[t+96>>2];c=(a-+l[v+168+64>>2])*.5;do{if(!f)if(!(i[t+181>>0]|0)){l[t+92>>2]=(1.0-c)*+l[t+92>>2]+c*+l[t+112>>2];l[t+96>>2]=(1.0-c)*a+c*+l[t+116>>2];l[t+100>>2]=(1.0-c)*+l[t+100>>2]+c*+l[t+120>>2];s=t+181|0;break}else{l[t+92>>2]=(1.0-p)*+l[t+92>>2]+p*+l[t+112>>2];l[t+96>>2]=(1.0-p)*a+p*+l[t+116>>2];l[t+100>>2]=(1.0-p)*+l[t+100>>2]+p*+l[t+120>>2];s=t+181|0;break}else{l[t+92>>2]=(1.0-p)*+l[t+92>>2]+p*+l[t+112>>2];l[t+96>>2]=(1.0-p)*a+p*+l[t+116>>2];l[t+100>>2]=(1.0-p)*+l[t+100>>2]+p*+l[t+120>>2];s=t+181|0}}while(0);i[s>>0]=0;l[t+16>>2]=0.0;l[t+20>>2]=0.0;i[t+169>>0]=0}else{i[t+181>>0]=1;if((!f?(b=+l[t+24>>2],c>b):0)?(y=r[t+168>>1]|0,(y&255)<<24>>24!=0|(y&65535)<256):0){l[t+112>>2]=m+ +l[t+112>>2];l[t+116>>2]=g+ +l[t+116>>2];l[t+120>>2]=d+ +l[t+120>>2];s=o[t+176>>2]|0;if(!(i[19872]|0)){i[19872]=1;o[5298]=1065353216;o[5299]=0;o[5300]=0;o[5301]=0;o[5302]=0;o[5303]=1065353216;o[5304]=0;o[5305]=0;o[5306]=0;o[5307]=0;o[5308]=1065353216;l[5309]=0.0}g=b+ +l[t+108>>2];n=g*+l[21192+(s<<4)+4>>2];b=g*+l[21192+(s<<4)+8>>2];l[t+112>>2]=+l[t+112>>2]-+l[21192+(s<<4)>>2]*g;l[t+116>>2]=+l[t+116>>2]-n;l[t+120>>2]=+l[t+120>>2]-b}o[t+92>>2]=o[t+112>>2];o[t+92+4>>2]=o[t+112+4>>2];o[t+92+8>>2]=o[t+112+8>>2];o[t+92+12>>2]=o[t+112+12>>2]}o[v+48>>2]=o[t+92>>2];o[v+48+4>>2]=o[t+92+4>>2];o[v+48+8>>2]=o[t+92+8>>2];o[v+48+12>>2]=o[t+92+12>>2];y=o[t+8>>2]|0;o[y+284>>2]=(o[y+284>>2]|0)+1;o[y+4>>2]=o[v>>2];o[y+4+4>>2]=o[v+4>>2];o[y+4+8>>2]=o[v+8>>2];o[y+4+12>>2]=o[v+12>>2];o[y+20>>2]=o[v+16>>2];o[y+20+4>>2]=o[v+16+4>>2];o[y+20+8>>2]=o[v+16+8>>2];o[y+20+12>>2]=o[v+16+12>>2];o[y+36>>2]=o[v+32>>2];o[y+36+4>>2]=o[v+32+4>>2];o[y+36+8>>2]=o[v+32+8>>2];o[y+36+12>>2]=o[v+32+12>>2];o[y+52>>2]=o[v+48>>2];o[y+52+4>>2]=o[v+48+4>>2];o[y+52+8>>2]=o[v+48+8>>2];o[y+52+12>>2]=o[v+48+12>>2];h=v;return}function pA(t){t=t|0;Kc(t);return}function fA(t,e){t=t|0;e=e|0;e=o[e+4>>2]|0;if(!((r[t+10>>1]&(e&65535))<<16>>16)){t=0;return t|0}t=(e>>>16&65535&r[t+8>>1])<<16>>16!=0;return t|0}function dA(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,s=0.0,a=0,c=0.0,u=0.0;a=o[e>>2]|0;if((a|0)==(o[t+80>>2]|0)){u=1.0;return+u}if(o[a+204>>2]&4|0){u=1.0;return+u}s=+l[e+8>>2];r=+l[e+12>>2];i=+l[e+16>>2];if(n){c=s;u=r}else{c=+l[a+4>>2]*s+ +l[a+8>>2]*r+ +l[a+12>>2]*i;u=s*+l[a+20>>2]+r*+l[a+24>>2]+i*+l[a+28>>2];i=s*+l[a+36>>2]+r*+l[a+40>>2]+i*+l[a+44>>2]}if(c*+l[t+84>>2]+u*+l[t+88>>2]+i*+l[t+92>>2]<+l[t+100>>2]){u=1.0;return+u}o[t+4>>2]=o[e+40>>2];o[t+76>>2]=a;if(n){o[t+44>>2]=o[e+8>>2];o[t+44+4>>2]=o[e+8+4>>2];o[t+44+8>>2]=o[e+8+8>>2];o[t+44+12>>2]=o[e+8+12>>2]}else{i=+l[e+8>>2];r=+l[e+12>>2];s=+l[e+16>>2];c=i*+l[a+20>>2]+r*+l[a+24>>2]+s*+l[a+28>>2];u=i*+l[a+36>>2]+r*+l[a+40>>2]+s*+l[a+44>>2];l[t+44>>2]=+l[a+4>>2]*i+ +l[a+8>>2]*r+ +l[a+12>>2]*s;l[t+48>>2]=c;l[t+52>>2]=u;l[t+56>>2]=0.0}o[t+60>>2]=o[e+24>>2];o[t+60+4>>2]=o[e+24+4>>2];o[t+60+8>>2]=o[e+24+8>>2];o[t+60+12>>2]=o[e+24+12>>2];u=+l[e+40>>2];return+u}function _A(t,e,n,s,a){t=t|0;e=e|0;n=+n;s=+s;a=+a;var c=0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0,g=0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0;m=h;h=h+240|0;d=+l[t+96>>2]+s;_=+l[t+100>>2]+a;l[t+112>>2]=+l[t+92>>2]+n;l[t+116>>2]=d;l[t+120>>2]=_;l[t+124>>2]=0.0;o[m+168>>2]=1065353216;o[m+168+4>>2]=0;o[m+168+4+4>>2]=0;o[m+168+4+8>>2]=0;o[m+168+4+12>>2]=0;o[m+168+20>>2]=1065353216;o[m+168+24>>2]=0;o[m+168+24+4>>2]=0;o[m+168+24+8>>2]=0;o[m+168+24+12>>2]=0;o[m+168+40>>2]=1065353216;c=m+168+44|0;o[c>>2]=0;o[c+4>>2]=0;o[c+8>>2]=0;o[c+12>>2]=0;o[c+16>>2]=0;o[m+104>>2]=1065353216;o[m+104+4>>2]=0;o[m+104+4+4>>2]=0;o[m+104+4+8>>2]=0;o[m+104+4+12>>2]=0;o[m+104+20>>2]=1065353216;o[m+104+24>>2]=0;o[m+104+24+4>>2]=0;o[m+104+24+8>>2]=0;o[m+104+24+12>>2]=0;o[m+104+40>>2]=1065353216;c=m+104+44|0;o[c>>2]=0;o[c+4>>2]=0;o[c+8>>2]=0;o[c+12>>2]=0;o[c+16>>2]=0;_=1.0;c=10;while(1){if((c|0)<=0){c=14;break}c=c+-1|0;o[m+168+48>>2]=o[t+92>>2];o[m+168+48+4>>2]=o[t+92+4>>2];o[m+168+48+8>>2]=o[t+92+8>>2];o[m+168+48+12>>2]=o[t+92+12>>2];o[m+104+48>>2]=o[t+112>>2];o[m+104+48+4>>2]=o[t+112+4>>2];o[m+104+48+8>>2]=o[t+112+8>>2];o[m+104+48+12>>2]=o[t+112+12>>2];f=+l[t+92>>2]-+l[t+112>>2];d=+l[t+96>>2]-+l[t+116>>2];n=+l[t+100>>2]-+l[t+120>>2];g=o[t+8>>2]|0;l[m+4>>2]=1.0;r[m+8>>1]=1;r[m+10>>1]=-1;o[m+76>>2]=0;o[m+12>>2]=0;o[m+12+4>>2]=0;o[m+12+8>>2]=0;o[m+12+12>>2]=0;o[m+12+16>>2]=0;o[m+12+20>>2]=0;o[m+12+24>>2]=0;o[m+12+28>>2]=0;o[m>>2]=7108;o[m+80>>2]=g;l[m+84>>2]=f;l[m+88>>2]=d;l[m+92>>2]=n;l[m+96>>2]=0.0;l[m+100>>2]=0.0;g=o[(o[g+188>>2]|0)+4>>2]|0;r[m+8>>1]=g;r[m+10>>1]=g>>>16;g=o[t+12>>2]|0;n=+wk[o[(o[g>>2]|0)+48>>2]&15](g);g=o[t+12>>2]|0;ok[o[(o[g>>2]|0)+44>>2]&31](g,n+ +l[t+56>>2]);if(!(i[t+170>>0]|0))qw(e,o[t+12>>2]|0,m+168|0,m+104|0,m,+l[e+56>>2]);else RE(o[t+8>>2]|0,o[t+12>>2]|0,m+168|0,m+104|0,m,+l[e+56>>2]);g=o[t+12>>2]|0;ok[o[(o[g>>2]|0)+44>>2]&31](g,n);d=+l[m+4>>2];_=_-d;if(d<1.0){s=+l[t+112>>2];p=+l[t+92>>2];a=+l[t+116>>2];f=+l[t+96>>2];u=+l[t+120>>2];d=+l[t+100>>2];n=+V(+((s-p)*(s-p)+(a-f)*(a-f)+(u-d)*(u-d)));if(n>1.1920928955078125e-07){x=+l[m+44>>2];v=+l[m+48>>2];S=+l[m+52>>2];w=((s-p)*(1.0/n)*x+(a-f)*(1.0/n)*v+(u-d)*(1.0/n)*S)*2.0;y=(s-p)*(1.0/n)-x*w;b=(a-f)*(1.0/n)-v*w;w=(u-d)*(1.0/n)-S*w;u=1.0/+V(+(w*w+(y*y+b*b)));o[t+112>>2]=o[t+92>>2];o[t+112+4>>2]=o[t+92+4>>2];o[t+112+8>>2]=o[t+92+8>>2];o[t+112+12>>2]=o[t+92+12>>2];s=n*(u*y-x*(S*(u*w)+(x*(u*y)+v*(u*b))))+ +l[t+112>>2];l[t+112>>2]=s;a=n*(u*b-v*(S*(u*w)+(x*(u*y)+v*(u*b))))+ +l[t+116>>2];l[t+116>>2]=a;u=n*(u*w-S*(S*(u*w)+(x*(u*y)+v*(u*b))))+ +l[t+120>>2];l[t+120>>2]=u;n=a}else n=a;a=s-p;s=n-f;n=u-d;if(!(a*a+s*s+n*n>1.1920928955078125e-07)){c=11;break}S=1.0/+V(+(a*a+s*s+n*n));if(+l[t+76>>2]*(a*S)+s*S*+l[t+80>>2]+n*S*+l[t+84>>2]<=0.0){c=11;break}}else{o[t+92>>2]=o[t+112>>2];o[t+92+4>>2]=o[t+112+4>>2];o[t+92+8>>2]=o[t+112+8>>2];o[t+92+12>>2]=o[t+112+12>>2]}if(!(_>.009999999776482582)){c=14;break}}if((c|0)==11){h=m;return}else if((c|0)==14){h=m;return}}function mA(t){t=t|0;return uk[o[(o[t>>2]|0)+48>>2]&127](t)|0}function gA(t){t=t|0;if(!(uk[o[(o[t>>2]|0)+40>>2]&127](t)|0))return;o[t+16>>2]=o[t+28>>2];i[t+169>>0]=1;return}function bA(t){t=t|0;if(!(+l[t+16>>2]==0.0)){t=0;return t|0}t=+l[t+20>>2]==0.0;return t|0}function vA(t,e){t=t|0;e=e|0;i[t+180>>0]=e&1;return}function yA(t){t=t|0;o[t>>2]=7188;return}function xA(t){t=t|0;o[t>>2]=7188;if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function wA(t){t=t|0;return}function SA(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=+r;return}function MA(t,e,n,i){t=t|0;e=e|0;n=n|0;i=+i;return}function CA(t){t=t|0;return 52}function TA(t){t=t|0;o[t>>2]=7188;if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function AA(t){t=t|0;var e=0,n=0.0,r=0.0,s=0.0,a=0,c=0.0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0,w=0.0,S=0.0,M=0;x=h;h=h+176|0;if(!(i[t+527>>0]|0)){h=x;return}l[t+36>>2]=0.0;l[t+520>>2]=0.0;l[t+516>>2]=0.0;o[t+576>>2]=0;o[t+576+4>>2]=0;o[t+576+8>>2]=0;o[t+576+12>>2]=0;if(!(i[t+524>>0]|0)){e=o[t+28>>2]|0;c=+l[t+348>>2];u=+l[t+352>>2];g=+l[t+356>>2];v=c*+l[e+20>>2]+u*+l[e+24>>2]+g*+l[e+28>>2]+ +l[e+56>>2];a=o[t+32>>2]|0;p=+l[t+412>>2];f=+l[t+416>>2];b=+l[t+420>>2];d=+l[a+52>>2];n=+l[a+56>>2];y=p*+l[a+20>>2]+f*+l[a+24>>2]+b*+l[a+28>>2]+n;_=p*+l[a+36>>2]+f*+l[a+40>>2]+b*+l[a+44>>2]+ +l[a+60>>2];m=c*+l[e+4>>2]+u*+l[e+8>>2]+g*+l[e+12>>2]+ +l[e+52>>2];g=c*+l[e+36>>2]+u*+l[e+40>>2]+g*+l[e+44>>2]+ +l[e+60>>2];b=p*+l[a+4>>2]+f*+l[a+8>>2]+b*+l[a+12>>2]+d;if((b-m)*(b-m)+(y-v)*(y-v)+(_-g)*(_-g)>1.1920928955078125e-07){s=1.0/+V(+((b-m)*(b-m)+(y-v)*(y-v)+(_-g)*(_-g)));l[x+128>>2]=(b-m)*s;l[x+128+4>>2]=(y-v)*s;l[x+128+8>>2]=(_-g)*s;o[x+128+12>>2]=0;c=(_-g)*s;r=(y-v)*s;s=(b-m)*s}else{o[x+128>>2]=1065353216;o[x+128+4>>2]=0;o[x+128+8>>2]=0;l[x+128+12>>2]=0.0;c=0.0;r=0.0;s=1.0}if(+G(+c)>.7071067690849304){S=c*c+r*r;w=1.0/+V(+S);p=-(w*c);c=w*r;f=-(c*s);u=s*p;r=S*w;s=c;c=0.0}else{p=s*s+r*r;u=1.0/+V(+p);S=-(r*u);r=u*s;f=c*S;u=p*u;p=r;r=-(r*c);s=0.0;c=S}l[x+128+16>>2]=c;l[x+128+20>>2]=p;l[x+128+24>>2]=s;l[x+128+32>>2]=r;l[x+128+36>>2]=f;l[x+128+40>>2]=u;r=d;e=0;while(1){M=o[t+28>>2]|0;o[x+80>>2]=o[M+4>>2];o[x+80+4>>2]=o[M+20>>2];o[x+80+8>>2]=o[M+36>>2];l[x+80+12>>2]=0.0;o[x+80+16>>2]=o[M+8>>2];o[x+80+20>>2]=o[M+24>>2];o[x+80+24>>2]=o[M+40>>2];l[x+80+28>>2]=0.0;o[x+80+32>>2]=o[M+12>>2];o[x+80+36>>2]=o[M+28>>2];o[x+80+40>>2]=o[M+44>>2];l[x+80+44>>2]=0.0;o[x+32>>2]=o[a+4>>2];o[x+32+4>>2]=o[a+20>>2];o[x+32+8>>2]=o[a+36>>2];l[x+32+12>>2]=0.0;o[x+32+16>>2]=o[a+8>>2];o[x+32+20>>2]=o[a+24>>2];o[x+32+24>>2]=o[a+40>>2];l[x+32+28>>2]=0.0;o[x+32+32>>2]=o[a+12>>2];o[x+32+36>>2]=o[a+28>>2];o[x+32+40>>2]=o[a+44>>2];l[x+32+44>>2]=0.0;w=v-+l[M+56>>2];S=g-+l[M+60>>2];l[x+16>>2]=m-+l[M+52>>2];l[x+16+4>>2]=w;l[x+16+8>>2]=S;l[x+16+12>>2]=0.0;S=_-+l[a+60>>2];l[x>>2]=b-r;l[x+4>>2]=y-n;l[x+8>>2]=S;l[x+12>>2]=0.0;M=o[t+28>>2]|0;a=o[t+32>>2]|0;LA(t+48+(e*84|0)|0,x+80|0,x+32|0,x+16|0,x,x+128+(e<<4)|0,M+420|0,+l[M+368>>2],a+420|0,+l[a+368>>2]);e=e+1|0;if((e|0)==3)break;M=o[t+32>>2]|0;a=M;r=+l[M+52>>2];n=+l[M+56>>2]}e=t+32|0}else e=t+32|0;a=o[t+28>>2]|0;M=o[e>>2]|0;EA(t,a+4|0,M+4|0,a+288|0,M+288|0);h=x;return}function LA(t,e,n,i,r,s,a,c,u,h){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;s=s|0;a=a|0;c=+c;u=u|0;h=+h;var p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0;o[t>>2]=o[s>>2];o[t+4>>2]=o[s+4>>2];o[t+8>>2]=o[s+8>>2];o[t+12>>2]=o[s+12>>2];b=+l[i+4>>2];x=+l[t+8>>2];w=+l[i+8>>2];_=+l[t+4>>2];p=+l[t>>2];g=+l[i>>2];y=(b*x-w*_)*+l[e>>2]+ +l[e+4>>2]*(w*p-x*g)+(_*g-b*p)*+l[e+8>>2];v=(b*x-w*_)*+l[e+16>>2]+(w*p-x*g)*+l[e+20>>2]+(_*g-b*p)*+l[e+24>>2];b=(b*x-w*_)*+l[e+32>>2]+(w*p-x*g)*+l[e+36>>2]+(_*g-b*p)*+l[e+40>>2];l[t+16>>2]=y;l[t+20>>2]=v;l[t+24>>2]=b;l[t+28>>2]=0.0;g=+l[r+4>>2];w=+l[r+8>>2];f=+l[r>>2];m=+l[n>>2]*(g*-x-w*-_)+ +l[n+4>>2]*(w*-p-f*-x)+(f*-_-g*-p)*+l[n+8>>2];d=(g*-x-w*-_)*+l[n+16>>2]+(w*-p-f*-x)*+l[n+20>>2]+(f*-_-g*-p)*+l[n+24>>2];p=(g*-x-w*-_)*+l[n+32>>2]+(w*-p-f*-x)*+l[n+36>>2]+(f*-_-g*-p)*+l[n+40>>2];l[t+32>>2]=m;l[t+36>>2]=d;l[t+40>>2]=p;l[t+44>>2]=0.0;y=+l[a>>2]*y;v=+l[a+4>>2]*v;b=+l[a+8>>2]*b;l[t+48>>2]=y;l[t+52>>2]=v;l[t+56>>2]=b;l[t+60>>2]=0.0;g=+l[u>>2]*m;_=+l[u+4>>2]*d;f=+l[u+8>>2]*p;l[t+64>>2]=g;l[t+68>>2]=_;l[t+72>>2]=f;l[t+76>>2]=0.0;l[t+80>>2]=y*+l[t+16>>2]+v*+l[t+20>>2]+b*+l[t+24>>2]+c+h+(g*m+_*d+f*p);return}function EA(t,e,n,r,s){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;var a=0.0,c=0.0,u=0.0,p=0.0,d=0.0,_=0,m=0.0,g=0.0,b=0,v=0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0,D=0.0,k=0.0,O=0.0,N=0.0,F=0.0,B=0.0,j=0.0,U=0,z=0.0,W=0.0,q=0.0,Z=0.0,J=0.0,$=0.0,Q=0.0,tt=0.0,et=0.0,nt=0.0,it=0.0,rt=0.0,ot=0.0,st=0.0,at=0.0,ct=0.0,lt=0.0,ut=0.0,ht=0.0,pt=0.0,ft=0.0,dt=0.0,_t=0.0,mt=0.0,gt=0,bt=0.0,vt=0.0,yt=0.0,xt=0.0,wt=0.0;gt=h;h=h+144|0;l[t+504>>2]=0.0;l[t+500>>2]=0.0;i[t+525>>0]=0;i[t+526>>0]=0;if(i[t+552>>0]|0?(i[t+527>>0]|0)==0:0){wt=+l[t+556>>2];yt=+l[t+560>>2];mt=+l[t+564>>2];vt=+l[t+568>>2];ot=wt*(2.0/(wt*wt+yt*yt+mt*mt+vt*vt));xt=yt*(2.0/(wt*wt+yt*yt+mt*mt+vt*vt));bt=mt*(2.0/(wt*wt+yt*yt+mt*mt+vt*vt));st=+l[t+300>>2];Z=+l[e>>2];at=+l[t+316>>2];J=+l[e+4>>2];ct=+l[t+332>>2];$=+l[e+8>>2];ut=+l[t+304>>2];pt=+l[t+320>>2];dt=+l[t+336>>2];nt=+l[t+308>>2];it=+l[t+324>>2];rt=+l[t+340>>2];Q=+l[e+16>>2];tt=+l[e+20>>2];et=+l[e+24>>2];ht=+l[e+32>>2];ft=+l[e+36>>2];_t=+l[e+40>>2];w=+l[t+348>>2];x=+l[t+352>>2];y=+l[t+356>>2];T=+l[t+364>>2];p=+l[n>>2];A=+l[t+380>>2];d=+l[n+4>>2];L=+l[t+396>>2];u=+l[n+8>>2];E=+l[t+368>>2];R=+l[t+384>>2];I=+l[t+400>>2];S=+l[t+372>>2];M=+l[t+388>>2];C=+l[t+404>>2];m=+l[n+16>>2];g=+l[n+20>>2];c=+l[n+24>>2];P=+l[n+32>>2];k=+l[n+36>>2];N=+l[n+40>>2];D=+l[t+412>>2];O=+l[t+416>>2];a=+l[t+420>>2];B=(1.0-(yt*xt+mt*bt))*(T*p+A*d+L*u)+(wt*xt+vt*bt)*(p*E+d*R+u*I)+(wt*bt-vt*xt)*(p*S+d*M+u*C);j=(wt*xt-vt*bt)*(T*p+A*d+L*u)+(1.0-(wt*ot+mt*bt))*(p*E+d*R+u*I)+(yt*bt+vt*ot)*(p*S+d*M+u*C);F=(wt*bt+vt*xt)*(T*p+A*d+L*u)+(yt*bt-vt*ot)*(p*E+d*R+u*I)+(1.0-(wt*ot+yt*xt))*(p*S+d*M+u*C);W=(wt*bt-vt*xt)*(S*m+M*g+C*c)+((1.0-(yt*xt+mt*bt))*(T*m+A*g+L*c)+(wt*xt+vt*bt)*(E*m+R*g+I*c));q=(yt*bt+vt*ot)*(S*m+M*g+C*c)+((wt*xt-vt*bt)*(T*m+A*g+L*c)+(1.0-(wt*ot+mt*bt))*(E*m+R*g+I*c));z=(1.0-(wt*ot+yt*xt))*(S*m+M*g+C*c)+((wt*bt+vt*xt)*(T*m+A*g+L*c)+(yt*bt-vt*ot)*(E*m+R*g+I*c));lt=(wt*bt-vt*xt)*(S*P+M*k+C*N)+((1.0-(yt*xt+mt*bt))*(T*P+A*k+L*N)+(wt*xt+vt*bt)*(E*P+R*k+I*N));mt=(yt*bt+vt*ot)*(S*P+M*k+C*N)+((wt*xt-vt*bt)*(T*P+A*k+L*N)+(1.0-(wt*ot+mt*bt))*(E*P+R*k+I*N));ot=(1.0-(wt*ot+yt*xt))*(S*P+M*k+C*N)+((wt*bt+vt*xt)*(T*P+A*k+L*N)+(yt*bt-vt*ot)*(E*P+R*k+I*N));vt=-(+l[e+48>>2]+(Z*w+J*x+$*y));bt=-(Q*w+tt*x+et*y+ +l[e+52>>2]);y=-(ht*w+ft*x+_t*y+ +l[e+56>>2]);x=(st*Z+at*J+ct*$)*vt+(st*Q+at*tt+ct*et)*bt+(st*ht+at*ft+ct*_t)*y;w=(Z*ut+J*pt+$*dt)*vt+(ut*Q+pt*tt+dt*et)*bt+(ut*ht+pt*ft+dt*_t)*y;y=(Z*nt+J*it+$*rt)*vt+(nt*Q+it*tt+rt*et)*bt+(nt*ht+it*ft+rt*_t)*y;u=y*F+(x*B+w*j)+((T*p+A*d+L*u)*0.0+(p*E+d*R+u*I)*0.0+(p*S+d*M+u*C)*0.0+(+l[n+48>>2]+(p*D+d*O+u*a)));c=y*z+(x*W+w*q)+((S*m+M*g+C*c)*0.0+((T*m+A*g+L*c)*0.0+(E*m+R*g+I*c)*0.0)+(m*D+g*O+c*a+ +l[n+52>>2]));a=y*ot+(x*lt+w*mt)+((S*P+M*k+C*N)*0.0+((T*P+A*k+L*N)*0.0+(E*P+R*k+I*N)*0.0)+(P*D+k*O+N*a+ +l[n+56>>2]));l[gt+80>>2]=(Z*nt+J*it+$*rt)*F+((st*Z+at*J+ct*$)*B+(Z*ut+J*pt+$*dt)*j);l[gt+80+4>>2]=(nt*Q+it*tt+rt*et)*F+((st*Q+at*tt+ct*et)*B+(ut*Q+pt*tt+dt*et)*j);l[gt+80+8>>2]=(nt*ht+it*ft+rt*_t)*F+((st*ht+at*ft+ct*_t)*B+(ut*ht+pt*ft+dt*_t)*j);l[gt+80+12>>2]=0.0;l[gt+80+16>>2]=(Z*nt+J*it+$*rt)*z+((st*Z+at*J+ct*$)*W+(Z*ut+J*pt+$*dt)*q);l[gt+80+20>>2]=(nt*Q+it*tt+rt*et)*z+((st*Q+at*tt+ct*et)*W+(ut*Q+pt*tt+dt*et)*q);l[gt+80+24>>2]=(nt*ht+it*ft+rt*_t)*z+((st*ht+at*ft+ct*_t)*W+(ut*ht+pt*ft+dt*_t)*q);l[gt+80+28>>2]=0.0;l[gt+80+32>>2]=(Z*nt+J*it+$*rt)*ot+((st*Z+at*J+ct*$)*lt+(Z*ut+J*pt+$*dt)*mt);l[gt+80+36>>2]=(nt*Q+it*tt+rt*et)*ot+((st*Q+at*tt+ct*et)*lt+(ut*Q+pt*tt+dt*et)*mt);l[gt+80+40>>2]=(nt*ht+it*ft+rt*_t)*ot+((st*ht+at*ft+ct*_t)*lt+(ut*ht+pt*ft+dt*_t)*mt);l[gt+80+44>>2]=0.0;l[gt+80+48>>2]=u;l[gt+80+52>>2]=c;l[gt+80+56>>2]=a;l[gt+80+60>>2]=0.0;Zw(gt+80|0,gt+64|0);a=+l[gt+64>>2];c=+l[gt+64+4>>2];u=+l[gt+64+8>>2];if(!(+G(+(a*a+c*c+u*u))<1.1920928955078125e-07)?(l[t+472>>2]=0.0,wt=1.0/+V(+(a*a+c*c+u*u)),l[t+460>>2]=a*wt,l[t+464>>2]=c*wt,l[t+468>>2]=u*wt,wt=+l[gt+64+12>>2],wt=wt<-1.0?-1.0:wt,wt=+Y(+(wt>1.0?1.0:wt))*2.0,l[t+504>>2]=wt,!(+G(+wt)<1.1920928955078125e-07)):0)i[t+526>>0]=1;h=gt;return}Zw(e,gt+48|0);Zw(t+300|0,gt+32|0);$=+l[gt+48+12>>2];Q=+l[gt+32>>2];tt=+l[gt+48>>2];et=+l[gt+32+12>>2];nt=+l[gt+48+4>>2];it=+l[gt+32+8>>2];rt=+l[gt+48+8>>2];ot=+l[gt+32+4>>2];Zw(n,gt+16|0);Zw(t+364|0,gt);st=+l[gt+16+12>>2];at=+l[gt>>2];ct=+l[gt+16>>2];lt=+l[gt+12>>2];ut=+l[gt+16+4>>2];ht=+l[gt+8>>2];pt=+l[gt+16+8>>2];ft=+l[gt+4>>2];dt=-(st*at+ct*lt+ut*ht-pt*ft);_t=-(at*pt+(lt*ut+st*ft)-ct*ht);mt=-(st*ht+lt*pt+ct*ft-at*ut);y=($*et-Q*tt-nt*ot-it*rt)*dt+($*Q+tt*et+nt*it-rt*ot)*(st*lt-at*ct-ut*ft-ht*pt)+($*it+et*rt+tt*ot-Q*nt)*_t-(Q*rt+(et*nt+$*ot)-tt*it)*mt;x=($*Q+tt*et+nt*it-rt*ot)*mt+((Q*rt+(et*nt+$*ot)-tt*it)*(st*lt-at*ct-ut*ft-ht*pt)+($*et-Q*tt-nt*ot-it*rt)*_t)-($*it+et*rt+tt*ot-Q*nt)*dt;w=(Q*rt+(et*nt+$*ot)-tt*it)*dt+(($*it+et*rt+tt*ot-Q*nt)*(st*lt-at*ct-ut*ft-ht*pt)+($*et-Q*tt-nt*ot-it*rt)*mt)-($*Q+tt*et+nt*it-rt*ot)*_t;S=($*et-Q*tt-nt*ot-it*rt)*(st*lt-at*ct-ut*ft-ht*pt)-($*Q+tt*et+nt*it-rt*ot)*dt-(Q*rt+(et*nt+$*ot)-tt*it)*_t-($*it+et*rt+tt*ot-Q*nt)*mt;u=+l[5310];p=+l[5312];c=+l[5311];d=(u*w+c*S-p*y)*-w+(S*(u*S+p*x-c*w)+(-(u*y)-c*x-p*w)*-y)-(p*S+c*y-u*x)*-x;a=(p*S+c*y-u*x)*-y+(S*(u*w+c*S-p*y)+(-(u*y)-c*x-p*w)*-x)-(u*S+p*x-c*w)*-w;m=(u*S+p*x-c*w)*-x+(S*(p*S+c*y-u*x)+(-(u*y)-c*x-p*w)*-w)-(u*w+c*S-p*y)*-y;g=1.0/+V(+(m*m+(d*d+a*a)));do{if(p*(g*m)+(c*(g*a)+u*(g*d))<-.9999998807907104)if(+G(+p)>.7071067690849304){a=1.0/+V(+(p*p+c*c));_=0;b=(l[f>>2]=c*a,o[f>>2]|0);v=0;a=-(p*a);break}else{a=1.0/+V(+(u*u+c*c));_=(l[f>>2]=-(c*a),o[f>>2]|0);b=0;v=0;a=u*a;break}else{wt=+V(+((p*(g*m)+(c*(g*a)+u*(g*d))+1.0)*2.0));_=(l[f>>2]=(c*(g*m)-p*(g*a))*(1.0/wt),o[f>>2]|0);b=(l[f>>2]=(u*(g*a)-c*(g*d))*(1.0/wt),o[f>>2]|0);v=(l[f>>2]=wt*.5,o[f>>2]|0);a=(p*(g*d)-u*(g*m))*(1.0/wt)}}while(0);u=(o[f>>2]=_,+l[f>>2]);m=(o[f>>2]=b,+l[f>>2]);c=(o[f>>2]=v,+l[f>>2]);p=1.0/+V(+(u*u+a*a+m*m+c*c));d=a*p;q=w*-d+(y*(c*p)+S*-(u*p))-x*-(m*p);Z=y*-(m*p)+(S*-d+x*(c*p))-w*-(u*p);J=x*-(u*p)+(w*(c*p)+S*-(m*p))-y*-d;z=S*(c*p)-y*-(u*p)-x*-d-w*-(m*p);W=1.0/+V(+(z*z+(J*J+(q*q+Z*Z))));y=+l[t+444>>2];a=+l[t+456>>2];_=(l[f>>2]=y,o[f>>2]|0);if(y>=a?(M=+l[t+448>>2],M>=a):0){g=c*p<-1.0?-1.0:c*p;g=+Y(+(g>1.0?1.0:g))*2.0;if(g>1.1920928955078125e-07){a=1.0/+V(+(m*p*(m*p)+(u*p*(u*p)+d*d)));if(+G(+(d*a))>1.1920928955078125e-07){wt=+V(+((m*p*a*(m*p*a)/(d*a*(d*a))+1.0)/(1.0/(M*M)+m*p*a*(m*p*a)/(d*a*(d*a))/(y*y))));u=u*p*a;c=m*p*a;a=d*a;_=(l[f>>2]=wt,o[f>>2]|0)}else{u=u*p*a;c=m*p*a;a=d*a}}else{u=0.0;c=0.0;a=0.0;_=0}p=(o[f>>2]=_,+l[f>>2]);d=+l[t+428>>2];if(g>p*d){i[t+526>>0]=1;if(g<p&d<.9999998807907104)m=(g-p*d)/(p-p*d);else m=1.0;l[t+528>>2]=m;l[t+504>>2]=g-p*d;if(+G(+a)>1.1920928955078125e-07){wt=+G(+(a*(-c/a*(M/y))));c=c<-0.0?wt:-wt;wt=1.0/+V(+(u*u+a*a+c*c));u=u*wt;c=-(c*wt);a=a*wt}xt=-u;yt=-a;bt=-c;j=(st*lt-at*ct-ut*ft-ht*pt)*xt+(at*pt+(lt*ut+st*ft)-ct*ht)*bt-(st*ht+lt*pt+ct*ft-at*ut)*yt;wt=(st*ht+lt*pt+ct*ft-at*ut)*xt+(st*lt-at*ct-ut*ft-ht*pt)*yt-(st*at+ct*lt+ut*ht-pt*ft)*bt;vt=(st*at+ct*lt+ut*ht-pt*ft)*yt+(st*lt-at*ct-ut*ft-ht*pt)*bt-(at*pt+(lt*ut+st*ft)-ct*ht)*xt;bt=-((st*at+ct*lt+ut*ht-pt*ft)*xt)-(at*pt+(lt*ut+st*ft)-ct*ht)*yt-(st*ht+lt*pt+ct*ft-at*ut)*bt;yt=wt*mt+(bt*dt+(st*lt-at*ct-ut*ft-ht*pt)*j)-vt*_t;xt=vt*dt+((st*lt-at*ct-ut*ft-ht*pt)*wt+bt*_t)-j*mt;wt=j*_t+(bt*mt+(st*lt-at*ct-ut*ft-ht*pt)*vt)-wt*dt;l[t+460>>2]=yt;l[t+464>>2]=xt;l[t+468>>2]=wt;l[t+472>>2]=0.0;o[t+536>>2]=0;o[t+536+4>>2]=0;o[t+536+8>>2]=0;o[t+536+12>>2]=0;l[t+492>>2]=1.0/(yt*(+l[r>>2]*yt+ +l[r+16>>2]*xt+ +l[r+32>>2]*wt)+xt*(yt*+l[r+4>>2]+xt*+l[r+20>>2]+wt*+l[r+36>>2])+wt*(yt*+l[r+8>>2]+xt*+l[r+24>>2]+wt*+l[r+40>>2])+(yt*(yt*+l[s>>2]+xt*+l[s+16>>2]+wt*+l[s+32>>2])+xt*(yt*+l[s+4>>2]+xt*+l[s+20>>2]+wt*+l[s+36>>2])+wt*(yt*+l[s+8>>2]+xt*+l[s+24>>2]+wt*+l[s+40>>2])))}}else U=23;t:do{if((U|0)==23){P=+l[t+300>>2];D=+l[t+316>>2];k=+l[t+332>>2];g=+l[e>>2];y=+l[e+4>>2];x=+l[e+8>>2];w=+l[e+16>>2];S=+l[e+20>>2];M=+l[e+24>>2];O=+l[e+32>>2];N=+l[e+36>>2];C=+l[e+40>>2];T=+l[t+304>>2];A=+l[t+320>>2];L=+l[t+336>>2];E=+l[t+308>>2];R=+l[t+324>>2];I=+l[t+340>>2];p=+l[t+364>>2];u=+l[t+380>>2];F=+l[t+396>>2];B=p*+l[n>>2]+u*+l[n+4>>2]+F*+l[n+8>>2];j=p*+l[n+16>>2]+u*+l[n+20>>2]+F*+l[n+24>>2];F=p*+l[n+32>>2]+u*+l[n+36>>2]+F*+l[n+40>>2];u=(P*g+D*y+k*x)*B+(P*w+D*S+k*M)*j+(P*O+D*N+k*C)*F;p=(g*T+y*A+x*L)*B+(w*T+S*A+M*L)*j+(O*T+N*A+C*L)*F;m=(g*E+y*R+x*I)*B+(w*E+S*R+M*I)*j+(O*E+N*R+C*I)*F;c=+l[t+444>>2];a=+l[t+456>>2];do{if(c<a){d=+l[t+448>>2];if(d<a){if(+G(+p)<1.1920928955078125e-07?+G(+m)<1.1920928955078125e-07:0)break t;i[t+526>>0]=1;l[t+460>>2]=-((P*O+D*N+k*C)*j-(P*w+D*S+k*M)*F);l[t+464>>2]=-((P*g+D*y+k*x)*F-(P*O+D*N+k*C)*B);l[t+468>>2]=-((P*w+D*S+k*M)*B-(P*g+D*y+k*x)*j);l[t+472>>2]=0.0;break t}if(+G(+u)<1.1920928955078125e-07?+G(+m)<1.1920928955078125e-07:0){c=p;a=m;break}i[t+526>>0]=1;if(d>=a){a=+K(+m,+u);if(a>d){u=+H(+d);c=0.0;a=+X(+d);break}if(a<-d){u=+H(+d);c=0.0;a=-+X(+d)}else{c=0.0;a=m}}else{c=p;a=m}}else{if(+G(+u)<1.1920928955078125e-07?+G(+p)<1.1920928955078125e-07:0){c=p;a=m;break}i[t+526>>0]=1;if(c>=a){a=+K(+p,+u);if(a>c){u=+H(+c);c=+X(+c);a=0.0;break}if(a<-c){u=+H(+c);c=-+X(+c);a=0.0}else{c=p;a=0.0}}else{c=p;a=m}}}while(0);d=(g*E+y*R+x*I)*a+((g*T+y*A+x*L)*c+(P*g+D*y+k*x)*u);p=(w*E+S*R+M*I)*a+((w*T+S*A+M*L)*c+(P*w+D*S+k*M)*u);a=(O*E+N*R+C*I)*a+((O*T+N*A+C*L)*c+(P*O+D*N+k*C)*u);c=1.0/+V(+(a*a+(d*d+p*p)));l[t+460>>2]=-(j*(c*a)-F*(c*p));l[t+464>>2]=-(F*(c*d)-B*(c*a));l[t+468>>2]=-(B*(c*p)-j*(c*d));l[t+472>>2]=0.0;u=+V(+((j*(c*a)-F*(c*p))*(j*(c*a)-F*(c*p))+(F*(c*d)-B*(c*a))*(F*(c*d)-B*(c*a))+(B*(c*p)-j*(c*d))*(B*(c*p)-j*(c*d))));l[t+504>>2]=u;if(!(+G(+u)<1.1920928955078125e-07)){l[t+460>>2]=1.0/u*-(j*(c*a)-F*(c*p));l[t+464>>2]=1.0/u*-(F*(c*d)-B*(c*a));l[t+468>>2]=1.0/u*-(B*(c*p)-j*(c*d))}}}while(0);g=+l[t+452>>2];if(!(g>=0.0)){l[t+512>>2]=0.0;h=gt;return}a=W*z<-1.0?-1.0:W*z;a=+Y(+(a>1.0?1.0:a))*2.0;if(a>3.1415927410125732){m=-(W*z)<-1.0?-1.0:-(W*z);m=+Y(+(m>1.0?1.0:m))*2.0;c=-(W*q);u=-(W*Z);a=-(W*J)}else{m=a;c=W*q;u=W*Z;a=W*J}l[t+512>>2]=m;if(m>1.1920928955078125e-07){wt=1.0/+V(+(c*c+u*u+a*a));d=c*wt;p=a*wt;u=u*wt}else{d=c;p=a}a=+l[t+428>>2];if(m>g*a){i[t+525>>0]=1;c=m-g*a;if(m<g&a<.9999998807907104)a=c/(g-g*a);else a=1.0;l[t+532>>2]=a;l[t+508>>2]=c;xt=-d;yt=-u;bt=-p;J=(st*lt-at*ct-ut*ft-ht*pt)*xt+(at*pt+(lt*ut+st*ft)-ct*ht)*bt-(st*ht+lt*pt+ct*ft-at*ut)*yt;wt=(st*ht+lt*pt+ct*ft-at*ut)*xt+(st*lt-at*ct-ut*ft-ht*pt)*yt-(st*at+ct*lt+ut*ht-pt*ft)*bt;vt=(st*at+ct*lt+ut*ht-pt*ft)*yt+(st*lt-at*ct-ut*ft-ht*pt)*bt-(at*pt+(lt*ut+st*ft)-ct*ht)*xt;bt=-((st*at+ct*lt+ut*ht-pt*ft)*xt)-(at*pt+(lt*ut+st*ft)-ct*ht)*yt-(st*ht+lt*pt+ct*ft-at*ut)*bt;yt=wt*mt+(bt*dt+(st*lt-at*ct-ut*ft-ht*pt)*J)-vt*_t;xt=vt*dt+((st*lt-at*ct-ut*ft-ht*pt)*wt+bt*_t)-J*mt;wt=J*_t+(bt*mt+(st*lt-at*ct-ut*ft-ht*pt)*vt)-wt*dt;l[t+476>>2]=yt;l[t+480>>2]=xt;l[t+484>>2]=wt;l[t+488>>2]=0.0;l[t+496>>2]=1.0/(yt*(+l[r>>2]*yt+ +l[r+16>>2]*xt+ +l[r+32>>2]*wt)+xt*(yt*+l[r+4>>2]+xt*+l[r+20>>2]+wt*+l[r+36>>2])+wt*(yt*+l[r+8>>2]+xt*+l[r+24>>2]+wt*+l[r+40>>2])+(yt*(yt*+l[s>>2]+xt*+l[s+16>>2]+wt*+l[s+32>>2])+xt*(yt*+l[s+4>>2]+xt*+l[s+20>>2]+wt*+l[s+36>>2])+wt*(yt*+l[s+8>>2]+xt*+l[s+24>>2]+wt*+l[s+40>>2])))}if(!(i[t+526>>0]|0)){h=gt;return}mt=-d;wt=-u;bt=-p;_t=($*et-Q*tt-nt*ot-it*rt)*mt+(Q*rt+(et*nt+$*ot)-tt*it)*bt-($*it+et*rt+tt*ot-Q*nt)*wt;xt=($*it+et*rt+tt*ot-Q*nt)*mt+($*et-Q*tt-nt*ot-it*rt)*wt-($*Q+tt*et+nt*it-rt*ot)*bt;yt=($*Q+tt*et+nt*it-rt*ot)*wt+($*et-Q*tt-nt*ot-it*rt)*bt-(Q*rt+(et*nt+$*ot)-tt*it)*mt;bt=-(($*Q+tt*et+nt*it-rt*ot)*mt)-(Q*rt+(et*nt+$*ot)-tt*it)*wt-($*it+et*rt+tt*ot-Q*nt)*bt;wt=-($*Q+tt*et+nt*it-rt*ot);mt=-(Q*rt+(et*nt+$*ot)-tt*it);vt=-($*it+et*rt+tt*ot-Q*nt);l[t+536>>2]=xt*vt+(bt*wt+($*et-Q*tt-nt*ot-it*rt)*_t)-yt*mt;l[t+540>>2]=yt*wt+(($*et-Q*tt-nt*ot-it*rt)*xt+bt*mt)-_t*vt;l[t+544>>2]=_t*mt+(bt*vt+($*et-Q*tt-nt*ot-it*rt)*yt)-xt*wt;l[t+548>>2]=0.0;h=gt;return}function RA(t,e){t=t|0;e=e|0;var n=0,r=0,s=0.0,a=0,c=0;if(i[t+527>>0]|0){o[e>>2]=0;o[e+4>>2]=0;return}o[e>>2]=3;o[e+4>>2]=3;c=o[t+28>>2]|0;a=o[t+32>>2]|0;EA(t,c+4|0,a+4|0,c+288|0,a+288|0);if((i[t+526>>0]|0?(n=o[e>>2]|0,o[e>>2]=n+1,r=o[e+4>>2]|0,o[e+4>>2]=r+-1,s=+l[t+456>>2],+l[t+444>>2]<s):0)?+l[t+448>>2]<s:0){o[e>>2]=n+2;o[e+4>>2]=r+-2}if(!(i[t+525>>0]|0))return;o[e>>2]=(o[e>>2]|0)+1;o[e+4>>2]=(o[e+4>>2]|0)+-1;return}function IA(t,e){t=t|0;e=e|0;var n=0,r=0,s=0.0,a=0,c=0,u=0.0,h=0.0,p=0.0,f=0.0,d=0.0,_=0,m=0,g=0,b=0,v=0.0,y=0.0,x=0.0,w=0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0;_=o[t+28>>2]|0;a=o[t+32>>2]|0;EA(t,_+4|0,a+4|0,_+288|0,a+288|0);g=o[e+8>>2]|0;l[g>>2]=1.0;m=o[e+24>>2]|0;l[g+(m+1<<2)>>2]=1.0;l[g+((m<<1)+2<<2)>>2]=1.0;p=+l[t+348>>2];x=+l[t+352>>2];d=+l[t+356>>2];v=+l[_+4>>2]*p+ +l[_+8>>2]*x+ +l[_+12>>2]*d;f=p*+l[_+20>>2]+x*+l[_+24>>2]+d*+l[_+28>>2];d=p*+l[_+36>>2]+x*+l[_+40>>2]+d*+l[_+44>>2];g=o[e+12>>2]|0;o[g>>2]=0;l[g+4>>2]=d;l[g+8>>2]=-f;l[g+12>>2]=0.0;l[g+(m<<2)>>2]=-d;o[g+(m<<2)+4>>2]=0;l[g+(m<<2)+8>>2]=v;l[g+(m<<2)+12>>2]=0.0;l[g+(m<<1<<2)>>2]=f;l[g+(m<<1<<2)+4>>2]=-v;o[g+(m<<1<<2)+8>>2]=0;l[g+(m<<1<<2)+12>>2]=0.0;g=o[e+16>>2]|0;l[g>>2]=-1.0;l[g+(m+1<<2)>>2]=-1.0;l[g+((m<<1)+2<<2)>>2]=-1.0;x=+l[t+412>>2];p=+l[t+416>>2];h=+l[t+420>>2];y=+l[a+4>>2]*x+ +l[a+8>>2]*p+ +l[a+12>>2]*h;u=x*+l[a+20>>2]+p*+l[a+24>>2]+h*+l[a+28>>2];h=x*+l[a+36>>2]+p*+l[a+40>>2]+h*+l[a+44>>2];m=o[e+20>>2]|0;g=o[e+24>>2]|0;o[m>>2]=0;l[m+4>>2]=-h;l[m+8>>2]=u;l[m+12>>2]=0.0;l[m+(g<<2)>>2]=h;o[m+(g<<2)+4>>2]=0;l[m+(g<<2)+8>>2]=-y;l[m+(g<<2)+12>>2]=0.0;l[m+(g<<1<<2)>>2]=-u;l[m+(g<<1<<2)+4>>2]=y;o[m+(g<<1<<2)+8>>2]=0;l[m+(g<<1<<2)+12>>2]=0.0;g=o[t+592>>2]|0;p=+l[((g&2|0)==0?e+4|0:t+600|0)>>2]*+l[e>>2];b=o[e+24>>2]|0;c=o[e+28>>2]|0;r=o[e+36>>2]|0;n=o[e+40>>2]|0;l[c>>2]=p*(y+ +l[a+52>>2]-v-+l[_+52>>2]);l[r>>2]=-3402823466385288598117041.0e14;l[n>>2]=3402823466385288598117041.0e14;if(!(g&1)){l[c+(b<<2)>>2]=p*(u+ +l[a+56>>2]-f-+l[_+56>>2]);l[r+(b<<2)>>2]=-3402823466385288598117041.0e14;l[n+(b<<2)>>2]=3402823466385288598117041.0e14;l[c+(b<<1<<2)>>2]=p*(h+ +l[a+60>>2]-d-+l[_+60>>2]);l[r+(b<<1<<2)>>2]=-3402823466385288598117041.0e14;l[n+(b<<1<<2)>>2]=3402823466385288598117041.0e14}else{w=o[e+32>>2]|0;o[w>>2]=o[t+596>>2];l[c+(b<<2)>>2]=p*(u+ +l[a+56>>2]-f-+l[_+56>>2]);l[r+(b<<2)>>2]=-3402823466385288598117041.0e14;l[n+(b<<2)>>2]=3402823466385288598117041.0e14;o[w+(b<<2)>>2]=o[t+596>>2];l[c+(b<<1<<2)>>2]=p*(h+ +l[a+60>>2]-d-+l[_+60>>2]);l[r+(b<<1<<2)>>2]=-3402823466385288598117041.0e14;l[n+(b<<1<<2)>>2]=3402823466385288598117041.0e14;o[w+(b<<1<<2)>>2]=o[t+596>>2]}do{if(!(i[t+526>>0]|0))a=b*3|0;else{a=o[e+12>>2]|0;x=+l[t+456>>2];if(+l[t+444>>2]<x?+l[t+448>>2]<x:0){C=+l[_+4>>2];M=+l[_+8>>2];S=+l[_+12>>2];E=+l[t+304>>2];L=+l[t+320>>2];A=+l[t+336>>2];p=+l[t+308>>2];d=+l[t+324>>2];y=+l[t+340>>2];s=+l[_+20>>2];u=+l[_+24>>2];h=+l[_+28>>2];f=+l[_+36>>2];v=+l[_+40>>2];x=+l[_+44>>2];l[a+(b*3<<2)>>2]=C*E+M*L+S*A;l[a+((b*3|0)+1<<2)>>2]=E*s+L*u+A*h;l[a+((b*3|0)+2<<2)>>2]=E*f+L*v+A*x;l[a+(b<<2<<2)>>2]=C*p+M*d+S*y;l[a+((b<<2|1)<<2)>>2]=p*s+d*u+y*h;l[a+((b<<2|2)<<2)>>2]=p*f+d*v+y*x;l[m+(b*3<<2)>>2]=-(C*E+M*L+S*A);l[m+((b*3|0)+1<<2)>>2]=-(E*s+L*u+A*h);l[m+((b*3|0)+2<<2)>>2]=-(E*f+L*v+A*x);l[m+(b<<2<<2)>>2]=-(C*p+M*d+S*y);l[m+((b<<2|1)<<2)>>2]=-(p*s+d*u+y*h);l[m+((b<<2|2)<<2)>>2]=-(p*f+d*v+y*x);T=+l[e>>2]*+l[t+436>>2];c=o[e+28>>2]|0;l[c+(b*3<<2)>>2]=T*((C*E+M*L+S*A)*+l[t+460>>2]+(E*s+L*u+A*h)*+l[t+464>>2]+(E*f+L*v+A*x)*+l[t+468>>2]);l[c+(b<<2<<2)>>2]=T*((C*p+M*d+S*y)*+l[t+460>>2]+(p*s+d*u+y*h)*+l[t+464>>2]+(p*f+d*v+y*x)*+l[t+468>>2]);r=o[e+36>>2]|0;l[r+(b*3<<2)>>2]=-3402823466385288598117041.0e14;n=o[e+40>>2]|0;l[n+(b*3<<2)>>2]=3402823466385288598117041.0e14;l[r+(b<<2<<2)>>2]=-3402823466385288598117041.0e14;l[n+(b<<2<<2)>>2]=3402823466385288598117041.0e14;a=(o[e+24>>2]|0)+(b<<2)|0;break}E=+l[t+436>>2];A=E*(+l[t+460>>2]*E);L=E*(E*+l[t+464>>2]);E=E*(E*+l[t+468>>2]);l[a+(b*3<<2)>>2]=A;l[a+((b*3|0)+1<<2)>>2]=L;l[a+((b*3|0)+2<<2)>>2]=E;l[m+(b*3<<2)>>2]=-A;l[m+((b*3|0)+1<<2)>>2]=-L;l[m+((b*3|0)+2<<2)>>2]=-E;l[c+(b*3<<2)>>2]=+l[e>>2]*+l[t+432>>2]*+l[t+504>>2];if(g&4|0)o[(o[e+32>>2]|0)+(b*3<<2)>>2]=o[t+604>>2];l[r+(b*3<<2)>>2]=0.0;if(!((i[t+552>>0]|0)!=0?(s=+l[t+572>>2],s>=0.0):0))s=3402823466385288598117041.0e14;l[n+(b*3<<2)>>2]=s;a=b<<2}}while(0);if(!(i[t+525>>0]|0))return;E=+l[t+436>>2];A=E*(+l[t+476>>2]*E);L=E*(E*+l[t+480>>2]);E=E*(E*+l[t+484>>2]);m=o[e+12>>2]|0;b=o[e+20>>2]|0;l[m+(a<<2)>>2]=A;g=a+1|0;l[m+(g<<2)>>2]=L;w=a+2|0;l[m+(w<<2)>>2]=E;l[b+(a<<2)>>2]=-A;l[b+(g<<2)>>2]=-L;l[b+(w<<2)>>2]=-E;l[c+(a<<2)>>2]=+l[e>>2]*+l[t+432>>2]*+l[t+508>>2];if(o[t+592>>2]&4|0)o[(o[e+32>>2]|0)+(a<<2)>>2]=o[t+604>>2];if(!(+l[t+452>>2]>0.0)){l[r+(a<<2)>>2]=-3402823466385288598117041.0e14;l[n+(a<<2)>>2]=3402823466385288598117041.0e14;return}r=r+(a<<2)|0;n=o[e+40>>2]|0;if(+l[t+508>>2]>0.0){l[r>>2]=0.0;l[n+(a<<2)>>2]=3402823466385288598117041.0e14;return}else{l[r>>2]=-3402823466385288598117041.0e14;l[n+(a<<2)>>2]=0.0;return}}function PA(t,e,n,r){t=t|0;e=e|0;n=n|0;r=+r;var s=0,a=0.0,c=0.0,u=0.0,p=0.0,f=0.0,d=0,_=0.0,m=0.0,g=0,b=0,v=0,y=0.0,x=0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0,D=0.0,k=0,O=0,N=0,F=0,B=0,j=0,U=0,z=0.0,G=0.0,W=0.0,H=0.0,X=0.0,q=0.0,Y=0.0,Z=0.0,J=0.0,K=0.0,$=0.0,Q=0.0,tt=0.0;U=h;h=h+448|0;if(!(i[t+527>>0]|0)){h=U;return}j=o[t+28>>2]|0;S=+l[t+348>>2];w=+l[t+352>>2];E=+l[t+356>>2];M=+l[j+52>>2];C=S*+l[j+4>>2]+w*+l[j+8>>2]+E*+l[j+12>>2]+M;T=+l[j+56>>2];A=S*+l[j+20>>2]+w*+l[j+24>>2]+E*+l[j+28>>2]+T;L=+l[j+60>>2];E=S*+l[j+36>>2]+w*+l[j+40>>2]+E*+l[j+44>>2]+L;j=o[t+32>>2]|0;w=+l[t+412>>2];S=+l[t+416>>2];u=+l[t+420>>2];R=+l[j+52>>2];I=w*+l[j+4>>2]+S*+l[j+8>>2]+u*+l[j+12>>2]+R;P=+l[j+56>>2];D=w*+l[j+20>>2]+S*+l[j+24>>2]+u*+l[j+28>>2]+P;c=+l[j+60>>2];u=w*+l[j+36>>2]+S*+l[j+40>>2]+u*+l[j+44>>2]+c;if(!(i[t+524>>0]|0)){y=+l[e+192>>2]+ +l[e+80>>2];w=+l[e+196>>2]+ +l[e+84>>2];m=+l[e+200>>2]+ +l[e+88>>2];S=+l[n+192>>2]+ +l[n+80>>2];_=+l[n+196>>2]+ +l[n+84>>2];f=+l[n+200>>2]+ +l[n+88>>2];p=+l[e+176>>2]+ +l[e+64>>2]+((E-L)*w-(A-T)*m)-(+l[n+176>>2]+ +l[n+64>>2]+((u-c)*_-(D-P)*f));f=+l[e+180>>2]+ +l[e+68>>2]+((C-M)*m-(E-L)*y)-(+l[n+180>>2]+ +l[n+68>>2]+((I-R)*f-(u-c)*S));_=+l[e+184>>2]+ +l[e+72>>2]+((A-T)*y-(C-M)*w)-(+l[n+184>>2]+ +l[n+72>>2]+((D-P)*S-(I-R)*_));d=(o[e+240>>2]|0)==0;x=0;do{S=1.0/+l[t+48+(x*84|0)+80>>2];g=t+48+(x*84|0)|0;w=+l[g>>2];b=t+48+(x*84|0)+4|0;y=+l[b>>2];v=t+48+(x*84|0)+8|0;m=+l[v>>2];m=S*(((C-I)*w+(A-D)*y+(E-u)*m)*-.30000001192092896/r)-S*(p*w+f*y+_*m);l[t+36>>2]=+l[t+36>>2]+m;y=+l[v>>2];w=+l[b>>2];S=+l[g>>2];s=o[t+28>>2]|0;a=+l[s+368>>2];if(!d){W=((A-T)*y-(E-L)*w)*+l[s+320>>2]+((E-L)*S-(C-M)*y)*+l[s+324>>2]+((C-M)*w-(A-T)*S)*+l[s+328>>2];z=((A-T)*y-(E-L)*w)*+l[s+304>>2]+((E-L)*S-(C-M)*y)*+l[s+308>>2]+((C-M)*w-(A-T)*S)*+l[s+312>>2];G=((A-T)*y-(E-L)*w)*+l[s+288>>2]+((E-L)*S-(C-M)*y)*+l[s+292>>2]+((C-M)*w-(A-T)*S)*+l[s+296>>2];X=m*(w*a)*+l[e+116>>2];H=m*(y*a)*+l[e+120>>2];l[e+64>>2]=m*(S*a)*+l[e+112>>2]+ +l[e+64>>2];l[e+68>>2]=X+ +l[e+68>>2];l[e+72>>2]=H+ +l[e+72>>2];z=z*(m*+l[e+100>>2]);a=W*(m*+l[e+104>>2]);l[e+80>>2]=G*(m*+l[e+96>>2])+ +l[e+80>>2];l[e+84>>2]=z+ +l[e+84>>2];l[e+88>>2]=a+ +l[e+88>>2]}s=o[t+32>>2]|0;a=+l[s+368>>2];if(o[n+240>>2]|0){X=((D-P)*y-(u-c)*w)*+l[s+320>>2]+((u-c)*S-(I-R)*y)*+l[s+324>>2]+((I-R)*w-(D-P)*S)*+l[s+328>>2];H=((D-P)*y-(u-c)*w)*+l[s+304>>2]+((u-c)*S-(I-R)*y)*+l[s+308>>2]+((I-R)*w-(D-P)*S)*+l[s+312>>2];W=((D-P)*y-(u-c)*w)*+l[s+288>>2]+((u-c)*S-(I-R)*y)*+l[s+292>>2]+((I-R)*w-(D-P)*S)*+l[s+296>>2];z=a*+l[b>>2]*-m*+l[n+116>>2];G=a*+l[v>>2]*-m*+l[n+120>>2];l[n+64>>2]=+l[n+112>>2]*(a*+l[g>>2]*-m)+ +l[n+64>>2];l[n+68>>2]=z+ +l[n+68>>2];l[n+72>>2]=G+ +l[n+72>>2];H=H*(+l[n+100>>2]*-m);X=X*(+l[n+104>>2]*-m);l[n+80>>2]=W*(+l[n+96>>2]*-m)+ +l[n+80>>2];l[n+84>>2]=H+ +l[n+84>>2];l[n+88>>2]=X+ +l[n+88>>2]}x=x+1|0}while((x|0)!=3)}do{if(!(i[t+552>>0]|0)){a=+l[t+440>>2];if(!(a>1.1920928955078125e-07)){k=e+80|0;d=e+196|0;O=e+84|0;g=e+200|0;N=e+88|0;b=n+192|0;F=n+80|0;v=n+196|0;B=n+84|0;x=n+200|0;j=n+88|0;s=e+192|0;break}c=+l[n+192>>2]+ +l[n+80>>2]-(+l[e+192>>2]+ +l[e+80>>2]);u=+l[n+196>>2]+ +l[n+84>>2]-(+l[e+196>>2]+ +l[e+84>>2]);p=+l[n+200>>2]+ +l[n+88>>2]-(+l[e+200>>2]+ +l[e+88>>2]);if(c*c+u*u+p*p>1.1920928955078125e-07){L=1.0/+V(+(c*c+u*u+p*p));s=o[t+28>>2]|0;_=+l[s+288>>2];m=+l[s+304>>2];y=+l[s+320>>2];w=+l[s+292>>2];S=+l[s+308>>2];M=+l[s+324>>2];C=+l[s+296>>2];T=+l[s+312>>2];A=+l[s+328>>2];s=o[t+32>>2]|0;a=a*(1.0/(c*L*(_*(c*L)+u*L*m+p*L*y)+u*L*(c*L*w+u*L*S+p*L*M)+p*L*(c*L*C+u*L*T+p*L*A)+(c*L*(c*L*+l[s+288>>2]+u*L*+l[s+304>>2]+p*L*+l[s+320>>2])+u*L*(c*L*+l[s+292>>2]+u*L*+l[s+308>>2]+p*L*+l[s+324>>2])+p*L*(c*L*+l[s+296>>2]+u*L*+l[s+312>>2]+p*L*+l[s+328>>2]))));L=+V(+(p*a*(p*a)+(c*a*(c*a)+u*a*(u*a))));f=1.0/L*(c*a);c=1.0/L*(u*a);a=1.0/L*(p*a);if(o[e+240>>2]|0){X=L*0.0*+l[e+116>>2];H=L*0.0*+l[e+120>>2];l[e+64>>2]=L*0.0*+l[e+112>>2]+ +l[e+64>>2];l[e+68>>2]=X+ +l[e+68>>2];l[e+72>>2]=H+ +l[e+72>>2];H=(f*m+c*S+a*T)*(L*+l[e+100>>2]);X=(f*y+c*M+a*A)*(L*+l[e+104>>2]);l[e+80>>2]=(f*_+c*w+a*C)*(L*+l[e+96>>2])+ +l[e+80>>2];l[e+84>>2]=H+ +l[e+84>>2];l[e+88>>2]=X+ +l[e+88>>2];s=o[t+32>>2]|0}if(o[n+240>>2]|0){X=f*+l[s+320>>2]+c*+l[s+324>>2]+a*+l[s+328>>2];H=f*+l[s+304>>2]+c*+l[s+308>>2]+a*+l[s+312>>2];W=f*+l[s+288>>2]+c*+l[s+292>>2]+a*+l[s+296>>2];z=L*-0.0*+l[n+116>>2];G=L*-0.0*+l[n+120>>2];l[n+64>>2]=L*-0.0*+l[n+112>>2]+ +l[n+64>>2];l[n+68>>2]=z+ +l[n+68>>2];l[n+72>>2]=G+ +l[n+72>>2];H=H*(+l[n+100>>2]*-L);X=X*(+l[n+104>>2]*-L);l[n+80>>2]=W*(+l[n+96>>2]*-L)+ +l[n+80>>2];l[n+84>>2]=H+ +l[n+84>>2];l[n+88>>2]=X+ +l[n+88>>2];k=e+80|0;d=e+196|0;O=e+84|0;g=e+200|0;N=e+88|0;b=n+192|0;F=n+80|0;v=n+196|0;B=n+84|0;x=n+200|0;j=n+88|0;s=e+192|0}else{k=e+80|0;d=e+196|0;O=e+84|0;g=e+200|0;N=e+88|0;b=n+192|0;F=n+80|0;v=n+196|0;B=n+84|0;x=n+200|0;j=n+88|0;s=e+192|0}}else{k=e+80|0;d=e+196|0;O=e+84|0;g=e+200|0;N=e+88|0;b=n+192|0;F=n+80|0;v=n+196|0;B=n+84|0;x=n+200|0;j=n+88|0;s=e+192|0}}else{B=o[t+28>>2]|0;o[U+352>>2]=o[B+4>>2];o[U+352+4>>2]=o[B+4+4>>2];o[U+352+8>>2]=o[B+4+8>>2];o[U+352+12>>2]=o[B+4+12>>2];o[U+352+16>>2]=o[B+20>>2];o[U+352+16+4>>2]=o[B+20+4>>2];o[U+352+16+8>>2]=o[B+20+8>>2];o[U+352+16+12>>2]=o[B+20+12>>2];o[U+352+32>>2]=o[B+36>>2];o[U+352+32+4>>2]=o[B+36+4>>2];o[U+352+32+8>>2]=o[B+36+8>>2];o[U+352+32+12>>2]=o[B+36+12>>2];o[U+352+48>>2]=o[B+52>>2];o[U+352+48+4>>2]=o[B+52+4>>2];o[U+352+48+8>>2]=o[B+52+8>>2];o[U+352+48+12>>2]=o[B+52+12>>2];B=o[t+32>>2]|0;o[U+288>>2]=o[B+4>>2];o[U+288+4>>2]=o[B+4+4>>2];o[U+288+8>>2]=o[B+4+8>>2];o[U+288+12>>2]=o[B+4+12>>2];o[U+288+16>>2]=o[B+20>>2];o[U+288+16+4>>2]=o[B+20+4>>2];o[U+288+16+8>>2]=o[B+20+8>>2];o[U+288+16+12>>2]=o[B+20+12>>2];o[U+288+32>>2]=o[B+36>>2];o[U+288+32+4>>2]=o[B+36+4>>2];o[U+288+32+8>>2]=o[B+36+8>>2];o[U+288+32+12>>2]=o[B+36+12>>2];o[U+288+48>>2]=o[B+52>>2];o[U+288+48+4>>2]=o[B+52+4>>2];o[U+288+48+8>>2]=o[B+52+8>>2];o[U+288+48+12>>2]=o[B+52+12>>2];W=+l[e+196>>2]+ +l[e+84>>2];y=+l[e+200>>2]+ +l[e+88>>2];l[U+272>>2]=+l[e+192>>2]+ +l[e+80>>2];l[U+272+4>>2]=W;l[U+272+8>>2]=y;l[U+272+12>>2]=0.0;y=+l[n+196>>2]+ +l[n+84>>2];W=+l[n+200>>2]+ +l[n+88>>2];l[U+256>>2]=+l[n+192>>2]+ +l[n+80>>2];l[U+256+4>>2]=y;l[U+256+8>>2]=W;l[U+256+12>>2]=0.0;o[U+192>>2]=1065353216;B=U+192+4|0;o[B>>2]=0;o[B+4>>2]=0;o[B+8>>2]=0;o[B+12>>2]=0;o[U+192+20>>2]=1065353216;j=U+192+24|0;o[j>>2]=0;o[j+4>>2]=0;o[j+8>>2]=0;o[j+12>>2]=0;o[U+192+40>>2]=1065353216;N=U+192+44|0;o[N>>2]=0;o[N+4>>2]=0;o[N+8>>2]=0;o[N+12>>2]=0;o[N+16>>2]=0;Uy(U+352|0,0.0,0.0,0.0,U+272|0,r,U+192|0);o[U+128>>2]=1065353216;N=U+128+4|0;o[N>>2]=0;o[N+4>>2]=0;o[N+8>>2]=0;o[N+12>>2]=0;o[U+128+20>>2]=1065353216;F=U+128+24|0;o[F>>2]=0;o[F+4>>2]=0;o[F+8>>2]=0;o[F+12>>2]=0;o[U+128+40>>2]=1065353216;O=U+128+44|0;o[O>>2]=0;o[O+4>>2]=0;o[O+8>>2]=0;o[O+12>>2]=0;o[O+16>>2]=0;Uy(U+288|0,0.0,0.0,0.0,U+256|0,r,U+128|0);W=+l[t+556>>2];y=+l[t+560>>2];H=+l[t+564>>2];w=+l[t+568>>2];I=W*(2.0/(W*W+y*y+H*H+w*w));T=y*(2.0/(W*W+y*y+H*H+w*w));P=H*(2.0/(W*W+y*y+H*H+w*w));Y=+l[t+364>>2];q=+l[t+368>>2];K=+l[t+372>>2];c=K*(W*P-w*T)+(q*(W*T+w*P)+Y*(1.0-(y*T+H*P)));u=K*(y*P+w*I)+(Y*(W*T-w*P)+q*(1.0-(W*I+H*P)));p=Y*(W*P+w*T)+q*(y*P-w*I)+K*(1.0-(W*I+y*T));a=+l[t+380>>2];R=+l[t+384>>2];A=+l[t+388>>2];f=(W*P-w*T)*A+(R*(W*T+w*P)+a*(1.0-(y*T+H*P)));_=(y*P+w*I)*A+(a*(W*T-w*P)+R*(1.0-(W*I+H*P)));m=a*(W*P+w*T)+R*(y*P-w*I)+A*(1.0-(W*I+y*T));z=+l[t+396>>2];L=+l[t+400>>2];C=+l[t+404>>2];G=(1.0-(y*T+H*P))*z+(W*T+w*P)*L+(W*P-w*T)*C;H=(W*T-w*P)*z+(1.0-(W*I+H*P))*L+(y*P+w*I)*C;T=(W*P+w*T)*z+(y*P-w*I)*L+(1.0-(W*I+y*T))*C;y=+l[t+300>>2];I=+l[t+316>>2];W=+l[t+332>>2];w=+l[t+304>>2];P=+l[t+320>>2];X=+l[t+336>>2];E=+l[t+308>>2];D=+l[t+324>>2];M=+l[t+340>>2];S=-+l[t+348>>2];tt=-+l[t+352>>2];J=-+l[t+356>>2];K=Y*0.0+q*0.0+K*0.0+ +l[t+412>>2]+(p*(E*S+D*tt+M*J)+(c*(y*S+I*tt+W*J)+u*(w*S+P*tt+X*J)));A=a*0.0+R*0.0+A*0.0+ +l[t+416>>2]+(m*(E*S+D*tt+M*J)+(f*(y*S+I*tt+W*J)+_*(w*S+P*tt+X*J)));J=z*0.0+L*0.0+C*0.0+ +l[t+420>>2]+(T*(E*S+D*tt+M*J)+(G*(y*S+I*tt+W*J)+H*(w*S+P*tt+X*J)));tt=+l[U+128>>2];S=+l[N>>2];C=+l[U+128+8>>2];L=+l[U+128+16>>2];z=+l[U+128+20>>2];R=+l[F>>2];a=+l[U+128+32>>2];q=+l[U+128+36>>2];Y=+l[U+128+40>>2];Z=C*J+(tt*K+S*A)+ +l[U+128+48>>2];$=L*K+A*z+J*R+ +l[U+128+52>>2];Q=K*a+A*q+J*Y+ +l[U+128+56>>2];l[U+64>>2]=(c*y+u*w+p*E)*tt+(f*y+_*w+m*E)*S+(G*y+H*w+T*E)*C;l[U+64+4>>2]=(c*I+u*P+p*D)*tt+(f*I+_*P+m*D)*S+(G*I+H*P+T*D)*C;l[U+64+8>>2]=(c*W+u*X+p*M)*tt+(f*W+_*X+m*M)*S+(G*W+H*X+T*M)*C;l[U+64+12>>2]=0.0;l[U+64+16>>2]=(c*y+u*w+p*E)*L+(f*y+_*w+m*E)*z+(G*y+H*w+T*E)*R;l[U+64+20>>2]=(c*I+u*P+p*D)*L+(f*I+_*P+m*D)*z+(G*I+H*P+T*D)*R;l[U+64+24>>2]=(c*W+u*X+p*M)*L+(f*W+_*X+m*M)*z+(G*W+H*X+T*M)*R;l[U+64+28>>2]=0.0;l[U+64+32>>2]=(c*y+u*w+p*E)*a+(f*y+_*w+m*E)*q+(G*y+H*w+T*E)*Y;l[U+64+36>>2]=(c*I+u*P+p*D)*a+(f*I+_*P+m*D)*q+(G*I+H*P+T*D)*Y;l[U+64+40>>2]=(c*W+u*X+p*M)*a+(f*W+_*X+m*M)*q+(G*W+H*X+T*M)*Y;l[U+64+44>>2]=0.0;l[U+64+48>>2]=Z;l[U+64+52>>2]=$;l[U+64+56>>2]=Q;l[U+64+60>>2]=0.0;Q=(G*y+H*w+T*E)*-J+((c*y+u*w+p*E)*-K+(f*y+_*w+m*E)*-A);$=(G*I+H*P+T*D)*-J+((c*I+u*P+p*D)*-K+(f*I+_*P+m*D)*-A);A=(G*W+H*X+T*M)*-J+((c*W+u*X+p*M)*-K+(f*W+_*X+m*M)*-A);K=+l[U+192>>2];J=+l[B>>2];Z=+l[U+192+8>>2];Y=+l[U+192+16>>2];q=+l[U+192+20>>2];a=+l[j>>2];R=+l[U+192+32>>2];z=+l[U+192+36>>2];L=+l[U+192+40>>2];C=Q*K+$*J+A*Z+ +l[U+192+48>>2];S=Q*Y+$*q+A*a+ +l[U+192+52>>2];A=Q*R+$*z+A*L+ +l[U+192+56>>2];l[U>>2]=(c*y+u*w+p*E)*K+(c*I+u*P+p*D)*J+(c*W+u*X+p*M)*Z;l[U+4>>2]=(f*y+_*w+m*E)*K+(f*I+_*P+m*D)*J+(f*W+_*X+m*M)*Z;l[U+8>>2]=(G*y+H*w+T*E)*K+(G*I+H*P+T*D)*J+(G*W+H*X+T*M)*Z;l[U+12>>2]=0.0;l[U+16>>2]=(c*y+u*w+p*E)*Y+(c*I+u*P+p*D)*q+(c*W+u*X+p*M)*a;l[U+20>>2]=(f*y+_*w+m*E)*Y+(f*I+_*P+m*D)*q+(f*W+_*X+m*M)*a;l[U+24>>2]=(G*y+H*w+T*E)*Y+(G*I+H*P+T*D)*q+(G*W+H*X+T*M)*a;l[U+28>>2]=0.0;l[U+32>>2]=(c*y+u*w+p*E)*R+(c*I+u*P+p*D)*z+(c*W+u*X+p*M)*L;l[U+36>>2]=(f*y+_*w+m*E)*R+(f*I+_*P+m*D)*z+(f*W+_*X+m*M)*L;l[U+40>>2]=(G*y+H*w+T*E)*R+(G*I+H*P+T*D)*z+(G*W+H*X+T*M)*L;l[U+44>>2]=0.0;l[U+48>>2]=C;l[U+52>>2]=S;l[U+56>>2]=A;l[U+60>>2]=0.0;Yw(U+352|0,U+64|0,U+424|0,U+416|0);A=+l[U+416>>2];S=1.0/r*(+l[U+424>>2]*A);C=1.0/r*(A*+l[U+424+4>>2]);A=1.0/r*(A*+l[U+424+8>>2]);Yw(U+288|0,U,U+424|0,U+416|0);L=+l[U+416>>2];S=S-+l[U+272>>2];C=C-+l[U+272+4>>2];A=A-+l[U+272+8>>2];M=1.0/r*(+l[U+424>>2]*L)-+l[U+256>>2];T=1.0/r*(L*+l[U+424+4>>2])-+l[U+256+4>>2];L=1.0/r*(L*+l[U+424+8>>2])-+l[U+256+8>>2];if(S*S+C*C+A*A>1.1920928955078125e-07){m=1.0/+V(+(S*S+C*C+A*A));j=o[t+28>>2]|0;a=S*m;u=C*m;f=A*m;m=S*m*(+l[j+288>>2]*(S*m)+C*m*+l[j+304>>2]+A*m*+l[j+320>>2])+C*m*(S*m*+l[j+292>>2]+C*m*+l[j+308>>2]+A*m*+l[j+324>>2])+A*m*(S*m*+l[j+296>>2]+C*m*+l[j+312>>2]+A*m*+l[j+328>>2])}else{a=0.0;u=0.0;f=0.0;m=0.0}if(M*M+T*T+L*L>1.1920928955078125e-07){y=1.0/+V(+(M*M+T*T+L*L));j=o[t+32>>2]|0;c=M*y;p=T*y;_=L*y;y=M*y*(+l[j+288>>2]*(M*y)+T*y*+l[j+304>>2]+L*y*+l[j+320>>2])+T*y*(M*y*+l[j+292>>2]+T*y*+l[j+308>>2]+L*y*+l[j+324>>2])+L*y*(M*y*+l[j+296>>2]+T*y*+l[j+312>>2]+L*y*+l[j+328>>2])}else{c=0.0;p=0.0;_=0.0;y=0.0}w=m*a+y*c;c=m*u+y*p;a=m*f+y*_;if(w*w+c*c+a*a>1.1920928955078125e-07){f=1.0/+V(+(w*w+c*c+a*a));d=o[t+28>>2]|0;u=w*f*(+l[d+288>>2]*(w*f)+c*f*+l[d+304>>2]+a*f*+l[d+320>>2])+c*f*(w*f*+l[d+292>>2]+c*f*+l[d+308>>2]+a*f*+l[d+324>>2])+a*f*(w*f*+l[d+296>>2]+c*f*+l[d+312>>2]+a*f*+l[d+328>>2]);s=o[t+32>>2]|0;f=w*f*(w*f*+l[s+288>>2]+c*f*+l[s+304>>2]+a*f*+l[s+320>>2])+c*f*(w*f*+l[s+292>>2]+c*f*+l[s+308>>2]+a*f*+l[s+324>>2])+a*f*(w*f*+l[s+296>>2]+c*f*+l[s+312>>2]+a*f*+l[s+328>>2]);c=(S*u-M*f)*(1.0/((u+f)*(u+f)));y=(C*u-T*f)*(1.0/((u+f)*(u+f)));f=(A*u-L*f)*(1.0/((u+f)*(u+f)));a=+l[t+572>>2];if(!(a>=0.0))a=y;else{u=(i[t+553>>0]|0)==0?a:a/u;p=+l[t+576>>2];_=+l[t+580>>2];m=+l[t+584>>2];a=+V(+((c+p)*(c+p)+(y+_)*(y+_)+(f+m)*(f+m)));if(a>u){c=u*((c+p)*(1.0/a))-p;f=u*((f+m)*(1.0/a))-m;a=u*((y+_)*(1.0/a))-_}else a=y;l[t+576>>2]=c+p;l[t+580>>2]=a+_;l[t+584>>2]=f+m}p=+V(+(c*c+a*a+f*f));u=c*(1.0/p);c=a*(1.0/p);a=f*(1.0/p);if(o[e+240>>2]|0){tt=u*+l[d+320>>2]+c*+l[d+324>>2]+a*+l[d+328>>2];Q=u*+l[d+304>>2]+c*+l[d+308>>2]+a*+l[d+312>>2];$=u*+l[d+288>>2]+c*+l[d+292>>2]+a*+l[d+296>>2];J=p*0.0*+l[e+116>>2];K=p*0.0*+l[e+120>>2];l[e+64>>2]=p*0.0*+l[e+112>>2]+ +l[e+64>>2];l[e+68>>2]=J+ +l[e+68>>2];l[e+72>>2]=K+ +l[e+72>>2];Q=Q*(p*+l[e+100>>2]);tt=tt*(p*+l[e+104>>2]);l[e+80>>2]=$*(p*+l[e+96>>2])+ +l[e+80>>2];l[e+84>>2]=Q+ +l[e+84>>2];l[e+88>>2]=tt+ +l[e+88>>2];s=o[t+32>>2]|0}if(o[n+240>>2]|0){tt=u*+l[s+320>>2]+c*+l[s+324>>2]+a*+l[s+328>>2];Q=u*+l[s+304>>2]+c*+l[s+308>>2]+a*+l[s+312>>2];$=u*+l[s+288>>2]+c*+l[s+292>>2]+a*+l[s+296>>2];J=p*-0.0*+l[n+116>>2];K=p*-0.0*+l[n+120>>2];l[n+64>>2]=p*-0.0*+l[n+112>>2]+ +l[n+64>>2];l[n+68>>2]=J+ +l[n+68>>2];l[n+72>>2]=K+ +l[n+72>>2];Q=Q*(+l[n+100>>2]*-p);tt=tt*(+l[n+104>>2]*-p);l[n+80>>2]=$*(+l[n+96>>2]*-p)+ +l[n+80>>2];l[n+84>>2]=Q+ +l[n+84>>2];l[n+88>>2]=tt+ +l[n+88>>2]}}k=e+80|0;d=e+196|0;O=e+84|0;g=e+200|0;N=e+88|0;b=n+192|0;F=n+80|0;v=n+196|0;B=n+84|0;x=n+200|0;j=n+88|0;s=e+192|0}}while(0);C=+l[s>>2]+ +l[k>>2];M=+l[d>>2]+ +l[O>>2];S=+l[g>>2]+ +l[N>>2];w=+l[b>>2]+ +l[F>>2];y=+l[v>>2]+ +l[B>>2];m=+l[x>>2]+ +l[j>>2];if(i[t+526>>0]|0){c=+l[t+528>>2];a=c*+l[t+504>>2]*+l[t+432>>2]/r;u=+l[t+460>>2];p=+l[t+464>>2];f=+l[t+468>>2];if((w-C)*u+(y-M)*p+(m-S)*f>0.0)a=a+c*((w-C)*u+(y-M)*p+(m-S)*f)*+l[t+436>>2];Q=+l[t+516>>2];$=Q+a*+l[t+492>>2];$=$>0.0?$:0.0;l[t+516>>2]=$;K=+l[t+536>>2];c=+l[t+540>>2];tt=+l[t+544>>2];a=u*($-Q)*K+p*($-Q)*c+($-Q)*f*tt;_=+V(+((($-Q)*f-tt*a)*(($-Q)*f-tt*a)+((u*($-Q)-K*a)*(u*($-Q)-K*a)+(p*($-Q)-c*a)*(p*($-Q)-c*a))));u=1.0/_*(u*($-Q)-K*a);c=1.0/_*(p*($-Q)-c*a);a=1.0/_*(($-Q)*f-tt*a);s=o[t+28>>2]|0;if(o[e+240>>2]|0){tt=u*+l[s+320>>2]+c*+l[s+324>>2]+a*+l[s+328>>2];Q=u*+l[s+304>>2]+c*+l[s+308>>2]+a*+l[s+312>>2];$=u*+l[s+288>>2]+c*+l[s+292>>2]+a*+l[s+296>>2];J=_*0.0*+l[e+116>>2];K=_*0.0*+l[e+120>>2];l[e+64>>2]=_*0.0*+l[e+112>>2]+ +l[e+64>>2];l[e+68>>2]=J+ +l[e+68>>2];l[e+72>>2]=K+ +l[e+72>>2];Q=Q*(_*+l[e+100>>2]);tt=tt*(_*+l[e+104>>2]);l[k>>2]=$*(_*+l[e+96>>2])+ +l[k>>2];l[O>>2]=Q+ +l[O>>2];l[N>>2]=tt+ +l[N>>2]}s=o[t+32>>2]|0;if(o[n+240>>2]|0){tt=u*+l[s+320>>2]+c*+l[s+324>>2]+a*+l[s+328>>2];Q=u*+l[s+304>>2]+c*+l[s+308>>2]+a*+l[s+312>>2];$=u*+l[s+288>>2]+c*+l[s+292>>2]+a*+l[s+296>>2];J=_*-0.0*+l[n+116>>2];K=_*-0.0*+l[n+120>>2];l[n+64>>2]=_*-0.0*+l[n+112>>2]+ +l[n+64>>2];l[n+68>>2]=J+ +l[n+68>>2];l[n+72>>2]=K+ +l[n+72>>2];Q=Q*(+l[n+100>>2]*-_);tt=tt*(+l[n+104>>2]*-_);l[F>>2]=$*(+l[n+96>>2]*-_)+ +l[F>>2];l[B>>2]=Q+ +l[B>>2];l[j>>2]=tt+ +l[j>>2]}}if(!(i[t+525>>0]|0)){h=U;return}f=+l[t+532>>2];p=f*+l[t+508>>2]*+l[t+432>>2]/r;u=+l[t+476>>2];c=+l[t+480>>2];a=+l[t+484>>2];if((w-C)*u+(y-M)*c+(m-S)*a>0.0)p=p+f*((w-C)*u+(y-M)*c+(m-S)*a)*+l[t+436>>2];f=+l[t+520>>2];p=f+p*+l[t+496>>2];p=p>0.0?p:0.0;l[t+520>>2]=p;s=o[t+28>>2]|0;if(o[e+240>>2]|0){tt=u*+l[s+320>>2]+c*+l[s+324>>2]+a*+l[s+328>>2];Q=u*+l[s+304>>2]+c*+l[s+308>>2]+a*+l[s+312>>2];a=u*+l[s+288>>2]+c*+l[s+292>>2]+a*+l[s+296>>2];u=(p-f)*0.0*+l[e+116>>2];c=(p-f)*0.0*+l[e+120>>2];l[e+64>>2]=(p-f)*0.0*+l[e+112>>2]+ +l[e+64>>2];l[e+68>>2]=u+ +l[e+68>>2];l[e+72>>2]=c+ +l[e+72>>2];c=Q*((p-f)*+l[e+100>>2]);u=tt*((p-f)*+l[e+104>>2]);l[k>>2]=a*((p-f)*+l[e+96>>2])+ +l[k>>2];l[O>>2]=c+ +l[O>>2];l[N>>2]=u+ +l[N>>2];u=+l[t+476>>2];c=+l[t+480>>2];a=+l[t+484>>2]}s=o[t+32>>2]|0;if(!(o[n+240>>2]|0)){h=U;return}tt=u*+l[s+320>>2]+c*+l[s+324>>2]+a*+l[s+328>>2];Q=u*+l[s+304>>2]+c*+l[s+308>>2]+a*+l[s+312>>2];$=u*+l[s+288>>2]+c*+l[s+292>>2]+a*+l[s+296>>2];J=(p-f)*-0.0*+l[n+116>>2];K=(p-f)*-0.0*+l[n+120>>2];l[n+64>>2]=(p-f)*-0.0*+l[n+112>>2]+ +l[n+64>>2];l[n+68>>2]=J+ +l[n+68>>2];l[n+72>>2]=K+ +l[n+72>>2];Q=Q*(+l[n+100>>2]*-(p-f));tt=tt*(+l[n+104>>2]*-(p-f));l[F>>2]=$*(+l[n+96>>2]*-(p-f))+ +l[F>>2];l[B>>2]=Q+ +l[B>>2];l[j>>2]=tt+ +l[j>>2];h=U;return}function DA(t,e,n,i){t=t|0;e=e|0;n=+n;i=i|0;switch(e|0){case 2:case 1:if(i>>>0<3){l[t+600>>2]=n;o[t+592>>2]=o[t+592>>2]|2;return}else{l[t+432>>2]=n;return}case 4:case 3:if(i>>>0<3){l[t+596>>2]=n;o[t+592>>2]=o[t+592>>2]|1;return}else{l[t+604>>2]=n;o[t+592>>2]=o[t+592>>2]|4;return}default:return}}function kA(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0;t:do{switch(e|0){case 2:case 1:{if(n>>>0<3){i=+l[t+600>>2];break t}if((n+-3|0)>>>0<3)i=+l[t+432>>2];else i=0.0;break}case 4:case 3:{if(n>>>0<3){i=+l[t+596>>2];break t}if((n+-3|0)>>>0<3)i=+l[t+604>>2];else i=0.0;break}default:i=0.0}}while(0);return+i}function OA(t){t=t|0;return 212}function NA(t,e,n){t=t|0;e=e|0;n=n|0;jb(t,e,n)|0;o[e+52>>2]=o[t+300>>2];o[e+56>>2]=o[t+304>>2];o[e+60>>2]=o[t+308>>2];o[e+64>>2]=o[t+312>>2];o[e+68>>2]=o[t+316>>2];o[e+72>>2]=o[t+320>>2];o[e+76>>2]=o[t+324>>2];o[e+80>>2]=o[t+328>>2];o[e+84>>2]=o[t+332>>2];o[e+88>>2]=o[t+336>>2];o[e+92>>2]=o[t+340>>2];o[e+96>>2]=o[t+344>>2];o[e+100>>2]=o[t+348>>2];o[e+104>>2]=o[t+352>>2];o[e+108>>2]=o[t+356>>2];o[e+112>>2]=o[t+360>>2];o[e+116>>2]=o[t+364>>2];o[e+120>>2]=o[t+368>>2];o[e+124>>2]=o[t+372>>2];o[e+128>>2]=o[t+376>>2];o[e+132>>2]=o[t+380>>2];o[e+136>>2]=o[t+384>>2];o[e+140>>2]=o[t+388>>2];o[e+144>>2]=o[t+392>>2];o[e+148>>2]=o[t+396>>2];o[e+152>>2]=o[t+400>>2];o[e+156>>2]=o[t+404>>2];o[e+160>>2]=o[t+408>>2];o[e+164>>2]=o[t+412>>2];o[e+168>>2]=o[t+416>>2];o[e+172>>2]=o[t+420>>2];o[e+176>>2]=o[t+424>>2];o[e+180>>2]=o[t+444>>2];o[e+184>>2]=o[t+448>>2];o[e+188>>2]=o[t+452>>2];o[e+192>>2]=o[t+428>>2];o[e+196>>2]=o[t+432>>2];o[e+200>>2]=o[t+436>>2];o[e+204>>2]=o[t+440>>2];return 15142}function FA(t,e,n){t=t|0;e=e|0;n=n|0;o[t+300>>2]=o[e>>2];o[t+300+4>>2]=o[e+4>>2];o[t+300+8>>2]=o[e+8>>2];o[t+300+12>>2]=o[e+12>>2];o[t+316>>2]=o[e+16>>2];o[t+316+4>>2]=o[e+16+4>>2];o[t+316+8>>2]=o[e+16+8>>2];o[t+316+12>>2]=o[e+16+12>>2];o[t+332>>2]=o[e+32>>2];o[t+332+4>>2]=o[e+32+4>>2];o[t+332+8>>2]=o[e+32+8>>2];o[t+332+12>>2]=o[e+32+12>>2];o[t+348>>2]=o[e+48>>2];o[t+348+4>>2]=o[e+48+4>>2];o[t+348+8>>2]=o[e+48+8>>2];o[t+348+12>>2]=o[e+48+12>>2];o[t+364>>2]=o[n>>2];o[t+364+4>>2]=o[n+4>>2];o[t+364+8>>2]=o[n+8>>2];o[t+364+12>>2]=o[n+12>>2];o[t+380>>2]=o[n+16>>2];o[t+380+4>>2]=o[n+16+4>>2];o[t+380+8>>2]=o[n+16+8>>2];o[t+380+12>>2]=o[n+16+12>>2];o[t+396>>2]=o[n+32>>2];o[t+396+4>>2]=o[n+32+4>>2];o[t+396+8>>2]=o[n+32+8>>2];o[t+396+12>>2]=o[n+32+12>>2];o[t+412>>2]=o[n+48>>2];o[t+412+4>>2]=o[n+48+4>>2];o[t+412+8>>2]=o[n+48+8>>2];o[t+412+12>>2]=o[n+48+12>>2];sk[o[(o[t>>2]|0)+8>>2]&255](t);return}function BA(){o[5310]=1065353216;o[5311]=0;o[5312]=0;l[5313]=0.0;return}function jA(t,e,n,i){t=t|0;e=e|0;n=+n;i=+i;var r=0,s=0.0,a=0.0,c=0.0,u=0,h=0.0,p=0.0,d=0.0;c=+H(+n);a=+X(+n);r=o[e+444>>2]|0;u=+G(+c)>1.1920928955078125e-07;n=(o[f>>2]=r,+l[f>>2]);if(u){h=+l[e+448>>2];h=+V(+((a*a/(c*c)+1.0)/(1.0/(h*h)+a*a/(c*c)/(n*n))));n=a*a;s=c*c;r=(l[f>>2]=h,o[f>>2]|0)}else{n=a*a;s=c*c}h=+V(+(s+0.0+n));p=(o[f>>2]=r,+l[f>>2])*.5;h=+X(+p)/h;p=+H(+p);d=p*i+c*h*0.0-a*h*-0.0;s=p*0.0-a*h*i-h*0.0*0.0;n=p*0.0+h*0.0*0.0-c*h*i;i=-(h*0.0*i)-c*h*0.0-a*h*-0.0;l[t>>2]=a*h*s+(p*d+i*-(h*0.0))-n*-(c*h);l[t+4>>2]=n*-(h*0.0)+(p*s+i*-(c*h))-a*h*d;l[t+8>>2]=d*-(c*h)+(a*h*i+p*n)-s*-(h*0.0);l[t+12>>2]=0.0;return}function UA(t,e){t=t|0;e=e|0;var n=0.0,i=0,r=0.0,s=0,a=0.0,c=0.0,u=0.0,h=0.0,p=0,d=0,_=0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0,w=0,S=0.0,M=0,C=0.0,T=0.0,A=0.0,L=0.0;o[t+556>>2]=o[e>>2];o[t+556+4>>2]=o[e+4>>2];o[t+556+8>>2]=o[e+8>>2];o[t+556+12>>2]=o[e+12>>2];b=+l[t+568>>2];c=+l[5310];v=+l[t+560>>2];r=+l[5312];m=+l[t+564>>2];a=+l[5311];g=+l[t+556>>2];u=(c*m+b*a-r*g)*-m+(b*(b*c+v*r-m*a)+(-(c*g)-v*a-r*m)*-g)-(b*r+a*g-c*v)*-v;h=(b*r+a*g-c*v)*-g+(b*(c*m+b*a-r*g)+(-(c*g)-v*a-r*m)*-v)-(b*c+v*r-m*a)*-m;n=(b*c+v*r-m*a)*-v+((-(c*g)-v*a-r*m)*-m+b*(b*r+a*g-c*v))-(c*m+b*a-r*g)*-g;do{if(r*n+(a*h+c*u)<-.9999998807907104)if(+G(+r)>.7071067690849304){n=1.0/+V(+(r*r+a*a));i=0;r=-(r*n);e=(l[f>>2]=a*n,o[f>>2]|0);n=0.0;break}else{r=1.0/+V(+(c*c+a*a));i=(l[f>>2]=-(a*r),o[f>>2]|0);r=c*r;e=0;n=0.0;break}else{L=+V(+((r*n+(a*h+c*u)+1.0)*2.0));i=(l[f>>2]=(a*n-r*h)*(1.0/L),o[f>>2]|0);r=(r*u-c*n)*(1.0/L);e=(l[f>>2]=(c*h-a*u)*(1.0/L),o[f>>2]|0);n=L*.5}}while(0);c=(o[f>>2]=i,+l[f>>2]);h=(o[f>>2]=e,+l[f>>2]);y=1.0/+V(+(n*n+(c*c+r*r+h*h)));d=(l[f>>2]=c*y,o[f>>2]|0);S=r*y;w=(l[f>>2]=h*y,o[f>>2]|0);n=n*y;x=(l[f>>2]=n,o[f>>2]|0);T=g*n+b*-(c*y)+m*-S-v*-(h*y);A=g*-(h*y)+(b*-S+n*v)-m*-(c*y);L=b*-(h*y)+n*m+v*-(c*y)-g*-S;m=n*b-g*-(c*y)-v*-S-m*-(h*y);g=1.0/+V(+(m*m+(L*L+(T*T+A*A))));s=(l[f>>2]=T*g,o[f>>2]|0);e=(l[f>>2]=g*A,o[f>>2]|0);i=(l[f>>2]=g*L,o[f>>2]|0);r=+l[t+444>>2];p=(l[f>>2]=r,o[f>>2]|0);if(r>=.05000000074505806?(C=+l[t+448>>2],C>=.05000000074505806):0){n=n<-1.0?-1.0:n;n=+Y(+(n>1.0?1.0:n))*2.0;if(n>1.1920928955078125e-07){a=1.0/+V(+(h*y*(h*y)+(c*y*(c*y)+S*S)));if(+G(+(S*a))>1.1920928955078125e-07){C=+V(+((h*y*a*(h*y*a)/(S*a*(S*a))+1.0)/(1.0/(C*C)+h*y*a*(h*y*a)/(S*a*(S*a))/(r*r))));c=c*y*a;u=S*a;a=h*y*a;p=(l[f>>2]=C,o[f>>2]|0)}else{c=c*y*a;u=S*a;a=h*y*a}}else{c=0.0;u=0.0;a=0.0;p=0}if(+G(+n)>1.1920928955078125e-07){r=(o[f>>2]=p,+l[f>>2]);if(!(n>r)){if(n<-r)n=-r}else n=r;C=n*.5;S=+X(+C)/+V(+(c*c+u*u+a*a));C=+H(+C);M=(l[f>>2]=c*S,o[f>>2]|0);w=(l[f>>2]=a*S,o[f>>2]|0);S=u*S;x=(l[f>>2]=C,o[f>>2]|0)}else M=d}else M=d;n=+l[t+452>>2];if(n>=.05000000074505806){r=g*m<-1.0?-1.0:g*m;r=+Y(+(r>1.0?1.0:r))*2.0;if(r>3.1415927410125732){_=(l[f>>2]=-(T*g),o[f>>2]|0);d=(l[f>>2]=-(g*A),o[f>>2]|0);r=-(g*m)<-1.0?-1.0:-(g*m);p=(l[f>>2]=-(g*L),o[f>>2]|0);r=+Y(+(r>1.0?1.0:r))*2.0}else{_=s;d=e;p=i}a=(o[f>>2]=_,+l[f>>2]);c=(o[f>>2]=d,+l[f>>2]);u=(o[f>>2]=p,+l[f>>2]);if(r>1.1920928955078125e-07){L=1.0/+V(+(a*a+c*c+u*u));_=(l[f>>2]=a*L,o[f>>2]|0);d=(l[f>>2]=c*L,o[f>>2]|0);p=(l[f>>2]=u*L,o[f>>2]|0)}if(+G(+r)>1.1920928955078125e-07){if(!(r>n))if(r<-n)n=-n;else n=r;C=(o[f>>2]=_,+l[f>>2]);T=(o[f>>2]=d,+l[f>>2]);A=(o[f>>2]=p,+l[f>>2]);n=n*.5;L=+X(+n)/+V(+(A*A+(T*T+C*C)));n=+H(+n);s=(l[f>>2]=C*L,o[f>>2]|0);e=(l[f>>2]=T*L,o[f>>2]|0);i=(l[f>>2]=A*L,o[f>>2]|0)}else n=g*m}else n=g*m;v=(o[f>>2]=x,+l[f>>2]);C=(o[f>>2]=s,+l[f>>2]);y=(o[f>>2]=M,+l[f>>2]);L=(o[f>>2]=i,+l[f>>2]);A=(o[f>>2]=w,+l[f>>2]);T=(o[f>>2]=e,+l[f>>2]);l[t+556>>2]=S*L+(v*C+y*n)-A*T;l[t+560>>2]=A*C+(v*T+S*n)-y*L;l[t+564>>2]=y*T+(v*L+A*n)-S*C;l[t+568>>2]=v*n-y*C-S*T-A*L;return}function zA(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,o=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0;i=+l[t+368>>2];if(!(i!=0.0))return;s=+l[t+372>>2];c=+l[t+376>>2];u=+l[t+380>>2];h=i*(+l[e+4>>2]*c);o=i*(+l[e+8>>2]*u);l[t+336>>2]=i*(+l[e>>2]*s)+ +l[t+336>>2];l[t+340>>2]=h+ +l[t+340>>2];l[t+344>>2]=o+ +l[t+344>>2];s=+l[e>>2]*s;c=+l[e+4>>2]*c;u=+l[e+8>>2]*u;o=+l[n+4>>2];h=+l[n+8>>2];a=+l[n>>2];r=((o*u-c*h)*+l[t+304>>2]+(s*h-u*a)*+l[t+308>>2]+(c*a-s*o)*+l[t+312>>2])*+l[t+572>>2];i=((o*u-c*h)*+l[t+320>>2]+(s*h-u*a)*+l[t+324>>2]+(c*a-s*o)*+l[t+328>>2])*+l[t+576>>2];l[t+352>>2]=(+l[t+288>>2]*(o*u-c*h)+ +l[t+292>>2]*(s*h-u*a)+(c*a-s*o)*+l[t+296>>2])*+l[t+568>>2]+ +l[t+352>>2];l[t+356>>2]=r+ +l[t+356>>2];l[t+360>>2]=i+ +l[t+360>>2];return}function GA(t){t=t|0;return}function VA(t){t=t|0;return 644}function WA(t,e,n){t=t|0;e=e|0;n=n|0;jb(t,e,n)|0;o[e+52>>2]=o[t+48>>2];o[e+56>>2]=o[t+52>>2];o[e+60>>2]=o[t+56>>2];o[e+64>>2]=o[t+60>>2];o[e+68>>2]=o[t+64>>2];o[e+72>>2]=o[t+68>>2];o[e+76>>2]=o[t+72>>2];o[e+80>>2]=o[t+76>>2];o[e+84>>2]=o[t+80>>2];o[e+88>>2]=o[t+84>>2];o[e+92>>2]=o[t+88>>2];o[e+96>>2]=o[t+92>>2];o[e+100>>2]=o[t+96>>2];o[e+104>>2]=o[t+100>>2];o[e+108>>2]=o[t+104>>2];o[e+112>>2]=o[t+108>>2];o[e+116>>2]=o[t+112>>2];o[e+120>>2]=o[t+116>>2];o[e+124>>2]=o[t+120>>2];o[e+128>>2]=o[t+124>>2];o[e+132>>2]=o[t+128>>2];o[e+136>>2]=o[t+132>>2];o[e+140>>2]=o[t+136>>2];o[e+144>>2]=o[t+140>>2];o[e+148>>2]=o[t+144>>2];o[e+152>>2]=o[t+148>>2];o[e+156>>2]=o[t+152>>2];o[e+160>>2]=o[t+156>>2];o[e+164>>2]=o[t+160>>2];o[e+168>>2]=o[t+164>>2];o[e+172>>2]=o[t+168>>2];o[e+176>>2]=o[t+172>>2];n=0;do{o[e+428+(n<<2)>>2]=o[t+968+(n*88|0)>>2];o[e+412+(n<<2)>>2]=o[t+968+(n*88|0)+4>>2];o[e+444+(n<<2)>>2]=o[t+968+(n*88|0)+8>>2];o[e+460+(n<<2)>>2]=o[t+968+(n*88|0)+12>>2];o[e+476+(n<<2)>>2]=o[t+968+(n*88|0)+16>>2];o[e+492+(n<<2)>>2]=o[t+968+(n*88|0)+20>>2];o[e+508+(n<<2)>>2]=o[t+968+(n*88|0)+24>>2];o[e+524+(n<<2)>>2]=o[t+968+(n*88|0)+32>>2];o[e+540+(n<<2)>>2]=o[t+968+(n*88|0)+36>>2];o[e+556+(n<<2)>>2]=o[t+968+(n*88|0)+44>>2];o[e+572+(n<<2)>>2]=o[t+968+(n*88|0)+52>>2];o[e+588+(n<<2)>>2]=o[t+968+(n*88|0)+60>>2];o[e+604+(n<<2)>>2]=o[t+968+(n*88|0)+68>>2];n=n+1|0}while((n|0)!=3);l[e+440>>2]=0.0;l[e+424>>2]=0.0;l[e+456>>2]=0.0;l[e+472>>2]=0.0;l[e+488>>2]=0.0;l[e+504>>2]=0.0;l[e+520>>2]=0.0;l[e+536>>2]=0.0;l[e+552>>2]=0.0;l[e+568>>2]=0.0;l[e+584>>2]=0.0;l[e+600>>2]=0.0;l[e+616>>2]=0.0;i[e+620>>0]=i[t+996>>0]|0;i[e+624>>0]=i[t+1008>>0]|0;i[e+628>>0]=i[t+1016>>0]|0;i[e+632>>0]=i[t+1024>>0]|0;i[e+636>>0]=i[t+1032>>0]|0;i[e+621>>0]=i[t+1084>>0]|0;i[e+625>>0]=i[t+1096>>0]|0;i[e+629>>0]=i[t+1104>>0]|0;i[e+633>>0]=i[t+1112>>0]|0;i[e+637>>0]=i[t+1120>>0]|0;i[e+622>>0]=i[t+1172>>0]|0;i[e+626>>0]=i[t+1184>>0]|0;i[e+630>>0]=i[t+1192>>0]|0;i[e+634>>0]=i[t+1200>>0]|0;i[e+638>>0]=i[t+1208>>0]|0;i[e+623>>0]=0;i[e+627>>0]=0;i[e+631>>0]=0;i[e+635>>0]=0;i[e+639>>0]=0;o[e+196>>2]=o[t+680>>2];o[e+200>>2]=o[t+684>>2];o[e+204>>2]=o[t+688>>2];o[e+208>>2]=o[t+692>>2];o[e+180>>2]=o[t+696>>2];o[e+184>>2]=o[t+700>>2];o[e+188>>2]=o[t+704>>2];o[e+192>>2]=o[t+708>>2];o[e+212>>2]=o[t+712>>2];o[e+216>>2]=o[t+716>>2];o[e+220>>2]=o[t+720>>2];o[e+224>>2]=o[t+724>>2];o[e+228>>2]=o[t+728>>2];o[e+232>>2]=o[t+732>>2];o[e+236>>2]=o[t+736>>2];o[e+240>>2]=o[t+740>>2];o[e+244>>2]=o[t+744>>2];o[e+248>>2]=o[t+748>>2];o[e+252>>2]=o[t+752>>2];o[e+256>>2]=o[t+756>>2];o[e+260>>2]=o[t+760>>2];o[e+264>>2]=o[t+764>>2];o[e+268>>2]=o[t+768>>2];o[e+272>>2]=o[t+772>>2];o[e+276>>2]=o[t+776>>2];o[e+280>>2]=o[t+780>>2];o[e+284>>2]=o[t+784>>2];o[e+288>>2]=o[t+788>>2];o[e+292>>2]=o[t+876>>2];o[e+296>>2]=o[t+880>>2];o[e+300>>2]=o[t+884>>2];o[e+304>>2]=o[t+888>>2];o[e+308>>2]=o[t+892>>2];o[e+312>>2]=o[t+896>>2];o[e+316>>2]=o[t+900>>2];o[e+320>>2]=o[t+904>>2];o[e+324>>2]=o[t+804>>2];o[e+328>>2]=o[t+808>>2];o[e+332>>2]=o[t+812>>2];o[e+336>>2]=o[t+816>>2];o[e+340>>2]=o[t+820>>2];o[e+344>>2]=o[t+824>>2];o[e+348>>2]=o[t+828>>2];o[e+352>>2]=o[t+832>>2];o[e+356>>2]=o[t+840>>2];o[e+360>>2]=o[t+844>>2];o[e+364>>2]=o[t+848>>2];o[e+368>>2]=o[t+852>>2];o[e+372>>2]=o[t+860>>2];o[e+376>>2]=o[t+864>>2];o[e+380>>2]=o[t+868>>2];o[e+384>>2]=o[t+872>>2];i[e+388>>0]=i[t+792>>0]|0;i[e+392>>0]=i[t+795>>0]|0;i[e+396>>0]=i[t+798>>0]|0;i[e+400>>0]=i[t+836>>0]|0;i[e+404>>0]=i[t+856>>0]|0;i[e+389>>0]=i[t+793>>0]|0;i[e+393>>0]=i[t+796>>0]|0;i[e+397>>0]=i[t+799>>0]|0;i[e+401>>0]=i[t+837>>0]|0;i[e+405>>0]=i[t+857>>0]|0;i[e+390>>0]=i[t+794>>0]|0;i[e+394>>0]=i[t+797>>0]|0;i[e+398>>0]=i[t+800>>0]|0;i[e+402>>0]=i[t+838>>0]|0;i[e+406>>0]=i[t+858>>0]|0;i[e+391>>0]=0;i[e+395>>0]=0;i[e+399>>0]=0;i[e+403>>0]=0;i[e+407>>0]=0;o[e+640>>2]=o[t+1232>>2];return 15168}function HA(t){t=t|0;o[t>>2]=7188;if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function XA(t){t=t|0;var e=0,n=0.0,r=0.0,s=0.0,a=0,c=0,u=0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0,D=0.0,k=0.0,O=0.0,N=0;c=h;h=h+16|0;if(!(i[t+1308>>0]|0)){h=c;return}l[t+928>>2]=0.0;l[t+992>>2]=0.0;l[t+1056>>2]=0.0;o[t+712>>2]=0;o[t+712+4>>2]=0;o[t+712+8>>2]=0;o[t+712+12>>2]=0;qA(t,(o[t+28>>2]|0)+4|0,(o[t+32>>2]|0)+4|0);sk[o[(o[t>>2]|0)+44>>2]&255](t);n=+l[t+1284>>2];r=+l[t+1288>>2];s=+l[t+1292>>2];if(+l[t+696>>2]>=+l[t+680>>2]){u=(i[t+1300>>0]|0)==0;a=o[(u?t+1160|0:t+1096|0)>>2]|0;e=o[(u?t+1144|0:t+1080|0)>>2]|0;o[c>>2]=o[(u?t+1128|0:t+1064|0)>>2];o[c+4>>2]=e;o[c+8>>2]=a;l[c+12>>2]=0.0;YA(o[t+28>>2]|0,o[t+32>>2]|0,t+176|0,c,n,r,s,n,r,s)}if(+l[t+700>>2]>=+l[t+684>>2]){e=(i[t+1300>>0]|0)==0;u=o[(e?t+1164|0:t+1100|0)>>2]|0;a=o[(e?t+1148|0:t+1084|0)>>2]|0;o[c>>2]=o[(e?t+1132|0:t+1068|0)>>2];o[c+4>>2]=a;o[c+8>>2]=u;l[c+12>>2]=0.0;YA(o[t+28>>2]|0,o[t+32>>2]|0,t+260|0,c,n,r,s,n,r,s)}if(+l[t+704>>2]>=+l[t+688>>2]){e=(i[t+1300>>0]|0)==0;u=o[(e?t+1168|0:t+1104|0)>>2]|0;a=o[(e?t+1152|0:t+1088|0)>>2]|0;o[c>>2]=o[(e?t+1136|0:t+1072|0)>>2];o[c+4>>2]=a;o[c+8>>2]=u;l[c+12>>2]=0.0;YA(o[t+28>>2]|0,o[t+32>>2]|0,t+344|0,c,n,r,s,n,r,s)}a=0;do{n=+l[t+868+(a<<6)>>2];r=+l[t+868+(a<<6)+4>>2];s=+ZA(+l[t+1192+(a<<2)>>2],n,r);l[t+868+(a<<6)+52>>2]=s;do{if(!(n>r)){if(n>s){o[t+868+(a<<6)+56>>2]=1;e=t+868+(a<<6)+48|0;l[e>>2]=s-n;if(s-n>3.1415927410125732){l[e>>2]=s-n+-6.2831854820251465;e=19;break}if(!(s-n<-3.1415927410125732)){e=19;break}l[e>>2]=s-n+6.2831854820251465;e=19;break}e=t+868+(a<<6)+56|0;if(!(r<s)){o[e>>2]=0;e=18;break}o[e>>2]=2;e=t+868+(a<<6)+48|0;l[e>>2]=s-r;if(s-r>3.1415927410125732){l[e>>2]=s-r+-6.2831854820251465;e=19;break}if(s-r<-3.1415927410125732){l[e>>2]=s-r+6.2831854820251465;e=19}else e=19}else{o[t+868+(a<<6)+56>>2]=0;e=18}}while(0);if((e|0)==18?(e=0,i[t+868+(a<<6)+44>>0]|0):0)e=19;if((e|0)==19){N=t+1208+(a<<4)|0;o[c>>2]=o[N>>2];o[c+4>>2]=o[N+4>>2];o[c+8>>2]=o[N+8>>2];o[c+12>>2]=o[N+12>>2];N=t+428+(a*84|0)|0;e=o[t+28>>2]|0;O=+l[e+4>>2];k=+l[e+20>>2];D=+l[e+36>>2];I=+l[e+8>>2];R=+l[e+24>>2];E=+l[e+40>>2];A=+l[e+12>>2];T=+l[e+28>>2];C=+l[e+44>>2];u=o[t+32>>2]|0;S=+l[u+4>>2];w=+l[u+20>>2];x=+l[u+36>>2];v=+l[u+8>>2];b=+l[u+24>>2];g=+l[u+40>>2];_=+l[u+12>>2];f=+l[u+28>>2];n=+l[u+44>>2];o[N>>2]=0;o[N+4>>2]=0;o[N+8>>2]=0;o[N+12>>2]=0;d=+l[c>>2];p=+l[c+4>>2];r=+l[c+8>>2];l[t+428+(a*84|0)+16>>2]=O*d+k*p+D*r;l[t+428+(a*84|0)+20>>2]=I*d+R*p+E*r;l[t+428+(a*84|0)+24>>2]=A*d+T*p+C*r;l[t+428+(a*84|0)+28>>2]=0.0;l[t+428+(a*84|0)+32>>2]=S*-d+w*-p+x*-r;l[t+428+(a*84|0)+36>>2]=v*-d+b*-p+g*-r;l[t+428+(a*84|0)+40>>2]=_*-d+f*-p+n*-r;l[t+428+(a*84|0)+44>>2]=0.0;P=(O*d+k*p+D*r)*+l[e+420>>2];L=(I*d+R*p+E*r)*+l[e+424>>2];M=(A*d+T*p+C*r)*+l[e+428>>2];l[t+428+(a*84|0)+48>>2]=P;l[t+428+(a*84|0)+52>>2]=L;l[t+428+(a*84|0)+56>>2]=M;l[t+428+(a*84|0)+60>>2]=0.0;y=(S*-d+w*-p+x*-r)*+l[u+420>>2];m=(v*-d+b*-p+g*-r)*+l[u+424>>2];s=(_*-d+f*-p+n*-r)*+l[u+428>>2];l[t+428+(a*84|0)+64>>2]=y;l[t+428+(a*84|0)+68>>2]=m;l[t+428+(a*84|0)+72>>2]=s;l[t+428+(a*84|0)+76>>2]=0.0;l[t+428+(a*84|0)+80>>2]=(O*d+k*p+D*r)*P+(I*d+R*p+E*r)*L+(A*d+T*p+C*r)*M+((S*-d+w*-p+x*-r)*y+(v*-d+b*-p+g*-r)*m+(_*-d+f*-p+n*-r)*s)}a=a+1|0}while((a|0)!=3);h=c;return}function qA(t,e,n){t=t|0;e=e|0;n=n|0;var r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0;L=+l[t+48>>2];a=+l[e>>2];E=+l[t+64>>2];c=+l[e+4>>2];R=+l[t+80>>2];_=+l[e+8>>2];b=+l[t+52>>2];g=+l[t+68>>2];m=+l[t+84>>2];w=+l[t+56>>2];M=+l[t+72>>2];C=+l[t+88>>2];x=+l[e+16>>2];y=+l[e+20>>2];v=+l[e+24>>2];S=+l[e+32>>2];I=+l[e+36>>2];P=+l[e+40>>2];u=+l[t+96>>2];s=+l[t+100>>2];A=+l[t+104>>2];T=+l[e+48>>2]+(a*u+c*s+_*A);r=x*u+y*s+v*A+ +l[e+52>>2];A=S*u+I*s+P*A+ +l[e+56>>2];l[t+1064>>2]=L*a+E*c+R*_;l[t+1068>>2]=a*b+c*g+_*m;l[t+1072>>2]=a*w+c*M+_*C;l[t+1076>>2]=0.0;l[t+1080>>2]=L*x+E*y+R*v;l[t+1084>>2]=b*x+g*y+m*v;l[t+1088>>2]=w*x+M*y+C*v;l[t+1092>>2]=0.0;l[t+1096>>2]=L*S+E*I+R*P;l[t+1100>>2]=b*S+g*I+m*P;l[t+1104>>2]=w*S+M*I+C*P;l[t+1108>>2]=0.0;l[t+1112>>2]=T;l[t+1116>>2]=r;l[t+1120>>2]=A;l[t+1124>>2]=0.0;A=+l[t+112>>2];r=+l[n>>2];T=+l[t+128>>2];P=+l[n+4>>2];C=+l[t+144>>2];I=+l[n+8>>2];M=+l[t+116>>2];S=+l[t+132>>2];w=+l[t+148>>2];m=+l[t+120>>2];g=+l[t+136>>2];b=+l[t+152>>2];R=+l[n+16>>2];E=+l[n+20>>2];L=+l[n+24>>2];v=+l[n+32>>2];y=+l[n+36>>2];x=+l[n+40>>2];_=+l[t+160>>2];c=+l[t+164>>2];a=+l[t+168>>2];s=+l[n+48>>2]+(r*_+P*c+I*a);u=R*_+E*c+L*a+ +l[n+52>>2];a=v*_+y*c+x*a+ +l[n+56>>2];l[t+1128>>2]=A*r+T*P+C*I;l[t+1132>>2]=r*M+P*S+I*w;l[t+1136>>2]=r*m+P*g+I*b;l[t+1140>>2]=0.0;l[t+1144>>2]=A*R+T*E+C*L;l[t+1148>>2]=M*R+S*E+w*L;l[t+1152>>2]=m*R+g*E+b*L;l[t+1156>>2]=0.0;l[t+1160>>2]=A*v+T*y+C*x;l[t+1164>>2]=M*v+S*y+w*x;l[t+1168>>2]=m*v+g*y+b*x;l[t+1172>>2]=0.0;l[t+1176>>2]=s;l[t+1180>>2]=u;l[t+1184>>2]=a;l[t+1188>>2]=0.0;s=s-+l[t+1112>>2];u=u-+l[t+1116>>2];a=a-+l[t+1120>>2];w=+l[t+1084>>2];S=+l[t+1104>>2];M=+l[t+1088>>2];C=+l[t+1100>>2];T=+l[t+1096>>2];A=+l[t+1080>>2];L=+l[t+1064>>2];E=+l[t+1068>>2];R=+l[t+1072>>2];I=1.0/((w*S-M*C)*L+E*(M*T-S*A)+(C*A-w*T)*R);P=(C*A-w*T)*I;r=a*((M*E-w*R)*I)+(s*((w*S-M*C)*I)+u*((C*R-S*E)*I));c=a*((A*R-M*L)*I)+(s*((M*T-S*A)*I)+u*((S*L-T*R)*I));u=a*((w*L-A*E)*I)+(s*P+u*((T*E-C*L)*I));l[t+1256>>2]=r;l[t+1260>>2]=c;l[t+1264>>2]=u;l[t+1268>>2]=0.0;l[t+840>>2]=r;s=+l[t+680>>2];a=+l[t+696>>2];do{if(!(s>a)){if(s>r){o[t+856>>2]=2;l[t+824>>2]=r-s;break}if(a<r){o[t+856>>2]=1;l[t+824>>2]=r-a;break}else{o[t+856>>2]=0;l[t+824>>2]=0.0;break}}else{o[t+856>>2]=0;l[t+824>>2]=0.0}}while(0);l[t+844>>2]=c;r=+l[t+684>>2];s=+l[t+700>>2];do{if(!(r>s)){if(r>c){o[t+860>>2]=2;l[t+828>>2]=c-r;break}if(s<c){o[t+860>>2]=1;l[t+828>>2]=c-s;break}else{o[t+860>>2]=0;l[t+828>>2]=0.0;break}}else{o[t+860>>2]=0;l[t+828>>2]=0.0}}while(0);l[t+848>>2]=u;r=+l[t+688>>2];s=+l[t+704>>2];do{if(!(r>s)){if(r>u){o[t+864>>2]=2;l[t+832>>2]=u-r;break}if(s<u){o[t+864>>2]=1;l[t+832>>2]=u-s;break}else{o[t+864>>2]=0;l[t+832>>2]=0.0;break}}else{o[t+864>>2]=0;l[t+832>>2]=0.0}}while(0);s=+l[t+1128>>2];a=+l[t+1144>>2];c=+l[t+1160>>2];u=+l[t+1132>>2];h=+l[t+1148>>2];p=+l[t+1164>>2];f=(w*S-M*C)*I*u+(C*R-S*E)*I*h+(M*E-w*R)*I*p;d=u*((M*T-S*A)*I)+(S*L-T*R)*I*h+(A*R-M*L)*I*p;_=c*((w*L-A*E)*I)+(s*P+a*((T*E-C*L)*I));r=P*+l[t+1136>>2]+(T*E-C*L)*I*+l[t+1152>>2]+(w*L-A*E)*I*(m*v+g*y+b*x);do{if(_<1.0)if(_>-1.0){l[t+1192>>2]=+K(+-(u*P+(T*E-C*L)*I*h+(w*L-A*E)*I*p),+r);P=_<-1.0?-1.0:_;l[t+1196>>2]=+Z(+(P>1.0?1.0:P));l[t+1200>>2]=+K(+-(c*((A*R-M*L)*I)+(s*((M*T-S*A)*I)+a*((S*L-T*R)*I))),+(c*((M*E-w*R)*I)+(s*((w*S-M*C)*I)+a*((C*R-S*E)*I))));break}else{l[t+1192>>2]=-+K(+f,+d);l[t+1196>>2]=-1.5707963705062866;l[t+1200>>2]=0.0;break}else{l[t+1192>>2]=+K(+f,+d);l[t+1196>>2]=1.5707963705062866;l[t+1200>>2]=0.0}}while(0);l[t+1236>>2]=0.0;C=S*(s*S-c*R)-M*(a*R-s*M);T=R*(a*R-s*M)-S*(c*M-a*S);A=M*(c*M-a*S)-R*(s*S-c*R);l[t+1220>>2]=0.0;L=a*(a*R-s*M)-c*(s*S-c*R);E=c*(c*M-a*S)-s*(a*R-s*M);I=s*(s*S-c*R)-a*(c*M-a*S);l[t+1252>>2]=0.0;P=1.0/+V(+(C*C+T*T+A*A));l[t+1208>>2]=C*P;l[t+1212>>2]=T*P;l[t+1216>>2]=A*P;P=1.0/+V(+((c*M-a*S)*(c*M-a*S)+(s*S-c*R)*(s*S-c*R)+(a*R-s*M)*(a*R-s*M)));l[t+1224>>2]=(c*M-a*S)*P;l[t+1228>>2]=(s*S-c*R)*P;l[t+1232>>2]=(a*R-s*M)*P;P=1.0/+V(+(L*L+E*E+I*I));l[t+1240>>2]=L*P;l[t+1244>>2]=E*P;l[t+1248>>2]=I*P;if(!(i[t+1301>>0]|0))return;I=+l[(o[t+28>>2]|0)+368>>2];P=+l[(o[t+32>>2]|0)+368>>2];i[t+1280>>0]=(I<1.1920928955078125e-07|P<1.1920928955078125e-07)&1;P=I+P>0.0?P/(I+P):.5;l[t+1272>>2]=P;l[t+1276>>2]=1.0-P;return}function YA(t,e,n,i,r,s,a,c,u,p){t=t|0;e=e|0;n=n|0;i=i|0;r=+r;s=+s;a=+a;c=+c;u=+u;p=+p;var f=0;f=h;h=h+128|0;o[f+80>>2]=o[t+4>>2];o[f+80+4>>2]=o[t+20>>2];o[f+80+8>>2]=o[t+36>>2];l[f+80+12>>2]=0.0;o[f+80+16>>2]=o[t+8>>2];o[f+80+20>>2]=o[t+24>>2];o[f+80+24>>2]=o[t+40>>2];l[f+80+28>>2]=0.0;o[f+80+32>>2]=o[t+12>>2];o[f+80+36>>2]=o[t+28>>2];o[f+80+40>>2]=o[t+44>>2];l[f+80+44>>2]=0.0;o[f+32>>2]=o[e+4>>2];o[f+32+4>>2]=o[e+20>>2];o[f+32+8>>2]=o[e+36>>2];l[f+32+12>>2]=0.0;o[f+32+16>>2]=o[e+8>>2];o[f+32+20>>2]=o[e+24>>2];o[f+32+24>>2]=o[e+40>>2];l[f+32+28>>2]=0.0;o[f+32+32>>2]=o[e+12>>2];o[f+32+36>>2]=o[e+28>>2];o[f+32+40>>2]=o[e+44>>2];l[f+32+44>>2]=0.0;s=s-+l[t+56>>2];a=a-+l[t+60>>2];l[f+16>>2]=r-+l[t+52>>2];l[f+16+4>>2]=s;l[f+16+8>>2]=a;l[f+16+12>>2]=0.0;u=u-+l[e+56>>2];p=p-+l[e+60>>2];l[f>>2]=c-+l[e+52>>2];l[f+4>>2]=u;l[f+8>>2]=p;l[f+12>>2]=0.0;LA(n,f+80|0,f+32|0,f+16|0,f,i,t+420|0,+l[t+368>>2],e+420|0,+l[e+368>>2]);h=f;return}function ZA(t,e,n){t=+t;e=+e;n=+n;var i=0.0,r=0.0,o=0;if(e>=n)return+t;if(t<e){i=+Yc(e-t);if(!(i<-3.1415927410125732)){if(i>3.1415927410125732)i=i+-6.2831854820251465}else i=i+6.2831854820251465;r=+G(+i);i=+Yc(n-t);if(!(i<-3.1415927410125732)){if(i>3.1415927410125732)i=i+-6.2831854820251465}else i=i+6.2831854820251465;o=r<+G(+i);t=o?t:t+6.2831854820251465;return+t}if(!(t>n))return+t;i=+Yc(t-n);if(!(i<-3.1415927410125732)){if(i>3.1415927410125732)i=i+-6.2831854820251465}else i=i+6.2831854820251465;r=+G(+i);i=+Yc(t-e);if(!(i<-3.1415927410125732)){if(i>3.1415927410125732)i=i+-6.2831854820251465}else i=i+6.2831854820251465;o=+G(+i)<r;t=o?t+-6.2831854820251465:t;return+t}function JA(t,e){t=t|0;e=e|0;var n=0,r=0,s=0,a=0.0,c=0.0,u=0.0,h=0;if(i[t+1308>>0]|0){o[e>>2]=0;o[e+4>>2]=0;return}qA(t,(o[t+28>>2]|0)+4|0,(o[t+32>>2]|0)+4|0);o[e>>2]=0;o[e+4>>2]=6;if((o[t+856>>2]|0)==0?(i[t+788>>0]|0)==0:0){n=0;r=6}else{o[e>>2]=1;o[e+4>>2]=5;n=1;r=5}if(!((o[t+860>>2]|0)==0?(i[t+789>>0]|0)==0:0)){n=n+1|0;o[e>>2]=n;r=r+-1|0;o[e+4>>2]=r}if((o[t+864>>2]|0)==0?(i[t+790>>0]|0)==0:0)h=0;else{n=n+1|0;o[e>>2]=n;r=r+-1|0;o[e+4>>2]=r;h=0}do{a=+l[t+868+(h<<6)>>2];c=+l[t+868+(h<<6)+4>>2];u=+ZA(+l[t+1192+(h<<2)>>2],a,c);l[t+868+(h<<6)+52>>2]=u;do{if(!(a>c)){if(a>u){o[t+868+(h<<6)+56>>2]=1;s=t+868+(h<<6)+48|0;l[s>>2]=u-a;if(u-a>3.1415927410125732){l[s>>2]=u-a+-6.2831854820251465;s=21;break}if(!(u-a<-3.1415927410125732)){s=21;break}l[s>>2]=u-a+6.2831854820251465;s=21;break}s=t+868+(h<<6)+56|0;if(!(c<u)){o[s>>2]=0;s=20;break}o[s>>2]=2;s=t+868+(h<<6)+48|0;l[s>>2]=u-c;if(u-c>3.1415927410125732){l[s>>2]=u-c+-6.2831854820251465;s=21;break}if(u-c<-3.1415927410125732){l[s>>2]=u-c+6.2831854820251465;s=21}else s=21}else{o[t+868+(h<<6)+56>>2]=0;s=20}}while(0);if((s|0)==20){s=0;if(i[t+868+(h<<6)+44>>0]|0)s=21}if((s|0)==21){n=n+1|0;o[e>>2]=n;r=r+-1|0;o[e+4>>2]=r}h=h+1|0}while((h|0)!=3);return}function KA(t,e){t=t|0;e=e|0;var n=0,r=0,s=0,a=0,c=0,l=0,u=0;u=h;h=h+16|0;c=o[t+28>>2]|0;l=o[t+32>>2]|0;if(!(i[t+1301>>0]|0)){a=0;n=QA(t,e,0,c+4|0,l+4|0,c+336|0,l+336|0,c+352|0,l+352|0)|0;do{r=t+868+(a<<6)|0;if(!((o[t+868+(a<<6)+56>>2]|0)==0?(i[t+868+(a<<6)+44>>0]|0)==0:0)){s=t+1208+(a<<4)|0;o[u>>2]=o[s>>2];o[u+4>>2]=o[s+4>>2];o[u+8>>2]=o[s+8>>2];o[u+12>>2]=o[s+12>>2];s=o[t+1304>>2]>>(a*3|0)+9;if(!(s&1))o[t+868+(a<<6)+28>>2]=o[o[e+32>>2]>>2];if(!(s&2))o[t+868+(a<<6)+36>>2]=o[o[e+32>>2]>>2];if(!(s&4))o[t+868+(a<<6)+32>>2]=o[e+4>>2];n=($A(t,r,c+4|0,l+4|0,c+336|0,l+336|0,c+352|0,l+352|0,e,n,u,1,0)|0)+n|0}a=a+1|0}while((a|0)!=3);h=u;return}a=0;n=0;do{r=t+868+(a<<6)|0;if(!((o[t+868+(a<<6)+56>>2]|0)==0?(i[t+868+(a<<6)+44>>0]|0)==0:0)){s=t+1208+(a<<4)|0;o[u>>2]=o[s>>2];o[u+4>>2]=o[s+4>>2];o[u+8>>2]=o[s+8>>2];o[u+12>>2]=o[s+12>>2];s=o[t+1304>>2]>>(a*3|0)+9;if(!(s&1))o[t+868+(a<<6)+28>>2]=o[o[e+32>>2]>>2];if(!(s&2))o[t+868+(a<<6)+36>>2]=o[o[e+32>>2]>>2];if(!(s&4))o[t+868+(a<<6)+32>>2]=o[e+4>>2];n=($A(t,r,c+4|0,l+4|0,c+336|0,l+336|0,c+352|0,l+352|0,e,n,u,1,0)|0)+n|0}a=a+1|0}while((a|0)!=3);QA(t,e,n,c+4|0,l+4|0,c+336|0,l+336|0,c+352|0,l+352|0)|0;h=u;return}function $A(t,e,n,r,s,a,c,u,h,p,f,d,_){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;a=a|0;c=c|0;u=u|0;h=h|0;p=p|0;f=f|0;d=d|0;_=_|0;var m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0,C=0,T=0,A=0,L=0,E=0.0,R=0.0,I=0.0,P=0.0,D=0.0,k=0.0,O=0.0,N=0.0;T=et(o[h+24>>2]|0,p)|0;p=i[e+44>>0]|0;C=o[e+56>>2]|0;if(!(p<<24>>24!=0|(C|0)!=0)){T=0;return T|0}L=o[(d|0?h+12|0:h+8|0)>>2]|0;A=o[(d|0?h+20|0:h+16|0)>>2]|0;o[L+(T<<2)>>2]=o[f>>2];o[L+(T+1<<2)>>2]=o[f+4>>2];o[L+(T+2<<2)>>2]=o[f+8>>2];l[A+(T<<2)>>2]=-+l[f>>2];l[A+(T+1<<2)>>2]=-+l[f+4>>2];l[A+(T+2<<2)>>2]=-+l[f+8>>2];do{if(!d){m=+l[t+1176>>2];if(!(i[t+1301>>0]|0)){v=m-+l[n+48>>2];w=+l[t+1180>>2]-+l[n+52>>2];S=+l[t+1184>>2]-+l[n+56>>2];x=+l[f+8>>2];b=+l[f+4>>2];y=+l[f>>2];L=o[h+12>>2]|0;l[L+(T<<2)>>2]=w*x-S*b;l[L+(T+1<<2)>>2]=S*y-v*x;l[L+(T+2<<2)>>2]=v*b-w*y;y=+l[t+1176>>2]-+l[r+48>>2];w=+l[t+1180>>2]-+l[r+52>>2];b=+l[t+1184>>2]-+l[r+56>>2];v=+l[f+8>>2];x=+l[f+4>>2];S=+l[f>>2];L=o[h+20>>2]|0;l[L+(T<<2)>>2]=-(w*v-b*x);l[L+(T+1<<2)>>2]=-(b*S-y*v);l[L+(T+2<<2)>>2]=-(y*x-w*S);break}k=m-+l[r+48>>2];D=+l[t+1180>>2]-+l[r+52>>2];I=+l[t+1184>>2]-+l[r+56>>2];y=+l[f>>2];P=+l[f+4>>2];R=+l[f+8>>2];N=+l[t+1112>>2]-+l[n+48>>2];v=+l[t+1116>>2]-+l[n+52>>2];m=+l[t+1120>>2]-+l[n+56>>2];x=+l[e+52>>2]-+l[e+48>>2];O=y*(y*N+P*v+R*m)+y*x-y*(k*y+D*P+I*R);E=P*(y*N+P*v+R*m)+P*x-P*(k*y+D*P+I*R);x=R*(y*N+P*v+R*m)+R*x-R*(k*y+D*P+I*R);S=+l[t+1272>>2];w=+l[t+1276>>2];b=R*(v-P*(y*N+P*v+R*m)+S*E)-P*(m-R*(y*N+P*v+R*m)+S*x);g=y*(m-R*(y*N+P*v+R*m)+S*x)-R*(N-y*(y*N+P*v+R*m)+S*O);m=P*(N-y*(y*N+P*v+R*m)+S*O)-y*(v-P*(y*N+P*v+R*m)+S*E);v=(D-P*(k*y+D*P+I*R)-w*E)*R-(I-R*(k*y+D*P+I*R)-w*x)*P;x=(I-R*(k*y+D*P+I*R)-w*x)*y-(k-y*(k*y+D*P+I*R)-w*O)*R;y=(k-y*(k*y+D*P+I*R)-w*O)*P-(D-P*(k*y+D*P+I*R)-w*E)*y;if(!((_|0)!=0|(i[t+1280>>0]|0)==0)){v=w*v;x=w*x;y=w*y;b=S*b;g=S*g;m=S*m}L=(o[h+12>>2]|0)+(T<<2)|0;l[L>>2]=b;l[L+4>>2]=g;l[L+8>>2]=m;L=o[h+20>>2]|0;l[L+(T<<2)>>2]=-v;l[L+(T+1<<2)>>2]=-x;l[L+(T+2<<2)>>2]=-y}}while(0);if(C|0?+l[e>>2]==+l[e+4>>2]:0){p=o[h+28>>2]|0;l[p+(T<<2)>>2]=0.0;m=0.0;n=h+28|0}else M=11;do{if((M|0)==11){n=o[h+28>>2]|0;l[n+(T<<2)>>2]=0.0;if(!(p<<24>>24)){if(C|0){p=n;m=0.0;n=h+28|0;break}else p=1;return p|0}o[(o[h+32>>2]|0)+(T<<2)>>2]=o[e+28>>2];if(C|0){p=n;m=+l[n+(T<<2)>>2];n=h+28|0;break}x=+l[e+8>>2];m=d|0?x:-x;g=+l[e+52>>2];b=+l[e>>2];v=+l[e+4>>2];y=+l[h>>2]*+l[e+32>>2];do{if(!(b>v))if(!(b==v)){if(m/y<0.0)if(g>=b?b-m/y>g:0){m=(b-g)/(m/y);break}else{m=g<b?0.0:1.0;break}if(m/y>0.0)if(g<=v?v-m/y<g:0){m=(v-g)/(m/y);break}else{m=g>v?0.0:1.0;break}else m=0.0}else m=0.0;else m=1.0}while(0);l[n+(T<<2)>>2]=m*x+ +l[n+(T<<2)>>2];l[(o[h+36>>2]|0)+(T<<2)>>2]=-+l[e+12>>2];o[(o[h+40>>2]|0)+(T<<2)>>2]=o[e+12>>2];L=1;return L|0}}while(0);N=+l[h>>2]*+l[e+32>>2]*+l[e+48>>2];l[p+(T<<2)>>2]=m+(d|0?-N:N);o[(o[h+32>>2]|0)+(T<<2)>>2]=o[e+36>>2];if(+l[e>>2]==+l[e+4>>2]){l[(o[h+36>>2]|0)+(T<<2)>>2]=-3402823466385288598117041.0e14;l[(o[h+40>>2]|0)+(T<<2)>>2]=3402823466385288598117041.0e14;L=1;return L|0}L=o[h+40>>2]|0;l[(o[h+36>>2]|0)+(T<<2)>>2]=(C|0)==1?0.0:-3402823466385288598117041.0e14;l[L+(T<<2)>>2]=(C|0)==1?3402823466385288598117041.0e14:0.0;g=+l[e+40>>2];if(!(g>0.0)){L=1;return L|0}if(d|0){O=+l[f>>2];N=+l[f+4>>2];m=+l[f+8>>2];m=+l[c>>2]*O+ +l[c+4>>2]*N+ +l[c+8>>2]*m-(O*+l[u>>2]+N*+l[u+4>>2]+m*+l[u+8>>2])}else{O=+l[f>>2];N=+l[f+4>>2];m=+l[f+8>>2];m=+l[s>>2]*O+ +l[s+4>>2]*N+ +l[s+8>>2]*m-(O*+l[a>>2]+N*+l[a+4>>2]+m*+l[a+8>>2])}if((C|0)==1){if(!(m<0.0)){L=1;return L|0}m=-(m*g);p=(o[n>>2]|0)+(T<<2)|0;if(!(+l[p>>2]<m)){L=1;return L|0}l[p>>2]=m;L=1;return L|0}else{if(!(m>0.0)){L=1;return L|0}m=-(m*g);p=(o[n>>2]|0)+(T<<2)|0;if(!(+l[p>>2]>m)){L=1;return L|0}l[p>>2]=m;L=1;return L|0}return 0}function QA(t,e,n,r,s,a,c,u,p){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;a=a|0;c=c|0;u=u|0;p=p|0;var f=0,d=0,_=0,m=0;m=h;h=h+80|0;l[m+16+60>>2]=0.0;l[m+16+8>>2]=0.0;l[m+16+12>>2]=.10000000149011612;l[m+16+16>>2]=300.0;l[m+16>>2]=1.0;l[m+16+4>>2]=-1.0;l[m+16+28>>2]=0.0;l[m+16+32>>2]=.20000000298023224;l[m+16+36>>2]=0.0;l[m+16+40>>2]=0.0;l[m+16+20>>2]=1.0;l[m+16+24>>2]=.5;o[m+16+56>>2]=0;l[m+16+48>>2]=0.0;i[m+16+44>>0]=0;_=0;do{f=o[t+856+(_<<2)>>2]|0;d=i[t+788+_>>0]|0;if(!((f|0)==0&d<<24>>24==0)){l[m+16+40>>2]=0.0;o[m+16+56>>2]=f;o[m+16+52>>2]=o[t+840+(_<<2)>>2];o[m+16+48>>2]=o[t+824+(_<<2)>>2];o[m+16+20>>2]=o[t+732>>2];i[m+16+44>>0]=d;o[m+16+4>>2]=o[t+696+(_<<2)>>2];o[m+16+24>>2]=o[t+728>>2];o[m+16>>2]=o[t+680+(_<<2)>>2];l[m+16+16>>2]=0.0;o[m+16+12>>2]=o[t+808+(_<<2)>>2];o[m+16+8>>2]=o[t+792+(_<<2)>>2];o[m>>2]=o[t+1064+(_<<2)>>2];o[m+4>>2]=o[t+1080+(_<<2)>>2];o[m+8>>2]=o[t+1096+(_<<2)>>2];l[m+12>>2]=0.0;d=o[t+1304>>2]>>_*3;if(!(d&1))f=o[e+32>>2]|0;else f=t+740+(_<<2)|0;o[m+16+28>>2]=o[f>>2];if(!(d&2))f=o[e+32>>2]|0;else f=t+772+(_<<2)|0;o[m+16+36>>2]=o[f>>2];o[m+16+32>>2]=o[((d&4|0)==0?e+4|0:t+756+(_<<2)|0)>>2];if(!(i[t+1301>>0]|0))f=$A(t,m+16|0,r,s,a,c,u,p,e,n,m,0,0)|0;else{d=_+1|0;if(!(o[t+868+(((d|0)==3?0:d)<<6)+56>>2]|0))f=1;else f=(o[t+868+(((_+2|0)%3|0)<<6)+56>>2]|0)==0&1;f=$A(t,m+16|0,r,s,a,c,u,p,e,n,m,0,f)|0}n=f+n|0}_=_+1|0}while((_|0)!=3);h=m;return n|0}function tL(t,e,n,i){t=t|0;e=e|0;n=+n;i=i|0;if(i>>>0<3)switch(e|0){case 2:{l[t+756+(i<<2)>>2]=n;o[t+1304>>2]=o[t+1304>>2]|4<<i*3;return}case 4:{l[t+772+(i<<2)>>2]=n;o[t+1304>>2]=o[t+1304>>2]|2<<i*3;return}case 3:{l[t+740+(i<<2)>>2]=n;o[t+1304>>2]=o[t+1304>>2]|1<<i*3;return}default:return}if((i+-3|0)>>>0>=3)return;switch(e|0){case 2:{l[t+868+(i+-3<<6)+32>>2]=n;o[t+1304>>2]=o[t+1304>>2]|4<<i*3;return}case 4:{l[t+868+(i+-3<<6)+36>>2]=n;o[t+1304>>2]=o[t+1304>>2]|2<<i*3;return}case 3:{l[t+868+(i+-3<<6)+28>>2]=n;o[t+1304>>2]=o[t+1304>>2]|1<<i*3;return}default:return}}function eL(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0;t:do{if(n>>>0>=3)if((n+-3|0)>>>0<3)switch(e|0){case 2:{i=+l[t+868+(n+-3<<6)+32>>2];break t}case 4:{i=+l[t+868+(n+-3<<6)+36>>2];break t}case 3:{i=+l[t+868+(n+-3<<6)+28>>2];break t}default:{i=0.0;break t}}else i=0.0;else switch(e|0){case 2:{i=+l[t+756+(n<<2)>>2];break t}case 4:{i=+l[t+772+(n<<2)>>2];break t}case 3:{i=+l[t+740+(n<<2)>>2];break t}default:{i=0.0;break t}}}while(0);return+i}function nL(t){t=t|0;return 252}function iL(t,e,n){t=t|0;e=e|0;n=n|0;jb(t,e,n)|0;o[e+52>>2]=o[t+48>>2];o[e+56>>2]=o[t+52>>2];o[e+60>>2]=o[t+56>>2];o[e+64>>2]=o[t+60>>2];o[e+68>>2]=o[t+64>>2];o[e+72>>2]=o[t+68>>2];o[e+76>>2]=o[t+72>>2];o[e+80>>2]=o[t+76>>2];o[e+84>>2]=o[t+80>>2];o[e+88>>2]=o[t+84>>2];o[e+92>>2]=o[t+88>>2];o[e+96>>2]=o[t+92>>2];o[e+100>>2]=o[t+96>>2];o[e+104>>2]=o[t+100>>2];o[e+108>>2]=o[t+104>>2];o[e+112>>2]=o[t+108>>2];o[e+116>>2]=o[t+112>>2];o[e+120>>2]=o[t+116>>2];o[e+124>>2]=o[t+120>>2];o[e+128>>2]=o[t+124>>2];o[e+132>>2]=o[t+128>>2];o[e+136>>2]=o[t+132>>2];o[e+140>>2]=o[t+136>>2];o[e+144>>2]=o[t+140>>2];o[e+148>>2]=o[t+144>>2];o[e+152>>2]=o[t+148>>2];o[e+156>>2]=o[t+152>>2];o[e+160>>2]=o[t+156>>2];o[e+164>>2]=o[t+160>>2];o[e+168>>2]=o[t+164>>2];o[e+172>>2]=o[t+168>>2];o[e+176>>2]=o[t+172>>2];o[e+228>>2]=o[t+868>>2];o[e+212>>2]=o[t+872>>2];o[e+196>>2]=o[t+680>>2];o[e+180>>2]=o[t+696>>2];o[e+232>>2]=o[t+932>>2];o[e+216>>2]=o[t+936>>2];o[e+200>>2]=o[t+684>>2];o[e+184>>2]=o[t+700>>2];o[e+236>>2]=o[t+996>>2];o[e+220>>2]=o[t+1e3>>2];o[e+204>>2]=o[t+688>>2];o[e+188>>2]=o[t+704>>2];t=r[t+1300>>1]|0;o[e+244>>2]=t&255;o[e+248>>2]=(t&65535)>>>8&65535;return 15229}function rL(t){t=t|0;var e=0.0,n=0.0,i=0.0,r=0.0;e=+l[(o[t+28>>2]|0)+368>>2];n=+l[(o[t+32>>2]|0)+368>>2];if(n==0.0)e=1.0;else e=e/(e+n);r=1.0-e;i=e*+l[t+1116>>2]+r*+l[t+1180>>2];n=e*+l[t+1120>>2]+r*+l[t+1184>>2];l[t+1284>>2]=e*+l[t+1112>>2]+r*+l[t+1176>>2];l[t+1288>>2]=i;l[t+1292>>2]=n;l[t+1296>>2]=0.0;return}function oL(t){t=t|0;return o[t+1304>>2]|0}function sL(t,e,n,r,s,a){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;a=a|0;o[t+4>>2]=6;o[t+8>>2]=-1;o[t+12>>2]=-1;l[t+16>>2]=3402823466385288598117041.0e14;i[t+20>>0]=1;i[t+21>>0]=0;o[t+24>>2]=-1;o[t+28>>2]=e;o[t+32>>2]=n;l[t+36>>2]=0.0;l[t+40>>2]=.30000001192092896;o[t+44>>2]=0;o[t>>2]=7240;o[t+48>>2]=o[r>>2];o[t+48+4>>2]=o[r+4>>2];o[t+48+8>>2]=o[r+8>>2];o[t+48+12>>2]=o[r+12>>2];o[t+64>>2]=o[r+16>>2];o[t+64+4>>2]=o[r+16+4>>2];o[t+64+8>>2]=o[r+16+8>>2];o[t+64+12>>2]=o[r+16+12>>2];o[t+80>>2]=o[r+32>>2];o[t+80+4>>2]=o[r+32+4>>2];o[t+80+8>>2]=o[r+32+8>>2];o[t+80+12>>2]=o[r+32+12>>2];o[t+96>>2]=o[r+48>>2];o[t+96+4>>2]=o[r+48+4>>2];o[t+96+8>>2]=o[r+48+8>>2];o[t+96+12>>2]=o[r+48+12>>2];o[t+112>>2]=o[s>>2];o[t+112+4>>2]=o[s+4>>2];o[t+112+8>>2]=o[s+8>>2];o[t+112+12>>2]=o[s+12>>2];o[t+128>>2]=o[s+16>>2];o[t+128+4>>2]=o[s+16+4>>2];o[t+128+8>>2]=o[s+16+8>>2];o[t+128+12>>2]=o[s+16+12>>2];o[t+144>>2]=o[s+32>>2];o[t+144+4>>2]=o[s+32+4>>2];o[t+144+8>>2]=o[s+32+8>>2];o[t+144+12>>2]=o[s+32+12>>2];o[t+160>>2]=o[s+48>>2];o[t+160+4>>2]=o[s+48+4>>2];o[t+160+8>>2]=o[s+48+8>>2];o[t+160+12>>2]=o[s+48+12>>2];r=t+680|0;s=r+48|0;do{o[r>>2]=0;r=r+4|0}while((r|0)<(s|0));o[t+740>>2]=0;o[t+740+4>>2]=0;o[t+740+8>>2]=0;o[t+740+12>>2]=0;o[t+756>>2]=1045220557;o[t+760>>2]=1045220557;o[t+764>>2]=1045220557;o[t+768>>2]=0;o[t+768+4>>2]=0;o[t+768+8>>2]=0;o[t+768+12>>2]=0;o[t+768+16>>2]=0;l[t+728>>2]=.699999988079071;l[t+732>>2]=1.0;l[t+736>>2]=.5;i[t+788>>0]=0;l[t+792>>2]=0.0;l[t+808>>2]=0.0;i[t+789>>0]=0;l[t+796>>2]=0.0;l[t+812>>2]=0.0;i[t+790>>0]=0;l[t+800>>2]=0.0;l[t+816>>2]=0.0;l[t+928>>2]=0.0;l[t+876>>2]=0.0;l[t+880>>2]=.10000000149011612;l[t+884>>2]=300.0;l[t+868>>2]=1.0;l[t+872>>2]=-1.0;l[t+896>>2]=0.0;l[t+900>>2]=.20000000298023224;l[t+904>>2]=0.0;l[t+908>>2]=0.0;l[t+888>>2]=1.0;l[t+892>>2]=.5;o[t+924>>2]=0;l[t+916>>2]=0.0;i[t+912>>0]=0;l[t+992>>2]=0.0;l[t+940>>2]=0.0;l[t+944>>2]=.10000000149011612;l[t+948>>2]=300.0;l[t+932>>2]=1.0;l[t+936>>2]=-1.0;l[t+960>>2]=0.0;l[t+964>>2]=.20000000298023224;l[t+968>>2]=0.0;l[t+972>>2]=0.0;l[t+952>>2]=1.0;l[t+956>>2]=.5;o[t+988>>2]=0;l[t+980>>2]=0.0;i[t+976>>0]=0;l[t+1056>>2]=0.0;l[t+1004>>2]=0.0;l[t+1008>>2]=.10000000149011612;l[t+1012>>2]=300.0;l[t+996>>2]=1.0;l[t+1e3>>2]=-1.0;l[t+1024>>2]=0.0;l[t+1028>>2]=.20000000298023224;l[t+1032>>2]=0.0;l[t+1036>>2]=0.0;l[t+1016>>2]=1.0;l[t+1020>>2]=.5;o[t+1052>>2]=0;l[t+1044>>2]=0.0;i[t+1040>>0]=0;i[t+1300>>0]=a&1;i[t+1301>>0]=1;o[t+1304>>2]=0;i[t+1308>>0]=0;qA(t,(o[t+28>>2]|0)+4|0,(o[t+32>>2]|0)+4|0);return}function aL(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;var s=0,a=0,c=0.0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0;a=h;h=h+16|0;if(!(i[19880]|0)){i[19880]=1;o[a>>2]=0;o[a+4>>2]=0;o[a+8>>2]=0;o[a+12>>2]=0;zv(21260,0.0,0,0,a)}o[5366]=o[5366]|1;l[5407]=0.0;c=+l[5417]*0.0;u=+l[5418]*0.0;l[5412]=+l[5416]*0.0;l[5413]=c;l[5414]=u;l[5415]=0.0;o[5420]=0;o[5421]=0;o[5422]=0;o[5423]=0;u=+l[5409]*0.0;c=+l[5410]*0.0;l[5461]=+l[5408]*0.0;l[5462]=u;l[5463]=c;l[5464]=0.0;o[t+4>>2]=6;o[t+8>>2]=-1;o[t+12>>2]=-1;l[t+16>>2]=3402823466385288598117041.0e14;i[t+20>>0]=1;i[t+21>>0]=0;o[t+24>>2]=-1;o[t+28>>2]=21260;o[t+32>>2]=e;l[t+36>>2]=0.0;l[t+40>>2]=.30000001192092896;o[t+44>>2]=0;o[t>>2]=7240;o[t+112>>2]=o[n>>2];o[t+112+4>>2]=o[n+4>>2];o[t+112+8>>2]=o[n+8>>2];o[t+112+12>>2]=o[n+12>>2];o[t+128>>2]=o[n+16>>2];o[t+128+4>>2]=o[n+16+4>>2];o[t+128+8>>2]=o[n+16+8>>2];o[t+128+12>>2]=o[n+16+12>>2];o[t+144>>2]=o[n+32>>2];o[t+144+4>>2]=o[n+32+4>>2];o[t+144+8>>2]=o[n+32+8>>2];o[t+144+12>>2]=o[n+32+12>>2];o[t+160>>2]=o[n+48>>2];o[t+160+4>>2]=o[n+48+4>>2];o[t+160+8>>2]=o[n+48+8>>2];o[t+160+12>>2]=o[n+48+12>>2];n=t+680|0;s=n+48|0;do{o[n>>2]=0;n=n+4|0}while((n|0)<(s|0));o[t+740>>2]=0;o[t+740+4>>2]=0;o[t+740+8>>2]=0;o[t+740+12>>2]=0;o[t+756>>2]=1045220557;o[t+760>>2]=1045220557;o[t+764>>2]=1045220557;o[t+768>>2]=0;o[t+768+4>>2]=0;o[t+768+8>>2]=0;o[t+768+12>>2]=0;o[t+768+16>>2]=0;l[t+728>>2]=.699999988079071;l[t+732>>2]=1.0;l[t+736>>2]=.5;i[t+788>>0]=0;l[t+792>>2]=0.0;l[t+808>>2]=0.0;i[t+789>>0]=0;l[t+796>>2]=0.0;l[t+812>>2]=0.0;i[t+790>>0]=0;l[t+800>>2]=0.0;l[t+816>>2]=0.0;l[t+928>>2]=0.0;l[t+876>>2]=0.0;l[t+880>>2]=.10000000149011612;l[t+884>>2]=300.0;l[t+868>>2]=1.0;l[t+872>>2]=-1.0;l[t+896>>2]=0.0;l[t+900>>2]=.20000000298023224;l[t+904>>2]=0.0;l[t+908>>2]=0.0;l[t+888>>2]=1.0;l[t+892>>2]=.5;o[t+924>>2]=0;l[t+916>>2]=0.0;i[t+912>>0]=0;l[t+992>>2]=0.0;l[t+940>>2]=0.0;l[t+944>>2]=.10000000149011612;l[t+948>>2]=300.0;l[t+932>>2]=1.0;l[t+936>>2]=-1.0;l[t+960>>2]=0.0;l[t+964>>2]=.20000000298023224;l[t+968>>2]=0.0;l[t+972>>2]=0.0;l[t+952>>2]=1.0;l[t+956>>2]=.5;o[t+988>>2]=0;l[t+980>>2]=0.0;i[t+976>>0]=0;l[t+1056>>2]=0.0;l[t+1004>>2]=0.0;l[t+1008>>2]=.10000000149011612;l[t+1012>>2]=300.0;l[t+996>>2]=1.0;l[t+1e3>>2]=-1.0;l[t+1024>>2]=0.0;l[t+1028>>2]=.20000000298023224;l[t+1032>>2]=0.0;l[t+1036>>2]=0.0;l[t+1016>>2]=1.0;l[t+1020>>2]=.5;o[t+1052>>2]=0;l[t+1044>>2]=0.0;i[t+1040>>0]=0;i[t+1300>>0]=r&1;i[t+1301>>0]=1;o[t+1304>>2]=0;i[t+1308>>0]=0;M=+l[t+112>>2];R=+l[e+4>>2];S=+l[t+128>>2];E=+l[e+8>>2];w=+l[t+144>>2];L=+l[e+12>>2];x=+l[t+116>>2];y=+l[t+132>>2];v=+l[t+148>>2];b=+l[t+120>>2];m=+l[t+136>>2];d=+l[t+152>>2];A=+l[e+20>>2];T=+l[e+24>>2];C=+l[e+28>>2];g=+l[e+36>>2];_=+l[e+40>>2];f=+l[e+44>>2];P=+l[t+160>>2];I=+l[t+164>>2];u=+l[t+168>>2];p=+l[e+52>>2]+(R*P+E*I+L*u);c=A*P+T*I+C*u+ +l[e+56>>2];u=g*P+_*I+f*u+ +l[e+60>>2];l[t+48>>2]=M*R+S*E+w*L;l[t+52>>2]=R*x+E*y+L*v;l[t+56>>2]=R*b+E*m+L*d;l[t+60>>2]=0.0;l[t+64>>2]=M*A+S*T+w*C;l[t+68>>2]=x*A+y*T+v*C;l[t+72>>2]=b*A+m*T+d*C;l[t+76>>2]=0.0;l[t+80>>2]=M*g+S*_+w*f;l[t+84>>2]=x*g+y*_+v*f;l[t+88>>2]=b*g+m*_+d*f;l[t+92>>2]=0.0;l[t+96>>2]=p;l[t+100>>2]=c;l[t+104>>2]=u;l[t+108>>2]=0.0;qA(t,(o[t+28>>2]|0)+4|0,(o[t+32>>2]|0)+4|0);h=a;return}function cL(t){t=t|0;o[t>>2]=7188;if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function lL(t,e){t=t|0;e=e|0;var n=0,r=0.0,s=0.0,a=0.0,c=0;uL(t,(o[t+28>>2]|0)+4|0,(o[t+32>>2]|0)+4|0);o[e>>2]=0;o[e+4>>2]=0;switch(o[t+956>>2]|0){case 4:{o[e>>2]=2;n=2;break}case 0:{n=0;break}default:{o[e>>2]=1;n=1}}if(i[t+792>>0]|0){n=n+1|0;o[e>>2]=n}if(i[t+798>>0]|0){n=n+1|0;o[e>>2]=n}switch(o[t+960>>2]|0){case 4:{n=n+2|0;o[e>>2]=n;break}case 0:break;default:{n=n+1|0;o[e>>2]=n}}if(i[t+793>>0]|0){n=n+1|0;o[e>>2]=n}if(i[t+799>>0]|0){n=n+1|0;o[e>>2]=n}switch(o[t+964>>2]|0){case 4:{n=n+2|0;o[e>>2]=n;break}case 0:break;default:{n=n+1|0;o[e>>2]=n}}if(i[t+794>>0]|0){n=n+1|0;o[e>>2]=n}if(!(i[t+800>>0]|0))c=0;else{n=n+1|0;o[e>>2]=n;c=0}do{r=+l[t+968+(c*88|0)>>2];s=+l[t+968+(c*88|0)+4>>2];a=+ZA(+l[t+1364+(c<<2)>>2],r,s);l[t+968+(c*88|0)+80>>2]=a;do{if(!(r>s)){l[t+968+(c*88|0)+72>>2]=a-r;if(r==s){o[t+968+(c*88|0)+84>>2]=3;n=n+1|0;o[e>>2]=n;break}else{l[t+968+(c*88|0)+76>>2]=a-s;o[t+968+(c*88|0)+84>>2]=4;n=n+2|0;o[e>>2]=n;break}}else{o[t+968+(c*88|0)+84>>2]=0;l[t+968+(c*88|0)+72>>2]=0.0}}while(0);if(i[t+968+(c*88|0)+28>>0]|0){n=n+1|0;o[e>>2]=n}if(i[t+968+(c*88|0)+48>>0]|0){n=n+1|0;o[e>>2]=n}c=c+1|0}while((c|0)!=3);return}function uL(t,e,n){t=t|0;e=e|0;n=n|0;var r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0,p=0,f=0,d=0,_=0,m=0,g=0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0,D=0.0,k=0.0,O=0.0,N=0.0,F=0.0,B=0.0,j=0.0,U=0.0,z=0.0,G=0.0,W=0.0,H=0.0,X=0.0,q=0.0,Y=0.0;X=+l[t+48>>2];a=+l[e>>2];q=+l[t+64>>2];M=+l[e+4>>2];Y=+l[t+80>>2];r=+l[e+8>>2];A=+l[t+52>>2];T=+l[t+68>>2];C=+l[t+84>>2];z=+l[t+56>>2];W=+l[t+72>>2];j=+l[t+88>>2];R=+l[e+16>>2];E=+l[e+20>>2];L=+l[e+24>>2];G=+l[e+32>>2];S=+l[e+36>>2];b=+l[e+40>>2];u=+l[t+96>>2];s=+l[t+100>>2];H=+l[t+104>>2];U=+l[e+48>>2]+(a*u+M*s+r*H);w=R*u+E*s+L*H+ +l[e+52>>2];H=G*u+S*s+b*H+ +l[e+56>>2];l[t+1236>>2]=X*a+q*M+Y*r;l[t+1240>>2]=a*A+M*T+r*C;l[t+1244>>2]=a*z+M*W+r*j;l[t+1248>>2]=0.0;l[t+1252>>2]=X*R+q*E+Y*L;l[t+1256>>2]=A*R+T*E+C*L;l[t+1260>>2]=z*R+W*E+j*L;l[t+1264>>2]=0.0;l[t+1268>>2]=X*G+q*S+Y*b;l[t+1272>>2]=A*G+T*S+C*b;l[t+1276>>2]=z*G+W*S+j*b;l[t+1280>>2]=0.0;l[t+1284>>2]=U;l[t+1288>>2]=w;l[t+1292>>2]=H;l[t+1296>>2]=0.0;H=+l[t+112>>2];w=+l[n>>2];U=+l[t+128>>2];b=+l[n+4>>2];j=+l[t+144>>2];S=+l[n+8>>2];W=+l[t+116>>2];G=+l[t+132>>2];z=+l[t+148>>2];C=+l[t+120>>2];T=+l[t+136>>2];A=+l[t+152>>2];Y=+l[n+16>>2];q=+l[n+20>>2];X=+l[n+24>>2];L=+l[n+32>>2];E=+l[n+36>>2];R=+l[n+40>>2];r=+l[t+160>>2];M=+l[t+164>>2];a=+l[t+168>>2];s=+l[n+48>>2]+(w*r+b*M+S*a);u=Y*r+q*M+X*a+ +l[n+52>>2];a=L*r+E*M+R*a+ +l[n+56>>2];l[t+1300>>2]=H*w+U*b+j*S;l[t+1304>>2]=w*W+b*G+S*z;l[t+1308>>2]=w*C+b*T+S*A;l[t+1312>>2]=0.0;l[t+1316>>2]=H*Y+U*q+j*X;l[t+1320>>2]=W*Y+G*q+z*X;l[t+1324>>2]=C*Y+T*q+A*X;l[t+1328>>2]=0.0;l[t+1332>>2]=H*L+U*E+j*R;l[t+1336>>2]=W*L+G*E+z*R;l[t+1340>>2]=C*L+T*E+A*R;l[t+1344>>2]=0.0;l[t+1348>>2]=s;l[t+1352>>2]=u;l[t+1356>>2]=a;l[t+1360>>2]=0.0;s=s-+l[t+1284>>2];u=u-+l[t+1288>>2];a=a-+l[t+1292>>2];z=+l[t+1256>>2];G=+l[t+1276>>2];W=+l[t+1260>>2];j=+l[t+1272>>2];U=+l[t+1268>>2];H=+l[t+1252>>2];X=+l[t+1236>>2];q=+l[t+1240>>2];Y=+l[t+1244>>2];S=1.0/((z*G-W*j)*X+q*(W*U-G*H)+(j*H-z*U)*Y);b=(z*G-W*j)*S;w=(W*U-G*H)*S;M=(j*H-z*U)*S;r=a*((W*q-z*Y)*S)+(s*b+u*((j*Y-G*q)*S));c=a*((H*Y-W*X)*S)+(s*w+u*((G*X-U*Y)*S));u=a*((z*X-H*q)*S)+(s*M+u*((U*q-j*X)*S));l[t+1428>>2]=r;l[t+1432>>2]=c;l[t+1436>>2]=u;l[t+1440>>2]=0.0;l[t+940>>2]=r;s=+l[t+680>>2];a=+l[t+696>>2];do{if(!(s>a)){l[t+908>>2]=r-s;if(s==a){o[t+956>>2]=3;break}else{l[t+924>>2]=r-a;o[t+956>>2]=4;break}}else{l[t+908>>2]=0.0;o[t+956>>2]=0}}while(0);l[t+944>>2]=c;r=+l[t+684>>2];s=+l[t+700>>2];do{if(!(r>s)){l[t+912>>2]=c-r;if(r==s){o[t+960>>2]=3;break}else{l[t+928>>2]=c-s;o[t+960>>2]=4;break}}else{l[t+912>>2]=0.0;o[t+960>>2]=0}}while(0);l[t+948>>2]=u;r=+l[t+688>>2];s=+l[t+704>>2];do{if(!(r>s)){l[t+916>>2]=u-r;if(r==s){o[t+964>>2]=3;break}else{l[t+932>>2]=u-s;o[t+964>>2]=4;break}}else{l[t+916>>2]=0.0;o[t+964>>2]=0}}while(0);D=+l[t+1300>>2];k=+l[t+1316>>2];O=+l[t+1332>>2];y=O*((W*q-z*Y)*S)+(D*b+k*((j*Y-G*q)*S));N=+l[t+1304>>2];F=+l[t+1320>>2];B=+l[t+1336>>2];x=b*N+(j*Y-G*q)*S*F+(W*q-z*Y)*S*B;I=+l[t+1308>>2];P=+l[t+1324>>2];u=b*I+(j*Y-G*q)*S*P+(W*q-z*Y)*S*(C*L+T*E+A*R);b=O*((H*Y-W*X)*S)+(D*w+k*((G*X-U*Y)*S));v=N*w+(G*X-U*Y)*S*F+(H*Y-W*X)*S*B;s=w*I+(G*X-U*Y)*S*P+(H*Y-W*X)*S*(C*L+T*E+A*R);a=O*((z*X-H*q)*S)+(D*M+k*((U*q-j*X)*S));c=N*M+(U*q-j*X)*S*F+(z*X-H*q)*S*B;r=M*I+(U*q-j*X)*S*P+(z*X-H*q)*S*(C*L+T*E+A*R);switch(o[t+1232>>2]|0){case 0:{do{if(a<1.0)if(a>-1.0){l[t+1364>>2]=+K(+-c,+r);q=a<-1.0?-1.0:a;l[t+1368>>2]=+Z(+(q>1.0?1.0:q));l[t+1372>>2]=+K(+-b,+y);break}else{l[t+1364>>2]=-+K(+x,+v);l[t+1368>>2]=-1.5707963705062866;l[t+1372>>2]=0.0;break}else{l[t+1364>>2]=+K(+x,+v);l[t+1368>>2]=1.5707963705062866;l[t+1372>>2]=0.0}}while(0);l[t+1396>>2]=O*W-k*G;l[t+1400>>2]=D*G-O*Y;l[t+1404>>2]=k*Y-D*W;l[t+1408>>2]=0.0;l[t+1380>>2]=G*(D*G-O*Y)-W*(k*Y-D*W);l[t+1384>>2]=Y*(k*Y-D*W)-G*(O*W-k*G);l[t+1388>>2]=W*(O*W-k*G)-Y*(D*G-O*Y);l[t+1392>>2]=0.0;l[t+1412>>2]=k*(k*Y-D*W)-O*(D*G-O*Y);l[t+1416>>2]=O*(O*W-k*G)-D*(k*Y-D*W);l[t+1420>>2]=D*(D*G-O*Y)-k*(O*W-k*G);l[t+1424>>2]=0.0;e=t+1380|0;n=t+1384|0;h=t+1388|0;p=t+1396|0;f=t+1400|0;d=t+1404|0;_=t+1412|0;m=t+1416|0;g=t+1420|0;a=G*(D*G-O*Y)-W*(k*Y-D*W);c=Y*(k*Y-D*W)-G*(O*W-k*G);u=W*(O*W-k*G)-Y*(D*G-O*Y);b=O*W-k*G;v=D*G-O*Y;y=k*Y-D*W;x=k*(k*Y-D*W)-O*(D*G-O*Y);s=O*(O*W-k*G)-D*(k*Y-D*W);r=D*(D*G-O*Y)-k*(O*W-k*G);break}case 1:{do{if(b<1.0)if(b>-1.0){l[t+1364>>2]=+K(+s,+v);l[t+1368>>2]=+K(+a,+y);Y=-b<-1.0?-1.0:-b;l[t+1372>>2]=+Z(+(Y>1.0?1.0:Y));break}else{l[t+1364>>2]=-+K(+-u,+r);l[t+1368>>2]=0.0;l[t+1372>>2]=1.5707963705062866;break}else{l[t+1364>>2]=+K(+-u,+r);l[t+1368>>2]=0.0;l[t+1372>>2]=-1.5707963705062866}}while(0);l[t+1412>>2]=k*j-O*z;l[t+1416>>2]=O*q-D*j;l[t+1420>>2]=D*z-k*q;l[t+1424>>2]=0.0;l[t+1380>>2]=z*(D*z-k*q)-j*(O*q-D*j);l[t+1384>>2]=j*(k*j-O*z)-q*(D*z-k*q);l[t+1388>>2]=q*(O*q-D*j)-z*(k*j-O*z);l[t+1392>>2]=0.0;l[t+1396>>2]=O*(O*q-D*j)-k*(D*z-k*q);l[t+1400>>2]=D*(D*z-k*q)-O*(k*j-O*z);l[t+1404>>2]=k*(k*j-O*z)-D*(O*q-D*j);l[t+1408>>2]=0.0;e=t+1380|0;n=t+1384|0;h=t+1388|0;p=t+1396|0;f=t+1400|0;d=t+1404|0;_=t+1412|0;m=t+1416|0;g=t+1420|0;a=z*(D*z-k*q)-j*(O*q-D*j);c=j*(k*j-O*z)-q*(D*z-k*q);u=q*(O*q-D*j)-z*(k*j-O*z);b=O*(O*q-D*j)-k*(D*z-k*q);v=D*(D*z-k*q)-O*(k*j-O*z);y=k*(k*j-O*z)-D*(O*q-D*j);x=k*j-O*z;s=O*q-D*j;r=D*z-k*q;break}case 2:{do{if(c<1.0)if(c>-1.0){q=-c<-1.0?-1.0:-c;l[t+1364>>2]=+Z(+(q>1.0?1.0:q));l[t+1368>>2]=+K(+a,+r);l[t+1372>>2]=+K(+x,+v);break}else{l[t+1364>>2]=1.5707963705062866;l[t+1368>>2]=-+K(+-b,+y);l[t+1372>>2]=0.0;break}else{l[t+1364>>2]=-1.5707963705062866;l[t+1368>>2]=+K(+-b,+y);l[t+1372>>2]=0.0}}while(0);l[t+1380>>2]=F*G-B*W;l[t+1384>>2]=B*Y-N*G;l[t+1388>>2]=N*W-F*Y;l[t+1392>>2]=0.0;l[t+1396>>2]=W*(N*W-F*Y)-G*(B*Y-N*G);l[t+1400>>2]=G*(F*G-B*W)-Y*(N*W-F*Y);l[t+1404>>2]=Y*(B*Y-N*G)-W*(F*G-B*W);l[t+1408>>2]=0.0;l[t+1412>>2]=B*(B*Y-N*G)-F*(N*W-F*Y);l[t+1416>>2]=N*(N*W-F*Y)-B*(F*G-B*W);l[t+1420>>2]=F*(F*G-B*W)-N*(B*Y-N*G);l[t+1424>>2]=0.0;e=t+1380|0;n=t+1384|0;h=t+1388|0;p=t+1396|0;f=t+1400|0;d=t+1404|0;_=t+1412|0;m=t+1416|0;g=t+1420|0;a=F*G-B*W;c=B*Y-N*G;u=N*W-F*Y;b=W*(N*W-F*Y)-G*(B*Y-N*G);v=G*(F*G-B*W)-Y*(N*W-F*Y);y=Y*(B*Y-N*G)-W*(F*G-B*W);x=B*(B*Y-N*G)-F*(N*W-F*Y);s=N*(N*W-F*Y)-B*(F*G-B*W);r=F*(F*G-B*W)-N*(B*Y-N*G);break}case 3:{do{if(x<1.0)if(x>-1.0){l[t+1364>>2]=+K(+-c,+v);l[t+1368>>2]=+K(+-u,+y);Y=x<-1.0?-1.0:x;l[t+1372>>2]=+Z(+(Y>1.0?1.0:Y));break}else{l[t+1364>>2]=0.0;l[t+1368>>2]=-+K(+s,+r);l[t+1372>>2]=-1.5707963705062866;break}else{l[t+1364>>2]=0.0;l[t+1368>>2]=+K(+s,+r);l[t+1372>>2]=1.5707963705062866}}while(0);l[t+1412>>2]=H*B-U*F;l[t+1416>>2]=U*N-X*B;l[t+1420>>2]=X*F-H*N;l[t+1424>>2]=0.0;l[t+1380>>2]=F*(X*F-H*N)-B*(U*N-X*B);l[t+1384>>2]=B*(H*B-U*F)-N*(X*F-H*N);l[t+1388>>2]=N*(U*N-X*B)-F*(H*B-U*F);l[t+1392>>2]=0.0;l[t+1396>>2]=U*(U*N-X*B)-H*(X*F-H*N);l[t+1400>>2]=X*(X*F-H*N)-U*(H*B-U*F);l[t+1404>>2]=H*(H*B-U*F)-X*(U*N-X*B);l[t+1408>>2]=0.0;e=t+1380|0;n=t+1384|0;h=t+1388|0;p=t+1396|0;f=t+1400|0;d=t+1404|0;_=t+1412|0;m=t+1416|0;g=t+1420|0;a=F*(X*F-H*N)-B*(U*N-X*B);c=B*(H*B-U*F)-N*(X*F-H*N);u=N*(U*N-X*B)-F*(H*B-U*F);b=U*(U*N-X*B)-H*(X*F-H*N);v=X*(X*F-H*N)-U*(H*B-U*F);y=H*(H*B-U*F)-X*(U*N-X*B);x=H*B-U*F;s=U*N-X*B;r=X*F-H*N;break}case 4:{do{if(s<1.0)if(s>-1.0){Y=s<-1.0?-1.0:s;l[t+1364>>2]=+Z(+(Y>1.0?1.0:Y));l[t+1368>>2]=+K(+-u,+r);l[t+1372>>2]=+K(+-b,+v);break}else{l[t+1364>>2]=-1.5707963705062866;l[t+1368>>2]=0.0;l[t+1372>>2]=-+K(+a,+y);break}else{l[t+1364>>2]=1.5707963705062866;l[t+1368>>2]=0.0;l[t+1372>>2]=+K(+a,+y)}}while(0);Y=z*(C*L+T*E+A*R)-j*P;r=j*I-q*(C*L+T*E+A*R);l[t+1380>>2]=Y;l[t+1384>>2]=r;l[t+1388>>2]=q*P-z*I;l[t+1392>>2]=0.0;b=P*(q*P-z*I)-(C*L+T*E+A*R)*r;v=(C*L+T*E+A*R)*Y-I*(q*P-z*I);l[t+1396>>2]=b;l[t+1400>>2]=v;l[t+1404>>2]=I*r-P*Y;l[t+1408>>2]=0.0;l[t+1412>>2]=j*r-z*(q*P-z*I);l[t+1416>>2]=q*(q*P-z*I)-j*Y;l[t+1420>>2]=z*Y-q*r;l[t+1424>>2]=0.0;e=t+1380|0;n=t+1384|0;h=t+1388|0;p=t+1396|0;f=t+1400|0;d=t+1404|0;_=t+1412|0;m=t+1416|0;g=t+1420|0;a=Y;c=r;u=q*P-z*I;y=I*r-P*Y;x=j*r-z*(q*P-z*I);s=q*(q*P-z*I)-j*Y;r=z*Y-q*r;break}case 5:{do{if(u<1.0)if(u>-1.0){l[t+1364>>2]=+K(+s,+r);Y=-u<-1.0?-1.0:-u;l[t+1368>>2]=+Z(+(Y>1.0?1.0:Y));l[t+1372>>2]=+K(+x,+y);break}else{l[t+1364>>2]=0.0;l[t+1368>>2]=1.5707963705062866;l[t+1372>>2]=-+K(+b,+a);break}else{l[t+1364>>2]=0.0;l[t+1368>>2]=-1.5707963705062866;l[t+1372>>2]=+K(+-b,+-a)}}while(0);r=U*P-H*(C*L+T*E+A*R);Y=X*(C*L+T*E+A*R)-U*I;l[t+1396>>2]=r;l[t+1400>>2]=Y;l[t+1404>>2]=H*I-X*P;l[t+1408>>2]=0.0;a=(C*L+T*E+A*R)*Y-P*(H*I-X*P);c=I*(H*I-X*P)-(C*L+T*E+A*R)*r;l[t+1380>>2]=a;l[t+1384>>2]=c;l[t+1388>>2]=P*r-I*Y;l[t+1392>>2]=0.0;l[t+1412>>2]=H*(H*I-X*P)-U*Y;l[t+1416>>2]=U*r-X*(H*I-X*P);l[t+1420>>2]=X*Y-H*r;l[t+1424>>2]=0.0;e=t+1380|0;n=t+1384|0;h=t+1388|0;p=t+1396|0;f=t+1400|0;d=t+1404|0;_=t+1412|0;m=t+1416|0;g=t+1420|0;u=P*r-I*Y;b=r;v=Y;y=H*I-X*P;x=H*(H*I-X*P)-U*Y;s=U*r-X*(H*I-X*P);r=X*Y-H*r;break}default:{e=t+1380|0;n=t+1384|0;h=t+1388|0;p=t+1396|0;f=t+1400|0;d=t+1404|0;_=t+1412|0;m=t+1416|0;g=t+1420|0;a=+l[t+1380>>2];c=+l[t+1384>>2];u=+l[t+1388>>2];b=+l[t+1396>>2];v=+l[t+1400>>2];y=+l[t+1404>>2];x=+l[t+1412>>2];s=+l[t+1416>>2];r=+l[t+1420>>2]}}q=1.0/+V(+(a*a+c*c+u*u));l[e>>2]=a*q;l[n>>2]=c*q;l[h>>2]=u*q;q=1.0/+V(+(b*b+v*v+y*y));l[p>>2]=b*q;l[f>>2]=v*q;l[d>>2]=y*q;q=1.0/+V(+(x*x+s*s+r*r));l[_>>2]=x*q;l[m>>2]=s*q;l[g>>2]=r*q;q=+l[(o[t+28>>2]|0)+368>>2];Y=+l[(o[t+32>>2]|0)+368>>2];i[t+1452>>0]=(q<1.1920928955078125e-07|Y<1.1920928955078125e-07)&1;Y=q+Y>0.0?Y/(q+Y):.5;l[t+1444>>2]=Y;l[t+1448>>2]=1.0-Y;return}function hL(t,e){t=t|0;e=e|0;var n=0,r=0,s=0,a=0,c=0,u=0,p=0,f=0,d=0,_=0,m=0.0;_=h;h=h+112|0;p=o[t+28>>2]|0;f=o[t+32>>2]|0;o[_+16>>2]=o[1836];o[_+16+4>>2]=o[1837];o[_+16+8>>2]=o[1838];switch(o[t+1232>>2]|0){case 0:{o[_+16>>2]=0;o[_+16+4>>2]=1;o[_+16+8>>2]=2;n=0;break}case 1:{o[_+16>>2]=0;o[_+16+4>>2]=2;o[_+16+8>>2]=1;n=0;break}case 2:{o[_+16>>2]=1;o[_+16+4>>2]=0;o[_+16+8>>2]=2;n=1;break}case 3:{o[_+16>>2]=1;o[_+16+4>>2]=2;o[_+16+8>>2]=0;n=1;break}case 4:{o[_+16>>2]=2;o[_+16+4>>2]=0;o[_+16+8>>2]=1;n=2;break}case 5:{o[_+16>>2]=2;o[_+16+4>>2]=1;o[_+16+8>>2]=0;n=2;break}default:n=0}r=0;c=0;while(1){s=t+968+(n*88|0)|0;if(!(((o[t+968+(n*88|0)+84>>2]|0)==0?(i[t+968+(n*88|0)+28>>0]|0)==0:0)?(i[t+968+(n*88|0)+48>>0]|0)==0:0)){a=t+1380+(n<<4)|0;o[_>>2]=o[a>>2];o[_+4>>2]=o[a+4>>2];o[_+8>>2]=o[a+8>>2];o[_+12>>2]=o[a+12>>2];a=o[t+1456>>2]>>(n<<2)+12;if(!(a&1))o[t+968+(n*88|0)+16>>2]=o[o[e+32>>2]>>2];if(!(a&2))o[t+968+(n*88|0)+12>>2]=o[e+4>>2];if(!(a&4))o[t+968+(n*88|0)+24>>2]=o[o[e+32>>2]>>2];if(!(a&8))o[t+968+(n*88|0)+20>>2]=o[e+4>>2];c=(cD(t,s,p+4|0,f+4|0,p+336|0,f+336|0,p+352|0,f+352|0,e,c,_,1,0)|0)+c|0}r=r+1|0;if((r|0)==3)break;n=o[_+16+(r<<2)>>2]|0}l[_+16>>2]=1.0;l[_+16+4>>2]=-1.0;l[_+16+8>>2]=0.0;l[_+16+12>>2]=.20000000298023224;l[_+16+16>>2]=0.0;l[_+16+20>>2]=.8999999761581421;l[_+16+24>>2]=0.0;i[_+16+28>>0]=0;l[_+16+32>>2]=0.0;l[_+16+36>>2]=.10000000149011612;i[_+16+40>>0]=0;l[_+16+44>>2]=0.0;i[_+16+48>>0]=0;l[_+16+52>>2]=0.0;i[_+16+56>>0]=0;l[_+16+60>>2]=0.0;i[_+16+64>>0]=0;u=_+16+68|0;o[u>>2]=0;o[u+4>>2]=0;o[u+8>>2]=0;o[u+12>>2]=0;o[u+16>>2]=0;r=c;c=0;while(1){s=o[t+956+(c<<2)>>2]|0;n=i[t+792+c>>0]|0;a=i[t+798+c>>0]|0;if((s|0)==0&n<<24>>24==0)if(!(a<<24>>24))n=c+1|0;else{n=0;d=27}else d=27;if((d|0)==27){d=0;o[_+16+8>>2]=o[t+712+(c<<2)>>2];o[_+16+84>>2]=s;o[_+16+80>>2]=o[t+940+(c<<2)>>2];o[_+16+72>>2]=o[t+908+(c<<2)>>2];o[_+16+76>>2]=o[t+924+(c<<2)>>2];i[_+16+28>>0]=n;i[_+16+40>>0]=i[t+795+c>>0]|0;o[_+16+44>>2]=o[t+804+(c<<2)>>2];i[_+16+48>>0]=a;o[_+16+52>>2]=o[t+820+(c<<2)>>2];i[_+16+56>>0]=i[t+836+c>>0]|0;o[_+16+60>>2]=o[t+840+(c<<2)>>2];i[_+16+64>>0]=i[t+856+c>>0]|0;o[u>>2]=o[t+860+(c<<2)>>2];o[_+16+4>>2]=o[t+696+(c<<2)>>2];o[_+16>>2]=o[t+680+(c<<2)>>2];o[_+16+36>>2]=o[t+892+(c<<2)>>2];o[_+16+32>>2]=o[t+876+(c<<2)>>2];o[_>>2]=o[t+1236+(c<<2)>>2];o[_+4>>2]=o[t+1252+(c<<2)>>2];o[_+8>>2]=o[t+1268+(c<<2)>>2];l[_+12>>2]=0.0;s=o[t+1456>>2]>>(c<<2);if(!(s&1))n=o[e+32>>2]|0;else n=t+744+(c<<2)|0;o[_+16+16>>2]=o[n>>2];o[_+16+12>>2]=o[((s&2|0)==0?e+4|0:t+728+(c<<2)|0)>>2];if(!(s&4))n=o[e+32>>2]|0;else n=t+776+(c<<2)|0;o[_+16+24>>2]=o[n>>2];o[_+16+20>>2]=o[((s&8|0)==0?e+4|0:t+760+(c<<2)|0)>>2];n=c+1|0;a=(n|0)==3?0:n;c=(c+2|0)%3|0;s=o[t+968+(a*88|0)+84>>2]|0;switch(s|0){case 2:case 1:{a=1;break}case 3:{m=+l[t+968+(a*88|0)+72>>2];a=m<-.001|m>.001;break}default:if((s|0)==4)if(+l[t+968+(a*88|0)+72>>2]<-.001)a=1;else a=+l[t+968+(a*88|0)+76>>2]>.001;else a=0}switch(o[t+968+(c*88|0)+84>>2]|0){case 2:case 1:{d=42;break}case 3:{m=+l[t+968+(c*88|0)+72>>2];if(m<-.001|m>.001)d=42;else s=1;break}case 4:{if(!(+l[t+968+(c*88|0)+72>>2]<-.001)?!(+l[t+968+(c*88|0)+76>>2]>.001):0)s=1;else d=42;break}default:s=1}if((d|0)==42){d=0;s=0}r=(cD(t,_+16|0,p+4|0,f+4|0,p+336|0,f+336|0,p+352|0,f+352|0,e,r,_,0,a?s:1)|0)+r|0}if((n|0)==3)break;else c=n}h=_;return}function pL(t,e,n){t=t|0;e=e|0;n=+n;var i=0,r=0.0,s=0.0,a=0.0,c=0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0;c=h;h=h+32|0;f=+l[t+60>>2];g=+l[t+76>>2]-f;p=+l[t+64>>2];_=+l[t+80>>2]-p;u=+l[t+68>>2];b=+l[t+84>>2]-u;d=+l[t+92>>2]-f;m=+l[t+96>>2]-p;s=+l[t+100>>2]-u;a=1.0/+V(+((g*m-_*d)*(g*m-_*d)+((_*s-b*m)*(_*s-b*m)+(b*d-g*s)*(b*d-g*s))));r=a*(_*s-b*m);s=a*(b*d-g*s);a=(g*m-_*d)*a;u=a*+l[e+8>>2]+(+l[e>>2]*r+ +l[e+4>>2]*s)-(r*f+s*p+a*u);if(!(u>=-n)|!(u<=n)){t=0;h=c;return t|0}i=0;while(1){Wk[o[(o[t>>2]|0)+104>>2]&127](t,i,c+16|0,c);f=+l[c+16>>2];b=+l[c>>2]-f;_=+l[c+16+4>>2];d=+l[c+4>>2]-_;p=+l[c+16+8>>2];g=+l[c+8>>2]-p;m=1.0/+V(+((s*b-r*d)*(s*b-r*d)+((a*d-s*g)*(a*d-s*g)+(r*g-a*b)*(r*g-a*b))));i=i+1|0;if((s*b-r*d)*m*+l[e+8>>2]+(+l[e>>2]*(m*(a*d-s*g))+ +l[e+4>>2]*(m*(r*g-a*b)))-(p*((s*b-r*d)*m)+(f*(m*(a*d-s*g))+_*(m*(r*g-a*b))))<-n){i=0;e=5;break}if((i|0)>=3){i=1;e=5;break}}if((e|0)==5){h=c;return i|0}return 0}function fL(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0,p=0.0;s=+l[t+60>>2];u=+l[t+76>>2]-s;c=+l[t+64>>2];a=+l[t+80>>2]-c;h=+l[t+68>>2];p=+l[t+84>>2]-h;s=+l[t+92>>2]-s;c=+l[t+96>>2]-c;h=+l[t+100>>2]-h;l[n+12>>2]=0.0;r=1.0/+V(+((u*c-a*s)*(u*c-a*s)+((a*h-p*c)*(a*h-p*c)+(p*s-u*h)*(p*s-u*h))));l[n>>2]=(a*h-p*c)*r;l[n+4>>2]=(p*s-u*h)*r;l[n+8>>2]=(u*c-a*s)*r;o[i>>2]=o[t+60>>2];o[i+4>>2]=o[t+60+4>>2];o[i+8>>2]=o[t+60+8>>2];o[i+12>>2]=o[t+60+12>>2];return}function dL(t){t=t|0;var e=0;o[t>>2]=3720;o[t+12>>2]=3748;e=o[t+60>>2]|0;ck[o[(o[e>>2]|0)+20>>2]&127](e,o[t+76>>2]|0);e=o[t+60>>2]|0;ck[o[(o[e>>2]|0)+16>>2]&127](e,o[t+76>>2]|0);Kc(t);return}function _L(t,e,n,r,s){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;var a=0,c=0,u=0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0,D=0.0,k=0.0,O=0.0,N=0.0;c=h;h=h+64|0;u=(i[t+8>>0]|0)!=0;a=u?n:e;e=u?e:n;n=o[e+4>>2]|0;if(((o[n+4>>2]|0)+-21|0)>>>0>=9){h=c;return}if((o[(o[a+4>>2]|0)+4>>2]|0)>=20){h=c;return}p=+wk[o[(o[n>>2]|0)+48>>2]&15](n);o[s+4>>2]=o[t+76>>2];o[t+16>>2]=a;o[t+20>>2]=e;o[t+64>>2]=r;l[t+68>>2]=p;o[t+56>>2]=s;u=o[e+12>>2]|0;A=+l[u>>2];T=+l[u+16>>2];C=+l[u+32>>2];M=+l[u+4>>2];S=+l[u+20>>2];w=+l[u+36>>2];b=+l[u+8>>2];m=+l[u+24>>2];d=+l[u+40>>2];x=-+l[u+48>>2];y=-+l[u+52>>2];v=-+l[u+56>>2];u=o[a+12>>2]|0;N=+l[u>>2];O=+l[u+16>>2];k=+l[u+32>>2];D=+l[u+4>>2];P=+l[u+20>>2];I=+l[u+36>>2];R=+l[u+8>>2];E=+l[u+24>>2];L=+l[u+40>>2];g=+l[u+48>>2];_=+l[u+52>>2];f=+l[u+56>>2];l[c>>2]=A*N+T*O+C*k;l[c+4>>2]=A*D+T*P+C*I;l[c+8>>2]=A*R+T*E+C*L;l[c+12>>2]=0.0;l[c+16>>2]=M*N+S*O+w*k;l[c+20>>2]=M*D+S*P+w*I;l[c+24>>2]=M*R+S*E+w*L;l[c+28>>2]=0.0;l[c+32>>2]=b*N+m*O+d*k;l[c+36>>2]=b*D+m*P+d*I;l[c+40>>2]=b*R+m*E+d*L;l[c+44>>2]=0.0;l[c+48>>2]=A*x+T*y+C*v+(A*g+T*_+C*f);l[c+52>>2]=M*x+S*y+w*v+(M*g+S*_+w*f);l[c+56>>2]=b*x+m*y+d*v+(b*g+m*_+d*f);l[c+60>>2]=0.0;u=o[(o[t+16>>2]|0)+4>>2]|0;Wk[o[(o[u>>2]|0)+8>>2]&127](u,c,t+24|0,t+40|0);l[t+40>>2]=+l[t+40>>2]+p;l[t+44>>2]=+l[t+44>>2]+p;l[t+48>>2]=+l[t+48>>2]+p;l[t+24>>2]=+l[t+24>>2]-p;l[t+28>>2]=+l[t+28>>2]-p;l[t+32>>2]=+l[t+32>>2]-p;u=o[t+76>>2]|0;r=o[e+8>>2]|0;o[u+740>>2]=o[a+8>>2];o[u+744>>2]=r;Wk[o[(o[n>>2]|0)+64>>2]&127](n,t+12|0,t+24|0,t+40|0);n=o[s+4>>2]|0;do{if(o[n+748>>2]|0){a=o[n+740>>2]|0;r=o[(o[s+8>>2]|0)+8>>2]|0;e=o[(o[s+12>>2]|0)+8>>2]|0;if((a|0)==(r|0)){px(n,a+4|0,e+4|0);break}else{px(n,e+4|0,r+4|0);break}}}while(0);o[t+16>>2]=0;o[t+20>>2]=0;h=c;return}function mL(t,e,n,r,s){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;var a=0.0,c=0.0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0,D=0.0,k=0.0,O=0.0,N=0.0,F=0.0,B=0.0,j=0.0,U=0.0,z=0.0,G=0.0,V=0.0,W=0.0,H=0.0,X=0.0,q=0.0,Y=0,Z=0.0,J=0.0;Y=h;h=h+240|0;r=(i[t+8>>0]|0)!=0;s=r?n:e;r=r?e:n;W=+l[s+116>>2]-+l[s+52>>2];H=+l[s+120>>2]-+l[s+56>>2];X=+l[s+124>>2]-+l[s+60>>2];q=+l[s+256>>2];if(W*W+H*H+X*X<q*q){Z=1.0;h=Y;return+Z}I=+l[r+4>>2];P=+l[r+20>>2];D=+l[r+36>>2];k=+l[r+8>>2];O=+l[r+24>>2];N=+l[r+40>>2];F=+l[r+12>>2];B=+l[r+28>>2];j=+l[r+44>>2];c=-+l[r+52>>2];u=-+l[r+56>>2];p=-+l[r+60>>2];U=+l[s+4>>2];z=+l[s+20>>2];G=+l[s+36>>2];V=+l[s+8>>2];W=+l[s+24>>2];H=+l[s+40>>2];X=+l[s+12>>2];q=+l[s+28>>2];_=+l[s+44>>2];y=+l[s+52>>2];v=+l[s+56>>2];b=+l[s+60>>2];m=I*c+P*u+D*p+(I*y+P*v+D*b);g=k*c+O*u+N*p+(k*y+O*v+N*b);b=F*c+B*u+j*p+(F*y+B*v+j*b);v=+l[s+68>>2];y=+l[s+84>>2];x=+l[s+100>>2];w=+l[s+72>>2];S=+l[s+88>>2];M=+l[s+104>>2];C=+l[s+76>>2];T=+l[s+92>>2];A=+l[s+108>>2];f=+l[s+116>>2];d=+l[s+120>>2];R=+l[s+124>>2];L=I*c+P*u+D*p+(I*f+P*d+D*R);E=k*c+O*u+N*p+(k*f+O*d+N*R);R=F*c+B*u+j*p+(F*f+B*d+j*R);r=o[r+192>>2]|0;if(((o[r+4>>2]|0)+-21|0)>>>0>=9){Z=1.0;h=Y;return+Z}l[Y+224>>2]=m;l[Y+224+4>>2]=g;l[Y+224+8>>2]=b;l[Y+224+12>>2]=0.0;if(L<m){l[Y+224>>2]=L;a=L}else a=m;if(E<g){l[Y+224+4>>2]=E;c=E}else c=g;if(R<b){l[Y+224+8>>2]=R;u=R}else u=b;l[Y+208>>2]=m;l[Y+208+4>>2]=g;l[Y+208+8>>2]=b;l[Y+208+12>>2]=0.0;if(m<L){l[Y+208>>2]=L;p=L}else p=m;if(g<E){l[Y+208+4>>2]=E;f=E}else f=g;if(b<R){l[Y+208+8>>2]=R;d=R}else d=b;J=+l[s+252>>2];l[Y+224>>2]=a-J;l[Y+224+4>>2]=c-J;l[Y+224+8>>2]=u-J;l[Y+208>>2]=J+p;l[Y+208+4>>2]=J+f;l[Y+208+8>>2]=J+d;o[Y>>2]=3904;l[Y+4>>2]=I*U+P*z+D*G;l[Y+8>>2]=I*V+P*W+D*H;l[Y+12>>2]=I*X+P*q+D*_;l[Y+16>>2]=0.0;l[Y+20>>2]=k*U+O*z+N*G;l[Y+24>>2]=k*V+O*W+N*H;l[Y+28>>2]=k*X+O*q+N*_;l[Y+32>>2]=0.0;l[Y+36>>2]=F*U+B*z+j*G;l[Y+40>>2]=F*V+B*W+j*H;l[Y+44>>2]=F*X+B*q+j*_;l[Y+48>>2]=0.0;l[Y+52>>2]=m;l[Y+56>>2]=g;l[Y+60>>2]=b;l[Y+64>>2]=0.0;l[Y+68>>2]=I*v+P*y+D*x;l[Y+72>>2]=I*w+P*S+D*M;l[Y+76>>2]=I*C+P*T+D*A;l[Y+80>>2]=0.0;l[Y+84>>2]=k*v+O*y+N*x;l[Y+88>>2]=k*w+O*S+N*M;l[Y+92>>2]=k*C+O*T+N*A;l[Y+96>>2]=0.0;l[Y+100>>2]=F*v+B*y+j*x;l[Y+104>>2]=F*w+B*S+j*M;l[Y+108>>2]=F*C+B*T+j*A;l[Y+112>>2]=0.0;l[Y+116>>2]=L;l[Y+120>>2]=E;l[Y+124>>2]=R;l[Y+128>>2]=0.0;l[Y+196>>2]=J;o[Y+200>>2]=o[s+248>>2];if(r|0?(Wk[o[(o[r>>2]|0)+64>>2]&127](r,Y,Y+224|0,Y+208|0),Z=+l[Y+200>>2],Z<+l[s+248>>2]):0){l[s+248>>2]=Z;J=Z;h=Y;return+J}J=1.0;h=Y;return+J}function gL(t){t=t|0;Kc(t);return}function bL(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;var s=0.0;r=h;h=h+784|0;o[r+720>>2]=1065353216;o[r+720+4>>2]=0;o[r+720+4+4>>2]=0;o[r+720+4+8>>2]=0;o[r+720+4+12>>2]=0;o[r+720+20>>2]=1065353216;o[r+720+24>>2]=0;o[r+720+24+4>>2]=0;o[r+720+24+8>>2]=0;o[r+720+24+12>>2]=0;o[r+720+40>>2]=1065353216;n=r+720+44|0;o[n>>2]=0;o[n+4>>2]=0;o[n+8>>2]=0;o[n+12>>2]=0;o[n+16>>2]=0;o[r+544>>2]=3316;o[r+544+168>>2]=0;l[r+544+172>>2]=0.0;o[r+544+164>>2]=o[t+200>>2];n=o[t+196>>2]|0;o[r+488+8>>2]=0;o[r+488+12>>2]=-1;o[r+488+16>>2]=1065353216;o[r+488+20>>2]=1065353216;o[r+488+24>>2]=1065353216;l[r+488+28>>2]=0.0;o[r+488>>2]=6380;o[r+488+4>>2]=8;o[r+488+32>>2]=n;o[r+488+48>>2]=n;o[r+376+8>>2]=0;o[r+376+12>>2]=-1;o[r+376+16>>2]=1065353216;o[r+376+20>>2]=1065353216;o[r+376+24>>2]=1065353216;l[r+376+28>>2]=0.0;l[r+376+48>>2]=.03999999910593033;o[r+376+56>>2]=0;o[r+376>>2]=3768;o[r+376+4>>2]=1;o[r+376+60>>2]=o[e>>2];o[r+376+60+4>>2]=o[e+4>>2];o[r+376+60+8>>2]=o[e+8>>2];o[r+376+60+12>>2]=o[e+12>>2];o[r+376+76>>2]=o[e+16>>2];o[r+376+76+4>>2]=o[e+16+4>>2];o[r+376+76+8>>2]=o[e+16+8>>2];o[r+376+76+12>>2]=o[e+16+12>>2];o[r+376+92>>2]=o[e+32>>2];o[r+376+92+4>>2]=o[e+32+4>>2];o[r+376+92+8>>2]=o[e+32+8>>2];o[r+376+92+12>>2]=o[e+32+12>>2];l[r+16+308>>2]=9.999999747378752e-05;i[r+16+332>>0]=0;o[r>>2]=7024;o[r+4>>2]=r+16;o[r+8>>2]=r+488;o[r+12>>2]=r+376;if(vx(r,t+4|0,t+68|0,r+720|0,r+720|0,r+544|0)|0?(s=+l[r+544+164>>2],+l[t+200>>2]>s):0)l[t+200>>2]=s;o[r+376>>2]=6248;n=o[r+376+56>>2]|0;if(!n){h=r;return}sk[o[o[n>>2]>>2]&255](n);n=o[r+376+56>>2]|0;if(!n){h=r;return}o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0);h=r;return}function vL(t,e){t=t|0;e=e|0;var n=0,r=0,s=0,a=0;n=o[t+76>>2]|0;if(!n)return;r=o[e+4>>2]|0;if((r|0)==(o[e+8>>2]|0)?(a=r|0?r<<1:1,(r|0)<(a|0)):0){if(!a)n=0;else{o[5637]=(o[5637]|0)+1;n=Jc((a<<2|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}r=o[e+4>>2]|0}if((r|0)>0){s=0;do{o[n+(s<<2)>>2]=o[(o[e+12>>2]|0)+(s<<2)>>2];s=s+1|0}while((s|0)!=(r|0))}s=o[e+12>>2]|0;if(s){if(i[e+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0);r=o[e+4>>2]|0}o[e+12>>2]=0}i[e+16>>0]=1;o[e+12>>2]=n;o[e+8>>2]=a;n=o[t+76>>2]|0}o[(o[e+12>>2]|0)+(r<<2)>>2]=n;o[e+4>>2]=r+1;return}function yL(t){t=t|0;return}function xL(t){t=t|0;Kc(t);return}function wL(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;var s=0,a=0,c=0;r=o[e>>2]|0;r=Ek[o[(o[r>>2]|0)+56>>2]&31](r,36)|0;s=o[e+4>>2]|0;c=o[t+12>>2]|0;a=o[t+8>>2]|0;n=o[t+16>>2]|0;t=o[t+20>>2]|0;o[r+4>>2]=o[e>>2];o[r>>2]=3944;o[r+8>>2]=c;o[r+12>>2]=a;i[r+16>>0]=0;o[r+20>>2]=s;i[r+24>>0]=0;o[r+28>>2]=n;o[r+32>>2]=t;return r|0}function SL(t){t=t|0;var e=0;o[t>>2]=3944;if(!(i[t+16>>0]|0))return;e=o[t+20>>2]|0;if(!e)return;t=o[t+4>>2]|0;ck[o[(o[t>>2]|0)+16>>2]&127](t,e);return}function ML(t){t=t|0;var e=0,n=0;o[t>>2]=3944;if(!(i[t+16>>0]|0)){Kc(t);return}e=o[t+20>>2]|0;if(!e){Kc(t);return}n=o[t+4>>2]|0;ck[o[(o[n>>2]|0)+16>>2]&127](n,e);Kc(t);return}function CL(t,e,n,r,s){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;var a=0,c=0,u=0,p=0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0,S=0.0,M=0.0,C=0.0,T=0,A=0.0,L=0.0,E=0.0,R=0,I=0.0,P=0,D=0,k=0,O=0.0,N=0,F=0.0,B=0.0,j=0.0,U=0.0,z=0,W=0,q=0,Y=0,Z=0,J=0,K=0,$=0,Q=0,tt=0,et=0.0,nt=0.0,it=0.0,rt=0.0,ot=0,st=0,at=0,ct=0,lt=0,ut=0.0,ht=0.0,pt=0.0,ft=0,dt=0.0,_t=0,mt=0,gt=0,bt=0,vt=0.0,yt=0.0;bt=h;h=h+688|0;c=o[t+20>>2]|0;if(!c){c=o[t+4>>2]|0;c=vk[o[(o[c>>2]|0)+12>>2]&63](c,o[e+8>>2]|0,o[n+8>>2]|0)|0;o[t+20>>2]=c;i[t+16>>0]=1}o[s+4>>2]=c;_t=o[e+4>>2]|0;mt=o[n+4>>2]|0;a=o[_t+4>>2]|0;u=o[mt+4>>2]|0;if((a|0)==10&(u|0)==10){B=+l[c+752>>2];ft=o[_t+56>>2]|0;b=+l[_t+32+(ft<<2)>>2];F=+l[_t+32+(((ft+2|0)%3|0)<<2)>>2];gt=o[mt+56>>2]|0;v=+l[mt+32+(gt<<2)>>2];O=+l[mt+32+(((gt+2|0)%3|0)<<2)>>2];t=o[e+12>>2]|0;a=o[n+12>>2]|0;L=+l[t+(ft<<2)>>2];I=+l[t+16+(ft<<2)>>2];E=+l[t+32+(ft<<2)>>2];m=+l[a+(gt<<2)>>2];g=+l[a+16+(gt<<2)>>2];S=+l[a+32+(gt<<2)>>2];M=+l[a+48>>2]-+l[t+48>>2];C=+l[a+52>>2]-+l[t+52>>2];A=+l[a+56>>2]-+l[t+56>>2];d=1.0-(L*m+I*g+E*S)*(L*m+I*g+E*S);if(!(d==0.0)){d=(L*M+I*C+E*A-(L*m+I*g+E*S)*(m*M+g*C+S*A))/d;if(!(d<-b)){if(d>b)d=b}else d=-b}else d=0.0;_=(L*m+I*g+E*S)*d-(m*M+g*C+S*A);if(_<-v){d=(L*m+I*g+E*S)*-v+(L*M+I*C+E*A);if(!(d<-b))if(d>b){d=b;_=-v}else _=-v;else{d=-b;_=-v}}else if(_>v){d=v*(L*m+I*g+E*S)+(L*M+I*C+E*A);if(!(d<-b))if(d>b){d=b;_=v}else _=v;else{d=-b;_=v}}x=m*_;y=g*_;v=S*_;_=x+(M-L*d);g=y+(C-I*d);d=v+(A-E*d);b=+V(+(d*d+(_*_+g*g)));if(!(b-F-O>B)){do{if(d*d+(_*_+g*g)<=1.4210854715202004e-14)if(+G(+E)>.7071067690849304){d=1.0/+V(+(I*I+E*E));l[bt+280>>2]=0.0;l[bt+280+4>>2]=-(E*d);l[bt+280+8>>2]=I*d;m=0.0;_=-(E*d);d=I*d;break}else{_=1.0/+V(+(L*L+I*I));l[bt+280>>2]=-(I*_);l[bt+280+4>>2]=L*_;l[bt+280+8>>2]=0.0;m=-(I*_);_=L*_;d=0.0;break}else{l[bt+280>>2]=_*-(1.0/b);l[bt+280+4>>2]=g*-(1.0/b);l[bt+280+8>>2]=d*-(1.0/b);l[bt+280+12>>2]=0.0;m=_*-(1.0/b);_=g*-(1.0/b);d=d*-(1.0/b)}}while(0);pt=O*_+(y+ +l[a+52>>2]);dt=O*d+(v+ +l[a+56>>2]);l[bt+264>>2]=O*m+(x+ +l[a+48>>2]);l[bt+264+4>>2]=pt;l[bt+264+8>>2]=dt;l[bt+264+12>>2]=0.0}if(b-F-O<B){jk[o[(o[s>>2]|0)+16>>2]&15](s,bt+280|0,bt+264|0,b-F-O);c=o[s+4>>2]|0}if(!(o[c+748>>2]|0)){h=bt;return}u=o[c+740>>2]|0;p=o[(o[s+8>>2]|0)+8>>2]|0;a=o[(o[s+12>>2]|0)+8>>2]|0;if((u|0)==(p|0)){px(c,u+4|0,a+4|0);h=bt;return}else{px(c,a+4|0,p+4|0);h=bt;return}}l[bt+128+128>>2]=999999984306749440.0;R=o[t+8>>2]|0;w=o[t+12>>2]|0;o[bt+48>>2]=6928;o[bt+48+4>>2]=0;o[bt+48+8>>2]=1065353216;o[bt+48+12>>2]=0;l[bt+48+16>>2]=0.0;o[bt+48+20>>2]=w;o[bt+48+24>>2]=R;o[bt+48+28>>2]=_t;o[bt+48+32>>2]=mt;o[bt+48+36>>2]=a;o[bt+48+40>>2]=u;l[bt+48+44>>2]=+wk[o[(o[_t>>2]|0)+48>>2]&15](_t);l[bt+48+48>>2]=+wk[o[(o[mt>>2]|0)+48>>2]&15](mt);i[bt+48+52>>0]=0;o[bt+48+60>>2]=-1;o[bt+48+72>>2]=1;o[bt+48+76>>2]=1;o[bt+48+28>>2]=_t;o[bt+48+32>>2]=mt;pt=+wk[o[(o[_t>>2]|0)+48>>2]&15](_t);dt=+wk[o[(o[mt>>2]|0)+48>>2]&15](mt);dt=pt+dt+ +l[(o[t+20>>2]|0)+752>>2];l[bt+128+128>>2]=dt*dt;R=o[e+12>>2]|0;o[bt+128>>2]=o[R>>2];o[bt+128+4>>2]=o[R+4>>2];o[bt+128+8>>2]=o[R+8>>2];o[bt+128+12>>2]=o[R+12>>2];u=bt+128+16|0;o[u>>2]=o[R+16>>2];o[u+4>>2]=o[R+16+4>>2];o[u+8>>2]=o[R+16+8>>2];o[u+12>>2]=o[R+16+12>>2];w=bt+128+32|0;o[w>>2]=o[R+32>>2];o[w+4>>2]=o[R+32+4>>2];o[w+8>>2]=o[R+32+8>>2];o[w+12>>2]=o[R+32+12>>2];T=bt+128+48|0;o[T>>2]=o[R+48>>2];o[T+4>>2]=o[R+48+4>>2];o[T+8>>2]=o[R+48+8>>2];o[T+12>>2]=o[R+48+12>>2];R=bt+128+64|0;a=o[n+12>>2]|0;o[R>>2]=o[a>>2];o[R+4>>2]=o[a+4>>2];o[R+8>>2]=o[a+8>>2];o[R+12>>2]=o[a+12>>2];P=bt+128+80|0;o[P>>2]=o[a+16>>2];o[P+4>>2]=o[a+16+4>>2];o[P+8>>2]=o[a+16+8>>2];o[P+12>>2]=o[a+16+12>>2];D=bt+128+96|0;o[D>>2]=o[a+32>>2];o[D+4>>2]=o[a+32+4>>2];o[D+8>>2]=o[a+32+8>>2];o[D+12>>2]=o[a+32+12>>2];k=bt+128+112|0;o[k>>2]=o[a+48>>2];o[k+4>>2]=o[a+48+4>>2];o[k+8>>2]=o[a+48+8>>2];o[k+12>>2]=o[a+48+12>>2];a=o[_t+4>>2]|0;if((a|0)<7?(p=o[mt+4>>2]|0,(p|0)<7):0){o[bt+40>>2]=3972;if(!a){a=p;_=0.0}else{_=+wk[o[(o[_t>>2]|0)+48>>2]&15](_t);a=o[mt+4>>2]|0}if(!a)d=0.0;else d=+wk[o[(o[mt>>2]|0)+48>>2]&15](mt);o[bt>>2]=4e3;o[bt+4>>2]=s;l[bt+24>>2]=_;l[bt+28>>2]=d;i[bt+36>>0]=0;ct=o[_t+56>>2]|0;t:do{if(ct|0){lt=o[mt+56>>2]|0;do{if(!lt){if((o[mt+4>>2]|0)!=1)break t;T=bt+624+16|0;i[T>>0]=1;R=bt+624+12|0;o[R>>2]=0;w=bt+624+4|0;o[w>>2]=0;p=bt+624+8|0;o[p>>2]=0;a=o[n+12>>2]|0;pt=+l[mt+60>>2];dt=+l[mt+60+4>>2];m=+l[mt+60+8>>2];d=pt*+l[a>>2]+dt*+l[a+4>>2]+m*+l[a+8>>2]+ +l[a+48>>2];_=pt*+l[a+16>>2]+dt*+l[a+20>>2]+m*+l[a+24>>2]+ +l[a+52>>2];m=pt*+l[a+32>>2]+dt*+l[a+36>>2]+m*+l[a+40>>2]+ +l[a+56>>2];o[5637]=(o[5637]|0)+1;a=Jc(35)|0;if(!a)c=0;else{o[(a+4+15&-16)+-4>>2]=a;c=a+4+15&-16}a=o[R>>2]|0;if(!a)a=0;else{o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0);a=o[w>>2]|0;o[R>>2]=0}i[T>>0]=1;o[R>>2]=c;o[p>>2]=1;l[c+(a<<4)>>2]=d;l[c+(a<<4)+4>>2]=_;l[c+(a<<4)+8>>2]=m;l[c+(a<<4)+12>>2]=0.0;a=(o[w>>2]|0)+1|0;o[w>>2]=a;gt=o[n+12>>2]|0;pt=+l[mt+60+16>>2];dt=+l[mt+60+20>>2];m=+l[mt+60+24>>2];d=pt*+l[gt>>2]+dt*+l[gt+4>>2]+m*+l[gt+8>>2]+ +l[gt+48>>2];_=pt*+l[gt+16>>2]+dt*+l[gt+20>>2]+m*+l[gt+24>>2]+ +l[gt+52>>2];m=pt*+l[gt+32>>2]+dt*+l[gt+36>>2]+m*+l[gt+40>>2]+ +l[gt+56>>2];if((a|0)==(o[p>>2]|0)?(N=a|0?a<<1:1,(a|0)<(N|0)):0){if(!N)u=0;else{o[5637]=(o[5637]|0)+1;a=Jc((N<<4|3)+16|0)|0;if(!a)a=0;else{o[(a+4+15&-16)+-4>>2]=a;a=a+4+15&-16}u=a;a=o[w>>2]|0}if((a|0)>0){c=0;do{gt=u+(c<<4)|0;ft=(o[R>>2]|0)+(c<<4)|0;o[gt>>2]=o[ft>>2];o[gt+4>>2]=o[ft+4>>2];o[gt+8>>2]=o[ft+8>>2];o[gt+12>>2]=o[ft+12>>2];c=c+1|0}while((c|0)!=(a|0))}a=o[R>>2]|0;if(a|0){if(i[T>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0)}o[R>>2]=0}i[T>>0]=1;o[R>>2]=u;o[p>>2]=N;a=o[w>>2]|0}gt=o[R>>2]|0;l[gt+(a<<4)>>2]=d;l[gt+(a<<4)+4>>2]=_;l[gt+(a<<4)+8>>2]=m;l[gt+(a<<4)+12>>2]=0.0;a=(o[w>>2]|0)+1|0;o[w>>2]=a;gt=o[n+12>>2]|0;pt=+l[mt+60+32>>2];dt=+l[mt+60+36>>2];m=+l[mt+60+40>>2];d=pt*+l[gt>>2]+dt*+l[gt+4>>2]+m*+l[gt+8>>2]+ +l[gt+48>>2];_=pt*+l[gt+16>>2]+dt*+l[gt+20>>2]+m*+l[gt+24>>2]+ +l[gt+52>>2];m=pt*+l[gt+32>>2]+dt*+l[gt+36>>2]+m*+l[gt+40>>2]+ +l[gt+56>>2];if((a|0)==(o[p>>2]|0)?(z=a|0?a<<1:1,(a|0)<(z|0)):0){if(!z)u=0;else{o[5637]=(o[5637]|0)+1;a=Jc((z<<4|3)+16|0)|0;if(!a)a=0;else{o[(a+4+15&-16)+-4>>2]=a;a=a+4+15&-16}u=a;a=o[w>>2]|0}if((a|0)>0){c=0;do{gt=u+(c<<4)|0;n=(o[R>>2]|0)+(c<<4)|0;o[gt>>2]=o[n>>2];o[gt+4>>2]=o[n+4>>2];o[gt+8>>2]=o[n+8>>2];o[gt+12>>2]=o[n+12>>2];c=c+1|0}while((c|0)!=(a|0))}a=o[R>>2]|0;if(a|0){if(i[T>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0)}o[R>>2]=0}i[T>>0]=1;o[R>>2]=u;o[p>>2]=z;a=o[w>>2]|0}gt=o[R>>2]|0;l[gt+(a<<4)>>2]=d;l[gt+(a<<4)+4>>2]=_;l[gt+(a<<4)+8>>2]=m;l[gt+(a<<4)+12>>2]=0.0;o[w>>2]=(o[w>>2]|0)+1;g=+l[(o[t+20>>2]|0)+752>>2];ix(bt+48|0,bt+128|0,bt+40|0,o[r+20>>2]|0,0);d=+l[bt+48+4>>2];_=+l[bt+48+8>>2];m=+l[bt+48+12>>2];if(d*d+_*_+m*m>1.1920928955078125e-07){pt=1.0/(d*d+_*_+m*m);l[bt+384>>2]=d*pt;l[bt+384+4>>2]=_*pt;l[bt+384+8>>2]=m*pt;l[bt+384+12>>2]=0.0;pt=+l[bt+48+56>>2];dt=+wk[o[(o[_t>>2]|0)+48>>2]&15](_t);dt=pt-dt-+wk[o[(o[mt>>2]|0)+48>>2]&15](mt);dx(bt+384|0,o[_t+56>>2]|0,o[e+12>>2]|0,bt+624|0,dt-g,g,s)}do{if(i[t+16>>0]|0?(W=o[s+4>>2]|0,o[W+748>>2]|0):0){c=o[W+740>>2]|0;u=o[(o[s+8>>2]|0)+8>>2]|0;a=o[(o[s+12>>2]|0)+8>>2]|0;if((c|0)==(u|0)){px(W,c+4|0,a+4|0);break}else{px(W,a+4|0,u+4|0);break}}}while(0);a=o[R>>2]|0;if(a|0){if(i[T>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0)}o[R>>2]=0}}else{dt=+l[(o[t+20>>2]|0)+752>>2];e:do{if(!(i[r+24>>0]|0)){ix(bt+48|0,bt+128|0,bt,o[r+20>>2]|0,0);d=+l[bt+32>>2];if(d<0.0&(i[bt+36>>0]|0)!=0){m=+l[bt+8>>2];g=+l[bt+16>>2];a=o[bt+20>>2]|0;_=+l[bt+12>>2];ft=111}}else{st=o[e+12>>2]|0;at=o[n+12>>2]|0;o[5297]=(o[5297]|0)+1;U=+l[ct+64>>2];et=+l[ct+68>>2];d=+l[st+4>>2];nt=+l[ct+72>>2];_=+l[st+8>>2];m=+l[st+16>>2];g=+l[st+20>>2];b=+l[st+24>>2];v=+l[st+32>>2];y=+l[st+36>>2];x=+l[st+40>>2];it=+l[lt+64>>2];rt=+l[lt+68>>2];pt=+l[lt+72>>2];ut=U*+l[st>>2]+et*d+nt*_+ +l[st+48>>2]-(it*+l[at>>2]+rt*+l[at+4>>2]+pt*+l[at+8>>2]+ +l[at+48>>2]);ht=U*m+et*g+nt*b+ +l[st+52>>2]-(it*+l[at+16>>2]+rt*+l[at+20>>2]+pt*+l[at+24>>2]+ +l[at+52>>2]);pt=U*v+et*y+nt*x+ +l[st+56>>2]-(it*+l[at+32>>2]+rt*+l[at+36>>2]+pt*+l[at+40>>2]+ +l[at+56>>2]);u=o[ct+28>>2]|0;n:do{if((u|0)>0){A=_;L=m;C=g;E=0.0;I=3402823466385288598117041.0e14;c=0;m=0.0;g=0.0;_=0.0;while(1){ot=o[ct+36>>2]|0;nt=+l[ot+(c*36|0)+20>>2];it=+l[ot+(c*36|0)+24>>2];rt=+l[ot+(c*36|0)+28>>2];S=nt*+l[st>>2]+it*d+rt*A;b=nt*L+it*C+rt*b;d=nt*v+it*y+rt*x;l[bt+296>>2]=S;l[bt+296+4>>2]=b;l[bt+296+8>>2]=d;l[bt+296+12>>2]=0.0;if(ut*S+ht*b+pt*d<0.0){l[bt+296>>2]=-S;l[bt+296+4>>2]=-b;l[bt+296+8>>2]=-d;M=-S;b=-b;d=-d}else M=S;o[5295]=(o[5295]|0)+1;if(fx(st,at,ut,ht,pt,M,b,d,ct,lt,I)|0){o[5296]=(o[5296]|0)+1;MC(ct,st,bt+296|0,bt+624|0,bt+384|0,bt+360|0,bt+344|0);MC(lt,at,bt+296|0,bt+380|0,bt+376|0,bt+328|0,bt+312|0);v=+l[bt+384>>2];y=+l[bt+380>>2];do{if(v<y){a=0;y=E}else{x=+l[bt+376>>2];S=+l[bt+624>>2];if(x<S){a=0;y=E;break}a=1;y=v-y<x-S?v-y:x-S}}while(0);if(!a)break;if(y<I){v=y;m=M;g=d;_=b}else v=I;M=y;S=v}else{M=E;S=I}a=c+1|0;if((a|0)>=(u|0)){d=S;break n}d=+l[st+4>>2];A=+l[st+8>>2];L=+l[st+16>>2];C=+l[st+20>>2];b=+l[st+24>>2];v=+l[st+32>>2];y=+l[st+36>>2];x=+l[st+40>>2];E=M;I=S;c=a}break e}else{d=3402823466385288598117041.0e14;m=0.0;g=0.0;_=0.0}}while(0);u=o[lt+28>>2]|0;n:do{if((u|0)>0){A=0.0;c=0;while(1){ot=o[lt+36>>2]|0;it=+l[ot+(c*36|0)+20>>2];rt=+l[ot+(c*36|0)+24>>2];y=+l[ot+(c*36|0)+28>>2];b=it*+l[at>>2]+rt*+l[at+4>>2]+y*+l[at+8>>2];v=it*+l[at+16>>2]+rt*+l[at+20>>2]+y*+l[at+24>>2];y=it*+l[at+32>>2]+rt*+l[at+36>>2]+y*+l[at+40>>2];l[bt+296>>2]=b;l[bt+296+4>>2]=v;l[bt+296+8>>2]=y;l[bt+296+12>>2]=0.0;if(ut*b+ht*v+pt*y<0.0){l[bt+296>>2]=-b;l[bt+296+4>>2]=-v;l[bt+296+8>>2]=-y;b=-b;v=-v;y=-y}o[5295]=(o[5295]|0)+1;if(fx(st,at,ut,ht,pt,b,v,y,ct,lt,d)|0){o[5296]=(o[5296]|0)+1;MC(ct,st,bt+296|0,bt+624|0,bt+384|0,bt+360|0,bt+344|0);MC(lt,at,bt+296|0,bt+380|0,bt+376|0,bt+328|0,bt+312|0);x=+l[bt+384>>2];S=+l[bt+380>>2];do{if(x<S){a=0;x=A}else{M=+l[bt+376>>2];C=+l[bt+624>>2];if(M<C){a=0;x=A;break}a=1;x=x-S<M-C?x-S:M-C}}while(0);if(!a)break;if(x<d){d=x;m=b;g=y;_=v}}else x=A;c=c+1|0;if((c|0)>=(u|0))break n;else A=x}break e}}while(0);a=o[ct+48>>2]|0;n:do{if((a|0)>0){q=o[lt+48>>2]|0;b=0.0;ot=0;P=-1;R=-1;D=0;k=0;N=0;z=0;W=0;r=0;p=0;w=0;T=0;Y=0;c=0;u=0;B=0.0;j=0.0;U=0.0;x=0.0;S=0.0;O=0.0;i:while(1){tt=o[ct+56>>2]|0;F=+l[tt+(ot<<4)>>2];et=+l[tt+(ot<<4)+4>>2];rt=+l[tt+(ot<<4)+8>>2];nt=F*+l[st>>2]+et*+l[st+4>>2]+rt*+l[st+8>>2];it=F*+l[st+16>>2]+et*+l[st+20>>2]+rt*+l[st+24>>2];rt=F*+l[st+32>>2]+et*+l[st+36>>2]+rt*+l[st+40>>2];if((q|0)>0){E=b;q=0;et=m;F=g;I=_;while(1){tt=o[lt+56>>2]|0;y=+l[tt+(q<<4)>>2];M=+l[tt+(q<<4)+4>>2];L=+l[tt+(q<<4)+8>>2];C=y*+l[at>>2]+M*+l[at+4>>2]+L*+l[at+8>>2];A=y*+l[at+16>>2]+M*+l[at+20>>2]+L*+l[at+24>>2];L=y*+l[at+32>>2]+M*+l[at+36>>2]+L*+l[at+40>>2];l[bt+296>>2]=it*L-rt*A;l[bt+296+4>>2]=rt*C-nt*L;l[bt+296+8>>2]=nt*A-it*C;l[bt+296+12>>2]=0.0;do{if(!(+G(+(it*L-rt*A))>1.0e-06)){if(+G(+(rt*C-nt*L))>1.0e-06){ft=75;break}if(!(+G(+(nt*A-it*C))>1.0e-06)){v=E;m=et;g=F;_=I;Z=D;J=k;K=N;$=z;Q=W;tt=r}else ft=75}else ft=75}while(0);do{if((ft|0)==75){ft=0;g=1.0/+V(+((it*L-rt*A)*(it*L-rt*A)+(rt*C-nt*L)*(rt*C-nt*L)+(nt*A-it*C)*(nt*A-it*C)));m=(it*L-rt*A)*g;l[bt+296>>2]=m;_=(rt*C-nt*L)*g;l[bt+296+4>>2]=_;g=(nt*A-it*C)*g;l[bt+296+8>>2]=g;if(m*ut+_*ht+pt*g<0.0){l[bt+296>>2]=-m;l[bt+296+4>>2]=-_;l[bt+296+8>>2]=-g;m=-m;_=-_;g=-g}o[5295]=(o[5295]|0)+1;if(!(fx(st,at,ut,ht,pt,m,_,g,ct,lt,d)|0)){v=E;m=et;g=F;_=I;Z=D;J=k;K=N;$=z;Q=W;tt=r;break}o[5296]=(o[5296]|0)+1;MC(ct,st,bt+296|0,bt+624|0,bt+384|0,bt+360|0,bt+344|0);MC(lt,at,bt+296|0,bt+380|0,bt+376|0,bt+328|0,bt+312|0);b=+l[bt+384>>2];v=+l[bt+380>>2];do{if(!(b<v)){y=+l[bt+376>>2];M=+l[bt+624>>2];if(y<M){a=0;b=E;break}if(b-v<y-M){a=1;b=b-v;D=o[bt+344>>2]|0;k=o[bt+344+4>>2]|0;N=o[bt+344+8>>2]|0;z=o[bt+328>>2]|0;W=o[bt+328+4>>2]|0;r=o[bt+328+8>>2]|0;break}else{a=1;b=y-M;D=o[bt+360>>2]|0;k=o[bt+360+4>>2]|0;N=o[bt+360+8>>2]|0;z=o[bt+312>>2]|0;W=o[bt+312+4>>2]|0;r=o[bt+312+8>>2]|0;break}}else{a=0;b=E}}while(0);if(!a)break i;if(!(b<d)){v=b;m=et;g=F;_=I;Z=D;J=k;K=N;$=z;Q=W;tt=r;break}v=b;d=b;P=ot;R=q;Z=D;J=k;K=N;$=z;Q=W;tt=r;p=D;w=k;T=N;Y=z;c=W;u=r;B=nt;j=it;U=rt;x=C;S=A;O=L}}while(0);q=q+1|0;a=o[lt+48>>2]|0;if((q|0)>=(a|0))break;else{E=v;et=m;F=g;I=_;D=Z;k=J;N=K;z=$;W=Q;r=tt}}q=a;a=o[ct+48>>2]|0;b=v;D=Z;k=J;N=K;z=$;W=Q;r=tt}ot=ot+1|0;if((ot|0)>=(a|0)){a=Y;break n}}break e}else{P=-1;R=-1;p=0;w=0;T=0;a=0;c=0;u=0;B=0.0;j=0.0;U=0.0;x=0.0;S=0.0;O=0.0}}while(0);if((R|P|0)>-1){F=(o[f>>2]=a,+l[f>>2]);L=F-(o[f>>2]=p,+l[f>>2]);I=(o[f>>2]=c,+l[f>>2]);A=I-(o[f>>2]=w,+l[f>>2]);E=(o[f>>2]=u,+l[f>>2]);C=E-(o[f>>2]=T,+l[f>>2]);b=x*B+S*j+O*U;v=L*B+A*j+C*U;d=L*x+A*S+C*O;do{if(1.0-b*b==0.0)y=0.0;else{if((v-d*b)/(1.0-b*b)<-1000000015047466219876688.0e6){y=-1000000015047466219876688.0e6;break}if(!((v-d*b)/(1.0-b*b)>1000000015047466219876688.0e6)){y=(v-d*b)/(1.0-b*b);break}y=1000000015047466219876688.0e6}}while(0);d=b*y-d;do{if(d<-1000000015047466219876688.0e6){if(v-b*1000000015047466219876688.0e6<-1000000015047466219876688.0e6){b=-1000000015047466219876688.0e6;d=-1000000015047466219876688.0e6;break}if(!(v-b*1000000015047466219876688.0e6>1000000015047466219876688.0e6)){b=v-b*1000000015047466219876688.0e6;d=-1000000015047466219876688.0e6;break}b=1000000015047466219876688.0e6;d=-1000000015047466219876688.0e6}else{if(!(d>1000000015047466219876688.0e6)){b=y;break}if(v+b*1000000015047466219876688.0e6<-1000000015047466219876688.0e6){b=-1000000015047466219876688.0e6;d=1000000015047466219876688.0e6;break}if(!(v+b*1000000015047466219876688.0e6>1000000015047466219876688.0e6)){b=v+b*1000000015047466219876688.0e6;d=1000000015047466219876688.0e6;break}b=1000000015047466219876688.0e6;d=1000000015047466219876688.0e6}}while(0);M=x*d;S=S*d;x=O*d;y=M+(L-B*b);v=S+(A-j*b);d=x+(C-U*b);l[bt+624>>2]=y;l[bt+624+4>>2]=v;l[bt+624+8>>2]=d;l[bt+624+12>>2]=0.0;if(y*y+v*v+d*d>1.1920928955078125e-07){b=+V(+(y*y+v*v+d*d));l[bt+624>>2]=y*(1.0/b);l[bt+624+4>>2]=1.0/b*v;l[bt+624+8>>2]=1.0/b*d;if(y*(1.0/b)*ut+1.0/b*v*ht+1.0/b*d*pt<0.0){l[bt+624>>2]=-(y*(1.0/b));l[bt+624+4>>2]=-(1.0/b*v);l[bt+624+8>>2]=-(1.0/b*d)}l[bt+384>>2]=F+M;l[bt+384+4>>2]=I+S;l[bt+384+8>>2]=E+x;l[bt+384+12>>2]=0.0;jk[o[(o[s>>2]|0)+16>>2]&15](s,bt+624|0,bt+384|0,-b)}}if(ut*m+ht*_+pt*g<0.0){d=-1000000015047466219876688.0e6;m=-m;g=-g;a=0;_=-_;ft=111}else{d=-1000000015047466219876688.0e6;a=0;ft=111}}}while(0);if((ft|0)==111){q=o[_t+56>>2]|0;r=o[mt+56>>2]|0;W=o[e+12>>2]|0;z=o[n+12>>2]|0;F=d-dt;E=1.0/+V(+(m*m+_*_+g*g));O=m*E;I=_*E;E=g*E;l[bt+624>>2]=O;l[bt+624+4>>2]=I;l[bt+624+8>>2]=E;o[bt+624+12>>2]=a;c=o[r+28>>2]|0;w=o[r+36>>2]|0;if((c|0)>0){d=+l[z>>2];_=+l[z+4>>2];m=+l[z+8>>2];g=+l[z+16>>2];b=+l[z+20>>2];v=+l[z+24>>2];y=+l[z+32>>2];x=+l[z+36>>2];S=+l[z+40>>2];a=-1;L=-3402823466385288598117041.0e14;p=0;while(1){M=+l[w+(p*36|0)+20>>2];C=+l[w+(p*36|0)+24>>2];A=+l[w+(p*36|0)+28>>2];u=(M*d+C*_+A*m)*O+(M*g+C*b+A*v)*I+(M*y+C*x+A*S)*E>L;a=u?p:a;p=p+1|0;if((p|0)==(c|0)){k=a;break}else L=u?(M*d+C*_+A*m)*O+(M*g+C*b+A*v)*I+(M*y+C*x+A*S)*E:L}}else k=-1;i[bt+384+16>>0]=1;N=bt+384+12|0;o[N>>2]=0;P=bt+384+4|0;o[P>>2]=0;o[bt+384+8>>2]=0;D=o[w+(k*36|0)+4>>2]|0;e:do{if((D|0)>0){R=w+(k*36|0)+12|0;a=0;u=0;c=0;while(1){e=o[(o[R>>2]|0)+(c<<2)>>2]|0;n=o[r+16>>2]|0;ht=+l[n+(e<<4)>>2];pt=+l[n+(e<<4)+4>>2];m=+l[n+(e<<4)+8>>2];d=ht*+l[z>>2]+pt*+l[z+4>>2]+m*+l[z+8>>2]+ +l[z+48>>2];_=ht*+l[z+16>>2]+pt*+l[z+20>>2]+m*+l[z+24>>2]+ +l[z+52>>2];m=ht*+l[z+32>>2]+pt*+l[z+36>>2]+m*+l[z+40>>2]+ +l[z+56>>2];if((a|0)==(u|0)){T=u|0?u<<1:1;if((u|0)<(T|0)){if(!T){w=0;a=u}else{o[5637]=(o[5637]|0)+1;a=Jc((T<<4|3)+16|0)|0;if(!a)a=0;else{o[(a+4+15&-16)+-4>>2]=a;a=a+4+15&-16}w=a;a=o[P>>2]|0}p=o[N>>2]|0;if((a|0)<=0){if(p)ft=126}else{u=0;do{e=w+(u<<4)|0;n=p+(u<<4)|0;o[e>>2]=o[n>>2];o[e+4>>2]=o[n+4>>2];o[e+8>>2]=o[n+8>>2];o[e+12>>2]=o[n+12>>2];u=u+1|0}while((u|0)!=(a|0));ft=126}if((ft|0)==126){ft=0;if(i[bt+384+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[p+-4>>2]|0);a=o[P>>2]|0}o[N>>2]=0}i[bt+384+16>>0]=1;o[N>>2]=w;o[bt+384+8>>2]=T}else a=u}e=o[N>>2]|0;l[e+(a<<4)>>2]=d;l[e+(a<<4)+4>>2]=_;l[e+(a<<4)+8>>2]=m;l[e+(a<<4)+12>>2]=0.0;a=(o[P>>2]|0)+1|0;o[P>>2]=a;c=c+1|0;if((c|0)>=(D|0))break e;u=o[bt+384+8>>2]|0}}}while(0);if((k|0)>-1)dx(bt+624|0,q,W,bt+384|0,F,dt,s);a=o[N>>2]|0;if(a|0){if(i[bt+384+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0)}o[N>>2]=0}}if(i[t+16>>0]|0?(gt=o[s+4>>2]|0,o[gt+748>>2]|0):0){u=o[gt+740>>2]|0;c=o[(o[s+8>>2]|0)+8>>2]|0;a=o[(o[s+12>>2]|0)+8>>2]|0;if((u|0)==(c|0)){px(gt,u+4|0,a+4|0);break}else{px(gt,a+4|0,c+4|0);break}}}}while(0);h=bt;return}}while(0)}ix(bt+48|0,bt+128|0,s,o[r+20>>2]|0,0);if((o[t+28>>2]|0?(o[(o[s+4>>2]|0)+748>>2]|0)<(o[t+32>>2]|0):0)?(F=+l[bt+48+4>>2],B=+l[bt+48+8>>2],j=+l[bt+48+12>>2],F*F+B*B+j*j>1.1920928955078125e-07):0){L=1.0/(F*F+B*B+j*j);if(+G(+(j*L))>.7071067690849304){O=1.0/+V(+(j*L*(j*L)+B*L*(B*L)));E=0.0;I=B*L*O;O=-(j*L*O)}else{O=1.0/+V(+(F*L*(F*L)+B*L*(B*L)));E=-(B*L*O);I=0.0;O=F*L*O}A=+wk[o[(o[_t>>2]|0)+16>>2]&15](_t);M=+wk[o[(o[mt>>2]|0)+16>>2]&15](mt);d=.019999999552965164/(A<M?A:M);if(A<M){o[bt+624>>2]=o[bt+128>>2];o[bt+624+4>>2]=o[bt+128+4>>2];o[bt+624+8>>2]=o[bt+128+8>>2];o[bt+624+12>>2]=o[bt+128+12>>2];o[bt+624+16>>2]=o[u>>2];o[bt+624+16+4>>2]=o[u+4>>2];o[bt+624+16+8>>2]=o[u+8>>2];o[bt+624+16+12>>2]=o[u+12>>2];o[bt+624+32>>2]=o[w>>2];o[bt+624+32+4>>2]=o[w+4>>2];o[bt+624+32+8>>2]=o[w+8>>2];o[bt+624+32+12>>2]=o[w+12>>2];o[bt+624+48>>2]=o[T>>2];o[bt+624+48+4>>2]=o[T+4>>2];o[bt+624+48+8>>2]=o[T+8>>2];o[bt+624+48+12>>2]=o[T+12>>2]}else{o[bt+624>>2]=o[R>>2];o[bt+624+4>>2]=o[R+4>>2];o[bt+624+8>>2]=o[R+8>>2];o[bt+624+12>>2]=o[R+12>>2];o[bt+624+16>>2]=o[P>>2];o[bt+624+16+4>>2]=o[P+4>>2];o[bt+624+16+8>>2]=o[P+8>>2];o[bt+624+16+12>>2]=o[P+12>>2];o[bt+624+32>>2]=o[D>>2];o[bt+624+32+4>>2]=o[D+4>>2];o[bt+624+32+8>>2]=o[D+8>>2];o[bt+624+32+12>>2]=o[D+12>>2];o[bt+624+48>>2]=o[k>>2];o[bt+624+48+4>>2]=o[k+4>>2];o[bt+624+48+8>>2]=o[k+8>>2];o[bt+624+48+12>>2]=o[k+12>>2]}a=o[t+28>>2]|0;if((a|0)>0){C=E*E+O*O+I*I;S=(d>.39269909262657166?.39269909262657166:d)*.5;c=0;do{if(C>1.1920928955078125e-07){y=+X(+S)/+V(+C);b=E*y;v=O*y;y=I*y;x=+H(+S);g=+(c|0)*(6.2831854820251465/+(a|0))*.5;m=+X(+g)/+V(+(j*L*(j*L)+(F*L*(F*L)+B*L*(B*L))));d=F*L*m;_=B*L*m;m=j*L*m;g=+H(+g);if(A<M){rt=m*(b*-m+(v*g+x*-_)-y*-d)+(d*(x*g-b*-d-v*-_-y*-m)+g*(y*-_+(b*g+x*-d)-v*-m))-_*(v*-d+(y*g+x*-m)-b*-_);ht=d*(v*-d+(y*g+x*-m)-b*-_)+(g*(b*-m+(v*g+x*-_)-y*-d)+_*(x*g-b*-d-v*-_-y*-m))-m*(y*-_+(b*g+x*-d)-v*-m);vt=_*(y*-_+(b*g+x*-d)-v*-m)+(m*(x*g-b*-d-v*-_-y*-m)+g*(v*-d+(y*g+x*-m)-b*-_))-d*(b*-m+(v*g+x*-_)-y*-d);nt=g*(x*g-b*-d-v*-_-y*-m)-d*(y*-_+(b*g+x*-d)-v*-m)-_*(b*-m+(v*g+x*-_)-y*-d)-m*(v*-d+(y*g+x*-m)-b*-_);ut=rt*(2.0/(nt*nt+(vt*vt+(rt*rt+ht*ht))));pt=ht*(2.0/(nt*nt+(vt*vt+(rt*rt+ht*ht))));et=vt*(2.0/(nt*nt+(vt*vt+(rt*rt+ht*ht))));gt=o[e+12>>2]|0;m=+l[gt>>2];g=+l[gt+16>>2];b=+l[gt+32>>2];v=+l[gt+4>>2];y=+l[gt+20>>2];x=+l[gt+36>>2];U=+l[gt+8>>2];it=+l[gt+24>>2];dt=+l[gt+40>>2];l[bt+128>>2]=(1.0-(ht*pt+vt*et))*m+(rt*pt-nt*et)*g+(rt*et+nt*pt)*b;l[bt+128+4>>2]=(1.0-(ht*pt+vt*et))*v+(rt*pt-nt*et)*y+(rt*et+nt*pt)*x;l[bt+128+8>>2]=(1.0-(ht*pt+vt*et))*U+(rt*pt-nt*et)*it+(rt*et+nt*pt)*dt;l[bt+128+12>>2]=0.0;l[bt+128+16>>2]=(rt*pt+nt*et)*m+(1.0-(rt*ut+vt*et))*g+(ht*et-nt*ut)*b;l[bt+128+20>>2]=(rt*pt+nt*et)*v+(1.0-(rt*ut+vt*et))*y+(ht*et-nt*ut)*x;l[bt+128+24>>2]=(rt*pt+nt*et)*U+(1.0-(rt*ut+vt*et))*it+(ht*et-nt*ut)*dt;l[bt+128+28>>2]=0.0;l[bt+128+32>>2]=(rt*et-nt*pt)*m+(ht*et+nt*ut)*g+(1.0-(rt*ut+ht*pt))*b;l[bt+128+36>>2]=(rt*et-nt*pt)*v+(ht*et+nt*ut)*y+(1.0-(rt*ut+ht*pt))*x;l[bt+128+40>>2]=(rt*et-nt*pt)*U+(ht*et+nt*ut)*it+(1.0-(rt*ut+ht*pt))*dt;l[bt+128+44>>2]=0.0;gt=o[n+12>>2]|0;o[R>>2]=o[gt>>2];o[R+4>>2]=o[gt+4>>2];o[R+8>>2]=o[gt+8>>2];o[R+12>>2]=o[gt+12>>2];o[P>>2]=o[gt+16>>2];o[P+4>>2]=o[gt+16+4>>2];o[P+8>>2]=o[gt+16+8>>2];o[P+12>>2]=o[gt+16+12>>2];o[D>>2]=o[gt+32>>2];o[D+4>>2]=o[gt+32+4>>2];o[D+8>>2]=o[gt+32+8>>2];o[D+12>>2]=o[gt+32+12>>2];o[k>>2]=o[gt+48>>2];o[k+4>>2]=o[gt+48+4>>2];o[k+8>>2]=o[gt+48+8>>2];o[k+12>>2]=o[gt+48+12>>2]}else{gt=o[e+12>>2]|0;o[bt+128>>2]=o[gt>>2];o[bt+128+4>>2]=o[gt+4>>2];o[bt+128+8>>2]=o[gt+8>>2];o[bt+128+12>>2]=o[gt+12>>2];o[u>>2]=o[gt+16>>2];o[u+4>>2]=o[gt+16+4>>2];o[u+8>>2]=o[gt+16+8>>2];o[u+12>>2]=o[gt+16+12>>2];o[w>>2]=o[gt+32>>2];o[w+4>>2]=o[gt+32+4>>2];o[w+8>>2]=o[gt+32+8>>2];o[w+12>>2]=o[gt+32+12>>2];o[T>>2]=o[gt+48>>2];o[T+4>>2]=o[gt+48+4>>2];o[T+8>>2]=o[gt+48+8>>2];o[T+12>>2]=o[gt+48+12>>2];ut=m*(b*-m+(v*g+x*-_)-y*-d)+(d*(x*g-b*-d-v*-_-y*-m)+g*(y*-_+(b*g+x*-d)-v*-m))-_*(v*-d+(y*g+x*-m)-b*-_);pt=d*(v*-d+(y*g+x*-m)-b*-_)+(g*(b*-m+(v*g+x*-_)-y*-d)+_*(x*g-b*-d-v*-_-y*-m))-m*(y*-_+(b*g+x*-d)-v*-m);yt=_*(y*-_+(b*g+x*-d)-v*-m)+(m*(x*g-b*-d-v*-_-y*-m)+g*(v*-d+(y*g+x*-m)-b*-_))-d*(b*-m+(v*g+x*-_)-y*-d);it=g*(x*g-b*-d-v*-_-y*-m)-d*(y*-_+(b*g+x*-d)-v*-m)-_*(b*-m+(v*g+x*-_)-y*-d)-m*(v*-d+(y*g+x*-m)-b*-_);ht=ut*(2.0/(it*it+(yt*yt+(ut*ut+pt*pt))));dt=pt*(2.0/(it*it+(yt*yt+(ut*ut+pt*pt))));nt=yt*(2.0/(it*it+(yt*yt+(ut*ut+pt*pt))));gt=o[n+12>>2]|0;g=+l[gt>>2];b=+l[gt+16>>2];v=+l[gt+32>>2];y=+l[gt+4>>2];x=+l[gt+20>>2];U=+l[gt+36>>2];et=+l[gt+8>>2];rt=+l[gt+24>>2];vt=+l[gt+40>>2];l[bt+128+64>>2]=(1.0-(pt*dt+yt*nt))*g+(ut*dt-it*nt)*b+(ut*nt+it*dt)*v;l[bt+128+68>>2]=(1.0-(pt*dt+yt*nt))*y+(ut*dt-it*nt)*x+(ut*nt+it*dt)*U;l[bt+128+72>>2]=(1.0-(pt*dt+yt*nt))*et+(ut*dt-it*nt)*rt+(ut*nt+it*dt)*vt;l[bt+128+76>>2]=0.0;l[bt+128+80>>2]=(ut*dt+it*nt)*g+(1.0-(ut*ht+yt*nt))*b+(pt*nt-it*ht)*v;l[bt+128+84>>2]=(ut*dt+it*nt)*y+(1.0-(ut*ht+yt*nt))*x+(pt*nt-it*ht)*U;l[bt+128+88>>2]=(ut*dt+it*nt)*et+(1.0-(ut*ht+yt*nt))*rt+(pt*nt-it*ht)*vt;l[bt+128+92>>2]=0.0;l[bt+128+96>>2]=(ut*nt-it*dt)*g+(pt*nt+it*ht)*b+(1.0-(ut*ht+pt*dt))*v;l[bt+128+100>>2]=(ut*nt-it*dt)*y+(pt*nt+it*ht)*x+(1.0-(ut*ht+pt*dt))*U;l[bt+128+104>>2]=(ut*nt-it*dt)*et+(pt*nt+it*ht)*rt+(1.0-(ut*ht+pt*dt))*vt;l[bt+128+108>>2]=0.0}a=o[r+20>>2]|0;o[bt+384>>2]=4028;o[bt+384+32>>2]=s;o[bt+384+36>>2]=o[bt+128>>2];o[bt+384+36+4>>2]=o[bt+128+4>>2];o[bt+384+36+8>>2]=o[bt+128+8>>2];o[bt+384+36+12>>2]=o[bt+128+12>>2];o[bt+384+52>>2]=o[u>>2];o[bt+384+52+4>>2]=o[u+4>>2];o[bt+384+52+8>>2]=o[u+8>>2];o[bt+384+52+12>>2]=o[u+12>>2];o[bt+384+68>>2]=o[w>>2];o[bt+384+68+4>>2]=o[w+4>>2];o[bt+384+68+8>>2]=o[w+8>>2];o[bt+384+68+12>>2]=o[w+12>>2];o[bt+384+84>>2]=o[T>>2];o[bt+384+84+4>>2]=o[T+4>>2];o[bt+384+84+8>>2]=o[T+8>>2];o[bt+384+84+12>>2]=o[T+12>>2];o[bt+384+100>>2]=o[R>>2];o[bt+384+100+4>>2]=o[R+4>>2];o[bt+384+100+8>>2]=o[R+8>>2];o[bt+384+100+12>>2]=o[R+12>>2];o[bt+384+116>>2]=o[P>>2];o[bt+384+116+4>>2]=o[P+4>>2];o[bt+384+116+8>>2]=o[P+8>>2];o[bt+384+116+12>>2]=o[P+12>>2];o[bt+384+132>>2]=o[D>>2];o[bt+384+132+4>>2]=o[D+4>>2];o[bt+384+132+8>>2]=o[D+8>>2];o[bt+384+132+12>>2]=o[D+12>>2];o[bt+384+148>>2]=o[k>>2];o[bt+384+148+4>>2]=o[k+4>>2];o[bt+384+148+8>>2]=o[k+8>>2];o[bt+384+148+12>>2]=o[k+12>>2];o[bt+384+164>>2]=o[bt+624>>2];o[bt+384+164+4>>2]=o[bt+624+4>>2];o[bt+384+164+8>>2]=o[bt+624+8>>2];o[bt+384+164+12>>2]=o[bt+624+12>>2];o[bt+384+180>>2]=o[bt+624+16>>2];o[bt+384+180+4>>2]=o[bt+624+16+4>>2];o[bt+384+180+8>>2]=o[bt+624+16+8>>2];o[bt+384+180+12>>2]=o[bt+624+16+12>>2];o[bt+384+196>>2]=o[bt+624+32>>2];o[bt+384+196+4>>2]=o[bt+624+32+4>>2];o[bt+384+196+8>>2]=o[bt+624+32+8>>2];o[bt+384+196+12>>2]=o[bt+624+32+12>>2];o[bt+384+212>>2]=o[bt+624+48>>2];o[bt+384+212+4>>2]=o[bt+624+48+4>>2];o[bt+384+212+8>>2]=o[bt+624+48+8>>2];o[bt+384+212+12>>2]=o[bt+624+48+12>>2];i[bt+384+228>>0]=A<M&1;o[bt+384+232>>2]=a;ix(bt+48|0,bt+128|0,bt+384|0,a,0);a=o[t+28>>2]|0}c=c+1|0}while((c|0)<(a|0))}}if(!(i[t+16>>0]|0)){h=bt;return}c=o[s+4>>2]|0;if(!(o[c+748>>2]|0)){h=bt;return}u=o[c+740>>2]|0;p=o[(o[s+8>>2]|0)+8>>2]|0;a=o[(o[s+12>>2]|0)+8>>2]|0;if((u|0)==(p|0)){px(c,u+4|0,a+4|0);h=bt;return}else{px(c,a+4|0,p+4|0);h=bt;return}}function TL(t){t=t|0;Kc(t);return}function AL(t,e,n){t=t|0;e=e|0;n=n|0;return}function LL(t,e,n){t=t|0;e=e|0;n=n|0;return}function EL(t,e,n,i){t=t|0;e=e|0;n=n|0;i=+i;return}function RL(t){t=t|0;Kc(t);return}function IL(t,e,n){t=t|0;e=e|0;n=n|0;return}function PL(t,e,n){t=t|0;e=e|0;n=n|0;return}function DL(t,e,n,r){t=t|0;e=e|0;n=n|0;r=+r;var s=0,a=0.0,c=0.0,u=0.0;s=h;h=h+16|0;l[t+32>>2]=r;o[t+8>>2]=o[e>>2];o[t+8+4>>2]=o[e+4>>2];o[t+8+8>>2]=o[e+8>>2];o[t+8+12>>2]=o[e+12>>2];a=+l[t+28>>2];u=+l[n+4>>2]-a*+l[e+4>>2];c=+l[n+8>>2]-a*+l[e+8>>2];l[s>>2]=+l[n>>2]-+l[e>>2]*a;l[s+4>>2]=u;l[s+8>>2]=c;l[s+12>>2]=0.0;r=+l[t+24>>2]+a+r;l[t+32>>2]=r;if(!(r<0.0)){t=t+4|0;t=o[t>>2]|0;n=o[t>>2]|0;n=n+16|0;n=o[n>>2]|0;jk[n&15](t,e,s,r);h=s;return}i[t+36>>0]=1;t=t+4|0;t=o[t>>2]|0;n=o[t>>2]|0;n=n+16|0;n=o[n>>2]|0;jk[n&15](t,e,s,r);h=s;return}function kL(t){t=t|0;Kc(t);return}function OL(t,e,n,r){t=t|0;e=e|0;n=n|0;r=+r;var s=0.0,a=0.0,c=0.0,u=0.0,p=0.0,f=0.0,d=0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0,D=0.0,k=0.0,O=0.0;d=h;h=h+16|0;u=+l[e>>2];p=+l[e+4>>2];f=+l[e+8>>2];a=+l[n>>2];c=+l[n+4>>2];s=+l[n+8>>2];if(!(i[t+228>>0]|0)){C=+l[t+100>>2];w=+l[t+116>>2];L=+l[t+132>>2];M=+l[t+104>>2];y=+l[t+120>>2];A=+l[t+136>>2];S=+l[t+108>>2];_=+l[t+124>>2];T=+l[t+140>>2];I=-+l[t+148>>2];R=-+l[t+152>>2];E=-+l[t+156>>2];O=+l[t+164>>2];k=+l[t+168>>2];b=+l[t+172>>2];D=+l[t+180>>2];P=+l[t+184>>2];g=+l[t+188>>2];x=+l[t+196>>2];v=+l[t+200>>2];m=+l[t+204>>2];b=s*(L*O+A*k+T*b)+(a*(C*O+M*k+S*b)+c*(w*O+y*k+_*b))+(O*(C*I+w*R+L*E)+(M*I+y*R+A*E)*k+(S*I+_*R+T*E)*b+ +l[t+212>>2]);g=s*(L*D+A*P+T*g)+(a*(C*D+M*P+S*g)+c*(w*D+y*P+_*g))+((C*I+w*R+L*E)*D+(M*I+y*R+A*E)*P+(S*I+_*R+T*E)*g+ +l[t+216>>2]);m=(C*I+w*R+L*E)*x+(M*I+y*R+A*E)*v+(S*I+_*R+T*E)*m+ +l[t+220>>2]+(s*(L*x+A*v+T*m)+(a*(C*x+M*v+S*m)+c*(w*x+y*v+_*m)));l[d>>2]=b;l[d+4>>2]=g;_=m;r=(u*r+a-b)*+l[e>>2]+(p*r+c-g)*+l[e+4>>2]+(f*r+s-m)*+l[e+8>>2];n=d+8|0;l[n>>2]=_;n=d+12|0;l[n>>2]=0.0;t=t+32|0;t=o[t>>2]|0;n=o[t>>2]|0;n=n+16|0;n=o[n>>2]|0;jk[n&15](t,e,d,r);h=d;return}else{C=+l[t+36>>2];L=+l[t+52>>2];w=+l[t+68>>2];T=+l[t+40>>2];R=+l[t+56>>2];S=+l[t+72>>2];A=+l[t+44>>2];k=+l[t+60>>2];M=+l[t+76>>2];v=-+l[t+84>>2];y=-+l[t+88>>2];x=-+l[t+92>>2];_=+l[t+164>>2];m=+l[t+168>>2];P=+l[t+172>>2];g=+l[t+180>>2];b=+l[t+184>>2];D=+l[t+188>>2];E=+l[t+196>>2];I=+l[t+200>>2];O=+l[t+204>>2];P=(f*r+s)*(w*_+S*m+M*P)+((u*r+a)*(C*_+T*m+A*P)+(p*r+c)*(L*_+R*m+k*P))+(_*(C*v+L*y+w*x)+(T*v+R*y+S*x)*m+(A*v+k*y+M*x)*P+ +l[t+212>>2]);D=(f*r+s)*(w*g+S*b+M*D)+((u*r+a)*(C*g+T*b+A*D)+(p*r+c)*(L*g+R*b+k*D))+((C*v+L*y+w*x)*g+(T*v+R*y+S*x)*b+(A*v+k*y+M*x)*D+ +l[t+216>>2]);O=(C*v+L*y+w*x)*E+(T*v+R*y+S*x)*I+(A*v+k*y+M*x)*O+ +l[t+220>>2]+((f*r+s)*(w*E+S*I+M*O)+((u*r+a)*(C*E+T*I+A*O)+(p*r+c)*(L*E+R*I+k*O)));l[d>>2]=P+u*(u*(P-a)+p*(D-c)+f*(O-s));l[d+4>>2]=D+p*(u*(P-a)+p*(D-c)+f*(O-s));k=O+f*(u*(P-a)+p*(D-c)+f*(O-s));O=u*(P-a)+p*(D-c)+f*(O-s);n=d+8|0;l[n>>2]=k;n=d+12|0;l[n>>2]=0.0;t=t+32|0;t=o[t>>2]|0;n=o[t>>2]|0;n=n+16|0;n=o[n>>2]|0;jk[n&15](t,e,d,O);h=d;return}}function NL(t,e,n,r,s){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;var a=0.0,c=0.0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0;r=h;h=h+608|0;_=+l[e+116>>2]-+l[e+52>>2];d=+l[e+120>>2]-+l[e+56>>2];f=+l[e+124>>2]-+l[e+60>>2];a=+l[n+116>>2]-+l[n+52>>2];c=+l[n+120>>2]-+l[n+56>>2];u=+l[n+124>>2]-+l[n+60>>2];p=+l[e+256>>2];if(_*_+d*d+f*f<p*p?(_=+l[n+256>>2],a*a+c*c+u*u<_*_):0){_=1.0;h=r;return+_}t=o[e+192>>2]|0;s=o[n+252>>2]|0;o[r+552+8>>2]=0;o[r+552+12>>2]=-1;o[r+552+16>>2]=1065353216;o[r+552+20>>2]=1065353216;o[r+552+24>>2]=1065353216;l[r+552+28>>2]=0.0;o[r+552>>2]=6380;o[r+552+4>>2]=8;o[r+552+32>>2]=s;o[r+552+48>>2]=s;o[r+376>>2]=3316;l[r+376+164>>2]=999999984306749440.0;o[r+376+168>>2]=0;l[r+376+172>>2]=0.0;l[r+16+308>>2]=9.999999747378752e-05;i[r+16+332>>0]=0;o[r>>2]=6864;o[r+4>>2]=r+16;o[r+8>>2]=t;o[r+12>>2]=r+552;if(Vy(r,e+4|0,e+68|0,n+4|0,n+68|0,r+376|0)|0){a=+l[r+376+164>>2];if(+l[e+248>>2]>a)l[e+248>>2]=a;if(+l[n+248>>2]>a)l[n+248>>2]=a;if(a<1.0)c=a;else c=1.0}else c=1.0;t=o[n+192>>2]|0;s=o[e+252>>2]|0;o[r+552+8>>2]=0;o[r+552+12>>2]=-1;o[r+552+16>>2]=1065353216;o[r+552+20>>2]=1065353216;o[r+552+24>>2]=1065353216;l[r+552+28>>2]=0.0;o[r+552>>2]=6380;o[r+552+4>>2]=8;o[r+552+32>>2]=s;o[r+552+48>>2]=s;o[r+376>>2]=3316;l[r+376+164>>2]=999999984306749440.0;o[r+376+168>>2]=0;l[r+376+172>>2]=0.0;l[r+16+308>>2]=9.999999747378752e-05;i[r+16+332>>0]=0;o[r>>2]=6864;o[r+4>>2]=r+16;o[r+8>>2]=r+552;o[r+12>>2]=t;if(Vy(r,e+4|0,e+68|0,n+4|0,n+68|0,r+376|0)|0){a=+l[r+376+164>>2];if(+l[e+248>>2]>a)l[e+248>>2]=a;if(+l[n+248>>2]>a)l[n+248>>2]=a;if(!(c>a))a=c}else a=c;_=a;h=r;return+_}function FL(t,e){t=t|0;e=e|0;var n=0,r=0,s=0,a=0;n=o[t+20>>2]|0;if(!n)return;if(!(i[t+16>>0]|0))return;r=o[e+4>>2]|0;if((r|0)==(o[e+8>>2]|0)?(a=r|0?r<<1:1,(r|0)<(a|0)):0){if(!a)n=0;else{o[5637]=(o[5637]|0)+1;n=Jc((a<<2|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}r=o[e+4>>2]|0}if((r|0)>0){s=0;do{o[n+(s<<2)>>2]=o[(o[e+12>>2]|0)+(s<<2)>>2];s=s+1|0}while((s|0)!=(r|0))}s=o[e+12>>2]|0;if(s){if(i[e+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0);r=o[e+4>>2]|0}o[e+12>>2]=0}i[e+16>>0]=1;o[e+12>>2]=n;o[e+8>>2]=a;n=o[t+20>>2]|0}o[(o[e+12>>2]|0)+(r<<2)>>2]=n;o[e+4>>2]=r+1;return}function BL(t){t=t|0;var e=0;o[t>>2]=4056;if(!(i[t+8>>0]|0))return;e=o[t+12>>2]|0;if(!e)return;t=o[t+4>>2]|0;ck[o[(o[t>>2]|0)+16>>2]&127](t,e);return}function jL(t){t=t|0;var e=0,n=0;o[t>>2]=4056;if(!(i[t+8>>0]|0)){Kc(t);return}e=o[t+12>>2]|0;if(!e){Kc(t);return}n=o[t+4>>2]|0;ck[o[(o[n>>2]|0)+16>>2]&127](n,e);Kc(t);return}function UL(t,e,n,r,s){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;var a=0,c=0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0,D=0.0,k=0,O=0,N=0,F=0,B=0.0,j=0.0,U=0.0,z=0.0,W=0.0,q=0.0,Y=0.0,Z=0.0,J=0.0,K=0.0,$=0.0,Q=0.0,tt=0.0,et=0,nt=0.0,it=0.0,rt=0.0,ot=0.0,st=0.0,at=0.0,ct=0.0,lt=0.0,ut=0.0,ht=0.0,pt=0.0,ft=0.0,dt=0.0;k=h;h=h+96|0;if(!(o[t+12>>2]|0)){h=k;return}r=(i[t+16>>0]|0)!=0;F=r?n:e;r=r?e:n;a=o[F+4>>2]|0;c=o[r+4>>2]|0;F=o[F+12>>2]|0;tt=+l[F>>2];Q=+l[F+16>>2];$=+l[F+32>>2];K=+l[F+4>>2];J=+l[F+20>>2];d=+l[F+36>>2];u=+l[F+8>>2];g=+l[F+24>>2];M=+l[F+40>>2];z=+l[F+48>>2];U=+l[F+52>>2];j=+l[F+56>>2];N=o[r+12>>2]|0;Z=+l[N>>2];Y=+l[N+16>>2];_=+l[N+32>>2];q=+l[N+4>>2];W=+l[N+20>>2];m=+l[N+36>>2];S=+l[N+8>>2];x=+l[N+24>>2];v=+l[N+40>>2];B=-+l[N+48>>2];R=-+l[N+52>>2];I=-+l[N+56>>2];P=+l[F>>2];D=+l[F+16>>2];E=+l[F+32>>2];A=+l[F+4>>2];T=+l[F+20>>2];C=+l[F+36>>2];w=+l[F+8>>2];y=+l[F+24>>2];b=+l[F+40>>2];F=o[(o[a>>2]|0)+64>>2]|0;f=-+l[c+52>>2];p=-+l[c+56>>2];L=-+l[c+60>>2];l[k>>2]=(tt*Z+Q*Y+$*_)*f+(tt*q+Q*W+$*m)*p+(tt*S+Q*x+$*v)*L;l[k+4>>2]=(K*Z+J*Y+d*_)*f+(K*q+J*W+d*m)*p+(K*S+J*x+d*v)*L;l[k+8>>2]=(u*Z+g*Y+M*_)*f+(u*q+g*W+M*m)*p+(u*S+g*x+M*v)*L;l[k+12>>2]=0.0;Uk[F&127](k+16|0,a,k);L=+l[k+16>>2];M=+l[k+16+4>>2];g=+l[k+16+8>>2];u=+l[c+52>>2];p=+l[c+56>>2];f=+l[c+60>>2];d=f*(z*S+U*x+j*v+(S*B+x*R+v*I)+((S*P+x*D+v*E)*L+(S*A+x*T+v*C)*M+(S*w+x*y+v*b)*g))+(u*(z*Z+U*Y+j*_+(Z*B+Y*R+_*I)+((Z*P+Y*D+_*E)*L+(Z*A+Y*T+_*C)*M+(Z*w+Y*y+_*b)*g))+p*(z*q+U*W+j*m+(q*B+W*R+m*I)+((q*P+W*D+m*E)*L+(q*A+W*T+m*C)*M+(q*w+W*y+m*b)*g)))-+l[c+68>>2];_=z*Z+U*Y+j*_+(Z*B+Y*R+_*I)+((Z*P+Y*D+_*E)*L+(Z*A+Y*T+_*C)*M+(Z*w+Y*y+_*b)*g)-u*d;m=z*q+U*W+j*m+(q*B+W*R+m*I)+((q*P+W*D+m*E)*L+(q*A+W*T+m*C)*M+(q*w+W*y+m*b)*g)-p*d;g=z*S+U*x+j*v+(S*B+x*R+v*I)+((S*P+x*D+v*E)*L+(S*A+x*T+v*C)*M+(S*w+x*y+v*b)*g)-f*d;F=o[r+12>>2]|0;b=+l[F>>2];v=+l[F+4>>2];y=+l[F+8>>2];x=+l[F+16>>2];w=+l[F+20>>2];S=+l[F+24>>2];M=+l[F+32>>2];C=+l[F+36>>2];T=+l[F+40>>2];A=+l[F+48>>2];L=+l[F+52>>2];E=+l[F+56>>2];F=o[t+12>>2]|0;N=d<+l[F+752>>2];o[s+4>>2]=F;if(N){F=o[r+12>>2]|0;Q=u*+l[F+16>>2]+p*+l[F+20>>2]+f*+l[F+24>>2];tt=u*+l[F+32>>2]+p*+l[F+36>>2]+f*+l[F+40>>2];l[k+80>>2]=+l[F>>2]*u+ +l[F+4>>2]*p+ +l[F+8>>2]*f;l[k+80+4>>2]=Q;l[k+80+8>>2]=tt;l[k+80+12>>2]=0.0;l[k+64>>2]=y*g+(b*_+v*m)+A;l[k+64+4>>2]=_*x+m*w+g*S+L;l[k+64+8>>2]=_*M+m*C+g*T+E;l[k+64+12>>2]=0.0;jk[o[(o[s>>2]|0)+16>>2]&15](s,k+80|0,k+64|0,d)}if((o[a+4>>2]|0)<7?(o[(o[s+4>>2]|0)+748>>2]|0)<(o[t+24>>2]|0):0){u=+l[c+60>>2];if(+G(+u)>.7071067690849304){f=+l[c+56>>2];tt=1.0/+V(+(u*u+f*f));p=0.0;f=f*tt;u=-(u*tt)}else{tt=+l[c+52>>2];p=+l[c+56>>2];u=1.0/+V(+(tt*tt+p*p));p=-(p*u);f=0.0;u=tt*u}I=.019999999552965164/+wk[o[(o[a>>2]|0)+16>>2]&15](a);I=(I>.39269909262657166?.39269909262657166:I)*.5;R=+X(+I)/+V(+(p*p+u*u+f*f));D=p*R;P=u*R;R=f*R;I=+H(+I);r=o[t+20>>2]|0;if((r|0)>0){a=0;do{x=+l[c+52>>2];tt=+l[c+56>>2];A=+l[c+60>>2];C=+(a|0)*(6.2831854820251465/+(r|0))*.5;Q=+X(+C)/+V(+(x*x+tt*tt+A*A));C=+H(+C);T=R*-(tt*Q)+(D*C+I*-(x*Q))-P*-(A*Q);S=D*-(A*Q)+(P*C+I*-(tt*Q))-R*-(x*Q);it=P*-(x*Q)+(R*C+I*-(A*Q))-D*-(tt*Q);E=I*C-D*-(x*Q)-P*-(tt*Q)-R*-(A*Q);ct=A*Q*S+(x*Q*E+C*T)-tt*Q*it;at=x*Q*it+(C*S+tt*Q*E)-A*Q*T;ht=tt*Q*T+(A*Q*E+C*it)-x*Q*S;it=C*E-x*Q*T-tt*Q*S-A*Q*it;r=(i[t+16>>0]|0)!=0;et=r?n:e;r=r?e:n;F=o[et+4>>2]|0;N=o[r+4>>2]|0;et=o[et+12>>2]|0;Q=+l[et>>2];A=+l[et+4>>2];S=+l[et+8>>2];tt=+l[et+16>>2];T=+l[et+20>>2];x=+l[et+24>>2];E=+l[et+32>>2];C=+l[et+36>>2];v=+l[et+40>>2];q=+l[et+48>>2];Y=+l[et+52>>2];Z=+l[et+56>>2];et=o[r+12>>2]|0;j=+l[et>>2];U=+l[et+16>>2];_=+l[et+32>>2];z=+l[et+4>>2];W=+l[et+20>>2];m=+l[et+36>>2];w=+l[et+8>>2];y=+l[et+24>>2];b=+l[et+40>>2];J=-+l[et+48>>2];K=-+l[et+52>>2];$=-+l[et+56>>2];st=ct*(2.0/(ct*ct+at*at+ht*ht+it*it));f=at*(2.0/(ct*ct+at*at+ht*ht+it*it));nt=ht*(2.0/(ct*ct+at*at+ht*ht+it*it));ft=S*(ct*nt-it*f)+(A*(ct*f+it*nt)+Q*(1.0-(at*f+ht*nt)));ut=S*(at*nt+it*st)+(Q*(ct*f-it*nt)+A*(1.0-(ct*st+ht*nt)));u=Q*(ct*nt+it*f)+A*(at*nt-it*st)+S*(1.0-(ct*st+at*f));pt=x*(ct*nt-it*f)+(T*(ct*f+it*nt)+tt*(1.0-(at*f+ht*nt)));lt=x*(at*nt+it*st)+(tt*(ct*f-it*nt)+T*(1.0-(ct*st+ht*nt)));M=tt*(ct*nt+it*f)+T*(at*nt-it*st)+x*(1.0-(ct*st+at*f));dt=v*(ct*nt-it*f)+(C*(ct*f+it*nt)+E*(1.0-(at*f+ht*nt)));ht=v*(at*nt+it*st)+(E*(ct*f-it*nt)+C*(1.0-(ct*st+ht*nt)));f=E*(ct*nt+it*f)+C*(at*nt-it*st)+v*(1.0-(ct*st+at*f));at=+l[et>>2];st=+l[et+16>>2];ct=+l[et+32>>2];it=+l[et+4>>2];nt=+l[et+20>>2];rt=+l[et+36>>2];p=+l[et+8>>2];g=+l[et+24>>2];d=+l[et+40>>2];et=o[(o[F>>2]|0)+64>>2]|0;ot=-+l[N+52>>2];B=-+l[N+56>>2];L=-+l[N+60>>2];l[k+64>>2]=(ct*dt+(at*ft+st*pt))*ot+(rt*dt+(it*ft+nt*pt))*B+(d*dt+(p*ft+g*pt))*L;l[k+64+4>>2]=(ct*ht+(at*ut+st*lt))*ot+(rt*ht+(it*ut+nt*lt))*B+(d*ht+(p*ut+g*lt))*L;l[k+64+8>>2]=(ct*f+(at*u+st*M))*ot+(rt*f+(it*u+nt*M))*B+(d*f+(p*u+g*M))*L;l[k+64+12>>2]=0.0;Uk[et&127](k+80|0,F,k+64|0);L=+l[k+80>>2];M=+l[k+80+4>>2];g=+l[k+80+8>>2];u=+l[N+52>>2];p=+l[N+56>>2];f=+l[N+60>>2];d=f*(q*w+Y*y+Z*b+(w*J+y*K+b*$)+((Q*w+tt*y+E*b)*L+(A*w+T*y+C*b)*M+(S*w+x*y+v*b)*g))+(u*(q*j+Y*U+Z*_+(j*J+U*K+_*$)+((Q*j+tt*U+E*_)*L+(A*j+T*U+C*_)*M+(S*j+x*U+v*_)*g))+p*(q*z+Y*W+Z*m+(z*J+W*K+m*$)+((Q*z+tt*W+E*m)*L+(A*z+T*W+C*m)*M+(S*z+x*W+v*m)*g)))-+l[N+68>>2];_=q*j+Y*U+Z*_+(j*J+U*K+_*$)+((Q*j+tt*U+E*_)*L+(A*j+T*U+C*_)*M+(S*j+x*U+v*_)*g)-u*d;m=q*z+Y*W+Z*m+(z*J+W*K+m*$)+((Q*z+tt*W+E*m)*L+(A*z+T*W+C*m)*M+(S*z+x*W+v*m)*g)-p*d;g=q*w+Y*y+Z*b+(w*J+y*K+b*$)+((Q*w+tt*y+E*b)*L+(A*w+T*y+C*b)*M+(S*w+x*y+v*b)*g)-f*d;N=o[r+12>>2]|0;b=+l[N>>2];v=+l[N+4>>2];y=+l[N+8>>2];x=+l[N+16>>2];w=+l[N+20>>2];S=+l[N+24>>2];M=+l[N+32>>2];C=+l[N+36>>2];T=+l[N+40>>2];A=+l[N+48>>2];L=+l[N+52>>2];E=+l[N+56>>2];N=o[t+12>>2]|0;F=d<+l[N+752>>2];o[s+4>>2]=N;if(F){et=o[r+12>>2]|0;ft=u*+l[et+16>>2]+p*+l[et+20>>2]+f*+l[et+24>>2];dt=u*+l[et+32>>2]+p*+l[et+36>>2]+f*+l[et+40>>2];l[k+48>>2]=+l[et>>2]*u+ +l[et+4>>2]*p+ +l[et+8>>2]*f;l[k+48+4>>2]=ft;l[k+48+8>>2]=dt;l[k+48+12>>2]=0.0;l[k+32>>2]=y*g+(b*_+v*m)+A;l[k+32+4>>2]=_*x+m*w+g*S+L;l[k+32+8>>2]=_*M+m*C+g*T+E;l[k+32+12>>2]=0.0;jk[o[(o[s>>2]|0)+16>>2]&15](s,k+48|0,k+32|0,d)}a=a+1|0;r=o[t+20>>2]|0}while((a|0)<(r|0))}}do{if((i[t+8>>0]|0?o[(o[t+12>>2]|0)+748>>2]|0:0)?(O=o[s+4>>2]|0,o[O+748>>2]|0):0){a=o[O+740>>2]|0;c=o[(o[s+8>>2]|0)+8>>2]|0;r=o[(o[s+12>>2]|0)+8>>2]|0;if((a|0)==(c|0)){px(O,a+4|0,r+4|0);break}else{px(O,r+4|0,c+4|0);break}}}while(0);h=k;return}function zL(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;return 1.0}function GL(t,e){t=t|0;e=e|0;var n=0,r=0,s=0,a=0;n=o[t+12>>2]|0;if(!n)return;if(!(i[t+8>>0]|0))return;r=o[e+4>>2]|0;if((r|0)==(o[e+8>>2]|0)?(a=r|0?r<<1:1,(r|0)<(a|0)):0){if(!a)n=0;else{o[5637]=(o[5637]|0)+1;n=Jc((a<<2|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}r=o[e+4>>2]|0}if((r|0)>0){s=0;do{o[n+(s<<2)>>2]=o[(o[e+12>>2]|0)+(s<<2)>>2];s=s+1|0}while((s|0)!=(r|0))}s=o[e+12>>2]|0;if(s){if(i[e+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0);r=o[e+4>>2]|0}o[e+12>>2]=0}i[e+16>>0]=1;o[e+12>>2]=n;o[e+8>>2]=a;n=o[t+12>>2]|0}o[(o[e+12>>2]|0)+(r<<2)>>2]=n;o[e+4>>2]=r+1;return}function VL(t){t=t|0;var e=0,n=0;o[t>>2]=4084;if(i[t+20>>0]|0){e=o[t+16>>2]|0;n=o[e+16>>2]|0;if(n){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0);e=o[t+16>>2]|0}if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}}if(i[t+12>>0]|0){e=o[t+8>>2]|0;n=o[e+16>>2]|0;if(n){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0);e=o[t+8>>2]|0}if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}}e=o[t+32>>2]|0;sk[o[o[e>>2]>>2]&255](e);e=o[t+32>>2]|0;if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}e=o[t+36>>2]|0;sk[o[o[e>>2]>>2]&255](e);e=o[t+36>>2]|0;if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}e=o[t+40>>2]|0;sk[o[o[e>>2]>>2]&255](e);e=o[t+40>>2]|0;if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}e=o[t+44>>2]|0;sk[o[o[e>>2]>>2]&255](e);e=o[t+44>>2]|0;if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}e=o[t+48>>2]|0;sk[o[o[e>>2]>>2]&255](e);e=o[t+48>>2]|0;if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}e=o[t+52>>2]|0;sk[o[o[e>>2]>>2]&255](e);e=o[t+52>>2]|0;if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}e=o[t+56>>2]|0;sk[o[o[e>>2]>>2]&255](e);e=o[t+56>>2]|0;if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}e=o[t+60>>2]|0;sk[o[o[e>>2]>>2]&255](e);e=o[t+60>>2]|0;if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}e=o[t+76>>2]|0;sk[o[o[e>>2]>>2]&255](e);e=o[t+76>>2]|0;if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}e=o[t+80>>2]|0;sk[o[o[e>>2]>>2]&255](e);e=o[t+80>>2]|0;if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}e=o[t+72>>2]|0;sk[o[o[e>>2]>>2]&255](e);e=o[t+72>>2]|0;if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}e=o[t+88>>2]|0;sk[o[o[e>>2]>>2]&255](e);e=o[t+88>>2]|0;if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}e=o[t+84>>2]|0;sk[o[o[e>>2]>>2]&255](e);e=o[t+84>>2]|0;if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}e=o[t+24>>2]|0;if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}e=o[t+28>>2]|0;sk[o[o[e>>2]>>2]&255](e);e=o[t+28>>2]|0;if(!e)return;o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0);return}function WL(t){t=t|0;VL(t);Kc(t);return}function HL(t){t=t|0;return o[t+8>>2]|0}function XL(t){t=t|0;return o[t+16>>2]|0}function qL(t,e,n){t=t|0;e=e|0;n=n|0;do{if(!((e|0)==8&(n|0)==8)){if((e|0)==8&(n|0)==1){e=t+76|0;break}if((e|0)==1&(n|0)==8){e=t+80|0;break}if(!(n|e)){e=t+72|0;break}if((e|0)<20&(n|0)==28){e=t+88|0;break}if((e|0)==28&(n|0)<20){e=t+84|0;break}if((e|0)<20){if((n|0)<20){e=t+32|0;break}if((n+-21|0)>>>0<9){e=t+36|0;break}}else{if((n|0)<20&(e+-21|0)>>>0<9){e=t+40|0;break}if((e|0)==31)if((n|0)==31){e=t+48|0;break}else{e=t+44|0;break}}if((n|0)==31){e=t+52|0;break}else{e=t+56|0;break}}else e=t+60|0}while(0);return o[e>>2]|0}function YL(t){t=t|0;return o[t+24>>2]|0}function ZL(t,e){t=t|0;e=e|0;var n=0,r=0,s=0,a=0,c=0,u=0,h=0,p=0;o[t>>2]=4084;o[5637]=(o[5637]|0)+1;n=Jc(379)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}l[n+308>>2]=9.999999747378752e-05;r=n+332|0;i[r>>0]=i[r>>0]&-16;o[t+24>>2]=n;r=(o[e+20>>2]|0)==0;o[5637]=(o[5637]|0)+1;n=Jc(23)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}if(r){o[n>>2]=6948;o[t+28>>2]=n;r=t+28|0}else{o[n>>2]=6908;o[t+28>>2]=n;r=t+28|0}o[5637]=(o[5637]|0)+1;n=Jc(43)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}u=o[t+24>>2]|0;h=o[r>>2]|0;i[n+4>>0]=0;o[n>>2]=3924;o[n+16>>2]=0;o[n+20>>2]=3;o[n+12>>2]=u;o[n+8>>2]=h;o[t+32>>2]=n;o[5637]=(o[5637]|0)+1;n=Jc(27)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}i[n+4>>0]=0;o[n>>2]=4116;o[t+36>>2]=n;o[5637]=(o[5637]|0)+1;n=Jc(27)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}i[n+4>>0]=0;o[n>>2]=4136;o[t+40>>2]=n;o[5637]=(o[5637]|0)+1;n=Jc(27)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}i[n+4>>0]=0;o[n>>2]=4156;o[t+44>>2]=n;o[5637]=(o[5637]|0)+1;n=Jc(27)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}i[n+4>>0]=0;o[n>>2]=4176;o[t+48>>2]=n;o[5637]=(o[5637]|0)+1;n=Jc(27)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}i[n+4>>0]=0;o[n>>2]=4196;o[t+52>>2]=n;o[5637]=(o[5637]|0)+1;n=Jc(27)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}i[n+4>>0]=0;o[n>>2]=4216;o[t+56>>2]=n;o[5637]=(o[5637]|0)+1;n=Jc(27)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}i[n+4>>0]=0;o[n>>2]=4236;o[t+60>>2]=n;o[5637]=(o[5637]|0)+1;n=Jc(27)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}i[n+4>>0]=0;o[n>>2]=4256;o[t+76>>2]=n;o[5637]=(o[5637]|0)+1;n=Jc(27)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}o[n>>2]=4256;o[t+80>>2]=n;i[n+4>>0]=1;o[5637]=(o[5637]|0)+1;n=Jc(27)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}i[n+4>>0]=0;o[n>>2]=4276;o[t+72>>2]=n;o[5637]=(o[5637]|0)+1;n=Jc(35)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}i[n+4>>0]=0;o[n>>2]=4296;o[n+8>>2]=1;o[n+12>>2]=0;o[t+88>>2]=n;o[5637]=(o[5637]|0)+1;n=Jc(35)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}o[n>>2]=4296;o[n+8>>2]=1;o[n+12>>2]=0;o[t+84>>2]=n;i[n+4>>0]=1;h=o[e+16>>2]|0;h=(h|0)>80?h:80;n=o[e>>2]|0;if(!n){i[t+12>>0]=1;o[5637]=(o[5637]|0)+1;n=Jc(39)|0;if(!n)u=0;else{o[(n+4+15&-16)+-4>>2]=n;u=n+4+15&-16}n=o[e+8>>2]|0;o[u>>2]=772;r=u+4|0;o[r>>2]=n;o[5637]=(o[5637]|0)+1;n=Jc((n*772|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}o[u+16>>2]=n;o[u+12>>2]=n;r=o[r>>2]|0;o[u+8>>2]=r;if(r+-1|0){s=o[u>>2]|0;a=r+-1|0;c=n;do{p=c;c=c+s|0;o[p>>2]=c;a=a+-1|0}while((a|0)!=0);n=n+(et(s,r+-1|0)|0)|0}o[n>>2]=0;o[t+8>>2]=u}else{i[t+12>>0]=0;o[t+8>>2]=n}n=o[e+4>>2]|0;if(n|0){i[t+20>>0]=0;o[t+16>>2]=n;return}i[t+20>>0]=1;o[5637]=(o[5637]|0)+1;n=Jc(39)|0;if(!n)u=0;else{o[(n+4+15&-16)+-4>>2]=n;u=n+4+15&-16}n=o[e+12>>2]|0;o[u>>2]=h;r=u+4|0;o[r>>2]=n;n=et(n,h)|0;o[5637]=(o[5637]|0)+1;n=Jc(n+19|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}o[u+16>>2]=n;o[u+12>>2]=n;r=o[r>>2]|0;o[u+8>>2]=r;if(r+-1|0){s=o[u>>2]|0;a=r+-1|0;c=n;do{p=c;c=c+s|0;o[p>>2]=c;a=a+-1|0}while((a|0)!=0);n=n+(et(s,r+-1|0)|0)|0}o[n>>2]=0;o[t+16>>2]=u;return}function JL(t){t=t|0;return}function KL(t){t=t|0;Kc(t);return}function $L(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;t=o[e>>2]|0;t=Ek[o[(o[t>>2]|0)+56>>2]&31](t,80)|0;e=o[e>>2]|0;o[t+4>>2]=e;o[t>>2]=3720;i[t+8>>0]=0;o[t+12>>2]=3748;o[t+60>>2]=e;o[t+64>>2]=0;o[t+16>>2]=n;o[t+20>>2]=r;e=vk[o[(o[e>>2]|0)+12>>2]&63](e,o[n+8>>2]|0,o[r+8>>2]|0)|0;o[t+76>>2]=e;r=o[t+60>>2]|0;ck[o[(o[r>>2]|0)+20>>2]&127](r,e);return t|0}function QL(t){t=t|0;Kc(t);return}function tE(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;t=o[e>>2]|0;t=Ek[o[(o[t>>2]|0)+56>>2]&31](t,80)|0;e=o[e>>2]|0;o[t+4>>2]=e;o[t>>2]=3720;i[t+8>>0]=1;o[t+12>>2]=3748;o[t+60>>2]=e;o[t+64>>2]=0;o[t+16>>2]=r;o[t+20>>2]=n;e=vk[o[(o[e>>2]|0)+12>>2]&63](e,o[r+8>>2]|0,o[n+8>>2]|0)|0;o[t+76>>2]=e;r=o[t+60>>2]|0;ck[o[(o[r>>2]|0)+20>>2]&127](r,e);return t|0}function eE(t){t=t|0;Kc(t);return}function nE(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;t=o[e>>2]|0;t=Ek[o[(o[t>>2]|0)+56>>2]&31](t,44)|0;_S(t,e,n,i,0);return t|0}function iE(t){t=t|0;Kc(t);return}function rE(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;var s=0,a=0,c=0,l=0,u=0,h=0,p=0,f=0;h=o[e>>2]|0;h=Ek[o[(o[h>>2]|0)+56>>2]&31](h,76)|0;_S(h,e,n,r,0);o[h>>2]=3656;i[h+64>>0]=1;o[h+60>>2]=0;o[h+52>>2]=0;o[h+56>>2]=0;o[5637]=(o[5637]|0)+1;t=Jc(83)|0;if(!t)u=0;else{o[(t+4+15&-16)+-4>>2]=t;u=t+4+15&-16}o[u>>2]=4432;a=u+20|0;i[a>>0]=1;c=u+16|0;o[c>>2]=0;e=u+8|0;o[e>>2]=0;l=u+12|0;o[l>>2]=0;i[u+40>>0]=1;o[u+36>>2]=0;o[u+28>>2]=0;o[u+32>>2]=0;i[u+60>>0]=1;o[u+56>>2]=0;o[u+48>>2]=0;o[u+52>>2]=0;o[5637]=(o[5637]|0)+1;t=Jc(43)|0;if(!t)s=0;else{o[(t+4+15&-16)+-4>>2]=t;s=t+4+15&-16}t=o[e>>2]|0;if((t|0)>0){e=0;do{p=s+(e*12|0)|0;f=(o[c>>2]|0)+(e*12|0)|0;o[p>>2]=o[f>>2];o[p+4>>2]=o[f+4>>2];o[p+8>>2]=o[f+8>>2];e=e+1|0}while((e|0)!=(t|0))}t=o[c>>2]|0;if(!t){i[a>>0]=1;o[c>>2]=s;o[l>>2]=2;OE(u);f=h+44|0;o[f>>2]=u;f=n+4|0;f=o[f>>2]|0;f=f+72|0;f=o[f>>2]|0;p=h+68|0;o[p>>2]=f;p=r+4|0;p=o[p>>2]|0;p=p+72|0;p=o[p>>2]|0;f=h+72|0;o[f>>2]=p;return h|0}if(i[a>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0)}o[c>>2]=0;i[a>>0]=1;o[c>>2]=s;o[l>>2]=2;OE(u);f=h+44|0;o[f>>2]=u;f=n+4|0;f=o[f>>2]|0;f=f+72|0;f=o[f>>2]|0;p=h+68|0;o[p>>2]=f;p=r+4|0;p=o[p>>2]|0;p=p+72|0;p=o[p>>2]|0;f=h+72|0;o[f>>2]=p;return h|0}function oE(t){t=t|0;Kc(t);return}function sE(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;t=o[e>>2]|0;t=Ek[o[(o[t>>2]|0)+56>>2]&31](t,44)|0;_S(t,e,n,i,1);return t|0}function aE(t){t=t|0;Kc(t);return}function cE(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;t=o[e>>2]|0;t=Ek[o[(o[t>>2]|0)+56>>2]&31](t,8)|0;o[t+4>>2]=o[e>>2];o[t>>2]=4316;return t|0}function lE(t){t=t|0;Kc(t);return}function uE(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;t=o[e>>2]|0;t=Ek[o[(o[t>>2]|0)+56>>2]&31](t,16)|0;e=o[e>>2]|0;o[t+4>>2]=e;o[t>>2]=4512;i[t+8>>0]=0;o[t+12>>2]=0;o[t+12>>2]=vk[o[(o[e>>2]|0)+12>>2]&63](e,o[n+8>>2]|0,o[r+8>>2]|0)|0;i[t+8>>0]=1;return t|0}function hE(t){t=t|0;Kc(t);return}function pE(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;var s=0,a=0;s=o[e>>2]|0;s=Ek[o[(o[s>>2]|0)+56>>2]&31](s,20)|0;a=o[e+4>>2]|0;t=i[t+4>>0]|0;e=o[e>>2]|0;o[s+4>>2]=e;o[s>>2]=4540;i[s+8>>0]=0;o[s+12>>2]=a;i[s+16>>0]=t;if(a|0)return s|0;o[s+12>>2]=vk[o[(o[e>>2]|0)+12>>2]&63](e,o[n+8>>2]|0,o[r+8>>2]|0)|0;i[s+8>>0]=1;return s|0}function fE(t){t=t|0;Kc(t);return}function dE(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;t=o[e>>2]|0;t=Ek[o[(o[t>>2]|0)+56>>2]&31](t,16)|0;e=o[e>>2]|0;o[t+4>>2]=e;o[t>>2]=3016;i[t+8>>0]=0;o[t+12>>2]=0;if(!(vk[o[(o[e>>2]|0)+24>>2]&63](e,o[n+8>>2]|0,o[r+8>>2]|0)|0))return t|0;e=o[t+4>>2]|0;o[t+12>>2]=vk[o[(o[e>>2]|0)+12>>2]&63](e,o[n+8>>2]|0,o[r+8>>2]|0)|0;i[t+8>>0]=1;return t|0}function _E(t){t=t|0;Kc(t);return}function mE(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;var s=0,a=0,c=0,l=0;a=o[e>>2]|0;a=Ek[o[(o[a>>2]|0)+56>>2]&31](a,28)|0;l=(i[t+4>>0]|0)==0;c=o[t+8>>2]|0;s=o[t+12>>2]|0;t=o[e>>2]|0;o[a+4>>2]=t;o[a>>2]=4056;i[a+8>>0]=0;o[a+12>>2]=0;if(l){i[a+16>>0]=0;o[a+20>>2]=c;o[a+24>>2]=s;if(!(vk[o[(o[t>>2]|0)+24>>2]&63](t,o[n+8>>2]|0,o[r+8>>2]|0)|0))return a|0;l=o[a+4>>2]|0;o[a+12>>2]=vk[o[(o[l>>2]|0)+12>>2]&63](l,o[n+8>>2]|0,o[r+8>>2]|0)|0;i[a+8>>0]=1;return a|0}else{i[a+16>>0]=1;o[a+20>>2]=c;o[a+24>>2]=s;if(!(vk[o[(o[t>>2]|0)+24>>2]&63](t,o[r+8>>2]|0,o[n+8>>2]|0)|0))return a|0;l=o[a+4>>2]|0;o[a+12>>2]=vk[o[(o[l>>2]|0)+12>>2]&63](l,o[r+8>>2]|0,o[n+8>>2]|0)|0;i[a+8>>0]=1;return a|0}return 0}function gE(t){t=t|0;Kc(t);return}function bE(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;return}function vE(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;return 1.0}function yE(t,e){t=t|0;e=e|0;return}function xE(t){t=t|0;var e=0;o[t>>2]=4344;e=o[t+300>>2]|0;if(e|0){if(i[t+304>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+300>>2]=0}i[t+304>>0]=1;o[t+300>>2]=0;o[t+292>>2]=0;o[t+296>>2]=0;o[t>>2]=3156;e=o[t+276>>2]|0;if(!e){i[t+280>>0]=1;o[t+276>>2]=0;o[t+268>>2]=0;t=t+272|0;o[t>>2]=0;return}if(i[t+280>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+276>>2]=0;i[t+280>>0]=1;o[t+276>>2]=0;o[t+268>>2]=0;t=t+272|0;o[t>>2]=0;return}function wE(t){t=t|0;var e=0;o[t>>2]=4344;e=o[t+300>>2]|0;if(e|0){if(i[t+304>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+300>>2]=0}i[t+304>>0]=1;o[t+300>>2]=0;o[t+292>>2]=0;o[t+296>>2]=0;o[t>>2]=3156;e=o[t+276>>2]|0;if(e|0){if(i[t+280>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+276>>2]=0}i[t+280>>0]=1;o[t+276>>2]=0;o[t+268>>2]=0;o[t+272>>2]=0;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function SE(t,e,n){t=t|0;e=e|0;n=n|0;var r=0,s=0,a=0;s=o[e>>2]|0;e=o[t+292>>2]|0;t:do{if((e|0)>0){r=o[t+300>>2]|0;n=0;while(1){if((o[r+(n<<2)>>2]|0)==(s|0))break;n=n+1|0;if((n|0)>=(e|0))break t}if((n|0)!=(e|0))return}}while(0);if((e|0)==(o[t+296>>2]|0)?(a=e|0?e<<1:1,(e|0)<(a|0)):0){if(!a)r=0;else{o[5637]=(o[5637]|0)+1;e=Jc((a<<2|3)+16|0)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}r=e;e=o[t+292>>2]|0}if((e|0)>0){n=0;do{o[r+(n<<2)>>2]=o[(o[t+300>>2]|0)+(n<<2)>>2];n=n+1|0}while((n|0)!=(e|0))}n=o[t+300>>2]|0;if(n){if(i[t+304>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0);e=o[t+292>>2]|0}o[t+300>>2]=0}i[t+304>>0]=1;o[t+300>>2]=r;o[t+296>>2]=a}o[(o[t+300>>2]|0)+(e<<2)>>2]=s;o[t+292>>2]=e+1;return}function ME(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0,s=0,a=0;s=o[t+292>>2]|0;if((s|0)<=0)return;e=o[e>>2]|0;r=o[t+300>>2]|0;n=0;while(1){i=r+(n<<2)|0;if((o[i>>2]|0)==(e|0))break;n=n+1|0;if((n|0)>=(s|0)){a=7;break}}if((a|0)==7)return;if((n|0)>=(s|0))return;o[i>>2]=o[r+(s+-1<<2)>>2];o[t+292>>2]=s+-1;return}function CE(t){t=t|0;var e=0;o[t>>2]=4388;e=o[t+308>>2]|0;sk[o[o[e>>2]>>2]&255](e);e=o[t+308>>2]|0;if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t>>2]=4344;e=o[t+300>>2]|0;if(e|0){if(i[t+304>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+300>>2]=0}i[t+304>>0]=1;o[t+300>>2]=0;o[t+292>>2]=0;o[t+296>>2]=0;o[t>>2]=3156;e=o[t+276>>2]|0;if(!e){i[t+280>>0]=1;o[t+276>>2]=0;o[t+268>>2]=0;t=t+272|0;o[t>>2]=0;return}if(i[t+280>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+276>>2]=0;i[t+280>>0]=1;o[t+276>>2]=0;o[t+268>>2]=0;t=t+272|0;o[t>>2]=0;return}function TE(t){t=t|0;CE(t);if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function AE(t,e,n){t=t|0;e=e|0;n=n|0;var r=0,s=0,a=0,c=0,l=0;if(!n)n=o[t+188>>2]|0;l=o[e>>2]|0;r=o[t+292>>2]|0;t:do{if((r|0)>0){a=o[t+300>>2]|0;s=0;while(1){if((o[a+(s<<2)>>2]|0)==(l|0))break;s=s+1|0;if((s|0)>=(r|0))break t}if((s|0)!=(r|0))return}}while(0);if((r|0)==(o[t+296>>2]|0)?(c=r|0?r<<1:1,(r|0)<(c|0)):0){if(!c)a=0;else{o[5637]=(o[5637]|0)+1;r=Jc((c<<2|3)+16|0)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}a=r;r=o[t+292>>2]|0}if((r|0)>0){s=0;do{o[a+(s<<2)>>2]=o[(o[t+300>>2]|0)+(s<<2)>>2];s=s+1|0}while((s|0)!=(r|0))}s=o[t+300>>2]|0;if(s){if(i[t+304>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0);r=o[t+292>>2]|0}o[t+300>>2]=0}i[t+304>>0]=1;o[t+300>>2]=a;o[t+296>>2]=c}o[(o[t+300>>2]|0)+(r<<2)>>2]=l;o[t+292>>2]=r+1;t=o[t+308>>2]|0;vk[o[(o[t>>2]|0)+8>>2]&63](t,n,e)|0;return}function LE(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0,s=0,a=0,c=0,l=0,u=0;l=o[e>>2]|0;if(!i)i=o[t+188>>2]|0;a=o[t+292>>2]|0;if((a|0)<=0)return;c=o[t+300>>2]|0;r=0;while(1){s=c+(r<<2)|0;if((o[s>>2]|0)==(l|0))break;r=r+1|0;if((r|0)>=(a|0)){u=9;break}}if((u|0)==9)return;if((r|0)>=(a|0))return;o[s>>2]=o[c+(a+-1<<2)>>2];o[t+292>>2]=a+-1;u=o[t+308>>2]|0;dk[o[(o[u>>2]|0)+12>>2]&31](u,i,e,n)|0;return}function EE(t){t=t|0;var e=0;o[t+164>>2]=1065353216;o[t+168>>2]=1065353216;o[t+172>>2]=1065353216;l[t+176>>2]=0.0;o[t+180>>2]=0;l[t+184>>2]=999999984306749440.0;o[t+188>>2]=0;o[t+188+4>>2]=0;o[t+188+8>>2]=0;o[t+188+12>>2]=0;o[t+204>>2]=1;o[t+208>>2]=-1;o[t+212>>2]=-1;o[t+216>>2]=1;l[t+220>>2]=0.0;l[t+224>>2]=.5;l[t+228>>2]=0.0;l[t+232>>2]=0.0;o[t+240>>2]=0;o[t+244>>2]=-1;l[t+248>>2]=1.0;l[t+252>>2]=0.0;l[t+256>>2]=0.0;o[t+260>>2]=0;i[t+280>>0]=1;o[t+276>>2]=0;o[t+268>>2]=0;o[t+272>>2]=0;o[t+284>>2]=0;o[t+4>>2]=1065353216;o[t+8>>2]=0;o[t+8+4>>2]=0;o[t+8+8>>2]=0;o[t+8+12>>2]=0;o[t+24>>2]=1065353216;o[t+28>>2]=0;o[t+28+4>>2]=0;o[t+28+8>>2]=0;o[t+28+12>>2]=0;o[t+44>>2]=1065353216;o[t+48>>2]=0;o[t+48+4>>2]=0;o[t+48+8>>2]=0;o[t+48+12>>2]=0;o[t+48+16>>2]=0;i[t+304>>0]=1;o[t+300>>2]=0;o[t+292>>2]=0;o[t+296>>2]=0;o[t+236>>2]=4;o[t>>2]=4388;o[5637]=(o[5637]|0)+1;e=Jc(91)|0;if(!e){e=0;GP(e);t=t+308|0;o[t>>2]=e;return}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;GP(e);t=t+308|0;o[t>>2]=e;return}function RE(t,e,n,i,r,s){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;s=+s;var a=0.0,c=0,u=0.0,p=0,d=0.0,_=0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0,E=0,R=0.0,I=0.0,P=0.0,D=0,k=0,O=0,N=0,F=0.0,B=0.0,j=0.0,U=0.0;N=h;h=h+288|0;o[N+144>>2]=o[n>>2];o[N+144+4>>2]=o[n+4>>2];o[N+144+8>>2]=o[n+8>>2];o[N+144+12>>2]=o[n+12>>2];o[N+144+16>>2]=o[n+16>>2];o[N+144+16+4>>2]=o[n+16+4>>2];o[N+144+16+8>>2]=o[n+16+8>>2];o[N+144+16+12>>2]=o[n+16+12>>2];o[N+144+32>>2]=o[n+32>>2];o[N+144+32+4>>2]=o[n+32+4>>2];o[N+144+32+8>>2]=o[n+32+8>>2];o[N+144+32+12>>2]=o[n+32+12>>2];o[N+144+48>>2]=o[n+48>>2];o[N+144+48+4>>2]=o[n+48+4>>2];o[N+144+48+8>>2]=o[n+48+8>>2];o[N+144+48+12>>2]=o[n+48+12>>2];o[N+80>>2]=o[i>>2];o[N+80+4>>2]=o[i+4>>2];o[N+80+8>>2]=o[i+8>>2];o[N+80+12>>2]=o[i+12>>2];o[N+80+16>>2]=o[i+16>>2];o[N+80+16+4>>2]=o[i+16+4>>2];o[N+80+16+8>>2]=o[i+16+8>>2];o[N+80+16+12>>2]=o[i+16+12>>2];o[N+80+32>>2]=o[i+32>>2];o[N+80+32+4>>2]=o[i+32+4>>2];o[N+80+32+8>>2]=o[i+32+8>>2];o[N+80+32+12>>2]=o[i+32+12>>2];o[N+80+48>>2]=o[i+48>>2];o[N+80+48+4>>2]=o[i+48+4>>2];o[N+80+48+8>>2]=o[i+48+8>>2];o[N+80+48+12>>2]=o[i+48+12>>2];u=+l[N+80+52>>2]-+l[N+144+52>>2];U=+l[N+80+56>>2]-+l[N+144+56>>2];l[N+32>>2]=+l[N+80+48>>2]-+l[N+144+48>>2];l[N+32+4>>2]=u;l[N+32+8>>2]=U;l[N+32+12>>2]=0.0;Yw(N+144|0,N+80|0,N+224|0,N+208|0);U=+l[N+208>>2];u=U*+l[N+224+4>>2];F=U*+l[N+224+8>>2];l[N+16>>2]=+l[N+224>>2]*U;l[N+16+4>>2]=u;l[N+16+8>>2]=F;l[N+16+12>>2]=0.0;o[N+224+4>>2]=0;o[N+224+4+4>>2]=0;o[N+224+24>>2]=0;o[N+224+24+4>>2]=0;O=N+224+44|0;o[O>>2]=0;o[O+4>>2]=0;o[O+8>>2]=0;o[O+12>>2]=0;o[O+16>>2]=0;Zw(N+144|0,N);F=+l[N>>2];u=+l[N+4>>2];U=+l[N+8>>2];B=+l[N+12>>2];a=F*(2.0/(F*F+u*u+U*U+B*B));d=u*(2.0/(F*F+u*u+U*U+B*B));j=U*(2.0/(F*F+u*u+U*U+B*B));l[N+224>>2]=1.0-(u*d+U*j);l[N+224+4>>2]=F*d-B*j;l[N+224+8>>2]=F*j+B*d;l[N+224+12>>2]=0.0;l[N+224+16>>2]=F*d+B*j;l[N+224+20>>2]=1.0-(F*a+U*j);l[N+224+24>>2]=u*j-B*a;l[N+224+28>>2]=0.0;l[N+224+32>>2]=F*j-B*d;l[N+224+36>>2]=u*j+B*a;l[N+224+40>>2]=1.0-(F*a+u*d);l[O>>2]=0.0;yM(e,N+224|0,N+32|0,N+16|0,N+64|0,N+48|0);if((o[t+292>>2]|0)<=0){h=N;return}k=0;do{_=o[(o[t+300>>2]|0)+(k<<2)>>2]|0;if(Ek[o[(o[r>>2]|0)+8>>2]&31](r,o[_+188>>2]|0)|0?(L=o[_+192>>2]|0,Wk[o[(o[L>>2]|0)+8>>2]&127](L,_+4|0,N+208|0,N+32|0),m=+l[N+208>>2]+ +l[N+64>>2],g=+l[N+208+4>>2]+ +l[N+64+4>>2],b=+l[N+208+8>>2]+ +l[N+64+8>>2],l[N+208>>2]=m,l[N+208+4>>2]=g,l[N+208+8>>2]=b,l[N+208+12>>2]=0.0,v=+l[N+32>>2]+ +l[N+48>>2],y=+l[N+32+4>>2]+ +l[N+48+4>>2],x=+l[N+32+8>>2]+ +l[N+48+8>>2],l[N+32>>2]=v,l[N+32+4>>2]=y,l[N+32+8>>2]=x,l[N+32+12>>2]=0.0,w=+l[n+48>>2]-(v+m)*.5,S=+l[n+52>>2]-(y+g)*.5,M=+l[n+56>>2]-(x+b)*.5,C=+l[i+48>>2]-(v+m)*.5,T=+l[i+52>>2]-(y+g)*.5,A=+l[i+56>>2]-(x+b)*.5,L=w<-((v-m)*.5)|(w>(v-m)*.5?8:0)|(S<-((y-g)*.5)?2:0)|(S>(y-g)*.5?16:0)|(M<-((x-b)*.5)?4:0)|(M>(x-b)*.5?32:0),E=C<-((v-m)*.5)|(C>(v-m)*.5?8:0)|(T<-((y-g)*.5)?2:0)|(T>(y-g)*.5?16:0)|(A<-((x-b)*.5)?4:0)|(A>(x-b)*.5?32:0),(L&E|0)==0):0){D=1;O=0;a=0.0;c=1065353216;d=1.0;while(1){if(!(D&L)){if((D&E|0)!=0?(R=(-w-d*((v-m)*.5))/(C-w),R<(o[f>>2]=c,+l[f>>2])):0)c=(l[f>>2]=R,o[f>>2]|0)}else{u=(-w-d*((v-m)*.5))/(C-w);if(a<=u)a=u}p=D<<1;if(!(p&L))if((p&E|0)!=0?(I=(-S-d*((y-g)*.5))/(T-S),I<(o[f>>2]=c,+l[f>>2])):0){u=a;c=(l[f>>2]=I,o[f>>2]|0)}else u=a;else{u=(-S-d*((y-g)*.5))/(T-S);if(!(a<=u))u=a}p=D<<2;if(!(p&L))if((p&E|0)!=0?(P=(-M-d*((x-b)*.5))/(A-M),P<(o[f>>2]=c,+l[f>>2])):0){a=u;c=(l[f>>2]=P,o[f>>2]|0)}else a=u;else{a=(-M-d*((x-b)*.5))/(A-M);if(!(u<=a))a=u}O=O+1|0;if((O|0)==2)break;else{D=D<<3;d=-1.0}}if(a<=(o[f>>2]=c,+l[f>>2])){O=o[_+192>>2]|0;o[N+224>>2]=0;o[N+224+4>>2]=O;o[N+224+8>>2]=_;o[N+224+12>>2]=_+4;o[N+224+16>>2]=-1;o[N+224+20>>2]=-1;Bw(e,N+144|0,N+80|0,N+224|0,r,s)}}k=k+1|0}while((k|0)<(o[t+292>>2]|0));h=N;return}function IE(t){t=t|0;var e=0;o[t>>2]=4432;e=o[t+56>>2]|0;if(e|0){if(i[t+60>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+56>>2]=0}i[t+60>>0]=1;o[t+56>>2]=0;o[t+48>>2]=0;o[t+52>>2]=0;e=o[t+36>>2]|0;if(e|0){if(i[t+40>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+36>>2]=0}i[t+40>>0]=1;o[t+36>>2]=0;o[t+28>>2]=0;o[t+32>>2]=0;e=o[t+16>>2]|0;if(!e){i[t+20>>0]=1;o[t+16>>2]=0;o[t+8>>2]=0;t=t+12|0;o[t>>2]=0;return}if(i[t+20>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+16>>2]=0;i[t+20>>0]=1;o[t+16>>2]=0;o[t+8>>2]=0;t=t+12|0;o[t>>2]=0;return}function PE(t){t=t|0;IE(t);Kc(t);return}function DE(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0,s=0,a=0,c=0,l=0,u=0,h=0,p=0,f=0;o[4990]=(o[4990]|0)+1;s=((n<<16|e)+~((n<<16|e)<<15)>>10^(n<<16|e)+~((n<<16|e)<<15))*9|0;h=o[t+36>>2]|0;s=h+(((o[t+12>>2]|0)+-1&((s>>6^s)+~((s>>6^s)<<11)>>16^(s>>6^s)+~((s>>6^s)<<11)))<<2)|0;r=o[s>>2]|0;if((r|0)==-1){f=0;return f|0}p=o[t+16>>2]|0;i=r;while(1){u=p+(i*12|0)|0;if((o[u>>2]|0)==(e|0)?(o[p+(i*12|0)+4>>2]|0)==(n|0):0)break;i=o[(o[t+56>>2]|0)+(i<<2)>>2]|0;if((i|0)==-1){i=0;f=21;break}}if((f|0)==21)return i|0;if(!u){f=0;return f|0}l=o[p+(i*12|0)+8>>2]|0;c=(i*12|0)/12|0;e=o[t+56>>2]|0;if((r|0)!=(c|0)){while(1){n=e+(r<<2)|0;i=o[n>>2]|0;if((i|0)==(c|0))break;else r=i}i=o[e+(c<<2)>>2]|0;if((r|0)==-1)f=11;else o[n>>2]=i}else{i=o[e+(r<<2)>>2]|0;f=11}if((f|0)==11)o[s>>2]=i;s=(o[t+8>>2]|0)+-1|0;if((s|0)==(c|0)){o[t+8>>2]=c;f=l;return f|0}a=o[p+(s*12|0)+4>>2]<<16|o[p+(s*12|0)>>2];a=(a+~(a<<15)>>10^a+~(a<<15))*9|0;a=((a>>6^a)+~((a>>6^a)<<11)>>16^(a>>6^a)+~((a>>6^a)<<11))&(o[t+12>>2]|0)+-1;i=o[h+(a<<2)>>2]|0;e=o[t+56>>2]|0;if((i|0)!=(s|0)){r=i;while(1){n=e+(r<<2)|0;i=o[n>>2]|0;if((i|0)==(s|0))break;else r=i}i=o[e+(s<<2)>>2]|0;if((r|0)==-1)f=19;else o[n>>2]=i}else{i=o[e+(s<<2)>>2]|0;f=19}if((f|0)==19)o[h+(a<<2)>>2]=i;o[u>>2]=o[p+(s*12|0)>>2];o[u+4>>2]=o[p+(s*12|0)+4>>2];o[u+8>>2]=o[p+(s*12|0)+8>>2];f=(o[t+36>>2]|0)+(a<<2)|0;o[(o[t+56>>2]|0)+(c<<2)>>2]=o[f>>2];o[f>>2]=c;o[t+8>>2]=(o[t+8>>2]|0)+-1;f=l;return f|0}function kE(t,e,n){t=t|0;e=e|0;n=n|0;var r=0,s=0,a=0,c=0,l=0,u=0,h=0,p=0,f=0;o[4991]=(o[4991]|0)+1;u=((n<<16|e)+~((n<<16|e)<<15)>>10^(n<<16|e)+~((n<<16|e)<<15))*9|0;u=(u>>6^u)+~((u>>6^u)<<11)>>16^(u>>6^u)+~((u>>6^u)<<11);h=o[t+12>>2]|0;r=o[(o[t+36>>2]|0)+((h+-1&u)<<2)>>2]|0;t:do{if((r|0)!=-1){a=o[t+16>>2]|0;while(1){s=a+(r*12|0)|0;if((o[s>>2]|0)==(e|0)?(o[a+(r*12|0)+4>>2]|0)==(n|0):0)break;r=o[(o[t+56>>2]|0)+(r<<2)>>2]|0;if((r|0)==-1)break t}if(s|0){t=s;return t|0}}}while(0);l=o[t+8>>2]|0;if((l|0)==(h|0)){a=h|0?h<<1:1;if((h|0)<(a|0)){if(!a){r=0;s=h}else{o[5637]=(o[5637]|0)+1;r=Jc((a*12|3)+16|0)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}s=o[t+8>>2]|0}if((s|0)>0){c=0;do{p=r+(c*12|0)|0;f=(o[t+16>>2]|0)+(c*12|0)|0;o[p>>2]=o[f>>2];o[p+4>>2]=o[f+4>>2];o[p+8>>2]=o[f+8>>2];c=c+1|0}while((c|0)!=(s|0))}s=o[t+16>>2]|0;if(s|0){if(i[t+20>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0)}o[t+16>>2]=0}i[t+20>>0]=1;o[t+16>>2]=r;o[t+12>>2]=a;r=o[t+8>>2]|0}else{r=h;a=h}}else{r=l;a=h}o[t+8>>2]=r+1;s=o[t+16>>2]|0;if((h|0)<(a|0)){OE(t);r=(o[t+12>>2]|0)+-1&u}else r=h+-1&u;o[s+(l*12|0)>>2]=e;o[s+(l*12|0)+4>>2]=n;o[s+(l*12|0)+8>>2]=0;f=(o[t+36>>2]|0)+(r<<2)|0;o[(o[t+56>>2]|0)+(l<<2)>>2]=o[f>>2];o[f>>2]=l;f=s+(l*12|0)|0;return f|0}function OE(t){t=t|0;var e=0,n=0,r=0,s=0,a=0,c=0,l=0;c=o[t+12>>2]|0;l=o[t+28>>2]|0;if((c|0)<=(l|0))return;if((c|0)>=(l|0)){do{if((o[t+32>>2]|0)<(c|0)){if(!c){e=0;n=l}else{o[5637]=(o[5637]|0)+1;e=Jc((c<<2|3)+16|0)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}n=o[t+28>>2]|0}r=o[t+36>>2]|0;if((n|0)<=0){if(!r){i[t+40>>0]=1;o[t+36>>2]=e;o[t+32>>2]=c;break}}else{s=0;do{o[e+(s<<2)>>2]=o[r+(s<<2)>>2];s=s+1|0}while((s|0)!=(n|0))}if(i[t+40>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0)}i[t+40>>0]=1;o[t+36>>2]=e;o[t+32>>2]=c}else e=o[t+36>>2]|0}while(0);Il(e+(l<<2)|0,0,c-l<<2|0)|0}o[t+28>>2]=c;a=o[t+48>>2]|0;if((c|0)>(a|0)){do{if((o[t+52>>2]|0)<(c|0)){if(!c){e=0;n=a}else{o[5637]=(o[5637]|0)+1;e=Jc((c<<2|3)+16|0)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}n=o[t+48>>2]|0}r=o[t+56>>2]|0;if((n|0)<=0){if(!r){i[t+60>>0]=1;o[t+56>>2]=e;o[t+52>>2]=c;break}}else{s=0;do{o[e+(s<<2)>>2]=o[r+(s<<2)>>2];s=s+1|0}while((s|0)!=(n|0))}if(i[t+60>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0)}i[t+60>>0]=1;o[t+56>>2]=e;o[t+52>>2]=c}else e=o[t+56>>2]|0}while(0);Il(e+(a<<2)|0,0,c-a<<2|0)|0}o[t+48>>2]=c;if((c|0)>0){Il(o[t+36>>2]|0,-1,c<<2|0)|0;Il(o[t+56>>2]|0,-1,c<<2|0)|0}if((l|0)<=0)return;e=o[t+16>>2]|0;n=o[t+36>>2]|0;r=o[t+56>>2]|0;s=0;do{c=o[e+(s*12|0)+4>>2]<<16|o[e+(s*12|0)>>2];c=(c+~(c<<15)>>10^c+~(c<<15))*9|0;c=n+((((c>>6^c)+~((c>>6^c)<<11)>>16^(c>>6^c)+~((c>>6^c)<<11))&(o[t+12>>2]|0)+-1)<<2)|0;o[r+(s<<2)>>2]=o[c>>2];o[c>>2]=s;s=s+1|0}while((s|0)!=(l|0));return}function NE(t){t=t|0;return o[t+16>>2]|0}function FE(t){t=t|0;var e=0,n=0,r=0,s=0,a=0;e=o[t+16>>2]|0;if(e|0){if(i[t+20>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+16>>2]=0}i[t+20>>0]=1;o[t+16>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;e=o[t+36>>2]|0;if(e|0){if(i[t+40>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+36>>2]=0}i[t+40>>0]=1;o[t+36>>2]=0;o[t+28>>2]=0;o[t+32>>2]=0;e=o[t+56>>2]|0;if(e|0){if(i[t+60>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+56>>2]=0}i[t+60>>0]=1;o[t+56>>2]=0;o[t+48>>2]=0;o[t+52>>2]=0;if((o[t+12>>2]|0)>=2){OE(t);return}o[5637]=(o[5637]|0)+1;e=Jc(43)|0;if(!e)r=0;else{o[(e+4+15&-16)+-4>>2]=e;r=e+4+15&-16}e=o[t+8>>2]|0;if((e|0)>0){n=0;do{s=r+(n*12|0)|0;a=(o[t+16>>2]|0)+(n*12|0)|0;o[s>>2]=o[a>>2];o[s+4>>2]=o[a+4>>2];o[s+8>>2]=o[a+8>>2];n=n+1|0}while((n|0)!=(e|0))}e=o[t+16>>2]|0;if(e|0){if(i[t+20>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+16>>2]=0}i[t+20>>0]=1;o[t+16>>2]=r;o[t+12>>2]=2;OE(t);return}function BE(t){t=t|0;Kc(t);return}function jE(t,e,n,r){t=t|0;e=e|0;n=n|0;r=+r;var s=0.0,a=0.0,c=0.0,u=0.0,p=0.0,f=0.0,d=0.0,_=0,m=0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0,M=0,C=0,T=0,A=0,L=0,E=0,R=0;L=h;h=h+192|0;C=o[t+4>>2]|0;if(+l[C+752>>2]<r){h=L;return}A=o[C+740>>2]|0;M=(o[t+8>>2]|0)+8|0;T=o[M>>2]|0;a=+l[n>>2];g=+l[e>>2]*r+a;c=+l[n+4>>2];b=+l[e+4>>2]*r+c;s=+l[n+8>>2];v=+l[e+8>>2]*r+s;S=(o[t+12>>2]|0)+8|0;_=o[S>>2]|0;u=+l[_+52>>2];p=+l[_+56>>2];if((A|0)!=(T|0)){w=v-+l[_+60>>2];a=a-+l[T+52>>2];c=c-+l[T+56>>2];s=s-+l[T+60>>2];y=(g-u)*+l[_+4>>2]+(b-p)*+l[_+20>>2]+w*+l[_+36>>2];x=(g-u)*+l[_+8>>2]+(b-p)*+l[_+24>>2]+w*+l[_+40>>2];w=(g-u)*+l[_+12>>2]+(b-p)*+l[_+28>>2]+w*+l[_+44>>2];f=a*+l[T+4>>2]+c*+l[T+20>>2]+s*+l[T+36>>2];d=a*+l[T+8>>2]+c*+l[T+24>>2]+s*+l[T+40>>2];s=a*+l[T+12>>2]+c*+l[T+28>>2]+s*+l[T+44>>2]}else{d=g-+l[A+52>>2];f=b-+l[A+56>>2];w=v-+l[A+60>>2];s=s-+l[_+60>>2];y=d*+l[A+4>>2]+f*+l[A+20>>2]+w*+l[A+36>>2];x=d*+l[A+8>>2]+f*+l[A+24>>2]+w*+l[A+40>>2];w=d*+l[A+12>>2]+f*+l[A+28>>2]+w*+l[A+44>>2];f=(a-u)*+l[_+4>>2]+(c-p)*+l[_+20>>2]+s*+l[_+36>>2];d=(a-u)*+l[_+8>>2]+(c-p)*+l[_+24>>2]+s*+l[_+40>>2];s=(a-u)*+l[_+12>>2]+(c-p)*+l[_+28>>2]+s*+l[_+44>>2]}l[L>>2]=y;l[L+4>>2]=x;l[L+8>>2]=w;l[L+12>>2]=0.0;l[L+16>>2]=f;l[L+20>>2]=d;l[L+24>>2]=s;l[L+28>>2]=0.0;o[L+64>>2]=o[e>>2];o[L+64+4>>2]=o[e+4>>2];o[L+64+8>>2]=o[e+8>>2];o[L+64+12>>2]=o[e+12>>2];l[L+80>>2]=r;l[L+84>>2]=0.0;l[L+88>>2]=0.0;l[L+92>>2]=0.0;o[L+112>>2]=0;i[L+116>>0]=0;o[L+120>>2]=0;o[L+120+4>>2]=0;o[L+120+8>>2]=0;o[L+120+12>>2]=0;o[L+120+16>>2]=0;o[L+120+20>>2]=0;o[L+120+24>>2]=0;o[L+120+28>>2]=0;l[L+48>>2]=g;l[L+52>>2]=b;l[L+56>>2]=v;l[L+60>>2]=0.0;o[L+32>>2]=o[n>>2];o[L+32+4>>2]=o[n+4>>2];o[L+32+8>>2]=o[n+8>>2];o[L+32+12>>2]=o[n+12>>2];s=+l[C+752>>2];n=o[C+748>>2]|0;if((n|0)>0){m=0;_=-1;u=s*s;while(1){s=+l[C+4+(m*184|0)>>2]-y;a=+l[C+4+(m*184|0)+4>>2]-x;c=+l[C+4+(m*184|0)+8>>2]-w;e=s*s+a*a+c*c<u;_=e?m:_;m=m+1|0;if((m|0)==(n|0))break;else u=e?s*s+a*a+c*c:u}}else _=-1;m=o[M>>2]|0;M=o[S>>2]|0;s=+l[m+224>>2]*+l[M+224>>2];s=s<-10.0?-10.0:s;l[L+84>>2]=s>10.0?10.0:s;l[L+92>>2]=+l[m+228>>2]*+l[M+228>>2];s=+l[m+232>>2]*+l[M+232>>2];s=s<-10.0?-10.0:s;l[L+88>>2]=s>10.0?10.0:s;s=+l[L+72>>2];M=+G(+s)>.7071067690849304;u=+l[L+68>>2];if(M){w=1.0/+V(+(s*s+u*u));f=+l[L+64>>2];p=-(w*u*f);f=f*-(w*s);d=-(w*s);a=(s*s+u*u)*w;c=0.0;s=w*u}else{a=+l[L+64>>2];c=1.0/+V(+(a*a+u*u));p=s*-(u*c);f=(a*a+u*u)*c;d=c*a;a=-(c*a*s);c=-(u*c);s=0.0}l[L+152>>2]=c;l[L+156>>2]=d;l[L+160>>2]=s;l[L+168>>2]=a;l[L+172>>2]=p;l[L+176>>2]=f;S=o[t+20>>2]|0;m=o[t+16>>2]|0;M=o[t+28>>2]|0;t=o[t+24>>2]|0;o[L+96>>2]=(A|0)!=(T|0)?S:m;o[L+100>>2]=(A|0)!=(T|0)?m:S;o[L+104>>2]=(A|0)!=(T|0)?M:t;o[L+108>>2]=(A|0)!=(T|0)?t:M;if((_|0)>-1){t=C+4+(_*184|0)+148|0;A=o[t>>2]|0;n=C+4+(_*184|0)+120|0;e=o[n>>2]|0;S=C+4+(_*184|0)+124|0;m=o[S>>2]|0;T=C+4+(_*184|0)+128|0;M=o[T>>2]|0;E=C+4+(_*184|0)+112|0;R=o[E>>2]|0;Ol(C+4+(_*184|0)|0,L|0,184)|0;o[E>>2]=R;o[n>>2]=e;o[S>>2]=m;o[T>>2]=M;o[t>>2]=A}else hx(C,L)|0;h=L;return}function UE(t){t=t|0;var e=0;o[t>>2]=4488;e=o[t+56>>2]|0;if(e|0){if(i[t+60>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+56>>2]=0}i[t+60>>0]=1;o[t+56>>2]=0;o[t+48>>2]=0;o[t+52>>2]=0;e=o[t+36>>2]|0;if(e|0){if(i[t+40>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+36>>2]=0}i[t+40>>0]=1;o[t+36>>2]=0;o[t+28>>2]=0;o[t+32>>2]=0;e=o[t+16>>2]|0;if(!e){e=t+12|0;i[t+20>>0]=1;o[t+16>>2]=0;o[t+8>>2]=0;o[e>>2]=0;return}if(i[t+20>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+16>>2]=0;e=t+12|0;i[t+20>>0]=1;o[t+16>>2]=0;o[t+8>>2]=0;o[e>>2]=0;return}function zE(t){t=t|0;UE(t);Kc(t);return}function GE(t,e,n){t=t|0;e=e|0;n=n|0;var r=0,s=0,a=0,c=0,u=0,h=0,p=0;r=o[e+8>>2]|0;if((r|0)>0){s=o[e+16>>2]|0;c=0;n=0;do{a=o[s+(c<<2)>>2]|0;if(!(o[a+204>>2]&3)){o[a+208>>2]=n;n=n+1|0}o[a+212>>2]=-1;l[a+248>>2]=1.0;c=c+1|0}while((c|0)!=(r|0));c=n}else c=0;a=o[t+8>>2]|0;if((a|0)<(c|0)){if((o[t+12>>2]|0)<(c|0)){if(!c){n=0;r=a}else{o[5637]=(o[5637]|0)+1;n=Jc((c<<3|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}r=o[t+8>>2]|0}if((r|0)>0){s=0;do{p=(o[t+16>>2]|0)+(s<<3)|0;u=o[p+4>>2]|0;h=n+(s<<3)|0;o[h>>2]=o[p>>2];o[h+4>>2]=u;s=s+1|0}while((s|0)!=(r|0))}r=o[t+16>>2]|0;if(r|0){if(i[t+20>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0)}o[t+16>>2]=0}i[t+20>>0]=1;o[t+16>>2]=n;o[t+12>>2]=c;r=t+16|0}else r=t+16|0;n=a;do{p=(o[r>>2]|0)+(n<<3)|0;o[p>>2]=0;o[p+4>>2]=0;n=n+1|0}while((n|0)!=(c|0))}o[t+8>>2]=c;if((c|0)>0){n=o[t+16>>2]|0;r=0;do{o[n+(r<<3)>>2]=r;o[n+(r<<3)+4>>2]=1;r=r+1|0}while((r|0)!=(c|0))}n=o[e+68>>2]|0;n=uk[o[(o[n>>2]|0)+36>>2]&127](n)|0;h=uk[o[(o[n>>2]|0)+36>>2]&127](n)|0;if(!h)return;e=uk[o[(o[n>>2]|0)+20>>2]&127](n)|0;if((h|0)<=0)return;u=0;do{n=o[o[e+(u<<4)>>2]>>2]|0;r=o[o[e+(u<<4)+4>>2]>>2]|0;if((n|0?r|0?(o[n+204>>2]&7|0)==0:0:0)?(o[r+204>>2]&7|0)==0:0){a=o[n+208>>2]|0;n=o[r+208>>2]|0;c=o[t+16>>2]|0;r=o[c+(a<<3)>>2]|0;if((r|0)!=(a|0)){s=c+(a<<3)|0;do{a=c+(r<<3)|0;o[s>>2]=o[a>>2];a=o[a>>2]|0;s=c+(a<<3)|0;r=o[s>>2]|0}while((a|0)!=(r|0))}r=o[c+(n<<3)>>2]|0;if((r|0)!=(n|0)){s=c+(n<<3)|0;do{n=c+(r<<3)|0;o[s>>2]=o[n>>2];n=o[n>>2]|0;s=c+(n<<3)|0;r=o[s>>2]|0}while((n|0)!=(r|0))}if((a|0)!=(n|0)){o[c+(a<<3)>>2]=n;p=c+(n<<3)+4|0;o[p>>2]=(o[p>>2]|0)+(o[c+(a<<3)+4>>2]|0)}}u=u+1|0}while((u|0)!=(h|0));return}function VE(t,e){t=t|0;e=e|0;var n=0,i=0,r=0,s=0,a=0,c=0,l=0,u=0;u=o[e+8>>2]|0;if((u|0)<=0)return;c=o[e+16>>2]|0;l=0;e=0;do{a=o[c+(l<<2)>>2]|0;if(!(o[a+204>>2]&3)){s=o[t+16>>2]|0;i=s+(e<<3)|0;n=o[i>>2]|0;if((n|0)==(e|0))n=e;else{r=n;do{n=s+(r<<3)|0;o[i>>2]=o[n>>2];n=o[n>>2]|0;i=s+(n<<3)|0;r=o[i>>2]|0}while((n|0)!=(r|0))}o[a+208>>2]=n;o[s+(e<<3)+4>>2]=l;o[a+212>>2]=-1;e=e+1|0}else{o[a+208>>2]=-1;o[a+212>>2]=-2}l=l+1|0}while((l|0)!=(u|0));return}function WE(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;var s=0,a=0,c=0,u=0,p=0,f=0,d=0,_=0,m=0,g=0,b=0,v=0,y=0;y=h;h=h+16|0;Wh(12530);s=o[t+28>>2]|0;if((s|0)<0){if((o[t+32>>2]|0)<0){a=o[t+36>>2]|0;if(a|0){if(i[t+40>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0)}o[t+36>>2]=0}i[t+40>>0]=1;o[t+36>>2]=0;o[t+32>>2]=0}do{o[(o[t+36>>2]|0)+(s<<2)>>2]=0;s=s+1|0}while((s|0)!=0)}o[t+28>>2]=0;u=o[t+8>>2]|0;if((u|0)>0){p=o[t+16>>2]|0;d=0;do{f=p+(d<<3)|0;s=o[f>>2]|0;if((s|0)==(d|0))s=d;else{a=s;c=f;do{s=p+(a<<3)|0;o[c>>2]=o[s>>2];s=o[s>>2]|0;c=p+(s<<3)|0;a=o[c>>2]|0}while((s|0)!=(a|0))}o[f>>2]=s;d=d+1|0}while((d|0)!=(u|0));if((u|0)>1){nR(t+4|0,0,u+-1|0);u=o[t+8>>2]|0}if((u|0)>0){d=o[t+16>>2]|0;a=0;while(1){_=o[d+(a<<3)>>2]|0;b=a;while(1){g=b+1|0;if((g|0)>=(u|0)){f=0;break}if((o[d+(g<<3)>>2]|0)==(_|0))b=g;else{f=1;break}}t:do{if((a|0)<=(b|0)){m=o[n+16>>2]|0;s=1;p=a;while(1){c=o[m+(o[d+(p<<3)+4>>2]<<2)>>2]|0;if((o[c+208>>2]|0)==(_|0)){c=o[c+216>>2]|0;s=(c|0)!=4&(s&(c|0)!=1)}if((p|0)<(b|0))p=p+1|0;else break}if(s){s=d;while(1){s=o[m+(o[s+(a<<3)+4>>2]<<2)>>2]|0;if((o[s+208>>2]|0)==(_|0)?(o[s+216>>2]&-2|0)!=4:0)o[s+216>>2]=2;if((a|0)>=(b|0))break t;s=o[t+16>>2]|0;a=a+1|0}}else{s=d;while(1){s=o[m+(o[s+(a<<3)+4>>2]<<2)>>2]|0;if((o[s+208>>2]|0)==(_|0)?(o[s+216>>2]|0)==2:0){o[s+216>>2]=3;l[s+220>>2]=0.0}if((a|0)>=(b|0))break t;s=o[t+16>>2]|0;a=a+1|0}}}}while(0);if(f)a=g;else break}}}p=uk[o[(o[e>>2]|0)+36>>2]&127](e)|0;if((p|0)>0){f=0;do{u=Ek[o[(o[e>>2]|0)+40>>2]&31](e,f)|0;a=o[u+740>>2]|0;c=o[u+744>>2]|0;if((a|0)!=0?(o[a+216>>2]|0)!=2:0)s=44;else s=42;if(((s|0)==42?(s=0,c|0):0)?(o[c+216>>2]|0)!=2:0)s=44;if((s|0)==44){s=o[a+204>>2]|0;if((s&2|0?(s&4|0)==0?(o[a+216>>2]|0)!=2:0:0)?(o[c+204>>2]&3|0)==0:0){if((o[c+216>>2]&-2|0)!=4)o[c+216>>2]=1;l[c+220>>2]=0.0}b=o[c+204>>2]|0;if(b&2|0?(b&4|s&3|0)==0?(o[c+216>>2]|0)!=2:0:0){if((o[a+216>>2]&-2|0)!=4)o[a+216>>2]=1;l[a+220>>2]=0.0}if(i[t+64>>0]|0?vk[o[(o[e>>2]|0)+28>>2]&63](e,a,c)|0:0){s=o[t+28>>2]|0;if((s|0)==(o[t+32>>2]|0)?(v=s|0?s<<1:1,(s|0)<(v|0)):0){if(!v)c=0;else{o[5637]=(o[5637]|0)+1;s=Jc((v<<2|3)+16|0)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}c=s;s=o[t+28>>2]|0}if((s|0)>0){a=0;do{o[c+(a<<2)>>2]=o[(o[t+36>>2]|0)+(a<<2)>>2];a=a+1|0}while((a|0)!=(s|0))}a=o[t+36>>2]|0;if(a){if(i[t+40>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0);s=o[t+28>>2]|0}o[t+36>>2]=0}i[t+40>>0]=1;o[t+36>>2]=c;o[t+32>>2]=v}o[(o[t+36>>2]|0)+(s<<2)>>2]=u;o[t+28>>2]=s+1}}f=f+1|0}while((f|0)<(p|0))}s=o[2006]|0;v=(o[s+16>>2]|0)+-1|0;o[s+16>>2]=v;do{if(!v){if(o[s+4>>2]|0){fe(y|0,0)|0;v=o[5649]|0;l[s+8>>2]=+l[s+8>>2]+ +(((o[y+4>>2]|0)-(o[v+4>>2]|0)+(((o[y>>2]|0)-(o[v>>2]|0)|0)*1e6|0)-(o[s+12>>2]|0)|0)>>>0)/1.0e3;if(o[s+16>>2]|0)break;s=o[2006]|0}o[2006]=o[s+20>>2]}}while(0);v=o[t+8>>2]|0;Wh(12558);if(i[t+64>>0]|0){g=o[t+28>>2]|0;if((g|0)>1)HE(t+24|0,0,g+-1|0);if((v|0)>0){_=1;a=0;b=0;while(1){s=o[t+16>>2]|0;m=o[s+(a<<3)>>2]|0;t:do{if((a|0)<(v|0)){p=o[t+48>>2]|0;c=o[t+52>>2]|0;d=1;while(1){f=o[(o[n+16>>2]|0)+(o[s+(a<<3)+4>>2]<<2)>>2]|0;if((p|0)==(c|0)){p=c|0?c<<1:1;if((c|0)<(p|0)){if(!p)s=0;else{o[5637]=(o[5637]|0)+1;s=Jc((p<<2|3)+16|0)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}c=o[t+48>>2]|0}if((c|0)>0){u=0;do{o[s+(u<<2)>>2]=o[(o[t+56>>2]|0)+(u<<2)>>2];u=u+1|0}while((u|0)!=(c|0))}u=o[t+56>>2]|0;if(u){if(i[t+60>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[u+-4>>2]|0);c=o[t+48>>2]|0}o[t+56>>2]=0}i[t+60>>0]=1;o[t+56>>2]=s;o[t+52>>2]=p;s=c;c=p}else s=c}else s=p;o[(o[t+56>>2]|0)+(s<<2)>>2]=f;p=s+1|0;o[t+48>>2]=p;u=o[f+216>>2]|0;u=d&((u|0)==2|(u|0)==5);a=a+1|0;if((a|0)>=(v|0)){d=a;break t}s=o[t+16>>2]|0;if((o[s+(a<<3)>>2]|0)!=(m|0)){d=a;break}else d=u}}else{d=a;u=1}}while(0);if((b|0)<(g|0)){f=o[t+36>>2]|0;s=f+(b<<2)|0;c=o[s>>2]|0;a=o[(o[c+740>>2]|0)+208>>2]|0;if((a|0)<=-1)a=o[(o[c+744>>2]|0)+208>>2]|0;if((a|0)==(m|0)){p=b;do{p=p+1|0;if((p|0)>=(g|0))break;c=o[f+(p<<2)>>2]|0;a=o[(o[c+740>>2]|0)+208>>2]|0;if((a|0)<=-1)a=o[(o[c+744>>2]|0)+208>>2]|0}while((m|0)==(a|0));c=p;a=p-b|0}else{c=_;a=0;s=0}}else{c=_;a=0;s=0}if(!u)yk[o[(o[r>>2]|0)+8>>2]&7](r,o[t+56>>2]|0,o[t+48>>2]|0,s,a,m);b=(a|0)==0?b:c;s=o[t+48>>2]|0;if((s|0)<0){if((o[t+52>>2]|0)<0){a=o[t+56>>2]|0;if(a|0){if(i[t+60>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0)}o[t+56>>2]=0}i[t+60>>0]=1;o[t+56>>2]=0;o[t+52>>2]=0}do{o[(o[t+56>>2]|0)+(s<<2)>>2]=0;s=s+1|0}while((s|0)!=0)}o[t+48>>2]=0;if((d|0)>=(v|0))break;else{_=c;a=d}}}}else{v=uk[o[(o[e>>2]|0)+44>>2]&127](e)|0;t=uk[o[(o[e>>2]|0)+36>>2]&127](e)|0;yk[o[(o[r>>2]|0)+8>>2]&7](r,o[n+16>>2]|0,o[n+8>>2]|0,v,t,-1)}s=o[2006]|0;t=(o[s+16>>2]|0)+-1|0;o[s+16>>2]=t;if(t|0){h=y;return}do{if(o[s+4>>2]|0){fe(y|0,0)|0;t=o[5649]|0;l[s+8>>2]=+l[s+8>>2]+ +(((o[y+4>>2]|0)-(o[t+4>>2]|0)+(((o[y>>2]|0)-(o[t>>2]|0)|0)*1e6|0)-(o[s+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[s+16>>2]|0)){s=o[2006]|0;break}else{h=y;return}}}while(0);o[2006]=o[s+20>>2];h=y;return}function HE(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0,s=0,a=0,c=0,l=0,u=0,h=0;while(1){u=o[t+12>>2]|0;h=o[u+(((e+n|0)/2|0)<<2)>>2]|0;i=e;r=n;while(1){l=o[(o[h+740>>2]|0)+208>>2]|0;if((l|0)>-1)while(1){a=o[u+(i<<2)>>2]|0;s=o[(o[a+740>>2]|0)+208>>2]|0;if((s|0)<=-1)s=o[(o[a+744>>2]|0)+208>>2]|0;if((s|0)<(l|0))i=i+1|0;else break}else{c=o[(o[h+744>>2]|0)+208>>2]|0;while(1){a=o[u+(i<<2)>>2]|0;s=o[(o[a+740>>2]|0)+208>>2]|0;if((s|0)<=-1)s=o[(o[a+744>>2]|0)+208>>2]|0;if((s|0)<(c|0))i=i+1|0;else break}}if((l|0)>-1)while(1){a=o[u+(r<<2)>>2]|0;s=o[(o[a+740>>2]|0)+208>>2]|0;if((s|0)<=-1)s=o[(o[a+744>>2]|0)+208>>2]|0;if((l|0)<(s|0))r=r+-1|0;else break}else{c=o[(o[h+744>>2]|0)+208>>2]|0;while(1){a=o[u+(r<<2)>>2]|0;s=o[(o[a+740>>2]|0)+208>>2]|0;if((s|0)<=-1)s=o[(o[a+744>>2]|0)+208>>2]|0;if((c|0)<(s|0))r=r+-1|0;else break}}if((i|0)<=(r|0)){c=u+(i<<2)|0;l=o[c>>2]|0;o[c>>2]=o[u+(r<<2)>>2];o[(o[t+12>>2]|0)+(r<<2)>>2]=l;i=i+1|0;r=r+-1|0}if((i|0)>(r|0))break;u=o[t+12>>2]|0}if((r|0)>(e|0))HE(t,e,r);if((i|0)<(n|0))e=i;else break}return}function XE(t){t=t|0;var e=0;o[t>>2]=4512;if(!(i[t+8>>0]|0))return;e=o[t+12>>2]|0;if(!e)return;t=o[t+4>>2]|0;ck[o[(o[t>>2]|0)+16>>2]&127](t,e);return}function qE(t){t=t|0;var e=0,n=0;o[t>>2]=4512;if(!(i[t+8>>0]|0)){Kc(t);return}e=o[t+12>>2]|0;if(!e){Kc(t);return}n=o[t+4>>2]|0;ck[o[(o[n>>2]|0)+16>>2]&127](n,e);Kc(t);return}function YE(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;var s=0.0,a=0.0,c=0.0,u=0.0,p=0.0,f=0.0,d=0.0,_=0,m=0,g=0;m=h;h=h+32|0;_=o[t+12>>2]|0;if(!_){h=m;return}o[r+4>>2]=_;t=o[e+4>>2]|0;g=o[n+4>>2]|0;e=o[e+12>>2]|0;i=o[n+12>>2]|0;s=+l[e+48>>2]-+l[i+48>>2];a=+l[e+52>>2]-+l[i+52>>2];u=+l[e+56>>2]-+l[i+56>>2];p=+V(+(s*s+a*a+u*u));f=+l[g+32>>2]*+l[g+16>>2];d=+l[t+32>>2]*+l[t+16>>2]+f;if(p>d){if(!(o[_+748>>2]|0)){h=m;return}t=o[_+740>>2]|0;e=o[(o[r+8>>2]|0)+8>>2]|0;i=o[(o[r+12>>2]|0)+8>>2]|0;if((t|0)==(e|0)){px(_,t+4|0,i+4|0);h=m;return}else{px(_,i+4|0,e+4|0);h=m;return}}o[m+16>>2]=1065353216;o[m+16+4>>2]=0;o[m+16+8>>2]=0;l[m+16+12>>2]=0.0;if(p>1.1920928955078125e-07){l[m+16>>2]=s*(1.0/p);l[m+16+4>>2]=a*(1.0/p);l[m+16+8>>2]=u*(1.0/p);l[m+16+12>>2]=0.0;c=s*(1.0/p);a=a*(1.0/p);s=u*(1.0/p)}else{c=1.0;a=0.0;s=0.0}a=f*a+ +l[i+52>>2];u=f*s+ +l[i+56>>2];l[m>>2]=f*c+ +l[i+48>>2];l[m+4>>2]=a;l[m+8>>2]=u;l[m+12>>2]=0.0;jk[o[(o[r>>2]|0)+16>>2]&15](r,m+16|0,m,p-d);t=o[r+4>>2]|0;do{if(o[t+748>>2]|0){e=o[t+740>>2]|0;n=o[(o[r+8>>2]|0)+8>>2]|0;i=o[(o[r+12>>2]|0)+8>>2]|0;if((e|0)==(n|0)){px(t,e+4|0,i+4|0);break}else{px(t,i+4|0,n+4|0);break}}}while(0);h=m;return}function ZE(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;return 1.0}function JE(t,e){t=t|0;e=e|0;var n=0,r=0,s=0,a=0;n=o[t+12>>2]|0;if(!n)return;if(!(i[t+8>>0]|0))return;r=o[e+4>>2]|0;if((r|0)==(o[e+8>>2]|0)?(a=r|0?r<<1:1,(r|0)<(a|0)):0){if(!a)n=0;else{o[5637]=(o[5637]|0)+1;n=Jc((a<<2|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}r=o[e+4>>2]|0}if((r|0)>0){s=0;do{o[n+(s<<2)>>2]=o[(o[e+12>>2]|0)+(s<<2)>>2];s=s+1|0}while((s|0)!=(r|0))}s=o[e+12>>2]|0;if(s){if(i[e+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0);r=o[e+4>>2]|0}o[e+12>>2]=0}i[e+16>>0]=1;o[e+12>>2]=n;o[e+8>>2]=a;n=o[t+12>>2]|0}o[(o[e+12>>2]|0)+(r<<2)>>2]=n;o[e+4>>2]=r+1;return}function KE(t){t=t|0;var e=0;o[t>>2]=4540;if(!(i[t+8>>0]|0))return;e=o[t+12>>2]|0;if(!e)return;t=o[t+4>>2]|0;ck[o[(o[t>>2]|0)+16>>2]&127](t,e);return}function $E(t){t=t|0;var e=0,n=0;o[t>>2]=4540;if(!(i[t+8>>0]|0)){Kc(t);return}e=o[t+12>>2]|0;if(!e){Kc(t);return}n=o[t+4>>2]|0;ck[o[(o[n>>2]|0)+16>>2]&127](n,e);Kc(t);return}function QE(t,e,n,r,s){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;var a=0,c=0,u=0,p=0,f=0,d=0,_=0;u=h;h=h+160|0;a=o[t+12>>2]|0;if(!a){h=u;return}p=(i[t+16>>0]|0)!=0;f=p?n:e;n=p?e:n;_=o[f+4>>2]|0;d=o[n+4>>2]|0;o[s+4>>2]=a;e=o[a+752>>2]|0;o[u+136>>2]=4568;o[u+136+4>>2]=_;o[u+136+8>>2]=d;o[u+136+12>>2]=e;l[u+128>>2]=999999984306749440.0;e=o[f+12>>2]|0;o[u>>2]=o[e>>2];o[u+4>>2]=o[e+4>>2];o[u+8>>2]=o[e+8>>2];o[u+12>>2]=o[e+12>>2];o[u+16>>2]=o[e+16>>2];o[u+16+4>>2]=o[e+16+4>>2];o[u+16+8>>2]=o[e+16+8>>2];o[u+16+12>>2]=o[e+16+12>>2];o[u+32>>2]=o[e+32>>2];o[u+32+4>>2]=o[e+32+4>>2];o[u+32+8>>2]=o[e+32+8>>2];o[u+32+12>>2]=o[e+32+12>>2];o[u+48>>2]=o[e+48>>2];o[u+48+4>>2]=o[e+48+4>>2];o[u+48+8>>2]=o[e+48+8>>2];o[u+48+12>>2]=o[e+48+12>>2];n=o[n+12>>2]|0;o[u+64>>2]=o[n>>2];o[u+64+4>>2]=o[n+4>>2];o[u+64+8>>2]=o[n+8>>2];o[u+64+12>>2]=o[n+12>>2];o[u+80>>2]=o[n+16>>2];o[u+80+4>>2]=o[n+16+4>>2];o[u+80+8>>2]=o[n+16+8>>2];o[u+80+12>>2]=o[n+16+12>>2];o[u+96>>2]=o[n+32>>2];o[u+96+4>>2]=o[n+32+4>>2];o[u+96+8>>2]=o[n+32+8>>2];o[u+96+12>>2]=o[n+32+12>>2];o[u+112>>2]=o[n+48>>2];o[u+112+4>>2]=o[n+48+4>>2];o[u+112+8>>2]=o[n+48+8>>2];o[u+112+12>>2]=o[n+48+12>>2];rR(u+136|0,u,s,o[r+20>>2]|0,p);do{if(i[t+8>>0]|0?(c=o[s+4>>2]|0,o[c+748>>2]|0):0){e=o[c+740>>2]|0;n=o[(o[s+8>>2]|0)+8>>2]|0;a=o[(o[s+12>>2]|0)+8>>2]|0;if((e|0)==(n|0)){px(c,e+4|0,a+4|0);break}else{px(c,a+4|0,n+4|0);break}}}while(0);h=u;return}function tR(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;return 1.0}function eR(t,e){t=t|0;e=e|0;var n=0,r=0,s=0,a=0;n=o[t+12>>2]|0;if(!n)return;if(!(i[t+8>>0]|0))return;r=o[e+4>>2]|0;if((r|0)==(o[e+8>>2]|0)?(a=r|0?r<<1:1,(r|0)<(a|0)):0){if(!a)n=0;else{o[5637]=(o[5637]|0)+1;n=Jc((a<<2|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}r=o[e+4>>2]|0}if((r|0)>0){s=0;do{o[n+(s<<2)>>2]=o[(o[e+12>>2]|0)+(s<<2)>>2];s=s+1|0}while((s|0)!=(r|0))}s=o[e+12>>2]|0;if(s){if(i[e+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0);r=o[e+4>>2]|0}o[e+12>>2]=0}i[e+16>>0]=1;o[e+12>>2]=n;o[e+8>>2]=a;n=o[t+12>>2]|0}o[(o[e+12>>2]|0)+(r<<2)>>2]=n;o[e+4>>2]=r+1;return}function nR(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0,s=0,a=0,c=0,l=0,u=0,h=0,p=0;while(1){l=o[t+12>>2]|0;u=o[l+(((e+n|0)/2|0)<<3)>>2]|0;i=e;r=n;while(1){while(1){a=i+1|0;if((o[l+(i<<3)>>2]|0)<(u|0))i=a;else{c=r;break}}while(1){s=l+(c<<3)|0;r=c+-1|0;if((u|0)<(o[s>>2]|0))c=r;else break}if((i|0)>(c|0))r=c;else{i=l+(i<<3)|0;h=o[i>>2]|0;l=o[i+4>>2]|0;p=o[s+4>>2]|0;o[i>>2]=o[s>>2];o[i+4>>2]=p;i=(o[t+12>>2]|0)+(c<<3)|0;o[i>>2]=h;o[i+4>>2]=l;i=a}if((i|0)>(r|0))break;l=o[t+12>>2]|0}if((r|0)>(e|0))nR(t,e,r);if((i|0)<(n|0))e=i;else break}return}function iR(t){t=t|0;Kc(t);return}function rR(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;var s=0.0,a=0.0,c=0.0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0,T=0.0,A=0.0,L=0.0,E=0.0,R=0,I=0;R=h;h=h+64|0;T=+l[e+48>>2]-+l[e+112>>2];s=+l[e+52>>2]-+l[e+116>>2];E=+l[e+56>>2]-+l[e+120>>2];A=T*+l[e+64>>2]+s*+l[e+80>>2]+E*+l[e+96>>2];L=T*+l[e+68>>2]+s*+l[e+84>>2]+E*+l[e+100>>2];E=T*+l[e+72>>2]+s*+l[e+88>>2]+E*+l[e+104>>2];i=o[t+8>>2]|0;C=o[t+4>>2]|0;s=+l[C+32>>2]*+l[C+16>>2];T=s+ +l[t+12>>2];_=+l[i+76>>2];m=+l[i+60>>2];g=+l[i+80>>2];b=+l[i+64>>2];v=+l[i+84>>2];y=+l[i+68>>2];x=+l[i+92>>2];w=+l[i+96>>2];S=+l[i+100>>2];c=(g-b)*(S-y)-(v-y)*(w-b);p=(v-y)*(x-m)-(_-m)*(S-y);d=(_-m)*(w-b)-(g-b)*(x-m);f=1.0/+V(+(d*d+(c*c+p*p)));a=(A-m)*(f*c)+(L-b)*(f*p)+f*d*(E-y);if(a<0.0){M=-a;u=-(f*c);a=-(f*p);c=-(f*d)}else{M=a;u=f*c;a=f*p;c=f*d}if(!(M<T)){h=R;return}d=(E-y)*((_-m)*a-(g-b)*u)+((A-m)*((g-b)*c-(v-y)*a)+(L-b)*((v-y)*u-(_-m)*c));v=(E-v)*((x-_)*a-(w-g)*u)+((A-_)*((w-g)*c-(S-v)*a)+(L-g)*((S-v)*u-(x-_)*c));S=(E-S)*((m-x)*a-(b-w)*u)+((A-x)*((b-w)*c-(y-S)*a)+(L-w)*((y-S)*u-(m-x)*c));if(!(S>0.0&(d>0.0&v>0.0))?!(S<=0.0&(d<=0.0&v<=0.0)):0){if((uk[o[(o[i>>2]|0)+100>>2]&127](i)|0)<=0){h=R;return}b=0.0;g=0.0;m=0.0;i=0;C=0;do{I=o[t+8>>2]|0;Wk[o[(o[I>>2]|0)+104>>2]&127](I,C,R+48|0,R+32|0);p=+l[R+48>>2];w=+l[R+48+4>>2];y=+l[R+48+8>>2];f=+l[R+32>>2]-p;S=+l[R+32+4>>2]-w;x=+l[R+32+8>>2]-y;do{if((A-p)*f+(L-w)*S+(E-y)*x>0.0)if((A-p)*f+(L-w)*S+(E-y)*x<f*f+S*S+x*x){M=((A-p)*f+(L-w)*S+(E-y)*x)/(f*f+S*S+x*x);d=A-p-f*M;_=L-w-S*M;v=E-y-x*M;break}else{d=A-p-f;_=L-w-S;v=E-y-x;M=1.0;break}else{d=A-p;_=L-w;v=E-y;M=0.0}}while(0);if(d*d+_*_+v*v<T*T){b=p+f*M;g=y+x*M;m=w+S*M;i=1}C=C+1|0;I=o[t+8>>2]|0}while((C|0)<(uk[o[(o[I>>2]|0)+100>>2]&127](I)|0));if(!(i&1)){h=R;return}else _=T*T}else{_=T*T;b=A-M*u;g=E-M*c;m=L-M*a}f=A-b;d=L-m;p=E-g;if(!(f*f+d*d+p*p<_)){h=R;return}if(f*f+d*d+p*p>1.1920928955078125e-07){a=+V(+(f*f+d*d+p*p));s=s-a;u=f*(1.0/a);c=p*(1.0/a);a=d*(1.0/a)}s=-s;if(r){S=+l[e+64>>2];M=+l[e+68>>2];T=+l[e+72>>2];A=S*u+M*a+T*c;d=+l[e+80>>2];_=+l[e+84>>2];v=+l[e+88>>2];L=u*d+a*_+c*v;y=+l[e+96>>2];x=+l[e+100>>2];w=+l[e+104>>2];E=u*y+a*x+c*w;l[R+48>>2]=-A;l[R+48+4>>2]=-L;l[R+48+8>>2]=-E;l[R+48+12>>2]=0.0;L=b*d+m*_+g*v+ +l[e+116>>2]+L*s;E=b*y+m*x+g*w+ +l[e+120>>2]+E*s;l[R+32>>2]=b*S+m*M+g*T+ +l[e+112>>2]+A*s;l[R+32+4>>2]=L;l[R+32+8>>2]=E;l[R+32+12>>2]=0.0;jk[o[(o[n>>2]|0)+16>>2]&15](n,R+48|0,R+32|0,s);h=R;return}else{I=o[(o[n>>2]|0)+16>>2]|0;M=+l[e+64>>2];T=+l[e+68>>2];A=+l[e+72>>2];y=+l[e+80>>2];x=+l[e+84>>2];L=+l[e+88>>2];w=+l[e+96>>2];S=+l[e+100>>2];E=+l[e+104>>2];l[R+16>>2]=M*u+T*a+A*c;l[R+16+4>>2]=u*y+a*x+c*L;l[R+16+8>>2]=u*w+a*S+c*E;l[R+16+12>>2]=0.0;L=b*y+m*x+g*L+ +l[e+116>>2];E=b*w+m*S+g*E+ +l[e+120>>2];l[R>>2]=b*M+m*T+g*A+ +l[e+112>>2];l[R+4>>2]=L;l[R+8>>2]=E;l[R+12>>2]=0.0;jk[I&15](n,R+16|0,R,s);h=R;return}}function oR(t){t=t|0;var e=0,n=0;o[t>>2]=6248;e=o[t+56>>2]|0;if(e|0?(sk[o[o[e>>2]>>2]&255](e),n=o[t+56>>2]|0,n|0):0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function sR(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0;a=+wk[o[(o[t>>2]|0)+48>>2]&15](t);p=a+ +l[t+32>>2];u=a+ +l[t+36>>2];a=a+ +l[t+40>>2];y=+G(+ +l[e>>2]);v=+G(+ +l[e+4>>2]);b=+G(+ +l[e+8>>2]);m=+G(+ +l[e+16>>2]);_=+G(+ +l[e+20>>2]);d=+G(+ +l[e+24>>2]);h=+G(+ +l[e+32>>2]);c=+G(+ +l[e+36>>2]);s=+G(+ +l[e+40>>2]);g=+l[e+48>>2];f=+l[e+52>>2];r=+l[e+56>>2];l[n>>2]=g-(p*y+u*v+a*b);l[n+4>>2]=f-(p*m+u*_+a*d);l[n+8>>2]=r-(p*h+u*c+a*s);l[n+12>>2]=0.0;l[i>>2]=p*y+u*v+a*b+g;l[i+4>>2]=p*m+u*_+a*d+f;l[i+8>>2]=p*h+u*c+a*s+r;l[i+12>>2]=0.0;return}function aR(t,e){t=t|0;e=e|0;var n=0.0,i=0.0,r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0,p=0.0;u=+wk[o[(o[t>>2]|0)+48>>2]&15](t);s=+wk[o[(o[t>>2]|0)+48>>2]&15](t);n=+wk[o[(o[t>>2]|0)+48>>2]&15](t);p=(u+ +l[t+32>>2])/+l[t+16>>2];c=(s+ +l[t+36>>2])/+l[t+20>>2];r=(n+ +l[t+40>>2])/+l[t+24>>2];h=+G(+ +l[e>>2]);a=+G(+ +l[e+4>>2]);i=+G(+ +l[e+8>>2]);l[t+16>>2]=h;l[t+20>>2]=a;l[t+24>>2]=i;l[t+28>>2]=0.0;l[t+32>>2]=p*h-u;l[t+36>>2]=c*a-s;l[t+40>>2]=r*i-n;l[t+44>>2]=0.0;return}function cR(t,e,n){t=t|0;e=+e;n=n|0;var i=0.0,r=0.0,s=0.0,a=0.0,c=0.0;a=+l[t+32>>2];r=+l[t+36>>2];c=+l[t+40>>2];s=+wk[o[(o[t>>2]|0)+48>>2]&15](t);i=+wk[o[(o[t>>2]|0)+48>>2]&15](t);c=(c+ +wk[o[(o[t>>2]|0)+48>>2]&15](t))*2.0;l[n>>2]=e/12.0*((r+i)*2.0*((r+i)*2.0)+c*c);l[n+4>>2]=e/12.0*((a+s)*2.0*((a+s)*2.0)+c*c);l[n+8>>2]=e/12.0*((a+s)*2.0*((a+s)*2.0)+(r+i)*2.0*((r+i)*2.0));l[n+12>>2]=0.0;return}function lR(t){t=t|0;return 12683}function uR(t,e){t=t|0;e=+e;var n=0.0,i=0.0,r=0.0,s=0.0,a=0.0;s=+wk[o[(o[t>>2]|0)+48>>2]&15](t);i=+wk[o[(o[t>>2]|0)+48>>2]&15](t);a=+wk[o[(o[t>>2]|0)+48>>2]&15](t);s=s+ +l[t+32>>2];i=i+ +l[t+36>>2];a=a+ +l[t+40>>2];l[t+48>>2]=e;r=+wk[o[(o[t>>2]|0)+48>>2]&15](t);n=+wk[o[(o[t>>2]|0)+48>>2]&15](t);e=a-+wk[o[(o[t>>2]|0)+48>>2]&15](t);l[t+32>>2]=s-r;l[t+36>>2]=i-n;l[t+40>>2]=e;l[t+44>>2]=0.0;return}function hR(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,s=0.0,a=0.0,c=0.0;a=+l[e+32>>2];c=+l[e+36>>2];i=+l[e+40>>2];s=+wk[o[(o[e>>2]|0)+48>>2]&15](e);r=+wk[o[(o[e>>2]|0)+48>>2]&15](e);i=i+ +wk[o[(o[e>>2]|0)+48>>2]&15](e);r=+l[n+4>>2]>=0.0?c+r:-(c+r);i=+l[n+8>>2]>=0.0?i:-i;l[t>>2]=+l[n>>2]>=0.0?a+s:-(a+s);l[t+4>>2]=r;l[t+8>>2]=i;l[t+12>>2]=0.0;return}function pR(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,o=0.0;o=+l[e+32>>2];r=+l[e+36>>2];r=+l[n+4>>2]>=0.0?r:-r;i=+l[e+40>>2];i=+l[n+8>>2]>=0.0?i:-i;l[t>>2]=+l[n>>2]>=0.0?o:-o;l[t+4>>2]=r;l[t+8>>2]=i;l[t+12>>2]=0.0;return}function fR(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0,o=0.0,s=0.0,a=0.0;if((i|0)<=0)return;r=0;do{a=+l[t+32>>2];s=+l[t+36>>2];s=+l[e+(r<<4)+4>>2]>=0.0?s:-s;o=+l[t+40>>2];o=+l[e+(r<<4)+8>>2]>=0.0?o:-o;l[n+(r<<4)>>2]=+l[e+(r<<4)>>2]>=0.0?a:-a;l[n+(r<<4)+4>>2]=s;l[n+(r<<4)+8>>2]=o;l[n+(r<<4)+12>>2]=0.0;r=r+1|0}while((r|0)!=(i|0));return}function dR(t){t=t|0;return 6}function _R(t,e,n){t=t|0;e=e|0;n=n|0;switch(e|0){case 0:{o[n>>2]=1065353216;o[n+4>>2]=0;o[n+8>>2]=0;l[n+12>>2]=0.0;return}case 1:{o[n>>2]=-1082130432;o[n+4>>2]=0;o[n+8>>2]=0;l[n+12>>2]=0.0;return}case 2:{o[n>>2]=0;o[n+4>>2]=1065353216;o[n+8>>2]=0;l[n+12>>2]=0.0;return}case 3:{o[n>>2]=0;o[n+4>>2]=-1082130432;o[n+8>>2]=0;l[n+12>>2]=0.0;return}case 4:{o[n>>2]=0;o[n+4>>2]=0;o[n+8>>2]=1065353216;l[n+12>>2]=0.0;return}case 5:{o[n>>2]=0;o[n+4>>2]=0;o[n+8>>2]=-1082130432;l[n+12>>2]=0.0;return}default:return}}function mR(t){t=t|0;return 8}function gR(t){t=t|0;return 12}function bR(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0;do{switch(e|0){case 0:{r=0;e=1;break}case 1:{r=0;e=2;break}case 2:{r=1;e=3;break}case 3:{r=2;break}case 4:{r=0;break}case 5:{r=1;break}case 6:{r=2;break}case 7:{r=3;break}case 8:{r=4;e=5;break}case 9:{r=4;e=6;break}case 10:{r=5;e=7;break}case 11:{r=6;e=7;break}default:{r=0;e=0}}}while(0);Uk[o[(o[t>>2]|0)+108>>2]&127](t,r,n);Uk[o[(o[t>>2]|0)+108>>2]&127](t,e,i);return}function vR(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,s=0.0,a=0.0,c=0.0;c=+l[t+32>>2];s=+l[t+36>>2];i=+l[t+40>>2];a=+wk[o[(o[t>>2]|0)+48>>2]&15](t);r=+wk[o[(o[t>>2]|0)+48>>2]&15](t);i=i+ +wk[o[(o[t>>2]|0)+48>>2]&15](t);l[n>>2]=+(e&1^1|0)*(c+a)-+(e&1|0)*(c+a);l[n+4>>2]=+(e>>>1&1^1|0)*(s+r)-+(e>>>1&1|0)*(s+r);l[n+8>>2]=+(e>>>2&1^1|0)*i-+(e>>>2&1|0)*i;l[n+12>>2]=0.0;return}function yR(t){t=t|0;return 6}function xR(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0,s=0.0,a=0.0,c=0.0,u=0,p=0;r=h;h=h+48|0;Uk[o[(o[t>>2]|0)+124>>2]&127](t,r+32|0,i);p=o[r+32>>2]|0;u=o[r+32+4>>2]|0;i=o[r+32+8>>2]|0;o[e>>2]=p;o[e+4>>2]=u;o[e+8>>2]=i;l[e+12>>2]=0.0;e=o[(o[t>>2]|0)+64>>2]|0;c=-(o[f>>2]=p,+l[f>>2]);a=-(o[f>>2]=u,+l[f>>2]);s=-(o[f>>2]=i,+l[f>>2]);l[r>>2]=c;l[r+4>>2]=a;l[r+8>>2]=s;l[r+12>>2]=0.0;Uk[e&127](r+16|0,t,r);o[n>>2]=o[r+16>>2];o[n+4>>2]=o[r+16+4>>2];o[n+8>>2]=o[r+16+8>>2];o[n+12>>2]=o[r+16+12>>2];h=r;return}function wR(t,e,n){t=t|0;e=e|0;n=+n;var i=0.0,r=0.0,o=0.0,s=0.0;r=+l[t+32>>2];o=+l[t+36>>2];s=+l[t+40>>2];i=+l[e>>2];if(!(i<=r+n)){e=0;return e|0}if(!(i>=-r-n)){e=0;return e|0}i=+l[e+4>>2];if(!(i<=o+n)){e=0;return e|0}if(!(i>=-o-n)){e=0;return e|0}i=+l[e+8>>2];if(!(i<=s+n)){e=0;return e|0}e=i>=-s-n;return e|0}function SR(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,s=0.0;r=+l[t+32>>2];s=+l[t+36>>2];i=+l[t+40>>2];switch(n|0){case 0:{o[e>>2]=1065353216;o[e+4>>2]=0;o[e+8>>2]=0;l[e+12>>2]=-r;return}case 1:{o[e>>2]=-1082130432;o[e+4>>2]=0;o[e+8>>2]=0;l[e+12>>2]=-r;return}case 2:{o[e>>2]=0;o[e+4>>2]=1065353216;o[e+8>>2]=0;l[e+12>>2]=-s;return}case 3:{o[e>>2]=0;o[e+4>>2]=-1082130432;o[e+8>>2]=0;l[e+12>>2]=-s;return}case 4:{o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=1065353216;l[e+12>>2]=-i;return}case 5:{o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=-1082130432;l[e+12>>2]=-i;return}default:return}}function MR(t,e){t=t|0;e=e|0;var n=0.0,i=0,r=0.0,s=0.0,a=0.0,c=0.0;o[t+8>>2]=0;o[t+12>>2]=-1;o[t+16>>2]=1065353216;o[t+20>>2]=1065353216;o[t+24>>2]=1065353216;l[t+28>>2]=0.0;l[t+48>>2]=.03999999910593033;o[t+56>>2]=0;o[t>>2]=4588;o[t+4>>2]=0;s=+l[e>>2];r=+l[e+4>>2];n=+l[e+8>>2];n=+l[e+((s<r?s<n?0:2:r<n?1:2)<<2)>>2]*.10000000149011612;if(n<.03999999910593033){c=+OS(t);a=+wk[o[(o[t>>2]|0)+48>>2]&15](t);s=+wk[o[(o[t>>2]|0)+48>>2]&15](t);c=c+ +l[t+32>>2];a=a+ +l[t+36>>2];s=s+ +l[t+40>>2];l[t+48>>2]=n;n=+wk[o[(o[t>>2]|0)+48>>2]&15](t);r=+wk[o[(o[t>>2]|0)+48>>2]&15](t);s=s-+wk[o[(o[t>>2]|0)+48>>2]&15](t);l[t+32>>2]=c-n;l[t+36>>2]=a-r;l[t+40>>2]=s;l[t+44>>2]=0.0;i=o[t>>2]|0}else i=4588;s=+wk[o[i+48>>2]&15](t);a=+wk[o[(o[t>>2]|0)+48>>2]&15](t);c=+wk[o[(o[t>>2]|0)+48>>2]&15](t);a=+l[e+4>>2]*+l[t+20>>2]-a;c=+l[e+8>>2]*+l[t+24>>2]-c;l[t+32>>2]=+l[e>>2]*+l[t+16>>2]-s;l[t+36>>2]=a;l[t+40>>2]=c;l[t+44>>2]=0.0;return}function CR(t){t=t|0;var e=0;o[t>>2]=4724;if(!(i[t+65>>0]|0))return;e=o[t+56>>2]|0;sk[o[o[e>>2]>>2]&255](e);t=o[t+56>>2]|0;if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function TR(t){t=t|0;var e=0;o[t>>2]=4724;if(i[t+65>>0]|0?(e=o[t+56>>2]|0,sk[o[o[e>>2]>>2]&255](e),e=o[t+56>>2]|0,e|0):0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function AR(t,e){t=t|0;e=e|0;var n=0,r=0.0,s=0.0,a=0.0,c=0;c=uk[o[(o[t>>2]|0)+28>>2]&127](t)|0;a=+l[c>>2]-+l[e>>2];s=+l[c+4>>2]-+l[e+4>>2];r=+l[c+8>>2]-+l[e+8>>2];if(!(a*a+s*s+r*r>1.1920928955078125e-07))return;Sy(t,e);if((i[t+65>>0]|0)!=0?(n=o[t+56>>2]|0,sk[o[o[n>>2]>>2]&255](n),n=o[t+56>>2]|0,(n|0)!=0):0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0);e=t+56|0}else e=t+56|0;o[5637]=(o[5637]|0)+1;n=Jc(191)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}o[n+52>>2]=284;i[n+60>>0]=0;i[n+80>>0]=1;o[n+76>>2]=0;o[n+68>>2]=0;o[n+72>>2]=0;i[n+100>>0]=1;o[n+96>>2]=0;o[n+88>>2]=0;o[n+92>>2]=0;i[n+120>>0]=1;o[n+116>>2]=0;o[n+108>>2]=0;o[n+112>>2]=0;i[n+140>>0]=1;o[n+136>>2]=0;o[n+128>>2]=0;o[n+132>>2]=0;o[n+144>>2]=0;i[n+164>>0]=1;o[n+160>>2]=0;o[n+152>>2]=0;o[n+156>>2]=0;o[n+168>>2]=0;o[n+4>>2]=-8388609;o[n+8>>2]=-8388609;o[n+12>>2]=-8388609;l[n+16>>2]=0.0;o[n+20>>2]=2139095039;o[n+24>>2]=2139095039;o[n+28>>2]=2139095039;l[n+32>>2]=0.0;o[n>>2]=6168;o[e>>2]=n;vT(n,o[t+52>>2]|0,(i[t+64>>0]|0)!=0,t+20|0,t+36|0);i[t+65>>0]=1;return}function LR(t){t=t|0;return 12712}function ER(t,e){t=t|0;e=+e;l[t+16>>2]=e;return}function RR(t){t=t|0;return+ +l[t+16>>2]}function IR(t){t=t|0;return 60}function PR(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0,s=0;i=Ek[o[(o[n>>2]|0)+40>>2]&31](n,t)|0;s=Ek[o[(o[n>>2]|0)+28>>2]&31](n,i)|0;o[e>>2]=s;if(s|0)ck[o[(o[n>>2]|0)+48>>2]&127](n,i);o[e+4>>2]=o[t+4>>2];s=o[t+52>>2]|0;vk[o[(o[s>>2]|0)+56>>2]&63](s,e+12|0,n)|0;o[e+52>>2]=o[t+16>>2];do{if((o[t+56>>2]|0)!=0?((uk[o[(o[n>>2]|0)+52>>2]&127](n)|0)&1|0)==0:0){i=Ek[o[(o[n>>2]|0)+24>>2]&31](n,o[t+56>>2]|0)|0;if(!i){o[e+40>>2]=Ek[o[(o[n>>2]|0)+28>>2]&31](n,o[t+56>>2]|0)|0;o[e+44>>2]=0;i=o[t+56>>2]|0;i=uk[o[(o[i>>2]|0)+12>>2]&127](i)|0;i=vk[o[(o[n>>2]|0)+16>>2]&63](n,i,1)|0;s=o[t+56>>2]|0;s=vk[o[(o[s>>2]|0)+16>>2]&63](s,o[i+8>>2]|0,n)|0;rk[o[(o[n>>2]|0)+20>>2]&31](n,i,s,1213612625,o[t+56>>2]|0);break}else{o[e+40>>2]=i;o[e+44>>2]=0;break}}else r=8}while(0);if((r|0)==8){o[e+40>>2]=0;o[e+44>>2]=0}if(o[t+60>>2]|0?((uk[o[(o[n>>2]|0)+52>>2]&127](n)|0)&2|0)==0:0){i=Ek[o[(o[n>>2]|0)+24>>2]&31](n,o[t+60>>2]|0)|0;if(!i){o[e+48>>2]=Ek[o[(o[n>>2]|0)+28>>2]&31](n,o[t+60>>2]|0)|0;e=o[t+60>>2]|0;e=uk[o[(o[e>>2]|0)+8>>2]&127](e)|0;e=vk[o[(o[n>>2]|0)+16>>2]&63](n,e,1)|0;s=o[t+60>>2]|0;s=vk[o[(o[s>>2]|0)+12>>2]&63](s,o[e+8>>2]|0,n)|0;rk[o[(o[n>>2]|0)+20>>2]&31](n,e,s,1346456916,o[t+60>>2]|0);return 12728}else{o[e+48>>2]=i;return 12728}}o[e+48>>2]=0;return 12728}function DR(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0,s=0;r=h;h=h+64|0;s=o[t+52>>2]|0;o[r>>2]=4816;o[r+4>>2]=s;o[r+8>>2]=e;KP(o[t+56>>2]|0,r,n,i);h=r;return}function kR(t){t=t|0;Kc(t);return}function OR(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0.0,c=0.0,p=0.0,f=0,d=0,_=0,m=0,g=0,b=0,v=0;v=h;h=h+32|0;d=o[t+4>>2]|0;Lk[o[(o[d>>2]|0)+16>>2]&3](d,v+28|0,v+24|0,v+20|0,v+16|0,v+12|0,v+8|0,v+4|0,v,e);d=(o[v+12>>2]|0)+(et(o[v+8>>2]|0,n)|0)|0;b=o[t+4>>2]|0;f=o[v>>2]|0;switch(f|0){case 3:{i=a[d+4>>1]|0;break}case 2:{i=o[d+8>>2]|0;break}default:i=s[d+2>>0]|0}g=(o[v+20>>2]|0)==0;_=o[v+28>>2]|0;m=o[v+16>>2]|0;i=_+(et(m,i)|0)|0;if(g){c=+l[i+8>>2]*+l[b+12>>2];p=+l[i+4>>2]*+l[b+8>>2];r=+l[i>>2]*+l[b+4>>2]}else{c=+u[i+16>>3]*+l[b+12>>2];p=+u[i+8>>3]*+l[b+8>>2];r=+u[i>>3]*+l[b+4>>2]}l[t+44>>2]=r;l[t+48>>2]=p;l[t+52>>2]=c;l[t+56>>2]=0.0;switch(f|0){case 3:{i=a[d+2>>1]|0;break}case 2:{i=o[d+4>>2]|0;break}default:i=s[d+1>>0]|0}i=_+(et(m,i)|0)|0;if(g){c=+l[i+8>>2]*+l[b+12>>2];p=+l[i+4>>2]*+l[b+8>>2];r=+l[i>>2]*+l[b+4>>2]}else{c=+u[i+16>>3]*+l[b+12>>2];p=+u[i+8>>3]*+l[b+8>>2];r=+u[i>>3]*+l[b+4>>2]}l[t+28>>2]=r;l[t+32>>2]=p;l[t+36>>2]=c;l[t+40>>2]=0.0;switch(f|0){case 3:{i=a[d>>1]|0;break}case 2:{i=o[d>>2]|0;break}default:i=s[d>>0]|0}i=_+(et(m,i)|0)|0;if(g){p=+l[i+8>>2]*+l[b+12>>2];c=+l[i+4>>2]*+l[b+8>>2];r=+l[i>>2]*+l[b+4>>2];g=t+12|0;l[g>>2]=r;g=t+16|0;l[g>>2]=c;g=t+20|0;l[g>>2]=p;g=t+24|0;l[g>>2]=0.0;g=t+8|0;g=o[g>>2]|0;m=o[g>>2]|0;m=m+8|0;m=o[m>>2]|0;b=t+12|0;Wk[m&127](g,b,e,n);t=o[t+4>>2]|0;n=o[t>>2]|0;n=n+24|0;n=o[n>>2]|0;ck[n&127](t,e);h=v;return}else{p=+u[i+16>>3]*+l[b+12>>2];c=+u[i+8>>3]*+l[b+8>>2];r=+u[i>>3]*+l[b+4>>2];g=t+12|0;l[g>>2]=r;g=t+16|0;l[g>>2]=c;g=t+20|0;l[g>>2]=p;g=t+24|0;l[g>>2]=0.0;g=t+8|0;g=o[g>>2]|0;m=o[g>>2]|0;m=m+8|0;m=o[m>>2]|0;b=t+12|0;Wk[m&127](g,b,e,n);t=o[t+4>>2]|0;n=o[t>>2]|0;n=n+24|0;n=o[n>>2]|0;ck[n&127](t,e);h=v;return}}function NR(t,e,n){t=t|0;e=e|0;n=n|0;Uk[o[(o[e>>2]|0)+68>>2]&127](t,e,n);return}function FR(t,e){t=t|0;e=e|0;var n=0,i=0;n=o[t+56>>2]|0;if(!n)return;i=uk[o[(o[n>>2]|0)+12>>2]&127](n)|0;i=vk[o[(o[e>>2]|0)+16>>2]&63](e,i,1)|0;n=o[t+56>>2]|0;n=vk[o[(o[n>>2]|0)+16>>2]&63](n,o[i+8>>2]|0,e)|0;rk[o[(o[e>>2]|0)+20>>2]&31](e,i,n,1213612625,o[t+56>>2]|0);return}function BR(t,e){t=t|0;e=e|0;var n=0,i=0;n=o[t+60>>2]|0;if(!n)return;i=uk[o[(o[n>>2]|0)+8>>2]&127](n)|0;i=vk[o[(o[e>>2]|0)+16>>2]&63](e,i,1)|0;n=o[t+60>>2]|0;n=vk[o[(o[n>>2]|0)+12>>2]&63](n,o[i+8>>2]|0,e)|0;rk[o[(o[e>>2]|0)+20>>2]&31](e,i,n,1346456916,o[t+60>>2]|0);return}function jR(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;var s=0;s=h;h=h+48|0;o[t+8>>2]=0;o[t+12>>2]=-1;l[t+16>>2]=0.0;o[t>>2]=6692;o[t+52>>2]=e;o[t+4>>2]=21;if(uk[o[(o[e>>2]|0)+40>>2]&127](e)|0)Uk[o[(o[e>>2]|0)+48>>2]&127](e,t+20|0,t+36|0);else{o[s+32>>2]=0;o[s+32+4>>2]=0;o[s+32+8>>2]=0;o[s+32+12>>2]=0;l[s+32>>2]=1.0;Uk[o[(o[t>>2]|0)+68>>2]&127](s+16|0,t,s+32|0);l[t+36>>2]=+l[s+16>>2]+ +l[t+16>>2];l[s+32>>2]=-1.0;Uk[o[(o[t>>2]|0)+68>>2]&127](s,t,s+32|0);o[s+16>>2]=o[s>>2];o[s+16+4>>2]=o[s+4>>2];o[s+16+8>>2]=o[s+8>>2];o[s+16+12>>2]=o[s+12>>2];l[t+20>>2]=+l[s+16>>2]-+l[t+16>>2];o[s+32>>2]=0;o[s+32+4>>2]=0;o[s+32+8>>2]=0;o[s+32+12>>2]=0;l[s+32+4>>2]=1.0;Uk[o[(o[t>>2]|0)+68>>2]&127](s+16|0,t,s+32|0);l[t+40>>2]=+l[s+16+4>>2]+ +l[t+16>>2];l[s+32+4>>2]=-1.0;Uk[o[(o[t>>2]|0)+68>>2]&127](s,t,s+32|0);o[s+16>>2]=o[s>>2];o[s+16+4>>2]=o[s+4>>2];o[s+16+8>>2]=o[s+8>>2];o[s+16+12>>2]=o[s+12>>2];l[t+24>>2]=+l[s+16+4>>2]-+l[t+16>>2];o[s+32>>2]=0;o[s+32+4>>2]=0;o[s+32+8>>2]=0;o[s+32+12>>2]=0;l[s+32+8>>2]=1.0;Uk[o[(o[t>>2]|0)+68>>2]&127](s+16|0,t,s+32|0);l[t+44>>2]=+l[s+16+8>>2]+ +l[t+16>>2];l[s+32+8>>2]=-1.0;Uk[o[(o[t>>2]|0)+68>>2]&127](s,t,s+32|0);o[s+16>>2]=o[s>>2];o[s+16+4>>2]=o[s+4>>2];o[s+16+8>>2]=o[s+8>>2];o[s+16+12>>2]=o[s+12>>2];l[t+28>>2]=+l[s+16+8>>2]-+l[t+16>>2]}o[t>>2]=4724;o[t+56>>2]=0;o[t+60>>2]=0;i[t+64>>0]=n&1;i[t+65>>0]=0;o[t+4>>2]=21;if(!r){h=s;return}o[5637]=(o[5637]|0)+1;r=Jc(191)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}o[r+52>>2]=284;i[r+60>>0]=0;i[r+80>>0]=1;o[r+76>>2]=0;o[r+68>>2]=0;o[r+72>>2]=0;i[r+100>>0]=1;o[r+96>>2]=0;o[r+88>>2]=0;o[r+92>>2]=0;i[r+120>>0]=1;o[r+116>>2]=0;o[r+108>>2]=0;o[r+112>>2]=0;i[r+140>>0]=1;o[r+136>>2]=0;o[r+128>>2]=0;o[r+132>>2]=0;o[r+144>>2]=0;i[r+164>>0]=1;o[r+160>>2]=0;o[r+152>>2]=0;o[r+156>>2]=0;o[r+168>>2]=0;o[r+4>>2]=-8388609;o[r+8>>2]=-8388609;o[r+12>>2]=-8388609;l[r+16>>2]=0.0;o[r+20>>2]=2139095039;o[r+24>>2]=2139095039;o[r+28>>2]=2139095039;l[r+32>>2]=0.0;o[r>>2]=6168;o[t+56>>2]=r;vT(r,o[t+52>>2]|0,(i[t+64>>0]|0)!=0,t+20|0,t+36|0);i[t+65>>0]=1;h=s;return}function UR(t){t=t|0;Kc(t);return}function zR(t){t=t|0;var e=0;e=h;h=h+t|0;h=h+15&-16;return e|0}function GR(){return h|0}function VR(t){t=t|0;h=t}function WR(t,e){t=t|0;e=e|0;h=t;p=e}function HR(t,e){t=t|0;e=e|0;if(!m){m=t;g=e}}function XR(t){t|0;i[f>>0]=i[t>>0];i[f+1>>0]=i[t+1>>0];i[f+2>>0]=i[t+2>>0];i[f+3>>0]=i[t+3>>0]}function qR(t){t|0;i[f>>0]=i[t>>0];i[f+1>>0]=i[t+1>>0];i[f+2>>0]=i[t+2>>0];i[f+3>>0]=i[t+3>>0];i[f+4>>0]=i[t+4>>0];i[f+5>>0]=i[t+5>>0];i[f+6>>0]=i[t+6>>0];i[f+7>>0]=i[t+7>>0]}function YR(t){t=t|0;I=t}function ZR(){return I|0}function JR(t,e,n,s,c,u){t=t|0;e=e|0;n=n|0;s=s|0;c=c|0;u=u|0;var h=0.0,p=0.0,f=0.0;o[t>>2]=2552;r[t+4>>1]=-2;r[t+6>>1]=-1;o[t+92>>2]=c;o[t+96>>2]=0;i[t+100>>0]=0;o[t+104>>2]=0;o[t+108>>2]=0;if(!c){o[5637]=(o[5637]|0)+1;c=Jc(91)|0;if(!c)c=0;else{o[(c+4+15&-16)+-4>>2]=c;c=c+4+15&-16}GP(c);o[t+92>>2]=c;i[t+100>>0]=1}if(!u){o[5637]=(o[5637]|0)+1;c=Jc(43)|0;if(!c)c=0;else{o[(c+4+15&-16)+-4>>2]=c;c=c+4+15&-16}o[c>>2]=0;o[c+4>>2]=0;o[c+8>>2]=0;o[c+12>>2]=0;o[c+16>>2]=0;o[c+20>>2]=0;o[c>>2]=2616;i[c+20>>0]=1;o[c+16>>2]=0;o[c+8>>2]=0;o[c+12>>2]=0;o[t+112>>2]=c;o[5637]=(o[5637]|0)+1;c=Jc(215)|0;if(!c)c=0;else{o[(c+4+15&-16)+-4>>2]=c;c=c+4+15&-16}gP(c,o[t+112>>2]|0);o[t+108>>2]=c;i[c+193>>0]=1}o[t+8>>2]=o[e>>2];o[t+8+4>>2]=o[e+4>>2];o[t+8+8>>2]=o[e+8>>2];o[t+8+12>>2]=o[e+12>>2];o[t+24>>2]=o[n>>2];o[t+24+4>>2]=o[n+4>>2];o[t+24+8>>2]=o[n+8>>2];o[t+24+12>>2]=o[n+12>>2];f=+(a[t+6>>1]|0);p=f/(+l[t+28>>2]-+l[t+12>>2]);h=f/(+l[t+32>>2]-+l[t+16>>2]);l[t+40>>2]=f/(+l[t+24>>2]-+l[t+8>>2]);l[t+44>>2]=p;l[t+48>>2]=h;l[t+52>>2]=0.0;e=(s&65535)+1&65535;o[5637]=(o[5637]|0)+1;c=Jc(e<<6|19)|0;if(!c)n=0;else{o[(c+4+15&-16)+-4>>2]=c;n=c+4+15&-16}if(e|0){c=n+(e<<6)|0;u=n;do{o[u>>2]=0;o[u+8>>2]=0;u=u+64|0}while((u|0)!=(c|0))}o[t+60>>2]=n;r[t+58>>1]=(s&65535)+1;r[t+56>>1]=0;r[t+64>>1]=1;if(e>>>0>1){c=1;u=1;do{r[n+(c<<6)+48>>1]=c+1;u=u+1<<16>>16;c=u&65535}while(c>>>0<e>>>0)}r[n+(e+-1<<6)+48>>1]=0;o[5637]=(o[5637]|0)+1;c=Jc((e<<3|3)+16|0)|0;if(!c)c=0;else{o[(c+4+15&-16)+-4>>2]=c;c=c+4+15&-16}o[t+80>>2]=c;o[t+68>>2]=c;o[5637]=(o[5637]|0)+1;c=Jc((e<<3|3)+16|0)|0;if(!c)c=0;else{o[(c+4+15&-16)+-4>>2]=c;c=c+4+15&-16}o[t+84>>2]=c;o[t+72>>2]=c;o[5637]=(o[5637]|0)+1;c=Jc((e<<3|3)+16|0)|0;if(!c){n=0;s=t+88|0;o[s>>2]=n;s=t+76|0;o[s>>2]=n;n=o[t+60>>2]|0;o[n>>2]=0;e=n+48|0;r[e>>1]=0;e=n+54|0;r[e>>1]=1;e=o[t+68>>2]|0;r[e>>1]=0;u=e+2|0;r[u>>1]=0;u=r[t+6>>1]|0;c=e+4|0;r[c>>1]=u;e=e+6|0;r[e>>1]=0;e=n+50|0;r[e>>1]=0;e=n+56|0;r[e>>1]=1;e=o[t+72>>2]|0;r[e>>1]=0;c=e+2|0;r[c>>1]=0;c=r[t+6>>1]|0;u=e+4|0;r[u>>1]=c;e=e+6|0;r[e>>1]=0;e=n+52|0;r[e>>1]=0;n=n+58|0;r[n>>1]=1;s=o[s>>2]|0;r[s>>1]=0;n=s+2|0;r[n>>1]=0;n=r[t+6>>1]|0;e=s+4|0;r[e>>1]=n;s=s+6|0;r[s>>1]=0;o[t>>2]=2488;return}o[(c+4+15&-16)+-4>>2]=c;n=c+4+15&-16;s=t+88|0;o[s>>2]=n;s=t+76|0;o[s>>2]=n;n=o[t+60>>2]|0;o[n>>2]=0;e=n+48|0;r[e>>1]=0;e=n+54|0;r[e>>1]=1;e=o[t+68>>2]|0;r[e>>1]=0;u=e+2|0;r[u>>1]=0;u=r[t+6>>1]|0;c=e+4|0;r[c>>1]=u;e=e+6|0;r[e>>1]=0;e=n+50|0;r[e>>1]=0;e=n+56|0;r[e>>1]=1;e=o[t+72>>2]|0;r[e>>1]=0;c=e+2|0;r[c>>1]=0;c=r[t+6>>1]|0;u=e+4|0;r[u>>1]=c;e=e+6|0;r[e>>1]=0;e=n+52|0;r[e>>1]=0;n=n+58|0;r[n>>1]=1;s=o[s>>2]|0;r[s>>1]=0;n=s+2|0;r[n>>1]=0;n=r[t+6>>1]|0;e=s+4|0;r[e>>1]=n;s=s+6|0;r[s>>1]=0;o[t>>2]=2488;return}function KR(t){t=t|0;var e=0;o[t>>2]=2552;if(o[t+108>>2]|0){e=o[t+112>>2]|0;sk[o[o[e>>2]>>2]&255](e);e=o[t+112>>2]|0;if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}e=o[t+108>>2]|0;sk[o[o[e>>2]>>2]&255](e);e=o[t+108>>2]|0;if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}}e=o[t+88>>2]|0;if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}e=o[t+84>>2]|0;if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}e=o[t+80>>2]|0;if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}e=o[t+60>>2]|0;if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}if(!(i[t+100>>0]|0))return;e=o[t+92>>2]|0;sk[o[o[e>>2]>>2]&255](e);e=o[t+92>>2]|0;if(!e)return;o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0);return}function $R(t){t=t|0;KR(t);if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function QR(t,e,n,i,s,c,u,p,f){t=t|0;e=e|0;n=n|0;i=i|0;s=s|0;c=c|0;u=u|0;p=p|0;f=f|0;var d=0,_=0,m=0,g=0,b=0,v=0,y=0,x=0,w=0;w=h;h=h+16|0;RI(t,w+6|0,+l[e>>2],+l[e+4>>2],+l[e+8>>2],0);RI(t,w,+l[n>>2],+l[n+4>>2],+l[n+8>>2],1);x=r[t+64>>1]|0;y=o[t+60>>2]|0;r[t+64>>1]=r[y+((x&65535)<<6)+48>>1]|0;d=(r[t+56>>1]|0)+1<<16>>16;r[t+56>>1]=d;o[y+((x&65535)<<6)+12>>2]=x&65535;o[y+((x&65535)<<6)>>2]=s;r[y+((x&65535)<<6)+4>>1]=c;r[y+((x&65535)<<6)+6>>1]=u;o[y+((x&65535)<<6)+8>>2]=f;m=(d&65535)<<1&65534;r[y+54>>1]=(a[y+54>>1]|0)+2;_=o[t+68>>2]|0;f=a[_+(m+-1<<2)>>1]|a[_+(m+-1<<2)+2>>1]<<16;r[_+((m|1)<<2)>>1]=f;r[_+((m|1)<<2)+2>>1]=f>>>16;_=o[t+68>>2]|0;r[_+(m+-1<<2)>>1]=r[w+6>>1]|0;r[_+(m+-1<<2)+2>>1]=x;r[_+(m<<2)>>1]=r[w>>1]|0;r[_+(m<<2)+2>>1]=x;r[y+((x&65535)<<6)+48>>1]=m+-1;r[y+((x&65535)<<6)+54>>1]=(d&65535)<<1;_=(o[t+60>>2]|0)+56|0;r[_>>1]=(a[_>>1]|0)+2;_=o[t+72>>2]|0;f=a[_+(m+-1<<2)>>1]|a[_+(m+-1<<2)+2>>1]<<16;r[_+((m|1)<<2)>>1]=f;r[_+((m|1)<<2)+2>>1]=f>>>16;_=o[t+72>>2]|0;r[_+(m+-1<<2)>>1]=r[w+6+2>>1]|0;r[_+(m+-1<<2)+2>>1]=x;r[_+(m<<2)>>1]=r[w+2>>1]|0;r[_+(m<<2)+2>>1]=x;r[y+((x&65535)<<6)+50>>1]=m+-1;r[y+((x&65535)<<6)+56>>1]=(d&65535)<<1;_=(o[t+60>>2]|0)+58|0;r[_>>1]=(a[_>>1]|0)+2;_=o[t+76>>2]|0;f=a[_+(m+-1<<2)>>1]|a[_+(m+-1<<2)+2>>1]<<16;r[_+((m|1)<<2)>>1]=f;r[_+((m|1)<<2)+2>>1]=f>>>16;_=o[t+76>>2]|0;r[_+(m+-1<<2)>>1]=r[w+6+4>>1]|0;r[_+(m+-1<<2)+2>>1]=x;r[_+(m<<2)>>1]=r[w+4>>1]|0;r[_+(m<<2)+2>>1]=x;r[y+((x&65535)<<6)+52>>1]=m+-1;r[y+((x&65535)<<6)+58>>1]=(d&65535)<<1;d=o[t+68>>2]|0;m=a[y+((x&65535)<<6)+48>>1]|0;_=o[t+60>>2]|0;f=r[d+(m<<2)+-4>>1]|0;if((a[d+(m<<2)>>1]|0)<(f&65535)){b=_+((a[d+(m<<2)+2>>1]|0)<<6)+48|0;g=d+(m<<2)|0;m=d+(m<<2)+-4|0;while(1){d=a[g+-2>>1]|0;if(!(f&1)){v=_+(d<<6)+48|0;r[v>>1]=(r[v>>1]|0)+1<<16>>16}else{v=_+(d<<6)+54|0;r[v>>1]=(r[v>>1]|0)+1<<16>>16}r[b>>1]=(r[b>>1]|0)+-1<<16>>16;d=a[g>>1]|a[g+2>>1]<<16;f=a[m>>1]|a[m+2>>1]<<16;r[g>>1]=f;r[g+2>>1]=f>>>16;r[m>>1]=d;r[m+2>>1]=d>>>16;d=g+-4|0;m=m+-4|0;f=r[m>>1]|0;if((a[d>>1]|0)>=(f&65535))break;_=o[t+60>>2]|0;g=d}d=o[t+68>>2]|0}f=a[y+((x&65535)<<6)+54>>1]|0;m=d+(f<<2)|0;_=r[m+-4>>1]|0;t:do{if((a[m>>1]|0)<(_&65535)){b=o[t+60>>2]|0;v=b+((a[d+(f<<2)+2>>1]|0)<<6)+54|0;f=_;g=m;_=m+-4|0;while(1){d=a[g+-2>>1]|0;if(!(f&1)){b=b+(d<<6)+48|0;r[b>>1]=(r[b>>1]|0)+1<<16>>16}else{b=b+(d<<6)+54|0;r[b>>1]=(r[b>>1]|0)+1<<16>>16}r[v>>1]=(r[v>>1]|0)+-1<<16>>16;d=a[g>>1]|a[g+2>>1]<<16;f=a[_>>1]|a[_+2>>1]<<16;r[g>>1]=f;r[g+2>>1]=f>>>16;r[_>>1]=d;r[_+2>>1]=d>>>16;d=g+-4|0;_=_+-4|0;f=r[_>>1]|0;if((a[d>>1]|0)>=(f&65535))break t;b=o[t+60>>2]|0;g=d}}}while(0);d=o[t+72>>2]|0;m=a[y+((x&65535)<<6)+50>>1]|0;_=o[t+60>>2]|0;f=r[d+(m<<2)+-4>>1]|0;if((a[d+(m<<2)>>1]|0)<(f&65535)){b=_+((a[d+(m<<2)+2>>1]|0)<<6)+50|0;g=d+(m<<2)|0;m=d+(m<<2)+-4|0;while(1){d=a[g+-2>>1]|0;if(!(f&1)){v=_+(d<<6)+50|0;r[v>>1]=(r[v>>1]|0)+1<<16>>16}else{v=_+(d<<6)+56|0;r[v>>1]=(r[v>>1]|0)+1<<16>>16}r[b>>1]=(r[b>>1]|0)+-1<<16>>16;d=a[g>>1]|a[g+2>>1]<<16;f=a[m>>1]|a[m+2>>1]<<16;r[g>>1]=f;r[g+2>>1]=f>>>16;r[m>>1]=d;r[m+2>>1]=d>>>16;d=g+-4|0;m=m+-4|0;f=r[m>>1]|0;if((a[d>>1]|0)>=(f&65535))break;_=o[t+60>>2]|0;g=d}d=o[t+72>>2]|0}f=a[y+((x&65535)<<6)+56>>1]|0;m=d+(f<<2)|0;_=r[m+-4>>1]|0;t:do{if((a[m>>1]|0)<(_&65535)){b=o[t+60>>2]|0;v=b+((a[d+(f<<2)+2>>1]|0)<<6)+56|0;f=_;g=m;_=m+-4|0;while(1){d=a[g+-2>>1]|0;if(!(f&1)){b=b+(d<<6)+50|0;r[b>>1]=(r[b>>1]|0)+1<<16>>16}else{b=b+(d<<6)+56|0;r[b>>1]=(r[b>>1]|0)+1<<16>>16}r[v>>1]=(r[v>>1]|0)+-1<<16>>16;d=a[g>>1]|a[g+2>>1]<<16;f=a[_>>1]|a[_+2>>1]<<16;r[g>>1]=f;r[g+2>>1]=f>>>16;r[_>>1]=d;r[_+2>>1]=d>>>16;d=g+-4|0;_=_+-4|0;f=r[_>>1]|0;if((a[d>>1]|0)>=(f&65535))break t;b=o[t+60>>2]|0;g=d}}}while(0);II(t,2,r[y+((x&65535)<<6)+52>>1]|0);PI(t,2,r[y+((x&65535)<<6)+58>>1]|0,p);d=o[t+60>>2]|0;f=o[t+108>>2]|0;if(!f){s=d+((x&65535)<<6)|0;h=w;return s|0}o[d+((x&65535)<<6)+60>>2]=Bk[o[(o[f>>2]|0)+8>>2]&3](f,e,n,i,s,c,u,p,0)|0;s=d+((x&65535)<<6)|0;h=w;return s|0}function tI(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,s=0,c=0,l=0,u=0,h=0,p=0,f=0,d=0,_=0,m=0;i=o[t+108>>2]|0;if(i|0)Uk[o[(o[i>>2]|0)+12>>2]&127](i,o[e+60>>2]|0,n);m=o[e+12>>2]|0;_=o[t+60>>2]|0;d=o[t+92>>2]|0;if(!(uk[o[(o[d>>2]|0)+56>>2]&127](d)|0)){d=o[t+92>>2]|0;Uk[o[(o[d>>2]|0)+16>>2]&127](d,_+((m&65535)<<6)|0,n)}p=a[t+56>>1]|0;i=o[t+60>>2]|0;r[i+54>>1]=(a[i+54>>1]|0)+65534;r[i+56>>1]=(a[i+56>>1]|0)+65534;r[i+58>>1]=(a[i+58>>1]|0)+65534;i=r[t+6>>1]|0;d=0;do{h=t+68+(d<<2)|0;f=o[h>>2]|0;n=a[_+((m&65535)<<6)+54+(d<<1)>>1]|0;r[f+(n<<2)>>1]=i;e=r[f+(n<<2)+6>>1]|0;if(!(e<<16>>16))n=f;else{u=(o[t+60>>2]|0)+((a[f+(n<<2)+2>>1]|0)<<6)+54+(d<<1)|0;c=f+(n<<2)|0;while(1){l=c;c=c+4|0;s=r[c>>1]|0;if((i&65535)<(s&65535))break;n=o[t+60>>2]|0;i=e&65535;if(!(s&1)){s=n+(i<<6)+48+(d<<1)|0;r[s>>1]=(r[s>>1]|0)+-1<<16>>16}else{s=n+(i<<6)+54+(d<<1)|0;r[s>>1]=(r[s>>1]|0)+-1<<16>>16}r[u>>1]=(r[u>>1]|0)+1<<16>>16;i=a[l>>1]|a[l+2>>1]<<16;e=a[c>>1]|a[c+2>>1]<<16;r[l>>1]=e;r[l+2>>1]=e>>>16;r[c>>1]=i;r[c+2>>1]=i>>>16;e=r[l+10>>1]|0;if(!(e<<16>>16))break;else i=i&65535}i=r[t+6>>1]|0;n=o[h>>2]|0}e=a[_+((m&65535)<<6)+48+(d<<1)>>1]|0;r[f+(e<<2)>>1]=i;c=n+(e<<2)|0;s=r[c+6>>1]|0;if(s<<16>>16){u=(o[t+60>>2]|0)+((a[n+(e<<2)+2>>1]|0)<<6)+48+(d<<1)|0;i=r[c>>1]|0;while(1){l=c;c=c+4|0;n=r[c>>1]|0;if((i&65535)<(n&65535))break;e=o[t+60>>2]|0;i=s&65535;if(!(n&1)){h=e+(i<<6)+48+(d<<1)|0;r[h>>1]=(r[h>>1]|0)+-1<<16>>16}else{h=e+(i<<6)+54+(d<<1)|0;r[h>>1]=(r[h>>1]|0)+-1<<16>>16}r[u>>1]=(r[u>>1]|0)+1<<16>>16;i=a[l>>1]|a[l+2>>1]<<16;s=a[c>>1]|a[c+2>>1]<<16;r[l>>1]=s;r[l+2>>1]=s>>>16;r[c>>1]=i;r[c+2>>1]=i>>>16;s=r[l+10>>1]|0;if(!(s<<16>>16))break;else i=i&65535}i=r[t+6>>1]|0}r[f+((p<<1)+-1<<2)+2>>1]=0;r[f+((p<<1)+-1<<2)>>1]=i;d=d+1|0}while((d|0)!=3);r[(o[t+60>>2]|0)+((m&65535)<<6)+48>>1]=r[t+64>>1]|0;r[t+64>>1]=m;r[t+56>>1]=(r[t+56>>1]|0)+-1<<16>>16;return}function eI(t,e,n,i,s){t=t|0;e=e|0;n=n|0;i=i|0;s=s|0;var c=0,u=0,p=0,f=0,d=0,_=0,m=0,g=0,b=0,v=0,y=0,x=0,w=0,S=0,M=0,C=0,T=0,A=0,L=0,E=0,R=0,I=0,P=0,D=0,k=0;k=h;h=h+16|0;o[e+16>>2]=o[n>>2];o[e+16+4>>2]=o[n+4>>2];o[e+16+8>>2]=o[n+8>>2];o[e+16+12>>2]=o[n+12>>2];o[e+32>>2]=o[i>>2];o[e+32+4>>2]=o[i+4>>2];o[e+32+8>>2]=o[i+8>>2];o[e+32+12>>2]=o[i+12>>2];E=o[t+60>>2]|0;R=o[e+12>>2]&65535;RI(t,k+6|0,+l[n>>2],+l[n+4>>2],+l[n+8>>2],0);RI(t,k,+l[i>>2],+l[i+4>>2],+l[i+8>>2],1);D=0;do{v=r[E+(R<<6)+48+(D<<1)>>1]|0;w=r[E+(R<<6)+54+(D<<1)>>1]|0;m=r[k+6+(D<<1)>>1]|0;u=t+68+(D<<2)|0;b=o[u>>2]|0;p=(m&65535)-(a[b+((v&65535)<<2)>>1]|0)|0;g=r[k+(D<<1)>>1]|0;M=(g&65535)-(a[b+((w&65535)<<2)>>1]|0)|0;r[b+((v&65535)<<2)>>1]=m;r[b+((w&65535)<<2)>>1]=g;if((p|0)<0)II(t,D,v);t:do{if((M|0)>0?(C=o[u>>2]|0,T=o[t+60>>2]|0,A=a[C+((w&65535)<<2)+2>>1]|0,L=r[C+((w&65535)<<2)+6>>1]|0,L<<16>>16):0){f=1<<D&3;d=T+(A<<6)+54+(D<<1)|0;c=L;g=C+((w&65535)<<2)|0;do{b=g;g=g+4|0;_=r[g>>1]|0;if((a[b>>1]|0)<(_&65535))break t;m=o[t+60>>2]|0;c=c&65535;if(!(_&1)){if(((((a[T+(A<<6)+54+(f<<1)>>1]|0)>=(a[m+(c<<6)+48+(f<<1)>>1]|0)?(a[m+(c<<6)+54+(f<<1)>>1]|0)>=(a[T+(A<<6)+48+(f<<1)>>1]|0):0)?(a[T+(A<<6)+54+((1<<f&3)<<1)>>1]|0)>=(a[m+(c<<6)+48+((1<<f&3)<<1)>>1]|0):0)?(a[m+(c<<6)+54+((1<<f&3)<<1)>>1]|0)>=(a[T+(A<<6)+48+((1<<f&3)<<1)>>1]|0):0)?(P=o[t+92>>2]|0,I=m+((a[b+2>>1]|0)<<6)|0,vk[o[(o[P>>2]|0)+8>>2]&63](P,I,m+(c<<6)|0)|0,P=o[t+96>>2]|0,P|0):0)vk[o[(o[P>>2]|0)+8>>2]&63](P,I,m+(c<<6)|0)|0;m=m+(c<<6)+48+(D<<1)|0;r[m>>1]=(r[m>>1]|0)+-1<<16>>16}else{m=m+(c<<6)+54+(D<<1)|0;r[m>>1]=(r[m>>1]|0)+-1<<16>>16}r[d>>1]=(r[d>>1]|0)+1<<16>>16;c=a[b>>1]|a[b+2>>1]<<16;m=a[g>>1]|a[g+2>>1]<<16;r[b>>1]=m;r[b+2>>1]=m>>>16;r[g>>1]=c;r[g+2>>1]=c>>>16;c=r[b+10>>1]|0}while(c<<16>>16!=0)}}while(0);t:do{if((p|0)>0?(y=o[u>>2]|0,x=r[y+((v&65535)<<2)+6>>1]|0,x<<16>>16):0){_=(o[t+60>>2]|0)+((a[y+((v&65535)<<2)+2>>1]|0)<<6)+48+(D<<1)|0;m=1<<D&3;u=x;f=y+((v&65535)<<2)|0;do{d=f;f=f+4|0;c=r[f>>1]|0;if((a[d>>1]|0)<(c&65535))break t;p=o[t+60>>2]|0;u=u&65535;if(!(c&1)){v=p+(u<<6)+48+(D<<1)|0;r[v>>1]=(r[v>>1]|0)+-1<<16>>16}else{c=a[d+2>>1]|0;if(((((a[p+(c<<6)+54+(m<<1)>>1]|0)>=(a[p+(u<<6)+48+(m<<1)>>1]|0)?(a[p+(u<<6)+54+(m<<1)>>1]|0)>=(a[p+(c<<6)+48+(m<<1)>>1]|0):0)?(a[p+(c<<6)+54+((1<<m&3)<<1)>>1]|0)>=(a[p+(u<<6)+48+((1<<m&3)<<1)>>1]|0):0)?(a[p+(u<<6)+54+((1<<m&3)<<1)>>1]|0)>=(a[p+(c<<6)+48+((1<<m&3)<<1)>>1]|0):0)?(S=o[t+92>>2]|0,dk[o[(o[S>>2]|0)+12>>2]&31](S,p+(c<<6)|0,p+(u<<6)|0,s)|0,S=o[t+96>>2]|0,S|0):0)dk[o[(o[S>>2]|0)+12>>2]&31](S,p+(c<<6)|0,p+(u<<6)|0,s)|0;v=p+(u<<6)+54+(D<<1)|0;r[v>>1]=(r[v>>1]|0)+-1<<16>>16}r[_>>1]=(r[_>>1]|0)+1<<16>>16;u=a[d>>1]|a[d+2>>1]<<16;v=a[f>>1]|a[f+2>>1]<<16;r[d>>1]=v;r[d+2>>1]=v>>>16;r[f>>1]=u;r[f+2>>1]=u>>>16;u=r[d+10>>1]|0}while(u<<16>>16!=0)}}while(0);if((M|0)<0)PI(t,D,w,s);D=D+1|0}while((D|0)!=3);c=o[t+108>>2]|0;if(!c){h=k;return}rk[o[(o[c>>2]|0)+16>>2]&31](c,o[e+60>>2]|0,n,i,s);h=k;return}function nI(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;o[n>>2]=o[e+16>>2];o[n+4>>2]=o[e+16+4>>2];o[n+8>>2]=o[e+16+8>>2];o[n+12>>2]=o[e+16+12>>2];o[i>>2]=o[e+32>>2];o[i+4>>2]=o[e+32+4>>2];o[i+8>>2]=o[e+32+8>>2];o[i+12>>2]=o[e+32+12>>2];return}function iI(t,e,n,i,s,c){t=t|0;e=e|0;n=n|0;i=i|0;s=s|0;c=c|0;var l=0;l=o[t+108>>2]|0;if(l|0){yk[o[(o[l>>2]|0)+24>>2]&7](l,e,n,i,s,c);return}l=r[t+56>>1]|0;if((l&65535)<<1>>>0<=1)return;e=1;s=1;do{c=o[t+68>>2]|0;if(r[c+(e<<2)>>1]&1){Ek[o[(o[i>>2]|0)+8>>2]&31](i,(o[t+60>>2]|0)+((a[c+(e<<2)+2>>1]|0)<<6)|0)|0;l=r[t+56>>1]|0}s=s+1<<16>>16;e=s&65535}while(e>>>0<((l&65535)<<1|1)>>>0);return}function rI(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var s=0,c=0,u=0,h=0,p=0;s=o[t+108>>2]|0;if(s|0){Wk[o[(o[s>>2]|0)+28>>2]&127](s,e,n,i);return}s=r[t+56>>1]|0;if((s&65535)<<1>>>0<=1)return;u=1;p=1;do{c=o[t+68>>2]|0;if(r[c+(u<<2)>>1]&1){h=o[t+60>>2]|0;u=a[c+(u<<2)+2>>1]|0;if(!(+l[e>>2]>+l[h+(u<<6)+32>>2])?!(+l[n>>2]<+l[h+(u<<6)+16>>2]):0)c=1;else c=0;if(!(!(+l[e+8>>2]>+l[h+(u<<6)+40>>2])?!(+l[n+8>>2]<+l[h+(u<<6)+24>>2]):0))c=0;if(!(+l[e+4>>2]>+l[h+(u<<6)+36>>2])?!(+l[n+4>>2]<+l[h+(u<<6)+20>>2]|c^1):0){Ek[o[(o[i>>2]|0)+8>>2]&31](i,h+(u<<6)|0)|0;s=r[t+56>>1]|0}}p=p+1<<16>>16;u=p&65535}while(u>>>0<((s&65535)<<1|1)>>>0);return}function oI(t,e){t=t|0;e=e|0;var n=0,i=0,r=0,s=0,c=0,l=0,u=0,p=0,f=0,d=0,_=0,m=0;_=h;h=h+32|0;d=o[t+92>>2]|0;if(!(uk[o[(o[d>>2]|0)+56>>2]&127](d)|0)){h=_;return}d=o[t+92>>2]|0;d=uk[o[(o[d>>2]|0)+28>>2]&127](d)|0;n=o[d+4>>2]|0;if((n|0)>1){kI(d,0,n+-1|0);n=o[d+4>>2]|0}i=n-(o[t+104>>2]|0)|0;o[_+16>>2]=0;o[_+16+4>>2]=0;o[_+16+8>>2]=0;o[_+16+12>>2]=0;DI(d,i,_+16|0);o[t+104>>2]=0;i=o[d+4>>2]|0;if((i|0)>0){n=0;u=0;p=0;s=0;while(1){l=o[d+12>>2]|0;c=l+(u<<4)|0;m=p;p=o[c>>2]|0;l=l+(u<<4)+4|0;r=o[l>>2]|0;if(!((p|0)==(m|0)&(r|0)==(s|0))){m=p+54|0;s=p+48|0;if(!((((((a[m>>1]|0)>=(a[r+48>>1]|0)?(a[r+54>>1]|0)>=(a[s>>1]|0):0)?(a[m+2>>1]|0)>=(a[r+48+2>>1]|0):0)?(a[r+54+2>>1]|0)>=(a[s+2>>1]|0):0)?(a[m+4>>1]|0)>=(a[r+52>>1]|0):0)?(a[r+54+4>>1]|0)>=(a[p+52>>1]|0):0))f=13}else{r=s;f=13}if((f|0)==13){f=0;n=o[t+92>>2]|0;Uk[o[(o[n>>2]|0)+32>>2]&127](n,c,e);o[c>>2]=0;o[l>>2]=0;n=(o[t+104>>2]|0)+1|0;o[t+104>>2]=n;o[4984]=(o[4984]|0)+-1;i=o[d+4>>2]|0}u=u+1|0;if((u|0)>=(i|0))break;else s=r}if((i|0)>1){kI(d,0,i+-1|0);i=o[d+4>>2]|0;n=o[t+104>>2]|0}}else n=0;o[_>>2]=0;o[_+4>>2]=0;o[_+8>>2]=0;o[_+12>>2]=0;DI(d,i-n|0,_);o[t+104>>2]=0;h=_;return}function sI(t){t=t|0;return o[t+92>>2]|0}function aI(t){t=t|0;return o[t+92>>2]|0}function cI(t,e,n){t=t|0;e=e|0;n=n|0;o[e>>2]=o[t+8>>2];o[e+4>>2]=o[t+8+4>>2];o[e+8>>2]=o[t+8+8>>2];o[e+12>>2]=o[t+8+12>>2];o[n>>2]=o[t+24>>2];o[n+4>>2]=o[t+24+4>>2];o[n+8>>2]=o[t+24+8>>2];o[n+12>>2]=o[t+24+12>>2];return}function lI(t,e){t=t|0;e=e|0;var n=0,i=0,s=0;e=o[t+56>>2]|0;if((e&65535)<<16>>16)return;r[t+64>>1]=1;s=o[t+60>>2]|0;if((e>>>16&65535)>1){n=1;e=1;while(1){r[s+(n<<6)+48>>1]=n+1;i=e+1<<16>>16;e=r[t+58>>1]|0;if((i&65535)<(e&65535)){n=i&65535;e=i}else break}}else e=e>>>16&65535;r[s+((e&65535)+-1<<6)+48>>1]=0;return}function uI(t){t=t|0;return}function hI(t){t|0;var e=0,n=0;h;h=h+32|0;te(t|0)|0;if(oe(23316,3)|0)el(19340,n);re(o[5830]|0)|0;if((t|0?(o[t>>2]|0,e|0):0)?(o[e+48>>2]&-256|0)==1126902528?(o[e+48+4>>2]|0)==1129074247:0:0){zk[o[e+12>>2]&3]();el(19664,n+8|0)}o[2054]|0;o[2054]=e+0;zk[e&3]();el(19664,n+16|0)}function pI(t){t=t|0;KR(t);if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function fI(t){t=t|0;var e=0;o[t>>2]=2616;e=o[t+16>>2]|0;if(e|0){if(i[t+20>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+16>>2]=0}i[t+20>>0]=1;o[t+16>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;return}function dI(t){t=t|0;var e=0;o[t>>2]=2616;e=o[t+16>>2]|0;if(!e){Kc(t);return}if(!(i[t+20>>0]|0)){Kc(t);return}o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0);Kc(t);return}function _I(t,e,n){t=t|0;e=e|0;n=n|0;return 0}function mI(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;return 0}function gI(t,e,n){t=t|0;e=e|0;n=n|0;return}function bI(t){t=t|0;return o[t+16>>2]|0}function vI(t){t=t|0;return o[t+16>>2]|0}function yI(t){t=t|0;return t+4|0}function xI(t,e,n){t=t|0;e=e|0;n=n|0;return}function wI(t){t=t|0;return 0}function SI(t,e,n){t=t|0;e=e|0;n=n|0;return}function MI(t,e){t=t|0;e=e|0;return}function CI(t,e,n){t=t|0;e=e|0;n=n|0;return}function TI(t,e,n){t=t|0;e=e|0;n=n|0;return 0}function AI(t){t=t|0;return 1}function LI(t,e){t=t|0;e=e|0;return}function EI(t,e){t=t|0;e=e|0;return}function RI(t,e,n,i,o,s){t=t|0;e=e|0;n=+n;i=+i;o=+o;s=s|0;var a=0,c=0;n=(n-+l[t+8>>2])*+l[t+40>>2];i=(i-+l[t+12>>2])*+l[t+44>>2];o=(o-+l[t+16>>2])*+l[t+48>>2];do{if(!(n<=0.0)){a=r[t+6>>1]|0;c=r[t+4>>1]|0;if(!(n>=+(a&65535))){a=c&(~~n&65535)&65535|s;break}else{a=c&a&65535|s;break}}else a=s}while(0);r[e>>1]=a;do{if(!(i<=0.0)){a=r[t+6>>1]|0;c=r[t+4>>1]|0;if(!(i>=+(a&65535))){a=c&(~~i&65535)&65535|s;break}else{a=c&a&65535|s;break}}else a=s}while(0);r[e+2>>1]=a;if(o<=0.0){s=s&65535;e=e+4|0;r[e>>1]=s;return}c=r[t+6>>1]|0;a=r[t+4>>1]|0;if(!(o>=+(c&65535))){s=a&(~~o&65535)&65535|s;s=s&65535;e=e+4|0;r[e>>1]=s;return}else{s=a&c&65535|s;s=s&65535;e=e+4|0;r[e>>1]=s;return}}function II(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,s=0,c=0,l=0,u=0,h=0,p=0,f=0;s=o[t+68+(e<<2)>>2]|0;p=o[t+60>>2]|0;f=a[s+((n&65535)<<2)+2>>1]|0;i=r[s+((n&65535)<<2)+-4>>1]|0;if((a[s+((n&65535)<<2)>>1]|0)>=(i&65535))return;l=p;c=s+((n&65535)<<2)|0;n=s+((n&65535)<<2)+-4|0;while(1){s=a[c+-2>>1]|0;if(!(i&1)){l=l+(s<<6)+48+(e<<1)|0;r[l>>1]=(r[l>>1]|0)+1<<16>>16}else{if(((((a[p+(f<<6)+54+((1<<e&3)<<1)>>1]|0)>=(a[l+(s<<6)+48+((1<<e&3)<<1)>>1]|0)?(a[l+(s<<6)+54+((1<<e&3)<<1)>>1]|0)>=(a[p+(f<<6)+48+((1<<e&3)<<1)>>1]|0):0)?(a[p+(f<<6)+54+((1<<(1<<e&3)&3)<<1)>>1]|0)>=(a[l+(s<<6)+48+((1<<(1<<e&3)&3)<<1)>>1]|0):0)?(a[l+(s<<6)+54+((1<<(1<<e&3)&3)<<1)>>1]|0)>=(a[p+(f<<6)+48+((1<<(1<<e&3)&3)<<1)>>1]|0):0)?(h=o[t+92>>2]|0,u=l+(s<<6)|0,vk[o[(o[h>>2]|0)+8>>2]&63](h,p+(f<<6)|0,u)|0,h=o[t+96>>2]|0,h|0):0)vk[o[(o[h>>2]|0)+8>>2]&63](h,p+(f<<6)|0,u)|0;l=l+(s<<6)+54+(e<<1)|0;r[l>>1]=(r[l>>1]|0)+1<<16>>16}r[p+(f<<6)+48+(e<<1)>>1]=(r[p+(f<<6)+48+(e<<1)>>1]|0)+-1<<16>>16;s=a[c>>1]|a[c+2>>1]<<16;i=a[n>>1]|a[n+2>>1]<<16;r[c>>1]=i;r[c+2>>1]=i>>>16;r[n>>1]=s;r[n+2>>1]=s>>>16;s=c+-4|0;n=n+-4|0;i=r[n>>1]|0;if((a[s>>1]|0)>=(i&65535))break;l=o[t+60>>2]|0;c=s}return}function PI(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var s=0,c=0,l=0,u=0,h=0,p=0,f=0,d=0;c=o[t+68+(e<<2)>>2]|0;s=r[c+((n&65535)<<2)+-4>>1]|0;if((a[c+((n&65535)<<2)>>1]|0)>=(s&65535))return;u=o[t+60>>2]|0;h=u+((a[c+((n&65535)<<2)+2>>1]|0)<<6)+54+(e<<1)|0;l=c+((n&65535)<<2)|0;n=c+((n&65535)<<2)+-4|0;while(1){c=a[l+-2>>1]|0;if(!(s&1)){s=a[l+2>>1]|0;if(((((a[u+(s<<6)+54+((1<<e&3)<<1)>>1]|0)>=(a[u+(c<<6)+48+((1<<e&3)<<1)>>1]|0)?(a[u+(c<<6)+54+((1<<e&3)<<1)>>1]|0)>=(a[u+(s<<6)+48+((1<<e&3)<<1)>>1]|0):0)?(a[u+(s<<6)+54+((1<<(1<<e&3)&3)<<1)>>1]|0)>=(a[u+(c<<6)+48+((1<<(1<<e&3)&3)<<1)>>1]|0):0)?(a[u+(c<<6)+54+((1<<(1<<e&3)&3)<<1)>>1]|0)>=(a[u+(s<<6)+48+((1<<(1<<e&3)&3)<<1)>>1]|0):0)?(d=o[t+92>>2]|0,p=u+(s<<6)|0,f=u+(c<<6)|0,dk[o[(o[d>>2]|0)+12>>2]&31](d,p,f,i)|0,d=o[t+96>>2]|0,d|0):0)dk[o[(o[d>>2]|0)+12>>2]&31](d,p,f,i)|0;u=u+(c<<6)+48+(e<<1)|0;r[u>>1]=(r[u>>1]|0)+1<<16>>16}else{u=u+(c<<6)+54+(e<<1)|0;r[u>>1]=(r[u>>1]|0)+1<<16>>16}r[h>>1]=(r[h>>1]|0)+-1<<16>>16;c=a[l>>1]|a[l+2>>1]<<16;s=a[n>>1]|a[n+2>>1]<<16;r[l>>1]=s;r[l+2>>1]=s>>>16;r[n>>1]=c;r[n+2>>1]=c>>>16;c=l+-4|0;n=n+-4|0;s=r[n>>1]|0;if((a[c>>1]|0)>=(s&65535))break;u=o[t+60>>2]|0;l=c}return}function DI(t,e,n){t=t|0;e=e|0;n=n|0;var r=0,s=0,a=0,c=0,l=0;c=o[t+4>>2]|0;if((c|0)>=(e|0)){o[t+4>>2]=e;return}if((o[t+8>>2]|0)<(e|0)){if(!e){r=0;s=c}else{o[5637]=(o[5637]|0)+1;r=Jc((e<<4|3)+16|0)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}s=o[t+4>>2]|0}if((s|0)>0){a=0;do{l=o[t+12>>2]|0;o[r+(a<<4)>>2]=o[l+(a<<4)>>2];o[r+(a<<4)+4>>2]=o[l+(a<<4)+4>>2];o[r+(a<<4)+8>>2]=o[l+(a<<4)+8>>2];o[r+(a<<4)+12>>2]=o[l+(a<<4)+12>>2];a=a+1|0}while((a|0)!=(s|0))}s=o[t+12>>2]|0;if(s|0){if(i[t+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0)}o[t+12>>2]=0}i[t+16>>0]=1;o[t+12>>2]=r;o[t+8>>2]=e;s=t+12|0}else s=t+12|0;r=c;do{l=o[s>>2]|0;o[l+(r<<4)>>2]=o[n>>2];o[l+(r<<4)+4>>2]=o[n+4>>2];o[l+(r<<4)+8>>2]=o[n+8>>2];o[l+(r<<4)+12>>2]=o[n+12>>2];r=r+1|0}while((r|0)!=(e|0));o[t+4>>2]=e;return}function kI(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0,s=0,a=0,c=0,l=0,u=0,h=0,p=0,f=0,d=0,_=0;while(1){_=(e+n|0)/2|0;p=o[t+12>>2]|0;f=o[p+(_<<4)>>2]|0;d=o[p+(_<<4)+4>>2]|0;_=o[p+(_<<4)+8>>2]|0;i=e;r=n;while(1){t:do{if(!f)while(1){l=o[p+(i<<4)>>2]|0;if(!l)s=-1;else s=o[l+12>>2]|0;u=o[p+(i<<4)+4>>2]|0;if(!u)a=-1;else a=o[u+12>>2]|0;if(!d)c=-1;else c=o[d+12>>2]|0;do{if((s|0)<=-1){s=(a|0)>(c|0);if(s|(l|0)==0^1)if((l|0)==0&s)break;else break t;if((u|0)!=(d|0))break t;if((o[p+(i<<4)+8>>2]|0)>>>0<=_>>>0)break t}}while(0);i=i+1|0}else{h=o[f+12>>2]|0;if(!d)while(1){c=o[p+(i<<4)>>2]|0;if(!c)s=-1;else s=o[c+12>>2]|0;l=o[p+(i<<4)+4>>2]|0;if(!l)a=-1;else a=o[l+12>>2]|0;do{if((s|0)<=(h|0)){s=(a|0)>-1;if(s|(c|0)==(f|0)^1)if((c|0)==(f|0)&s)break;else break t;if(l|0)break t;if((o[p+(i<<4)+8>>2]|0)>>>0<=_>>>0)break t}}while(0);i=i+1|0}u=o[d+12>>2]|0;while(1){c=o[p+(i<<4)>>2]|0;if(!c)s=-1;else s=o[c+12>>2]|0;l=o[p+(i<<4)+4>>2]|0;if(!l)a=-1;else a=o[l+12>>2]|0;do{if((s|0)<=(h|0)){s=(a|0)>(u|0);if(s|(c|0)==(f|0)^1)if((c|0)==(f|0)&s)break;else break t;if((l|0)!=(d|0))break t;if((o[p+(i<<4)+8>>2]|0)>>>0<=_>>>0)break t}}while(0);i=i+1|0}}}while(0);t:do{if(!f)while(1){l=o[p+(r<<4)>>2]|0;if(!l)s=-1;else s=o[l+12>>2]|0;if(!d)a=-1;else a=o[d+12>>2]|0;u=o[p+(r<<4)+4>>2]|0;if(!u)c=-1;else c=o[u+12>>2]|0;do{if((s|0)>=-1){s=(a|0)>(c|0);if(s|(l|0)==0^1)if((l|0)==0&s)break;else break t;if((d|0)!=(u|0))break t;if(_>>>0<=(o[p+(r<<4)+8>>2]|0)>>>0)break t}}while(0);r=r+-1|0}else{h=o[f+12>>2]|0;if(!d)while(1){c=o[p+(r<<4)>>2]|0;if(!c)s=-1;else s=o[c+12>>2]|0;l=o[p+(r<<4)+4>>2]|0;if(!l)a=-1;else a=o[l+12>>2]|0;do{if((h|0)<=(s|0)){s=(a|0)<-1;if(s|(f|0)==(c|0)^1)if((f|0)==(c|0)&s)break;else break t;if(l|0)break t;if(_>>>0<=(o[p+(r<<4)+8>>2]|0)>>>0)break t}}while(0);r=r+-1|0}u=o[d+12>>2]|0;while(1){c=o[p+(r<<4)>>2]|0;if(!c)s=-1;else s=o[c+12>>2]|0;l=o[p+(r<<4)+4>>2]|0;if(!l)a=-1;else a=o[l+12>>2]|0;do{if((h|0)<=(s|0)){s=(u|0)>(a|0);if(s|(f|0)==(c|0)^1)if((f|0)==(c|0)&s)break;else break t;if((d|0)!=(l|0))break t;if(_>>>0<=(o[p+(r<<4)+8>>2]|0)>>>0)break t}}while(0);r=r+-1|0}}}while(0);if((i|0)<=(r|0)){a=p+(i<<4)|0;c=o[a>>2]|0;l=o[p+(i<<4)+4>>2]|0;u=o[p+(i<<4)+8>>2]|0;h=o[p+(i<<4)+12>>2]|0;p=p+(r<<4)|0;o[a>>2]=o[p>>2];o[a+4>>2]=o[p+4>>2];o[a+8>>2]=o[p+8>>2];o[a+12>>2]=o[p+12>>2];p=o[t+12>>2]|0;o[p+(r<<4)>>2]=c;o[p+(r<<4)+4>>2]=l;o[p+(r<<4)+8>>2]=u;o[p+(r<<4)+12>>2]=h;i=i+1|0;r=r+-1|0}if((i|0)>(r|0))break;p=o[t+12>>2]|0}if((r|0)>(e|0))kI(t,e,r);if((i|0)<(n|0))e=i;else break}return}function OI(t){t=t|0;return}function NI(t){t=t|0;var e=0;e=o[t>>2]|0;if(e|0)FI(t,e);e=o[t+4>>2]|0;if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+4>>2]=0;o[t+8>>2]=-1;e=o[t+32>>2]|0;if(e|0){if(i[t+36>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+32>>2]=0}i[t+36>>0]=1;o[t+32>>2]=0;o[t+24>>2]=0;o[t+28>>2]=0;o[t+16>>2]=0;e=o[t+52>>2]|0;if(!e){i[t+56>>0]=1;o[t+52>>2]=0;o[t+44>>2]=0;o[t+48>>2]=0;i[t+36>>0]=1;o[t+32>>2]=0;o[t+24>>2]=0;o[t+28>>2]=0;return}if(!(i[t+56>>0]|0)){i[t+56>>0]=1;o[t+52>>2]=0;o[t+44>>2]=0;o[t+48>>2]=0;i[t+36>>0]=1;o[t+32>>2]=0;o[t+24>>2]=0;o[t+28>>2]=0;return}o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0);e=o[t+32>>2]|0;i[t+56>>0]=1;o[t+52>>2]=0;o[t+44>>2]=0;o[t+48>>2]=0;if(!e){i[t+36>>0]=1;o[t+32>>2]=0;o[t+24>>2]=0;o[t+28>>2]=0;return}if(i[t+36>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+32>>2]=0;i[t+36>>0]=1;o[t+32>>2]=0;o[t+24>>2]=0;o[t+28>>2]=0;return}function FI(t,e){t=t|0;e=e|0;var n=0;if(o[e+40>>2]|0){FI(t,o[e+36>>2]|0);FI(t,o[e+40>>2]|0)}if((o[t>>2]|0)==(e|0))o[t>>2]=0;n=o[t+4>>2]|0;if(!n){o[t+4>>2]=e;return}o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0);o[t+4>>2]=e;return}function BI(t,e){t=t|0;e=e|0;var n=0,i=0,r=0,s=0,a=0,c=0,l=0,u=0,p=0,f=0;f=h;h=h+32|0;if((e|0)<0)e=o[t+12>>2]|0;n=o[t>>2]|0;if(!((e|0)>0&(n|0)!=0)){h=f;return}while(1){i=n+40|0;if(o[i>>2]|0){p=0;while(1){u=(o[t+16>>2]|0)>>>p&1;r=n+32|0;s=o[r>>2]|0;if(s>>>0>n>>>0){a=(o[s+40>>2]|0)==(n|0)&1;c=o[s+36+((a^1)<<2)>>2]|0;l=o[s+32>>2]|0;if(!l)o[t>>2]=n;else o[l+36+(((o[l+40>>2]|0)==(s|0)&1)<<2)>>2]=n;o[c+32>>2]=n;o[s+32>>2]=n;o[r>>2]=l;l=n+36|0;o[s+36>>2]=o[l>>2];o[s+40>>2]=o[i>>2];o[(o[l>>2]|0)+32>>2]=s;o[(o[i>>2]|0)+32>>2]=s;o[n+36+(a<<2)>>2]=s;o[n+36+((a^1)<<2)>>2]=c;o[f>>2]=o[s>>2];o[f+4>>2]=o[s+4>>2];o[f+8>>2]=o[s+8>>2];o[f+12>>2]=o[s+12>>2];o[f+16>>2]=o[s+16>>2];o[f+20>>2]=o[s+20>>2];o[f+24>>2]=o[s+24>>2];o[f+28>>2]=o[s+28>>2];o[s>>2]=o[n>>2];o[s+4>>2]=o[n+4>>2];o[s+8>>2]=o[n+8>>2];o[s+12>>2]=o[n+12>>2];o[s+16>>2]=o[n+16>>2];o[s+20>>2]=o[n+20>>2];o[s+24>>2]=o[n+24>>2];o[s+28>>2]=o[n+28>>2];o[n>>2]=o[f>>2];o[n+4>>2]=o[f+4>>2];o[n+8>>2]=o[f+8>>2];o[n+12>>2]=o[f+12>>2];o[n+16>>2]=o[f+16>>2];o[n+20>>2]=o[f+20>>2];o[n+24>>2]=o[f+24>>2];o[n+28>>2]=o[f+28>>2];n=s}n=o[n+36+(u<<2)>>2]|0;i=n+40|0;if(!(o[i>>2]|0))break;else p=p+1&31}}if(!(jI(t,n)|0))i=0;else i=o[t>>2]|0;UI(t,i,n);o[t+16>>2]=(o[t+16>>2]|0)+1;e=e+-1|0;if(!e)break;n=o[t>>2]|0}h=f;return}function jI(t,e){t=t|0;e=e|0;var n=0,i=0,r=0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0,x=0,w=0,S=0,M=0;if((o[t>>2]|0)==(e|0)){o[t>>2]=0;t=0;return t|0}i=o[e+32>>2]|0;n=o[i+32>>2]|0;e=o[i+36+(((o[i+40>>2]|0)!=(e|0)&1)<<2)>>2]|0;if(!n){o[t>>2]=e;o[e+32>>2]=0;n=o[t+4>>2]|0;if(!n)n=e;else{o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0);n=o[t>>2]|0}o[t+4>>2]=i;t=n;return t|0}o[n+36+(((o[n+40>>2]|0)==(i|0)&1)<<2)>>2]=e;o[e+32>>2]=n;e=o[t+4>>2]|0;if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+4>>2]=i;do{b=+l[n>>2];S=n+4|0;m=+l[S>>2];x=n+8|0;d=+l[x>>2];M=n+16|0;p=+l[M>>2];w=n+20|0;a=+l[w>>2];i=n+24|0;u=+l[i>>2];y=o[n+36>>2]|0;e=o[n+40>>2]|0;v=+l[y>>2];g=+l[e>>2];g=v<g?v:g;l[n>>2]=g;v=+l[y+16>>2];h=+l[e+16>>2];h=v>h?v:h;l[M>>2]=h;v=+l[y+4>>2];_=+l[e+4>>2];_=v<_?v:_;l[S>>2]=_;v=+l[y+20>>2];s=+l[e+20>>2];s=v>s?v:s;l[w>>2]=s;v=+l[y+8>>2];f=+l[e+8>>2];f=v<f?v:f;l[x>>2]=f;v=+l[y+24>>2];c=+l[e+24>>2];c=v>c?v:c;l[i>>2]=c;if(!(b!=g|m!=_|d!=f|p!=h)?!(u!=c|a!=s):0){r=14;break}n=o[n+32>>2]|0}while((n|0)!=0);if((r|0)==14)return n|0;M=o[t>>2]|0;return M|0}function UI(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0,s=0,a=0.0,c=0.0,u=0.0,h=0.0,p=0.0,f=0.0,d=0,_=0,m=0.0;if(!(o[t>>2]|0)){o[t>>2]=n;o[n+32>>2]=0;return}i=o[e+40>>2]|0;if(!i)d=e;else{u=+l[n>>2]+ +l[n+16>>2];a=+l[n+4>>2]+ +l[n+20>>2];c=+l[n+8>>2]+ +l[n+24>>2];do{_=o[e+36>>2]|0;f=+G(+(u-(+l[_>>2]+ +l[_+16>>2])))+ +G(+(a-(+l[_+4>>2]+ +l[_+20>>2])))+ +G(+(c-(+l[_+8>>2]+ +l[_+24>>2])));e=o[e+36+((!(f<+G(+(u-(+l[i>>2]+ +l[i+16>>2])))+ +G(+(a-(+l[i+4>>2]+ +l[i+20>>2])))+ +G(+(c-(+l[i+8>>2]+ +l[i+24>>2]))))&1)<<2)>>2]|0;i=o[e+40>>2]|0}while((i|0)!=0);d=e}_=d+32|0;i=o[_>>2]|0;e=o[t+4>>2]|0;if(!e){o[5637]=(o[5637]|0)+1;e=Jc(63)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}r=e;s=r+44|0;do{o[r>>2]=0;r=r+4|0}while((r|0)<(s|0))}else o[t+4>>2]=0;o[e+32>>2]=i;o[e+36>>2]=0;r=e+40|0;o[r>>2]=0;m=+l[n>>2];f=+l[d>>2];f=m<f?m:f;l[e>>2]=f;m=+l[n+16>>2];u=+l[d+16>>2];u=m>u?m:u;l[e+16>>2]=u;m=+l[n+4>>2];p=+l[d+4>>2];p=m<p?m:p;l[e+4>>2]=p;m=+l[n+20>>2];c=+l[d+20>>2];c=m>c?m:c;l[e+20>>2]=c;m=+l[n+8>>2];h=+l[d+8>>2];h=m<h?m:h;l[e+8>>2]=h;m=+l[n+24>>2];a=+l[d+24>>2];a=m>a?m:a;l[e+24>>2]=a;if(!i){o[e+36>>2]=d;o[_>>2]=e;o[r>>2]=n;o[n+32>>2]=e;o[t>>2]=e;return}o[i+36+(((o[(o[_>>2]|0)+40>>2]|0)==(d|0)&1)<<2)>>2]=e;o[e+36>>2]=d;o[_>>2]=e;o[r>>2]=n;o[n+32>>2]=e;while(1){e=i+4|0;if(((((+l[i>>2]<=f?+l[e>>2]<=p:0)?+l[i+8>>2]<=h:0)?+l[i+16>>2]>=u:0)?+l[i+20>>2]>=c:0)?+l[i+24>>2]>=a:0){e=21;break}n=o[i+36>>2]|0;t=o[i+40>>2]|0;m=+l[n>>2];f=+l[t>>2];f=m<f?m:f;l[i>>2]=f;m=+l[n+16>>2];u=+l[t+16>>2];u=m>u?m:u;l[i+16>>2]=u;m=+l[n+4>>2];p=+l[t+4>>2];p=m<p?m:p;l[e>>2]=p;m=+l[n+20>>2];c=+l[t+20>>2];c=m>c?m:c;l[i+20>>2]=c;m=+l[n+8>>2];h=+l[t+8>>2];h=m<h?m:h;l[i+8>>2]=h;m=+l[n+24>>2];a=+l[t+24>>2];a=m>a?m:a;l[i+24>>2]=a;i=o[i+32>>2]|0;if(!i){e=21;break}}if((e|0)==21)return}function zI(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=+r;var s=0,a=0.0,c=0,u=0,h=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0;d=+l[n>>2];if(+l[e>>2]<=d){a=+l[n+4>>2];if((((+l[e+4>>2]<=a?+l[e+8>>2]<=+l[n+8>>2]:0)?+l[e+16>>2]>=+l[n+16>>2]:0)?+l[e+20>>2]>=+l[n+20>>2]:0)?+l[e+24>>2]>=+l[n+24>>2]:0){n=0;return n|0}else s=n+4|0}else{s=n+4|0;a=+l[n+4>>2]}l[n>>2]=d-r;p=a-r;l[s>>2]=p;_=+l[n+8>>2]-r;l[n+8>>2]=_;a=+l[n+16>>2]+r;l[n+16>>2]=a;f=+l[n+20>>2]+r;l[n+20>>2]=f;m=+l[n+24>>2]+r;l[n+24>>2]=m;h=+l[i>>2];if(h>0.0)l[n+16>>2]=h+a;else l[n>>2]=h+(d-r);a=+l[i+4>>2];if(a>0.0)l[n+20>>2]=a+f;else l[s>>2]=a+p;a=+l[i+8>>2];if(a>0.0)l[n+24>>2]=a+m;else l[n+8>>2]=a+_;s=jI(t,e)|0;t:do{if(s){c=o[t+8>>2]|0;if((c|0)<=-1){s=o[t>>2]|0;break}if((c|0)>0){u=0;while(1){i=o[s+32>>2]|0;u=u+1|0;if(!i)break t;if((u|0)>=(c|0)){s=i;break}else s=i}}}else s=0}while(0);o[e>>2]=o[n>>2];o[e+4>>2]=o[n+4>>2];o[e+8>>2]=o[n+8>>2];o[e+12>>2]=o[n+12>>2];o[e+16>>2]=o[n+16>>2];o[e+20>>2]=o[n+20>>2];o[e+24>>2]=o[n+24>>2];o[e+28>>2]=o[n+28>>2];UI(t,s,e);n=1;return n|0}function GI(t,e,n){t=t|0;e=e|0;n=n|0;return}function VI(t,e,n){t=t|0;e=e|0;n=+n;ck[o[(o[t>>2]|0)+12>>2]&127](t,e);return}function WI(t,e){t=t|0;e=e|0;return 1}function HI(t,e){t=t|0;e=e|0;return 1}function XI(t){t=t|0;var e=0;o[t>>2]=2692;if(i[t+192>>0]|0?(e=o[t+136>>2]|0,sk[o[o[e>>2]>>2]&255](e),e=o[t+136>>2]|0,e|0):0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}NI(t+64|0);NI(t+4|0);return}function qI(t){t=t|0;XI(t);Kc(t);return}function YI(t,e,n,s,a,c,l,u,p){t=t|0;e=e|0;n=n|0;s=s|0;a=a|0;c=c|0;l=l|0;u=u|0;p=p|0;var f=0,d=0;d=h;h=h+48|0;o[5637]=(o[5637]|0)+1;s=Jc(83)|0;if(!s)f=0;else{o[(s+4+15&-16)+-4>>2]=s;f=s+4+15&-16}o[f>>2]=a;r[f+4>>1]=c;r[f+6>>1]=l;c=f+16|0;o[c>>2]=o[e>>2];o[c+4>>2]=o[e+4>>2];o[c+8>>2]=o[e+8>>2];o[c+12>>2]=o[e+12>>2];c=f+32|0;o[c>>2]=o[n>>2];o[c+4>>2]=o[n+4>>2];o[c+8>>2]=o[n+8>>2];o[c+12>>2]=o[n+12>>2];o[f+8>>2]=0;c=f+56|0;o[c>>2]=0;l=f+52|0;o[l>>2]=0;o[d+16>>2]=o[e>>2];o[d+16+4>>2]=o[e+4>>2];o[d+16+8>>2]=o[e+8>>2];o[d+16+12>>2]=o[e+12>>2];o[d+16+16>>2]=o[n>>2];o[d+16+16+4>>2]=o[n+4>>2];o[d+16+16+8>>2]=o[n+8>>2];o[d+16+16+12>>2]=o[n+12>>2];o[f+60>>2]=o[t+144>>2];s=(o[t+188>>2]|0)+1|0;o[t+188>>2]=s;o[f+12>>2]=s;s=o[t+8>>2]|0;if(!s){o[5637]=(o[5637]|0)+1;s=Jc(63)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}u=s;p=u+44|0;do{o[u>>2]=0;u=u+4|0}while((u|0)<(p|0))}else o[t+8>>2]=0;o[s+32>>2]=0;o[s+36>>2]=f;o[s+40>>2]=0;o[s>>2]=o[d+16>>2];o[s+4>>2]=o[d+16+4>>2];o[s+8>>2]=o[d+16+8>>2];o[s+12>>2]=o[d+16+12>>2];o[s+16>>2]=o[d+16+16>>2];o[s+20>>2]=o[d+16+20>>2];o[s+24>>2]=o[d+16+24>>2];o[s+28>>2]=o[d+16+28>>2];UI(t+4|0,o[t+4>>2]|0,s);o[t+16>>2]=(o[t+16>>2]|0)+1;o[f+48>>2]=s;u=t+124+(o[t+144>>2]<<2)|0;o[l>>2]=0;o[c>>2]=o[u>>2];s=o[u>>2]|0;if(s|0)o[s+52>>2]=f;o[u>>2]=f;if(i[t+193>>0]|0){h=d;return f|0}o[d>>2]=2756;o[d+4>>2]=t;o[d+8>>2]=f;QI(o[t+4>>2]|0,d+16|0,d);QI(o[t+64>>2]|0,d+16|0,d);h=d;return f|0}function ZI(t){t=t|0;return}function JI(t){t=t|0;Kc(t);return}function KI(t,e,n){t=t|0;e=e|0;n=n|0;var i=0;if((e|0)==(n|0))return;i=o[(o[t+4>>2]|0)+136>>2]|0;vk[o[(o[i>>2]|0)+8>>2]&63](i,o[e+36>>2]|0,o[n+36>>2]|0)|0;t=(o[t+4>>2]|0)+160|0;o[t>>2]=(o[t>>2]|0)+1;return}function $I(t,e){t=t|0;e=e|0;Uk[o[(o[t>>2]|0)+8>>2]&127](t,e,o[(o[t+8>>2]|0)+48>>2]|0);return}function QI(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0,s=0,a=0,c=0,u=0,h=0.0,p=0.0,f=0.0,d=0.0,_=0,m=0.0,g=0,b=0.0,v=0;if(!t)return;f=+l[e>>2];d=+l[e+4>>2];m=+l[e+8>>2];b=+l[e+16>>2];p=+l[e+20>>2];h=+l[e+24>>2];o[5637]=(o[5637]|0)+1;e=Jc(275)|0;o[(e+4+15&-16)+-4>>2]=e;o[(e+4+15&-16)>>2]=t;u=1;t=64;e=e+4+15&-16;while(1){i=u+-1|0;a=o[e+(i<<2)>>2]|0;do{if(((((+l[a>>2]<=b?+l[a+16>>2]>=f:0)?+l[a+4>>2]<=p:0)?+l[a+20>>2]>=d:0)?+l[a+8>>2]<=h:0)?+l[a+24>>2]>=m:0){if(!(o[a+40>>2]|0)){ck[o[(o[n>>2]|0)+12>>2]&127](n,a);break}c=o[a+36>>2]|0;do{if((i|0)==(t|0)?(_=t|0?t<<1:1,(u|0)<=(_|0)):0){if((_|0)!=0?(o[5637]=(o[5637]|0)+1,g=Jc((_<<2|3)+16|0)|0,(g|0)!=0):0){o[(g+4+15&-16)+-4>>2]=g;s=g+4+15&-16}else s=0;if((u|0)<=1){if(!e){t=_;e=s;break}}else{r=0;do{o[s+(r<<2)>>2]=o[e+(r<<2)>>2];r=r+1|0}while((r|0)!=(t|0))}o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0);t=_;e=s}}while(0);o[e+(i<<2)>>2]=c;s=o[a+40>>2]|0;do{if((u|0)==(t|0)){t=u|0?u<<1:1;if((u|0)<(t|0)){if((t|0)!=0?(o[5637]=(o[5637]|0)+1,v=Jc((t<<2|3)+16|0)|0,(v|0)!=0):0){o[(v+4+15&-16)+-4>>2]=v;r=v+4+15&-16}else r=0;if((u|0)<=0){if(!e){e=r;break}}else{i=0;do{o[r+(i<<2)>>2]=o[e+(i<<2)>>2];i=i+1|0}while((i|0)!=(u|0))}o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0);e=r}else t=u}}while(0);o[e+(u<<2)>>2]=s;i=u+1|0}}while(0);if((i|0)>0)u=i;else break}if(!e)return;o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0);return}function tP(t,e,n){t=t|0;e=e|0;n=n|0;var r=0,s=0;if((o[e+60>>2]|0)==2){r=o[e+48>>2]|0;jI(t+64|0,r)|0;s=o[t+68>>2]|0;if(s|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0)}o[t+68>>2]=r;o[t+76>>2]=(o[t+76>>2]|0)+-1}else{r=o[e+48>>2]|0;jI(t+4|0,r)|0;s=o[t+8>>2]|0;if(s|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0)}o[t+8>>2]=r;o[t+16>>2]=(o[t+16>>2]|0)+-1}r=o[e+52>>2]|0;s=o[e+56>>2]|0;if(!r)o[t+124+(o[e+60>>2]<<2)>>2]=s;else o[r+56>>2]=s;r=o[e+56>>2]|0;if(r|0)o[r+52>>2]=o[e+52>>2];s=o[t+136>>2]|0;Uk[o[(o[s>>2]|0)+16>>2]&127](s,e,n);o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0);i[t+194>>0]=1;return}function eP(t,e,n,r,s){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;var a=0,c=0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0,g=0,b=0,v=0.0,y=0.0;b=h;h=h+48|0;o[b+16>>2]=o[n>>2];o[b+16+4>>2]=o[n+4>>2];o[b+16+8>>2]=o[n+8>>2];o[b+16+12>>2]=o[n+12>>2];o[b+16+16>>2]=o[r>>2];o[b+16+16+4>>2]=o[r+4>>2];o[b+16+16+8>>2]=o[r+8>>2];o[b+16+16+12>>2]=o[r+12>>2];do{if((o[e+60>>2]|0)==2){s=o[e+48>>2]|0;jI(t+64|0,s)|0;a=o[t+68>>2]|0;if(a|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0)}o[t+68>>2]=s;o[t+76>>2]=(o[t+76>>2]|0)+-1;s=o[t+8>>2]|0;if(!s){o[5637]=(o[5637]|0)+1;s=Jc(63)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}a=s;c=a+44|0;do{o[a>>2]=0;a=a+4|0}while((a|0)<(c|0))}else o[t+8>>2]=0;o[s+32>>2]=0;o[s+36>>2]=e;o[s+40>>2]=0;o[s>>2]=o[b+16>>2];o[s+4>>2]=o[b+16+4>>2];o[s+8>>2]=o[b+16+8>>2];o[s+12>>2]=o[b+16+12>>2];o[s+16>>2]=o[b+16+16>>2];o[s+20>>2]=o[b+16+20>>2];o[s+24>>2]=o[b+16+24>>2];o[s+28>>2]=o[b+16+28>>2];UI(t+4|0,o[t+4>>2]|0,s);o[t+16>>2]=(o[t+16>>2]|0)+1;o[e+48>>2]=s;c=1}else{o[t+168>>2]=(o[t+168>>2]|0)+1;g=o[e+48>>2]|0;if(((((+l[g>>2]<=+l[b+16+16>>2]?+l[g+16>>2]>=+l[b+16>>2]:0)?+l[g+4>>2]<=+l[b+16+20>>2]:0)?+l[g+20>>2]>=+l[b+16+4>>2]:0)?+l[g+8>>2]<=+l[b+16+24>>2]:0)?+l[g+24>>2]>=+l[b+16+8>>2]:0){u=+l[e+16>>2];v=+l[n>>2]-u;p=+l[e+20>>2];d=+l[n+4>>2]-p;f=+l[e+24>>2];_=+l[n+8>>2]-f;y=+l[t+140>>2];u=(+l[e+32>>2]-u)*.5*y;p=(+l[e+36>>2]-p)*.5*y;f=y*((+l[e+40>>2]-f)*.5);l[b>>2]=u;l[b+4>>2]=p;l[b+8>>2]=f;l[b+12>>2]=0.0;if(v<0.0)l[b>>2]=-u;if(d<0.0)l[b+4>>2]=-p;if(_<0.0)l[b+8>>2]=-f;if(zI(t+4|0,g,b+16|0,b,.05000000074505806)|0){o[t+172>>2]=(o[t+172>>2]|0)+1;s=1}else s=0;c=s;break}s=jI(t+4|0,g)|0;t:do{if(s){c=o[t+12>>2]|0;if((c|0)<=-1){s=o[t+4>>2]|0;break}if((c|0)>0){m=0;while(1){a=o[s+32>>2]|0;m=m+1|0;if(!a)break t;if((m|0)>=(c|0)){s=a;break}else s=a}}}else s=0}while(0);o[g>>2]=o[b+16>>2];o[g+4>>2]=o[b+16+4>>2];o[g+8>>2]=o[b+16+8>>2];o[g+12>>2]=o[b+16+12>>2];o[g+16>>2]=o[b+16+16>>2];o[g+20>>2]=o[b+16+20>>2];o[g+24>>2]=o[b+16+24>>2];o[g+28>>2]=o[b+16+28>>2];UI(t+4|0,s,g);o[t+172>>2]=(o[t+172>>2]|0)+1;c=1}}while(0);s=o[e+52>>2]|0;a=o[e+56>>2]|0;if(!s)o[t+124+(o[e+60>>2]<<2)>>2]=a;else o[s+56>>2]=a;s=o[e+56>>2]|0;if(s|0)o[s+52>>2]=o[e+52>>2];o[e+16>>2]=o[n>>2];o[e+16+4>>2]=o[n+4>>2];o[e+16+8>>2]=o[n+8>>2];o[e+16+12>>2]=o[n+12>>2];o[e+32>>2]=o[r>>2];o[e+32+4>>2]=o[r+4>>2];o[e+32+8>>2]=o[r+8>>2];o[e+32+12>>2]=o[r+12>>2];s=o[t+144>>2]|0;o[e+60>>2]=s;o[e+52>>2]=0;o[e+56>>2]=o[t+124+(s<<2)>>2];a=o[t+124+(s<<2)>>2]|0;if(a|0)o[a+52>>2]=e;o[t+124+(s<<2)>>2]=e;if(!c){h=b;return}i[t+194>>0]=1;if(i[t+193>>0]|0){h=b;return}o[b>>2]=2756;o[b+4>>2]=t;nP(t+64|0,o[t+64>>2]|0,o[e+48>>2]|0,b);nP(t+4|0,o[t+4>>2]|0,o[e+48>>2]|0,b);h=b;return}function nP(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;var s=0,a=0,c=0,u=0,h=0,p=0,f=0,d=0,_=0;if(!((e|0)!=0&(n|0)!=0))return;if((o[t+24>>2]|0)<128?(o[t+28>>2]|0)<128:0){o[5637]=(o[5637]|0)+1;s=Jc(1043)|0;if(!s)c=0;else{o[(s+4+15&-16)+-4>>2]=s;c=s+4+15&-16}s=o[t+24>>2]|0;if((s|0)>0){a=0;do{h=(o[t+32>>2]|0)+(a<<3)|0;p=o[h+4>>2]|0;f=c+(a<<3)|0;o[f>>2]=o[h>>2];o[f+4>>2]=p;a=a+1|0}while((a|0)!=(s|0))}s=o[t+32>>2]|0;if(s|0){if(i[t+36>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0)}o[t+32>>2]=0}i[t+36>>0]=1;o[t+32>>2]=c;o[t+28>>2]=128}o[t+24>>2]=128;f=o[t+32>>2]|0;o[f>>2]=e;o[f+4>>2]=n;f=1;c=124;while(1){s=f+-1|0;a=o[t+32>>2]|0;h=o[a+(s<<3)>>2]|0;p=o[a+(s<<3)+4>>2]|0;if((s|0)>(c|0)){n=o[t+24>>2]|0;if((n|0)<(n<<1|0)?(o[t+28>>2]|0)<(n<<1|0):0){if(n){o[5637]=(o[5637]|0)+1;a=Jc((n<<4|3)+16|0)|0;if(!a)a=0;else{o[(a+4+15&-16)+-4>>2]=a;a=a+4+15&-16}c=o[t+24>>2]|0;if((c|0)>0){e=0;do{_=(o[t+32>>2]|0)+(e<<3)|0;d=o[_+4>>2]|0;u=a+(e<<3)|0;o[u>>2]=o[_>>2];o[u+4>>2]=d;e=e+1|0}while((e|0)!=(c|0))}}else a=0;c=o[t+32>>2]|0;if(c|0){if(i[t+36>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[c+-4>>2]|0)}o[t+32>>2]=0}i[t+36>>0]=1;o[t+32>>2]=a;o[t+28>>2]=n<<1}o[t+24>>2]=n<<1;c=(n<<1)+-4|0}do{if((h|0)==(p|0)){if(o[h+40>>2]|0){_=o[h+36>>2]|0;o[a+(s<<3)>>2]=_;o[a+(s<<3)+4>>2]=_;s=f+1|0;_=o[t+32>>2]|0;d=o[h+40>>2]|0;o[_+(f<<3)>>2]=d;o[_+(f<<3)+4>>2]=d;_=o[t+32>>2]|0;d=o[h+40>>2]|0;o[_+(s<<3)>>2]=o[h+36>>2];o[_+(s<<3)+4>>2]=d;s=f+2|0}}else if(((((+l[h>>2]<=+l[p+16>>2]?+l[h+16>>2]>=+l[p>>2]:0)?+l[h+4>>2]<=+l[p+20>>2]:0)?+l[h+20>>2]>=+l[p+4>>2]:0)?+l[h+8>>2]<=+l[p+24>>2]:0)?+l[h+24>>2]>=+l[p+8>>2]:0){e=(o[p+40>>2]|0)!=0;if(!(o[h+40>>2]|0))if(e){_=o[p+36>>2]|0;o[a+(s<<3)>>2]=h;o[a+(s<<3)+4>>2]=_;s=o[t+32>>2]|0;_=o[p+40>>2]|0;o[s+(f<<3)>>2]=h;o[s+(f<<3)+4>>2]=_;s=f+1|0;break}else{Uk[o[(o[r>>2]|0)+8>>2]&127](r,h,p);break}else{n=a+(s<<3)|0;u=o[h+36>>2]|0;if(e){_=o[p+36>>2]|0;o[n>>2]=u;o[a+(s<<3)+4>>2]=_;_=f+1|0;s=o[t+32>>2]|0;d=o[p+36>>2]|0;o[s+(f<<3)>>2]=o[h+40>>2];o[s+(f<<3)+4>>2]=d;s=f+2|0;d=o[t+32>>2]|0;u=o[p+40>>2]|0;o[d+(_<<3)>>2]=o[h+36>>2];o[d+(_<<3)+4>>2]=u;_=o[t+32>>2]|0;d=o[p+40>>2]|0;o[_+(s<<3)>>2]=o[h+40>>2];o[_+(s<<3)+4>>2]=d;s=f+3|0;break}else{o[n>>2]=u;o[a+(s<<3)+4>>2]=p;s=o[t+32>>2]|0;o[s+(f<<3)>>2]=o[h+40>>2];o[s+(f<<3)+4>>2]=p;s=f+1|0;break}}}}while(0);if(!s)break;else f=s}return}function iP(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;o[n>>2]=o[e+16>>2];o[n+4>>2]=o[e+16+4>>2];o[n+8>>2]=o[e+16+8>>2];o[n+12>>2]=o[e+16+12>>2];o[i>>2]=o[e+32>>2];o[i+4>>2]=o[e+32+4>>2];o[i+8>>2]=o[e+32+8>>2];o[i+12>>2]=o[e+32+12>>2];return}function rP(t,e,n,i,r,s){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;s=s|0;n=h;h=h+16|0;o[n>>2]=2792;o[n+4>>2]=i;aP(t+4|0,o[t+4>>2]|0,e,i+4|0,i+20|0,+l[i+32>>2],r,s,n);aP(t+64|0,o[t+64>>2]|0,e,i+4|0,i+20|0,+l[i+32>>2],r,s,n);h=n;return}function oP(t){t=t|0;Kc(t);return}function sP(t,e){t=t|0;e=e|0;t=o[t+4>>2]|0;Ek[o[(o[t>>2]|0)+8>>2]&31](t,o[e+36>>2]|0)|0;return}function aP(t,e,n,r,s,a,c,u,p){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;a=+a;c=c|0;u=u|0;p=p|0;var f=0,d=0,_=0,m=0,g=0.0,b=0.0,v=0.0,y=0.0,x=0,w=0,S=0,M=0,C=0.0,T=0.0,A=0.0,L=0.0,E=0,R=0.0;E=h;h=h+32|0;if(!e){h=E;return}m=o[t+44>>2]|0;if((m|0)<128){if((o[t+48>>2]|0)<128){o[5637]=(o[5637]|0)+1;f=Jc(531)|0;if(!f)_=0;else{o[(f+4+15&-16)+-4>>2]=f;_=f+4+15&-16}f=o[t+44>>2]|0;if((f|0)>0){d=0;do{o[_+(d<<2)>>2]=o[(o[t+52>>2]|0)+(d<<2)>>2];d=d+1|0}while((d|0)!=(f|0))}f=o[t+52>>2]|0;if(f|0){if(i[t+56>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[f+-4>>2]|0)}o[t+52>>2]=0}i[t+56>>0]=1;o[t+52>>2]=_;o[t+48>>2]=128;d=t+52|0}else d=t+52|0;f=m;do{o[(o[d>>2]|0)+(f<<2)>>2]=0;f=f+1|0}while((f|0)!=128);M=t+48|0}else{d=t+52|0;M=t+48|0}o[t+44>>2]=128;o[o[d>>2]>>2]=e;S=1;f=126;while(1){_=S+-1|0;m=o[d>>2]|0;w=o[m+(_<<2)>>2]|0;v=+l[w+4>>2]-+l[u+4>>2];g=+l[w+8>>2]-+l[u+8>>2];l[E>>2]=+l[w>>2]-+l[u>>2];l[E+4>>2]=v;l[E+8>>2]=g;l[E+12>>2]=0.0;g=+l[w+20>>2]-+l[c+4>>2];v=+l[w+24>>2]-+l[c+8>>2];l[E+16>>2]=+l[w+16>>2]-+l[c>>2];l[E+20>>2]=g;l[E+24>>2]=v;l[E+28>>2]=0.0;x=o[s>>2]|0;v=+l[n>>2];g=+l[r>>2];b=(+l[E+(x<<4)>>2]-v)*g;v=g*(+l[E+(1-x<<4)>>2]-v);x=o[s+4>>2]|0;g=+l[n+4>>2];R=+l[r+4>>2];y=(+l[E+(x<<4)+4>>2]-g)*R;g=R*(+l[E+(1-x<<4)+4>>2]-g);do{if((!(y>v|b>g)?(C=y>b?y:b,L=g<v?g:v,x=o[s+8>>2]|0,A=+l[n+8>>2],R=+l[r+8>>2],T=(+l[E+(x<<4)+8>>2]-A)*R,A=R*(+l[E+(1-x<<4)+8>>2]-A),!(T>L|C>A)):0)?(A<L?A:L)>0.0?(T>C?T:C)<a:0:0){if(!(o[w+40>>2]|0)){ck[o[(o[p>>2]|0)+12>>2]&127](p,w);break}if((_|0)>(f|0)){x=o[t+44>>2]|0;if((x|0)<(x<<1|0)){if((o[M>>2]|0)<(x<<1|0)){if(x){o[5637]=(o[5637]|0)+1;f=Jc((x<<3|3)+16|0)|0;if(!f)f=0;else{o[(f+4+15&-16)+-4>>2]=f;f=f+4+15&-16}m=o[t+44>>2]|0;if((m|0)>0){e=0;do{o[f+(e<<2)>>2]=o[(o[d>>2]|0)+(e<<2)>>2];e=e+1|0}while((e|0)!=(m|0))}}else f=0;m=o[d>>2]|0;if(m|0){if(i[t+56>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[m+-4>>2]|0)}o[d>>2]=0}i[t+56>>0]=1;o[d>>2]=f;o[M>>2]=x<<1;m=x}else{f=m;m=x}do{o[f+(m<<2)>>2]=0;m=m+1|0;f=o[d>>2]|0}while((m|0)!=(x<<1|0))}else f=m;o[t+44>>2]=x<<1;m=f;f=(x<<1)+-2|0}o[m+(_<<2)>>2]=o[w+36>>2];o[(o[d>>2]|0)+(S<<2)>>2]=o[w+40>>2];_=S+1|0}}while(0);if(!_)break;else S=_}h=E;return}function cP(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0;r=h;h=h+48|0;o[r+32>>2]=2828;o[r+32+4>>2]=i;o[r>>2]=o[e>>2];o[r+4>>2]=o[e+4>>2];o[r+8>>2]=o[e+8>>2];o[r+12>>2]=o[e+12>>2];o[r+16>>2]=o[n>>2];o[r+16+4>>2]=o[n+4>>2];o[r+16+8>>2]=o[n+8>>2];o[r+16+12>>2]=o[n+12>>2];QI(o[t+4>>2]|0,r,r+32|0);QI(o[t+64>>2]|0,r,r+32|0);h=r;return}function lP(t){t=t|0;Kc(t);return}function uP(t,e){t=t|0;e=e|0;t=o[t+4>>2]|0;Ek[o[(o[t>>2]|0)+8>>2]&31](t,o[e+36>>2]|0)|0;return}function hP(t,e){t=t|0;e=e|0;var n=0,r=0,s=0.0,a=0,c=0,u=0,p=0,f=0,d=0,_=0,m=0,g=0;g=h;h=h+32|0;BI(t+4|0,((et(o[t+152>>2]|0,o[t+16>>2]|0)|0)/100|0)+1|0);if(o[t+164>>2]|0){_=((et(o[t+148>>2]|0,o[t+76>>2]|0)|0)/100|0)+1|0;BI(t+64|0,_);_=(o[t+164>>2]|0)-_|0;o[t+164>>2]=(_|0)<0?0:_}n=((o[t+144>>2]|0)+1|0)%2|0;o[t+144>>2]=n;n=o[t+124+(n<<2)>>2]|0;if(n|0){do{u=n+56|0;p=n;n=o[u>>2]|0;c=o[p+52>>2]|0;a=n;if(!c)o[t+124+(o[p+60>>2]<<2)>>2]=a;else o[c+56>>2]=a;a=o[u>>2]|0;if(a|0)o[a+52>>2]=o[p+52>>2];o[p+52>>2]=0;o[u>>2]=o[t+132>>2];a=o[t+132>>2]|0;if(a|0)o[a+52>>2]=p;o[t+132>>2]=p;a=o[p+48>>2]|0;jI(t+4|0,a)|0;c=o[t+8>>2]|0;if(c|0){o[5638]=(o[5638]|0)+1;Kc(o[c+-4>>2]|0)}o[t+8>>2]=a;o[t+16>>2]=(o[t+16>>2]|0)+-1;o[g>>2]=o[p+16>>2];o[g+4>>2]=o[p+16+4>>2];o[g+8>>2]=o[p+16+8>>2];o[g+12>>2]=o[p+16+12>>2];o[g+16>>2]=o[p+32>>2];o[g+16+4>>2]=o[p+32+4>>2];o[g+16+8>>2]=o[p+32+8>>2];o[g+16+12>>2]=o[p+32+12>>2];a=o[t+68>>2]|0;if(!a){o[5637]=(o[5637]|0)+1;a=Jc(63)|0;if(!a)a=0;else{o[(a+4+15&-16)+-4>>2]=a;a=a+4+15&-16}c=a;u=c+44|0;do{o[c>>2]=0;c=c+4|0}while((c|0)<(u|0))}else o[t+68>>2]=0;o[a+32>>2]=0;o[a+36>>2]=p;o[a+40>>2]=0;o[a>>2]=o[g>>2];o[a+4>>2]=o[g+4>>2];o[a+8>>2]=o[g+8>>2];o[a+12>>2]=o[g+12>>2];o[a+16>>2]=o[g+16>>2];o[a+20>>2]=o[g+20>>2];o[a+24>>2]=o[g+24>>2];o[a+28>>2]=o[g+28>>2];UI(t+64|0,o[t+64>>2]|0,a);c=(o[t+76>>2]|0)+1|0;o[t+76>>2]=c;o[p+48>>2]=a;o[p+60>>2]=2}while((n|0)!=0);o[t+164>>2]=c;i[t+194>>0]=1}o[g>>2]=2756;o[g+4>>2]=t;if(i[t+193>>0]|0?(nP(t+4|0,o[t+4>>2]|0,o[t+64>>2]|0,g),i[t+193>>0]|0):0){_=o[t+4>>2]|0;nP(t+4|0,_,_,g)}if(i[t+194>>0]|0?(f=o[t+136>>2]|0,f=uk[o[(o[f>>2]|0)+28>>2]&127](f)|0,r=o[f+4>>2]|0,(r|0)>0):0){n=(et(o[t+156>>2]|0,r)|0)/100|0;_=o[t+160>>2]|0;n=(_|0)>(n|0)?_:n;n=(r|0)<(n|0)?r:n;if((n|0)>0){a=0;do{u=((o[t+184>>2]|0)+a|0)%(r|0)|0;d=o[f+12>>2]|0;c=o[d+(u<<4)>>2]|0;u=o[d+(u<<4)+4>>2]|0;d=o[c+48>>2]|0;_=o[u+48>>2]|0;if(!(((((+l[d>>2]<=+l[_+16>>2]?+l[d+16>>2]>=+l[_>>2]:0)?+l[d+4>>2]<=+l[_+20>>2]:0)?+l[d+20>>2]>=+l[_+4>>2]:0)?+l[d+8>>2]<=+l[_+24>>2]:0)?+l[d+24>>2]>=+l[_+8>>2]:0)){r=o[t+136>>2]|0;dk[o[(o[r>>2]|0)+12>>2]&31](r,c,u,e)|0;r=o[f+4>>2]|0;a=a+-1|0;n=n+-1|0}a=a+1|0}while((a|0)<(n|0));if((r|0)>0)m=37;else n=0}else m=37;if((m|0)==37)n=((o[t+184>>2]|0)+n|0)%(r|0)|0;o[t+184>>2]=n}o[t+180>>2]=(o[t+180>>2]|0)+1;o[t+160>>2]=1;i[t+194>>0]=0;r=o[t+168>>2]|0;n=o[t+172>>2]|0;if(!r)s=0.0;else s=+(n>>>0)/+(r>>>0);l[t+176>>2]=s;o[t+172>>2]=n>>>1;o[t+168>>2]=r>>>1;_=o[t+136>>2]|0;if(!(uk[o[(o[_>>2]|0)+56>>2]&127](_)|0)){h=g;return}_=o[t+136>>2]|0;_=uk[o[(o[_>>2]|0)+28>>2]&127](_)|0;n=o[_+4>>2]|0;if((n|0)>1){kI(_,0,n+-1|0);a=0;c=0;u=0;r=0;m=44}else{a=0;d=0;f=0;r=0}while(1){if((m|0)==44){m=0;n=o[_+4>>2]|0;d=c;f=u}if((a|0)>=(n|0))break;p=o[_+12>>2]|0;c=p+(a<<4)|0;u=o[c>>2]|0;p=p+(a<<4)+4|0;n=o[p>>2]|0;if(!((u|0)==(f|0)&(n|0)==(r|0))){r=o[u+48>>2]|0;f=o[n+48>>2]|0;if(((((+l[r>>2]<=+l[f+16>>2]?+l[r+16>>2]>=+l[f>>2]:0)?+l[r+4>>2]<=+l[f+20>>2]:0)?+l[r+20>>2]>=+l[f+4>>2]:0)?+l[r+8>>2]<=+l[f+24>>2]:0)?+l[r+24>>2]>=+l[f+8>>2]:0){r=n;n=d}else m=53}else{n=r;m=53}if((m|0)==53){r=o[t+136>>2]|0;Uk[o[(o[r>>2]|0)+32>>2]&127](r,c,e);o[c>>2]=0;o[p>>2]=0;r=n;n=d+1|0}a=a+1|0;c=n;m=44}if((n|0)>1){kI(_,0,n+-1|0);c=o[_+4>>2]|0}else c=n;u=c-d|0;if((d|0)<0){if((o[_+8>>2]|0)<(u|0)){if((c|0)!=(d|0)){o[5637]=(o[5637]|0)+1;n=Jc((u<<4|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}r=o[_+4>>2]|0;if((r|0)>0){a=0;do{m=o[_+12>>2]|0;o[n+(a<<4)>>2]=o[m+(a<<4)>>2];o[n+(a<<4)+4>>2]=o[m+(a<<4)+4>>2];o[n+(a<<4)+8>>2]=o[m+(a<<4)+8>>2];o[n+(a<<4)+12>>2]=o[m+(a<<4)+12>>2];a=a+1|0}while((a|0)!=(r|0));r=_+12|0}else r=_+12|0}else{n=0;r=_+12|0}a=o[r>>2]|0;if(a|0){if(i[_+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0)}o[r>>2]=0}i[_+16>>0]=1;o[r>>2]=n;o[_+8>>2]=u}else r=_+12|0;n=c;do{m=(o[r>>2]|0)+(n<<4)|0;n=n+1|0;o[m>>2]=0;o[m+4>>2]=0;o[m+8>>2]=0;o[m+12>>2]=0}while((n|0)!=(u|0))}o[_+4>>2]=u;h=g;return}function pP(t){t=t|0;return o[t+136>>2]|0}function fP(t){t=t|0;return o[t+136>>2]|0}function dP(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0,p=0,f=0.0;p=o[t+4>>2]|0;t=o[t+64>>2]|0;do{if(!p)if(!t){i=0.0;f=0.0;c=0.0;h=0.0;s=0.0;u=0.0;a=0.0;r=0.0}else{i=+l[t>>2];f=+l[t+12>>2];c=+l[t+16>>2];h=+l[t+20>>2];s=+l[t+24>>2];u=+l[t+28>>2];a=+l[t+4>>2];r=+l[t+8>>2]}else{i=+l[p>>2];if(!t){f=+l[p+12>>2];c=+l[p+16>>2];h=+l[p+20>>2];s=+l[p+24>>2];u=+l[p+28>>2];a=+l[p+4>>2];r=+l[p+8>>2];break}u=+l[t>>2];i=i<u?i:u;u=+l[p+16>>2];c=+l[t+16>>2];c=u>c?u:c;u=+l[p+4>>2];a=+l[t+4>>2];a=u<a?u:a;u=+l[p+20>>2];h=+l[t+20>>2];h=u>h?u:h;u=+l[p+8>>2];r=+l[t+8>>2];r=u<r?u:r;u=+l[p+24>>2];s=+l[t+24>>2];if(u>s){f=0.0;s=u;u=0.0}else{f=0.0;u=0.0}}}while(0);l[e>>2]=i;l[e+4>>2]=a;l[e+8>>2]=r;l[e+12>>2]=f;l[n>>2]=c;l[n+4>>2]=h;l[n+8>>2]=s;l[n+12>>2]=u;return}function _P(t,e){t=t|0;e=e|0;if((o[t+16>>2]|0)!=(0-(o[t+76>>2]|0)|0))return;e=o[t+4>>2]|0;if(e|0)FI(t+4|0,e);e=o[t+8>>2]|0;if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+8>>2]=0;o[t+12>>2]=-1;e=o[t+36>>2]|0;if(e|0){if(i[t+40>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+36>>2]=0}i[t+40>>0]=1;o[t+36>>2]=0;o[t+28>>2]=0;o[t+32>>2]=0;o[t+20>>2]=0;e=o[t+64>>2]|0;if(e|0)FI(t+64|0,e);e=o[t+68>>2]|0;if(e|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+68>>2]=0;o[t+72>>2]=-1;e=o[t+96>>2]|0;if(e|0){if(i[t+100>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+96>>2]=0}i[t+100>>0]=1;o[t+96>>2]=0;o[t+88>>2]=0;o[t+92>>2]=0;o[t+80>>2]=0;i[t+193>>0]=0;i[t+194>>0]=1;o[t+144>>2]=0;o[t+164>>2]=0;o[t+148>>2]=1;o[t+152>>2]=0;o[t+156>>2]=10;o[t+160>>2]=1;o[t+124>>2]=0;o[t+124+4>>2]=0;o[t+124+8>>2]=0;o[t+168>>2]=0;o[t+168+4>>2]=0;o[t+168+8>>2]=0;o[t+168+12>>2]=0;o[t+168+16>>2]=0;o[t+168+20>>2]=0;return}function mP(t){t=t|0;return}function gP(t,e){t=t|0;e=e|0;var n=0;o[t>>2]=2692;i[t+40>>0]=1;o[t+36>>2]=0;o[t+28>>2]=0;o[t+32>>2]=0;i[t+60>>0]=1;o[t+56>>2]=0;o[t+48>>2]=0;o[t+52>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=-1;o[t+16>>2]=0;o[t+20>>2]=0;i[t+100>>0]=1;o[t+96>>2]=0;o[t+88>>2]=0;o[t+92>>2]=0;i[t+120>>0]=1;o[t+116>>2]=0;o[t+108>>2]=0;o[t+112>>2]=0;o[t+64>>2]=0;o[t+68>>2]=0;o[t+72>>2]=-1;o[t+76>>2]=0;o[t+80>>2]=0;i[t+193>>0]=0;i[t+194>>0]=1;i[t+192>>0]=(e|0)!=0^1;l[t+140>>2]=0.0;o[t+144>>2]=0;o[t+164>>2]=0;o[t+148>>2]=1;o[t+152>>2]=0;o[t+156>>2]=10;o[t+160>>2]=1;o[t+168>>2]=0;o[t+172>>2]=0;l[t+176>>2]=0.0;if(e|0){n=e;e=t+136|0;o[e>>2]=n;e=t+188|0;o[e>>2]=0;e=t+180|0;o[e>>2]=0;e=t+184|0;o[e>>2]=0;t=t+124|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;return}o[5637]=(o[5637]|0)+1;e=Jc(91)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}GP(e);n=t+136|0;o[n>>2]=e;n=t+188|0;o[n>>2]=0;n=t+180|0;o[n>>2]=0;n=t+184|0;o[n>>2]=0;n=t+124|0;o[n>>2]=0;o[n+4>>2]=0;o[n+8>>2]=0;return}function bP(t){t=t|0;return}function vP(t){t=t|0;var e=0;o[t>>2]=2864;e=o[t+60>>2]|0;if(e|0){if(i[t+64>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+60>>2]=0}i[t+64>>0]=1;o[t+60>>2]=0;o[t+52>>2]=0;o[t+56>>2]=0;e=o[t+40>>2]|0;if(e|0){if(i[t+44>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+40>>2]=0}i[t+44>>0]=1;o[t+40>>2]=0;o[t+32>>2]=0;o[t+36>>2]=0;e=o[t+16>>2]|0;if(!e){i[t+20>>0]=1;o[t+16>>2]=0;o[t+8>>2]=0;t=t+12|0;o[t>>2]=0;return}if(i[t+20>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+16>>2]=0;i[t+20>>0]=1;o[t+16>>2]=0;o[t+8>>2]=0;t=t+12|0;o[t>>2]=0;return}function yP(t){t=t|0;vP(t);Kc(t);return}function xP(t,e,n){t=t|0;e=e|0;n=n|0;var s=0,a=0,c=0,l=0,u=0,h=0,p=0,f=0;o[4986]=(o[4986]|0)+1;s=o[t+24>>2]|0;if(!s){s=o[e+4>>2]|0;if(!((r[n+6>>1]&(s&65535))<<16>>16)){t=0;return t|0}if(!((r[n+4>>1]&(s>>>16&65535))<<16>>16)){t=0;return t|0}}else if(!(vk[o[(o[s>>2]|0)+8>>2]&63](s,e,n)|0)){t=0;return t|0}h=(o[e+12>>2]|0)>(o[n+12>>2]|0);p=h?n:e;a=o[p+12>>2]|0;h=h?e:n;e=o[h+12>>2]|0;l=((e<<16|a)+~((e<<16|a)<<15)>>10^(e<<16|a)+~((e<<16|a)<<15))*9|0;l=(l>>6^l)+~((l>>6^l)<<11)>>16^(l>>6^l)+~((l>>6^l)<<11);u=o[t+12>>2]|0;s=o[(o[t+40>>2]|0)+((l&u+-1)<<2)>>2]|0;t:do{if((s|0)!=-1){n=o[t+16>>2]|0;while(1){if((o[(o[n+(s<<4)>>2]|0)+12>>2]|0)==(a|0)?(o[(o[n+(s<<4)+4>>2]|0)+12>>2]|0)==(e|0):0)break;s=o[(o[t+60>>2]|0)+(s<<2)>>2]|0;if((s|0)==-1)break t}s=n+(s<<4)|0;if(s|0){t=s;return t|0}}}while(0);c=o[t+8>>2]|0;if((c|0)==(u|0)){s=u|0?u<<1:1;if((u|0)<(s|0)){if(!s){e=0;n=u}else{o[5637]=(o[5637]|0)+1;e=Jc((s<<4|3)+16|0)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}n=o[t+8>>2]|0}if((n|0)>0){a=0;do{f=o[t+16>>2]|0;o[e+(a<<4)>>2]=o[f+(a<<4)>>2];o[e+(a<<4)+4>>2]=o[f+(a<<4)+4>>2];o[e+(a<<4)+8>>2]=o[f+(a<<4)+8>>2];o[e+(a<<4)+12>>2]=o[f+(a<<4)+12>>2];a=a+1|0}while((a|0)!=(n|0))}a=o[t+16>>2]|0;if(a){if(i[t+20>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0);n=o[t+8>>2]|0}o[t+16>>2]=0}i[t+20>>0]=1;o[t+16>>2]=e;o[t+12>>2]=s}else{n=u;s=u}}else{n=c;s=u}o[t+8>>2]=n+1;n=o[t+16>>2]|0;e=o[t+68>>2]|0;if(e){vk[o[(o[e>>2]|0)+8>>2]&63](e,p,h)|0;s=o[t+12>>2]|0}if((u|0)<(s|0)){wP(t);s=(o[t+12>>2]|0)+-1&l}else s=l&u+-1;f=(o[p+12>>2]|0)<(o[h+12>>2]|0);o[n+(c<<4)>>2]=f?p:h;o[n+(c<<4)+4>>2]=f?h:p;o[n+(c<<4)+8>>2]=0;o[n+(c<<4)+8+4>>2]=0;f=(o[t+40>>2]|0)+(s<<2)|0;o[(o[t+60>>2]|0)+(c<<2)>>2]=o[f>>2];o[f>>2]=c;f=n+(c<<4)|0;return f|0}function wP(t){t=t|0;var e=0,n=0,r=0,s=0,a=0,c=0,l=0;c=o[t+12>>2]|0;l=o[t+32>>2]|0;if((c|0)<=(l|0))return;if((c|0)>=(l|0)){do{if((o[t+36>>2]|0)<(c|0)){if(!c){e=0;n=l}else{o[5637]=(o[5637]|0)+1;e=Jc((c<<2|3)+16|0)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}n=o[t+32>>2]|0}r=o[t+40>>2]|0;if((n|0)<=0){if(!r){i[t+44>>0]=1;o[t+40>>2]=e;o[t+36>>2]=c;break}}else{s=0;do{o[e+(s<<2)>>2]=o[r+(s<<2)>>2];s=s+1|0}while((s|0)!=(n|0))}if(i[t+44>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0)}i[t+44>>0]=1;o[t+40>>2]=e;o[t+36>>2]=c}else e=o[t+40>>2]|0}while(0);Il(e+(l<<2)|0,0,c-l<<2|0)|0}o[t+32>>2]=c;a=o[t+52>>2]|0;if((c|0)>(a|0)){do{if((o[t+56>>2]|0)<(c|0)){if(!c){e=0;n=a}else{o[5637]=(o[5637]|0)+1;e=Jc((c<<2|3)+16|0)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}n=o[t+52>>2]|0}r=o[t+60>>2]|0;if((n|0)<=0){if(!r){i[t+64>>0]=1;o[t+60>>2]=e;o[t+56>>2]=c;break}}else{s=0;do{o[e+(s<<2)>>2]=o[r+(s<<2)>>2];s=s+1|0}while((s|0)!=(n|0))}if(i[t+64>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0)}i[t+64>>0]=1;o[t+60>>2]=e;o[t+56>>2]=c}else e=o[t+60>>2]|0}while(0);Il(e+(a<<2)|0,0,c-a<<2|0)|0}o[t+52>>2]=c;if((c|0)>0){Il(o[t+40>>2]|0,-1,c<<2|0)|0;Il(o[t+60>>2]|0,-1,c<<2|0)|0}if((l|0)<=0)return;e=o[t+16>>2]|0;n=o[t+40>>2]|0;r=o[t+60>>2]|0;s=0;do{c=o[(o[e+(s<<4)+4>>2]|0)+12>>2]<<16|o[(o[e+(s<<4)>>2]|0)+12>>2];c=(c+~(c<<15)>>10^c+~(c<<15))*9|0;c=n+((((c>>6^c)+~((c>>6^c)<<11)>>16^(c>>6^c)+~((c>>6^c)<<11))&(o[t+12>>2]|0)+-1)<<2)|0;o[r+(s<<2)>>2]=o[c>>2];o[c>>2]=s;s=s+1|0}while((s|0)!=(l|0));return}function SP(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0,s=0,a=0,c=0,l=0,u=0,h=0,p=0,f=0,d=0;o[4985]=(o[4985]|0)+1;l=(o[e+12>>2]|0)>(o[n+12>>2]|0);h=l?n:e;a=o[h+12>>2]|0;l=l?e:n;r=o[l+12>>2]|0;c=((r<<16|a)+~((r<<16|a)<<15)>>10^(r<<16|a)+~((r<<16|a)<<15))*9|0;c=((c>>6^c)+~((c>>6^c)<<11)>>16^(c>>6^c)+~((c>>6^c)<<11))&(o[t+12>>2]|0)+-1;e=o[(o[t+40>>2]|0)+(c<<2)>>2]|0;if((e|0)==-1){d=0;return d|0}s=o[t+16>>2]|0;n=e;while(1){if((o[(o[s+(n<<4)>>2]|0)+12>>2]|0)==(a|0)?(o[(o[s+(n<<4)+4>>2]|0)+12>>2]|0)==(r|0):0)break;e=o[(o[t+60>>2]|0)+(n<<2)>>2]|0;if((e|0)==-1){e=0;d=24;break}else n=e}if((d|0)==24)return e|0;e=s+(n<<4)|0;if(!e){d=0;return d|0}Uk[o[(o[t>>2]|0)+32>>2]&127](t,e,i);f=o[s+(n<<4)+12>>2]|0;p=e-(o[t+16>>2]|0)>>4;a=(o[t+40>>2]|0)+(c<<2)|0;e=o[a>>2]|0;n=o[t+60>>2]|0;if((e|0)!=(p|0)){s=e;while(1){r=n+(s<<2)|0;e=o[r>>2]|0;if((e|0)==(p|0))break;else s=e}e=o[n+(p<<2)>>2]|0;if((s|0)==-1)d=12;else o[r>>2]=e}else{e=o[n+(p<<2)>>2]|0;d=12}if((d|0)==12)o[a>>2]=e;u=(o[t+8>>2]|0)+-1|0;e=o[t+68>>2]|0;if(e|0)dk[o[(o[e>>2]|0)+12>>2]&31](e,h,l,i)|0;if((u|0)==(p|0)){o[t+8>>2]=(o[t+8>>2]|0)+-1;d=f;return d|0}l=o[t+16>>2]|0;a=o[(o[l+(u<<4)+4>>2]|0)+12>>2]<<16|o[(o[l+(u<<4)>>2]|0)+12>>2];a=(a+~(a<<15)>>10^a+~(a<<15))*9|0;a=((a>>6^a)+~((a>>6^a)<<11)>>16^(a>>6^a)+~((a>>6^a)<<11))&(o[t+12>>2]|0)+-1;c=(o[t+40>>2]|0)+(a<<2)|0;e=o[c>>2]|0;n=o[t+60>>2]|0;if((e|0)!=(u|0)){s=e;while(1){r=n+(s<<2)|0;e=o[r>>2]|0;if((e|0)==(u|0))break;else s=e}e=o[n+(u<<2)>>2]|0;if((s|0)==-1)d=22;else o[r>>2]=e}else{e=o[n+(u<<2)>>2]|0;d=22}if((d|0)==22)o[c>>2]=e;o[l+(p<<4)>>2]=o[l+(u<<4)>>2];o[l+(p<<4)+4>>2]=o[l+(u<<4)+4>>2];o[l+(p<<4)+8>>2]=o[l+(u<<4)+8>>2];o[l+(p<<4)+12>>2]=o[l+(u<<4)+12>>2];d=(o[t+40>>2]|0)+(a<<2)|0;o[(o[t+60>>2]|0)+(p<<2)>>2]=o[d>>2];o[d>>2]=p;o[t+8>>2]=(o[t+8>>2]|0)+-1;d=f;return d|0}function MP(t,e,n){t=t|0;e=e|0;n=n|0;var i=0;i=h;h=h+16|0;o[i>>2]=2940;o[i+4>>2]=e;Uk[o[(o[t>>2]|0)+48>>2]&127](t,i,n);h=i;return}function CP(t){t=t|0;return}function TP(t){t=t|0;Kc(t);return}function AP(t,e){t=t|0;e=e|0;t=o[t+4>>2]|0;return((o[e>>2]|0)==(t|0)?1:(o[e+4>>2]|0)==(t|0))|0}function LP(t){t=t|0;return o[t+16>>2]|0}function EP(t){t=t|0;return o[t+16>>2]|0}function RP(t){t=t|0;return t+4|0}function IP(t,e,n){t=t|0;e=e|0;n=n|0;t=o[e+8>>2]|0;if(!((n|0)!=0&(t|0)!=0))return;sk[o[o[t>>2]>>2]&255](t);ck[o[(o[n>>2]|0)+60>>2]&127](n,o[e+8>>2]|0);o[e+8>>2]=0;return}function PP(t){t=t|0;return o[t+8>>2]|0}function DP(t,e,n){t=t|0;e=e|0;n=n|0;var i=0;i=h;h=h+16|0;o[i>>2]=2960;o[i+4>>2]=e;o[i+8>>2]=t;o[i+12>>2]=n;Uk[o[(o[t>>2]|0)+48>>2]&127](t,i,n);h=i;return}function kP(t){t=t|0;Kc(t);return}function OP(t,e){t=t|0;e=e|0;var n=0;n=o[t+4>>2]|0;if((o[e>>2]|0)!=(n|0)?(o[e+4>>2]|0)!=(n|0):0)return 0;n=o[t+8>>2]|0;Uk[o[(o[n>>2]|0)+32>>2]&127](n,e,o[t+12>>2]|0);return 0}function NP(t,e){t=t|0;e=e|0;o[t+24>>2]=e;return}function FP(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0,s=0;if((o[t+8>>2]|0)<=0)return;s=0;t:while(1){while(1){i=o[t+16>>2]|0;r=i+(s<<4)|0;if(!(Ek[o[(o[e>>2]|0)+8>>2]&31](e,r)|0))break;dk[o[(o[t>>2]|0)+12>>2]&31](t,o[r>>2]|0,o[i+(s<<4)+4>>2]|0,n)|0;o[4984]=(o[4984]|0)+-1;if((s|0)>=(o[t+8>>2]|0)){i=7;break t}}s=s+1|0;if((s|0)>=(o[t+8>>2]|0)){i=7;break}}if((i|0)==7)return}function BP(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,r=0,s=0;o[4987]=(o[4987]|0)+1;i=(o[e+12>>2]|0)>(o[n+12>>2]|0);r=o[(i?n:e)+12>>2]|0;i=o[(i?e:n)+12>>2]|0;e=((i<<16|r)+~((i<<16|r)<<15)>>10^(i<<16|r)+~((i<<16|r)<<15))*9|0;e=((e>>6^e)+~((e>>6^e)<<11)>>16^(e>>6^e)+~((e>>6^e)<<11))&(o[t+12>>2]|0)+-1;if((e|0)>=(o[t+32>>2]|0)){s=0;return s|0}e=o[(o[t+40>>2]|0)+(e<<2)>>2]|0;if((e|0)==-1){s=0;return s|0}n=o[t+16>>2]|0;while(1){if((o[(o[n+(e<<4)>>2]|0)+12>>2]|0)==(r|0)?(o[(o[n+(e<<4)+4>>2]|0)+12>>2]|0)==(i|0):0)break;e=o[(o[t+60>>2]|0)+(e<<2)>>2]|0;if((e|0)==-1){e=0;s=8;break}}if((s|0)==8)return e|0;s=n+(e<<4)|0;return s|0}function jP(t){t=t|0;return 0}function UP(t,e){t=t|0;e=e|0;o[t+68>>2]=e;return}function zP(t,e){t=t|0;e=e|0;var n=0,r=0,s=0,a=0,c=0,l=0,u=0,p=0,f=0,d=0,_=0;_=h;h=h+32|0;i[_+16>>0]=1;o[_+12>>2]=0;o[_+4>>2]=0;o[_+8>>2]=0;n=o[t+8>>2]|0;if((n|0)>0){s=0;a=0;r=0;f=0;do{u=o[t+16>>2]|0;p=u+(f<<4)|0;if((s|0)==(r|0)){l=r|0?r<<1:1;if((r|0)<(l|0)){if(l){o[5637]=(o[5637]|0)+1;n=Jc((l<<4|3)+16|0)|0;if(!n){a=0;r=s}else{o[(n+4+15&-16)+-4>>2]=n;a=n+4+15&-16;r=s}}else a=0;if((r|0)>0){n=0;do{c=o[_+12>>2]|0;o[a+(n<<4)>>2]=o[c+(n<<4)>>2];o[a+(n<<4)+4>>2]=o[c+(n<<4)+4>>2];o[a+(n<<4)+8>>2]=o[c+(n<<4)+8>>2];o[a+(n<<4)+12>>2]=o[c+(n<<4)+12>>2];n=n+1|0}while((n|0)!=(r|0))}n=o[_+12>>2]|0;if(!n)s=r;else{o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0);o[_+12>>2]=0}i[_+16>>0]=1;o[_+12>>2]=a;o[_+8>>2]=l;c=s;r=l;n=o[t+8>>2]|0}else c=r}else c=s;o[a+(c<<4)>>2]=o[p>>2];o[a+(c<<4)+4>>2]=o[u+(f<<4)+4>>2];o[a+(c<<4)+8>>2]=o[u+(f<<4)+8>>2];o[a+(c<<4)+12>>2]=o[u+(f<<4)+12>>2];s=c+1|0;f=f+1|0}while((f|0)<(n|0));o[_+4>>2]=s;if((c|0)>-1){n=o[_+12>>2]|0;r=0;while(1){dk[o[(o[t>>2]|0)+12>>2]&31](t,o[n+(r<<4)>>2]|0,o[n+(r<<4)+4>>2]|0,e)|0;if((r|0)<(c|0))r=r+1|0;else break}}}else s=0;if((o[t+52>>2]|0)>0){n=o[t+60>>2]|0;r=0;do{o[n+(r<<2)>>2]=-1;r=r+1|0}while((r|0)<(o[t+52>>2]|0))}if((s|0)<=1)if((s|0)>0)d=24;else n=o[_+12>>2]|0;else{kI(_,0,s+-1|0);d=24}if((d|0)==24){n=o[_+12>>2]|0;r=0;do{vk[o[(o[t>>2]|0)+8>>2]&63](t,o[n+(r<<4)>>2]|0,o[n+(r<<4)+4>>2]|0)|0;r=r+1|0}while((r|0)<(s|0))}if(!n){h=_;return}o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0);o[_+12>>2]=0;h=_;return}function GP(t){t=t|0;var e=0,n=0,r=0,s=0;o[t>>2]=2864;i[t+20>>0]=1;o[t+16>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;o[t+24>>2]=0;i[t+44>>0]=1;o[t+40>>2]=0;o[t+32>>2]=0;o[t+36>>2]=0;i[t+64>>0]=1;o[t+60>>2]=0;o[t+52>>2]=0;o[t+56>>2]=0;o[t+68>>2]=0;o[5637]=(o[5637]|0)+1;e=Jc(51)|0;if(!e)r=0;else{o[(e+4+15&-16)+-4>>2]=e;r=e+4+15&-16}e=o[t+8>>2]|0;if((e|0)>0){n=0;do{s=o[t+16>>2]|0;o[r+(n<<4)>>2]=o[s+(n<<4)>>2];o[r+(n<<4)+4>>2]=o[s+(n<<4)+4>>2];o[r+(n<<4)+8>>2]=o[s+(n<<4)+8>>2];o[r+(n<<4)+12>>2]=o[s+(n<<4)+12>>2];n=n+1|0}while((n|0)!=(e|0))}e=o[t+16>>2]|0;if(!e){i[t+20>>0]=1;o[t+16>>2]=r;o[t+12>>2]=2;wP(t);return}if(i[t+20>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+16>>2]=0;i[t+20>>0]=1;o[t+16>>2]=r;o[t+12>>2]=2;wP(t);return}function VP(t){t=t|0;var e=0;o[t>>2]=2980;e=o[t+160>>2]|0;if(e|0){if(i[t+164>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+160>>2]=0}i[t+164>>0]=1;o[t+160>>2]=0;o[t+152>>2]=0;o[t+156>>2]=0;e=o[t+136>>2]|0;if(e|0){if(i[t+140>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+136>>2]=0}i[t+140>>0]=1;o[t+136>>2]=0;o[t+128>>2]=0;o[t+132>>2]=0;e=o[t+116>>2]|0;if(e|0){if(i[t+120>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+116>>2]=0}i[t+120>>0]=1;o[t+116>>2]=0;o[t+108>>2]=0;o[t+112>>2]=0;e=o[t+96>>2]|0;if(e|0){if(i[t+100>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+96>>2]=0}i[t+100>>0]=1;o[t+96>>2]=0;o[t+88>>2]=0;o[t+92>>2]=0;e=o[t+76>>2]|0;if(!e){i[t+80>>0]=1;o[t+76>>2]=0;o[t+68>>2]=0;t=t+72|0;o[t>>2]=0;return}if(i[t+80>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+76>>2]=0;i[t+80>>0]=1;o[t+76>>2]=0;o[t+68>>2]=0;t=t+72|0;o[t>>2]=0;return}function WP(t){t=t|0;VP(t);if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function HP(t,e,n,s){t=t|0;e=e|0;n=n|0;s=s|0;var c=0,u=0,h=0,p=0,f=0,d=0;o[t+168>>2]=o[t+152>>2];o[e>>2]=2980;o[e+52>>2]=284;i[e+60>>0]=0;i[e+80>>0]=1;o[e+76>>2]=0;o[e+68>>2]=0;o[e+72>>2]=0;i[e+100>>0]=1;o[e+96>>2]=0;o[e+88>>2]=0;o[e+92>>2]=0;i[e+120>>0]=1;o[e+116>>2]=0;o[e+108>>2]=0;o[e+112>>2]=0;i[e+140>>0]=1;o[e+136>>2]=0;o[e+128>>2]=0;o[e+132>>2]=0;o[e+144>>2]=0;i[e+164>>0]=1;o[e+160>>2]=0;o[e+152>>2]=0;o[e+156>>2]=0;o[e+168>>2]=0;o[e+4>>2]=-8388609;o[e+8>>2]=-8388609;o[e+12>>2]=-8388609;l[e+16>>2]=0.0;o[e+20>>2]=2139095039;o[e+24>>2]=2139095039;o[e+28>>2]=2139095039;l[e+32>>2]=0.0;n=o[t+56>>2]|0;if(s){o[e+56>>2]=Fl(n|0)|0;i[e+4>>0]=i[t+4+3>>0]|0;i[e+5>>0]=i[t+4+2>>0]|0;i[e+6>>0]=i[t+4+1>>0]|0;i[e+7>>0]=i[t+4>>0]|0;i[e+8>>0]=i[t+8+3>>0]|0;i[e+9>>0]=i[t+8+2>>0]|0;i[e+10>>0]=i[t+8+1>>0]|0;i[e+11>>0]=i[t+8>>0]|0;i[e+12>>0]=i[t+12+3>>0]|0;i[e+13>>0]=i[t+12+2>>0]|0;i[e+14>>0]=i[t+12+1>>0]|0;i[e+15>>0]=i[t+12>>0]|0;i[e+16>>0]=i[t+16+3>>0]|0;i[e+17>>0]=i[t+16+2>>0]|0;i[e+18>>0]=i[t+16+1>>0]|0;i[e+19>>0]=i[t+16>>0]|0;i[e+20>>0]=i[t+20+3>>0]|0;i[e+21>>0]=i[t+20+2>>0]|0;i[e+22>>0]=i[t+20+1>>0]|0;i[e+23>>0]=i[t+20>>0]|0;i[e+24>>0]=i[t+24+3>>0]|0;i[e+25>>0]=i[t+24+2>>0]|0;i[e+26>>0]=i[t+24+1>>0]|0;i[e+27>>0]=i[t+24>>0]|0;i[e+28>>0]=i[t+28+3>>0]|0;i[e+29>>0]=i[t+28+2>>0]|0;i[e+30>>0]=i[t+28+1>>0]|0;i[e+31>>0]=i[t+28>>0]|0;i[e+32>>0]=i[t+32+3>>0]|0;i[e+33>>0]=i[t+32+2>>0]|0;i[e+34>>0]=i[t+32+1>>0]|0;i[e+35>>0]=i[t+32>>0]|0;i[e+36>>0]=i[t+36+3>>0]|0;i[e+37>>0]=i[t+36+2>>0]|0;i[e+38>>0]=i[t+36+1>>0]|0;i[e+39>>0]=i[t+36>>0]|0;i[e+40>>0]=i[t+40+3>>0]|0;i[e+41>>0]=i[t+40+2>>0]|0;i[e+42>>0]=i[t+40+1>>0]|0;i[e+43>>0]=i[t+40>>0]|0;i[e+44>>0]=i[t+44+3>>0]|0;i[e+45>>0]=i[t+44+2>>0]|0;i[e+46>>0]=i[t+44+1>>0]|0;i[e+47>>0]=i[t+44>>0]|0;i[e+48>>0]=i[t+48+3>>0]|0;i[e+49>>0]=i[t+48+2>>0]|0;i[e+50>>0]=i[t+48+1>>0]|0;i[e+51>>0]=i[t+48>>0]|0;o[e+144>>2]=Fl(o[t+144>>2]|0)|0;n=Fl(o[t+168>>2]|0)|0}else{o[e+56>>2]=n;o[e+4>>2]=o[t+4>>2];o[e+4+4>>2]=o[t+4+4>>2];o[e+4+8>>2]=o[t+4+8>>2];o[e+4+12>>2]=o[t+4+12>>2];o[e+20>>2]=o[t+20>>2];o[e+20+4>>2]=o[t+20+4>>2];o[e+20+8>>2]=o[t+20+8>>2];o[e+20+12>>2]=o[t+20+12>>2];o[e+36>>2]=o[t+36>>2];o[e+36+4>>2]=o[t+36+4>>2];o[e+36+8>>2]=o[t+36+8>>2];o[e+36+12>>2]=o[t+36+12>>2];o[e+144>>2]=o[t+144>>2];n=o[t+168>>2]|0}o[e+168>>2]=n;i[e+60>>0]=i[t+60>>0]|0;h=o[t+56>>2]|0;if(!(i[t+60>>0]|0)){n=o[e+96>>2]|0;if(n|0){if(i[e+100>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[e+96>>2]=0}o[e+88>>2]=0;o[e+88+4>>2]=0;o[e+88+8>>2]=0;i[e+88+12>>0]=0;o[e+96>>2]=e+172;o[e+88>>2]=h;o[e+92>>2]=h;if(s)if((h|0)>0){c=o[t+96>>2]|0;n=e+172|0;u=0;do{p=c+(u<<6)|0;d=n+(u<<6)|0;i[d>>0]=i[p+3>>0]|0;i[d+1>>0]=i[p+2>>0]|0;i[d+2>>0]=i[p+1>>0]|0;i[d+3>>0]=i[p>>0]|0;d=c+(u<<6)+4|0;p=n+(u<<6)+4|0;i[p>>0]=i[d+3>>0]|0;i[p+1>>0]=i[d+2>>0]|0;i[p+2>>0]=i[d+1>>0]|0;i[p+3>>0]=i[d>>0]|0;p=c+(u<<6)+8|0;d=n+(u<<6)+8|0;i[d>>0]=i[p+3>>0]|0;i[d+1>>0]=i[p+2>>0]|0;i[d+2>>0]=i[p+1>>0]|0;i[d+3>>0]=i[p>>0]|0;d=c+(u<<6)+12|0;n=n+(u<<6)+12|0;i[n>>0]=i[d+3>>0]|0;i[n+1>>0]=i[d+2>>0]|0;i[n+2>>0]=i[d+1>>0]|0;i[n+3>>0]=i[d>>0]|0;n=o[t+96>>2]|0;d=n+(u<<6)+16|0;p=o[e+96>>2]|0;f=p+(u<<6)+16|0;i[f>>0]=i[d+3>>0]|0;i[f+1>>0]=i[d+2>>0]|0;i[f+2>>0]=i[d+1>>0]|0;i[f+3>>0]=i[d>>0]|0;f=n+(u<<6)+20|0;d=p+(u<<6)+20|0;i[d>>0]=i[f+3>>0]|0;i[d+1>>0]=i[f+2>>0]|0;i[d+2>>0]=i[f+1>>0]|0;i[d+3>>0]=i[f>>0]|0;d=n+(u<<6)+24|0;f=p+(u<<6)+24|0;i[f>>0]=i[d+3>>0]|0;i[f+1>>0]=i[d+2>>0]|0;i[f+2>>0]=i[d+1>>0]|0;i[f+3>>0]=i[d>>0]|0;n=n+(u<<6)+28|0;p=p+(u<<6)+28|0;i[p>>0]=i[n+3>>0]|0;i[p+1>>0]=i[n+2>>0]|0;i[p+2>>0]=i[n+1>>0]|0;i[p+3>>0]=i[n>>0]|0;c=o[t+96>>2]|0;p=Fl(o[c+(u<<6)+32>>2]|0)|0;n=o[e+96>>2]|0;o[n+(u<<6)+32>>2]=p;o[n+(u<<6)+36>>2]=Fl(o[c+(u<<6)+36>>2]|0)|0;o[n+(u<<6)+40>>2]=Fl(o[c+(u<<6)+40>>2]|0)|0;u=u+1|0}while((u|0)!=(h|0))}else n=e+172|0;else if((h|0)>0){n=e+172|0;c=o[t+96>>2]|0;u=0;do{n=n+(u<<6)|0;d=c+(u<<6)|0;o[n>>2]=o[d>>2];o[n+4>>2]=o[d+4>>2];o[n+8>>2]=o[d+8>>2];o[n+12>>2]=o[d+12>>2];n=(o[e+96>>2]|0)+(u<<6)+16|0;d=(o[t+96>>2]|0)+(u<<6)+16|0;o[n>>2]=o[d>>2];o[n+4>>2]=o[d+4>>2];o[n+8>>2]=o[d+8>>2];o[n+12>>2]=o[d+12>>2];c=o[t+96>>2]|0;n=o[e+96>>2]|0;o[n+(u<<6)+32>>2]=o[c+(u<<6)+32>>2];o[n+(u<<6)+36>>2]=o[c+(u<<6)+36>>2];o[n+(u<<6)+40>>2]=o[c+(u<<6)+40>>2];u=u+1|0}while((u|0)!=(h|0))}else n=e+172|0;if(n|0){if(i[e+100>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[e+96>>2]=0}o[e+88>>2]=0;o[e+88+4>>2]=0;o[e+88+8>>2]=0;i[e+88+12>>0]=0;n=h<<6}else{n=o[e+136>>2]|0;if(n|0){if(i[e+140>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[n+-4>>2]|0)}o[e+136>>2]=0}o[e+128>>2]=0;o[e+128+4>>2]=0;o[e+128+8>>2]=0;i[e+128+12>>0]=0;o[e+136>>2]=e+172;o[e+128>>2]=h;o[e+132>>2]=h;if(s){if((h|0)>0){n=o[t+136>>2]|0;c=0;do{d=a[n+(c<<4)>>1]|0;r[e+172+(c<<4)>>1]=d>>>8|d<<8;d=a[n+(c<<4)+2>>1]|0;r[e+172+(c<<4)+2>>1]=d>>>8|d<<8;d=a[n+(c<<4)+4>>1]|0;r[e+172+(c<<4)+4>>1]=d>>>8|d<<8;d=a[n+(c<<4)+6>>1]|0;r[e+172+(c<<4)+6>>1]=d>>>8|d<<8;d=a[n+(c<<4)+8>>1]|0;r[e+172+(c<<4)+8>>1]=d>>>8|d<<8;d=a[n+(c<<4)+10>>1]|0;r[e+172+(c<<4)+10>>1]=d>>>8|d<<8;o[e+172+(c<<4)+12>>2]=Fl(o[n+(c<<4)+12>>2]|0)|0;c=c+1|0}while((c|0)!=(h|0))}}else if((h|0)>0){n=o[t+136>>2]|0;c=0;do{r[e+172+(c<<4)>>1]=r[n+(c<<4)>>1]|0;r[e+172+(c<<4)+2>>1]=r[n+(c<<4)+2>>1]|0;r[e+172+(c<<4)+4>>1]=r[n+(c<<4)+4>>1]|0;r[e+172+(c<<4)+6>>1]=r[n+(c<<4)+6>>1]|0;r[e+172+(c<<4)+8>>1]=r[n+(c<<4)+8>>1]|0;r[e+172+(c<<4)+10>>1]=r[n+(c<<4)+10>>1]|0;o[e+172+(c<<4)+12>>2]=o[n+(c<<4)+12>>2];c=c+1|0}while((c|0)!=(h|0))}if(o[e+136>>2]|0)o[e+136>>2]=0;o[e+128>>2]=0;o[e+128+4>>2]=0;o[e+128+8>>2]=0;i[e+128+12>>0]=0;n=h<<4}h=e+172+n|0;n=o[t+168>>2]|0;c=o[e+160>>2]|0;if(c|0){if(i[e+164>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[c+-4>>2]|0)}o[e+160>>2]=0}o[e+152>>2]=0;o[e+152+4>>2]=0;o[e+152+8>>2]=0;i[e+152+12>>0]=0;o[e+160>>2]=h;o[e+152>>2]=n;o[e+156>>2]=n;u=o[t+168>>2]|0;if(s){if((u|0)>0){n=o[t+160>>2]|0;c=0;do{d=a[n+(c<<5)>>1]|0;r[h+(c<<5)>>1]=d>>>8|d<<8;d=a[n+(c<<5)+2>>1]|0;r[h+(c<<5)+2>>1]=d>>>8|d<<8;d=a[n+(c<<5)+4>>1]|0;r[h+(c<<5)+4>>1]=d>>>8|d<<8;d=a[n+(c<<5)+6>>1]|0;r[h+(c<<5)+6>>1]=d>>>8|d<<8;d=a[n+(c<<5)+8>>1]|0;r[h+(c<<5)+8>>1]=d>>>8|d<<8;d=a[n+(c<<5)+10>>1]|0;r[h+(c<<5)+10>>1]=d>>>8|d<<8;o[h+(c<<5)+12>>2]=Fl(o[n+(c<<5)+12>>2]|0)|0;o[h+(c<<5)+16>>2]=Fl(o[n+(c<<5)+16>>2]|0)|0;c=c+1|0}while((c|0)!=(u|0))}}else if((u|0)>0){n=o[t+160>>2]|0;c=0;do{r[h+(c<<5)>>1]=r[n+(c<<5)>>1]|0;r[h+(c<<5)+2>>1]=r[n+(c<<5)+2>>1]|0;r[h+(c<<5)+4>>1]=r[n+(c<<5)+4>>1]|0;r[h+(c<<5)+6>>1]=r[n+(c<<5)+6>>1]|0;r[h+(c<<5)+8>>1]=r[n+(c<<5)+8>>1]|0;r[h+(c<<5)+10>>1]=r[n+(c<<5)+10>>1]|0;o[h+(c<<5)+12>>2]=o[n+(c<<5)+12>>2];o[h+(c<<5)+16>>2]=o[n+(c<<5)+16>>2];o[h+(c<<5)+20>>2]=0;o[h+(c<<5)+24>>2]=0;o[h+(c<<5)+28>>2]=0;c=c+1|0}while((c|0)<(o[t+168>>2]|0))}if(!(o[e+160>>2]|0)){o[e>>2]=0;o[e+152>>2]=0;o[e+152+4>>2]=0;o[e+152+8>>2]=0;i[e+152+12>>0]=0;return 1}o[e+160>>2]=0;o[e>>2]=0;o[e+152>>2]=0;o[e+152+4>>2]=0;o[e+152+8>>2]=0;i[e+152+12>>0]=0;return 1}function XP(t){t=t|0;return 84}function qP(t,e,n){t=t|0;e=e|0;n=n|0;var i=0,a=0,c=0,l=0,u=0;o[e+16>>2]=o[t+20>>2];o[e+20>>2]=o[t+24>>2];o[e+24>>2]=o[t+28>>2];o[e+28>>2]=o[t+32>>2];o[e>>2]=o[t+4>>2];o[e+4>>2]=o[t+8>>2];o[e+8>>2]=o[t+12>>2];o[e+12>>2]=o[t+16>>2];o[e+32>>2]=o[t+36>>2];o[e+36>>2]=o[t+40>>2];o[e+40>>2]=o[t+44>>2];o[e+44>>2]=o[t+48>>2];o[e+48>>2]=o[t+56>>2];o[e+52>>2]=s[t+60>>0];u=o[t+88>>2]|0;o[e+56>>2]=u;if(u){u=Ek[o[(o[n>>2]|0)+28>>2]&31](n,o[t+96>>2]|0)|0;o[e+64>>2]=u;if(u|0){a=o[t+88>>2]|0;u=vk[o[(o[n>>2]|0)+16>>2]&63](n,48,a)|0;if((a|0)>0){i=o[t+96>>2]|0;c=0;l=o[u+8>>2]|0;while(1){o[l+16>>2]=o[i+(c<<6)+16>>2];o[l+20>>2]=o[i+(c<<6)+20>>2];o[l+24>>2]=o[i+(c<<6)+24>>2];o[l+28>>2]=o[i+(c<<6)+28>>2];o[l>>2]=o[i+(c<<6)>>2];o[l+4>>2]=o[i+(c<<6)+4>>2];o[l+8>>2]=o[i+(c<<6)+8>>2];o[l+12>>2]=o[i+(c<<6)+12>>2];o[l+32>>2]=o[i+(c<<6)+32>>2];o[l+36>>2]=o[i+(c<<6)+36>>2];o[l+40>>2]=o[i+(c<<6)+40>>2];c=c+1|0;if((c|0)==(a|0))break;else l=l+48|0}}else i=o[t+96>>2]|0;rk[o[(o[n>>2]|0)+20>>2]&31](n,u,8969,1497453121,i)}}else o[e+64>>2]=0;u=o[t+128>>2]|0;o[e+60>>2]=u;if(u){u=Ek[o[(o[n>>2]|0)+28>>2]&31](n,o[t+136>>2]|0)|0;o[e+68>>2]=u;if(u|0){a=o[t+128>>2]|0;u=vk[o[(o[n>>2]|0)+16>>2]&63](n,16,a)|0;if((a|0)>0){i=o[t+136>>2]|0;c=0;l=o[u+8>>2]|0;while(1){o[l+12>>2]=o[i+(c<<4)+12>>2];r[l+6>>1]=r[i+(c<<4)+6>>1]|0;r[l+8>>1]=r[i+(c<<4)+8>>1]|0;r[l+10>>1]=r[i+(c<<4)+10>>1]|0;r[l>>1]=r[i+(c<<4)>>1]|0;r[l+2>>1]=r[i+(c<<4)+2>>1]|0;r[l+4>>1]=r[i+(c<<4)+4>>1]|0;c=c+1|0;if((c|0)==(a|0))break;else l=l+16|0}}else i=o[t+136>>2]|0;rk[o[(o[n>>2]|0)+20>>2]&31](n,u,8992,1497453121,i)}}else o[e+68>>2]=0;o[e+76>>2]=o[t+144>>2];u=o[t+152>>2]|0;o[e+80>>2]=u;if(!u){o[e+72>>2]=0;return 9036}u=Ek[o[(o[n>>2]|0)+28>>2]&31](n,o[t+160>>2]|0)|0;o[e+72>>2]=u;if(!u)return 9036;l=o[t+152>>2]|0;u=vk[o[(o[n>>2]|0)+16>>2]&63](n,20,l)|0;if((l|0)>0){i=o[t+160>>2]|0;a=0;c=o[u+8>>2]|0;while(1){r[c+14>>1]=r[i+(a<<5)+6>>1]|0;r[c+16>>1]=r[i+(a<<5)+8>>1]|0;r[c+18>>1]=r[i+(a<<5)+10>>1]|0;r[c+8>>1]=r[i+(a<<5)>>1]|0;r[c+10>>1]=r[i+(a<<5)+2>>1]|0;r[c+12>>1]=r[i+(a<<5)+4>>1]|0;o[c>>2]=o[i+(a<<5)+12>>2];o[c+4>>2]=o[i+(a<<5)+16>>2];a=a+1|0;if((a|0)==(l|0))break;else c=c+20|0}}else i=o[t+160>>2]|0;rk[o[(o[n>>2]|0)+20>>2]&31](n,u,9015,1497453121,i);return 9036}function YP(t,e){t=t|0;e=e|0;var n=0,s=0,a=0,c=0,l=0,u=0,p=0,f=0,d=0;d=h;h=h+112|0;o[t+20>>2]=o[e+16>>2];o[t+24>>2]=o[e+20>>2];o[t+28>>2]=o[e+24>>2];o[t+32>>2]=o[e+28>>2];o[t+4>>2]=o[e>>2];o[t+8>>2]=o[e+4>>2];o[t+12>>2]=o[e+8>>2];o[t+16>>2]=o[e+12>>2];o[t+36>>2]=o[e+32>>2];o[t+40>>2]=o[e+36>>2];o[t+44>>2]=o[e+40>>2];o[t+48>>2]=o[e+44>>2];o[t+56>>2]=o[e+48>>2];i[t+60>>0]=(o[e+52>>2]|0)!=0&1;f=o[e+56>>2]|0;c=d+48|0;u=c+64|0;do{o[c>>2]=0;c=c+4|0}while((c|0)<(u|0));p=o[t+88>>2]|0;if((p|0)<(f|0)){if((o[t+92>>2]|0)<(f|0)){if(!f){n=0;s=p}else{o[5637]=(o[5637]|0)+1;n=Jc(f<<6|19)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}s=o[t+88>>2]|0}if((s|0)>0){a=0;do{c=n+(a<<6)|0;l=(o[t+96>>2]|0)+(a<<6)|0;u=c+64|0;do{o[c>>2]=o[l>>2];c=c+4|0;l=l+4|0}while((c|0)<(u|0));a=a+1|0}while((a|0)!=(s|0))}s=o[t+96>>2]|0;if(s|0){if(i[t+100>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0)}o[t+96>>2]=0}i[t+100>>0]=1;o[t+96>>2]=n;o[t+92>>2]=f;s=t+96|0}else s=t+96|0;n=p;do{c=(o[s>>2]|0)+(n<<6)|0;l=d+48|0;u=c+64|0;do{o[c>>2]=o[l>>2];c=c+4|0;l=l+4|0}while((c|0)<(u|0));n=n+1|0}while((n|0)!=(f|0))}o[t+88>>2]=f;if((f|0)>0){n=o[t+96>>2]|0;s=0;a=o[e+64>>2]|0;while(1){o[n+(s<<6)+16>>2]=o[a+16>>2];o[n+(s<<6)+20>>2]=o[a+20>>2];o[n+(s<<6)+24>>2]=o[a+24>>2];o[n+(s<<6)+28>>2]=o[a+28>>2];o[n+(s<<6)>>2]=o[a>>2];o[n+(s<<6)+4>>2]=o[a+4>>2];o[n+(s<<6)+8>>2]=o[a+8>>2];o[n+(s<<6)+12>>2]=o[a+12>>2];o[n+(s<<6)+32>>2]=o[a+32>>2];o[n+(s<<6)+36>>2]=o[a+36>>2];o[n+(s<<6)+40>>2]=o[a+40>>2];s=s+1|0;if((s|0)==(f|0))break;else a=a+48|0}}l=o[e+60>>2]|0;o[d+32>>2]=0;o[d+32+4>>2]=0;o[d+32+8>>2]=0;o[d+32+12>>2]=0;c=o[t+128>>2]|0;if((c|0)<(l|0)){if((o[t+132>>2]|0)<(l|0)){if(!l){n=0;s=c}else{o[5637]=(o[5637]|0)+1;n=Jc((l<<4|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}s=o[t+128>>2]|0}if((s|0)>0){a=0;do{f=n+(a<<4)|0;p=(o[t+136>>2]|0)+(a<<4)|0;o[f>>2]=o[p>>2];o[f+4>>2]=o[p+4>>2];o[f+8>>2]=o[p+8>>2];o[f+12>>2]=o[p+12>>2];a=a+1|0}while((a|0)!=(s|0))}s=o[t+136>>2]|0;if(s|0){if(i[t+140>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0)}o[t+136>>2]=0}i[t+140>>0]=1;o[t+136>>2]=n;o[t+132>>2]=l;s=t+136|0}else s=t+136|0;n=c;do{f=(o[s>>2]|0)+(n<<4)|0;o[f>>2]=o[d+32>>2];o[f+4>>2]=o[d+32+4>>2];o[f+8>>2]=o[d+32+8>>2];o[f+12>>2]=o[d+32+12>>2];n=n+1|0}while((n|0)!=(l|0))}o[t+128>>2]=l;if((l|0)>0){n=o[t+136>>2]|0;s=0;a=o[e+68>>2]|0;while(1){o[n+(s<<4)+12>>2]=o[a+12>>2];r[n+(s<<4)+6>>1]=r[a+6>>1]|0;r[n+(s<<4)+8>>1]=r[a+8>>1]|0;r[n+(s<<4)+10>>1]=r[a+10>>1]|0;r[n+(s<<4)>>1]=r[a>>1]|0;r[n+(s<<4)+2>>1]=r[a+2>>1]|0;r[n+(s<<4)+4>>1]=r[a+4>>1]|0;s=s+1|0;if((s|0)==(l|0))break;else a=a+16|0}}o[t+144>>2]=o[e+76>>2];l=o[e+80>>2]|0;c=o[t+152>>2]|0;if((c|0)<(l|0)){if((o[t+156>>2]|0)<(l|0)){if(!l){n=0;s=c}else{o[5637]=(o[5637]|0)+1;n=Jc(l<<5|19)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}s=o[t+152>>2]|0}if((s|0)>0){a=0;do{f=n+(a<<5)|0;p=(o[t+160>>2]|0)+(a<<5)|0;o[f>>2]=o[p>>2];o[f+4>>2]=o[p+4>>2];o[f+8>>2]=o[p+8>>2];o[f+12>>2]=o[p+12>>2];o[f+16>>2]=o[p+16>>2];o[f+20>>2]=o[p+20>>2];o[f+24>>2]=o[p+24>>2];o[f+28>>2]=o[p+28>>2];a=a+1|0}while((a|0)!=(s|0))}s=o[t+160>>2]|0;if(s|0){if(i[t+164>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0)}o[t+160>>2]=0}i[t+164>>0]=1;o[t+160>>2]=n;o[t+156>>2]=l;s=t+160|0}else s=t+160|0;n=c;do{f=(o[s>>2]|0)+(n<<5)|0;o[f>>2]=o[d>>2];o[f+4>>2]=o[d+4>>2];o[f+8>>2]=o[d+8>>2];o[f+12>>2]=o[d+12>>2];o[f+16>>2]=o[d+16>>2];o[f+20>>2]=o[d+20>>2];o[f+24>>2]=o[d+24>>2];o[f+28>>2]=o[d+28>>2];n=n+1|0}while((n|0)!=(l|0))}o[t+152>>2]=l;if((l|0)<=0){h=d;return}s=o[t+160>>2]|0;a=0;n=o[e+72>>2]|0;while(1){r[s+(a<<5)+6>>1]=r[n+14>>1]|0;r[s+(a<<5)+8>>1]=r[n+16>>1]|0;r[s+(a<<5)+10>>1]=r[n+18>>1]|0;r[s+(a<<5)>>1]=r[n+8>>1]|0;r[s+(a<<5)+2>>1]=r[n+10>>1]|0;r[s+(a<<5)+4>>1]=r[n+12>>1]|0;o[s+(a<<5)+12>>2]=o[n>>2];o[s+(a<<5)+16>>2]=o[n+4>>2];a=a+1|0;if((a|0)==(l|0))break;else n=n+20|0}h=d;return}function ZP(t,e){t=t|0;e=e|0;var n=0,s=0,a=0,c=0,p=0,f=0,d=0,_=0,m=0;m=h;h=h+112|0;l[t+20>>2]=+u[e+32>>3];l[t+24>>2]=+u[e+40>>3];l[t+28>>2]=+u[e+48>>3];l[t+32>>2]=+u[e+56>>3];l[t+4>>2]=+u[e>>3];l[t+8>>2]=+u[e+8>>3];l[t+12>>2]=+u[e+16>>3];l[t+16>>2]=+u[e+24>>3];l[t+36>>2]=+u[e+64>>3];l[t+40>>2]=+u[e+72>>3];l[t+44>>2]=+u[e+80>>3];l[t+48>>2]=+u[e+88>>3];o[t+56>>2]=o[e+96>>2];i[t+60>>0]=(o[e+100>>2]|0)!=0&1;_=o[e+104>>2]|0;c=m+48|0;f=c+64|0;do{o[c>>2]=0;c=c+4|0}while((c|0)<(f|0));d=o[t+88>>2]|0;if((d|0)<(_|0)){if((o[t+92>>2]|0)<(_|0)){if(!_){n=0;s=d}else{o[5637]=(o[5637]|0)+1;n=Jc(_<<6|19)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}s=o[t+88>>2]|0}if((s|0)>0){a=0;do{c=n+(a<<6)|0;p=(o[t+96>>2]|0)+(a<<6)|0;f=c+64|0;do{o[c>>2]=o[p>>2];c=c+4|0;p=p+4|0}while((c|0)<(f|0));a=a+1|0}while((a|0)!=(s|0))}s=o[t+96>>2]|0;if(s|0){if(i[t+100>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0)}o[t+96>>2]=0}i[t+100>>0]=1;o[t+96>>2]=n;o[t+92>>2]=_;s=t+96|0}else s=t+96|0;n=d;do{c=(o[s>>2]|0)+(n<<6)|0;p=m+48|0;f=c+64|0;do{o[c>>2]=o[p>>2];c=c+4|0;p=p+4|0}while((c|0)<(f|0));n=n+1|0}while((n|0)!=(_|0))}o[t+88>>2]=_;if((_|0)>0){n=o[t+96>>2]|0;s=0;a=o[e+112>>2]|0;while(1){l[n+(s<<6)+16>>2]=+u[a+32>>3];l[n+(s<<6)+20>>2]=+u[a+40>>3];l[n+(s<<6)+24>>2]=+u[a+48>>3];l[n+(s<<6)+28>>2]=+u[a+56>>3];l[n+(s<<6)>>2]=+u[a>>3];l[n+(s<<6)+4>>2]=+u[a+8>>3];l[n+(s<<6)+8>>2]=+u[a+16>>3];l[n+(s<<6)+12>>2]=+u[a+24>>3];o[n+(s<<6)+32>>2]=o[a+64>>2];o[n+(s<<6)+36>>2]=o[a+68>>2];o[n+(s<<6)+40>>2]=o[a+72>>2];s=s+1|0;if((s|0)==(_|0))break;else a=a+80|0}}p=o[e+108>>2]|0;o[m+32>>2]=0;o[m+32+4>>2]=0;o[m+32+8>>2]=0;o[m+32+12>>2]=0;c=o[t+128>>2]|0;if((c|0)<(p|0)){if((o[t+132>>2]|0)<(p|0)){if(!p){n=0;s=c}else{o[5637]=(o[5637]|0)+1;n=Jc((p<<4|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}s=o[t+128>>2]|0}if((s|0)>0){a=0;do{_=n+(a<<4)|0;d=(o[t+136>>2]|0)+(a<<4)|0;o[_>>2]=o[d>>2];o[_+4>>2]=o[d+4>>2];o[_+8>>2]=o[d+8>>2];o[_+12>>2]=o[d+12>>2];a=a+1|0}while((a|0)!=(s|0))}s=o[t+136>>2]|0;if(s|0){if(i[t+140>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0)}o[t+136>>2]=0}i[t+140>>0]=1;o[t+136>>2]=n;o[t+132>>2]=p;s=t+136|0}else s=t+136|0;n=c;do{_=(o[s>>2]|0)+(n<<4)|0;o[_>>2]=o[m+32>>2];o[_+4>>2]=o[m+32+4>>2];o[_+8>>2]=o[m+32+8>>2];o[_+12>>2]=o[m+32+12>>2];n=n+1|0}while((n|0)!=(p|0))}o[t+128>>2]=p;if((p|0)>0){n=o[t+136>>2]|0;s=0;a=o[e+116>>2]|0;while(1){o[n+(s<<4)+12>>2]=o[a+12>>2];r[n+(s<<4)+6>>1]=r[a+6>>1]|0;r[n+(s<<4)+8>>1]=r[a+8>>1]|0;r[n+(s<<4)+10>>1]=r[a+10>>1]|0;r[n+(s<<4)>>1]=r[a>>1]|0;r[n+(s<<4)+2>>1]=r[a+2>>1]|0;r[n+(s<<4)+4>>1]=r[a+4>>1]|0;s=s+1|0;if((s|0)==(p|0))break;else a=a+16|0}}o[t+144>>2]=o[e+120>>2];p=o[e+124>>2]|0;c=o[t+152>>2]|0;if((c|0)<(p|0)){if((o[t+156>>2]|0)<(p|0)){if(!p){n=0;s=c}else{o[5637]=(o[5637]|0)+1;n=Jc(p<<5|19)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}s=o[t+152>>2]|0}if((s|0)>0){a=0;do{_=n+(a<<5)|0;d=(o[t+160>>2]|0)+(a<<5)|0;o[_>>2]=o[d>>2];o[_+4>>2]=o[d+4>>2];o[_+8>>2]=o[d+8>>2];o[_+12>>2]=o[d+12>>2];o[_+16>>2]=o[d+16>>2];o[_+20>>2]=o[d+20>>2];o[_+24>>2]=o[d+24>>2];o[_+28>>2]=o[d+28>>2];a=a+1|0}while((a|0)!=(s|0))}s=o[t+160>>2]|0;if(s|0){if(i[t+164>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0)}o[t+160>>2]=0}i[t+164>>0]=1;o[t+160>>2]=n;o[t+156>>2]=p;s=t+160|0}else s=t+160|0;n=c;do{_=(o[s>>2]|0)+(n<<5)|0;o[_>>2]=o[m>>2];o[_+4>>2]=o[m+4>>2];o[_+8>>2]=o[m+8>>2];o[_+12>>2]=o[m+12>>2];o[_+16>>2]=o[m+16>>2];o[_+20>>2]=o[m+20>>2];o[_+24>>2]=o[m+24>>2];o[_+28>>2]=o[m+28>>2];n=n+1|0}while((n|0)!=(p|0))}o[t+152>>2]=p;if((p|0)<=0){h=m;return}s=o[t+160>>2]|0;a=0;n=o[e+128>>2]|0;while(1){r[s+(a<<5)+6>>1]=r[n+14>>1]|0;r[s+(a<<5)+8>>1]=r[n+16>>1]|0;r[s+(a<<5)+10>>1]=r[n+18>>1]|0;r[s+(a<<5)>>1]=r[n+8>>1]|0;r[s+(a<<5)+2>>1]=r[n+10>>1]|0;r[s+(a<<5)+4>>1]=r[n+12>>1]|0;o[s+(a<<5)+12>>2]=o[n>>2];o[s+(a<<5)+16>>2]=o[n+4>>2];a=a+1|0;if((a|0)==(p|0))break;else n=n+20|0}h=m;return}function JP(t,e,n){t=t|0;e=e|0;n=n|0;var s=0,c=0,u=0.0,p=0,f=0.0,d=0.0,_=0,m=0,g=0,b=0.0,v=0.0,y=0.0,x=0,w=0,S=0.0,M=0.0,C=0.0,T=0,A=0,L=0.0,E=0.0,R=0.0,I=0,P=0,D=0,k=0,O=0,N=0,F=0.0,B=0.0,j=0.0;N=h;h=h+112|0;D=o[t+56>>2]|0;if((n-e|0)==1){if(!(i[t+60>>0]|0)){_=(o[t+96>>2]|0)+(D<<6)|0;m=(o[t+76>>2]|0)+(e<<6)|0;g=_+64|0;do{o[_>>2]=o[m>>2];_=_+4|0;m=m+4|0}while((_|0)<(g|0))}else{O=(o[t+136>>2]|0)+(D<<4)|0;k=(o[t+116>>2]|0)+(e<<4)|0;o[O>>2]=o[k>>2];o[O+4>>2]=o[k+4>>2];o[O+8>>2]=o[k+8>>2];o[O+12>>2]=o[k+12>>2]}o[t+56>>2]=(o[t+56>>2]|0)+1;h=N;return}if((n|0)>(e|0)){p=(i[t+60>>0]|0)==0;if(p){s=o[t+76>>2]|0;c=e;f=0.0;d=0.0;u=0.0;do{f=f+(+l[s+(c<<6)+16>>2]+ +l[s+(c<<6)>>2])*.5;u=u+(+l[s+(c<<6)+20>>2]+ +l[s+(c<<6)+4>>2])*.5;d=d+(+l[s+(c<<6)+24>>2]+ +l[s+(c<<6)+8>>2])*.5;c=c+1|0}while((c|0)!=(n|0))}else{s=o[t+116>>2]|0;b=+l[t+36>>2];v=+l[t+40>>2];y=+l[t+44>>2];S=+l[t+4>>2];M=+l[t+8>>2];C=+l[t+12>>2];c=e;f=0.0;d=0.0;u=0.0;do{f=f+(+(a[s+(c<<4)+6>>1]|0)/b+S+(+(a[s+(c<<4)>>1]|0)/b+S))*.5;u=u+(+(a[s+(c<<4)+8>>1]|0)/v+M+(+(a[s+(c<<4)+2>>1]|0)/v+M))*.5;d=d+(+(a[s+(c<<4)+10>>1]|0)/y+C+(+(a[s+(c<<4)+4>>1]|0)/y+C))*.5;c=c+1|0}while((c|0)!=(n|0))}L=1.0/+(n-e|0);R=L*f;E=L*u;L=L*d;if(p){s=o[t+76>>2]|0;c=e;d=0.0;f=0.0;u=0.0;do{S=(+l[s+(c<<6)+16>>2]+ +l[s+(c<<6)>>2])*.5-R;M=(+l[s+(c<<6)+20>>2]+ +l[s+(c<<6)+4>>2])*.5-E;C=(+l[s+(c<<6)+24>>2]+ +l[s+(c<<6)+8>>2])*.5-L;d=d+S*S;u=u+M*M;f=f+C*C;c=c+1|0}while((c|0)!=(n|0));b=+(n-e|0)}else{s=o[t+116>>2]|0;b=+l[t+36>>2];v=+l[t+40>>2];y=+l[t+44>>2];S=+l[t+4>>2];M=+l[t+8>>2];C=+l[t+12>>2];c=e;d=0.0;f=0.0;u=0.0;do{j=(+(a[s+(c<<4)+6>>1]|0)/b+S+(+(a[s+(c<<4)>>1]|0)/b+S))*.5-R;B=(+(a[s+(c<<4)+8>>1]|0)/v+M+(+(a[s+(c<<4)+2>>1]|0)/v+M))*.5-E;F=(+(a[s+(c<<4)+10>>1]|0)/y+C+(+(a[s+(c<<4)+4>>1]|0)/y+C))*.5-L;d=d+j*j;u=u+B*B;f=f+F*F;c=c+1|0}while((c|0)!=(n|0));b=+(n-e|0)}}else{b=+(n-e|0);d=0.0;f=0.0;u=0.0}j=1.0/(b+-1.0);B=j*d;F=j*u;j=j*f;w=B<F?F<j?2:1:B<j?2:0;o[N+16>>2]=0;o[N+16+4>>2]=0;o[N+16+8>>2]=0;o[N+16+12>>2]=0;if((n|0)>(e|0)){if(!(i[t+60>>0]|0)){s=o[t+76>>2]|0;d=0.0;f=0.0;u=0.0;c=e;do{d=(+l[s+(c<<6)+16>>2]+ +l[s+(c<<6)>>2])*.5+d;f=(+l[s+(c<<6)+20>>2]+ +l[s+(c<<6)+4>>2])*.5+f;u=(+l[s+(c<<6)+24>>2]+ +l[s+(c<<6)+8>>2])*.5+u;c=c+1|0}while((c|0)!=(n|0))}else{s=o[t+116>>2]|0;b=+l[t+36>>2];v=+l[t+40>>2];y=+l[t+44>>2];S=+l[t+4>>2];M=+l[t+8>>2];C=+l[t+12>>2];d=0.0;f=0.0;u=0.0;c=e;do{d=(+(a[s+(c<<4)+6>>1]|0)/b+S+(+(a[s+(c<<4)>>1]|0)/b+S))*.5+d;f=(+(a[s+(c<<4)+8>>1]|0)/v+M+(+(a[s+(c<<4)+2>>1]|0)/v+M))*.5+f;u=(+(a[s+(c<<4)+10>>1]|0)/y+C+(+(a[s+(c<<4)+4>>1]|0)/y+C))*.5+u;c=c+1|0}while((c|0)!=(n|0))}l[N+16>>2]=d;l[N+16+4>>2]=f;l[N+16+8>>2]=u;s=N+16|0}else{s=N+16|0;d=0.0;f=0.0;u=0.0}l[s>>2]=1.0/+(n-e|0)*d;l[N+16+4>>2]=1.0/+(n-e|0)*f;l[N+16+8>>2]=1.0/+(n-e|0)*u;S=+l[N+16+(w<<2)>>2];if((n|0)>(e|0)){x=e;s=e;do{c=(i[t+60>>0]|0)==0;if(c){P=o[t+76>>2]|0;u=+l[P+(x<<6)>>2];f=+l[P+(x<<6)+16>>2];d=+l[P+(x<<6)+4>>2];b=+l[P+(x<<6)+20>>2];v=+l[P+(x<<6)+8>>2];y=+l[P+(x<<6)+24>>2]}else{P=o[t+116>>2]|0;d=+l[t+36>>2];v=+l[t+40>>2];j=+l[t+44>>2];f=+l[t+4>>2];b=+l[t+8>>2];y=+l[t+12>>2];u=+(a[P+(x<<4)>>1]|0)/d+f;f=+(a[P+(x<<4)+6>>1]|0)/d+f;d=+(a[P+(x<<4)+2>>1]|0)/v+b;b=+(a[P+(x<<4)+8>>1]|0)/v+b;v=+(a[P+(x<<4)+4>>1]|0)/j+y;y=+(a[P+(x<<4)+10>>1]|0)/j+y}l[N>>2]=(f+u)*.5;l[N+4>>2]=(b+d)*.5;l[N+8>>2]=(y+v)*.5;l[N+12>>2]=0.0;if(+l[N+(w<<2)>>2]>S){if(c){c=o[t+76>>2]|0;p=c+(x<<6)|0;_=N+48|0;m=p;g=_+64|0;do{o[_>>2]=o[m>>2];_=_+4|0;m=m+4|0}while((_|0)<(g|0));_=p;m=c+(s<<6)|0;g=_+64|0;do{o[_>>2]=o[m>>2];_=_+4|0;m=m+4|0}while((_|0)<(g|0));_=(o[t+76>>2]|0)+(s<<6)|0;m=N+48|0;g=_+64|0;do{o[_>>2]=o[m>>2];_=_+4|0;m=m+4|0}while((_|0)<(g|0))}else{I=o[t+116>>2]|0;P=I+(x<<4)|0;o[N+48>>2]=o[P>>2];o[N+48+4>>2]=o[P+4>>2];o[N+48+8>>2]=o[P+8>>2];o[N+48+12>>2]=o[P+12>>2];I=I+(s<<4)|0;o[P>>2]=o[I>>2];o[P+4>>2]=o[I+4>>2];o[P+8>>2]=o[I+8>>2];o[P+12>>2]=o[I+12>>2];P=(o[t+116>>2]|0)+(s<<4)|0;o[P>>2]=o[N+48>>2];o[P+4>>2]=o[N+48+4>>2];o[P+8>>2]=o[N+48+8>>2];o[P+12>>2]=o[N+48+12>>2]}s=s+1|0}x=x+1|0}while((x|0)!=(n|0))}else s=e;if(!((s|0)>(((n-e|0)/3|0)+e|0)?(s|0)<(n+-1-((n-e|0)/3|0)|0):0))s=(n-e>>1)+e|0;P=o[t+56>>2]|0;if(!(i[t+60>>0]|0)){I=(o[t+96>>2]|0)+(P<<6)|0;o[I>>2]=o[t+20>>2];o[I+4>>2]=o[t+20+4>>2];o[I+8>>2]=o[t+20+8>>2];o[I+12>>2]=o[t+20+12>>2]}else{I=o[t+136>>2]|0;B=(+l[t+24>>2]-+l[t+8>>2])*+l[t+40>>2];j=(+l[t+28>>2]-+l[t+12>>2])*+l[t+44>>2];r[I+(P<<4)>>1]=~~((+l[t+20>>2]-+l[t+4>>2])*+l[t+36>>2])&65534;r[I+(P<<4)+2>>1]=~~B&65534;r[I+(P<<4)+4>>1]=~~j&65534}c=o[t+56>>2]|0;if(!(i[t+60>>0]|0)){I=(o[t+96>>2]|0)+(c<<6)+16|0;o[I>>2]=o[t+4>>2];o[I+4>>2]=o[t+4+4>>2];o[I+8>>2]=o[t+4+8>>2];o[I+12>>2]=o[t+4+12>>2]}else{I=o[t+136>>2]|0;F=+l[t+4>>2];B=+l[t+8>>2];j=+l[t+12>>2];B=(B-B)*+l[t+40>>2];j=(j-j)*+l[t+44>>2];r[I+(c<<4)+6>>1]=~~((F-F)*+l[t+36>>2]+1.0)&65535|1;r[I+(c<<4)+8>>1]=~~(B+1.0)&65535|1;r[I+(c<<4)+10>>1]=~~(j+1.0)&65535|1}I=o[t+56>>2]|0;if((n|0)>(e|0)){T=i[t+60>>0]|0;A=e;do{if(!(T<<24>>24)){c=o[t+76>>2]|0;u=+l[c+(A<<6)>>2];f=+l[c+(A<<6)+4>>2];d=+l[c+(A<<6)+8>>2];b=+l[c+(A<<6)+12>>2];v=+l[c+(A<<6)+16>>2];y=+l[c+(A<<6)+20>>2];S=+l[c+(A<<6)+24>>2];M=+l[c+(A<<6)+28>>2];c=o[t+96>>2]|0;if(u<+l[c+(I<<6)>>2])l[c+(I<<6)>>2]=u;if(f<+l[c+(I<<6)+4>>2])l[c+(I<<6)+4>>2]=f;if(d<+l[c+(I<<6)+8>>2])l[c+(I<<6)+8>>2]=d;if(b<+l[c+(I<<6)+12>>2])l[c+(I<<6)+12>>2]=b;if(+l[c+(I<<6)+16>>2]<v)l[c+(I<<6)+16>>2]=v;if(+l[c+(I<<6)+20>>2]<y)l[c+(I<<6)+20>>2]=y;if(+l[c+(I<<6)+24>>2]<S)l[c+(I<<6)+24>>2]=S;if(+l[c+(I<<6)+28>>2]<M)l[c+(I<<6)+28>>2]=M}else{m=o[t+116>>2]|0;b=+l[t+36>>2];R=+l[t+40>>2];M=+l[t+44>>2];v=+l[t+4>>2];F=+l[t+8>>2];C=+l[t+12>>2];y=+l[t+4>>2];B=+l[t+8>>2];L=+l[t+12>>2];S=+l[t+36>>2];j=+l[t+40>>2];E=+l[t+44>>2];g=~~((+(a[m+(A<<4)>>1]|0)/b+v-y)*S)&65534;c=~~((+(a[m+(A<<4)+4>>1]|0)/M+C-L)*E)&65534;_=~~((+(a[m+(A<<4)+2>>1]|0)/R+F-B)*j)&65534;x=(~~((+(a[m+(A<<4)+6>>1]|0)/b+v-y)*S+1.0)&65535|1)&65535;p=(~~((+(a[m+(A<<4)+10>>1]|0)/M+C-L)*E+1.0)&65535|1)&65535;m=(~~((+(a[m+(A<<4)+8>>1]|0)/R+F-B)*j+1.0)&65535|1)&65535;w=o[t+136>>2]|0;if((a[w+(I<<4)>>1]|0)>(g&65535))r[w+(I<<4)>>1]=g;if((a[w+(I<<4)+6>>1]|0)<(x&65535))r[w+(I<<4)+6>>1]=x;if((a[w+(I<<4)+2>>1]|0)>(_&65535))r[w+(I<<4)+2>>1]=_;if((a[w+(I<<4)+8>>1]|0)<(m&65535))r[w+(I<<4)+8>>1]=m;if((a[w+(I<<4)+4>>1]|0)>(c&65535))r[w+(I<<4)+4>>1]=c;if((a[w+(I<<4)+10>>1]|0)<(p&65535))r[w+(I<<4)+10>>1]=p}A=A+1|0}while((A|0)!=(n|0))}o[t+56>>2]=I+1;JP(t,e,s);T=o[t+56>>2]|0;JP(t,s,n);w=(o[t+56>>2]|0)-D|0;s=i[t+60>>0]|0;if(s<<24>>24!=0&(w<<4|0)>2048){g=o[t+136>>2]|0;_=o[g+(I+1<<4)+12>>2]|0;_=(_|0)>-1?1:0-_|0;x=o[g+(T<<4)+12>>2]|0;x=(x|0)>-1?1:0-x|0;if((_<<4|0)<2049){m=o[t+152>>2]|0;if((m|0)==(o[t+156>>2]|0)?(k=m|0?m<<1:1,(m|0)<(k|0)):0){if(!k){s=0;c=m}else{o[5637]=(o[5637]|0)+1;s=Jc(k<<5|19)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}c=o[t+152>>2]|0}if((c|0)>0){p=0;do{n=s+(p<<5)|0;D=(o[t+160>>2]|0)+(p<<5)|0;o[n>>2]=o[D>>2];o[n+4>>2]=o[D+4>>2];o[n+8>>2]=o[D+8>>2];o[n+12>>2]=o[D+12>>2];o[n+16>>2]=o[D+16>>2];o[n+20>>2]=o[D+20>>2];o[n+24>>2]=o[D+24>>2];o[n+28>>2]=o[D+28>>2];p=p+1|0}while((p|0)!=(c|0))}c=o[t+160>>2]|0;if(c|0){if(i[t+164>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[c+-4>>2]|0)}o[t+160>>2]=0}i[t+164>>0]=1;o[t+160>>2]=s;o[t+156>>2]=k;s=o[t+152>>2]|0}else s=m;o[t+152>>2]=s+1;k=(o[t+160>>2]|0)+(m<<5)|0;o[k>>2]=o[N+48>>2];o[k+4>>2]=o[N+48+4>>2];o[k+8>>2]=o[N+48+8>>2];o[k+12>>2]=o[N+48+12>>2];o[k+16>>2]=o[N+48+16>>2];o[k+20>>2]=o[N+48+20>>2];o[k+24>>2]=o[N+48+24>>2];o[k+28>>2]=o[N+48+28>>2];k=o[t+160>>2]|0;r[k+(m<<5)>>1]=r[g+(I+1<<4)>>1]|0;r[k+(m<<5)+2>>1]=r[g+(I+1<<4)+2>>1]|0;r[k+(m<<5)+4>>1]=r[g+(I+1<<4)+4>>1]|0;r[k+(m<<5)+6>>1]=r[g+(I+1<<4)+6>>1]|0;r[k+(m<<5)+8>>1]=r[g+(I+1<<4)+8>>1]|0;r[k+(m<<5)+10>>1]=r[g+(I+1<<4)+10>>1]|0;o[k+(m<<5)+12>>2]=I+1;o[k+(m<<5)+16>>2]=_}if((x<<4|0)<2049){_=o[t+152>>2]|0;if((_|0)==(o[t+156>>2]|0)?(O=_|0?_<<1:1,(_|0)<(O|0)):0){if(!O){s=0;c=_}else{o[5637]=(o[5637]|0)+1;s=Jc(O<<5|19)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}c=o[t+152>>2]|0}if((c|0)>0){p=0;do{k=s+(p<<5)|0;n=(o[t+160>>2]|0)+(p<<5)|0;o[k>>2]=o[n>>2];o[k+4>>2]=o[n+4>>2];o[k+8>>2]=o[n+8>>2];o[k+12>>2]=o[n+12>>2];o[k+16>>2]=o[n+16>>2];o[k+20>>2]=o[n+20>>2];o[k+24>>2]=o[n+24>>2];o[k+28>>2]=o[n+28>>2];p=p+1|0}while((p|0)!=(c|0))}c=o[t+160>>2]|0;if(c|0){if(i[t+164>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[c+-4>>2]|0)}o[t+160>>2]=0}i[t+164>>0]=1;o[t+160>>2]=s;o[t+156>>2]=O;s=o[t+152>>2]|0}else s=_;o[t+152>>2]=s+1;O=(o[t+160>>2]|0)+(_<<5)|0;o[O>>2]=o[N+16>>2];o[O+4>>2]=o[N+16+4>>2];o[O+8>>2]=o[N+16+8>>2];o[O+12>>2]=o[N+16+12>>2];o[O+16>>2]=o[N+16+16>>2];o[O+20>>2]=o[N+16+20>>2];o[O+24>>2]=o[N+16+24>>2];o[O+28>>2]=o[N+16+28>>2];O=o[t+160>>2]|0;r[O+(_<<5)>>1]=r[g+(T<<4)>>1]|0;r[O+(_<<5)+2>>1]=r[g+(T<<4)+2>>1]|0;r[O+(_<<5)+4>>1]=r[g+(T<<4)+4>>1]|0;r[O+(_<<5)+6>>1]=r[g+(T<<4)+6>>1]|0;r[O+(_<<5)+8>>1]=r[g+(T<<4)+8>>1]|0;r[O+(_<<5)+10>>1]=r[g+(T<<4)+10>>1]|0;o[O+(_<<5)+12>>2]=T;o[O+(_<<5)+16>>2]=x}o[t+168>>2]=o[t+152>>2];s=i[t+60>>0]|0}if(!(s<<24>>24)){o[(o[t+96>>2]|0)+(P<<6)+32>>2]=w;h=N;return}else{o[(o[t+136>>2]|0)+(P<<4)+12>>2]=0-w;h=N;return}}function KP(t,e,n,s){t=t|0;e=e|0;n=n|0;s=s|0;var c=0,u=0,p=0,f=0,d=0,_=0,m=0,g=0,b=0,v=0,y=0,x=0,w=0,S=0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0,D=0.0,k=0.0,O=0.0;S=h;h=h+16|0;if(!(i[t+60>>0]|0)){c=o[t+56>>2]|0;if((c|0)>0){u=c;d=0;g=o[t+96>>2]|0;c=0;while(1){c=c+1|0;if(!(+l[n>>2]>+l[g+16>>2])?!(+l[s>>2]<+l[g>>2]):0)p=1;else p=0;if(!(!(+l[n+8>>2]>+l[g+24>>2])?!(+l[s+8>>2]<+l[g+8>>2]):0))p=0;if(!(+l[n+4>>2]>+l[g+20>>2])?!(+l[s+4>>2]<+l[g+4>>2]):0){f=o[g+32>>2]|0;if(p&(f|0)==-1){Uk[o[(o[e>>2]|0)+8>>2]&127](e,o[g+36>>2]|0,o[g+40>>2]|0);u=o[t+56>>2]|0;m=43}else{_=(f|0)==-1;m=42}}else{f=o[g+32>>2]|0;_=(f|0)==-1;p=0;m=42}if((m|0)==42){m=0;if(_|p)m=43;else{d=f+d|0;p=g+(f<<6)|0}}if((m|0)==43){d=d+1|0;p=g+64|0}if((d|0)<(u|0))g=p;else break}}else c=0;if((o[4988]|0)>=(c|0)){h=S;return}o[4988]=c;h=S;return}R=+l[n>>2];k=+l[n+4>>2];T=+l[n+8>>2];D=+l[t+4>>2];R=R<D?D:R;C=+l[t+8>>2];k=k<C?C:k;E=+l[t+12>>2];T=T<E?E:T;O=+l[t+20>>2];A=+l[t+24>>2];I=+l[t+28>>2];P=+l[t+36>>2];M=+l[t+40>>2];L=+l[t+44>>2];w=~~(((O<R?O:R)-D)*P)&65534;r[S+6>>1]=w;y=~~(((I<T?I:T)-E)*L)&65534;x=~~(((A<k?A:k)-C)*M)&65534;r[S+6+2>>1]=x;r[S+6+4>>1]=y;k=+l[s>>2];T=+l[s+4>>2];R=+l[s+8>>2];k=k<D?D:k;T=T<C?C:T;R=R<E?E:R;v=(~~(((O<k?O:k)-D)*P+1.0)&65535|1)&65535;r[S>>1]=v;s=(~~(((I<R?I:R)-E)*L+1.0)&65535|1)&65535;b=(~~(((A<T?A:T)-C)*M+1.0)&65535|1)&65535;r[S+2>>1]=b;r[S+4>>1]=s;switch(o[t+144>>2]|0){case 0:{m=o[t+56>>2]|0;if((m|0)>0){u=0;p=o[t+136>>2]|0;c=0;do{c=c+1|0;f=((v&65535)>=(a[p>>1]|0)?(w&65535)<=(a[p+6>>1]|0):0)&(y&65535)<=(a[p+10>>1]|0)&(s&65535)>=(a[p+4>>1]|0)&(x&65535)<=(a[p+8>>1]|0)&(b&65535)>=(a[p+2>>1]|0);d=p+12|0;_=o[d>>2]|0;if((_|0)>-1&f)Uk[o[(o[e>>2]|0)+8>>2]&127](e,_>>21,_&2097151);if(f|(_|0)>-1){u=u+1|0;p=p+16|0}else{t=o[d>>2]|0;u=u-t|0;p=p+(0-t<<4)|0}}while((u|0)<(m|0))}else c=0;if((o[4988]|0)<(c|0))o[4988]=c;break}case 1:{if((o[t+152>>2]|0)>0){n=0;do{c=o[t+160>>2]|0;if(((v&65535)>=(a[c+(n<<5)>>1]|0)?(w&65535)<=(a[c+(n<<5)+6>>1]|0):0)&(y&65535)<=(a[c+(n<<5)+10>>1]|0)&(s&65535)>=(a[c+(n<<5)+4>>1]|0)&(x&65535)<=(a[c+(n<<5)+8>>1]|0)&(b&65535)>=(a[c+(n<<5)+2>>1]|0)){g=o[c+(n<<5)+12>>2]|0;m=o[c+(n<<5)+16>>2]|0;if((m|0)>0){u=g;p=(o[t+136>>2]|0)+(g<<4)|0;c=0;do{c=c+1|0;f=((v&65535)>=(a[p>>1]|0)?(w&65535)<=(a[p+6>>1]|0):0)&(y&65535)<=(a[p+10>>1]|0)&(s&65535)>=(a[p+4>>1]|0)&(x&65535)<=(a[p+8>>1]|0)&(b&65535)>=(a[p+2>>1]|0);d=p+12|0;_=o[d>>2]|0;if((_|0)>-1&f)Uk[o[(o[e>>2]|0)+8>>2]&127](e,_>>21,_&2097151);if(f|(_|0)>-1){u=u+1|0;p=p+16|0}else{_=o[d>>2]|0;u=u-_|0;p=p+(0-_<<4)|0}}while((u|0)<(m+g|0))}else c=0;if((o[4988]|0)<(c|0))o[4988]=c}n=n+1|0}while((n|0)<(o[t+152>>2]|0))}break}case 2:{$P(o[t+136>>2]|0,e,S+6|0,S);break}default:{}}h=S;return}function $P(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0,s=0,c=0;while(1){r=o[t+12>>2]|0;if(!(((a[i>>1]|0)>=(a[t>>1]|0)?(a[n>>1]|0)<=(a[t+6>>1]|0):0)&(a[n+4>>1]|0)<=(a[t+10>>1]|0)&(a[i+4>>1]|0)>=(a[t+4>>1]|0)&(a[n+2>>1]|0)<=(a[t+8>>1]|0)&(a[i+2>>1]|0)>=(a[t+2>>1]|0))){s=6;break}if((r|0)>-1)break;c=t+16|0;$P(c,e,n,i);r=o[t+28>>2]|0;t=(r|0)>-1?t+32|0:c+(0-r<<4)|0}if((s|0)==6)return;Uk[o[(o[e>>2]|0)+8>>2]&127](e,r>>21,r&2097151);return}function QP(t,e,n,i,r,s,a,c){t=t|0;e=e|0;n=n|0;i=+i;r=+r;s=+s;a=a|0;c=c|0;var u=0,p=0,f=0,d=0,_=0.0,m=0.0,g=0,b=0.0,v=0.0,y=0.0,x=0,w=0.0,S=0,M=0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0,D=0.0,k=0.0,O=0.0,N=0.0,F=0.0,B=0.0,j=0.0,U=0.0,z=0.0,G=0.0,W=0.0,H=0.0,X=0.0,q=0;q=h;h=h+32|0;P=+l[n>>2];k=+l[n+4>>2];H=+l[n+8>>2];v=+l[a>>2];y=+l[a+4>>2];w=+l[a+8>>2];_=+l[c>>2];m=+l[c+4>>2];b=+l[c+8>>2];D=1.0/+V(+((i-P)*(i-P)+(r-k)*(r-k)+(s-H)*(s-H)));O=(i-P)*D==0.0?999999984306749440.0:1.0/((i-P)*D);N=(r-k)*D==0.0?999999984306749440.0:1.0/((r-k)*D);F=(s-H)*D==0.0?999999984306749440.0:1.0/((s-H)*D);B=(P>i?i:P)+v;j=(k>r?r:k)+y;U=(H>s?s:H)+w;z=(P<i?i:P)+_;G=(k<r?r:k)+m;W=(H<s?s:H)+b;p=o[t+56>>2]|0;t:do{if((p|0)>0){S=0;M=o[t+96>>2]|0;u=0;while(1){u=u+1|0;o[q>>2]=o[M>>2];o[q+4>>2]=o[M+4>>2];o[q+8>>2]=o[M+8>>2];o[q+12>>2]=o[M+12>>2];x=M+16|0;o[q+16>>2]=o[x>>2];o[q+16+4>>2]=o[x+4>>2];o[q+16+8>>2]=o[x+8>>2];o[q+16+12>>2]=o[x+12>>2];l[q>>2]=+l[q>>2]-_;l[q+4>>2]=+l[q+4>>2]-m;l[q+8>>2]=+l[q+8>>2]-b;l[q+16>>2]=+l[q+16>>2]-v;l[q+20>>2]=+l[q+20>>2]-y;l[q+24>>2]=+l[q+24>>2]-w;if(!(B>+l[x>>2])?!(z<+l[M>>2]):0)f=1;else f=0;if(!(!(U>+l[M+24>>2])?!(W<+l[M+8>>2]):0))f=0;if(((!(j>+l[M+20>>2])?!(G<+l[M+4>>2]|f^1):0)?(T=+l[n>>2],C=O*(+l[q+((O<0.0&1)<<4)>>2]-T),T=O*(+l[q+((O<0.0^1)<<4)>>2]-T),L=+l[n+4>>2],A=N*(+l[q+((N<0.0&1)<<4)+4>>2]-L),L=N*(+l[q+((N<0.0^1)<<4)+4>>2]-L),!(A>T|C>L)):0)?(E=A>C?A:C,X=L<T?L:T,I=+l[n+8>>2],R=F*(+l[q+((F<0.0&1)<<4)+8>>2]-I),I=F*(+l[q+((F<0.0^1)<<4)+8>>2]-I),!(R>X|E>I)):0){f=(I<X?I:X)>0.0?(R>E?R:E)<(s-H)*((s-H)*D)+((i-P)*((i-P)*D)+(r-k)*((r-k)*D)):0;d=o[M+32>>2]|0;if(f&(d|0)==-1){Uk[o[(o[e>>2]|0)+8>>2]&127](e,o[M+36>>2]|0,o[M+40>>2]|0);p=o[t+56>>2]|0;x=17}else{g=(d|0)==-1;x=16}}else{d=o[M+32>>2]|0;g=(d|0)==-1;f=0;x=16}if((x|0)==16){x=0;if(g|f)x=17;else{g=d+S|0;f=M+(d<<6)|0}}if((x|0)==17){g=S+1|0;f=M+64|0}if((g|0)>=(p|0))break t;_=+l[c>>2];m=+l[c+4>>2];b=+l[c+8>>2];v=+l[a>>2];y=+l[a+4>>2];w=+l[a+8>>2];S=g;M=f}}else u=0}while(0);if((o[4988]|0)>=(u|0)){h=q;return}o[4988]=u;h=q;return}function tD(t,e,n,i,s,c,u,p,f){t=t|0;e=e|0;n=n|0;i=+i;s=+s;c=+c;u=u|0;p=p|0;f=f|0;var d=0,_=0,m=0,g=0,b=0.0,v=0.0,y=0.0,x=0.0,w=0,S=0,M=0,C=0,T=0,A=0,L=0,E=0,R=0,I=0,P=0,D=0.0,k=0,O=0.0,N=0.0,F=0.0,B=0.0,j=0.0,U=0.0,z=0.0,G=0.0,W=0.0,H=0,X=0.0,q=0,Y=0.0,Z=0.0,J=0.0,K=0.0,$=0.0,Q=0.0,tt=0.0,et=0.0,nt=0.0,it=0.0,rt=0.0;q=h;h=h+32|0;D=+l[n>>2];z=+l[n+4>>2];W=+l[n+8>>2];O=1.0/+V(+((i-D)*(i-D)+(s-z)*(s-z)+(c-W)*(c-W)));j=(i-D)*O==0.0?999999984306749440.0:1.0/((i-D)*O);U=(s-z)*O==0.0?999999984306749440.0:1.0/((s-z)*O);G=(c-W)*O==0.0?999999984306749440.0:1.0/((c-W)*O);rt=(D>i?i:D)+ +l[u>>2];nt=(z>s?s:z)+ +l[u+4>>2];it=(W>c?c:W)+ +l[u+8>>2];tt=(D<i?i:D)+ +l[p>>2];v=(z<s?s:z)+ +l[p+4>>2];J=(W<c?c:W)+ +l[p+8>>2];Q=+l[t+4>>2];rt=rt<Q?Q:rt;y=+l[t+8>>2];nt=nt<y?y:nt;Z=+l[t+12>>2];it=it<Z?Z:it;et=+l[t+20>>2];b=+l[t+24>>2];K=+l[t+28>>2];$=+l[t+36>>2];x=+l[t+40>>2];Y=+l[t+44>>2];H=~~(((et<rt?et:rt)-Q)*$)&65534;R=~~(((K<it?K:it)-Z)*Y)&65534;P=~~(((b<nt?b:nt)-y)*x)&65534;tt=tt<Q?Q:tt;v=v<y?y:v;J=J<Z?Z:J;k=(~~(((et<tt?et:tt)-Q)*$+1.0)&65535|1)&65535;E=(~~(((K<J?K:J)-Z)*Y+1.0)&65535|1)&65535;I=(~~(((b<v?b:v)-y)*x+1.0)&65535|1)&65535;if((f|0)>0){_=0;m=o[t+136>>2]|0;d=0;do{d=d+1|0;g=m+6|0;w=r[m>>1]|0;S=m+10|0;M=r[m+4>>1]|0;C=m+8|0;T=r[m+2>>1]|0;A=m+12|0;L=(o[A>>2]|0)>-1;do{if(((k&65535)>=(w&65535)?(H&65535)<=(a[g>>1]|0):0)&(R&65535)<=(a[S>>1]|0)&(E&65535)>=(M&65535)&(P&65535)<=(a[C>>1]|0)&(I&65535)>=(T&65535)){tt=+l[t+36>>2];nt=+l[t+40>>2];rt=+l[t+44>>2];et=+l[t+4>>2];it=+l[t+8>>2];y=+l[t+12>>2];l[q+12>>2]=0.0;x=+(a[g>>1]|0)/tt+et;b=+(a[C>>1]|0)/nt+it;v=+(a[S>>1]|0)/rt+y;l[q+28>>2]=0.0;l[q>>2]=+(w&65535)/tt+et-+l[p>>2];l[q+4>>2]=+(T&65535)/nt+it-+l[p+4>>2];l[q+8>>2]=+(M&65535)/rt+y-+l[p+8>>2];l[q+16>>2]=x-+l[u>>2];l[q+20>>2]=b-+l[u+4>>2];l[q+24>>2]=v-+l[u+8>>2];v=+l[n>>2];b=j*(+l[q+((j<0.0&1)<<4)>>2]-v);v=j*(+l[q+((j<0.0^1)<<4)>>2]-v);x=+l[n+4>>2];y=U*(+l[q+((U<0.0&1)<<4)+4>>2]-x);x=U*(+l[q+((U<0.0^1)<<4)+4>>2]-x);if(!(y>v|b>x)?(N=y>b?y:b,X=x<v?x:v,B=+l[n+8>>2],F=G*(+l[q+((G<0.0&1)<<4)+8>>2]-B),B=G*(+l[q+((G<0.0^1)<<4)+8>>2]-B),!(F>X|N>B)):0){g=(B<X?B:X)>0.0?(F>N?F:N)<(c-W)*((c-W)*O)+((i-D)*((i-D)*O)+(s-z)*((s-z)*O)):0;if(!(L&g)){w=9;break}w=o[A>>2]|0;Uk[o[(o[e>>2]|0)+8>>2]&127](e,w>>21,w&2097151);w=10;break}g=0;w=9}else{g=0;w=9}}while(0);if((w|0)==9){w=0;if(L|g)w=10;else{L=o[A>>2]|0;_=_-L|0;m=m+(0-L<<4)|0}}if((w|0)==10){_=_+1|0;m=m+16|0}}while((_|0)<(f|0))}else d=0;if((o[4988]|0)>=(d|0)){h=q;return}o[4988]=d;h=q;return}function eD(t){t=t|0;var e=0;o[t>>2]=3016;if(!(i[t+8>>0]|0))return;e=o[t+12>>2]|0;if(!e)return;t=o[t+4>>2]|0;ck[o[(o[t>>2]|0)+16>>2]&127](t,e);return}function nD(t){t=t|0;var e=0,n=0;o[t>>2]=3016;if(!(i[t+8>>0]|0)){Kc(t);return}e=o[t+12>>2]|0;if(!e){Kc(t);return}n=o[t+4>>2]|0;ck[o[(o[n>>2]|0)+16>>2]&127](n,e);Kc(t);return}function iD(t,e,n,r,s){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;var a=0,c=0,u=0,p=0,f=0;u=h;h=h+144|0;a=o[t+12>>2]|0;if(!a){h=u;return}f=o[e+4>>2]|0;p=o[n+4>>2]|0;o[s+4>>2]=a;l[u+12+128>>2]=999999984306749440.0;e=o[e+12>>2]|0;o[u+12>>2]=o[e>>2];o[u+12+4>>2]=o[e+4>>2];o[u+12+8>>2]=o[e+8>>2];o[u+12+12>>2]=o[e+12>>2];o[u+12+16>>2]=o[e+16>>2];o[u+12+16+4>>2]=o[e+16+4>>2];o[u+12+16+8>>2]=o[e+16+8>>2];o[u+12+16+12>>2]=o[e+16+12>>2];o[u+12+32>>2]=o[e+32>>2];o[u+12+32+4>>2]=o[e+32+4>>2];o[u+12+32+8>>2]=o[e+32+8>>2];o[u+12+32+12>>2]=o[e+32+12>>2];o[u+12+48>>2]=o[e+48>>2];o[u+12+48+4>>2]=o[e+48+4>>2];o[u+12+48+8>>2]=o[e+48+8>>2];o[u+12+48+12>>2]=o[e+48+12>>2];n=o[n+12>>2]|0;o[u+12+64>>2]=o[n>>2];o[u+12+64+4>>2]=o[n+4>>2];o[u+12+64+8>>2]=o[n+8>>2];o[u+12+64+12>>2]=o[n+12>>2];o[u+12+80>>2]=o[n+16>>2];o[u+12+80+4>>2]=o[n+16+4>>2];o[u+12+80+8>>2]=o[n+16+8>>2];o[u+12+80+12>>2]=o[n+16+12>>2];o[u+12+96>>2]=o[n+32>>2];o[u+12+96+4>>2]=o[n+32+4>>2];o[u+12+96+8>>2]=o[n+32+8>>2];o[u+12+96+12>>2]=o[n+32+12>>2];o[u+12+112>>2]=o[n+48>>2];o[u+12+112+4>>2]=o[n+48+4>>2];o[u+12+112+8>>2]=o[n+48+8>>2];o[u+12+112+12>>2]=o[n+48+12>>2];o[u>>2]=3044;o[u+4>>2]=f;o[u+8>>2]=p;xx(u,u+12|0,s,o[r+20>>2]|0,0);do{if(i[t+8>>0]|0?(c=o[s+4>>2]|0,o[c+748>>2]|0):0){e=o[c+740>>2]|0;n=o[(o[s+8>>2]|0)+8>>2]|0;a=o[(o[s+12>>2]|0)+8>>2]|0;if((e|0)==(n|0)){px(c,e+4|0,a+4|0);break}else{px(c,a+4|0,n+4|0);break}}}while(0);h=u;return}function rD(t,e,n,i,r){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;return 1.0}function oD(t,e){t=t|0;e=e|0;var n=0,r=0,s=0,a=0;n=o[t+12>>2]|0;if(!n)return;if(!(i[t+8>>0]|0))return;r=o[e+4>>2]|0;if((r|0)==(o[e+8>>2]|0)?(a=r|0?r<<1:1,(r|0)<(a|0)):0){if(!a)n=0;else{o[5637]=(o[5637]|0)+1;n=Jc((a<<2|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}r=o[e+4>>2]|0}if((r|0)>0){s=0;do{o[n+(s<<2)>>2]=o[(o[e+12>>2]|0)+(s<<2)>>2];s=s+1|0}while((s|0)!=(r|0))}s=o[e+12>>2]|0;if(s){if(i[e+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[s+-4>>2]|0);r=o[e+4>>2]|0}o[e+12>>2]=0}i[e+16>>0]=1;o[e+12>>2]=n;o[e+8>>2]=a;n=o[t+12>>2]|0}o[(o[e+12>>2]|0)+(r<<2)>>2]=n;o[e+4>>2]=r+1;return}function sD(t){t=t|0;return}function aD(t){t=t|0;Kc(t);return}function cD(t,e,n,r,s,a,c,u,h,p,f,d,_){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;a=a|0;c=c|0;u=u|0;h=h|0;p=p|0;f=f|0;d=d|0;_=_|0;var m=0.0,g=0.0,b=0.0,v=0.0,y=0,x=0.0,w=0.0,S=0,M=0.0,C=0,T=0.0,A=0.0,L=0.0;y=et(o[h+24>>2]|0,p)|0;switch(o[e+84>>2]|0){case 4:{g=+l[f>>2];b=+l[f+4>>2];m=+l[f+8>>2];if(d|0)v=+l[c>>2]*g+ +l[c+4>>2]*b+ +l[c+8>>2]*m-(g*+l[u>>2]+b*+l[u+4>>2]+m*+l[u+8>>2]);else v=+l[s>>2]*g+ +l[s+4>>2]*b+ +l[s+8>>2]*m-(g*+l[a>>2]+b*+l[a+4>>2]+m*+l[a+8>>2]);lD(t,n,r,h,y,f,d,_);b=d|0?-1.0:1.0;m=b*(+l[h>>2]*+l[e+12>>2]*+l[e+72>>2]);p=(o[h+28>>2]|0)+(y<<2)|0;l[p>>2]=m;g=m-v*+l[e+12>>2];if(d|0){if(g>0.0?(x=-(v*+l[e+8>>2]),m<x):0)l[p>>2]=x}else if(g<0.0?(w=-(v*+l[e+8>>2]),m>w):0)l[p>>2]=w;l[(o[h+36>>2]|0)+(y<<2)>>2]=d|0?0.0:-3402823466385288598117041.0e14;l[(o[h+40>>2]|0)+(y<<2)>>2]=d|0?3402823466385288598117041.0e14:0.0;o[(o[h+32>>2]|0)+(y<<2)>>2]=o[e+16>>2];y=(o[h+24>>2]|0)+y|0;lD(t,n,r,h,y,f,d,_);m=b*(+l[h>>2]*+l[e+12>>2]*+l[e+76>>2]);p=(o[h+28>>2]|0)+(y<<2)|0;l[p>>2]=m;g=m-v*+l[e+12>>2];if(d|0){if(g<0.0?(M=-(v*+l[e+8>>2]),m>M):0)l[p>>2]=M}else if(g>0.0?(T=-(v*+l[e+8>>2]),m<T):0)l[p>>2]=T;l[(o[h+36>>2]|0)+(y<<2)>>2]=d|0?-3402823466385288598117041.0e14:0.0;l[(o[h+40>>2]|0)+(y<<2)>>2]=d|0?0.0:3402823466385288598117041.0e14;o[(o[h+32>>2]|0)+(y<<2)>>2]=o[e+16>>2];p=2;y=(o[h+24>>2]|0)+y|0;break}case 3:{lD(t,n,r,h,y,f,d,_);l[(o[h+28>>2]|0)+(y<<2)>>2]=(d|0?-1.0:1.0)*(+l[h>>2]*+l[e+12>>2]*+l[e+72>>2]);l[(o[h+36>>2]|0)+(y<<2)>>2]=-3402823466385288598117041.0e14;l[(o[h+40>>2]|0)+(y<<2)>>2]=3402823466385288598117041.0e14;o[(o[h+32>>2]|0)+(y<<2)>>2]=o[e+16>>2];p=1;y=(o[h+24>>2]|0)+y|0;break}default:p=0}do{if(!(i[e+28>>0]|0))S=p;else{if(!(i[e+40>>0]|0)){lD(t,n,r,h,y,f,d,_);w=+l[e+32>>2];m=d|0?w:-w;g=+l[e+80>>2];b=+l[e>>2];v=+l[e+4>>2];x=+l[h>>2]*+l[e+20>>2];do{if(!(b>v))if(!(b==v)){if(m/x<0.0)if(g>=b?b-m/x>g:0){m=(b-g)/(m/x);break}else{m=g<b?0.0:1.0;break}if(m/x>0.0)if(g<=v?v-m/x<g:0){m=(v-g)/(m/x);break}else{m=g>v?0.0:1.0;break}else m=0.0}else m=0.0;else m=1.0}while(0);l[(o[h+28>>2]|0)+(y<<2)>>2]=m*w;l[(o[h+36>>2]|0)+(y<<2)>>2]=-+l[e+36>>2];o[(o[h+40>>2]|0)+(y<<2)>>2]=o[e+36>>2];o[(o[h+32>>2]|0)+(y<<2)>>2]=o[e+24>>2];y=(o[h+24>>2]|0)+y|0;p=p+1|0;if(!(i[e+28>>0]|0)){S=p;break}if(!(i[e+40>>0]|0)){S=p;break}else{S=e+32|0;C=e+80|0}}else{S=e+32|0;C=e+80|0}g=+l[C>>2]-+l[e+44>>2];lD(t,n,r,h,y,f,d,_);x=+l[S>>2];x=g<0.0?-x:x;do{if(g!=0.0){b=+l[e>>2];m=+l[e+4>>2];do{if(b>m){if(g>0.0)m=+l[e+44>>2];else m=-3402823466385288598117041.0e14;if(g<0.0){v=+l[e+44>>2];b=m}else{v=3402823466385288598117041.0e14;b=m}}else{if(g>0.0?(A=+l[e+44>>2],A>b):0)b=A;if(g<0.0?(L=+l[e+44>>2],L<m):0){v=L;break}v=m}}while(0);m=+l[C>>2];g=+l[h>>2]*+l[e+20>>2];if(!(b>v))if(!(b==v)){if(-x/g<0.0)if(m>=b?b- -x/g>m:0){m=(b-m)/(-x/g);break}else{m=m<b?0.0:1.0;break}if(-x/g>0.0)if(m<=v?v- -x/g<m:0){m=(v-m)/(-x/g);break}else{m=m>v?0.0:1.0;break}else m=0.0}else m=0.0;else m=1.0}else m=0.0}while(0);l[(o[h+28>>2]|0)+(y<<2)>>2]=(d|0?-1.0:1.0)*(x*m);l[(o[h+36>>2]|0)+(y<<2)>>2]=-+l[e+36>>2];o[(o[h+40>>2]|0)+(y<<2)>>2]=o[e+36>>2];o[(o[h+32>>2]|0)+(y<<2)>>2]=o[e+24>>2];S=p+1|0;y=(o[h+24>>2]|0)+y|0}}while(0);if(!(i[e+48>>0]|0)){h=S;return h|0}M=+l[e+80>>2]-+l[e+68>>2];lD(t,n,r,h,y,f,d,_);x=1.0/+l[h>>2];w=+l[e+60>>2];m=+l[e+52>>2];b=+l[f>>2];v=+l[f+4>>2];g=+l[f+8>>2];if(d|0)b=+l[c>>2]*b+ +l[c+4>>2]*v+ +l[c+8>>2]*g-(b*+l[u>>2]+v*+l[u+4>>2]+g*+l[u+8>>2]);else b=+l[s>>2]*b+ +l[s+4>>2]*v+ +l[s+8>>2]*g-(b*+l[a>>2]+v*+l[a+4>>2]+g*+l[a+8>>2]);g=1.0/+l[(o[t+28>>2]|0)+368>>2];L=1.0/+l[(o[t+32>>2]|0)+368>>2];g=g>L?L:g;if((i[e+56>>0]|0)!=0?x*+V(+(m/g))>.25:0)m=1.0/x/x*.0625*g;T=d|0?-1.0:1.0;A=x*(T*(b*(w*x>g&(i[e+64>>0]|0)!=0?g/x:w)));L=x*(M*m)-A;l[(o[h+28>>2]|0)+(y<<2)>>2]=b+T*L;m=L<-A?L:-A;b=L<-A?-A:L;p=o[h+40>>2]|0;if(d|0){g=-m<0.0?0.0:-m;m=-b>0.0?0.0:-b}else{g=b<0.0?0.0:b;m=m>0.0?0.0:m}l[(o[h+36>>2]|0)+(y<<2)>>2]=m;l[p+(y<<2)>>2]=g;l[(o[h+32>>2]|0)+(y<<2)>>2]=0.0;h=S+1|0;return h|0}function lD(t,e,n,r,s,a,c,u){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;a=a|0;c=c|0;u=u|0;var h=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0,M=0,C=0.0;M=o[(c|0?r+12|0:r+8|0)>>2]|0;S=o[(c|0?r+20|0:r+16|0)>>2]|0;o[M+(s<<2)>>2]=o[a>>2];o[M+(s+1<<2)>>2]=o[a+4>>2];o[M+(s+2<<2)>>2]=o[a+8>>2];l[S+(s<<2)>>2]=-+l[a>>2];l[S+(s+1<<2)>>2]=-+l[a+4>>2];l[S+(s+2<<2)>>2]=-+l[a+8>>2];if(c|0)return;f=+l[t+1348>>2]-+l[n+48>>2];h=+l[t+1352>>2]-+l[n+52>>2];p=+l[t+1356>>2]-+l[n+56>>2];x=+l[t+1284>>2]-+l[e+48>>2];w=+l[t+1288>>2]-+l[e+52>>2];g=+l[t+1292>>2]-+l[e+56>>2];b=+l[a+8>>2];y=+l[a+4>>2];v=+l[a>>2];if((u|0)!=0|(i[t+1452>>0]|0)==0){m=f*y-h*v;_=h*b-p*y;f=p*v-f*b;d=w*b-g*y;p=g*v-x*b;h=x*y-w*v}else{C=+l[t+1444>>2];d=+l[t+1448>>2];m=d*(f*y-h*v);_=d*(h*b-p*y);f=d*(p*v-f*b);d=C*(w*b-g*y);p=C*(g*v-x*b);h=C*(x*y-w*v)}M=(o[r+12>>2]|0)+(s<<2)|0;l[M>>2]=d;l[M+4>>2]=p;l[M+8>>2]=h;M=o[r+20>>2]|0;l[M+(s<<2)>>2]=-_;l[M+(s+1<<2)>>2]=-f;l[M+(s+2<<2)>>2]=-m;return}function uD(t,e,n,i){t=t|0;e=e|0;n=+n;i=i|0;if(i>>>0<3)switch(e|0){case 2:{l[t+728+(i<<2)>>2]=n;o[t+1456>>2]=o[t+1456>>2]|2<<(i<<2);return}case 4:{l[t+744+(i<<2)>>2]=n;o[t+1456>>2]=o[t+1456>>2]|1<<(i<<2);return}case 1:{l[t+760+(i<<2)>>2]=n;o[t+1456>>2]=o[t+1456>>2]|8<<(i<<2);return}case 3:{l[t+776+(i<<2)>>2]=n;o[t+1456>>2]=o[t+1456>>2]|4<<(i<<2);return}default:return}if((i+-3|0)>>>0>=3)return;switch(e|0){case 2:{l[t+968+((i+-3|0)*88|0)+12>>2]=n;o[t+1456>>2]=o[t+1456>>2]|2<<(i<<2);return}case 4:{l[t+968+((i+-3|0)*88|0)+16>>2]=n;o[t+1456>>2]=o[t+1456>>2]|1<<(i<<2);return}case 1:{l[t+968+((i+-3|0)*88|0)+20>>2]=n;o[t+1456>>2]=o[t+1456>>2]|8<<(i<<2);return}case 3:{l[t+968+((i+-3|0)*88|0)+24>>2]=n;o[t+1456>>2]=o[t+1456>>2]|4<<(i<<2);return}default:return}}function hD(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0;t:do{if(n>>>0>=3)if((n+-3|0)>>>0<3)switch(e|0){case 2:{i=+l[t+968+((n+-3|0)*88|0)+12>>2];break t}case 4:{i=+l[t+968+((n+-3|0)*88|0)+16>>2];break t}case 1:{i=+l[t+968+((n+-3|0)*88|0)+20>>2];break t}case 3:{i=+l[t+968+((n+-3|0)*88|0)+24>>2];break t}default:{i=0.0;break t}}else i=0.0;else switch(e|0){case 2:{i=+l[t+728+(n<<2)>>2];break t}case 4:{i=+l[t+744+(n<<2)>>2];break t}case 1:{i=+l[t+760+(n<<2)>>2];break t}case 3:{i=+l[t+776+(n<<2)>>2];break t}default:{i=0.0;break t}}}while(0);return+i}function pD(t){t=t|0;o[t>>2]=7188;if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function fD(t,e){t=t|0;e=e|0;var n=0.0,r=0.0;if(i[t+1309>>0]|0){n=(+l[t+1256>>2]-+l[t+1316>>2])*+l[t+1340>>2];l[t+792>>2]=n*(+l[e>>2]*+l[t+1364>>2]/+(o[e+48>>2]|0));n=+G(+n);l[t+808>>2]=n/+l[e>>2]}if(i[t+1310>>0]|0){n=(+l[t+1260>>2]-+l[t+1320>>2])*+l[t+1344>>2];l[t+796>>2]=n*(+l[e>>2]*+l[t+1368>>2]/+(o[e+48>>2]|0));n=+G(+n);l[t+812>>2]=n/+l[e>>2]}if(i[t+1311>>0]|0){n=(+l[t+1264>>2]-+l[t+1324>>2])*+l[t+1348>>2];l[t+800>>2]=n*(+l[e>>2]*+l[t+1372>>2]/+(o[e+48>>2]|0));n=+G(+n);l[t+816>>2]=n/+l[e>>2]}if(i[t+1312>>0]|0){r=-((+l[t+1192>>2]-+l[t+1328>>2])*+l[t+1352>>2]);n=+l[e>>2];l[t+876>>2]=n*+l[t+1376>>2]/+(o[e+48>>2]|0)*r;l[t+880>>2]=+G(+r)/n}if(i[t+1313>>0]|0){n=-((+l[t+1196>>2]-+l[t+1332>>2])*+l[t+1356>>2]);r=+l[e>>2];l[t+940>>2]=r*+l[t+1380>>2]/+(o[e+48>>2]|0)*n;l[t+944>>2]=+G(+n)/r}if(!(i[t+1314>>0]|0)){KA(t,e);return}n=-((+l[t+1200>>2]-+l[t+1336>>2])*+l[t+1360>>2]);r=+l[e>>2];l[t+1004>>2]=r*+l[t+1384>>2]/+(o[e+48>>2]|0)*n;l[t+1008>>2]=+G(+n)/r;KA(t,e);return}function dD(t){t=t|0;return 348}function _D(t,e,n){t=t|0;e=e|0;n=n|0;iL(t,e,n)|0;o[e+276>>2]=o[t+1316>>2];o[e+324>>2]=o[t+1364>>2];o[e+252>>2]=s[t+1309>>0];o[e+300>>2]=o[t+1340>>2];o[e+280>>2]=o[t+1320>>2];o[e+328>>2]=o[t+1368>>2];o[e+256>>2]=s[t+1310>>0];o[e+304>>2]=o[t+1344>>2];o[e+284>>2]=o[t+1324>>2];o[e+332>>2]=o[t+1372>>2];o[e+260>>2]=s[t+1311>>0];o[e+308>>2]=o[t+1348>>2];o[e+288>>2]=o[t+1328>>2];o[e+336>>2]=o[t+1376>>2];o[e+264>>2]=s[t+1312>>0];o[e+312>>2]=o[t+1352>>2];o[e+292>>2]=o[t+1332>>2];o[e+340>>2]=o[t+1380>>2];o[e+268>>2]=s[t+1313>>0];o[e+316>>2]=o[t+1356>>2];o[e+296>>2]=o[t+1336>>2];o[e+344>>2]=o[t+1384>>2];o[e+272>>2]=s[t+1314>>0];o[e+320>>2]=o[t+1360>>2];return 15322}function mD(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0;y=+l[e>>2];v=+l[e+4>>2];b=+l[e+8>>2];g=1.0/+V(+(y*y+v*v+b*b));M=+l[n>>2];S=+l[n+4>>2];w=+l[n+8>>2];x=1.0/+V(+(M*M+S*S+w*w));A=b*g*(S*x)-v*g*(w*x);T=y*g*(w*x)-b*g*(M*x);C=v*g*(M*x)-y*g*(S*x);n=o[t+28>>2]|0;i=+l[n+4>>2];s=+l[n+20>>2];c=+l[n+36>>2];r=+l[n+8>>2];a=+l[n+24>>2];u=+l[n+40>>2];h=+l[n+12>>2];f=+l[n+28>>2];_=+l[n+44>>2];p=-+l[n+52>>2];d=-+l[n+56>>2];m=-+l[n+60>>2];l[t+48>>2]=C*c+(i*A+s*T);l[t+52>>2]=i*(M*x)+S*x*s+w*x*c;l[t+56>>2]=y*g*i+v*g*s+b*g*c;l[t+60>>2]=0.0;l[t+64>>2]=A*r+T*a+C*u;l[t+68>>2]=M*x*r+S*x*a+w*x*u;l[t+72>>2]=y*g*r+v*g*a+b*g*u;l[t+76>>2]=0.0;l[t+80>>2]=A*h+T*f+C*_;l[t+84>>2]=M*x*h+S*x*f+w*x*_;l[t+88>>2]=y*g*h+v*g*f+b*g*_;l[t+92>>2]=0.0;l[t+96>>2]=i*0.0+s*0.0+c*0.0+(i*p+s*d+c*m);l[t+100>>2]=r*0.0+a*0.0+u*0.0+(r*p+a*d+u*m);l[t+104>>2]=h*0.0+f*0.0+_*0.0+(h*p+f*d+_*m);l[t+108>>2]=0.0;n=o[t+32>>2]|0;m=+l[n+4>>2];_=+l[n+20>>2];d=+l[n+36>>2];f=+l[n+8>>2];p=+l[n+24>>2];h=+l[n+40>>2];u=+l[n+12>>2];a=+l[n+28>>2];r=+l[n+44>>2];c=-+l[n+52>>2];s=-+l[n+56>>2];i=-+l[n+60>>2];l[t+112>>2]=A*m+T*_+C*d;l[t+116>>2]=M*x*m+S*x*_+w*x*d;l[t+120>>2]=y*g*m+v*g*_+b*g*d;l[t+124>>2]=0.0;l[t+128>>2]=A*f+T*p+C*h;l[t+132>>2]=M*x*f+S*x*p+w*x*h;l[t+136>>2]=y*g*f+v*g*p+b*g*h;l[t+140>>2]=0.0;l[t+144>>2]=A*u+T*a+C*r;l[t+148>>2]=M*x*u+S*x*a+w*x*r;l[t+152>>2]=y*g*u+v*g*a+b*g*r;l[t+156>>2]=0.0;l[t+160>>2]=m*0.0+_*0.0+d*0.0+(m*c+_*s+d*i);l[t+164>>2]=f*0.0+p*0.0+h*0.0+(f*c+p*s+h*i);l[t+168>>2]=u*0.0+a*0.0+r*0.0+(u*c+a*s+r*i);l[t+172>>2]=0.0;qA(t,(o[t+28>>2]|0)+4|0,(o[t+32>>2]|0)+4|0);return}function gD(t){t=t|0;o[t>>2]=7188;if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function bD(t){t=t|0;var e=0.0,n=0,r=0,s=0.0,a=0.0,c=0.0,u=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0,S=0.0,M=0.0,C=0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0,D=0.0,k=0.0,O=0.0,N=0.0,F=0.0,B=0.0,j=0.0,U=0.0,z=0.0,W=0.0,H=0.0,X=0.0,q=0.0,Y=0.0,Z=0.0;w=h;h=h+176|0;if(!(i[t+738>>0]|0)){h=w;return}l[t+36>>2]=0.0;l[t+744>>2]=0.0;if(!(i[t+736>>0]|0)){n=o[t+28>>2]|0;u=+l[t+600>>2];p=+l[t+604>>2];g=+l[t+608>>2];v=u*+l[n+20>>2]+p*+l[n+24>>2]+g*+l[n+28>>2]+ +l[n+56>>2];r=o[t+32>>2]|0;f=+l[t+664>>2];d=+l[t+668>>2];b=+l[t+672>>2];_=+l[r+52>>2];e=+l[r+56>>2];y=f*+l[r+20>>2]+d*+l[r+24>>2]+b*+l[r+28>>2]+e;x=f*+l[r+36>>2]+d*+l[r+40>>2]+b*+l[r+44>>2]+ +l[r+60>>2];m=u*+l[n+4>>2]+p*+l[n+8>>2]+g*+l[n+12>>2]+ +l[n+52>>2];g=u*+l[n+36>>2]+p*+l[n+40>>2]+g*+l[n+44>>2]+ +l[n+60>>2];b=f*+l[r+4>>2]+d*+l[r+8>>2]+b*+l[r+12>>2]+_;if((b-m)*(b-m)+(y-v)*(y-v)+(x-g)*(x-g)>1.1920928955078125e-07){a=1.0/+V(+((b-m)*(b-m)+(y-v)*(y-v)+(x-g)*(x-g)));l[w+128>>2]=(b-m)*a;l[w+128+4>>2]=(y-v)*a;l[w+128+8>>2]=(x-g)*a;o[w+128+12>>2]=0;f=(x-g)*a;s=(y-v)*a;a=(b-m)*a}else{o[w+128>>2]=1065353216;o[w+128+4>>2]=0;o[w+128+8>>2]=0;l[w+128+12>>2]=0.0;f=0.0;s=0.0;a=1.0}if(+G(+f)>.7071067690849304){M=f*f+s*s;S=1.0/+V(+M);u=-(S*f);f=S*s;d=-(f*a);c=a*u;p=0.0;s=M*S;a=f}else{u=a*a+s*s;c=1.0/+V(+u);p=-(s*c);s=c*a;d=f*p;c=u*c;u=s;s=-(s*f);a=0.0}l[w+128+16>>2]=p;l[w+128+20>>2]=u;l[w+128+24>>2]=a;l[w+128+32>>2]=s;l[w+128+36>>2]=d;l[w+128+40>>2]=c;s=_;n=0;while(1){C=o[t+28>>2]|0;o[w+80>>2]=o[C+4>>2];o[w+80+4>>2]=o[C+20>>2];o[w+80+8>>2]=o[C+36>>2];l[w+80+12>>2]=0.0;o[w+80+16>>2]=o[C+8>>2];o[w+80+20>>2]=o[C+24>>2];o[w+80+24>>2]=o[C+40>>2];l[w+80+28>>2]=0.0;o[w+80+32>>2]=o[C+12>>2];o[w+80+36>>2]=o[C+28>>2];o[w+80+40>>2]=o[C+44>>2];l[w+80+44>>2]=0.0;o[w+32>>2]=o[r+4>>2];o[w+32+4>>2]=o[r+20>>2];o[w+32+8>>2]=o[r+36>>2];l[w+32+12>>2]=0.0;o[w+32+16>>2]=o[r+8>>2];o[w+32+20>>2]=o[r+24>>2];o[w+32+24>>2]=o[r+40>>2];l[w+32+28>>2]=0.0;o[w+32+32>>2]=o[r+12>>2];o[w+32+36>>2]=o[r+28>>2];o[w+32+40>>2]=o[r+44>>2];l[w+32+44>>2]=0.0;S=v-+l[C+56>>2];M=g-+l[C+60>>2];l[w+16>>2]=m-+l[C+52>>2];l[w+16+4>>2]=S;l[w+16+8>>2]=M;l[w+16+12>>2]=0.0;M=x-+l[r+60>>2];l[w>>2]=b-s;l[w+4>>2]=y-e;l[w+8>>2]=M;l[w+12>>2]=0.0;C=o[t+28>>2]|0;r=o[t+32>>2]|0;LA(t+48+(n*84|0)|0,w+80|0,w+32|0,w+16|0,w,w+128+(n<<4)|0,C+420|0,+l[C+368>>2],r+420|0,+l[r+368>>2]);n=n+1|0;if((n|0)==3)break;C=o[t+32>>2]|0;r=C;s=+l[C+52>>2];e=+l[C+56>>2]}}s=+l[t+560>>2];a=+l[t+576>>2];c=+l[t+592>>2];if(+G(+c)>.7071067690849304){_=1.0/+V(+(c*c+a*a));e=s*-(c*_);u=0.0;p=a*_;f=-(c*_);d=(c*c+a*a)*_;_=-(s*(a*_))}else{_=1.0/+V(+(s*s+a*a));e=(s*s+a*a)*_;u=-(a*_);p=0.0;f=s*_;d=-(c*(s*_));_=c*-(a*_)}r=o[t+28>>2]|0;k=+l[r+4>>2];D=+l[r+8>>2];y=+l[r+12>>2];z=u*k+f*D+p*y;P=+l[r+20>>2];I=+l[r+24>>2];S=+l[r+28>>2];H=u*P+f*I+p*S;R=+l[r+36>>2];b=+l[r+40>>2];L=+l[r+44>>2];Y=u*R+f*b+p*L;A=d*k+_*D+e*y;N=d*P+_*I+e*S;F=d*R+_*b+e*L;n=o[t+32>>2]|0;T=+l[n+4>>2];u=+l[n+20>>2];p=+l[n+36>>2];m=+l[n+8>>2];g=+l[n+24>>2];x=+l[n+40>>2];j=+l[n+12>>2];W=+l[n+28>>2];q=+l[n+44>>2];o[t+300>>2]=0;o[t+300+4>>2]=0;o[t+300+8>>2]=0;o[t+300+12>>2]=0;l[t+316>>2]=z*k+H*P+Y*R;l[t+320>>2]=z*D+H*I+Y*b;l[t+324>>2]=z*y+H*S+Y*L;l[t+328>>2]=0.0;l[t+332>>2]=T*-z+u*-H+p*-Y;l[t+336>>2]=m*-z+g*-H+x*-Y;l[t+340>>2]=j*-z+W*-H+q*-Y;l[t+344>>2]=0.0;E=(z*k+H*P+Y*R)*+l[r+420>>2];O=(z*D+H*I+Y*b)*+l[r+424>>2];e=(z*y+H*S+Y*L)*+l[r+428>>2];l[t+348>>2]=E;l[t+352>>2]=O;l[t+356>>2]=e;l[t+360>>2]=0.0;_=(T*-z+u*-H+p*-Y)*+l[n+420>>2];M=(m*-z+g*-H+x*-Y)*+l[n+424>>2];Z=(j*-z+W*-H+q*-Y)*+l[n+428>>2];l[t+364>>2]=_;l[t+368>>2]=M;l[t+372>>2]=Z;l[t+376>>2]=0.0;l[t+380>>2]=(z*k+H*P+Y*R)*E+(z*D+H*I+Y*b)*O+(z*y+H*S+Y*L)*e+((T*-z+u*-H+p*-Y)*_+(m*-z+g*-H+x*-Y)*M+(j*-z+W*-H+q*-Y)*Z);n=o[t+28>>2]|0;Z=+l[n+4>>2];Y=+l[n+20>>2];q=+l[n+36>>2];H=+l[n+8>>2];W=+l[n+24>>2];z=+l[n+40>>2];j=+l[n+12>>2];M=+l[n+28>>2];x=+l[n+44>>2];r=o[t+32>>2]|0;g=+l[r+4>>2];m=+l[r+20>>2];_=+l[r+36>>2];p=+l[r+8>>2];u=+l[r+24>>2];T=+l[r+40>>2];e=+l[r+12>>2];O=+l[r+28>>2];E=+l[r+44>>2];o[t+384>>2]=0;o[t+384+4>>2]=0;o[t+384+8>>2]=0;o[t+384+12>>2]=0;l[t+400>>2]=A*Z+N*Y+F*q;l[t+404>>2]=A*H+N*W+F*z;l[t+408>>2]=A*j+N*M+F*x;l[t+412>>2]=0.0;l[t+416>>2]=g*-A+m*-N+_*-F;l[t+420>>2]=p*-A+u*-N+T*-F;l[t+424>>2]=e*-A+O*-N+E*-F;l[t+428>>2]=0.0;X=(A*Z+N*Y+F*q)*+l[n+420>>2];U=(A*H+N*W+F*z)*+l[n+424>>2];v=(A*j+N*M+F*x)*+l[n+428>>2];l[t+432>>2]=X;l[t+436>>2]=U;l[t+440>>2]=v;l[t+444>>2]=0.0;f=(g*-A+m*-N+_*-F)*+l[r+420>>2];d=(p*-A+u*-N+T*-F)*+l[r+424>>2];B=(e*-A+O*-N+E*-F)*+l[r+428>>2];l[t+448>>2]=f;l[t+452>>2]=d;l[t+456>>2]=B;l[t+460>>2]=0.0;l[t+464>>2]=(A*Z+N*Y+F*q)*X+(A*H+N*W+F*z)*U+(A*j+N*M+F*x)*v+((g*-A+m*-N+_*-F)*f+(p*-A+u*-N+T*-F)*d+(e*-A+O*-N+E*-F)*B);r=o[t+28>>2]|0;B=+l[r+4>>2];F=+l[r+20>>2];E=+l[r+36>>2];N=+l[r+8>>2];O=+l[r+24>>2];A=+l[r+40>>2];e=+l[r+12>>2];d=+l[r+28>>2];T=+l[r+44>>2];n=o[t+32>>2]|0;u=+l[n+4>>2];p=+l[n+20>>2];f=+l[n+36>>2];_=+l[n+8>>2];m=+l[n+24>>2];g=+l[n+40>>2];v=+l[n+12>>2];x=+l[n+28>>2];M=+l[n+44>>2];o[t+468>>2]=0;o[t+468+4>>2]=0;o[t+468+8>>2]=0;o[t+468+12>>2]=0;E=(k*s+D*a+y*c)*B+(P*s+I*a+S*c)*F+(R*s+b*a+L*c)*E;A=(k*s+D*a+y*c)*N+(P*s+I*a+S*c)*O+(R*s+b*a+L*c)*A;T=(k*s+D*a+y*c)*e+(P*s+I*a+S*c)*d+(R*s+b*a+L*c)*T;l[t+484>>2]=E;l[t+488>>2]=A;l[t+492>>2]=T;l[t+496>>2]=0.0;y=-(k*s+D*a+y*c);S=-(P*s+I*a+S*c);s=-(R*s+b*a+L*c);l[t+500>>2]=u*y+p*S+f*s;l[t+504>>2]=_*y+m*S+g*s;l[t+508>>2]=v*y+x*S+M*s;l[t+512>>2]=0.0;L=E*+l[r+420>>2];a=A*+l[r+424>>2];c=T*+l[r+428>>2];l[t+516>>2]=L;l[t+520>>2]=a;l[t+524>>2]=c;l[t+528>>2]=0.0;d=(u*y+p*S+f*s)*+l[n+420>>2];b=(_*y+m*S+g*s)*+l[n+424>>2];e=(v*y+x*S+M*s)*+l[n+428>>2];l[t+532>>2]=d;l[t+536>>2]=b;l[t+540>>2]=e;l[t+544>>2]=0.0;l[t+548>>2]=E*L+A*a+T*c+((u*y+p*S+f*s)*d+(_*y+m*S+g*s)*b+(v*y+x*S+M*s)*e);l[t+724>>2]=0.0;n=o[t+28>>2]|0;r=o[t+32>>2]|0;e=+vD(t,n+4|0,r+4|0);l[t+728>>2]=e;l[t+708>>2]=0.0;l[t+712>>2]=0.0;i[t+716>>0]=0;s=+l[t+692>>2];do{if(s>=0.0){e=+Yc(e-+l[t+688>>2]);if(!(e<-3.1415927410125732)){if(e>3.1415927410125732)e=e+-6.2831854820251465}else e=e+6.2831854820251465;if(e<-s){i[t+716>>0]=1;l[t+708>>2]=-(e+s);l[t+712>>2]=1.0;break}if(e>s){i[t+716>>0]=1;l[t+708>>2]=s-e;l[t+712>>2]=-1.0}}}while(0);H=+l[t+560>>2];X=+l[t+576>>2];Z=+l[t+592>>2];q=H*+l[n+4>>2]+X*+l[n+8>>2]+Z*+l[n+12>>2];Y=H*+l[n+20>>2]+X*+l[n+24>>2]+Z*+l[n+28>>2];Z=H*+l[n+36>>2]+X*+l[n+40>>2]+Z*+l[n+44>>2];l[t+720>>2]=1.0/(q*(q*+l[n+288>>2]+Y*+l[n+304>>2]+Z*+l[n+320>>2])+Y*(q*+l[n+292>>2]+Y*+l[n+308>>2]+Z*+l[n+324>>2])+Z*(q*+l[n+296>>2]+Y*+l[n+312>>2]+Z*+l[n+328>>2])+(q*(q*+l[r+288>>2]+Y*+l[r+304>>2]+Z*+l[r+320>>2])+Y*(q*+l[r+292>>2]+Y*+l[r+308>>2]+Z*+l[r+324>>2])+Z*(q*+l[r+296>>2]+Y*+l[r+312>>2]+Z*+l[r+328>>2])));h=w;return}function vD(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,o=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0;x=+l[t+552>>2];y=+l[t+568>>2];v=+l[t+584>>2];b=+l[e>>2];g=+l[e+4>>2];m=+l[e+8>>2];d=+l[e+16>>2];f=+l[e+20>>2];p=+l[e+24>>2];u=+l[e+32>>2];a=+l[e+36>>2];o=+l[e+40>>2];c=+l[t+556>>2];s=+l[t+572>>2];r=+l[t+588>>2];S=+l[t+620>>2];w=+l[t+636>>2];i=+l[t+652>>2];_=S*+l[n>>2]+w*+l[n+4>>2]+i*+l[n+8>>2];h=S*+l[n+16>>2]+w*+l[n+20>>2]+i*+l[n+24>>2];i=S*+l[n+32>>2]+w*+l[n+36>>2]+i*+l[n+40>>2];i=+K(+((x*b+y*g+v*m)*_+(x*d+y*f+v*p)*h+(x*u+y*a+v*o)*i),+((b*c+g*s+m*r)*_+(d*c+f*s+p*r)*h+(u*c+a*s+o*r)*i));return+(i*+l[t+732>>2])}function yD(t,e){t=t|0;e=e|0;var n=0.0,r=0.0,s=0;if(i[t+738>>0]|0){o[e>>2]=0;o[e+4>>2]=0;return}o[e>>2]=5;o[e+4>>2]=1;n=+vD(t,(o[t+28>>2]|0)+4|0,(o[t+32>>2]|0)+4|0);l[t+728>>2]=n;l[t+708>>2]=0.0;l[t+712>>2]=0.0;i[t+716>>0]=0;r=+l[t+692>>2];do{if(r>=0.0){n=+Yc(n-+l[t+688>>2]);if(!(n<-3.1415927410125732)){if(n>3.1415927410125732)n=n+-6.2831854820251465}else n=n+6.2831854820251465;if(n<-r){i[t+716>>0]=1;l[t+708>>2]=-(n+r);l[t+712>>2]=1.0;break}if(n>r){i[t+716>>0]=1;l[t+708>>2]=r-n;l[t+712>>2]=-1.0}else s=12}else s=12}while(0);if((s|0)==12?(i[t+737>>0]|0)==0:0)return;o[e>>2]=6;o[e+4>>2]=0;return}function xD(t,e){t=t|0;e=e|0;var n=0.0,s=0.0,a=0,c=0,u=0.0,h=0.0,p=0.0,f=0,d=0.0,_=0,m=0,g=0.0,b=0,v=0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0,D=0.0,k=0.0,O=0.0,N=0.0,F=0.0,B=0.0,j=0.0,U=0.0,z=0.0,G=0.0,W=0.0,H=0,X=0,q=0.0,Y=0.0,Z=0.0,J=0.0,K=0.0,$=0.0,Q=0.0,tt=0.0,et=0.0,nt=0.0,it=0.0,rt=0.0,ot=0.0,st=0.0,at=0.0,ct=0.0,lt=0.0,ut=0.0,ht=0.0,pt=0.0,ft=0.0,dt=0.0,_t=0.0,mt=0.0,gt=0,bt=0;gt=o[t+28>>2]|0;bt=o[t+32>>2]|0;b=o[e+24>>2]|0;if(!(i[t+739>>0]|0)){T=+l[t+552>>2];q=+l[gt+4>>2];A=+l[t+568>>2];Y=+l[gt+8>>2];L=+l[t+584>>2];Z=+l[gt+12>>2];E=+l[t+556>>2];R=+l[t+572>>2];I=+l[t+588>>2];J=+l[t+560>>2];K=+l[t+576>>2];$=+l[t+592>>2];Q=+l[gt+20>>2];tt=+l[gt+24>>2];et=+l[gt+28>>2];nt=+l[gt+36>>2];it=+l[gt+40>>2];rt=+l[gt+44>>2];p=+l[t+600>>2];d=+l[t+604>>2];g=+l[t+608>>2];y=+l[gt+52>>2];x=+l[gt+56>>2];w=+l[gt+60>>2];P=+l[bt+4>>2];D=+l[bt+8>>2];k=+l[bt+12>>2];O=+l[t+624>>2];N=+l[t+640>>2];F=+l[t+656>>2];B=+l[bt+20>>2];j=+l[bt+24>>2];U=+l[bt+28>>2];z=+l[bt+36>>2];G=+l[bt+40>>2];W=+l[bt+44>>2];_t=+l[t+664>>2];mt=+l[t+668>>2];C=+l[t+672>>2];S=+l[bt+52>>2]+(P*_t+D*mt+k*C);M=B*_t+j*mt+U*C+ +l[bt+56>>2];C=z*_t+G*mt+W*C+ +l[bt+60>>2];H=r[t+736>>1]|0;if(!((H&255)<<24>>24)){a=o[e+8>>2]|0;l[a>>2]=1.0;l[a+(b+1<<2)>>2]=1.0;l[a+((b<<1)+2<<2)>>2]=1.0;a=o[e+16>>2]|0;l[a>>2]=-1.0;l[a+(b+1<<2)>>2]=-1.0;l[a+((b<<1)+2<<2)>>2]=-1.0;a=b<<1;n=+l[gt+52>>2];s=+l[gt+56>>2];u=+l[gt+60>>2]}else{a=b<<1;n=y;s=x;u=w}h=y+(q*p+Y*d+Z*g)-n;n=Q*p+tt*d+et*g+x-s;mt=nt*p+it*d+rt*g+w-u;f=o[e+12>>2]|0;m=f+(a<<2)|0;o[f>>2]=0;l[f+4>>2]=mt;l[f+8>>2]=-n;l[f+12>>2]=0.0;l[f+(b<<2)>>2]=-mt;o[f+(b<<2)+4>>2]=0;l[f+(b<<2)+8>>2]=h;l[f+(b<<2)+12>>2]=0.0;l[m>>2]=n;l[m+4>>2]=-h;o[m+8>>2]=0;l[m+12>>2]=0.0;h=S-+l[bt+52>>2];n=M-+l[bt+56>>2];mt=C-+l[bt+60>>2];m=o[e+20>>2]|0;X=m+(a<<2)|0;o[m>>2]=0;l[m+4>>2]=-mt;l[m+8>>2]=n;l[m+12>>2]=0.0;l[m+(b<<2)>>2]=mt;o[m+(b<<2)+4>>2]=0;l[m+(b<<2)+8>>2]=-h;l[m+(b<<2)+12>>2]=0.0;l[X>>2]=-n;l[X+4>>2]=h;o[X+8>>2]=0;l[X+12>>2]=0.0;X=o[t+748>>2]|0;h=+l[((X&8|0)==0?e+4|0:t+756|0)>>2];n=h*+l[e>>2];v=o[e+28>>2]|0;if(!((H&255)<<24>>24)){l[v>>2]=n*(S-(y+(q*p+Y*d+Z*g)));l[v+(b<<2)>>2]=n*(M-(Q*p+tt*d+et*g+x));l[v+(b<<1<<2)>>2]=n*(C-(nt*p+it*d+rt*g+w))}b=o[e+24>>2]|0;l[f+(b*3<<2)>>2]=T*q+A*Y+L*Z;l[f+((b*3|0)+1<<2)>>2]=T*Q+A*tt+L*et;l[f+((b*3|0)+2<<2)>>2]=T*nt+A*it+L*rt;l[f+(b<<2<<2)>>2]=q*E+Y*R+Z*I;l[f+((b<<2|1)<<2)>>2]=E*Q+R*tt+I*et;l[f+((b<<2|2)<<2)>>2]=E*nt+R*it+I*rt;l[m+(b*3<<2)>>2]=-(T*q+A*Y+L*Z);l[m+((b*3|0)+1<<2)>>2]=-(T*Q+A*tt+L*et);l[m+((b*3|0)+2<<2)>>2]=-(T*nt+A*it+L*rt);l[m+(b<<2<<2)>>2]=-(q*E+Y*R+Z*I);l[m+((b<<2|1)<<2)>>2]=-(E*Q+R*tt+I*et);l[m+((b<<2|2)<<2)>>2]=-(E*nt+R*it+I*rt);_t=(J*Q+K*tt+$*et)*(O*z+N*G+F*W)-(J*nt+K*it+$*rt)*(O*B+N*j+F*U);mt=(J*nt+K*it+$*rt)*(P*O+D*N+k*F)-(q*J+Y*K+Z*$)*(O*z+N*G+F*W);dt=(q*J+Y*K+Z*$)*(O*B+N*j+F*U)-(J*Q+K*tt+$*et)*(P*O+D*N+k*F);l[v+(b*3<<2)>>2]=((T*nt+A*it+L*rt)*dt+((T*q+A*Y+L*Z)*_t+(T*Q+A*tt+L*et)*mt))*n;l[v+(b<<2<<2)>>2]=((E*nt+R*it+I*rt)*dt+((q*E+Y*R+Z*I)*_t+(E*Q+R*tt+I*et)*mt))*n;if(!(i[t+716>>0]|0)){_=0;g=0.0}else{g=+l[t+708>>2]*+l[t+732>>2];_=g>0.0?1:2}c=(_|0)!=0;if(!((H&65535)>>>8&65535|_))return;l[f+(b*5<<2)>>2]=q*J+Y*K+Z*$;l[f+((b*5|0)+1<<2)>>2]=J*Q+K*tt+$*et;l[f+((b*5|0)+2<<2)>>2]=J*nt+K*it+$*rt;l[m+(b*5<<2)>>2]=-(q*J+Y*K+Z*$);l[m+((b*5|0)+1<<2)>>2]=-(J*Q+K*tt+$*et);l[m+((b*5|0)+2<<2)>>2]=-(J*nt+K*it+$*rt);s=+l[t+688>>2];u=+l[t+692>>2];n=+Yc(s-u);if(!(n<-3.1415927410125732))if(n>3.1415927410125732)d=n+-6.2831854820251465;else d=n;else d=n+6.2831854820251465;n=+Yc(s+u);if(!(n<-3.1415927410125732))if(n>3.1415927410125732)p=n+-6.2831854820251465;else p=n;else p=n+6.2831854820251465;a=d==p;f=v+(b*5<<2)|0;l[f>>2]=0.0;if(X&2)h=+l[t+764>>2];if(!((H&65535)>>>8<<16>>16==0|c&a)){if(X&4|0)o[(o[e+32>>2]|0)+(b*5<<2)>>2]=o[t+752>>2];s=+l[t+728>>2];u=+l[t+680>>2];n=d>p?1.0:0.0;do{if(!(d>=p)){n=u/(h*+l[e>>2]);if(n<0.0)if(s>=d&d-n>s){n=(d-s)/n;break}else{n=s<d?0.0:1.0;break}if(n>0.0)if(s<=p&p-n<s){n=(p-s)/n;break}else{n=s>p?0.0:1.0;break}else n=0.0}}while(0);l[f>>2]=n*u*+l[t+732>>2]+ +l[f>>2];l[(o[e+36>>2]|0)+(b*5<<2)>>2]=-+l[t+684>>2];o[(o[e+40>>2]|0)+(b*5<<2)>>2]=o[t+684>>2]}if(!c)return;l[f>>2]=+l[f>>2]+g*(h*+l[e>>2]);if(X&1|0)o[(o[e+32>>2]|0)+(b*5<<2)>>2]=o[t+760>>2];do{if(!a){c=(o[e+36>>2]|0)+(b*5<<2)|0;a=o[e+40>>2]|0;if((_|0)==1){l[c>>2]=0.0;l[a+(b*5<<2)>>2]=3402823466385288598117041.0e14;break}else{l[c>>2]=-3402823466385288598117041.0e14;l[a+(b*5<<2)>>2]=0.0;break}}else{l[(o[e+36>>2]|0)+(b*5<<2)>>2]=-3402823466385288598117041.0e14;l[(o[e+40>>2]|0)+(b*5<<2)>>2]=3402823466385288598117041.0e14}}while(0);s=+l[t+704>>2];do{if(s>0.0){n=(q*J+Y*K+Z*$)*+l[gt+352>>2]+(J*Q+K*tt+$*et)*+l[gt+356>>2]+(J*nt+K*it+$*rt)*+l[gt+360>>2]-((q*J+Y*K+Z*$)*+l[bt+352>>2]+(J*Q+K*tt+$*et)*+l[bt+356>>2]+(J*nt+K*it+$*rt)*+l[bt+360>>2]);if((_|0)==1){if(!(n<0.0))break;if(!(+l[f>>2]<-(s*n)))break;l[f>>2]=-(s*n);break}else{if(!(n>0.0))break;if(!(+l[f>>2]>-(s*n)))break;l[f>>2]=-(s*n);break}}}while(0);l[f>>2]=+l[t+700>>2]*+l[f>>2];return}J=+l[gt+4>>2];K=+l[gt+8>>2];$=+l[gt+12>>2];y=+l[t+556>>2];S=+l[t+572>>2];C=+l[t+588>>2];Q=+l[t+560>>2];tt=+l[t+576>>2];et=+l[t+592>>2];nt=+l[gt+20>>2];it=+l[gt+24>>2];rt=+l[gt+28>>2];ot=+l[gt+36>>2];st=+l[gt+40>>2];at=+l[gt+44>>2];lt=+l[t+600>>2];ct=+l[t+604>>2];d=+l[t+608>>2];s=+l[gt+52>>2]+(J*lt+K*ct+$*d);w=nt*lt+it*ct+rt*d+ +l[gt+56>>2];d=ot*lt+st*ct+at*d+ +l[gt+60>>2];ct=+l[bt+4>>2];lt=+l[bt+8>>2];ut=+l[bt+12>>2];ht=+l[t+624>>2];pt=+l[t+640>>2];U=+l[t+656>>2];z=+l[bt+20>>2];G=+l[bt+24>>2];W=+l[bt+28>>2];q=+l[bt+36>>2];Y=+l[bt+40>>2];Z=+l[bt+44>>2];g=+l[t+664>>2];M=+l[t+668>>2];u=+l[t+672>>2];n=+l[bt+52>>2];x=+l[bt+56>>2];p=+l[bt+60>>2];O=n+(ct*g+lt*M+ut*u)-s;N=z*g+G*M+W*u+x-w;F=q*g+Y*M+Z*u+p-d;T=+l[(o[t+28>>2]|0)+368>>2];A=+l[(o[t+32>>2]|0)+368>>2];k=T+A>0.0?A/(T+A):.5;ft=(J*Q+K*tt+$*et)*k+(ct*ht+lt*pt+ut*U)*(1.0-k);dt=(Q*nt+tt*it+et*rt)*k+(ht*z+pt*G+U*W)*(1.0-k);_t=(Q*ot+tt*st+et*at)*k+(ht*q+pt*Y+U*Z)*(1.0-k);mt=1.0/+V(+(ft*ft+dt*dt+_t*_t));L=(n+(ct*g+lt*M+ut*u)-n)*(ft*mt)+(z*g+G*M+W*u+x-x)*(dt*mt)+(q*g+Y*M+Z*u+p-p)*(_t*mt);n=n+(ct*g+lt*M+ut*u)-n-ft*mt*L;x=z*g+G*M+W*u+x-x-dt*mt*L;p=q*g+Y*M+Z*u+p-p-_t*mt*L;s=s-+l[gt+52>>2];w=w-+l[gt+56>>2];d=d-+l[gt+60>>2];u=ft*mt*(s*(ft*mt)+w*(dt*mt)+d*(_t*mt));M=dt*mt*(s*(ft*mt)+w*(dt*mt)+d*(_t*mt));g=_t*mt*(s*(ft*mt)+w*(dt*mt)+d*(_t*mt));P=s-u+k*(u-ft*mt*L);D=w-M+k*(M-dt*mt*L);I=d-g+k*(g-_t*mt*L);E=n-(1.0-k)*(u-ft*mt*L);R=x-(1.0-k)*(M-dt*mt*L);L=p-(1.0-k)*(g-_t*mt*L);h=(k*n+(1.0-k)*(s-u))*(k*n+(1.0-k)*(s-u))+(k*x+(1.0-k)*(w-M))*(k*x+(1.0-k)*(w-M))+(k*p+(1.0-k)*(d-g))*(k*p+(1.0-k)*(d-g));if(h>1.1920928955078125e-07){C=1.0/+V(+h);j=(k*n+(1.0-k)*(s-u))*C;B=C*(k*p+(1.0-k)*(d-g));w=C*(k*x+(1.0-k)*(w-M))}else{j=J*y+K*S+$*C;B=y*ot+S*st+C*at;w=y*nt+S*it+C*rt}g=dt*mt*B-_t*mt*w;y=_t*mt*j-B*(ft*mt);x=w*(ft*mt)-dt*mt*j;X=o[e+12>>2]|0;l[X>>2]=D*B-I*w;l[X+4>>2]=I*j-P*B;l[X+8>>2]=P*w-D*j;X=o[e+20>>2]|0;l[X>>2]=-(R*B-L*w);l[X+4>>2]=-(L*j-E*B);l[X+8>>2]=-(E*w-R*j);if(T<1.1920928955078125e-07|A<1.1920928955078125e-07?(i[t+716>>0]|0)!=0:0){n=(1.0-k)*(R*x-L*y);s=(1.0-k)*(L*g-E*x);u=(1.0-k)*(E*y-R*g);h=k*(D*x-I*y);p=k*(I*g-P*x);d=k*(P*y-D*g)}else{n=R*x-L*y;s=L*g-E*x;u=E*y-R*g;h=D*x-I*y;p=I*g-P*x;d=P*y-D*g}X=(o[e+12>>2]|0)+(b<<2)|0;l[X>>2]=h;l[X+4>>2]=p;l[X+8>>2]=d;X=o[e+20>>2]|0;l[X+(b<<2)>>2]=-n;l[X+(b+1<<2)>>2]=-s;l[X+(b+2<<2)>>2]=-u;if(T<1.1920928955078125e-07|A<1.1920928955078125e-07){d=(1.0-k)*(R*(_t*mt)-L*(dt*mt));p=(1.0-k)*(L*(ft*mt)-E*(_t*mt));h=(1.0-k)*(E*(dt*mt)-R*(ft*mt));u=k*(D*(_t*mt)-I*(dt*mt));s=k*(I*(ft*mt)-P*(_t*mt));n=k*(P*(dt*mt)-D*(ft*mt))}else{d=R*(_t*mt)-L*(dt*mt);p=L*(ft*mt)-E*(_t*mt);h=E*(dt*mt)-R*(ft*mt);u=D*(_t*mt)-I*(dt*mt);s=I*(ft*mt)-P*(_t*mt);n=P*(dt*mt)-D*(ft*mt)}a=(o[e+12>>2]|0)+(b<<1<<2)|0;l[a>>2]=u;l[a+4>>2]=s;l[a+8>>2]=n;a=o[e+20>>2]|0;l[a+(b<<1<<2)>>2]=-d;l[a+((b<<1|1)<<2)>>2]=-p;l[a+((b<<1)+2<<2)>>2]=-h;p=+l[((o[t+748>>2]&8|0)==0?e+4|0:t+756|0)>>2];n=p*+l[e>>2];if(!(i[t+736>>0]|0)){_=o[e+8>>2]|0;l[_>>2]=j;l[_+4>>2]=w;l[_+8>>2]=B;_=(o[e+8>>2]|0)+(b<<2)|0;l[_>>2]=g;l[_+4>>2]=y;l[_+8>>2]=x;_=(o[e+8>>2]|0)+(b<<1<<2)|0;l[_>>2]=ft*mt;l[_+4>>2]=dt*mt;l[_+8>>2]=_t*mt;_=o[e+16>>2]|0;s=-j;l[_>>2]=s;l[_+4>>2]=-w;l[_+8>>2]=-B;_=o[e+16>>2]|0;l[_+(b<<2)>>2]=-g;l[_+(b+1<<2)>>2]=-y;l[_+(b+2<<2)>>2]=-x;_=o[e+16>>2]|0;l[_+(b<<1<<2)>>2]=-(ft*mt);l[_+((b<<1|1)<<2)>>2]=-(dt*mt);l[_+((b<<1)+2<<2)>>2]=-(_t*mt);_=o[e+28>>2]|0;l[_>>2]=n*(O*j+N*w+F*B);l[_+(b<<2)>>2]=n*(O*g+N*y+F*x);l[_+(b<<1<<2)>>2]=n*(O*(ft*mt)+N*(dt*mt)+F*(_t*mt));n=s;s=-g;u=-y;h=-x;a=o[e+20>>2]|0}else{n=-j;s=-g;u=-y;h=-x;_=o[e+28>>2]|0}c=o[e+12>>2]|0;l[c+(b*3<<2)>>2]=j;l[c+((b*3|0)+1<<2)>>2]=w;l[c+((b*3|0)+2<<2)>>2]=B;l[c+(b<<2<<2)>>2]=g;l[c+((b<<2|1)<<2)>>2]=y;l[c+((b<<2|2)<<2)>>2]=x;l[a+(b*3<<2)>>2]=n;l[a+((b*3|0)+1<<2)>>2]=-w;l[a+((b*3|0)+2<<2)>>2]=-B;l[a+(b<<2<<2)>>2]=s;l[a+((b<<2|1)<<2)>>2]=u;l[a+((b<<2|2)<<2)>>2]=h;N=p*+l[e>>2];F=(Q*nt+tt*it+et*rt)*(ht*q+pt*Y+U*Z)-(Q*ot+tt*st+et*at)*(ht*z+pt*G+U*W);at=(Q*ot+tt*st+et*at)*(ct*ht+lt*pt+ut*U)-(J*Q+K*tt+$*et)*(ht*q+pt*Y+U*Z);pt=(J*Q+K*tt+$*et)*(ht*z+pt*G+U*W)-(Q*nt+tt*it+et*rt)*(ct*ht+lt*pt+ut*U);l[_+(b*3<<2)>>2]=N*(F*j+at*w+pt*B);l[_+(b<<2<<2)>>2]=N*(F*g+at*y+pt*x);if(!(i[t+716>>0]|0)){v=0;g=0.0}else{g=+l[t+708>>2]*+l[t+732>>2];v=g>0.0?1:2}f=i[t+737>>0]|0;m=(v|0)!=0;if(!(f&255|v))return;b=(o[e+24>>2]|0)*5|0;l[c+(b<<2)>>2]=ft*mt;l[c+(b+1<<2)>>2]=dt*mt;l[c+(b+2<<2)>>2]=_t*mt;l[a+(b<<2)>>2]=-(ft*mt);l[a+(b+1<<2)>>2]=-(dt*mt);l[a+(b+2<<2)>>2]=-(_t*mt);s=+l[t+688>>2];u=+l[t+692>>2];n=+Yc(s-u);if(!(n<-3.1415927410125732))if(n>3.1415927410125732)d=n+-6.2831854820251465;else d=n;else d=n+6.2831854820251465;n=+Yc(s+u);if(!(n<-3.1415927410125732)){if(n>3.1415927410125732)n=n+-6.2831854820251465}else n=n+6.2831854820251465;c=d==n;_=_+(b<<2)|0;l[_>>2]=0.0;a=o[t+748>>2]|0;if(a&2)p=+l[t+764>>2];if(!(f<<24>>24==0|m&c)){if(a&4|0)o[(o[e+32>>2]|0)+(b<<2)>>2]=o[t+752>>2];u=+l[t+728>>2];h=+l[t+680>>2];s=d>n?1.0:0.0;do{if(!(d>=n)){s=h/(p*+l[e>>2]);if(s<0.0)if(u>=d&d-s>u){n=(d-u)/s;break}else{n=u<d?0.0:1.0;break}if(s>0.0)if(u<=n&n-s<u){n=(n-u)/s;break}else{n=u>n?0.0:1.0;break}else n=0.0}else n=s}while(0);l[_>>2]=n*h*+l[t+732>>2]+ +l[_>>2];l[(o[e+36>>2]|0)+(b<<2)>>2]=-+l[t+684>>2];o[(o[e+40>>2]|0)+(b<<2)>>2]=o[t+684>>2]}if(!m)return;l[_>>2]=+l[_>>2]+g*(p*+l[e>>2]);if(a&1|0)o[(o[e+32>>2]|0)+(b<<2)>>2]=o[t+760>>2];do{if(!c){c=(o[e+36>>2]|0)+(b<<2)|0;a=o[e+40>>2]|0;if((v|0)==1){l[c>>2]=0.0;l[a+(b<<2)>>2]=3402823466385288598117041.0e14;break}else{l[c>>2]=-3402823466385288598117041.0e14;l[a+(b<<2)>>2]=0.0;break}}else{l[(o[e+36>>2]|0)+(b<<2)>>2]=-3402823466385288598117041.0e14;l[(o[e+40>>2]|0)+(b<<2)>>2]=3402823466385288598117041.0e14}}while(0);s=+l[t+704>>2];do{if(s>0.0){n=+l[gt+352>>2]*(ft*mt)+ +l[gt+356>>2]*(dt*mt)+ +l[gt+360>>2]*(_t*mt)-(ft*mt*+l[bt+352>>2]+dt*mt*+l[bt+356>>2]+_t*mt*+l[bt+360>>2]);if((v|0)==1){if(!(n<0.0))break;if(!(+l[_>>2]<-(s*n)))break;l[_>>2]=-(s*n);break}else{if(!(n>0.0))break;if(!(+l[_>>2]>-(s*n)))break;l[_>>2]=-(s*n);break}}}while(0);l[_>>2]=+l[t+700>>2]*+l[_>>2];return}function wD(t,e,n,i){t=t|0;e=e|0;n=+n;i=i|0;switch(i|0){case 5:case-1:break;default:return}switch(e|0){case 2:{l[t+764>>2]=n;o[t+748>>2]=o[t+748>>2]|2;return}case 4:{l[t+760>>2]=n;o[t+748>>2]=o[t+748>>2]|1;return}case 3:{l[t+752>>2]=n;o[t+748>>2]=o[t+748>>2]|4;return}case 1:{l[t+756>>2]=n;o[t+748>>2]=o[t+748>>2]|8;return}default:return}}function SD(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0;t:do{switch(n|0){case 5:case-1:switch(e|0){case 2:{i=+l[t+764>>2];break t}case 4:{i=+l[t+760>>2];break t}case 3:{i=+l[t+752>>2];break t}case 1:{i=+l[t+756>>2];break t}default:{i=0.0;break t}}default:i=0.0}}while(0);return+i}function MD(t){t=t|0;return 220}function CD(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,a=0.0,c=0.0,u=0;jb(t,e,n)|0;o[e+52>>2]=o[t+552>>2];o[e+56>>2]=o[t+556>>2];o[e+60>>2]=o[t+560>>2];o[e+64>>2]=o[t+564>>2];o[e+68>>2]=o[t+568>>2];o[e+72>>2]=o[t+572>>2];o[e+76>>2]=o[t+576>>2];o[e+80>>2]=o[t+580>>2];o[e+84>>2]=o[t+584>>2];o[e+88>>2]=o[t+588>>2];o[e+92>>2]=o[t+592>>2];o[e+96>>2]=o[t+596>>2];o[e+100>>2]=o[t+600>>2];o[e+104>>2]=o[t+604>>2];o[e+108>>2]=o[t+608>>2];o[e+112>>2]=o[t+612>>2];o[e+116>>2]=o[t+616>>2];o[e+120>>2]=o[t+620>>2];o[e+124>>2]=o[t+624>>2];o[e+128>>2]=o[t+628>>2];o[e+132>>2]=o[t+632>>2];o[e+136>>2]=o[t+636>>2];o[e+140>>2]=o[t+640>>2];o[e+144>>2]=o[t+644>>2];o[e+148>>2]=o[t+648>>2];o[e+152>>2]=o[t+652>>2];o[e+156>>2]=o[t+656>>2];o[e+160>>2]=o[t+660>>2];o[e+164>>2]=o[t+664>>2];o[e+168>>2]=o[t+668>>2];o[e+172>>2]=o[t+672>>2];o[e+176>>2]=o[t+676>>2];n=r[t+736>>1]|0;o[e+184>>2]=n&255;o[e+188>>2]=(n&65535)>>>8&65535;o[e+196>>2]=o[t+684>>2];o[e+192>>2]=o[t+680>>2];o[e+180>>2]=s[t+740>>0];a=+l[t+688>>2];c=+l[t+692>>2];i=+Yc(a-c);if(!(i<-3.1415927410125732)){if(i>3.1415927410125732)i=i+-6.2831854820251465}else i=i+6.2831854820251465;l[e+200>>2]=i;i=+Yc(a+c);if(i<-3.1415927410125732){c=i+6.2831854820251465;n=e+204|0;l[n>>2]=c;n=t+696|0;n=o[n>>2]|0;u=e+208|0;o[u>>2]=n;u=t+700|0;u=o[u>>2]|0;n=e+212|0;o[n>>2]=u;n=t+704|0;n=o[n>>2]|0;t=e+216|0;o[t>>2]=n;return 15376}if(!(i>3.1415927410125732)){c=i;u=e+204|0;l[u>>2]=c;u=t+696|0;u=o[u>>2]|0;n=e+208|0;o[n>>2]=u;n=t+700|0;n=o[n>>2]|0;u=e+212|0;o[u>>2]=n;t=t+704|0;t=o[t>>2]|0;u=e+216|0;o[u>>2]=t;return 15376}c=i+-6.2831854820251465;u=e+204|0;l[u>>2]=c;u=t+696|0;u=o[u>>2]|0;n=e+208|0;o[n>>2]=u;n=t+700|0;n=o[n>>2]|0;u=e+212|0;o[u>>2]=n;t=t+704|0;t=o[t>>2]|0;u=e+216|0;o[u>>2]=t;return 15376}function TD(t){t=t|0;return o[t+748>>2]|0}function AD(t,e,n,r,s,a,c,u){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;a=a|0;c=c|0;u=u|0;var h=0.0,p=0.0,d=0.0,_=0.0,m=0.0,g=0.0,b=0.0,v=0,y=0,x=0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0;o[t+4>>2]=4;o[t+8>>2]=-1;o[t+12>>2]=-1;l[t+16>>2]=3402823466385288598117041.0e14;i[t+20>>0]=1;i[t+21>>0]=0;o[t+24>>2]=-1;o[t+28>>2]=e;o[t+32>>2]=n;l[t+36>>2]=0.0;l[t+40>>2]=.30000001192092896;o[t+44>>2]=0;o[t>>2]=7428;l[t+688>>2]=0.0;l[t+692>>2]=-1.0;l[t+696>>2]=.8999999761581421;l[t+700>>2]=.30000001192092896;l[t+704>>2]=1.0;l[t+708>>2]=0.0;l[t+712>>2]=0.0;i[t+716>>0]=0;i[t+736>>0]=0;i[t+737>>0]=0;i[t+738>>0]=0;i[t+739>>0]=1;i[t+740>>0]=u&1;o[t+748>>2]=0;o[t+748+4>>2]=0;o[t+748+8>>2]=0;o[t+748+12>>2]=0;o[t+748+16>>2]=0;o[t+600>>2]=o[r>>2];o[t+600+4>>2]=o[r+4>>2];o[t+600+8>>2]=o[r+8>>2];o[t+600+12>>2]=o[r+12>>2];h=+l[e+4>>2];p=+l[e+20>>2];d=+l[e+36>>2];_=+l[a>>2];m=+l[a+4>>2];g=+l[a+8>>2];do{if(!(h*_+p*m+d*g>=.9999998807907104))if(!(h*_+p*m+d*g<=-.9999998807907104)){n=(l[f>>2]=d*m-p*g,o[f>>2]|0);r=(l[f>>2]=h*g-d*_,o[f>>2]|0);u=(l[f>>2]=p*_-h*m,o[f>>2]|0);y=(l[f>>2]=g*(h*g-d*_)-m*(p*_-h*m),o[f>>2]|0);x=(l[f>>2]=_*(p*_-h*m)-g*(d*m-p*g),o[f>>2]|0);v=(l[f>>2]=m*(d*m-p*g)-_*(h*g-d*_),o[f>>2]|0);break}else{y=o[e+12>>2]|0;x=o[e+28>>2]|0;v=o[e+44>>2]|0;n=o[e+8>>2]|0;u=o[e+40>>2]|0;r=o[e+24>>2]|0;break}else{y=(l[f>>2]=-+l[e+12>>2],o[f>>2]|0);x=(l[f>>2]=-+l[e+28>>2],o[f>>2]|0);v=(l[f>>2]=-+l[e+44>>2],o[f>>2]|0);n=o[e+8>>2]|0;u=o[e+40>>2]|0;r=o[e+24>>2]|0}}while(0);o[t+552>>2]=y;o[t+556>>2]=n;o[t+560>>2]=o[a>>2];l[t+564>>2]=0.0;o[t+568>>2]=x;o[t+572>>2]=r;o[t+576>>2]=o[a+4>>2];l[t+580>>2]=0.0;o[t+584>>2]=v;o[t+588>>2]=u;o[t+592>>2]=o[a+8>>2];l[t+596>>2]=0.0;d=+l[a+4>>2];m=+l[c+8>>2];h=+l[a+8>>2];g=+l[c+4>>2];b=+l[c>>2];p=+l[a>>2];do{if(m*h+(d*g+b*p)<-.9999998807907104)if(+G(+h)>.7071067690849304){p=1.0/+V(+(d*d+h*h));n=0;_=0.0;h=-(h*p);r=(l[f>>2]=d*p,o[f>>2]|0);break}else{h=1.0/+V(+(d*d+p*p));n=(l[f>>2]=-(d*h),o[f>>2]|0);_=0.0;h=p*h;r=0;break}else{w=+V(+((m*h+(d*g+b*p)+1.0)*2.0));n=(l[f>>2]=(d*m-h*g)*(1.0/w),o[f>>2]|0);_=w*.5;h=(h*b-m*p)*(1.0/w);r=(l[f>>2]=(g*p-d*b)*(1.0/w),o[f>>2]|0)}}while(0);d=(o[f>>2]=y,+l[f>>2]);T=(o[f>>2]=v,+l[f>>2]);C=(o[f>>2]=r,+l[f>>2]);w=(o[f>>2]=x,+l[f>>2]);A=d*_+T*h-w*C;p=(o[f>>2]=n,+l[f>>2]);S=w*_+d*C-T*p;M=T*_+w*p-d*h;T=-(d*p)-w*h-T*C;h=-h;w=S*-C+(_*A+T*-p)-M*h;d=M*-p+(_*S+T*h)-A*-C;_=A*h+(T*-C+_*M)-S*-p;o[t+664>>2]=o[s>>2];o[t+664+4>>2]=o[s+4>>2];o[t+664+8>>2]=o[s+8>>2];o[t+664+12>>2]=o[s+12>>2];l[t+616>>2]=w;l[t+620>>2]=g*_-m*d;o[t+624>>2]=o[c>>2];l[t+628>>2]=0.0;l[t+632>>2]=d;l[t+636>>2]=m*w-b*_;o[t+640>>2]=o[c+4>>2];l[t+644>>2]=0.0;l[t+648>>2]=_;l[t+652>>2]=b*d-g*w;o[t+656>>2]=o[c+8>>2];l[t+660>>2]=0.0;l[t+732>>2]=i[t+740>>0]|0?-1.0:1.0;return}function LD(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;var s=0.0,a=0.0,c=0.0,u=0.0,h=0.0;Fb(t,4,e);o[t>>2]=7428;o[t+552>>2]=o[n>>2];o[t+552+4>>2]=o[n+4>>2];o[t+552+8>>2]=o[n+8>>2];o[t+552+12>>2]=o[n+12>>2];o[t+568>>2]=o[n+16>>2];o[t+568+4>>2]=o[n+16+4>>2];o[t+568+8>>2]=o[n+16+8>>2];o[t+568+12>>2]=o[n+16+12>>2];o[t+584>>2]=o[n+32>>2];o[t+584+4>>2]=o[n+32+4>>2];o[t+584+8>>2]=o[n+32+8>>2];o[t+584+12>>2]=o[n+32+12>>2];o[t+600>>2]=o[n+48>>2];o[t+600+4>>2]=o[n+48+4>>2];o[t+600+8>>2]=o[n+48+8>>2];o[t+600+12>>2]=o[n+48+12>>2];o[t+616>>2]=o[n>>2];o[t+616+4>>2]=o[n+4>>2];o[t+616+8>>2]=o[n+8>>2];o[t+616+12>>2]=o[n+12>>2];o[t+632>>2]=o[n+16>>2];o[t+632+4>>2]=o[n+16+4>>2];o[t+632+8>>2]=o[n+16+8>>2];o[t+632+12>>2]=o[n+16+12>>2];o[t+648>>2]=o[n+32>>2];o[t+648+4>>2]=o[n+32+4>>2];o[t+648+8>>2]=o[n+32+8>>2];o[t+648+12>>2]=o[n+32+12>>2];o[t+664>>2]=o[n+48>>2];o[t+664+4>>2]=o[n+48+4>>2];o[t+664+8>>2]=o[n+48+8>>2];o[t+664+12>>2]=o[n+48+12>>2];l[t+688>>2]=0.0;l[t+692>>2]=-1.0;l[t+696>>2]=.8999999761581421;l[t+700>>2]=.30000001192092896;l[t+704>>2]=1.0;l[t+708>>2]=0.0;l[t+712>>2]=0.0;i[t+716>>0]=0;i[t+736>>0]=0;i[t+737>>0]=0;i[t+738>>0]=0;i[t+739>>0]=1;i[t+740>>0]=r&1;o[t+748>>2]=0;o[t+748+4>>2]=0;o[t+748+8>>2]=0;o[t+748+12>>2]=0;o[t+748+16>>2]=0;n=o[t+28>>2]|0;h=+l[t+600>>2];u=+l[t+604>>2];c=+l[t+608>>2];a=h*+l[n+20>>2]+u*+l[n+24>>2]+c*+l[n+28>>2]+ +l[n+56>>2];s=h*+l[n+36>>2]+u*+l[n+40>>2]+c*+l[n+44>>2]+ +l[n+60>>2];l[t+664>>2]=h*+l[n+4>>2]+u*+l[n+8>>2]+c*+l[n+12>>2]+ +l[n+52>>2];l[t+668>>2]=a;l[t+672>>2]=s;l[t+676>>2]=0.0;l[t+732>>2]=r?-1.0:1.0;return}function ED(t,e,n){t=t|0;e=e|0;n=n|0;return}function RD(t,e,n){t=t|0;e=e|0;n=n|0;return}function ID(t){t=t|0;o[t>>2]=7188;if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function PD(t){t=t|0;var e=0,n=0,i=0,r=0,s=0,a=0.0,c=0.0,u=0.0,p=0.0,d=0.0,_=0.0,m=0.0,g=0,b=0,v=0,y=0,x=0,w=0,S=0,M=0,C=0,T=0,A=0,L=0,E=0,R=0,I=0,P=0,D=0,k=0;n=h;h=h+144|0;l[t+36>>2]=0.0;o[n+128>>2]=0;o[n+128+4>>2]=0;o[n+128+8>>2]=0;o[n+128+12>>2]=0;e=0;do{i=n+128+(e<<2)|0;l[i>>2]=1.0;T=o[t+28>>2]|0;k=o[T+4>>2]|0;o[n+80>>2]=k;I=o[T+20>>2]|0;o[n+80+4>>2]=I;L=o[T+36>>2]|0;o[n+80+8>>2]=L;l[n+80+12>>2]=0.0;D=o[T+8>>2]|0;o[n+80+16>>2]=D;R=o[T+24>>2]|0;o[n+80+20>>2]=R;A=o[T+40>>2]|0;o[n+80+24>>2]=A;l[n+80+28>>2]=0.0;P=o[T+12>>2]|0;o[n+80+32>>2]=P;E=o[T+28>>2]|0;o[n+80+36>>2]=E;C=o[T+44>>2]|0;o[n+80+40>>2]=C;l[n+80+44>>2]=0.0;r=o[t+32>>2]|0;M=o[r+4>>2]|0;o[n+32>>2]=M;x=o[r+20>>2]|0;o[n+32+4>>2]=x;b=o[r+36>>2]|0;o[n+32+8>>2]=b;l[n+32+12>>2]=0.0;S=o[r+8>>2]|0;o[n+32+16>>2]=S;y=o[r+24>>2]|0;o[n+32+20>>2]=y;g=o[r+40>>2]|0;o[n+32+24>>2]=g;l[n+32+28>>2]=0.0;w=o[r+12>>2]|0;o[n+32+32>>2]=w;v=o[r+28>>2]|0;o[n+32+36>>2]=v;s=o[r+44>>2]|0;o[n+32+40>>2]=s;l[n+32+44>>2]=0.0;_=+l[t+300>>2];u=_*(o[f>>2]=k,+l[f>>2]);a=+l[t+304>>2];u=u+a*(o[f>>2]=D,+l[f>>2]);c=+l[t+308>>2];u=u+c*(o[f>>2]=P,+l[f>>2]);m=_*(o[f>>2]=I,+l[f>>2]);m=m+a*(o[f>>2]=R,+l[f>>2]);m=m+c*(o[f>>2]=E,+l[f>>2]);_=_*(o[f>>2]=L,+l[f>>2]);a=_+a*(o[f>>2]=A,+l[f>>2]);_=+l[T+52>>2];d=+l[T+56>>2];p=+l[T+60>>2];p=a+c*(o[f>>2]=C,+l[f>>2])+p-p;l[n+16>>2]=u+_-_;l[n+16+4>>2]=m+d-d;l[n+16+8>>2]=p;l[n+16+12>>2]=0.0;p=+l[t+316>>2];d=p*(o[f>>2]=M,+l[f>>2]);m=+l[t+320>>2];d=d+m*(o[f>>2]=S,+l[f>>2]);_=+l[t+324>>2];d=d+_*(o[f>>2]=w,+l[f>>2]);u=p*(o[f>>2]=x,+l[f>>2]);u=u+m*(o[f>>2]=y,+l[f>>2]);u=u+_*(o[f>>2]=v,+l[f>>2]);p=p*(o[f>>2]=b,+l[f>>2]);m=p+m*(o[f>>2]=g,+l[f>>2]);p=+l[r+52>>2];c=+l[r+56>>2];a=+l[r+60>>2];a=m+_*(o[f>>2]=s,+l[f>>2])+a-a;l[n>>2]=d+p-p;l[n+4>>2]=u+c-c;l[n+8>>2]=a;l[n+12>>2]=0.0;s=o[t+28>>2]|0;r=o[t+32>>2]|0;LA(t+48+(e*84|0)|0,n+80|0,n+32|0,n+16|0,n,n+128|0,s+420|0,+l[s+368>>2],r+420|0,+l[r+368>>2]);l[i>>2]=0.0;e=e+1|0}while((e|0)!=3);h=n;return}function DD(t,e){t=t|0;e=e|0;t=(i[t+344>>0]|0)==0?3:0;o[e>>2]=t;o[e+4>>2]=t;return}function kD(t,e){t=t|0;e=e|0;var n=0.0,i=0.0,r=0,s=0,a=0,c=0,u=0,h=0.0,p=0.0,f=0.0,d=0.0,_=0.0,m=0.0;c=o[t+28>>2]|0;u=o[t+32>>2]|0;r=o[e+8>>2]|0;l[r>>2]=1.0;s=o[e+24>>2]|0;l[r+(s+1<<2)>>2]=1.0;l[r+((s<<1)+2<<2)>>2]=1.0;h=+l[t+300>>2];m=+l[t+304>>2];i=+l[t+308>>2];d=+l[c+4>>2]*h+ +l[c+8>>2]*m+ +l[c+12>>2]*i;p=h*+l[c+20>>2]+m*+l[c+24>>2]+i*+l[c+28>>2];i=h*+l[c+36>>2]+m*+l[c+40>>2]+i*+l[c+44>>2];r=o[e+12>>2]|0;o[r>>2]=0;l[r+4>>2]=i;l[r+8>>2]=-p;l[r+12>>2]=0.0;l[r+(s<<2)>>2]=-i;o[r+(s<<2)+4>>2]=0;l[r+(s<<2)+8>>2]=d;l[r+(s<<2)+12>>2]=0.0;l[r+(s<<1<<2)>>2]=p;l[r+(s<<1<<2)+4>>2]=-d;o[r+(s<<1<<2)+8>>2]=0;l[r+(s<<1<<2)+12>>2]=0.0;r=o[e+16>>2]|0;l[r>>2]=-1.0;l[r+(s+1<<2)>>2]=-1.0;l[r+((s<<1)+2<<2)>>2]=-1.0;m=+l[t+316>>2];h=+l[t+320>>2];n=+l[t+324>>2];_=+l[u+4>>2]*m+ +l[u+8>>2]*h+ +l[u+12>>2]*n;f=m*+l[u+20>>2]+h*+l[u+24>>2]+n*+l[u+28>>2];n=m*+l[u+36>>2]+h*+l[u+40>>2]+n*+l[u+44>>2];s=o[e+20>>2]|0;r=o[e+24>>2]|0;o[s>>2]=0;l[s+4>>2]=-n;l[s+8>>2]=f;l[s+12>>2]=0.0;l[s+(r<<2)>>2]=n;o[s+(r<<2)+4>>2]=0;l[s+(r<<2)+8>>2]=-_;l[s+(r<<2)+12>>2]=0.0;l[s+(r<<1<<2)>>2]=-f;l[s+(r<<1<<2)+4>>2]=_;o[s+(r<<1<<2)+8>>2]=0;l[s+(r<<1<<2)+12>>2]=0.0;r=o[t+332>>2]|0;h=+l[((r&1|0)==0?e+4|0:t+336|0)>>2]*+l[e>>2];s=o[e+24>>2]|0;a=o[e+28>>2]|0;l[a>>2]=h*(_+ +l[u+52>>2]-d-+l[c+52>>2]);l[a+(s<<2)>>2]=h*(f+ +l[u+56>>2]-p-+l[c+56>>2]);l[a+(s<<1<<2)>>2]=h*(n+ +l[u+60>>2]-i-+l[c+60>>2]);if(r&2|0){u=o[e+24>>2]|0;c=o[e+32>>2]|0;o[c>>2]=o[t+340>>2];o[c+(u<<2)>>2]=o[t+340>>2];o[c+(u<<1<<2)>>2]=o[t+340>>2]}i=+l[t+356>>2];if(i>0.0){l[o[e+36>>2]>>2]=-i;l[o[e+40>>2]>>2]=i;n=+l[t+356>>2]}else n=i;if(n>0.0){u=o[e+24>>2]|0;l[(o[e+36>>2]|0)+(u<<2)>>2]=-i;l[(o[e+40>>2]|0)+(u<<2)>>2]=i;n=+l[t+356>>2]}if(!(n>0.0)){c=t+352|0;c=o[c>>2]|0;u=e+52|0;o[u>>2]=c;return}c=o[e+24>>2]<<1;l[(o[e+36>>2]|0)+(c<<2)>>2]=-i;l[(o[e+40>>2]|0)+(c<<2)>>2]=i;c=t+352|0;c=o[c>>2]|0;u=e+52|0;o[u>>2]=c;return}function OD(t,e,n,i){t=t|0;e=e|0;n=+n;i=i|0;if((i|0)!=-1)return;switch(e|0){case 2:case 1:{l[t+336>>2]=n;o[t+332>>2]=o[t+332>>2]|1;return}case 4:case 3:{l[t+340>>2]=n;o[t+332>>2]=o[t+332>>2]|2;return}default:return}}function ND(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0;t:do{if((n|0)==-1)switch(e|0){case 2:case 1:{i=+l[t+336>>2];break t}case 4:case 3:{i=+l[t+340>>2];break t}default:{i=3402823466385288598117041.0e14;break t}}else i=3402823466385288598117041.0e14}while(0);return+i}function FD(t){t=t|0;return 84}function BD(t,e,n){t=t|0;e=e|0;n=n|0;jb(t,e,n)|0;o[e+52>>2]=o[t+300>>2];o[e+56>>2]=o[t+304>>2];o[e+60>>2]=o[t+308>>2];o[e+64>>2]=o[t+312>>2];o[e+68>>2]=o[t+316>>2];o[e+72>>2]=o[t+320>>2];o[e+76>>2]=o[t+324>>2];o[e+80>>2]=o[t+328>>2];return 15429}function jD(t){t=t|0;return o[t+332>>2]|0}function UD(t){t=t|0;var e=0;o[t>>2]=7540;e=o[t+176>>2]|0;if(e|0){if(i[t+180>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+176>>2]=0}i[t+180>>0]=1;o[t+176>>2]=0;o[t+168>>2]=0;o[t+172>>2]=0;e=o[t+156>>2]|0;if(e|0){if(i[t+160>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+156>>2]=0}i[t+160>>0]=1;o[t+156>>2]=0;o[t+148>>2]=0;o[t+152>>2]=0;e=o[t+136>>2]|0;if(e|0){if(i[t+140>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+136>>2]=0}i[t+140>>0]=1;o[t+136>>2]=0;o[t+128>>2]=0;o[t+132>>2]=0;e=o[t+116>>2]|0;if(e|0){if(i[t+120>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+116>>2]=0}i[t+120>>0]=1;o[t+116>>2]=0;o[t+108>>2]=0;o[t+112>>2]=0;e=o[t+96>>2]|0;if(e|0){if(i[t+100>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+96>>2]=0}i[t+100>>0]=1;o[t+96>>2]=0;o[t+88>>2]=0;o[t+92>>2]=0;e=o[t+76>>2]|0;if(e|0){if(i[t+80>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+76>>2]=0}i[t+80>>0]=1;o[t+76>>2]=0;o[t+68>>2]=0;o[t+72>>2]=0;e=o[t+56>>2]|0;if(e|0){if(i[t+60>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+56>>2]=0}i[t+60>>0]=1;o[t+56>>2]=0;o[t+48>>2]=0;o[t+52>>2]=0;e=o[t+36>>2]|0;if(e|0){if(i[t+40>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+36>>2]=0}i[t+40>>0]=1;o[t+36>>2]=0;o[t+28>>2]=0;o[t+32>>2]=0;e=o[t+16>>2]|0;if(!e){i[t+20>>0]=1;o[t+16>>2]=0;o[t+8>>2]=0;t=t+12|0;o[t>>2]=0;return}if(i[t+20>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+16>>2]=0;i[t+20>>0]=1;o[t+16>>2]=0;o[t+8>>2]=0;t=t+12|0;o[t>>2]=0;return}function zD(t){t=t|0;UD(t);if(!t)return;o[5638]=(o[5638]|0)+1;Kc(o[t+-4>>2]|0);return}function GD(t,e,n,i,r,s,a,c,u,p){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;s=s|0;a=a|0;c=c|0;u=u|0;p=p|0;var f=0;f=h;h=h+16|0;Wh(15521);+Dk[o[(o[t>>2]|0)+44>>2]&3](t,e,n,i,r,s,a,c,u);+Dk[o[(o[t>>2]|0)+48>>2]&3](t,e,n,i,r,s,a,c,u);+Fk[o[(o[t>>2]|0)+36>>2]&1](t,e,n,c);p=o[2006]|0;t=(o[p+16>>2]|0)+-1|0;o[p+16>>2]=t;if(t|0){h=f;return 0.0}do{if(o[p+4>>2]|0){fe(f|0,0)|0;t=o[5649]|0;l[p+8>>2]=+l[p+8>>2]+ +(((o[f+4>>2]|0)-(o[t+4>>2]|0)+(((o[f>>2]|0)-(o[t>>2]|0)|0)*1e6|0)-(o[p+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[p+16>>2]|0)){p=o[2006]|0;break}else{h=f;return 0.0}}}while(0);o[2006]=o[p+20>>2];h=f;return 0.0}function VD(t){t=t|0;o[t+200>>2]=0;return}function WD(t){t=t|0;return 1}function HD(t,e,n,i){t=t|0;e=e|0;n=n|0;i=i|0;var r=0;if((n|0)>0)r=0;else return;do{XD(t,o[e+(r<<2)>>2]|0,i);r=r+1|0}while((r|0)!=(n|0));return}function XD(t,e,n){t=t|0;e=e|0;n=n|0;var r=0,s=0,a=0,c=0.0,u=0.0,p=0,d=0.0,_=0,m=0,g=0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0,E=0.0,R=0.0,I=0,P=0,D=0.0,k=0.0,O=0.0,N=0.0,F=0.0,B=0.0,j=0,U=0,z=0,W=0,H=0,X=0,q=0,Y=0,Z=0,J=0,K=0,$=0,Q=0,tt=0,et=0,nt=0.0,it=0.0,rt=0.0;et=h;h=h+80|0;q=o[e+740>>2]|0;J=o[e+744>>2]|0;K=qD(t,q,+l[n+12>>2])|0;$=qD(t,J,+l[n+12>>2])|0;Y=o[t+16>>2]|0;N=+l[Y+(K*244|0)+128>>2];F=+l[Y+(K*244|0)+132>>2];B=+l[Y+(K*244|0)+136>>2];if(N*N+F*F+B*B<1.4210854715202004e-14?(N=+l[Y+($*244|0)+128>>2],F=+l[Y+($*244|0)+132>>2],B=+l[Y+($*244|0)+136>>2],N*N+F*F+B*B<1.4210854715202004e-14):0){h=et;return}if((o[e+748>>2]|0)<=0){h=et;return}Q=0;r=1;do{H=e+4+(Q*184|0)|0;L=e+4+(Q*184|0)+80|0;if(+l[L>>2]<=+l[e+756>>2]){X=o[t+28>>2]|0;if((X|0)==(o[t+32>>2]|0)?(Z=X|0?X<<1:1,(X|0)<(Z|0)):0){if(!Z){s=0;a=X}else{o[5637]=(o[5637]|0)+1;s=Jc((Z*152|3)+16|0)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}a=o[t+28>>2]|0}if((a|0)>0){p=0;do{Ol(s+(p*152|0)|0,(o[t+36>>2]|0)+(p*152|0)|0,152)|0;p=p+1|0}while((p|0)!=(a|0))}a=o[t+36>>2]|0;if(a|0){if(i[t+40>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[a+-4>>2]|0)}o[t+36>>2]=0}i[t+40>>0]=1;o[t+36>>2]=s;o[t+32>>2]=Z;s=o[t+28>>2]|0}else s=X;o[t+28>>2]=s+1;W=o[t+36>>2]|0;I=(o[q+236>>2]&2|0)==0?0:q;P=(o[J+236>>2]&2|0)==0?0:J;o[W+(X*152|0)+144>>2]=K;o[W+(X*152|0)+148>>2]=$;o[W+(X*152|0)+132>>2]=H;M=+l[e+4+(Q*184|0)+48>>2]-+l[q+52>>2];C=+l[e+4+(Q*184|0)+52>>2]-+l[q+56>>2];S=+l[e+4+(Q*184|0)+56>>2]-+l[q+60>>2];l[et+64>>2]=M;l[et+64+4>>2]=C;l[et+64+8>>2]=S;l[et+64+12>>2]=0.0;A=+l[e+4+(Q*184|0)+32>>2]-+l[J+52>>2];E=+l[e+4+(Q*184|0)+36>>2]-+l[J+56>>2];T=+l[e+4+(Q*184|0)+40>>2]-+l[J+60>>2];l[et+48>>2]=A;l[et+48+4>>2]=E;l[et+48+8>>2]=T;l[et+48+12>>2]=0.0;if(!(o[Y+(K*244|0)+240>>2]|0)){s=0;p=0;m=0}else{F=+l[Y+(K*244|0)+192>>2]+ +l[Y+(K*244|0)+224>>2];B=+l[Y+(K*244|0)+196>>2]+ +l[Y+(K*244|0)+228>>2];N=+l[Y+(K*244|0)+200>>2]+ +l[Y+(K*244|0)+232>>2];s=(l[f>>2]=+l[Y+(K*244|0)+176>>2]+ +l[Y+(K*244|0)+208>>2]+(B*S-N*C),o[f>>2]|0);p=(l[f>>2]=+l[Y+(K*244|0)+180>>2]+ +l[Y+(K*244|0)+212>>2]+(N*M-F*S),o[f>>2]|0);m=(l[f>>2]=+l[Y+(K*244|0)+184>>2]+ +l[Y+(K*244|0)+216>>2]+(F*C-B*M),o[f>>2]|0)}if(!(o[Y+($*244|0)+240>>2]|0)){a=0;_=0;g=0}else{F=+l[Y+($*244|0)+192>>2]+ +l[Y+($*244|0)+224>>2];B=+l[Y+($*244|0)+196>>2]+ +l[Y+($*244|0)+228>>2];N=+l[Y+($*244|0)+200>>2]+ +l[Y+($*244|0)+232>>2];a=(l[f>>2]=+l[Y+($*244|0)+176>>2]+ +l[Y+($*244|0)+208>>2]+(B*T-N*E),o[f>>2]|0);_=(l[f>>2]=+l[Y+($*244|0)+180>>2]+ +l[Y+($*244|0)+212>>2]+(N*A-F*T),o[f>>2]|0);g=(l[f>>2]=+l[Y+($*244|0)+184>>2]+ +l[Y+($*244|0)+216>>2]+(F*E-B*A),o[f>>2]|0)}B=(o[f>>2]=s,+l[f>>2]);B=B-(o[f>>2]=a,+l[f>>2]);F=(o[f>>2]=p,+l[f>>2]);F=F-(o[f>>2]=_,+l[f>>2]);D=(o[f>>2]=m,+l[f>>2]);D=D-(o[f>>2]=g,+l[f>>2]);j=e+4+(Q*184|0)+64|0;k=+l[j>>2];U=e+4+(Q*184|0)+68|0;O=+l[U>>2];z=e+4+(Q*184|0)+72|0;N=+l[z>>2];g=o[t+16>>2]|0;_=o[g+(K*244|0)+240>>2]|0;m=o[g+($*244|0)+240>>2]|0;if(_|0){p=(l[f>>2]=((C*N-S*O)*+l[_+288>>2]+(S*k-N*M)*+l[_+292>>2]+(O*M-C*k)*+l[_+296>>2])*+l[_+568>>2],o[f>>2]|0);s=(l[f>>2]=((C*N-S*O)*+l[_+304>>2]+(S*k-N*M)*+l[_+308>>2]+(O*M-C*k)*+l[_+312>>2])*+l[_+572>>2],o[f>>2]|0);a=(l[f>>2]=((C*N-S*O)*+l[_+320>>2]+(S*k-N*M)*+l[_+324>>2]+(O*M-C*k)*+l[_+328>>2])*+l[_+576>>2],o[f>>2]|0)}else{p=0;s=0;a=0}o[W+(X*152|0)+64>>2]=p;o[W+(X*152|0)+68>>2]=s;o[W+(X*152|0)+72>>2]=a;l[W+(X*152|0)+76>>2]=0.0;y=+l[z>>2];x=+l[U>>2];w=+l[j>>2];v=(o[f>>2]=s,+l[f>>2]);b=(o[f>>2]=a,+l[f>>2]);u=(o[f>>2]=p,+l[f>>2]);if(m|0){s=(l[f>>2]=(+l[m+288>>2]*-(E*y-T*x)+ +l[m+292>>2]*-(T*w-y*A)+ +l[m+296>>2]*-(x*A-E*w))*+l[m+568>>2],o[f>>2]|0);a=(l[f>>2]=(+l[m+304>>2]*-(E*y-T*x)+ +l[m+308>>2]*-(T*w-y*A)+ +l[m+312>>2]*-(x*A-E*w))*+l[m+572>>2],o[f>>2]|0);p=(l[f>>2]=(+l[m+320>>2]*-(E*y-T*x)+ +l[m+324>>2]*-(T*w-y*A)+ +l[m+328>>2]*-(x*A-E*w))*+l[m+576>>2],o[f>>2]|0)}else{s=0;a=0;p=0}o[W+(X*152|0)+80>>2]=s;o[W+(X*152|0)+84>>2]=a;o[W+(X*152|0)+88>>2]=p;l[W+(X*152|0)+92>>2]=0.0;d=(o[f>>2]=s,+l[f>>2]);c=(o[f>>2]=a,+l[f>>2]);if(_|0)u=+l[_+368>>2]+((v*S-b*C)*+l[j>>2]+(b*M-S*u)*+l[U>>2]+(C*u-v*M)*+l[z>>2]);else u=0.0;if(m|0){R=-(o[f>>2]=p,+l[f>>2]);c=+l[m+368>>2]+((T*-c-E*R)*+l[j>>2]+(A*R-T*-d)*+l[U>>2]+(E*-d-A*-c)*+l[z>>2])}else c=0.0;l[W+(X*152|0)+108>>2]=1.0/(u+c);if(_|0){o[W+(X*152|0)+16>>2]=o[j>>2];o[W+(X*152|0)+16+4>>2]=o[j+4>>2];o[W+(X*152|0)+16+8>>2]=o[j+8>>2];o[W+(X*152|0)+16+12>>2]=o[j+12>>2];l[W+(X*152|0)>>2]=C*N-S*O;l[W+(X*152|0)+4>>2]=S*k-N*M;l[W+(X*152|0)+8>>2]=O*M-C*k;l[W+(X*152|0)+12>>2]=0.0}else{o[W+(X*152|0)>>2]=0;o[W+(X*152|0)+4>>2]=0;o[W+(X*152|0)+8>>2]=0;o[W+(X*152|0)+12>>2]=0;o[W+(X*152|0)+16>>2]=0;o[W+(X*152|0)+20>>2]=0;o[W+(X*152|0)+24>>2]=0;o[W+(X*152|0)+28>>2]=0}if(m|0){v=-+l[U>>2];R=-+l[z>>2];l[W+(X*152|0)+48>>2]=-+l[j>>2];l[W+(X*152|0)+52>>2]=v;l[W+(X*152|0)+56>>2]=R;l[W+(X*152|0)+60>>2]=0.0;l[W+(X*152|0)+32>>2]=-(E*y-T*x);l[W+(X*152|0)+36>>2]=-(T*w-y*A);l[W+(X*152|0)+40>>2]=-(x*A-E*w);l[W+(X*152|0)+44>>2]=0.0}else{o[W+(X*152|0)+32>>2]=0;o[W+(X*152|0)+32+4>>2]=0;o[W+(X*152|0)+32+8>>2]=0;o[W+(X*152|0)+32+12>>2]=0;o[W+(X*152|0)+32+16>>2]=0;o[W+(X*152|0)+32+20>>2]=0;o[W+(X*152|0)+32+24>>2]=0;o[W+(X*152|0)+32+28>>2]=0}R=+l[L>>2]+ +l[n+56>>2];if(_|0){b=+l[_+356>>2];v=+l[_+360>>2];w=+l[_+352>>2];y=b*S-v*C+ +l[_+336>>2];v=+l[_+340>>2]+(v*M-S*w);b=C*w-b*M+ +l[_+344>>2]}else{y=0.0;v=0.0;b=0.0}if(m|0){c=+l[m+356>>2];u=+l[m+360>>2];C=+l[m+352>>2];d=c*T-u*E+ +l[m+336>>2];u=+l[m+340>>2]+(u*A-T*C);c=E*C-c*A+ +l[m+344>>2]}else{d=0.0;u=0.0;c=0.0}A=(y-d)*+l[j>>2]+(v-u)*+l[U>>2]+(b-c)*+l[z>>2];o[W+(X*152|0)+104>>2]=o[e+4+(Q*184|0)+84>>2];A=-(A*+l[e+4+(Q*184|0)+92>>2]);A=A<=0.0?0.0:A;do{if(o[n+64>>2]&4){c=+l[e+4+(Q*184|0)+120>>2]*+l[n+60>>2];l[W+(X*152|0)+100>>2]=c;do{if(_|0){if(!(o[g+(K*244|0)+240>>2]|0))break;E=c*(+l[W+(X*152|0)+20>>2]*+l[g+(K*244|0)+132>>2]*+l[_+376>>2])*+l[g+(K*244|0)+116>>2];T=c*(+l[W+(X*152|0)+24>>2]*+l[g+(K*244|0)+136>>2]*+l[_+380>>2])*+l[g+(K*244|0)+120>>2];l[g+(K*244|0)+64>>2]=+l[g+(K*244|0)+112>>2]*(c*(+l[W+(X*152|0)+16>>2]*+l[g+(K*244|0)+128>>2]*+l[_+372>>2]))+ +l[g+(K*244|0)+64>>2];l[g+(K*244|0)+68>>2]=E+ +l[g+(K*244|0)+68>>2];l[g+(K*244|0)+72>>2]=T+ +l[g+(K*244|0)+72>>2];T=c*+l[g+(K*244|0)+100>>2]*+l[W+(X*152|0)+68>>2];E=c*+l[g+(K*244|0)+104>>2]*+l[W+(X*152|0)+72>>2];l[g+(K*244|0)+80>>2]=c*+l[g+(K*244|0)+96>>2]*+l[W+(X*152|0)+64>>2]+ +l[g+(K*244|0)+80>>2];l[g+(K*244|0)+84>>2]=T+ +l[g+(K*244|0)+84>>2];l[g+(K*244|0)+88>>2]=E+ +l[g+(K*244|0)+88>>2]}}while(0);if(m|0){c=+l[W+(X*152|0)+100>>2];if(!(o[g+($*244|0)+240>>2]|0))break;E=+l[W+(X*152|0)+88>>2];T=+l[W+(X*152|0)+84>>2];C=+l[W+(X*152|0)+80>>2];S=c*(+l[W+(X*152|0)+52>>2]*+l[g+($*244|0)+132>>2]*+l[m+376>>2])*+l[g+($*244|0)+116>>2];M=c*(+l[W+(X*152|0)+56>>2]*+l[g+($*244|0)+136>>2]*+l[m+380>>2])*+l[g+($*244|0)+120>>2];l[g+($*244|0)+64>>2]=+l[g+($*244|0)+112>>2]*(c*(+l[W+(X*152|0)+48>>2]*+l[g+($*244|0)+128>>2]*+l[m+372>>2]))+ +l[g+($*244|0)+64>>2];l[g+($*244|0)+68>>2]=S+ +l[g+($*244|0)+68>>2];l[g+($*244|0)+72>>2]=M+ +l[g+($*244|0)+72>>2];T=T*(+l[g+($*244|0)+100>>2]*-c);E=E*(+l[g+($*244|0)+104>>2]*-c);l[g+($*244|0)+80>>2]=+l[g+($*244|0)+80>>2]-C*(+l[g+($*244|0)+96>>2]*-c);l[g+($*244|0)+84>>2]=+l[g+($*244|0)+84>>2]-T;l[g+($*244|0)+88>>2]=+l[g+($*244|0)+88>>2]-E}}else l[W+(X*152|0)+100>>2]=0.0}while(0);l[W+(X*152|0)+96>>2]=0.0;if(!(o[g+(K*244|0)+240>>2]|0)){c=0.0;u=0.0;d=0.0;x=0.0;w=0.0;S=0.0}else{c=+l[g+(K*244|0)+208>>2];u=+l[g+(K*244|0)+212>>2];d=+l[g+(K*244|0)+216>>2];x=+l[g+(K*244|0)+224>>2];w=+l[g+(K*244|0)+228>>2];S=+l[g+(K*244|0)+232>>2]}if(!(o[g+($*244|0)+240>>2]|0)){b=0.0;v=0.0;y=0.0;M=0.0;C=0.0;T=0.0}else{b=+l[g+($*244|0)+208>>2];v=+l[g+($*244|0)+212>>2];y=+l[g+($*244|0)+216>>2];M=+l[g+($*244|0)+224>>2];C=+l[g+($*244|0)+228>>2];T=+l[g+($*244|0)+232>>2]}c=A-((c+ +l[g+(K*244|0)+176>>2])*+l[W+(X*152|0)+16>>2]+(u+ +l[g+(K*244|0)+180>>2])*+l[W+(X*152|0)+20>>2]+(d+ +l[g+(K*244|0)+184>>2])*+l[W+(X*152|0)+24>>2]+((x+ +l[g+(K*244|0)+192>>2])*+l[W+(X*152|0)>>2]+(w+ +l[g+(K*244|0)+196>>2])*+l[W+(X*152|0)+4>>2]+(S+ +l[g+(K*244|0)+200>>2])*+l[W+(X*152|0)+8>>2])+((b+ +l[g+($*244|0)+176>>2])*+l[W+(X*152|0)+48>>2]+(v+ +l[g+($*244|0)+180>>2])*+l[W+(X*152|0)+52>>2]+(y+ +l[g+($*244|0)+184>>2])*+l[W+(X*152|0)+56>>2]+((M+ +l[g+($*244|0)+192>>2])*+l[W+(X*152|0)+32>>2]+(C+ +l[g+($*244|0)+196>>2])*+l[W+(X*152|0)+36>>2]+(T+ +l[g+($*244|0)+200>>2])*+l[W+(X*152|0)+40>>2])));s=(o[n+44>>2]|0)==0;u=+l[n+12>>2];if(R>0.0){d=0.0;c=c-R/u}else d=-(R*+l[(s|R>+l[n+48>>2]?n+32|0:n+36|0)>>2])/u;E=+l[W+(X*152|0)+108>>2];u=d*E;c=c*E;if(s|R>+l[n+48>>2]){l[W+(X*152|0)+112>>2]=u+c;l[W+(X*152|0)+128>>2]=0.0}else{l[W+(X*152|0)+112>>2]=c;l[W+(X*152|0)+128>>2]=u}l[W+(X*152|0)+116>>2]=0.0;l[W+(X*152|0)+120>>2]=0.0;l[W+(X*152|0)+124>>2]=1.0e10;o[W+(X*152|0)+140>>2]=o[t+68>>2];if(!I){a=0;m=0;g=0}else{a=o[I+352>>2]|0;m=o[I+356>>2]|0;g=o[I+360>>2]|0}if(!P){s=0;p=0;_=0}else{s=o[P+352>>2]|0;p=o[P+356>>2]|0;_=o[P+360>>2]|0}d=(o[f>>2]=s,+l[f>>2]);d=d-(o[f>>2]=a,+l[f>>2]);u=(o[f>>2]=p,+l[f>>2]);u=u-(o[f>>2]=m,+l[f>>2]);b=(o[f>>2]=_,+l[f>>2]);b=b-(o[f>>2]=g,+l[f>>2]);l[et+32>>2]=d;l[et+32+4>>2]=u;l[et+32+8>>2]=b;l[et+32+12>>2]=0.0;do{if((r|0)>0?+l[e+4+(Q*184|0)+88>>2]>0.0:0){r=r+-1|0;c=+V(+(d*d+u*u+b*b));if(c>+l[n+80>>2]){d=d*(1.0/c);l[et+32>>2]=d;u=u*(1.0/c);l[et+32+4>>2]=u;c=b*(1.0/c);l[et+32+8>>2]=c;do{if(q){if(!(o[q+180>>2]&2))break;v=+l[q+4>>2];w=+l[q+20>>2];C=+l[q+36>>2];y=+l[q+8>>2];S=+l[q+24>>2];A=+l[q+40>>2];x=+l[q+12>>2];M=+l[q+28>>2];R=+l[q+44>>2];T=(v*d+w*u+c*C)*+l[q+164>>2];E=(d*y+u*S+c*A)*+l[q+168>>2];c=(d*x+u*M+c*R)*+l[q+172>>2];l[et+32>>2]=v*T+y*E+x*c;l[et+32+4>>2]=w*T+S*E+M*c;l[et+32+8>>2]=C*T+A*E+R*c;l[et+32+12>>2]=0.0;d=v*T+y*E+x*c;u=w*T+S*E+M*c;c=C*T+A*E+R*c}}while(0);do{if(J){if(!(o[J+180>>2]&2))break;w=+l[J+4>>2];C=+l[J+20>>2];v=+l[J+36>>2];S=+l[J+8>>2];A=+l[J+24>>2];y=+l[J+40>>2];M=+l[J+12>>2];R=+l[J+28>>2];x=+l[J+44>>2];T=(w*d+C*u+v*c)*+l[J+164>>2];E=(d*S+u*A+c*y)*+l[J+168>>2];u=(d*M+u*R+c*x)*+l[J+172>>2];l[et+32>>2]=w*T+S*E+M*u;l[et+32+4>>2]=C*T+A*E+R*u;l[et+32+8>>2]=v*T+y*E+x*u;l[et+32+12>>2]=0.0;c=v*T+y*E+x*u;d=w*T+S*E+M*u;u=C*T+A*E+R*u}}while(0);if(!(+V(+(d*d+u*u+c*c))>.001))break;JD(t,et+32|0,K,$,X,H);break}JD(t,j,K,$,X,H);c=+l[z>>2];if(+G(+c)>.7071067690849304){R=+l[U>>2];E=1.0/+V(+(c*c+R*R));l[et+16>>2]=0.0;l[et+16+4>>2]=-(E*c);l[et+16+8>>2]=E*R;l[et>>2]=(c*c+R*R)*E;d=+l[j>>2];l[et+4>>2]=-(E*R*d);x=d*-(E*c);u=0.0;b=-(E*c);y=E*R;v=(c*c+R*R)*E;d=-(E*R*d)}else{v=+l[j>>2];R=+l[U>>2];d=1.0/+V(+(v*v+R*R));l[et+16>>2]=-(R*d);l[et+16+4>>2]=d*v;l[et+16+8>>2]=0.0;l[et>>2]=-(d*v*c);l[et+4>>2]=c*-(R*d);x=(v*v+R*R)*d;u=-(R*d);b=d*v;y=0.0;v=-(d*v*c);d=c*-(R*d)}l[et+8>>2]=x;do{if(!q)c=y;else{if(!(o[q+180>>2]&2)){c=y;break}rt=+l[q+4>>2];w=+l[q+20>>2];C=+l[q+36>>2];it=+l[q+8>>2];S=+l[q+24>>2];A=+l[q+40>>2];nt=+l[q+12>>2];M=+l[q+28>>2];R=+l[q+44>>2];T=(rt*u+w*b+C*y)*+l[q+164>>2];E=(u*it+b*S+y*A)*+l[q+168>>2];c=(u*nt+b*M+y*R)*+l[q+172>>2];l[et+16>>2]=rt*T+it*E+nt*c;l[et+16+4>>2]=w*T+S*E+M*c;l[et+16+8>>2]=C*T+A*E+R*c;l[et+16+12>>2]=0.0;u=rt*T+it*E+nt*c;b=w*T+S*E+M*c;c=C*T+A*E+R*c}}while(0);do{if(!J)y=c;else{if(!(o[J+180>>2]&2)){y=c;break}w=+l[J+4>>2];C=+l[J+20>>2];E=+l[J+36>>2];S=+l[J+8>>2];T=+l[J+24>>2];nt=+l[J+40>>2];M=+l[J+12>>2];A=+l[J+28>>2];rt=+l[J+44>>2];R=(w*u+C*b+E*c)*+l[J+164>>2];it=(u*S+b*T+c*nt)*+l[J+168>>2];y=(u*M+b*A+c*rt)*+l[J+172>>2];l[et+16>>2]=w*R+S*it+M*y;l[et+16+4>>2]=C*R+T*it+A*y;l[et+16+8>>2]=E*R+nt*it+rt*y;l[et+16+12>>2]=0.0;u=w*R+S*it+M*y;b=C*R+T*it+A*y;y=E*R+nt*it+rt*y}}while(0);do{if(!q)c=x;else{if(!(o[q+180>>2]&2)){c=x;break}w=+l[q+4>>2];C=+l[q+20>>2];E=+l[q+36>>2];S=+l[q+8>>2];T=+l[q+24>>2];nt=+l[q+40>>2];M=+l[q+12>>2];A=+l[q+28>>2];rt=+l[q+44>>2];R=(w*v+C*d+E*x)*+l[q+164>>2];it=(v*S+d*T+x*nt)*+l[q+168>>2];c=(v*M+d*A+x*rt)*+l[q+172>>2];l[et>>2]=w*R+S*it+M*c;l[et+4>>2]=C*R+T*it+A*c;l[et+8>>2]=E*R+nt*it+rt*c;l[et+12>>2]=0.0;v=w*R+S*it+M*c;d=C*R+T*it+A*c;c=E*R+nt*it+rt*c}}while(0);do{if(J){if(!(o[J+180>>2]&2))break;w=+l[J+4>>2];C=+l[J+20>>2];E=+l[J+36>>2];S=+l[J+8>>2];T=+l[J+24>>2];nt=+l[J+40>>2];M=+l[J+12>>2];A=+l[J+28>>2];rt=+l[J+44>>2];R=(w*v+C*d+E*c)*+l[J+164>>2];it=(v*S+d*T+c*nt)*+l[J+168>>2];c=(v*M+d*A+c*rt)*+l[J+172>>2];l[et>>2]=w*R+S*it+M*c;l[et+4>>2]=C*R+T*it+A*c;l[et+8>>2]=E*R+nt*it+rt*c;l[et+12>>2]=0.0;v=w*R+S*it+M*c;d=C*R+T*it+A*c;c=E*R+nt*it+rt*c}}while(0);if(+V(+(u*u+b*b+y*y))>.001)JD(t,et+16|0,K,$,X,H);if(+V(+(v*v+d*d+c*c))>.001)JD(t,et,K,$,X,H)}}while(0);do{if(!(o[n+64>>2]&32))tt=95;else{if(!(i[e+4+(Q*184|0)+116>>0]|0)){tt=95;break}KD(t,e+4+(Q*184|0)+152|0,K,$,X,H,et+64|0,et+48|0,1.0,+l[e+4+(Q*184|0)+132>>2],+l[e+4+(Q*184|0)+140>>2]);if(!(o[n+64>>2]&16))break;KD(t,e+4+(Q*184|0)+168|0,K,$,X,H,et+64|0,et+48|0,1.0,+l[e+4+(Q*184|0)+136>>2],+l[e+4+(Q*184|0)+144>>2])}}while(0);do{if((tt|0)==95){tt=0;L=e+4+(Q*184|0)+152|0;c=+l[j>>2];w=+l[U>>2];x=+l[z>>2];u=B-(B*k+F*O+D*N)*c;v=F-(B*k+F*O+D*N)*w;b=D-(B*k+F*O+D*N)*x;l[e+4+(Q*184|0)+152>>2]=u;m=e+4+(Q*184|0)+156|0;l[m>>2]=v;g=e+4+(Q*184|0)+160|0;l[g>>2]=b;s=e+4+(Q*184|0)+164|0;l[s>>2]=0.0;if((o[n+64>>2]&64|0)==0?u*u+v*v+b*b>1.1920928955078125e-07:0){c=1.0/+V(+(u*u+v*v+b*b));l[L>>2]=u*c;l[m>>2]=c*v;l[g>>2]=c*b;do{if(!q){d=u*c;u=c*v;c=c*b}else{if(!(o[q+180>>2]&1)){d=u*c;u=c*v;c=c*b;break}R=+l[q+4>>2];k=+l[q+20>>2];F=+l[q+36>>2];D=+l[q+8>>2];O=+l[q+24>>2];nt=+l[q+40>>2];d=+l[q+12>>2];N=+l[q+28>>2];rt=+l[q+44>>2];B=(R*(u*c)+k*(c*v)+c*b*F)*+l[q+164>>2];it=(u*c*D+c*v*O+c*b*nt)*+l[q+168>>2];c=(u*c*d+c*v*N+c*b*rt)*+l[q+172>>2];l[L>>2]=R*B+D*it+d*c;l[m>>2]=k*B+O*it+N*c;l[g>>2]=F*B+nt*it+rt*c;l[s>>2]=0.0;d=R*B+D*it+d*c;u=k*B+O*it+N*c;c=F*B+nt*it+rt*c}}while(0);do{if(J|0){if(!(o[J+180>>2]&1))break;A=+l[J+4>>2];D=+l[J+20>>2];N=+l[J+36>>2];E=+l[J+8>>2];k=+l[J+24>>2];B=+l[J+40>>2];R=+l[J+12>>2];O=+l[J+28>>2];it=+l[J+44>>2];F=(A*d+D*u+N*c)*+l[J+164>>2];nt=(d*E+u*k+c*B)*+l[J+168>>2];rt=(d*R+u*O+c*it)*+l[J+172>>2];l[L>>2]=A*F+E*nt+R*rt;l[m>>2]=D*F+k*nt+O*rt;l[g>>2]=N*F+B*nt+it*rt;l[s>>2]=0.0}}while(0);KD(t,L,K,$,X,H,et+64|0,et+48|0,1.0,0.0,0.0);if(!(o[n+64>>2]&16))break;_=e+4+(Q*184|0)+168|0;it=+l[m>>2];d=+l[z>>2];F=+l[g>>2];B=+l[U>>2];rt=+l[j>>2];nt=+l[L>>2];l[e+4+(Q*184|0)+168>>2]=it*d-F*B;s=e+4+(Q*184|0)+172|0;a=e+4+(Q*184|0)+176|0;p=e+4+(Q*184|0)+180|0;l[p>>2]=0.0;u=1.0/+V(+((it*d-F*B)*(it*d-F*B)+(F*rt-d*nt)*(F*rt-d*nt)+(B*nt-it*rt)*(B*nt-it*rt)));c=(it*d-F*B)*u;l[_>>2]=c;d=(F*rt-d*nt)*u;l[s>>2]=d;u=(B*nt-it*rt)*u;l[a>>2]=u;do{if(q){if(!(o[q+180>>2]&1))break;E=+l[q+4>>2];k=+l[q+20>>2];F=+l[q+36>>2];R=+l[q+8>>2];O=+l[q+24>>2];nt=+l[q+40>>2];D=+l[q+12>>2];N=+l[q+28>>2];rt=+l[q+44>>2];B=(E*c+k*d+u*F)*+l[q+164>>2];it=(c*R+d*O+u*nt)*+l[q+168>>2];u=(c*D+d*N+u*rt)*+l[q+172>>2];l[_>>2]=E*B+R*it+D*u;l[s>>2]=k*B+O*it+N*u;l[a>>2]=F*B+nt*it+rt*u;l[p>>2]=0.0;c=E*B+R*it+D*u;d=k*B+O*it+N*u;u=F*B+nt*it+rt*u}}while(0);do{if(J|0){if(!(o[J+180>>2]&1))break;A=+l[J+4>>2];D=+l[J+20>>2];N=+l[J+36>>2];E=+l[J+8>>2];k=+l[J+24>>2];B=+l[J+40>>2];R=+l[J+12>>2];O=+l[J+28>>2];it=+l[J+44>>2];F=(A*c+D*d+N*u)*+l[J+164>>2];nt=(c*E+d*k+u*B)*+l[J+168>>2];rt=(c*R+d*O+u*it)*+l[J+172>>2];l[_>>2]=A*F+E*nt+R*rt;l[s>>2]=D*F+k*nt+O*rt;l[a>>2]=N*F+B*nt+it*rt;l[p>>2]=0.0}}while(0);KD(t,_,K,$,X,H,et+64|0,et+48|0,1.0,0.0,0.0);break}_=e+4+(Q*184|0)+168|0;if(+G(+x)>.7071067690849304){rt=1.0/+V(+(x*x+w*w));l[L>>2]=0.0;l[m>>2]=-(rt*x);l[g>>2]=rt*w;v=-(rt*w*c);y=c*-(rt*x);b=(x*x+w*w)*rt;d=0.0;u=-(rt*x);c=rt*w}else{u=1.0/+V(+(c*c+w*w));l[L>>2]=-(w*u);l[m>>2]=u*c;l[g>>2]=0.0;v=x*-(w*u);y=(c*c+w*w)*u;b=-(u*c*x);d=-(w*u);u=u*c;c=0.0}l[_>>2]=b;p=e+4+(Q*184|0)+172|0;l[p>>2]=v;a=e+4+(Q*184|0)+176|0;l[a>>2]=y;do{if(q){if(!(o[q+180>>2]&1))break;E=+l[q+4>>2];k=+l[q+20>>2];F=+l[q+36>>2];R=+l[q+8>>2];O=+l[q+24>>2];nt=+l[q+40>>2];D=+l[q+12>>2];N=+l[q+28>>2];rt=+l[q+44>>2];B=(E*d+k*u+F*c)*+l[q+164>>2];it=(d*R+u*O+c*nt)*+l[q+168>>2];c=(d*D+u*N+c*rt)*+l[q+172>>2];l[L>>2]=E*B+R*it+D*c;l[m>>2]=k*B+O*it+N*c;l[g>>2]=F*B+nt*it+rt*c;l[s>>2]=0.0;d=E*B+R*it+D*c;u=k*B+O*it+N*c;c=F*B+nt*it+rt*c}}while(0);do{if(J|0){if(!(o[J+180>>2]&1))break;A=+l[J+4>>2];D=+l[J+20>>2];N=+l[J+36>>2];E=+l[J+8>>2];k=+l[J+24>>2];B=+l[J+40>>2];R=+l[J+12>>2];O=+l[J+28>>2];it=+l[J+44>>2];F=(A*d+D*u+N*c)*+l[J+164>>2];nt=(d*E+u*k+c*B)*+l[J+168>>2];rt=(d*R+u*O+c*it)*+l[J+172>>2];l[L>>2]=A*F+E*nt+R*rt;l[m>>2]=D*F+k*nt+O*rt;l[g>>2]=N*F+B*nt+it*rt;l[s>>2]=0.0}}while(0);KD(t,L,K,$,X,H,et+64|0,et+48|0,1.0,0.0,0.0);s=o[n+64>>2]|0;if(s&16){do{if(q|0){if(!(o[q+180>>2]&1))break;A=+l[q+4>>2];C=+l[_>>2];D=+l[q+20>>2];T=+l[p>>2];N=+l[q+36>>2];rt=+l[a>>2];E=+l[q+8>>2];k=+l[q+24>>2];B=+l[q+40>>2];R=+l[q+12>>2];O=+l[q+28>>2];it=+l[q+44>>2];F=(A*C+D*T+N*rt)*+l[q+164>>2];nt=(C*E+T*k+rt*B)*+l[q+168>>2];rt=(C*R+T*O+rt*it)*+l[q+172>>2];l[_>>2]=A*F+E*nt+R*rt;l[p>>2]=D*F+k*nt+O*rt;l[a>>2]=N*F+B*nt+it*rt;l[e+4+(Q*184|0)+180>>2]=0.0}}while(0);do{if(J|0){if(!(o[J+180>>2]&1))break;A=+l[J+4>>2];C=+l[_>>2];D=+l[J+20>>2];T=+l[p>>2];N=+l[J+36>>2];rt=+l[a>>2];E=+l[J+8>>2];k=+l[J+24>>2];B=+l[J+40>>2];R=+l[J+12>>2];O=+l[J+28>>2];it=+l[J+44>>2];F=(A*C+D*T+N*rt)*+l[J+164>>2];nt=(C*E+T*k+rt*B)*+l[J+168>>2];rt=(C*R+T*O+rt*it)*+l[J+172>>2];l[_>>2]=A*F+E*nt+R*rt;l[p>>2]=D*F+k*nt+O*rt;l[a>>2]=N*F+B*nt+it*rt;l[e+4+(Q*184|0)+180>>2]=0.0}}while(0);KD(t,_,K,$,X,H,et+64|0,et+48|0,1.0,0.0,0.0);s=o[n+64>>2]|0}if((s&80|0)!=80)break;i[e+4+(Q*184|0)+116>>0]=1}}while(0);g=o[t+16>>2]|0;a=o[g+(K*244|0)+240>>2]|0;p=o[g+($*244|0)+240>>2]|0;_=o[W+(X*152|0)+140>>2]|0;m=o[t+76>>2]|0;s=o[n+64>>2]|0;do{if(!(s&4))l[m+(_*152|0)+100>>2]=0.0;else{c=+l[e+4+(Q*184|0)+124>>2]*+l[n+60>>2];l[m+(_*152|0)+100>>2]=c;if(a|0){nt=+l[a+368>>2];rt=c*(nt*+l[m+(_*152|0)+20>>2]*+l[a+376>>2])*+l[g+(K*244|0)+116>>2];it=c*(nt*+l[m+(_*152|0)+24>>2]*+l[a+380>>2])*+l[g+(K*244|0)+120>>2];l[g+(K*244|0)+64>>2]=+l[g+(K*244|0)+112>>2]*(c*(nt*+l[m+(_*152|0)+16>>2]*+l[a+372>>2]))+ +l[g+(K*244|0)+64>>2];l[g+(K*244|0)+68>>2]=rt+ +l[g+(K*244|0)+68>>2];l[g+(K*244|0)+72>>2]=it+ +l[g+(K*244|0)+72>>2];it=c*+l[g+(K*244|0)+100>>2]*+l[m+(_*152|0)+68>>2];rt=c*+l[g+(K*244|0)+104>>2]*+l[m+(_*152|0)+72>>2];l[g+(K*244|0)+80>>2]=c*+l[g+(K*244|0)+96>>2]*+l[m+(_*152|0)+64>>2]+ +l[g+(K*244|0)+80>>2];l[g+(K*244|0)+84>>2]=it+ +l[g+(K*244|0)+84>>2];l[g+(K*244|0)+88>>2]=rt+ +l[g+(K*244|0)+88>>2]}if(!p)break;c=+l[p+368>>2];u=+l[m+(_*152|0)+100>>2];if(!(o[g+($*244|0)+240>>2]|0))break;rt=+l[m+(_*152|0)+88>>2];it=+l[m+(_*152|0)+84>>2];nt=+l[m+(_*152|0)+80>>2];F=u*(c*+l[m+(_*152|0)+52>>2]*+l[p+376>>2])*+l[g+($*244|0)+116>>2];B=u*(c*+l[m+(_*152|0)+56>>2]*+l[p+380>>2])*+l[g+($*244|0)+120>>2];l[g+($*244|0)+64>>2]=+l[g+($*244|0)+112>>2]*(u*(c*+l[m+(_*152|0)+48>>2]*+l[p+372>>2]))+ +l[g+($*244|0)+64>>2];l[g+($*244|0)+68>>2]=F+ +l[g+($*244|0)+68>>2];l[g+($*244|0)+72>>2]=B+ +l[g+($*244|0)+72>>2];it=it*(+l[g+($*244|0)+100>>2]*-u);rt=rt*(+l[g+($*244|0)+104>>2]*-u);l[g+($*244|0)+80>>2]=+l[g+($*244|0)+80>>2]-nt*(+l[g+($*244|0)+96>>2]*-u);l[g+($*244|0)+84>>2]=+l[g+($*244|0)+84>>2]-it;l[g+($*244|0)+88>>2]=+l[g+($*244|0)+88>>2]-rt}}while(0);do{if(s&16|0){if(!(s&4)){l[m+((_+1|0)*152|0)+100>>2]=0.0;break}u=+l[e+4+(Q*184|0)+128>>2]*+l[n+60>>2];l[m+((_+1|0)*152|0)+100>>2]=u;do{if(a|0){c=+l[a+368>>2];if(!(o[g+(K*244|0)+240>>2]|0))break;rt=u*(c*+l[m+((_+1|0)*152|0)+20>>2])*+l[g+(K*244|0)+116>>2];it=u*(c*+l[m+((_+1|0)*152|0)+24>>2])*+l[g+(K*244|0)+120>>2];l[g+(K*244|0)+64>>2]=+l[g+(K*244|0)+112>>2]*(u*(c*+l[m+((_+1|0)*152|0)+16>>2]))+ +l[g+(K*244|0)+64>>2];l[g+(K*244|0)+68>>2]=rt+ +l[g+(K*244|0)+68>>2];l[g+(K*244|0)+72>>2]=it+ +l[g+(K*244|0)+72>>2];it=u*+l[g+(K*244|0)+100>>2]*+l[m+((_+1|0)*152|0)+68>>2];rt=u*+l[g+(K*244|0)+104>>2]*+l[m+((_+1|0)*152|0)+72>>2];l[g+(K*244|0)+80>>2]=u*+l[g+(K*244|0)+96>>2]*+l[m+((_+1|0)*152|0)+64>>2]+ +l[g+(K*244|0)+80>>2];l[g+(K*244|0)+84>>2]=it+ +l[g+(K*244|0)+84>>2];l[g+(K*244|0)+88>>2]=rt+ +l[g+(K*244|0)+88>>2]}}while(0);if(!p)break;c=+l[p+368>>2];u=+l[m+((_+1|0)*152|0)+100>>2];if(!(o[g+($*244|0)+240>>2]|0))break;rt=+l[m+((_+1|0)*152|0)+88>>2];it=+l[m+((_+1|0)*152|0)+84>>2];nt=+l[m+((_+1|0)*152|0)+80>>2];F=u*(c*+l[m+((_+1|0)*152|0)+52>>2])*+l[g+($*244|0)+116>>2];B=u*(c*+l[m+((_+1|0)*152|0)+56>>2])*+l[g+($*244|0)+120>>2];l[g+($*244|0)+64>>2]=+l[g+($*244|0)+112>>2]*(u*(c*+l[m+((_+1|0)*152|0)+48>>2]))+ +l[g+($*244|0)+64>>2];l[g+($*244|0)+68>>2]=F+ +l[g+($*244|0)+68>>2];l[g+($*244|0)+72>>2]=B+ +l[g+($*244|0)+72>>2];it=it*(+l[g+($*244|0)+100>>2]*-u);rt=rt*(+l[g+($*244|0)+104>>2]*-u);l[g+($*244|0)+80>>2]=+l[g+($*244|0)+80>>2]-nt*(+l[g+($*244|0)+96>>2]*-u);l[g+($*244|0)+84>>2]=+l[g+($*244|0)+84>>2]-it;l[g+($*244|0)+88>>2]=+l[g+($*244|0)+88>>2]-rt}}while(0)}Q=Q+1|0}while((Q|0)<(o[e+748>>2]|0));h=et;return}function qD(t,e,n){t=t|0;e=e|0;n=+n;var i=0,r=0,s=0;r=h;h=h+496|0;i=o[e+212>>2]|0;if((i|0)>-1){t=i;h=r;return t|0}s=(o[e+236>>2]&2|0)==0;i=s?0:e;do{if(!s){if(!(+l[i+368>>2]!=0.0)?(o[i+204>>2]&2|0)==0:0)break;s=o[t+8>>2]|0;Il(r+244|0,0,244)|0;ZD(YD(t+4|0,r+244|0)|0,e,n);o[e+212>>2]=s;h=r;return s|0}}while(0);i=o[t+188>>2]|0;if((i|0)>=0){s=i;h=r;return s|0}o[t+188>>2]=o[t+8>>2];Il(r|0,0,244)|0;ZD(YD(t+4|0,r)|0,0,n);s=o[t+188>>2]|0;h=r;return s|0}function YD(t,e){t=t|0;e=e|0;var n=0,r=0,s=0,a=0,c=0,l=0,u=0,h=0;c=o[t+4>>2]|0;if((c|0)==(o[t+8>>2]|0)?(a=c|0?c<<1:1,(c|0)<(a|0)):0){if(!a){n=0;r=c}else{o[5637]=(o[5637]|0)+1;n=Jc((a*244|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}r=o[t+4>>2]|0}if((r|0)>0){s=0;do{u=n+(s*244|0)|0;l=o[t+12>>2]|0;h=l+(s*244|0)|0;o[u>>2]=o[h>>2];o[u+4>>2]=o[h+4>>2];o[u+8>>2]=o[h+8>>2];o[u+12>>2]=o[h+12>>2];u=n+(s*244|0)+16|0;h=l+(s*244|0)+16|0;o[u>>2]=o[h>>2];o[u+4>>2]=o[h+4>>2];o[u+8>>2]=o[h+8>>2];o[u+12>>2]=o[h+12>>2];u=n+(s*244|0)+32|0;h=l+(s*244|0)+32|0;o[u>>2]=o[h>>2];o[u+4>>2]=o[h+4>>2];o[u+8>>2]=o[h+8>>2];o[u+12>>2]=o[h+12>>2];u=n+(s*244|0)+48|0;h=l+(s*244|0)+48|0;o[u>>2]=o[h>>2];o[u+4>>2]=o[h+4>>2];o[u+8>>2]=o[h+8>>2];o[u+12>>2]=o[h+12>>2];Ol(n+(s*244|0)+64|0,l+(s*244|0)+64|0,180)|0;s=s+1|0}while((s|0)!=(r|0))}r=o[t+12>>2]|0;if(r|0){if(i[t+16>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[r+-4>>2]|0)}o[t+12>>2]=0}i[t+16>>0]=1;o[t+12>>2]=n;o[t+8>>2]=a;n=o[t+4>>2]|0}else n=c;o[t+4>>2]=n+1;h=o[t+12>>2]|0;o[h+(c*244|0)>>2]=o[e>>2];o[h+(c*244|0)+4>>2]=o[e+4>>2];o[h+(c*244|0)+8>>2]=o[e+8>>2];o[h+(c*244|0)+12>>2]=o[e+12>>2];o[h+(c*244|0)+16>>2]=o[e+16>>2];o[h+(c*244|0)+16+4>>2]=o[e+16+4>>2];o[h+(c*244|0)+16+8>>2]=o[e+16+8>>2];o[h+(c*244|0)+16+12>>2]=o[e+16+12>>2];o[h+(c*244|0)+32>>2]=o[e+32>>2];o[h+(c*244|0)+32+4>>2]=o[e+32+4>>2];o[h+(c*244|0)+32+8>>2]=o[e+32+8>>2];o[h+(c*244|0)+32+12>>2]=o[e+32+12>>2];o[h+(c*244|0)+48>>2]=o[e+48>>2];o[h+(c*244|0)+48+4>>2]=o[e+48+4>>2];o[h+(c*244|0)+48+8>>2]=o[e+48+8>>2];o[h+(c*244|0)+48+12>>2]=o[e+48+12>>2];Ol(h+(c*244|0)+64|0,e+64|0,180)|0;return(o[t+12>>2]|0)+(c*244|0)|0}function ZD(t,e,n){t=t|0;e=e|0;n=+n;var i=0,r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0,p=0;if(!e)e=0;else e=(o[e+236>>2]&2|0)==0?0:e;o[t+64>>2]=0;o[t+64+4>>2]=0;o[t+64+8>>2]=0;o[t+64+12>>2]=0;o[t+64+16>>2]=0;o[t+64+20>>2]=0;o[t+64+24>>2]=0;o[t+64+28>>2]=0;o[t+144>>2]=0;o[t+144+4>>2]=0;o[t+144+8>>2]=0;o[t+144+12>>2]=0;o[t+144+16>>2]=0;o[t+144+20>>2]=0;o[t+144+24>>2]=0;o[t+144+28>>2]=0;if(!e){o[t>>2]=1065353216;o[t+4>>2]=0;o[t+4+4>>2]=0;o[t+4+8>>2]=0;o[t+4+12>>2]=0;o[t+20>>2]=1065353216;o[t+24>>2]=0;o[t+24+4>>2]=0;o[t+24+8>>2]=0;o[t+24+12>>2]=0;o[t+40>>2]=1065353216;o[t+44>>2]=0;o[t+44+4>>2]=0;o[t+44+8>>2]=0;o[t+44+12>>2]=0;o[t+44+16>>2]=0;o[t+240>>2]=0;o[t+128>>2]=0;o[t+128+4>>2]=0;o[t+128+8>>2]=0;o[t+128+12>>2]=0;o[t+96>>2]=1065353216;o[t+100>>2]=1065353216;o[t+104>>2]=1065353216;l[t+108>>2]=0.0;o[t+112>>2]=1065353216;o[t+116>>2]=1065353216;o[t+120>>2]=1065353216;l[t+124>>2]=0.0;e=t+176|0;i=e+60|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(i|0));t=t+236|0;l[t>>2]=0.0;return}else{i=e+4|0;o[t>>2]=o[i>>2];o[t+4>>2]=o[i+4>>2];o[t+8>>2]=o[i+8>>2];o[t+12>>2]=o[i+12>>2];i=e+20|0;o[t+16>>2]=o[i>>2];o[t+16+4>>2]=o[i+4>>2];o[t+16+8>>2]=o[i+8>>2];o[t+16+12>>2]=o[i+12>>2];i=e+36|0;o[t+32>>2]=o[i>>2];o[t+32+4>>2]=o[i+4>>2];o[t+32+8>>2]=o[i+8>>2];o[t+32+12>>2]=o[i+12>>2];i=e+52|0;o[t+48>>2]=o[i>>2];o[t+48+4>>2]=o[i+4>>2];o[t+48+8>>2]=o[i+8>>2];o[t+48+12>>2]=o[i+12>>2];i=e+368|0;u=+l[i>>2];h=e+372|0;c=u*+l[e+376>>2];a=u*+l[e+380>>2];l[t+128>>2]=u*+l[h>>2];l[t+132>>2]=c;l[t+136>>2]=a;l[t+140>>2]=0.0;o[t+240>>2]=e;p=e+568|0;o[t+96>>2]=o[p>>2];o[t+96+4>>2]=o[p+4>>2];o[t+96+8>>2]=o[p+8>>2];o[t+96+12>>2]=o[p+12>>2];o[t+112>>2]=o[h>>2];o[t+112+4>>2]=o[h+4>>2];o[t+112+8>>2]=o[h+8>>2];o[t+112+12>>2]=o[h+12>>2];h=e+336|0;o[t+176>>2]=o[h>>2];o[t+176+4>>2]=o[h+4>>2];o[t+176+8>>2]=o[h+8>>2];o[t+176+12>>2]=o[h+12>>2];h=e+352|0;o[t+192>>2]=o[h>>2];o[t+192+4>>2]=o[h+4>>2];o[t+192+8>>2]=o[h+8>>2];o[t+192+12>>2]=o[h+12>>2];a=+l[i>>2];c=a*+l[e+440>>2]*n;u=a*+l[e+444>>2]*n;l[t+208>>2]=a*+l[e+436>>2]*n;l[t+212>>2]=c;l[t+216>>2]=u;l[t+220>>2]=0.0;u=+l[e+452>>2];c=+l[e+456>>2];a=+l[e+460>>2];s=(u*+l[e+292>>2]+c*+l[e+308>>2]+a*+l[e+324>>2])*n;r=(u*+l[e+296>>2]+c*+l[e+312>>2]+a*+l[e+328>>2])*n;l[t+224>>2]=(+l[e+288>>2]*u+ +l[e+304>>2]*c+ +l[e+320>>2]*a)*n;l[t+228>>2]=s;l[t+232>>2]=r;t=t+236|0;l[t>>2]=0.0;return}}function JD(t,e,n,r,s,a){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;a=a|0;var c=0,u=0,h=0,p=0.0,d=0,_=0.0,m=0.0,g=0.0,b=0.0,v=0.0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0,L=0,E=0;E=o[t+88>>2]|0;if((E|0)==(o[t+92>>2]|0)?(d=E|0?E<<1:1,(E|0)<(d|0)):0){if(!d){c=0;u=E}else{o[5637]=(o[5637]|0)+1;c=Jc((d*152|3)+16|0)|0;if(!c)c=0;else{o[(c+4+15&-16)+-4>>2]=c;c=c+4+15&-16}u=o[t+88>>2]|0}if((u|0)>0){h=0;do{Ol(c+(h*152|0)|0,(o[t+96>>2]|0)+(h*152|0)|0,152)|0;h=h+1|0}while((h|0)!=(u|0))}u=o[t+96>>2]|0;if(u|0){if(i[t+100>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[u+-4>>2]|0)}o[t+96>>2]=0}i[t+100>>0]=1;o[t+96>>2]=c;o[t+92>>2]=d;c=o[t+88>>2]|0}else c=E;o[t+88>>2]=c+1;L=o[t+96>>2]|0;o[L+(E*152|0)+140>>2]=s;o[L+(E*152|0)+16>>2]=0;o[L+(E*152|0)+16+4>>2]=0;o[L+(E*152|0)+16+8>>2]=0;o[L+(E*152|0)+16+12>>2]=0;l[L+(E*152|0)+48>>2]=-0.0;l[L+(E*152|0)+52>>2]=-0.0;l[L+(E*152|0)+56>>2]=-0.0;l[L+(E*152|0)+60>>2]=0.0;t=o[t+16>>2]|0;d=o[t+(n*244|0)+240>>2]|0;A=o[t+(r*244|0)+240>>2]|0;o[L+(E*152|0)+144>>2]=n;o[L+(E*152|0)+148>>2]=r;s=o[a+88>>2]|0;o[L+(E*152|0)+104>>2]=s;o[L+(E*152|0)+132>>2]=0;l[L+(E*152|0)+100>>2]=0.0;l[L+(E*152|0)+96>>2]=0.0;S=-+l[e>>2];M=-+l[e+4>>2];C=-+l[e+8>>2];l[L+(E*152|0)>>2]=S;l[L+(E*152|0)+4>>2]=M;l[L+(E*152|0)+8>>2]=C;l[L+(E*152|0)+12>>2]=0.0;T=(o[f>>2]=s,+l[f>>2]);if(d|0){c=(l[f>>2]=(+l[d+288>>2]*S+ +l[d+292>>2]*M+ +l[d+296>>2]*C)*+l[d+568>>2],o[f>>2]|0);u=(l[f>>2]=(+l[d+304>>2]*S+ +l[d+308>>2]*M+ +l[d+312>>2]*C)*+l[d+572>>2],o[f>>2]|0);h=(l[f>>2]=(+l[d+320>>2]*S+ +l[d+324>>2]*M+ +l[d+328>>2]*C)*+l[d+576>>2],o[f>>2]|0)}else{c=0;u=0;h=0}o[L+(E*152|0)+64>>2]=c;o[L+(E*152|0)+68>>2]=u;o[L+(E*152|0)+72>>2]=h;l[L+(E*152|0)+76>>2]=0.0;y=+l[e>>2];x=+l[e+4>>2];w=+l[e+8>>2];e=o[e+12>>2]|0;l[L+(E*152|0)+32>>2]=y;l[L+(E*152|0)+36>>2]=x;l[L+(E*152|0)+40>>2]=w;o[L+(E*152|0)+44>>2]=e;if(A|0){c=(l[f>>2]=(y*+l[A+288>>2]+x*+l[A+292>>2]+w*+l[A+296>>2])*+l[A+568>>2],o[f>>2]|0);u=(l[f>>2]=(y*+l[A+304>>2]+x*+l[A+308>>2]+w*+l[A+312>>2])*+l[A+572>>2],o[f>>2]|0);h=(l[f>>2]=(y*+l[A+320>>2]+x*+l[A+324>>2]+w*+l[A+328>>2])*+l[A+576>>2],o[f>>2]|0)}else{c=0;u=0;h=0}o[L+(E*152|0)+80>>2]=c;o[L+(E*152|0)+84>>2]=u;o[L+(E*152|0)+88>>2]=h;l[L+(E*152|0)+92>>2]=0.0;if(d|0){p=+l[d+288>>2]*S+ +l[d+292>>2]*M+ +l[d+296>>2]*C;_=+l[d+304>>2]*S+ +l[d+308>>2]*M+ +l[d+312>>2]*C;m=+l[d+320>>2]*S+ +l[d+324>>2]*M+ +l[d+328>>2]*C}else{p=0.0;_=0.0;m=0.0}if(A|0){g=+l[A+288>>2]*y+ +l[A+292>>2]*x+ +l[A+296>>2]*w;b=y*+l[A+304>>2]+x*+l[A+308>>2]+w*+l[A+312>>2];v=y*+l[A+320>>2]+x*+l[A+324>>2]+w*+l[A+328>>2]}else{g=0.0;b=0.0;v=0.0}b=1.0/(p*S+_*M+m*C+0.0+(g*y+b*x+v*w));l[L+(E*152|0)+108>>2]=b;if(d|0){_=+l[t+(n*244|0)+192>>2];m=+l[t+(n*244|0)+196>>2];g=+l[t+(n*244|0)+200>>2];p=(+l[t+(n*244|0)+176>>2]+ +l[t+(n*244|0)+208>>2])*0.0+(+l[t+(n*244|0)+180>>2]+ +l[t+(n*244|0)+212>>2])*0.0+(+l[t+(n*244|0)+184>>2]+ +l[t+(n*244|0)+216>>2])*0.0}else{_=0.0;m=0.0;g=0.0;p=0.0}p=p+(_*S+m*M+g*C);if(!A){v=0.0;S=0.0;C=0.0;M=-0.0;y=v*y;S=S*x;S=y+S;C=C*w;C=S+C;C=M+C;C=p+C;C=0.0-C;C=b*C;r=L+(E*152|0)+112|0;l[r>>2]=C;r=L+(E*152|0)+116|0;l[r>>2]=0.0;T=-T;r=L+(E*152|0)+120|0;l[r>>2]=T;r=L+(E*152|0)+124|0;o[r>>2]=s;return}v=+l[t+(r*244|0)+192>>2];S=+l[t+(r*244|0)+196>>2];C=+l[t+(r*244|0)+200>>2];M=(+l[t+(r*244|0)+176>>2]+ +l[t+(r*244|0)+208>>2])*-0.0+(+l[t+(r*244|0)+180>>2]+ +l[t+(r*244|0)+212>>2])*-0.0+(+l[t+(r*244|0)+184>>2]+ +l[t+(r*244|0)+216>>2])*-0.0;y=v*y;S=S*x;S=y+S;C=C*w;C=S+C;C=M+C;C=p+C;C=0.0-C;C=b*C;r=L+(E*152|0)+112|0;l[r>>2]=C;r=L+(E*152|0)+116|0;l[r>>2]=0.0;T=-T;r=L+(E*152|0)+120|0;l[r>>2]=T;r=L+(E*152|0)+124|0;o[r>>2]=s;return}function KD(t,e,n,r,s,a,c,u,h,p,d){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;a=a|0;c=c|0;u=u|0;h=+h;p=+p;d=+d;var _=0,m=0,g=0,b=0.0,v=0,y=0.0,x=0.0,w=0.0,S=0.0,M=0.0,C=0.0,T=0.0,A=0.0,L=0.0,E=0.0,R=0.0,I=0.0,P=0.0,D=0.0,k=0.0,O=0.0,N=0.0,F=0.0,B=0,j=0,U=0.0,z=0.0,G=0.0,V=0.0;j=o[t+68>>2]|0;if((j|0)==(o[t+72>>2]|0)?(v=j|0?j<<1:1,(j|0)<(v|0)):0){if(!v){_=0;m=j}else{o[5637]=(o[5637]|0)+1;_=Jc((v*152|3)+16|0)|0;if(!_)_=0;else{o[(_+4+15&-16)+-4>>2]=_;_=_+4+15&-16}m=o[t+68>>2]|0}if((m|0)>0){g=0;do{Ol(_+(g*152|0)|0,(o[t+76>>2]|0)+(g*152|0)|0,152)|0;g=g+1|0}while((g|0)!=(m|0))}m=o[t+76>>2]|0;if(m|0){if(i[t+80>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[m+-4>>2]|0)}o[t+76>>2]=0}i[t+80>>0]=1;o[t+76>>2]=_;o[t+72>>2]=v;_=o[t+68>>2]|0}else _=j;o[t+68>>2]=_+1;B=o[t+76>>2]|0;o[B+(j*152|0)+140>>2]=s;g=o[t+16>>2]|0;_=o[g+(n*244|0)+240>>2]|0;v=o[g+(r*244|0)+240>>2]|0;o[B+(j*152|0)+144>>2]=n;o[B+(j*152|0)+148>>2]=r;m=o[a+84>>2]|0;o[B+(j*152|0)+104>>2]=m;o[B+(j*152|0)+132>>2]=0;l[B+(j*152|0)+100>>2]=0.0;l[B+(j*152|0)+96>>2]=0.0;F=(o[f>>2]=m,+l[f>>2]);if(_|0){o[B+(j*152|0)+16>>2]=o[e>>2];o[B+(j*152|0)+16+4>>2]=o[e+4>>2];o[B+(j*152|0)+16+8>>2]=o[e+8>>2];o[B+(j*152|0)+16+12>>2]=o[e+12>>2];N=+l[c+4>>2];E=+l[B+(j*152|0)+24>>2];D=+l[c+8>>2];k=+l[B+(j*152|0)+20>>2];R=+l[B+(j*152|0)+16>>2];O=+l[c>>2];l[B+(j*152|0)>>2]=N*E-D*k;l[B+(j*152|0)+4>>2]=D*R-E*O;l[B+(j*152|0)+8>>2]=k*O-N*R;l[B+(j*152|0)+12>>2]=0.0;x=((N*E-D*k)*+l[_+288>>2]+(D*R-E*O)*+l[_+292>>2]+(k*O-N*R)*+l[_+296>>2])*+l[_+568>>2];b=((N*E-D*k)*+l[_+304>>2]+(D*R-E*O)*+l[_+308>>2]+(k*O-N*R)*+l[_+312>>2])*+l[_+572>>2];y=((N*E-D*k)*+l[_+320>>2]+(D*R-E*O)*+l[_+324>>2]+(k*O-N*R)*+l[_+328>>2])*+l[_+576>>2];l[B+(j*152|0)+64>>2]=x;l[B+(j*152|0)+68>>2]=b;l[B+(j*152|0)+72>>2]=y;l[B+(j*152|0)+76>>2]=0.0;C=R;T=k;A=E;L=N*E-D*k;E=D*R-E*O;R=k*O-N*R}else{o[B+(j*152|0)+64>>2]=0;o[B+(j*152|0)+64+4>>2]=0;o[B+(j*152|0)+64+8>>2]=0;o[B+(j*152|0)+64+12>>2]=0;o[B+(j*152|0)>>2]=0;o[B+(j*152|0)+4>>2]=0;o[B+(j*152|0)+8>>2]=0;o[B+(j*152|0)+12>>2]=0;o[B+(j*152|0)+16>>2]=0;o[B+(j*152|0)+20>>2]=0;o[B+(j*152|0)+24>>2]=0;o[B+(j*152|0)+28>>2]=0;b=0.0;y=0.0;x=0.0;C=0.0;T=0.0;A=0.0;L=0.0;E=0.0;R=0.0}if(v|0){N=-+l[e>>2];z=-+l[e+4>>2];O=-+l[e+8>>2];l[B+(j*152|0)+48>>2]=N;l[B+(j*152|0)+52>>2]=z;l[B+(j*152|0)+56>>2]=O;l[B+(j*152|0)+60>>2]=0.0;U=+l[u+4>>2];V=+l[u+8>>2];G=+l[u>>2];l[B+(j*152|0)+32>>2]=U*O-V*z;l[B+(j*152|0)+36>>2]=V*N-G*O;l[B+(j*152|0)+40>>2]=G*z-U*N;l[B+(j*152|0)+44>>2]=0.0;w=((U*O-V*z)*+l[v+288>>2]+(V*N-G*O)*+l[v+292>>2]+(G*z-U*N)*+l[v+296>>2])*+l[v+568>>2];S=((U*O-V*z)*+l[v+304>>2]+(V*N-G*O)*+l[v+308>>2]+(G*z-U*N)*+l[v+312>>2])*+l[v+572>>2];M=((U*O-V*z)*+l[v+320>>2]+(V*N-G*O)*+l[v+324>>2]+(G*z-U*N)*+l[v+328>>2])*+l[v+576>>2];l[B+(j*152|0)+80>>2]=w;l[B+(j*152|0)+84>>2]=S;l[B+(j*152|0)+88>>2]=M;l[B+(j*152|0)+92>>2]=0.0;I=N;P=z;D=O;k=U*O-V*z;O=V*N-G*O;N=G*z-U*N}else{o[B+(j*152|0)+80>>2]=0;o[B+(j*152|0)+80+4>>2]=0;o[B+(j*152|0)+80+8>>2]=0;o[B+(j*152|0)+80+12>>2]=0;o[B+(j*152|0)+32>>2]=0;o[B+(j*152|0)+32+4>>2]=0;o[B+(j*152|0)+32+8>>2]=0;o[B+(j*152|0)+32+12>>2]=0;o[B+(j*152|0)+32+16>>2]=0;o[B+(j*152|0)+32+20>>2]=0;o[B+(j*152|0)+32+24>>2]=0;o[B+(j*152|0)+32+28>>2]=0;w=0.0;S=0.0;M=0.0;I=0.0;P=0.0;D=0.0;k=0.0;O=0.0;N=0.0}if(_|0){z=+l[c+8>>2];G=+l[c+4>>2];V=+l[c>>2];y=+l[_+368>>2]+((b*z-y*G)*+l[e>>2]+(y*V-z*x)*+l[e+4>>2]+(G*x-b*V)*+l[e+8>>2])}else y=0.0;if(v|0){G=-w;b=-S;M=-M;U=+l[u+8>>2];z=+l[u+4>>2];V=+l[u>>2];b=+l[v+368>>2]+((U*b-z*M)*+l[e>>2]+(V*M-U*G)*+l[e+4>>2]+(z*G-V*b)*+l[e+8>>2])}else b=0.0;S=h/(y+b);l[B+(j*152|0)+108>>2]=S;if(_|0){y=+l[g+(n*244|0)+192>>2];x=+l[g+(n*244|0)+196>>2];w=+l[g+(n*244|0)+200>>2];b=(+l[g+(n*244|0)+176>>2]+ +l[g+(n*244|0)+208>>2])*C+(+l[g+(n*244|0)+180>>2]+ +l[g+(n*244|0)+212>>2])*T+(+l[g+(n*244|0)+184>>2]+ +l[g+(n*244|0)+216>>2])*A}else{y=0.0;x=0.0;w=0.0;b=C*0.0+T*0.0+A*0.0}b=b+(y*L+x*E+w*R);if(v|0){U=+l[g+(r*244|0)+192>>2];z=+l[g+(r*244|0)+196>>2];V=+l[g+(r*244|0)+200>>2];G=(+l[g+(r*244|0)+176>>2]+ +l[g+(r*244|0)+208>>2])*I+(+l[g+(r*244|0)+180>>2]+ +l[g+(r*244|0)+212>>2])*P+(+l[g+(r*244|0)+184>>2]+ +l[g+(r*244|0)+216>>2])*D;U=U*k;z=z*O;z=U+z;V=V*N;V=z+V;V=G+V;V=b+V;V=p-V;V=S*V;r=B+(j*152|0)+112|0;l[r>>2]=V;r=B+(j*152|0)+128|0;l[r>>2]=0.0;r=B+(j*152|0)+116|0;l[r>>2]=d;V=-F;r=B+(j*152|0)+120|0;l[r>>2]=V;r=B+(j*152|0)+124|0;o[r>>2]=m;return}else{U=0.0;z=0.0;V=0.0;G=I*0.0+P*0.0+D*0.0;U=U*k;z=z*O;z=U+z;V=V*N;V=z+V;V=G+V;V=b+V;V=p-V;V=S*V;r=B+(j*152|0)+112|0;l[r>>2]=V;r=B+(j*152|0)+128|0;l[r>>2]=0.0;r=B+(j*152|0)+116|0;l[r>>2]=d;V=-F;r=B+(j*152|0)+120|0;l[r>>2]=V;r=B+(j*152|0)+124|0;o[r>>2]=m;return}}function $D(t,e,n,i,r,s,a,c,l){t=t|0;e=e|0;n=n|0;i=i|0;r=r|0;s=s|0;a=a|0;c=c|0;l=l|0;if(!(o[c+44>>2]|0))return;e=o[c+20>>2]|0;if(!(o[c+64>>2]&256)){if((e|0)<=0)return;l=0;do{s=o[t+28>>2]|0;if((s|0)>0){e=0;do{r=o[(o[t+116>>2]|0)+(e<<2)>>2]|0;a=o[t+36>>2]|0;n=o[t+16>>2]|0;QD(n+((o[a+(r*152|0)+144>>2]|0)*244|0)|0,n+((o[a+(r*152|0)+148>>2]|0)*244|0)|0,a+(r*152|0)|0);e=e+1|0}while((e|0)!=(s|0));e=o[c+20>>2]|0}l=l+1|0}while((l|0)<(e|0));return}else{if((e|0)<=0)return;l=0;do{s=o[t+28>>2]|0;if((s|0)>0){e=0;do{r=o[(o[t+116>>2]|0)+(e<<2)>>2]|0;a=o[t+36>>2]|0;n=o[t+16>>2]|0;QD(n+((o[a+(r*152|0)+144>>2]|0)*244|0)|0,n+((o[a+(r*152|0)+148>>2]|0)*244|0)|0,a+(r*152|0)|0);e=e+1|0}while((e|0)!=(s|0));e=o[c+20>>2]|0}l=l+1|0}while((l|0)<(e|0));return}}function QD(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0;i=+l[n+128>>2];if(!(i!=0.0))return;o[5314]=(o[5314]|0)+1;u=+l[n+96>>2];r=+l[n+16>>2];s=+l[n+20>>2];a=+l[n+24>>2];c=+l[n+108>>2];c=i-u*+l[n+116>>2]-(r*+l[t+144>>2]+s*+l[t+148>>2]+a*+l[t+152>>2]+(+l[n>>2]*+l[t+160>>2]+ +l[n+4>>2]*+l[t+164>>2]+ +l[n+8>>2]*+l[t+168>>2]))*c-c*(+l[n+48>>2]*+l[e+144>>2]+ +l[n+52>>2]*+l[e+148>>2]+ +l[n+56>>2]*+l[e+152>>2]+(+l[n+32>>2]*+l[e+160>>2]+ +l[n+36>>2]*+l[e+164>>2]+ +l[n+40>>2]*+l[e+168>>2]));h=+l[n+120>>2];i=u+c<h?h-u:c;l[n+96>>2]=u+c<h?h:u+c;if(o[t+240>>2]|0){h=i*(s*+l[t+132>>2])*+l[t+116>>2];u=i*(a*+l[t+136>>2])*+l[t+120>>2];l[t+144>>2]=+l[t+112>>2]*(i*(r*+l[t+128>>2]))+ +l[t+144>>2];l[t+148>>2]=h+ +l[t+148>>2];l[t+152>>2]=u+ +l[t+152>>2];u=i*+l[t+100>>2]*+l[n+68>>2];h=i*+l[t+104>>2]*+l[n+72>>2];l[t+160>>2]=i*+l[t+96>>2]*+l[n+64>>2]+ +l[t+160>>2];l[t+164>>2]=u+ +l[t+164>>2];l[t+168>>2]=h+ +l[t+168>>2]}if(!(o[e+240>>2]|0))return;h=i*(+l[n+52>>2]*+l[e+132>>2])*+l[e+116>>2];u=i*(+l[n+56>>2]*+l[e+136>>2])*+l[e+120>>2];l[e+144>>2]=+l[e+112>>2]*(i*(+l[n+48>>2]*+l[e+128>>2]))+ +l[e+144>>2];l[e+148>>2]=h+ +l[e+148>>2];l[e+152>>2]=u+ +l[e+152>>2];u=i*+l[e+100>>2]*+l[n+84>>2];h=i*+l[e+104>>2]*+l[n+88>>2];l[e+160>>2]=i*+l[e+96>>2]*+l[n+80>>2]+ +l[e+160>>2];l[e+164>>2]=u+ +l[e+164>>2];l[e+168>>2]=h+ +l[e+168>>2];return}function tk(t,e,n,r){t=t|0;e=e|0;n=n|0;r=r|0;var s=0,a=0,c=0,u=0,p=0.0,d=0.0,_=0.0,m=0.0,g=0,b=0,v=0.0,y=0.0;g=h;h=h+80|0;a=o[t+28>>2]|0;e=o[r+64>>2]|0;t:do{if((e&4|0)!=0&(a|0)>0){c=o[t+36>>2]|0;s=o[t+76>>2]|0;if(!(e&16)){e=0;while(1){u=o[c+(e*152|0)+132>>2]|0;o[u+120>>2]=o[c+(e*152|0)+100>>2];o[u+124>>2]=o[s+((o[c+(e*152|0)+140>>2]|0)*152|0)+100>>2];e=e+1|0;if((e|0)==(a|0))break t}}else{n=s;e=0}while(1){u=o[c+(e*152|0)+132>>2]|0;o[u+120>>2]=o[c+(e*152|0)+100>>2];b=o[c+(e*152|0)+140>>2]|0;o[u+124>>2]=o[s+(b*152|0)+100>>2];o[u+128>>2]=o[n+((b+1|0)*152|0)+100>>2];e=e+1|0;if((e|0)==(a|0))break t;n=o[t+76>>2]|0}}}while(0);n=o[t+48>>2]|0;if((n|0)>0){u=0;do{s=o[t+56>>2]|0;a=o[s+(u*152|0)+132>>2]|0;c=o[a+44>>2]|0;e=s+(u*152|0)+100|0;if(c|0){m=+l[e>>2];b=o[a+28>>2]|0;_=1.0/+l[r+12>>2];d=m*+l[s+(u*152|0)+20>>2]*+l[b+376>>2]*_;p=m*+l[s+(u*152|0)+24>>2]*+l[b+380>>2]*_;l[c>>2]=+l[c>>2]+ +l[s+(u*152|0)+16>>2]*m*+l[b+372>>2]*_;l[c+4>>2]=d+ +l[c+4>>2];l[c+8>>2]=p+ +l[c+8>>2];p=+l[e>>2];b=o[a+32>>2]|0;d=1.0/+l[r+12>>2];_=p*+l[s+(u*152|0)+52>>2]*+l[b+376>>2]*d;m=p*+l[s+(u*152|0)+56>>2]*+l[b+380>>2]*d;l[c+32>>2]=+l[c+32>>2]+ +l[s+(u*152|0)+48>>2]*p*+l[b+372>>2]*d;l[c+36>>2]=_+ +l[c+36>>2];l[c+40>>2]=m+ +l[c+40>>2];b=o[a+28>>2]|0;m=+l[e>>2];_=1.0/+l[r+12>>2];d=+l[s+(u*152|0)+4>>2]*+l[b+572>>2]*m*_;p=m*(+l[s+(u*152|0)+8>>2]*+l[b+576>>2])*_;l[c+16>>2]=+l[c+16>>2]+ +l[s+(u*152|0)>>2]*+l[b+568>>2]*m*_;l[c+20>>2]=d+ +l[c+20>>2];l[c+24>>2]=p+ +l[c+24>>2];b=o[a+32>>2]|0;p=+l[e>>2];d=1.0/+l[r+12>>2];_=+l[s+(u*152|0)+36>>2]*+l[b+572>>2]*p*d;m=p*(+l[s+(u*152|0)+40>>2]*+l[b+576>>2])*d;l[c+48>>2]=+l[c+48>>2]+ +l[s+(u*152|0)+32>>2]*+l[b+568>>2]*p*d;l[c+52>>2]=_+ +l[c+52>>2];l[c+56>>2]=m+ +l[c+56>>2]}b=o[e>>2]|0;o[a+36>>2]=b;m=+G(+(o[f>>2]=b,+l[f>>2]));if(m>=+l[a+16>>2])i[a+20>>0]=0;u=u+1|0}while((u|0)!=(n|0))}e=o[t+8>>2]|0;if((e|0)>0){c=0;do{n=o[t+16>>2]|0;s=n+(c*244|0)|0;a=o[n+(c*244|0)+240>>2]|0;if(a){if(!(o[r+44>>2]|0)){s=n+(c*244|0)+176|0;d=+l[n+(c*244|0)+64>>2]+ +l[s>>2];l[s>>2]=d;s=n+(c*244|0)+180|0;_=+l[n+(c*244|0)+68>>2]+ +l[s>>2];l[s>>2]=_;s=n+(c*244|0)+184|0;p=+l[n+(c*244|0)+72>>2]+ +l[s>>2];l[s>>2]=p;s=n+(c*244|0)+192|0;l[s>>2]=+l[n+(c*244|0)+80>>2]+ +l[s>>2];s=n+(c*244|0)+196|0;l[s>>2]=+l[n+(c*244|0)+84>>2]+ +l[s>>2];s=n+(c*244|0)+200|0;l[s>>2]=+l[n+(c*244|0)+88>>2]+ +l[s>>2];s=n;e=a}else{d=+l[r+12>>2];_=+l[r+52>>2];b=n+(c*244|0)+176|0;l[b>>2]=+l[n+(c*244|0)+64>>2]+ +l[b>>2];b=n+(c*244|0)+180|0;l[b>>2]=+l[n+(c*244|0)+68>>2]+ +l[b>>2];b=n+(c*244|0)+184|0;l[b>>2]=+l[n+(c*244|0)+72>>2]+ +l[b>>2];b=n+(c*244|0)+192|0;l[b>>2]=+l[n+(c*244|0)+80>>2]+ +l[b>>2];b=n+(c*244|0)+196|0;l[b>>2]=+l[n+(c*244|0)+84>>2]+ +l[b>>2];b=n+(c*244|0)+200|0;l[b>>2]=+l[n+(c*244|0)+88>>2]+ +l[b>>2];m=+l[n+(c*244|0)+144>>2];p=+l[n+(c*244|0)+148>>2];if((((!(m!=0.0|p!=0.0)?!(+l[n+(c*244|0)+152>>2]!=0.0):0)?!(+l[n+(c*244|0)+160>>2]!=0.0):0)?!(+l[n+(c*244|0)+164>>2]!=0.0):0)?!(+l[n+(c*244|0)+168>>2]!=0.0):0)e=a;else{y=+l[n+(c*244|0)+164>>2]*_;v=+l[n+(c*244|0)+168>>2]*_;l[g>>2]=+l[n+(c*244|0)+160>>2]*_;l[g+4>>2]=y;l[g+8>>2]=v;l[g+12>>2]=0.0;Uy(s,m,p,+l[n+(c*244|0)+152>>2],g,d,g+16|0);o[s>>2]=o[g+16>>2];o[s+4>>2]=o[g+16+4>>2];o[s+8>>2]=o[g+16+8>>2];o[s+12>>2]=o[g+16+12>>2];e=n+(c*244|0)+16|0;o[e>>2]=o[g+16+16>>2];o[e+4>>2]=o[g+16+16+4>>2];o[e+8>>2]=o[g+16+16+8>>2];o[e+12>>2]=o[g+16+16+12>>2];e=n+(c*244|0)+32|0;o[e>>2]=o[g+16+32>>2];o[e+4>>2]=o[g+16+32+4>>2];o[e+8>>2]=o[g+16+32+8>>2];o[e+12>>2]=o[g+16+32+12>>2];e=n+(c*244|0)+48|0;o[e>>2]=o[g+16+48>>2];o[e+4>>2]=o[g+16+48+4>>2];o[e+8>>2]=o[g+16+48+8>>2];o[e+12>>2]=o[g+16+48+12>>2];e=o[t+16>>2]|0;n=e;e=o[e+(c*244|0)+240>>2]|0}s=n;d=+l[n+(c*244|0)+176>>2];_=+l[n+(c*244|0)+180>>2];p=+l[n+(c*244|0)+184>>2]}y=d+ +l[s+(c*244|0)+208>>2];v=_+ +l[s+(c*244|0)+212>>2];m=p+ +l[s+(c*244|0)+216>>2];u=e+284|0;o[u>>2]=(o[u>>2]|0)+1;l[e+336>>2]=y;l[e+340>>2]=v;l[e+344>>2]=m;l[e+348>>2]=0.0;u=o[t+16>>2]|0;b=o[u+(c*244|0)+240>>2]|0;m=+l[u+(c*244|0)+192>>2]+ +l[u+(c*244|0)+224>>2];v=+l[u+(c*244|0)+196>>2]+ +l[u+(c*244|0)+228>>2];y=+l[u+(c*244|0)+200>>2]+ +l[u+(c*244|0)+232>>2];o[b+284>>2]=(o[b+284>>2]|0)+1;l[b+352>>2]=m;l[b+356>>2]=v;l[b+360>>2]=y;l[b+364>>2]=0.0;if(o[r+44>>2]|0){u=o[t+16>>2]|0;b=o[u+(c*244|0)+240>>2]|0;a=u+(c*244|0)|0;o[b+284>>2]=(o[b+284>>2]|0)+1;o[b+4>>2]=o[a>>2];o[b+4+4>>2]=o[a+4>>2];o[b+4+8>>2]=o[a+8>>2];o[b+4+12>>2]=o[a+12>>2];a=u+(c*244|0)+16|0;o[b+20>>2]=o[a>>2];o[b+20+4>>2]=o[a+4>>2];o[b+20+8>>2]=o[a+8>>2];o[b+20+12>>2]=o[a+12>>2];a=u+(c*244|0)+32|0;o[b+36>>2]=o[a>>2];o[b+36+4>>2]=o[a+4>>2];o[b+36+8>>2]=o[a+8>>2];o[b+36+12>>2]=o[a+12>>2];u=u+(c*244|0)+48|0;o[b+52>>2]=o[u>>2];o[b+52+4>>2]=o[u+4>>2];o[b+52+8>>2]=o[u+8>>2];o[b+52+12>>2]=o[u+12>>2]}o[(o[(o[t+16>>2]|0)+(c*244|0)+240>>2]|0)+212>>2]=-1;e=o[t+8>>2]|0}c=c+1|0}while((c|0)<(e|0))}if((o[t+28>>2]|0)<0?(o[t+32>>2]|0)<0:0){e=o[t+36>>2]|0;if(e|0){if(i[t+40>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+36>>2]=0}i[t+40>>0]=1;o[t+36>>2]=0;o[t+32>>2]=0}o[t+28>>2]=0;if((o[t+48>>2]|0)<0?(o[t+52>>2]|0)<0:0){e=o[t+56>>2]|0;if(e|0){if(i[t+60>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+56>>2]=0}i[t+60>>0]=1;o[t+56>>2]=0;o[t+52>>2]=0}o[t+48>>2]=0;if((o[t+68>>2]|0)<0?(o[t+72>>2]|0)<0:0){e=o[t+76>>2]|0;if(e|0){if(i[t+80>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+76>>2]=0}i[t+80>>0]=1;o[t+76>>2]=0;o[t+72>>2]=0}o[t+68>>2]=0;if((o[t+88>>2]|0)<0?(o[t+92>>2]|0)<0:0){e=o[t+96>>2]|0;if(e|0){if(i[t+100>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+96>>2]=0}i[t+100>>0]=1;o[t+96>>2]=0;o[t+92>>2]=0}o[t+88>>2]=0;if((o[t+8>>2]|0)>=0){o[t+8>>2]=0;h=g;return 0.0}if((o[t+12>>2]|0)>=0){o[t+8>>2]=0;h=g;return 0.0}e=o[t+16>>2]|0;if(e|0){if(i[t+20>>0]|0){o[5638]=(o[5638]|0)+1;Kc(o[e+-4>>2]|0)}o[t+16>>2]=0}i[t+20>>0]=1;o[t+16>>2]=0;o[t+12>>2]=0;o[t+8>>2]=0;h=g;return 0.0}function ek(t,e,n,r,s,a,c,u,h,p){t=t|0;e=e|0;n=n|0;r=r|0;s=s|0;a=a|0;c=c|0;u=u|0;h=h|0;p=p|0;var f=0.0,d=0,_=0,m=0,g=0,b=0,v=0,y=0.0;d=o[t+48>>2]|0;m=o[t+28>>2]|0;g=o[t+68>>2]|0;if(o[h+64>>2]&1|0){if((d|0)>0){r=o[t+136>>2]|0;p=o[t+200>>2]|0;_=0;do{s=r+(_<<2)|0;a=o[s>>2]|0;_=_+1|0;p=(et(p,1664525)|0)+1013904223|0;if(_>>>0<65537){n=p>>>16^p;if(_>>>0<257)if(_>>>0<17){n=(n>>>8^n)>>>4^(n>>>8^n);if(_>>>0<5)if(_>>>0<3)n=(n>>>2^n)>>>1^(n>>>2^n);else n=n>>>2^n}else n=n>>>8^n}else n=p;n=r+(((n>>>0)%(_>>>0)|0)<<2)|0;o[s>>2]=o[n>>2];o[n>>2]=a}while((_|0)!=(d|0));o[t+200>>2]=p}if((o[h+20>>2]|0)>(e|0)){if((m|0)>0){r=o[t+116>>2]|0;p=o[t+200>>2]|0;d=0;do{s=r+(d<<2)|0;a=o[s>>2]|0;d=d+1|0;p=(et(p,1664525)|0)+1013904223|0;if(d>>>0<65537){n=p>>>16^p;if(d>>>0<257)if(d>>>0<17){n=(n>>>8^n)>>>4^(n>>>8^n);if(d>>>0<5)if(d>>>0<3)n=(n>>>2^n)>>>1^(n>>>2^n);else n=n>>>2^n}else n=n>>>8^n}else n=p;_=r+(((n>>>0)%(d>>>0)|0)<<2)|0;o[s>>2]=o[_>>2];o[_>>2]=a}while((d|0)!=(m|0));o[t+200>>2]=p}if((g|0)>0){r=o[t+156>>2]|0;p=o[t+200>>2]|0;d=0;do{s=r+(d<<2)|0;a=o[s>>2]|0;d=d+1|0;p=(et(p,1664525)|0)+1013904223|0;if(d>>>0<65537){n=p>>>16^p;if(d>>>0<257)if(d>>>0<17){n=(n>>>8^n)>>>4^(n>>>8^n);if(d>>>0<5)if(d>>>0<3)n=(n>>>2^n)>>>1^(n>>>2^n);else n=n>>>2^n}else n=n>>>8^n}else n=p;m=r+(((n>>>0)%(d>>>0)|0)<<2)|0;o[s>>2]=o[m>>2];o[m>>2]=a}while((d|0)!=(g|0));o[t+200>>2]=p}}}n=o[t+48>>2]|0;if(!(o[h+64>>2]&256)){if((n|0)>0){a=0;do{r=o[(o[t+136>>2]|0)+(a<<2)>>2]|0;s=o[t+56>>2]|0;if((o[s+(r*152|0)+136>>2]|0)>(e|0)){n=o[t+16>>2]|0;+nk(n+((o[s+(r*152|0)+144>>2]|0)*244|0)|0,n+((o[s+(r*152|0)+148>>2]|0)*244|0)|0,s+(r*152|0)|0);n=o[t+48>>2]|0}a=a+1|0}while((a|0)<(n|0))}if((o[h+20>>2]|0)<=(e|0))return 0.0;if((u|0)>0){s=0;do{n=c+(s<<2)|0;r=o[n>>2]|0;if(i[r+20>>0]|0){e=qD(t,o[r+28>>2]|0,+l[h+12>>2])|0;v=qD(t,o[(o[n>>2]|0)+32>>2]|0,+l[h+12>>2])|0;b=o[t+16>>2]|0;g=o[n>>2]|0;jk[o[(o[g>>2]|0)+24>>2]&15](g,b+(e*244|0)|0,b+(v*244|0)|0,+l[h+12>>2])}s=s+1|0}while((s|0)!=(u|0))}n=o[t+28>>2]|0;if((n|0)>0){r=0;do{h=o[(o[t+116>>2]|0)+(r<<2)>>2]|0;u=o[t+36>>2]|0;c=o[t+16>>2]|0;+ik(c+((o[u+(h*152|0)+144>>2]|0)*244|0)|0,c+((o[u+(h*152|0)+148>>2]|0)*244|0)|0,u+(h*152|0)|0);r=r+1|0}while((r|0)!=(n|0))}n=o[t+68>>2]|0;if((n|0)>0){a=0;do{r=o[(o[t+156>>2]|0)+(a<<2)>>2]|0;s=o[t+76>>2]|0;f=+l[(o[t+36>>2]|0)+((o[s+(r*152|0)+140>>2]|0)*152|0)+100>>2];if(f>0.0){f=f*+l[s+(r*152|0)+104>>2];l[s+(r*152|0)+120>>2]=-f;l[s+(r*152|0)+124>>2]=f;h=o[t+16>>2]|0;+nk(h+((o[s+(r*152|0)+144>>2]|0)*244|0)|0,h+((o[s+(r*152|0)+148>>2]|0)*244|0)|0,s+(r*152|0)|0)}a=a+1|0}while((a|0)!=(n|0))}n=o[t+88>>2]|0;if((n|0)<=0)return 0.0;s=0;do{r=o[t+96>>2]|0;f=+l[(o[t+36>>2]|0)+((o[r+(s*152|0)+140>>2]|0)*152|0)+100>>2];if(f>0.0){y=+l[r+(s*152|0)+104>>2];f=f*y>y?y:f*y;l[r+(s*152|0)+120>>2]=-f;l[r+(s*152|0)+124>>2]=f;h=o[t+16>>2]|0;+nk(h+((o[r+(s*152|0)+144>>2]|0)*244|0)|0,h+((o[r+(s*152|0)+148>>2]|0)*244|0)|0,r+(s*152|0)|0)}s=s+1|0}while((s|0)!=(n|0));return 0.0}if((n|0)>0){a=0;do{r=o[(o[t+136>>2]|0)+(a<<2)>>2]|0;s=o[t+56>>2]|0;if((o[s+(r*152|0)+136>>2]|0)>(e|0)){n=o[t+16>>2]|0;+nk(n+((o[s+(r*152|0)+144>>2]|0)*244|0)|0,n+((o[s+(r*152|0)+148>>2]|0)*244|0)|0,s+(r*152|0)|0);n=o[t+48>>2]|0}a=a+1|0}while((a|0)<(n|0))}if((o[h+20>>2]|0)<=(e|0))return 0.0;if((u|0)>0){s=0;do{n=c+(s<<2)|0;r=o[n>>2]|0;if(i[r+20>>0]|0){m=qD(t,o[r+28>>2]|0,+l[h+12>>2])|0;e=qD(t,o[(o[n>>2]|0)+32>>2]|0,+l[h+12>>2])|0;g=o[t+16>>2]|0;_=o[n>>2]|0;jk[o[(o[_>>2]|0)+24>>2]&15](_,g+(m*244|0)|0,g+(e*244|0)|0,+l[h+12>>2])}s=s+1|0}while((s|0)!=(u|0))}n=o[h+64>>2]|0;d=o[t+28>>2]|0;if(n&512|0){if((d|0)<=0)return 0.0;p=0;do{r=o[(o[t+116>>2]|0)+(p<<2)>>2]|0;s=o[t+36>>2]|0;a=o[t+16>>2]|0;+ik(a+((o[s+(r*152|0)+144>>2]|0)*244|0)|0,a+((o[s+(r*152|0)+148>>2]|0)*244|0)|0,s+(r*152|0)|0);f=+l[s+(r*152|0)+100>>2];r=et(p,(n>>>4&1)+1|0)|0;s=o[(o[t+156>>2]|0)+(r<<2)>>2]|0;a=o[t+76>>2]|0;if(f>0.0){y=f*+l[a+(s*152|0)+104>>2];l[a+(s*152|0)+120>>2]=-y;l[a+(s*152|0)+124>>2]=y;u=o[t+16>>2]|0;+nk(u+((o[a+(s*152|0)+144>>2]|0)*244|0)|0,u+((o[a+(s*152|0)+148>>2]|0)*244|0)|0,a+(s*152|0)|0)}if(o[h+64>>2]&16|0?(b=o[(o[t+156>>2]|0)+(r+1<<2)>>2]|0,v=o[t+76>>2]|0,f>0.0):0){y=f*+l[v+(b*152|0)+104>>2];l[v+(b*152|0)+120>>2]=-y;l[v+(b*152|0)+124>>2]=y;u=o[t+16>>2]|0;+nk(u+((o[v+(b*152|0)+144>>2]|0)*244|0)|0,u+((o[v+(b*152|0)+148>>2]|0)*244|0)|0,v+(b*152|0)|0)}p=p+1|0}while((p|0)!=(d|0));return 0.0}if((d|0)>0){n=0;do{h=o[(o[t+116>>2]|0)+(n<<2)>>2]|0;u=o[t+36>>2]|0;c=o[t+16>>2]|0;+ik(c+((o[u+(h*152|0)+144>>2]|0)*244|0)|0,c+((o[u+(h*152|0)+148>>2]|0)*244|0)|0,u+(h*152|0)|0);n=n+1|0}while((n|0)!=(d|0))}n=o[t+68>>2]|0;if((n|0)>0){a=0;do{r=o[(o[t+156>>2]|0)+(a<<2)>>2]|0;s=o[t+76>>2]|0;f=+l[(o[t+36>>2]|0)+((o[s+(r*152|0)+140>>2]|0)*152|0)+100>>2];if(f>0.0){y=f*+l[s+(r*152|0)+104>>2];l[s+(r*152|0)+120>>2]=-y;l[s+(r*152|0)+124>>2]=y;h=o[t+16>>2]|0;+nk(h+((o[s+(r*152|0)+144>>2]|0)*244|0)|0,h+((o[s+(r*152|0)+148>>2]|0)*244|0)|0,s+(r*152|0)|0)}a=a+1|0}while((a|0)!=(n|0))}n=o[t+88>>2]|0;if((n|0)<=0)return 0.0;s=0;do{r=o[t+96>>2]|0;f=+l[(o[t+36>>2]|0)+((o[r+(s*152|0)+140>>2]|0)*152|0)+100>>2];if(f>0.0){y=+l[r+(s*152|0)+104>>2];y=f*y>y?y:f*y;l[r+(s*152|0)+120>>2]=-y;l[r+(s*152|0)+124>>2]=y;h=o[t+16>>2]|0;+nk(h+((o[r+(s*152|0)+144>>2]|0)*244|0)|0,h+((o[r+(s*152|0)+148>>2]|0)*244|0)|0,r+(s*152|0)|0)}s=s+1|0}while((s|0)!=(n|0));return 0.0}function nk(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,s=0.0,a=0.0,c=0.0,u=0.0;s=+l[n+100>>2];u=+l[n+16>>2];a=+l[n+20>>2];c=+l[n+24>>2];i=+l[n+108>>2];i=+l[n+112>>2]-s*+l[n+116>>2]-(u*+l[t+64>>2]+a*+l[t+68>>2]+c*+l[t+72>>2]+(+l[n>>2]*+l[t+80>>2]+ +l[n+4>>2]*+l[t+84>>2]+ +l[n+8>>2]*+l[t+88>>2]))*i-i*(+l[n+48>>2]*+l[e+64>>2]+ +l[n+52>>2]*+l[e+68>>2]+ +l[n+56>>2]*+l[e+72>>2]+(+l[n+32>>2]*+l[e+80>>2]+ +l[n+36>>2]*+l[e+84>>2]+ +l[n+40>>2]*+l[e+88>>2]));r=+l[n+120>>2];do{if(!(s+i<r)){r=+l[n+124>>2];if(s+i>r){l[n+100>>2]=r;i=r-s;break}else{l[n+100>>2]=s+i;break}}else{l[n+100>>2]=r;i=r-s}}while(0);if(o[t+240>>2]|0){a=i*(a*+l[t+132>>2])*+l[t+116>>2];c=i*(c*+l[t+136>>2])*+l[t+120>>2];l[t+64>>2]=+l[t+112>>2]*(i*(u*+l[t+128>>2]))+ +l[t+64>>2];l[t+68>>2]=a+ +l[t+68>>2];l[t+72>>2]=c+ +l[t+72>>2];c=i*+l[t+100>>2]*+l[n+68>>2];u=i*+l[t+104>>2]*+l[n+72>>2];l[t+80>>2]=i*+l[t+96>>2]*+l[n+64>>2]+ +l[t+80>>2];l[t+84>>2]=c+ +l[t+84>>2];l[t+88>>2]=u+ +l[t+88>>2]}if(!(o[e+240>>2]|0))return+i;u=i*(+l[n+52>>2]*+l[e+132>>2])*+l[e+116>>2];c=i*(+l[n+56>>2]*+l[e+136>>2])*+l[e+120>>2];l[e+64>>2]=+l[e+112>>2]*(i*(+l[n+48>>2]*+l[e+128>>2]))+ +l[e+64>>2];l[e+68>>2]=u+ +l[e+68>>2];l[e+72>>2]=c+ +l[e+72>>2];c=i*+l[e+100>>2]*+l[n+84>>2];u=i*+l[e+104>>2]*+l[n+88>>2];l[e+80>>2]=i*+l[e+96>>2]*+l[n+80>>2]+ +l[e+80>>2];l[e+84>>2]=c+ +l[e+84>>2];l[e+88>>2]=u+ +l[e+88>>2];return+i}function ik(t,e,n){t=t|0;e=e|0;n=n|0;var i=0.0,r=0.0,s=0.0,a=0.0,c=0.0,u=0.0,h=0.0;u=+l[n+100>>2];s=+l[n+16>>2];i=+l[n+20>>2];r=+l[n+24>>2];c=+l[n+108>>2];c=+l[n+112>>2]-u*+l[n+116>>2]-(s*+l[t+64>>2]+i*+l[t+68>>2]+r*+l[t+72>>2]+(+l[n>>2]*+l[t+80>>2]+ +l[n+4>>2]*+l[t+84>>2]+ +l[n+8>>2]*+l[t+88>>2]))*c-c*(+l[n+48>>2]*+l[e+64>>2]+ +l[n+52>>2]*+l[e+68>>2]+ +l[n+56>>2]*+l[e+72>>2]+(+l[n+32>>2]*+l[e+80>>2]+ +l[n+36>>2]*+l[e+84>>2]+ +l[n+40>>2]*+l[e+88>>2]));h=+l[n+120>>2];a=u+c<h?h-u:c;l[n+100>>2]=u+c<h?h:u+c;if(o[t+240>>2]|0){h=a*(i*+l[t+132>>2])*+l[t+116>>2];u=a*(r*+l[t+136>>2])*+l[t+120>>2];l[t+64>>2]=+l[t+112>>2]*(a*(s*+l[t+128>>2]))+ +l[t+64>>2];l[t+68>>2]=h+ +l[t+68>>2];l[t+72>>2]=u+ +l[t+72>>2];u=a*+l[t+100>>2]*+l[n+68>>2];h=a*+l[t+104>>2]*+l[n+72>>2];l[t+80>>2]=a*+l[t+96>>2]*+l[n+64>>2]+ +l[t+80>>2];l[t+84>>2]=u+ +l[t+84>>2];l[t+88>>2]=h+ +l[t+88>>2]}if(!(o[e+240>>2]|0))return+a;h=a*(+l[n+52>>2]*+l[e+132>>2])*+l[e+116>>2];u=a*(+l[n+56>>2]*+l[e+136>>2])*+l[e+120>>2];l[e+64>>2]=+l[e+112>>2]*(a*(+l[n+48>>2]*+l[e+128>>2]))+ +l[e+64>>2];l[e+68>>2]=h+ +l[e+68>>2];l[e+72>>2]=u+ +l[e+72>>2];u=a*+l[e+100>>2]*+l[n+84>>2];h=a*+l[e+104>>2]*+l[n+88>>2];l[e+80>>2]=a*+l[e+96>>2]*+l[n+80>>2]+ +l[e+80>>2];l[e+84>>2]=u+ +l[e+84>>2];l[e+88>>2]=h+ +l[e+88>>2];return+a}var rk=[ku,eI,eP,iD,xx,cS,bS,_L,CL,UL,bE,YE,QE,rR,ix,dl,ul,wl,ku,ku,ku,ku,ku,ku,ku,ku,ku,ku,ku,ku,ku,ku];var ok=[Ou,_w,kS,uR,ER,iM,LM,$C,jT,_v,mv,Tv,Av,Lv,Pv,wh,Ch,Ou,Ou,Ou,Ou,Ou,Ou,Ou,Ou,Ou,Ou,Ou,Ou,Ou,Ou,Ou];var sk=[Nu,KR,$R,uI,pI,fI,dI,XI,qI,mP,ZI,JI,oP,lP,vP,yP,CP,TP,kP,VP,WP,eD,nD,sD,aD,wx,Sx,Ix,Gx,Vx,Zx,Jx,Kx,$x,ew,kw,iw,rw,aw,cw,hw,pw,bw,vw,Qv,yw,ww,Mw,Aw,Lw,jw,zw,Vw,Ww,Jw,$w,tS,eS,sS,aS,uS,mS,gS,vS,MS,dL,CS,TS,MT,LS,gL,yL,xL,SL,ML,TL,RL,kL,BL,jL,VL,WL,JL,KL,QL,eE,iE,oE,aE,lE,hE,fE,_E,OI,gE,xE,wE,CE,TE,IE,PE,BE,UE,zE,XE,qE,KE,$E,iR,oR,CR,TR,bP,kR,UR,ZS,CC,KS,uM,pM,xM,wM,kM,NM,qM,JM,QM,tC,xC,wC,EC,ty,OC,XC,oT,uT,mT,gT,yT,wT,CT,OT,WT,HT,ey,ny,fy,dy,yy,xy,Ly,Iy,zy,Dy,Oy,Gy,Qy,tx,nx,rx,ax,mx,bx,eA,nA,gA,pA,yA,TA,AA,xA,wA,HA,XA,rL,cL,GA,pD,gD,bD,ID,PD,UD,zD,VD,Lb,Ub,zb,Gb,tv,uv,wv,Rv,gv,vv,Dv,kv,Bb,Nv,Xv,qv,Ah,Lh,Rh,Tp,Ap,Vm,Wm,gn,bn,nl,pl,rl,ol,il,ml,gl,vl,Fc,tl,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu,Nu];var ak=[Fu];var ck=[Bu,oI,lI,MI,LI,EI,hP,_P,$I,sP,uP,NP,UP,zP,YP,ZP,oD,Tx,Ax,jx,Wx,Yx,Qx,Dw,Ow,mw,Cw,dS,hS,SS,xS,vL,bC,DS,vM,FL,GL,yE,VE,JE,eR,aR,AR,FR,BR,QS,nM,MM,PM,BM,zM,ZM,$M,eC,RC,YC,KC,qT,oy,sy,cy,ly,_y,my,Sy,rA,oA,aA,cA,lA,vA,RA,IA,JA,KA,lL,hL,fD,yD,xD,DD,kD,Eb,Ib,Wb,Hb,Zb,Jb,Kb,$b,Qb,ev,iv,rv,hv,pv,fv,dv,Sv,Ev,Iv,jv,Zv,Hm,Xm,Bu,Bu,Bu,Bu,Bu,Bu,Bu,Bu,Bu,Bu,Bu,Bu,Bu,Bu,Bu,Bu,Bu,Bu,Bu,Bu,Bu,Bu,Bu];var lk=[ju,ex,ox,ju];var uk=[Uu,sI,aI,bI,vI,yI,wI,AI,pP,fP,LP,EP,RP,PP,jP,XP,Dx,Ox,Nx,Fx,Xx,tw,RS,PS,NS,US,GS,VS,XS,HL,XL,YL,NE,lR,dR,mR,gR,yR,My,LR,IR,eM,rM,cM,hM,fM,CM,AM,RM,UM,GM,YM,KM,nC,iC,lC,uC,fC,IC,PC,BC,jC,GC,JC,QC,sT,hT,BT,YT,JT,KT,ay,uy,Kv,Ty,gM,mA,bA,OA,CA,nL,oL,VA,dD,MD,TD,FD,jD,WD,kb,Nb,ov,sv,lv,Fv,Oc,bl,Uu,Uu,Uu,Uu,Uu,Uu,Uu,Uu,Uu,Uu,Uu,Uu,Uu,Uu,Uu,Uu,Uu,Uu,Uu,Uu,Uu,Uu,Uu,Uu,Uu,Uu,Uu,Uu,Uu,Uu,Uu];var hk=[zu,DA,tL,uD,wD,OD,Pb,zu];var pk=[Gu];var fk=[Vu];var dk=[Wu,mI,SP,HP,Mx,wL,$L,tE,nE,rE,sE,cE,uE,pE,dE,mE,bT,Eh,yn,Wu,Wu,Wu,Wu,Wu,Wu,Wu,Wu,Wu,Wu,Wu,Wu,Wu];var _k=[Hu,IS,cR,Cy,tM,TM,jM,TT,ZC,FT,ZT,Hu,Hu,Hu,Hu,Hu];var mk=[Xu,Ep];var gk=[qu];var bk=[Yu,rD,fS,wS,mL,NL,zL,vE,ZE,tR,Yu,Yu,Yu,Yu,Yu,Yu];var vk=[Zu,_I,TI,xP,BP,qP,Cx,Lx,Ex,qx,FS,qL,DE,kE,PR,oM,IM,VM,rC,tT,$T,$v,bM,NA,jb,iL,WA,_D,CD,BD,Ob,Bv,vn,Nc,Bc,sl,Zu,Zu,Zu,Zu,Zu,Zu,Zu,Zu,Zu,Zu,Zu,Zu,Zu,Zu,Zu,Zu,Zu,Zu,Zu,Zu,Zu,Zu,Zu,Zu,Zu,Zu,Zu,Zu];var yk=[Ju,iI,rP,Ov,fl,cl,yl,Ju];var xk=[Ku,pL,wR,_C,WC,Ku,Ku,Ku];var wk=[$u,_M,OS,RR,EM,rT,lT,dT,UT,$u,$u,$u,$u,$u,$u,$u];var Sk=[Qu,ky,Vy,vx];var Mk=[th,Uw,Gw,th];var Ck=[eh];var Tk=[nh,TC,aC,nh];var Ak=[ih,$D];var Lk=[rh,iy,ry,rh];var Ek=[oh,WI,HI,AP,OP,kx,Bx,Px,Hx,fw,Ew,Hw,Kw,Qw,ET,fA,av,cv,yv,Ih,Lp,oh,oh,oh,oh,oh,oh,oh,oh,oh,oh,oh];var Rk=[sh,Rw,Xw,dA,kA,eL,hD,SD,ND,Db,bv,xv,Ph,nk,ik,sh];var Ik=[ah,GD,ek,ah];var Pk=[ch,SA];var Dk=[lh,Tb,Ab,lh];var kk=[uh,mM];var Ok=[hh];var Nk=[ph,xw,Sw,ph];var Fk=[fh,tk];var Bk=[dh,QR,YI,dh];var jk=[_h,rS,EL,DL,OL,jE,By,ux,PA,MA,_h,_h,_h,_h,_h,_h];var Uk=[mh,tI,cI,gI,xI,SI,CI,tP,dP,KI,GI,MP,IP,DP,FP,gw,nS,iS,yS,dM,vC,BS,zS,HS,AL,LL,IL,PL,SE,AE,GE,hR,pR,_R,vR,SR,Ry,NR,OR,YS,JS,sM,lM,WM,HM,oC,sC,pC,DC,kC,zC,eT,nT,aT,pT,AT,zT,GT,hy,py,Ny,Fy,cx,lx,FA,mD,ED,RD,Yb,xn,zx,AC,LC,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh,mh];var zk=[gh,bh,$c,Qc];var Gk=[vh,VI,iA,sA,hA,Yv,vh,vh];var Vk=[yh,qb];var Wk=[xh,nI,rI,iP,cP,Rx,nw,uw,Pw,ow,sw,lw,_x,gx,AS,ES,jS,yC,WS,qS,fL,bL,ME,LE,sR,fR,bR,xR,wy,DR,$S,aM,SM,FM,XM,DT,cC,hC,dC,FC,UC,VC,NC,qC,iT,cT,fT,xT,ST,LT,NT,VT,XT,QT,Jv,Ay,Ey,Py,HD,Vb,nv,Th,_l,hl,Ml,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh,xh];return{_emscripten_bind_btCylinderShape___destroy___0:Lm,_emscripten_bind_btGeneric6DofConstraint_enableFeedback_1:bb,_emscripten_bind_btHingeConstraint_setBreakingImpulseThreshold_1:Pn,_emscripten_bind_btDispatcherInfo_set_m_useContinuous_1:Yg,_emscripten_bind_btCollisionObject_isActive_0:Td,_emscripten_bind_btVehicleTuning_set_m_frictionSlip_1:Xa,_emscripten_bind_btDiscreteDynamicsWorld_btDiscreteDynamicsWorld_4:ug,_emscripten_bind_btCapsuleShapeX_getMargin_0:Qf,_emscripten_bind_btCompoundShape_getMargin_0:s_,_emscripten_bind_RaycastInfo_set_m_wheelDirectionWS_1:Rf,_emscripten_bind_btContactSolverInfo___destroy___0:Z_,_emscripten_bind_ClosestRayResultCallback_get_m_hitPointWorld_0:dp,_emscripten_bind_btPairCachingGhostObject_getCollisionFlags_0:Ii,_emscripten_bind_btQuaternion_setX_1:Ar,_emscripten_bind_btCylinderShapeZ_getMargin_0:Cm,_emscripten_bind_btDispatcherInfo_get_m_timeOfImpact_0:Og,_emscripten_bind_btQuaternion_setZ_1:Er,_emscripten_bind_btCapsuleShapeZ_getMargin_0:od,_emscripten_bind_btKinematicCharacterController_setMaxSlope_1:Jn,_emscripten_bind_btQuadWord_z_0:xr,_emscripten_bind_btVehicleTuning_get_m_suspensionStiffness_0:Ha,_emscripten_bind_btWheelInfo_get_m_suspensionRestLength1_0:cc,_emscripten_bind_btWheelInfo_get_m_suspensionStiffness_0:lc,_emscripten_bind_btGeneric6DofSpring2Constraint_getBreakingImpulseThreshold_0:we,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingThresholdSqr_1:co,_emscripten_bind_RaycastInfo_get_m_wheelAxleWS_0:xf,_emscripten_bind_btRigidBodyConstructionInfo_get_m_angularDamping_0:to,_emscripten_bind_btCollisionDispatcher___destroy___0:_d,_emscripten_bind_btRigidBody_applyCentralImpulse_1:Mo,_emscripten_bind_btConvexHullShape_getMargin_0:om,_emscripten_bind_btDefaultMotionState_getWorldTransform_1:Zm,_emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_1:Cg,_emscripten_bind_btRaycastVehicle_getNumWheels_0:Br,_emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_3:Ag,_emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_2:Tg,_emscripten_bind_btVector3_op_mul_1:pa,_emscripten_bind_btDynamicsWorld_rayTest_3:fb,_emscripten_bind_btRaycastVehicle_updateWheelTransform_2:Hr,_emscripten_bind_btQuadWord_x_0:vr,_emscripten_bind_btCollisionObject_isKinematicObject_0:Ad,_emscripten_bind_btWheelInfo_set_m_chassisConnectionPointCS_1:_c,_emscripten_bind_ConvexResultCallback___destroy___0:kp,_emscripten_bind_btGeneric6DofSpringConstraint_setLinearUpperLimit_1:Ve,_emscripten_bind_ClosestConvexResultCallback_set_m_hitNormalWorld_1:sp,_emscripten_bind_btWheelInfo_set_m_wheelsSuspensionForce_1:Lc,_emscripten_bind_btRigidBody_getCenterOfMassTransform_0:Po,_emscripten_bind_btGhostObject_isKinematicObject_0:nn,_emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_5:ke,_emscripten_bind_btCapsuleShape___destroy___0:cd,_emscripten_bind_btCollisionObject_activate_1:xd,_emscripten_bind_btCollisionObject_activate_0:yd,_emscripten_bind_btGeneric6DofSpring2Constraint_getRotationalLimitMotor_1:Se,_emscripten_bind_btKinematicCharacterController_setUpAxis_1:Kn,_emscripten_bind_btDispatcherInfo_set_m_timeOfImpact_1:Xg,_emscripten_bind_btGeneric6DofSpring2Constraint_setAngularUpperLimit_1:Te,_emscripten_bind_btTranslationalLimitMotor2___destroy___0:Vs,_emscripten_bind_btCollisionDispatcher_btCollisionDispatcher_1:md,_emscripten_bind_btVector3_setX_1:_a,_emscripten_bind_btCollisionConfiguration___destroy___0:dd,_emscripten_bind_btCapsuleShapeZ_setMargin_1:ad,_emscripten_bind_btHingeConstraint_enableFeedback_1:Rn,_emscripten_bind_btSphereShape___destroy___0:Ss,_emscripten_bind_btGeneric6DofConstraint_setAngularLowerLimit_1:yb,_emscripten_bind_btManifoldPoint_set_m_localPointB_1:pi,_emscripten_bind_btVector3_setZ_1:ga,_emscripten_bind_btKinematicCharacterController_setUseGhostSweepTest_1:$n,_emscripten_bind_btQuaternion_setValue_4:Cr,_emscripten_bind_btDynamicsWorld_getBroadphase_0:cb,_emscripten_bind_LocalShapeInfo___destroy___0:tf,_emscripten_bind_btPoint2PointConstraint_get_m_setting_0:cr,_emscripten_bind_btQuadWord_setY_1:mr,_emscripten_bind_btRigidBodyConstructionInfo_set_m_restitution_1:bo,_emscripten_bind_btDefaultMotionState_get_m_graphicsWorldTrans_0:Jm,_emscripten_bind_btSliderConstraint_btSliderConstraint_5:_s,_emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_3:lg,_emscripten_bind_btPairCachingGhostObject_btPairCachingGhostObject_0:Ei,_emscripten_bind_btDiscreteDynamicsWorld_getSolverInfo_0:vg,_emscripten_bind_btCylinderShape_setMargin_1:Dm,_emscripten_bind_btCollisionWorld___destroy___0:Gd,_emscripten_bind_LocalConvexResult_get_m_hitPointLocal_0:qp,_emscripten_bind_btBoxShape_btBoxShape_1:jf,_emscripten_bind_btPersistentManifold_getBody1_0:$i,_emscripten_bind_ClosestRayResultCallback_set_m_collisionObject_1:yp,_emscripten_bind_RaycastInfo_set_m_isInContact_1:Af,_emscripten_bind_btKinematicCharacterController_setGravity_1:qn,_emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_5:gb,_emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_3:mb,_emscripten_bind_btQuaternion_setY_1:Lr,_emscripten_bind_btWheelInfo_get_m_rollInfluence_0:sc,_emscripten_bind_btTypedConstraint_setBreakingImpulseThreshold_1:ra,_emscripten_bind_btBvhTriangleMeshShape_setLocalScaling_1:Zf,_emscripten_bind_btPoint2PointConstraint_setBreakingImpulseThreshold_1:lr,_emscripten_bind_btDynamicsWorld_getDispatchInfo_0:lb,_emscripten_bind_btCompoundShape_removeChildShapeByIndex_1:c_,_emscripten_bind_btGeneric6DofSpring2Constraint_enableSpring_2:xe,_emscripten_bind_btVector3_length_0:la,_emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_2:fm,_emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_1:pm,_emscripten_bind_ClosestConvexResultCallback_set_m_hitPointWorld_1:ap,_emscripten_bind_RayResultCallback_set_m_collisionFilterMask_1:pf,_emscripten_bind_btBoxShape_getMargin_0:zf,_emscripten_bind_btPairCachingGhostObject___destroy___0:Ti,_emscripten_bind_btPairCachingGhostObject_activate_0:Ai,_emscripten_bind_btPairCachingGhostObject_activate_1:Li,_emscripten_bind_btContactSolverInfo_get_m_splitImpulsePenetrationThreshold_0:J_,_emscripten_bind_btPairCachingGhostObject_forceActivationState_1:Ri,_emscripten_bind_btDefaultMotionState___destroy___0:zm,_emscripten_bind_btDispatcherInfo_get_m_stepCount_0:kg,_emscripten_bind_btRigidBodyConstructionInfo_set_m_angularDamping_1:po,_emscripten_bind_btQuadWord_setW_1:dr,_emscripten_bind_btRigidBodyConstructionInfo_get_m_friction_0:no,_emscripten_bind_btCapsuleShapeX_btCapsuleShapeX_2:Kf,_emscripten_bind_LocalShapeInfo_set_m_shapePart_1:rf,_emscripten_bind_btRigidBody_setLinearFactor_1:$o,_emscripten_bind_btDispatcherInfo_set_m_useConvexConservativeDistanceUtil_1:Zg,_emscripten_bind_btWheelInfo_get_m_engineForce_0:ec,_emscripten_bind_btRaycastVehicle_setSteeringValue_2:Wr,_emscripten_enum_RotateOrder_RO_YXZ:Ic,_emscripten_bind_btPoint2PointConstraint___destroy___0:er,_emscripten_bind_btGeneric6DofConstraint_setAngularUpperLimit_1:xb,_emscripten_bind_btDiscreteDynamicsWorld_addConstraint_2:ag,_emscripten_bind_btDiscreteDynamicsWorld_addConstraint_1:sg,_emscripten_bind_btRigidBodyConstructionInfo_set_m_angularSleepingThreshold_1:fo,_malloc:Jc,_emscripten_bind_btDispatcherInfo_get_m_useEpa_0:jg,_memmove:Nl,_emscripten_bind_btTransform_btTransform_2:Ns,_emscripten_bind_btTransform_btTransform_0:Os,_emscripten_bind_btVector3_op_sub_1:fa,_emscripten_bind_btWheelInfo_set_m_wheelsRadius_1:Ac,_emscripten_bind_btDispatcherInfo_set_m_enableSPU_1:Vg,_emscripten_bind_btWheelInfo_set_m_wheelsDampingCompression_1:Cc,_emscripten_bind_btCollisionObject_setActivationState_1:Ld,_emscripten_bind_btPersistentManifold___destroy___0:Zi,_emscripten_bind_btConstraintSetting_get_m_impulseClamp_0:V_,_emscripten_bind_btCylinderShapeZ___destroy___0:wm,_emscripten_bind_btMatrix3x3___destroy___0:mi,_emscripten_bind_ConvexResultCallback_hasHit_0:Bp,_emscripten_bind_btCollisionShape_calculateLocalInertia_2:Ud,_emscripten_bind_btGeneric6DofSpringConstraint_setBreakingImpulseThreshold_1:Ue,_emscripten_bind_btCollisionWorld_convexSweepTest_5:Yd,_emscripten_bind_ClosestRayResultCallback_set_m_hitPointWorld_1:wp,_emscripten_bind_btCapsuleShapeX_calculateLocalInertia_2:$f,_emscripten_bind_btConstraintSetting_set_m_damping_1:H_,_emscripten_bind_btVehicleRaycaster___destroy___0:Ba,_emscripten_bind_btRigidBody_setCcdMotionThreshold_1:Wo,_emscripten_bind_btConvexHullShape_setMargin_1:am,_emscripten_bind_btRigidBody_applyForce_2:Co,_emscripten_bind_btConeShapeZ_calculateLocalInertia_2:y_,_emscripten_bind_btConstraintSetting_set_m_tau_1:q_,_emscripten_bind_btConvexHullShape_calculateLocalInertia_2:rm,_emscripten_bind_RaycastInfo_get_m_contactPointWS_0:mf,_emscripten_bind_btSphereShape_calculateLocalInertia_2:Cs,_emscripten_bind_btWheelInfo_get_m_chassisConnectionPointCS_0:tc,_emscripten_bind_btDynamicsWorld_contactTest_2:sb,_emscripten_bind_ClosestRayResultCallback_get_m_rayToWorld_0:mp,_emscripten_bind_btGhostObject_setFriction_1:hn,_emscripten_bind_btCollisionWorld_rayTest_3:Qd,_emscripten_bind_btRigidBody_setCcdSweptSphereRadius_1:Ho,_emscripten_bind_btCylinderShapeZ_setMargin_1:Am,_emscripten_bind_btRigidBody_setFriction_1:Ko,_emscripten_bind_LocalConvexResult_set_m_hitPointLocal_1:$p,_emscripten_bind_btGhostObject_setWorldTransform_1:dn,_emscripten_bind_btDiscreteDynamicsWorld_removeRigidBody_1:Sg,_emscripten_bind_btTranslationalLimitMotor2_set_m_currentLinearDiff_1:Hs,_emscripten_bind_btConvexHullShape___destroy___0:tm,_emscripten_bind_btDiscreteDynamicsWorld_getBroadphase_0:dg,_emscripten_bind_btVector4_setX_1:Ia,_emscripten_bind_btKinematicCharacterController_jump_0:Gn,_emscripten_bind_btWheelInfo_set_m_raycastInfo_1:yc,_emscripten_bind_btConeTwistConstraint_setMaxMotorImpulseNormalized_1:N_,_emscripten_bind_btConvexTriangleMeshShape_setLocalScaling_1:_m,_emscripten_bind_btRigidBody_upcast_1:ss,_emscripten_bind_btCollisionObject_getWorldTransform_0:Cd,_emscripten_bind_btVector4_setZ_1:Da,_emscripten_bind_btManifoldPoint_set_m_positionWorldOnB_1:_i,___cxa_can_catch:Tl,_emscripten_bind_btTransform_getBasis_0:Fs,_emscripten_bind_btPairCachingGhostObject_setFriction_1:Hi,_emscripten_bind_btManifoldPoint___destroy___0:ni,_emscripten_bind_btDispatcherInfo_set_m_useEpa_1:Jg,_emscripten_bind_btCollisionDispatcher_getNumManifolds_0:bd,_emscripten_bind_btWheelInfo_set_m_bIsFrontWheel_1:dc,_emscripten_bind_ClosestRayResultCallback___destroy___0:lp,_emscripten_bind_btGeneric6DofSpringConstraint_setStiffness_2:We,_emscripten_bind_btCylinderShapeX_setMargin_1:xm,_emscripten_bind_btQuadWord_w_0:br,_emscripten_bind_btGhostObject_setCcdMotionThreshold_1:sn,_emscripten_bind_btDiscreteDynamicsWorld_contactTest_2:pg,_emscripten_bind_btGeneric6DofSpring2Constraint_btGeneric6DofSpring2Constraint_3:be,_emscripten_bind_btBvhTriangleMeshShape_calculateLocalInertia_2:Yf,_emscripten_bind_btCompoundShape_getNumChildShapes_0:a_,_emscripten_bind_btGhostObject_btGhostObject_0:Ye,_emscripten_bind_ClosestConvexResultCallback_ClosestConvexResultCallback_2:Hh,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingFactor_1:ao,_emscripten_bind_btManifoldPoint_set_m_localPointA_1:hi,_emscripten_bind_LocalConvexResult___destroy___0:Vp,_emscripten_bind_btVector3_dot_1:ca,_emscripten_bind_btVector4_op_add_1:Aa,_emscripten_bind_btWheelInfo___destroy___0:$a,_emscripten_bind_btTransform_setRotation_1:Gs,_emscripten_bind_btPairCachingGhostObject_getNumOverlappingObjects_0:Di,_emscripten_bind_btPoint2PointConstraint_enableFeedback_1:rr,_emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterGroup_1:bp,_emscripten_bind_btAxisSweep3_btAxisSweep3_2:kf,_emscripten_bind_btAxisSweep3_btAxisSweep3_3:Of,_emscripten_bind_btDynamicsWorld___destroy___0:tb,_emscripten_bind_btVector3_setY_1:ma,_emscripten_bind_btAxisSweep3_btAxisSweep3_4:Nf,_emscripten_bind_btAxisSweep3_btAxisSweep3_5:Ff,_emscripten_bind_btQuadWord_setX_1:_r,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalLinearDampingThresholdSqr_0:Qr,_emscripten_bind_btGhostObject_isActive_0:en,_emscripten_bind_btOverlappingPairCache___destroy___0:Si,_emscripten_bind_btVector3_normalize_0:ua,_emscripten_bind_btConstraintSetting___destroy___0:U_,_emscripten_bind_RayResultCallback___destroy___0:sf,_emscripten_bind_RaycastInfo_get_m_contactNormalWS_0:_f,_emscripten_bind_btTranslationalLimitMotor2_get_m_currentLinearDiff_0:Ws,_emscripten_bind_btPersistentManifold_getBody0_0:Ki,_emscripten_bind_btConeShapeX_btConeShapeX_2:__,_emscripten_bind_btQuaternion_z_0:Dr,_emscripten_bind_btConeTwistConstraint_enableFeedback_1:E_,_emscripten_bind_btStaticPlaneShape_calculateLocalInertia_2:Is,_emscripten_bind_btCapsuleShapeZ_setLocalScaling_1:sd,_emscripten_bind_btRigidBody_applyTorque_1:Lo,_emscripten_bind_btSliderConstraint_setUpperLinLimit_1:ws,_emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_2:A_,_emscripten_bind_btConcaveShape___destroy___0:h_,_emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_4:L_,_emscripten_bind_btQuaternion_x_0:Ir,_emscripten_bind_LocalConvexResult_set_m_hitNormalLocal_1:Kp,_emscripten_bind_btConcaveShape_setLocalScaling_1:f_,_emscripten_bind_btDiscreteDynamicsWorld_getDispatchInfo_0:_g,_emscripten_bind_btConeShapeX_setLocalScaling_1:g_,_emscripten_bind_btCylinderShapeZ_setLocalScaling_1:Tm,_emscripten_bind_btConvexHullShape_btConvexHullShape_0:im,_emscripten_bind_btWheelInfo_set_m_maxSuspensionForce_1:bc,_emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterMask_1:vp,_emscripten_bind_btRotationalLimitMotor2___destroy___0:cs,_emscripten_bind_btGhostObject___destroy___0:He,_emscripten_bind_btGhostObject_setContactProcessingThreshold_1:un,_emscripten_bind_btCollisionWorld_getBroadphase_0:Zd,_emscripten_bind_btQuaternion___destroy___0:wr,_emscripten_bind_btCollisionDispatcher_getManifoldByIndexInternal_1:gd,_emscripten_bind_btDefaultMotionState_btDefaultMotionState_2:Ym,_emscripten_bind_btDefaultMotionState_btDefaultMotionState_0:Gm,_emscripten_bind_btDefaultMotionState_btDefaultMotionState_1:qm,_pthread_self:Bl,_emscripten_bind_btCompoundShape_getChildShape_1:o_,_emscripten_bind_btKinematicCharacterController_canJump_0:Bn,_emscripten_bind_btVector4_length_0:Ca,_emscripten_bind_btRigidBody_isActive_0:Bo,_emscripten_bind_btRaycastVehicle_btRaycastVehicle_3:Fr,_emscripten_bind_btMotionState_setWorldTransform_1:wi,_emscripten_bind_btCylinderShape_setLocalScaling_1:Pm,_emscripten_bind_btPairCachingGhostObject_getWorldTransform_0:Oi,_emscripten_bind_btCompoundShape_calculateLocalInertia_2:r_,_emscripten_bind_btCollisionWorld_getDispatchInfo_0:Jd,_emscripten_bind_btRigidBody_setCollisionShape_1:Yo,_emscripten_bind_btConeShapeX___destroy___0:d_,_emscripten_bind_btCollisionObject_getCollisionFlags_0:Sd,_emscripten_bind_btDispatcherInfo_set_m_enableSatConvex_1:Wg,_emscripten_bind_btConeTwistConstraint_enableMotor_1:R_,_emscripten_bind_btRaycastVehicle_setCoordinateSystem_3:Vr,_emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_4:Fn,_emscripten_bind_btPairCachingGhostObject_setRestitution_1:Xi,_emscripten_bind_btBroadphaseInterface___destroy___0:Wf,_emscripten_bind_btSliderConstraint_getBreakingImpulseThreshold_0:gs,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDampingFactor_1:lo,_emscripten_bind_btCollisionObject_setContactProcessingThreshold_1:kd,_emscripten_bind_btCompoundShape___destroy___0:t_,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingFactor_0:Zr,_emscripten_bind_btCapsuleShapeX_setMargin_1:ed,_emscripten_bind_btSequentialImpulseConstraintSolver___destroy___0:hs,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalLinearDampingThresholdSqr_1:ho,_emscripten_bind_btRigidBody_getCollisionFlags_0:Do,_emscripten_bind_btCollisionShape_setLocalScaling_1:zd,_emscripten_bind_ClosestConvexResultCallback_get_m_closestHitFraction_0:qh,_emscripten_bind_LocalConvexResult_get_m_hitCollisionObject_0:Wp,_emscripten_bind_btMatrix3x3_setEulerZYX_3:vi,_emscripten_bind_btRigidBody_setRollingFriction_1:is,_emscripten_bind_btDispatcherInfo_get_m_convexConservativeDistanceThreshold_0:Rg,_emscripten_bind_ClosestRayResultCallback_get_m_hitNormalWorld_0:fp,_emscripten_bind_btRigidBody_setMotionState_1:es,_emscripten_bind_RayResultCallback_get_m_collisionFilterMask_0:cf,_emscripten_bind_btCollisionWorld_getDispatcher_0:Kd,_emscripten_bind_btVector4_dot_1:Ma,_emscripten_bind_btCollisionObject_setRollingFriction_1:Fd,_emscripten_bind_RayResultCallback_set_m_collisionFilterGroup_1:hf,_emscripten_bind_btTriangleMesh_btTriangleMesh_1:Qs,_emscripten_bind_btRotationalLimitMotor2_get_m_currentPosition_0:ls,_i64Subtract:El,_emscripten_bind_btCylinderShapeX_getMargin_0:vm,_emscripten_bind_btRigidBody_setDamping_2:Jo,_emscripten_bind_btDynamicsWorld_getDispatcher_0:ub,_emscripten_bind_btGhostObject_setCollisionFlags_1:cn,_emscripten_bind_btMatrix3x3_getRotation_1:gi,_emscripten_bind_btWheelInfo_set_m_engineForce_1:mc,_emscripten_bind_btConeTwistConstraint_setMaxMotorImpulse_1:F_,_emscripten_bind_btPersistentManifold_getNumContacts_0:tr,_emscripten_bind_btCylinderShapeX_setLocalScaling_1:ym,_emscripten_bind_btDbvtBroadphase_btDbvtBroadphase_0:Om,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDamping_0:$r,_emscripten_bind_btCompoundShape_setLocalScaling_1:l_,_emscripten_bind_btOverlappingPairCallback___destroy___0:Ci,_emscripten_bind_btDynamicsWorld_convexSweepTest_5:ab,_emscripten_bind_btCylinderShape_calculateLocalInertia_2:Rm,_emscripten_bind_btPairCachingGhostObject_setCcdSweptSphereRadius_1:zi,_emscripten_bind_btRigidBody_getCollisionShape_0:ko,_emscripten_bind_btRigidBody_setContactProcessingThreshold_1:Zo,_emscripten_bind_btRigidBody_getLinearVelocity_0:Oo,_emscripten_bind_btRigidBody_applyImpulse_2:To,_emscripten_bind_btConcaveShape_calculateLocalInertia_2:p_,_emscripten_bind_RaycastInfo_get_m_groundObject_0:gf,_emscripten_bind_btRigidBody_setWorldTransform_1:os,_emscripten_bind_btRigidBody_setAngularVelocity_1:Go,_emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_3:De,_emscripten_bind_btConvexShape_setLocalScaling_1:um,_emscripten_bind_btTriangleMeshShape_calculateLocalInertia_2:qs,_free:Kc,_emscripten_bind_btPairCachingGhostObject_setContactProcessingThreshold_1:Wi,_emscripten_bind_btGeneric6DofConstraint_setLinearUpperLimit_1:Mb,_emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterMask_0:hp,_emscripten_bind_RayResultCallback_hasHit_0:uf,_bitshift64Shl:Pl,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingThresholdSqr_0:Jr,_emscripten_bind_btVehicleTuning_get_m_suspensionDamping_0:Wa,_emscripten_bind_btRaycastVehicle_getWheelTransformWS_1:zr,_emscripten_bind_btQuaternion_normalize_0:Mr,_emscripten_bind_ClosestConvexResultCallback_get_m_convexToWorld_0:Kh,_emscripten_bind_btQuadWord_setZ_1:gr,_emscripten_bind_btConeShapeZ_setLocalScaling_1:x_,_emscripten_bind_btPairCachingGhostObject_setActivationState_1:Bi,_emscripten_bind_btGeneric6DofSpringConstraint___destroy___0:Pe,_emscripten_bind_btConvexTriangleMeshShape___destroy___0:hm,_emscripten_bind_btVehicleTuning_set_m_maxSuspensionTravelCm_1:Ya,_emscripten_bind_btGhostObject_setRollingFriction_1:fn,_emscripten_bind_btCylinderShapeZ_btCylinderShapeZ_1:Sm,_emscripten_bind_btRigidBody_getAngularVelocity_0:Io,_emscripten_bind_btCompoundShape_btCompoundShape_0:n_,_emscripten_bind_btCompoundShape_btCompoundShape_1:i_,_emscripten_bind_btOverlappingPairCache_setInternalGhostPairCallback_1:Mi,_emscripten_bind_btStaticPlaneShape_btStaticPlaneShape_2:Rs,_emscripten_bind_btSphereShape_getMargin_0:Ts,_emscripten_bind_btDispatcherInfo_get_m_useContinuous_0:Fg,_emscripten_bind_btRigidBody_updateInertiaTensor_0:as,_emscripten_bind_btPairCachingGhostObject_setAnisotropicFriction_2:ji,_emscripten_bind_btTransform_setOrigin_1:zs,_emscripten_bind_ClosestRayResultCallback_hasHit_0:gp,_emscripten_bind_btCompoundShape_addChildShape_2:e_,_emscripten_bind_btDispatcher___destroy___0:Kg,_emscripten_bind_btVehicleTuning_get_m_suspensionCompression_0:Va,_emscripten_bind_btDiscreteDynamicsWorld___destroy___0:eg,_emscripten_bind_btConvexShape___destroy___0:cm,_emscripten_bind_btGeneric6DofSpring2Constraint_setLinearLowerLimit_1:Ee,_emscripten_bind_btCapsuleShapeX_setLocalScaling_1:td,_emscripten_bind_btQuadWord_y_0:yr,_emscripten_bind_btCollisionObject_setRestitution_1:Nd,_emscripten_bind_btRigidBody_applyCentralForce_1:So,_emscripten_bind_LocalConvexResult_get_m_hitFraction_0:Hp,_emscripten_bind_btDispatcherInfo_get_m_enableSPU_0:Pg,_emscripten_bind_btQuaternion_w_0:Rr,_emscripten_bind_ConvexResultCallback_get_m_collisionFilterGroup_0:Np,_emscripten_bind_btTransform_getRotation_0:js,_emscripten_bind_btHingeConstraint_btHingeConstraint_6:An,_emscripten_bind_btHingeConstraint_btHingeConstraint_7:Ln,_emscripten_bind_LocalConvexResult_get_m_hitNormalLocal_0:Xp,_emscripten_bind_btHingeConstraint_btHingeConstraint_5:Tn,_emscripten_bind_btHingeConstraint_btHingeConstraint_2:Sn,_emscripten_bind_btHingeConstraint_btHingeConstraint_3:Mn,_emscripten_bind_RaycastInfo___destroy___0:df,_emscripten_bind_btBoxShape_setMargin_1:Vf,_emscripten_bind_ClosestConvexResultCallback_get_m_hitNormalWorld_0:$h,_emscripten_bind_btMatrix3x3_getRow_1:bi,_emscripten_bind_btTypedConstraint___destroy___0:ea,_emscripten_bind_btCylinderShapeX_btCylinderShapeX_1:gm,_emscripten_enum_RotateOrder_RO_XYZ:Ec,_emscripten_bind_btGeneric6DofSpringConstraint_setAngularUpperLimit_1:je,_emscripten_bind_btConeTwistConstraint_setDamping_1:k_,_emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_1:cg,_bitshift64Ashr:Dl,_emscripten_bind_btQuaternion_btQuaternion_4:Sr,_emscripten_bind_btSphereShape_btSphereShape_1:Ms,_emscripten_bind_btWheelInfo_get_m_wheelsSuspensionForce_0:fc,_emscripten_bind_btQuaternion_y_0:Pr,_emscripten_bind_btCollisionWorld_addCollisionObject_1:Vd,_emscripten_bind_btCollisionWorld_addCollisionObject_2:Wd,_emscripten_bind_btCollisionWorld_addCollisionObject_3:Hd,_emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterGroup_1:np,_emscripten_bind_btConeTwistConstraint_setBreakingImpulseThreshold_1:D_,_emscripten_bind_RaycastInfo_get_m_isInContact_0:vf,_emscripten_bind_btGeneric6DofSpring2Constraint_setLinearUpperLimit_1:Re,_emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterGroup_0:Yh,_emscripten_bind_btCapsuleShape_setMargin_1:fd,_emscripten_bind_btDefaultVehicleRaycaster_btDefaultVehicleRaycaster_1:tg,_emscripten_bind_ConcreteContactResultCallback_addSingleResult_7:Ip,_emscripten_bind_btManifoldPoint_get_m_positionWorldOnB_0:ui,_emscripten_bind_btSequentialImpulseConstraintSolver_btSequentialImpulseConstraintSolver_0:ps,_emscripten_bind_btActionInterface___destroy___0:Pf,_emscripten_bind_btDefaultMotionState_setWorldTransform_1:Km,_emscripten_bind_btCollisionWorld_contactTest_2:qd,_emscripten_bind_RayResultCallback_get_m_collisionObject_0:lf,_emscripten_bind_btPoint2PointConstraint_getPivotInA_0:sr,_emscripten_bind_ClosestConvexResultCallback_get_m_convexFromWorld_0:Jh,_emscripten_bind_btVector4_setY_1:Pa,_emscripten_bind_btCompoundShape_setMargin_1:u_,_emscripten_bind_btGhostObject_setRestitution_1:pn,_emscripten_bind_btDynamicsWorld_addCollisionObject_1:nb,_emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterMask_0:Zh,_emscripten_bind_btDynamicsWorld_addCollisionObject_3:rb,_emscripten_bind_btDynamicsWorld_addCollisionObject_2:ib,_emscripten_bind_btDiscreteDynamicsWorld_getDispatcher_0:mg,_emscripten_bind_btWheelInfo_get_m_maxSuspensionTravelCm_0:rc,_emscripten_bind_btVector4_op_mul_1:La,_emscripten_bind_btCylinderShape_btCylinderShape_1:Em,_emscripten_bind_btRotationalLimitMotor2_set_m_currentPosition_1:us,_emscripten_bind_btVector3___destroy___0:oa,_bitshift64Lshr:kl,_emscripten_bind_btRigidBody_setAngularFactor_1:zo,_emscripten_bind_btCylinderShapeZ_calculateLocalInertia_2:Mm,_emscripten_bind_btWheelInfo_set_m_steering_1:wc,_emscripten_bind_btMotionState_getWorldTransform_1:xi,_emscripten_bind_btDynamicsWorld_getSolverInfo_0:pb,_emscripten_bind_btDispatcherInfo_set_m_dispatchFunc_1:Gg,_emscripten_bind_btDispatcherInfo_set_m_convexConservativeDistanceThreshold_1:zg,_emscripten_bind_btGeneric6DofSpring2Constraint_btGeneric6DofSpring2Constraint_5:ve,_emscripten_bind_btVector3_x_0:ba,___cxa_is_pointer_type:Al,_emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_3:qr,_emscripten_bind_btCollisionObject_getCollisionShape_0:Md,_emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_4:Yr,_emscripten_bind_btBoxShape_calculateLocalInertia_2:Uf,_emscripten_bind_btRigidBodyConstructionInfo_set_m_rollingFriction_1:vo,_emscripten_bind_btVector3_z_0:ya,_emscripten_bind_btDefaultMotionState_set_m_graphicsWorldTrans_1:$m,_emscripten_bind_ClosestConvexResultCallback___destroy___0:Xh,_emscripten_bind_btDefaultCollisionConstructionInfo___destroy___0:jm,_emscripten_bind_btCollisionObject_setFriction_1:Od,_emscripten_bind_btDefaultCollisionConfiguration___destroy___0:Nm,_emscripten_bind_btRigidBody_setMassProps_2:ts,_emscripten_bind_btVector3_setValue_3:da,_emscripten_bind_btPairCachingGhostObject_setCcdMotionThreshold_1:Ui,_emscripten_bind_RaycastInfo_get_m_suspensionLength_0:yf,_emscripten_bind_btGhostObject_getCollisionFlags_0:Je,_emscripten_bind_btCapsuleShapeX___destroy___0:Jf,_emscripten_bind_btHingeConstraint_setLimit_4:Dn,_emscripten_bind_btHingeConstraint_setLimit_5:kn,_emscripten_bind_btWheelInfo_get_m_wheelsDampingRelaxation_0:hc,_emscripten_bind_btWheelInfo_set_m_maxSuspensionTravelCm_1:vc,_emscripten_bind_btConeShape_setLocalScaling_1:C_,_emscripten_bind_btKinematicCharacterController_setJumpSpeed_1:Yn,_emscripten_bind_btTypedConstraint_getBreakingImpulseThreshold_0:ia,_emscripten_bind_btGhostObject_getCollisionShape_0:Ke,_emscripten_bind_btCollisionObject_setAnisotropicFriction_2:Ed,_emscripten_bind_btBoxShape___destroy___0:Bf,_emscripten_bind_btWheelInfo_get_m_bIsFrontWheel_0:Qa,_emscripten_bind_btPersistentManifold_getContactPoint_1:Qi,_emscripten_bind_btVector3_btVector3_0:sa,_emscripten_bind_btGeneric6DofSpringConstraint_getBreakingImpulseThreshold_0:Fe,_emscripten_bind_btConeShapeX_calculateLocalInertia_2:m_,_emscripten_bind_RaycastInfo_set_m_groundObject_1:Cf,_emscripten_bind_btGhostObject_activate_1:qe,_emscripten_bind_btGeneric6DofSpringConstraint_enableSpring_2:Ne,_emscripten_bind_btManifoldPoint_getPositionWorldOnB_0:oi,_emscripten_bind_btManifoldPoint_get_m_positionWorldOnA_0:li,_emscripten_bind_btGeneric6DofSpringConstraint_enableFeedback_1:Oe,_emscripten_bind_btSphereShape_setMargin_1:Ls,_emscripten_bind_btRigidBodyConstructionInfo___destroy___0:Xr,_emscripten_bind_btConeShapeZ_btConeShapeZ_2:v_,_emscripten_bind_btContactSolverInfo_set_m_splitImpulsePenetrationThreshold_1:$_,_emscripten_bind_btSliderConstraint_setUpperAngLimit_1:xs,_emscripten_bind_btDynamicsWorld_contactPairTest_3:ob,_emscripten_bind_btCollisionWorld_getPairCache_0:$d,_emscripten_bind_btConeTwistConstraint_setMotorTarget_1:j_,_emscripten_bind_ClosestConvexResultCallback_set_m_convexFromWorld_1:rp,_emscripten_bind_btWheelInfo_set_m_rollInfluence_1:xc,_emscripten_bind_btRigidBody_getWorldTransform_0:Fo,_emscripten_bind_btDefaultCollisionConstructionInfo_btDefaultCollisionConstructionInfo_0:Um,_emscripten_bind_btGhostObject_forceActivationState_1:Ze,_emscripten_bind_ConcreteContactResultCallback_ConcreteContactResultCallback_0:Cp,_emscripten_bind_VoidPtr___destroy___0:If,_emscripten_bind_btSliderConstraint_setLowerAngLimit_1:vs,_emscripten_bind_btVector4_op_sub_1:Ea,_emscripten_bind_RaycastInfo_set_m_contactPointWS_1:Mf,_emscripten_bind_btConeShape_btConeShape_2:S_,_emscripten_bind_ClosestRayResultCallback_get_m_rayFromWorld_0:_p,_emscripten_bind_btRaycastVehicle_getRigidBody_0:jr,_emscripten_enum_RotateOrder_RO_YZX:Pc,_emscripten_bind_RayResultCallback_get_m_collisionFilterGroup_0:af,_emscripten_bind_btWheelInfo_get_m_steering_0:ac,_emscripten_bind_btConstraintSetting_get_m_tau_0:W_,_emscripten_bind_btSliderConstraint___destroy___0:fs,_emscripten_bind_btCollisionObject_setCollisionShape_1:Dd,_emscripten_bind_btCollisionShape___destroy___0:jd,_emscripten_bind_ConvexResultCallback_get_m_closestHitFraction_0:Op,_emscripten_bind_btDispatcherInfo_get_m_dispatchFunc_0:Ig,_emscripten_bind_btRigidBodyConstructionInfo_get_m_rollingFriction_0:so,_emscripten_bind_btPairCachingGhostObject_setCollisionShape_1:Vi,_emscripten_bind_btKinematicCharacterController_warp_1:ei,_emscripten_bind_btAxisSweep3___destroy___0:Df,_emscripten_bind_btTriangleMesh___destroy___0:Zs,_emscripten_bind_btKinematicCharacterController_preStep_1:Hn,_emscripten_bind_btRaycastVehicle_applyEngineForce_2:Nr,_emscripten_bind_btRaycastVehicle_setBrake_2:Gr,_emscripten_bind_ConcreteContactResultCallback___destroy___0:Rp,_emscripten_bind_RaycastInfo_set_m_wheelAxleWS_1:Ef,_emscripten_bind_btGeneric6DofSpring2Constraint_setAngularLowerLimit_1:Ce,_emscripten_bind_btCollisionObject___destroy___0:vd,_emscripten_bind_btVehicleTuning_set_m_suspensionDamping_1:Ja,_emscripten_bind_btRigidBodyConstructionInfo_set_m_linearSleepingThreshold_1:go,_emscripten_bind_btConeTwistConstraint_setMotorTargetInConstraintSpace_1:B_,_emscripten_bind_btDispatcherInfo_set_m_timeStep_1:qg,_emscripten_bind_btVector3_btVector3_3:aa,_emscripten_bind_RaycastInfo_set_m_contactNormalWS_1:Sf,_emscripten_bind_btRigidBodyConstructionInfo_set_m_friction_1:_o,_emscripten_bind_btDiscreteDynamicsWorld_getGravity_0:gg,_emscripten_bind_ClosestConvexResultCallback_get_m_hitPointWorld_0:Qh,_emscripten_bind_btRigidBody_isKinematicObject_0:jo,_emscripten_bind_btGeneric6DofSpring2Constraint_setStiffness_2:Ie,_emscripten_bind_RaycastInfo_get_m_hardPointWS_0:bf,_emscripten_bind_btConeTwistConstraint___destroy___0:T_,_emscripten_bind_btQuadWord___destroy___0:fr,_emscripten_bind_ClosestRayResultCallback_set_m_rayFromWorld_1:Sp,_emscripten_bind_btGeneric6DofSpringConstraint_setDamping_2:ze,_emscripten_bind_RaycastInfo_get_m_wheelDirectionWS_0:wf,_emscripten_bind_btSliderConstraint_setBreakingImpulseThreshold_1:bs,_emscripten_bind_btGhostObject_setAnisotropicFriction_2:on,_emscripten_bind_btConstraintSolver___destroy___0:Y_,_emscripten_bind_btDbvtBroadphase___destroy___0:km,_emscripten_bind_btCapsuleShape_btCapsuleShape_2:ld,_emscripten_bind_btTypedConstraint_enableFeedback_1:na,_emscripten_bind_btGhostObject_activate_0:Xe,_emscripten_bind_btCapsuleShape_setLocalScaling_1:pd,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDampingFactor_0:Kr,_emscripten_bind_btRigidBody_setAnisotropicFriction_2:Vo,_emscripten_bind_btTriangleMeshShape_setLocalScaling_1:Ys,_emscripten_bind_ConvexResultCallback_set_m_closestHitFraction_1:jp,_emscripten_bind_btVector3_op_add_1:ha,_emscripten_bind_btPersistentManifold_btPersistentManifold_0:Ji,_emscripten_bind_ConvexResultCallback_get_m_collisionFilterMask_0:Fp,_emscripten_bind_ClosestRayResultCallback_ClosestRayResultCallback_2:cp,_emscripten_bind_btVector4___destroy___0:xa,_emscripten_bind_btPairCachingGhostObject_isKinematicObject_0:Fi,_emscripten_bind_btConstraintSetting_get_m_damping_0:G_,_i64Add:Rl,_emscripten_bind_btContactSolverInfo_set_m_splitImpulse_1:Q_,_emscripten_bind_btVehicleTuning_set_m_maxSuspensionForce_1:qa,_emscripten_bind_btCollisionObject_setCcdMotionThreshold_1:Rd,_emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_0:Fm,_emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_1:Bm,_emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_3:Nn,_emscripten_bind_btRigidBodyConstructionInfo_get_m_angularSleepingThreshold_0:eo,_emscripten_bind_btPoint2PointConstraint_getPivotInB_0:ar,_emscripten_bind_btKinematicCharacterController_playerStep_2:Wn,_emscripten_bind_btDispatcherInfo___destroy___0:Lg,_emscripten_bind_btCapsuleShape_getMargin_0:hd,_emscripten_bind_btCylinderShape_getMargin_0:Im,_emscripten_bind_btStaticPlaneShape_setLocalScaling_1:Ps,_emscripten_bind_btConvexTriangleMeshShape_calculateLocalInertia_2:dm,_emscripten_bind_ContactResultCallback_addSingleResult_7:Dp,_emscripten_bind_btGhostObject_getWorldTransform_0:tn,_emscripten_bind_btDiscreteDynamicsWorld_getPairCache_0:bg,_emscripten_bind_LocalConvexResult_set_m_hitFraction_1:Jp,_emscripten_bind_btCapsuleShapeZ_calculateLocalInertia_2:rd,_emscripten_bind_btDispatcherInfo_get_m_timeStep_0:Ng,_emscripten_bind_btWheelInfo_get_m_frictionSlip_0:nc,_emscripten_bind_btVehicleTuning_set_m_suspensionCompression_1:Za,_emscripten_bind_btConstraintSetting_set_m_impulseClamp_1:X_,_emscripten_bind_btMotionState___destroy___0:yi,_emscripten_bind_btVector4_z_0:Fa,_emscripten_bind_btCollisionObject_setCollisionFlags_1:Pd,_emscripten_bind_btGeneric6DofSpring2Constraint_getTranslationalLimitMotor_0:Me,_emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_1:ig,_emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_2:rg,_emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_3:og,_emscripten_bind_btWheelInfo_set_m_suspensionStiffness_1:Mc,_emscripten_bind_RaycastInfo_set_m_suspensionLength_1:Lf,_emscripten_bind_btDispatcher_getManifoldByIndexInternal_1:$g,_emscripten_bind_btVector4_setValue_4:Ra,_emscripten_bind_btVector4_normalize_0:Ta,_emscripten_bind_LocalShapeInfo_set_m_triangleIndex_1:of,_emscripten_bind_btPairCachingGhostObject_setWorldTransform_1:Yi,_emscripten_bind_btHingeConstraint_getBreakingImpulseThreshold_0:In,_emscripten_bind_btConeTwistConstraint_setAngularOnly_1:P_,_emscripten_bind_btGhostObject_setCcdSweptSphereRadius_1:an,_emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_4:ir,_emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_2:nr,_emscripten_bind_btGhostObject_getNumOverlappingObjects_0:$e,_emscripten_bind_ConvexResultCallback_set_m_collisionFilterGroup_1:Up,_emscripten_bind_btPairCachingGhostObject_getOverlappingObject_1:ki,_emscripten_bind_btGeneric6DofSpring2Constraint_setDamping_2:Le,_emscripten_bind_btGeneric6DofConstraint_setBreakingImpulseThreshold_1:wb,_emscripten_bind_btPoint2PointConstraint_setPivotA_1:ur,_emscripten_bind_ClosestConvexResultCallback_set_m_convexToWorld_1:op,_memcpy:Ol,_emscripten_bind_btCapsuleShape_calculateLocalInertia_2:ud,_emscripten_bind_btVector3_y_0:va,_emscripten_bind_btVehicleTuning_get_m_maxSuspensionForce_0:za,_emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_2:Xf,_emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_3:qf,_emscripten_bind_LocalShapeInfo_get_m_triangleIndex_0:nf,_emscripten_bind_btGhostObject_setCollisionShape_1:ln,_emscripten_bind_btDispatcherInfo_set_m_allowedCcdPenetration_1:Ug,_emscripten_bind_btQuaternion_setW_1:Tr,_emscripten_bind_btPairCachingGhostObject_setRollingFriction_1:qi,_emscripten_bind_btDiscreteDynamicsWorld_setGravity_1:Mg,_emscripten_bind_btVehicleTuning_set_m_suspensionStiffness_1:Ka,_emscripten_bind_btGeneric6DofSpring2Constraint___destroy___0:Cb,_emscripten_bind_btCollisionObject_forceActivationState_1:wd,_emscripten_bind_btKinematicCharacterController_onGround_0:Vn,_emscripten_bind_btRaycastVehicle_getWheelInfo_1:Ur,_emscripten_bind_btGeneric6DofConstraint_getBreakingImpulseThreshold_0:vb,_emscripten_bind_btConeTwistConstraint_setLimit_2:O_,_emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterMask_1:ip,_emscripten_bind_btRigidBody___destroy___0:yo,_emscripten_bind_btStridingMeshInterface___destroy___0:Ds,_emscripten_bind_btRigidBody_setSleepingThresholds_2:rs,_emscripten_bind_btCollisionObject_setWorldTransform_1:Bd,_emscripten_bind_LocalConvexResult_get_m_localShapeInfo_0:Yp,_emscripten_bind_btManifoldPoint_get_m_localPointA_0:si,_emscripten_bind_btRigidBodyConstructionInfo_get_m_linearDamping_0:io,_emscripten_bind_btGeneric6DofSpring2Constraint_enableFeedback_1:ye,_emscripten_bind_btDispatcher_getNumManifolds_0:Qg,_emscripten_bind_btRigidBodyConstructionInfo_get_m_linearSleepingThreshold_0:ro,_emscripten_bind_btRigidBody_activate_1:wo,_emscripten_bind_btRigidBody_activate_0:xo,_emscripten_bind_btRaycastVehicle___destroy___0:kr,_emscripten_bind_btGhostObject_setActivationState_1:rn,_emscripten_bind_btCollisionWorld_contactPairTest_3:Xd,_emscripten_bind_btCylinderShapeX___destroy___0:mm,_emscripten_bind_btManifoldPoint_getPositionWorldOnA_0:ri,_emscripten_bind_ContactResultCallback___destroy___0:Pp,_emscripten_bind_btDispatcherInfo_set_m_stepCount_1:Hg,_emscripten_bind_btVector4_x_0:Oa,_emscripten_bind_btConstraintSetting_btConstraintSetting_0:z_,_emscripten_bind_btRigidBody_getMotionState_0:No,_emscripten_bind_btKinematicCharacterController_getGhostObject_0:jn,_emscripten_bind_btRigidBody_btRigidBody_1:Eo,_emscripten_bind_btTriangleMeshShape___destroy___0:Xs,_emscripten_bind_btKinematicCharacterController_setWalkDirection_1:ti,_emscripten_bind_btDynamicsWorld_removeAction_1:db,_emscripten_bind_btRigidBodyConstructionInfo_get_m_restitution_0:oo,_emscripten_bind_btTransform_setIdentity_0:Us,_emscripten_bind_btManifoldPoint_set_m_normalWorldOnB_1:fi,_emscripten_bind_btKinematicCharacterController_getGravity_0:Un,_emscripten_bind_btConeTwistConstraint_getBreakingImpulseThreshold_0:I_,_emscripten_bind_btDiscreteDynamicsWorld_addAction_1:ng,_emscripten_bind_btHingeConstraint_btHingeConstraint_4:Cn,_emscripten_bind_LocalShapeInfo_get_m_shapePart_0:ef,_emscripten_bind_btConeShape_calculateLocalInertia_2:M_,_emscripten_bind_btCylinderShapeX_calculateLocalInertia_2:bm,_emscripten_bind_ConvexResultCallback_set_m_collisionFilterMask_1:zp,_llvm_bswap_i32:Fl,_emscripten_enum_RotateOrder_RO_XZY:Rc,_emscripten_bind_btSphereShape_setLocalScaling_1:As,_emscripten_bind_btVector4_w_0:ka,_emscripten_bind_btManifoldPoint_get_m_normalWorldOnB_0:ci,_emscripten_bind_btBvhTriangleMeshShape___destroy___0:Hf,_emscripten_bind_LocalConvexResult_LocalConvexResult_5:Gp,_emscripten_bind_ClosestConvexResultCallback_set_m_closestHitFraction_1:ep,_emscripten_bind_btDiscreteDynamicsWorld_removeConstraint_1:wg,_emscripten_bind_btVector4_y_0:Na,_emscripten_bind_btGeneric6DofConstraint___destroy___0:_b,_emscripten_bind_btVehicleTuning_get_m_maxSuspensionTravelCm_0:Ga,_emscripten_bind_btConvexHullShape_addPoint_1:em,_emscripten_bind_btConvexHullShape_addPoint_2:nm,_emscripten_bind_btPoint2PointConstraint_getBreakingImpulseThreshold_0:or,_emscripten_bind_btTransform_getOrigin_0:Bs,_emscripten_enum_RotateOrder_RO_ZYX:kc,_emscripten_bind_btHingeConstraint___destroy___0:wn,_emscripten_bind_btConvexShape_calculateLocalInertia_2:lm,_memset:Il,_emscripten_bind_btKinematicCharacterController___destroy___0:On,_emscripten_bind_btConvexHullShape_setLocalScaling_1:sm,_emscripten_bind_btTriangleMesh_btTriangleMesh_0:$s,_emscripten_bind_btPairCachingGhostObject_getCollisionShape_0:Pi,_emscripten_bind_btTriangleMesh_btTriangleMesh_2:ta,_emscripten_bind_btTransform___destroy___0:ks,_emscripten_bind_btWheelInfo_set_m_frictionSlip_1:gc,_emscripten_bind_btHingeConstraint_enableAngularMotor_3:En,_emscripten_bind_btManifoldPoint_set_m_positionWorldOnA_1:di,_emscripten_bind_btRigidBody_setCenterOfMassTransform_1:Xo,_emscripten_bind_btManifoldPoint_get_m_localPointB_0:ai,_emscripten_bind_btDiscreteDynamicsWorld_contactPairTest_3:hg,_emscripten_bind_btSliderConstraint_setLowerLinLimit_1:ys,_emscripten_bind_btPoint2PointConstraint_set_m_setting_1:pr,_emscripten_bind_btCollisionObject_setCcdSweptSphereRadius_1:Id,_emscripten_bind_btWheelInfo_get_m_wheelsRadius_0:pc,_emscripten_bind_btRigidBody_setLinearVelocity_1:Qo,_emscripten_bind_btVehicleTuning_btVehicleTuning_0:ja,_emscripten_bind_RayResultCallback_set_m_collisionObject_1:ff,_emscripten_bind_ClosestRayResultCallback_set_m_rayToWorld_1:Mp,_emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterGroup_0:up,_emscripten_bind_btWheelInfo_set_m_wheelsDampingRelaxation_1:Tc,_emscripten_bind_btDynamicsWorld_addAction_1:eb,_emscripten_bind_btDiscreteDynamicsWorld_removeAction_1:xg,_emscripten_bind_btDefaultVehicleRaycaster___destroy___0:Qm,_emscripten_bind_btRigidBodyConstructionInfo_set_m_linearDamping_1:mo,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDamping_1:uo,_emscripten_bind_btKinematicCharacterController_setFallSpeed_1:Xn,_emscripten_bind_btRigidBody_setActivationState_1:Uo,_emscripten_bind_btWheelInfo_get_m_wheelsDampingCompression_0:uc,_emscripten_bind_ClosestConvexResultCallback_hasHit_0:tp,_emscripten_bind_btCapsuleShapeZ___destroy___0:nd,_emscripten_bind_btWheelInfo_get_m_maxSuspensionForce_0:ic,_emscripten_bind_ClosestRayResultCallback_get_m_collisionObject_0:pp,_emscripten_bind_btTriangleMesh_addTriangle_3:Js,_emscripten_bind_btGhostObject_getOverlappingObject_1:Qe,_emscripten_bind_btTriangleMesh_addTriangle_4:Ks,_emscripten_bind_btRigidBody_applyTorqueImpulse_1:Ao,_emscripten_bind_btRigidBody_setCollisionFlags_1:qo,_emscripten_bind_btWheelInfo_set_m_suspensionRestLength1_1:Sc,_emscripten_bind_btConeShape___destroy___0:w_,_emscripten_bind_btCapsuleShapeZ_btCapsuleShapeZ_2:id,_emscripten_bind_btGeneric6DofSpring2Constraint_setBreakingImpulseThreshold_1:Ae,_emscripten_bind_btSliderConstraint_btSliderConstraint_3:ds,_emscripten_bind_btDispatcherInfo_get_m_allowedCcdPenetration_0:Eg,_emscripten_bind_RaycastInfo_set_m_hardPointWS_1:Tf,_emscripten_bind_btRigidBody_forceActivationState_1:Ro,_emscripten_bind_btPoint2PointConstraint_setPivotB_1:hr,_emscripten_bind_btManifoldPoint_getDistance_0:ii,_emscripten_bind_btGhostPairCallback___destroy___0:_n,_emscripten_bind_btKinematicCharacterController_getMaxSlope_0:zn,_emscripten_bind_btSliderConstraint_enableFeedback_1:ms,_emscripten_bind_btRaycastVehicle_addWheel_7:Or,_emscripten_bind_btPairCachingGhostObject_isActive_0:Ni,_emscripten_bind_LocalConvexResult_set_m_localShapeInfo_1:Qp,_emscripten_bind_btStaticPlaneShape___destroy___0:Es,_emscripten_bind_btDispatcherInfo_get_m_useConvexConservativeDistanceUtil_0:Bg,_emscripten_bind_btBoxShape_setLocalScaling_1:Gf,_emscripten_bind_btConeShapeZ___destroy___0:b_,_emscripten_bind_btDynamicsWorld_getPairCache_0:hb,_emscripten_bind_btDiscreteDynamicsWorld_convexSweepTest_5:fg,_emscripten_bind_btKinematicCharacterController_setVelocityForTimeInterval_2:Qn,_emscripten_bind_btRigidBody_setRestitution_1:ns,_emscripten_bind_btVector4_btVector4_0:wa,_emscripten_bind_btDispatcherInfo_get_m_enableSatConvex_0:Dg,_emscripten_bind_btVector4_btVector4_4:Sa,_emscripten_bind_btGeneric6DofConstraint_setLinearLowerLimit_1:Sb,_emscripten_bind_btGeneric6DofSpringConstraint_setLinearLowerLimit_1:Ge,_emscripten_enum_RotateOrder_RO_ZXY:Dc,_emscripten_bind_LocalConvexResult_set_m_hitCollisionObject_1:Zp,_emscripten_bind_btPairCachingGhostObject_setCollisionFlags_1:Gi,_emscripten_bind_btGeneric6DofSpringConstraint_setAngularLowerLimit_1:Be,_emscripten_bind_btDiscreteDynamicsWorld_rayTest_3:yg,_emscripten_bind_btWheelInfo_get_m_raycastInfo_0:oc,_emscripten_bind_btContactSolverInfo_get_m_splitImpulse_0:K_,_emscripten_bind_btGhostPairCallback_btGhostPairCallback_0:mn,_emscripten_bind_btKinematicCharacterController_setMaxJumpHeight_1:Zn,_emscripten_bind_ClosestRayResultCallback_set_m_hitNormalWorld_1:xp,_emscripten_bind_btVehicleTuning_get_m_frictionSlip_0:Ua,__GLOBAL__sub_I_btConeTwistConstraint_cpp:BA,__GLOBAL__sub_I_btQuickprof_cpp:Gh,runPostSets:Ll,stackAlloc:zR,stackSave:GR,stackRestore:VR,establishStackSpace:WR,setThrew:HR,setTempRet0:YR,getTempRet0:ZR,dynCall_viiiii:ql,dynCall_vid:Yl,dynCall_vi:Zl,dynCall_viiidii:Jl,dynCall_vii:Kl,dynCall_iiiiiiiiiii:$l,dynCall_ii:Ql,dynCall_viidi:tu,dynCall_viddiii:eu,dynCall_vidii:nu,dynCall_iiiii:iu,dynCall_vidi:ru,dynCall_diiiiiiii:ou,dynCall_viiiiddddiid:su,dynCall_diiiii:au,dynCall_iiii:cu,dynCall_viiiiii:lu,dynCall_iiid:uu,dynCall_di:hu,dynCall_iiiiiii:pu,dynCall_diiidii:fu,dynCall_viidii:du,dynCall_viiiiiii:_u,dynCall_viiiiiiiii:mu,dynCall_viiiiiiiiii:gu,dynCall_iii:bu,dynCall_diii:vu,dynCall_diiiiiiiiii:yu,dynCall_viiiid:xu,dynCall_diiiiiiiii:wu,dynCall_did:Su,dynCall_viiiidddddidi:Mu,dynCall_diidii:Cu,dynCall_diiii:Tu,dynCall_iiiiiiiiii:Au,dynCall_viiid:Lu,dynCall_viii:Eu,dynCall_v:Ru,dynCall_viid:Iu,dynCall_iidid:Pu,dynCall_viiii:Du}}(o.asmGlobalArg,o.asmLibraryArg,A),_n=o._emscripten_bind_btCylinderShape___destroy___0=dn._emscripten_bind_btCylinderShape___destroy___0,mn=o._emscripten_bind_btGeneric6DofConstraint_enableFeedback_1=dn._emscripten_bind_btGeneric6DofConstraint_enableFeedback_1,gn=o._emscripten_bind_btDispatcherInfo_get_m_enableSPU_0=dn._emscripten_bind_btDispatcherInfo_get_m_enableSPU_0,bn=o._emscripten_bind_btDispatcherInfo_set_m_useContinuous_1=dn._emscripten_bind_btDispatcherInfo_set_m_useContinuous_1,vn=o._emscripten_bind_btCollisionObject_isActive_0=dn._emscripten_bind_btCollisionObject_isActive_0,yn=o._emscripten_bind_btVehicleTuning_set_m_frictionSlip_1=dn._emscripten_bind_btVehicleTuning_set_m_frictionSlip_1,xn=o._emscripten_bind_btDiscreteDynamicsWorld_btDiscreteDynamicsWorld_4=dn._emscripten_bind_btDiscreteDynamicsWorld_btDiscreteDynamicsWorld_4,wn=o._emscripten_bind_btCapsuleShapeX_getMargin_0=dn._emscripten_bind_btCapsuleShapeX_getMargin_0,Sn=o._emscripten_bind_btCompoundShape_getMargin_0=dn._emscripten_bind_btCompoundShape_getMargin_0,Mn=o._emscripten_bind_RaycastInfo_set_m_wheelDirectionWS_1=dn._emscripten_bind_RaycastInfo_set_m_wheelDirectionWS_1,Cn=o._emscripten_bind_btAxisSweep3___destroy___0=dn._emscripten_bind_btAxisSweep3___destroy___0,Tn=o._emscripten_bind_ClosestRayResultCallback_get_m_hitPointWorld_0=dn._emscripten_bind_ClosestRayResultCallback_get_m_hitPointWorld_0,An=o._emscripten_bind_btTypedConstraint_setBreakingImpulseThreshold_1=dn._emscripten_bind_btTypedConstraint_setBreakingImpulseThreshold_1,Ln=o._emscripten_bind_btQuaternion_setX_1=dn._emscripten_bind_btQuaternion_setX_1,En=o._emscripten_bind_btCylinderShapeZ_getMargin_0=dn._emscripten_bind_btCylinderShapeZ_getMargin_0,Rn=o._emscripten_bind_btDispatcherInfo_get_m_timeOfImpact_0=dn._emscripten_bind_btDispatcherInfo_get_m_timeOfImpact_0,In=o._emscripten_bind_btQuaternion_setZ_1=dn._emscripten_bind_btQuaternion_setZ_1,Pn=o._emscripten_bind_LocalConvexResult_get_m_hitNormalLocal_0=dn._emscripten_bind_LocalConvexResult_get_m_hitNormalLocal_0,Dn=o._emscripten_bind_btKinematicCharacterController_setMaxSlope_1=dn._emscripten_bind_btKinematicCharacterController_setMaxSlope_1,kn=o._emscripten_bind_btQuadWord_z_0=dn._emscripten_bind_btQuadWord_z_0,On=o._emscripten_bind_btTransform_setIdentity_0=dn._emscripten_bind_btTransform_setIdentity_0,Nn=o._emscripten_bind_btWheelInfo_get_m_suspensionRestLength1_0=dn._emscripten_bind_btWheelInfo_get_m_suspensionRestLength1_0,Fn=o._emscripten_bind_btWheelInfo_get_m_suspensionStiffness_0=dn._emscripten_bind_btWheelInfo_get_m_suspensionStiffness_0,Bn=o._emscripten_bind_btGeneric6DofSpring2Constraint_getBreakingImpulseThreshold_0=dn._emscripten_bind_btGeneric6DofSpring2Constraint_getBreakingImpulseThreshold_0,jn=o._emscripten_bind_btQuaternion_setW_1=dn._emscripten_bind_btQuaternion_setW_1,Un=o._emscripten_bind_RaycastInfo_get_m_wheelAxleWS_0=dn._emscripten_bind_RaycastInfo_get_m_wheelAxleWS_0,zn=o._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularDamping_0=dn._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularDamping_0,Gn=o._emscripten_bind_btCollisionDispatcher___destroy___0=dn._emscripten_bind_btCollisionDispatcher___destroy___0,Vn=o._emscripten_bind_btRigidBody_applyCentralImpulse_1=dn._emscripten_bind_btRigidBody_applyCentralImpulse_1,Wn=o._emscripten_bind_btConvexHullShape_getMargin_0=dn._emscripten_bind_btConvexHullShape_getMargin_0,Hn=o._emscripten_bind_btDefaultMotionState_getWorldTransform_1=dn._emscripten_bind_btDefaultMotionState_getWorldTransform_1,Xn=o._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_1=dn._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_1,qn=o._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_3=dn._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_3,Yn=o._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_2=dn._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_2,Zn=o._emscripten_bind_btVector3_op_mul_1=dn._emscripten_bind_btVector3_op_mul_1,Jn=o._emscripten_bind_btDynamicsWorld_rayTest_3=dn._emscripten_bind_btDynamicsWorld_rayTest_3,Kn=o._emscripten_bind_btRaycastVehicle_updateWheelTransform_2=dn._emscripten_bind_btRaycastVehicle_updateWheelTransform_2,$n=o._emscripten_bind_btQuadWord_x_0=dn._emscripten_bind_btQuadWord_x_0,Qn=o._emscripten_bind_btCollisionObject_isKinematicObject_0=dn._emscripten_bind_btCollisionObject_isKinematicObject_0,ti=o._emscripten_bind_btWheelInfo_set_m_chassisConnectionPointCS_1=dn._emscripten_bind_btWheelInfo_set_m_chassisConnectionPointCS_1,ei=o._emscripten_bind_btSphereShape___destroy___0=dn._emscripten_bind_btSphereShape___destroy___0,ni=o._emscripten_bind_btGeneric6DofSpringConstraint_setLinearUpperLimit_1=dn._emscripten_bind_btGeneric6DofSpringConstraint_setLinearUpperLimit_1,ii=o._emscripten_bind_ClosestConvexResultCallback_set_m_hitNormalWorld_1=dn._emscripten_bind_ClosestConvexResultCallback_set_m_hitNormalWorld_1,ri=o._emscripten_bind_btRigidBody_getCenterOfMassTransform_0=dn._emscripten_bind_btRigidBody_getCenterOfMassTransform_0,oi=o._emscripten_bind_btGhostObject_isKinematicObject_0=dn._emscripten_bind_btGhostObject_isKinematicObject_0,si=o._emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_5=dn._emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_5,ai=o._emscripten_bind_btCapsuleShape___destroy___0=dn._emscripten_bind_btCapsuleShape___destroy___0,ci=o._emscripten_bind_btCollisionObject_activate_1=dn._emscripten_bind_btCollisionObject_activate_1,li=o._emscripten_bind_btCollisionObject_activate_0=dn._emscripten_bind_btCollisionObject_activate_0,ui=o._emscripten_bind_btGeneric6DofSpring2Constraint_getRotationalLimitMotor_1=dn._emscripten_bind_btGeneric6DofSpring2Constraint_getRotationalLimitMotor_1,hi=o._emscripten_bind_btKinematicCharacterController_setUpAxis_1=dn._emscripten_bind_btKinematicCharacterController_setUpAxis_1,pi=o._emscripten_bind_btDispatcherInfo_set_m_timeOfImpact_1=dn._emscripten_bind_btDispatcherInfo_set_m_timeOfImpact_1,fi=o._emscripten_bind_btGeneric6DofSpring2Constraint_setAngularUpperLimit_1=dn._emscripten_bind_btGeneric6DofSpring2Constraint_setAngularUpperLimit_1,di=o._emscripten_bind_btTranslationalLimitMotor2___destroy___0=dn._emscripten_bind_btTranslationalLimitMotor2___destroy___0,_i=o._emscripten_bind_btCollisionDispatcher_btCollisionDispatcher_1=dn._emscripten_bind_btCollisionDispatcher_btCollisionDispatcher_1,mi=o._emscripten_bind_btVector3_setX_1=dn._emscripten_bind_btVector3_setX_1,gi=o._emscripten_bind_btCollisionConfiguration___destroy___0=dn._emscripten_bind_btCollisionConfiguration___destroy___0,bi=o._emscripten_bind_btCapsuleShapeZ_setMargin_1=dn._emscripten_bind_btCapsuleShapeZ_setMargin_1,vi=o._emscripten_bind_btHingeConstraint_enableFeedback_1=dn._emscripten_bind_btHingeConstraint_enableFeedback_1,yi=o._emscripten_bind_btManifoldPoint_set_m_positionWorldOnB_1=dn._emscripten_bind_btManifoldPoint_set_m_positionWorldOnB_1,xi=o._emscripten_bind_btManifoldPoint_set_m_localPointB_1=dn._emscripten_bind_btManifoldPoint_set_m_localPointB_1,wi=o._emscripten_bind_btVector3_setZ_1=dn._emscripten_bind_btVector3_setZ_1,Si=o._emscripten_bind_btKinematicCharacterController_setUseGhostSweepTest_1=dn._emscripten_bind_btKinematicCharacterController_setUseGhostSweepTest_1,Mi=o._emscripten_bind_btQuaternion_setValue_4=dn._emscripten_bind_btQuaternion_setValue_4,Ci=o._emscripten_bind_btDynamicsWorld_getBroadphase_0=dn._emscripten_bind_btDynamicsWorld_getBroadphase_0,Ti=o._emscripten_bind_LocalShapeInfo___destroy___0=dn._emscripten_bind_LocalShapeInfo___destroy___0,Ai=o._emscripten_bind_btWheelInfo_get_m_bIsFrontWheel_0=dn._emscripten_bind_btWheelInfo_get_m_bIsFrontWheel_0,Li=o._emscripten_bind_btQuadWord_setY_1=dn._emscripten_bind_btQuadWord_setY_1,Ei=o._emscripten_bind_btRigidBody_isKinematicObject_0=dn._emscripten_bind_btRigidBody_isKinematicObject_0,Ri=o._emscripten_bind_ContactResultCallback_addSingleResult_7=dn._emscripten_bind_ContactResultCallback_addSingleResult_7,Ii=o._emscripten_bind_btRigidBodyConstructionInfo_set_m_restitution_1=dn._emscripten_bind_btRigidBodyConstructionInfo_set_m_restitution_1,Pi=o._emscripten_bind_btDefaultMotionState_get_m_graphicsWorldTrans_0=dn._emscripten_bind_btDefaultMotionState_get_m_graphicsWorldTrans_0,Di=o._emscripten_bind_btConeTwistConstraint_setDamping_1=dn._emscripten_bind_btConeTwistConstraint_setDamping_1,ki=o._emscripten_bind_btPairCachingGhostObject_btPairCachingGhostObject_0=dn._emscripten_bind_btPairCachingGhostObject_btPairCachingGhostObject_0,Oi=o._emscripten_bind_btDiscreteDynamicsWorld_getSolverInfo_0=dn._emscripten_bind_btDiscreteDynamicsWorld_getSolverInfo_0,Ni=o._emscripten_bind_btCylinderShape_setMargin_1=dn._emscripten_bind_btCylinderShape_setMargin_1,Fi=o._emscripten_bind_btCollisionWorld___destroy___0=dn._emscripten_bind_btCollisionWorld___destroy___0,Bi=o._emscripten_bind_LocalConvexResult_get_m_hitPointLocal_0=dn._emscripten_bind_LocalConvexResult_get_m_hitPointLocal_0,ji=o._emscripten_bind_btBoxShape_btBoxShape_1=dn._emscripten_bind_btBoxShape_btBoxShape_1,Ui=o._emscripten_bind_btPersistentManifold_getBody1_0=dn._emscripten_bind_btPersistentManifold_getBody1_0,zi=o._emscripten_bind_ClosestRayResultCallback_set_m_collisionObject_1=dn._emscripten_bind_ClosestRayResultCallback_set_m_collisionObject_1,Gi=o._emscripten_bind_RaycastInfo_set_m_isInContact_1=dn._emscripten_bind_RaycastInfo_set_m_isInContact_1,Vi=o._emscripten_bind_btKinematicCharacterController_setGravity_1=dn._emscripten_bind_btKinematicCharacterController_setGravity_1,Wi=o._emscripten_bind_btConstraintSetting_set_m_impulseClamp_1=dn._emscripten_bind_btConstraintSetting_set_m_impulseClamp_1,Hi=o._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_5=dn._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_5,Xi=o._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_3=dn._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_3,qi=o._emscripten_bind_LocalShapeInfo_get_m_shapePart_0=dn._emscripten_bind_LocalShapeInfo_get_m_shapePart_0,Yi=o.__GLOBAL__sub_I_btConeTwistConstraint_cpp=dn.__GLOBAL__sub_I_btConeTwistConstraint_cpp,Zi=o._emscripten_bind_btWheelInfo_get_m_rollInfluence_0=dn._emscripten_bind_btWheelInfo_get_m_rollInfluence_0,Ji=o._emscripten_bind_btVector4_setValue_4=dn._emscripten_bind_btVector4_setValue_4,Ki=o._emscripten_bind_btBvhTriangleMeshShape_setLocalScaling_1=dn._emscripten_bind_btBvhTriangleMeshShape_setLocalScaling_1,$i=o._emscripten_bind_btPoint2PointConstraint_setBreakingImpulseThreshold_1=dn._emscripten_bind_btPoint2PointConstraint_setBreakingImpulseThreshold_1,Qi=o._emscripten_bind_btDynamicsWorld_getDispatchInfo_0=dn._emscripten_bind_btDynamicsWorld_getDispatchInfo_0,tr=o._emscripten_bind_btCompoundShape_removeChildShapeByIndex_1=dn._emscripten_bind_btCompoundShape_removeChildShapeByIndex_1,er=o._emscripten_bind_btGeneric6DofSpring2Constraint_enableSpring_2=dn._emscripten_bind_btGeneric6DofSpring2Constraint_enableSpring_2,nr=o._emscripten_bind_btVector3_length_0=dn._emscripten_bind_btVector3_length_0,ir=o._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_2=dn._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_2,rr=o._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_1=dn._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_1,or=o._emscripten_bind_ClosestConvexResultCallback_set_m_hitPointWorld_1=dn._emscripten_bind_ClosestConvexResultCallback_set_m_hitPointWorld_1,sr=o._emscripten_bind_RayResultCallback_set_m_collisionFilterMask_1=dn._emscripten_bind_RayResultCallback_set_m_collisionFilterMask_1,ar=o._emscripten_bind_btBoxShape_getMargin_0=dn._emscripten_bind_btBoxShape_getMargin_0,cr=o._emscripten_bind_btPairCachingGhostObject___destroy___0=dn._emscripten_bind_btPairCachingGhostObject___destroy___0,lr=o._emscripten_bind_btDynamicsWorld_addCollisionObject_3=dn._emscripten_bind_btDynamicsWorld_addCollisionObject_3,ur=o._emscripten_bind_btPairCachingGhostObject_activate_0=dn._emscripten_bind_btPairCachingGhostObject_activate_0,hr=o._emscripten_bind_btPairCachingGhostObject_activate_1=dn._emscripten_bind_btPairCachingGhostObject_activate_1,pr=o._emscripten_bind_btContactSolverInfo_get_m_splitImpulsePenetrationThreshold_0=dn._emscripten_bind_btContactSolverInfo_get_m_splitImpulsePenetrationThreshold_0,fr=o._emscripten_bind_btPairCachingGhostObject_forceActivationState_1=dn._emscripten_bind_btPairCachingGhostObject_forceActivationState_1,dr=o._emscripten_bind_btDefaultMotionState___destroy___0=dn._emscripten_bind_btDefaultMotionState___destroy___0,_r=o._emscripten_bind_btDispatcherInfo_get_m_stepCount_0=dn._emscripten_bind_btDispatcherInfo_get_m_stepCount_0,mr=o._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularDamping_1=dn._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularDamping_1,gr=o._emscripten_bind_btQuadWord_setW_1=dn._emscripten_bind_btQuadWord_setW_1,br=o._emscripten_bind_btRigidBodyConstructionInfo_get_m_friction_0=dn._emscripten_bind_btRigidBodyConstructionInfo_get_m_friction_0,vr=o._emscripten_bind_btCapsuleShapeX_btCapsuleShapeX_2=dn._emscripten_bind_btCapsuleShapeX_btCapsuleShapeX_2,yr=o._emscripten_bind_LocalShapeInfo_set_m_shapePart_1=dn._emscripten_bind_LocalShapeInfo_set_m_shapePart_1,xr=o._emscripten_bind_btRigidBody_setLinearFactor_1=dn._emscripten_bind_btRigidBody_setLinearFactor_1,wr=o._emscripten_bind_btDispatcherInfo_set_m_useConvexConservativeDistanceUtil_1=dn._emscripten_bind_btDispatcherInfo_set_m_useConvexConservativeDistanceUtil_1,Sr=o._emscripten_bind_btWheelInfo_get_m_engineForce_0=dn._emscripten_bind_btWheelInfo_get_m_engineForce_0,Mr=o._emscripten_bind_btRaycastVehicle_setSteeringValue_2=dn._emscripten_bind_btRaycastVehicle_setSteeringValue_2,Cr=o._emscripten_enum_RotateOrder_RO_YXZ=dn._emscripten_enum_RotateOrder_RO_YXZ,Tr=o._emscripten_bind_btPoint2PointConstraint___destroy___0=dn._emscripten_bind_btPoint2PointConstraint___destroy___0,Ar=o._emscripten_bind_btGeneric6DofConstraint_setAngularUpperLimit_1=dn._emscripten_bind_btGeneric6DofConstraint_setAngularUpperLimit_1,Lr=o._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_2=dn._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_2,Er=o._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_1=dn._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_1,Rr=o._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularSleepingThreshold_1=dn._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularSleepingThreshold_1,ue=o._malloc=dn._malloc,Ir=o._emscripten_bind_btDispatcherInfo_get_m_useEpa_0=dn._emscripten_bind_btDispatcherInfo_get_m_useEpa_0,Pr=o._emscripten_bind_btTransform_btTransform_2=dn._emscripten_bind_btTransform_btTransform_2,Dr=o._emscripten_bind_btTransform_btTransform_0=dn._emscripten_bind_btTransform_btTransform_0,kr=o._emscripten_bind_btVector3_op_sub_1=dn._emscripten_bind_btVector3_op_sub_1,Or=o._emscripten_bind_btWheelInfo_set_m_wheelsRadius_1=dn._emscripten_bind_btWheelInfo_set_m_wheelsRadius_1,Nr=o._emscripten_bind_btDispatcherInfo_set_m_enableSPU_1=dn._emscripten_bind_btDispatcherInfo_set_m_enableSPU_1,Fr=o._emscripten_bind_btWheelInfo_set_m_wheelsDampingCompression_1=dn._emscripten_bind_btWheelInfo_set_m_wheelsDampingCompression_1,Br=o._emscripten_bind_btCollisionObject_setActivationState_1=dn._emscripten_bind_btCollisionObject_setActivationState_1,jr=o._emscripten_bind_btPersistentManifold___destroy___0=dn._emscripten_bind_btPersistentManifold___destroy___0,Ur=o._emscripten_bind_btConstraintSetting_get_m_impulseClamp_0=dn._emscripten_bind_btConstraintSetting_get_m_impulseClamp_0,zr=o._emscripten_bind_btCylinderShapeZ___destroy___0=dn._emscripten_bind_btCylinderShapeZ___destroy___0,Gr=o._emscripten_bind_btMatrix3x3___destroy___0=dn._emscripten_bind_btMatrix3x3___destroy___0,Vr=o._emscripten_bind_ConvexResultCallback_hasHit_0=dn._emscripten_bind_ConvexResultCallback_hasHit_0,Wr=o._emscripten_bind_btCollisionShape_calculateLocalInertia_2=dn._emscripten_bind_btCollisionShape_calculateLocalInertia_2,Hr=o._emscripten_bind_btGeneric6DofSpringConstraint_setBreakingImpulseThreshold_1=dn._emscripten_bind_btGeneric6DofSpringConstraint_setBreakingImpulseThreshold_1,Xr=o._emscripten_bind_btCollisionWorld_convexSweepTest_5=dn._emscripten_bind_btCollisionWorld_convexSweepTest_5,qr=o._emscripten_bind_ClosestRayResultCallback_set_m_hitPointWorld_1=dn._emscripten_bind_ClosestRayResultCallback_set_m_hitPointWorld_1,Yr=o._emscripten_bind_btCapsuleShapeX_calculateLocalInertia_2=dn._emscripten_bind_btCapsuleShapeX_calculateLocalInertia_2,Zr=o._emscripten_bind_btConstraintSetting_set_m_damping_1=dn._emscripten_bind_btConstraintSetting_set_m_damping_1,Jr=o._emscripten_bind_btWheelInfo_set_m_bIsFrontWheel_1=dn._emscripten_bind_btWheelInfo_set_m_bIsFrontWheel_1,Kr=o._emscripten_bind_btRigidBody_setCcdMotionThreshold_1=dn._emscripten_bind_btRigidBody_setCcdMotionThreshold_1,$r=o._emscripten_bind_btConvexHullShape_setMargin_1=dn._emscripten_bind_btConvexHullShape_setMargin_1,Qr=o._emscripten_bind_btRigidBody_applyForce_2=dn._emscripten_bind_btRigidBody_applyForce_2,to=o._emscripten_bind_btConeShapeZ_calculateLocalInertia_2=dn._emscripten_bind_btConeShapeZ_calculateLocalInertia_2,eo=o._emscripten_bind_btConstraintSetting_set_m_tau_1=dn._emscripten_bind_btConstraintSetting_set_m_tau_1,no=o._emscripten_bind_btConvexHullShape_calculateLocalInertia_2=dn._emscripten_bind_btConvexHullShape_calculateLocalInertia_2,io=o._emscripten_bind_RaycastInfo_get_m_contactPointWS_0=dn._emscripten_bind_RaycastInfo_get_m_contactPointWS_0,ro=o._emscripten_bind_btSphereShape_calculateLocalInertia_2=dn._emscripten_bind_btSphereShape_calculateLocalInertia_2,oo=o._emscripten_bind_btSliderConstraint_setBreakingImpulseThreshold_1=dn._emscripten_bind_btSliderConstraint_setBreakingImpulseThreshold_1,so=o._emscripten_bind_btCollisionDispatcher_getManifoldByIndexInternal_1=dn._emscripten_bind_btCollisionDispatcher_getManifoldByIndexInternal_1,ao=o._pthread_self=dn._pthread_self,co=o._emscripten_bind_btGhostObject_setFriction_1=dn._emscripten_bind_btGhostObject_setFriction_1,lo=o._emscripten_bind_btPairCachingGhostObject_getWorldTransform_0=dn._emscripten_bind_btPairCachingGhostObject_getWorldTransform_0,uo=o._emscripten_bind_btRigidBody_setCcdSweptSphereRadius_1=dn._emscripten_bind_btRigidBody_setCcdSweptSphereRadius_1,ho=o._emscripten_bind_btCylinderShapeZ_setMargin_1=dn._emscripten_bind_btCylinderShapeZ_setMargin_1,po=o._emscripten_bind_btRigidBody_setFriction_1=dn._emscripten_bind_btRigidBody_setFriction_1,fo=o._emscripten_bind_LocalConvexResult_set_m_hitPointLocal_1=dn._emscripten_bind_LocalConvexResult_set_m_hitPointLocal_1,_o=o._emscripten_bind_btGhostObject_setWorldTransform_1=dn._emscripten_bind_btGhostObject_setWorldTransform_1,mo=o._emscripten_bind_btDiscreteDynamicsWorld_removeRigidBody_1=dn._emscripten_bind_btDiscreteDynamicsWorld_removeRigidBody_1,go=o._emscripten_bind_btTranslationalLimitMotor2_set_m_currentLinearDiff_1=dn._emscripten_bind_btTranslationalLimitMotor2_set_m_currentLinearDiff_1,bo=o._emscripten_bind_btConvexHullShape___destroy___0=dn._emscripten_bind_btConvexHullShape___destroy___0,vo=o._emscripten_bind_RaycastInfo_set_m_suspensionLength_1=dn._emscripten_bind_RaycastInfo_set_m_suspensionLength_1,yo=o._emscripten_bind_btDiscreteDynamicsWorld_getBroadphase_0=dn._emscripten_bind_btDiscreteDynamicsWorld_getBroadphase_0,xo=o._emscripten_bind_btDiscreteDynamicsWorld_addAction_1=dn._emscripten_bind_btDiscreteDynamicsWorld_addAction_1,wo=o._emscripten_bind_btVector4_setX_1=dn._emscripten_bind_btVector4_setX_1,So=o._emscripten_bind_btKinematicCharacterController_jump_0=dn._emscripten_bind_btKinematicCharacterController_jump_0,Mo=o._emscripten_bind_btWheelInfo_set_m_raycastInfo_1=dn._emscripten_bind_btWheelInfo_set_m_raycastInfo_1,Co=o._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulseNormalized_1=dn._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulseNormalized_1,To=o._emscripten_bind_btConvexTriangleMeshShape_setLocalScaling_1=dn._emscripten_bind_btConvexTriangleMeshShape_setLocalScaling_1,Ao=o._emscripten_bind_btRigidBody_upcast_1=dn._emscripten_bind_btRigidBody_upcast_1,Lo=o._emscripten_bind_btCollisionObject_getWorldTransform_0=dn._emscripten_bind_btCollisionObject_getWorldTransform_0,Eo=o._emscripten_bind_btVector4_setZ_1=dn._emscripten_bind_btVector4_setZ_1,Ro=o._emscripten_bind_btQuadWord_y_0=dn._emscripten_bind_btQuadWord_y_0,Io=o._emscripten_bind_btTransform_getBasis_0=dn._emscripten_bind_btTransform_getBasis_0,Po=o._emscripten_bind_btPairCachingGhostObject_setFriction_1=dn._emscripten_bind_btPairCachingGhostObject_setFriction_1,Do=o._emscripten_bind_btDispatcherInfo_set_m_useEpa_1=dn._emscripten_bind_btDispatcherInfo_set_m_useEpa_1,ko=o._emscripten_bind_btCollisionDispatcher_getNumManifolds_0=dn._emscripten_bind_btCollisionDispatcher_getNumManifolds_0,Oo=o._emscripten_bind_btVehicleRaycaster___destroy___0=dn._emscripten_bind_btVehicleRaycaster___destroy___0,No=o._emscripten_bind_ClosestRayResultCallback___destroy___0=dn._emscripten_bind_ClosestRayResultCallback___destroy___0,Fo=o._emscripten_bind_ClosestConvexResultCallback_get_m_convexFromWorld_0=dn._emscripten_bind_ClosestConvexResultCallback_get_m_convexFromWorld_0,Bo=o._emscripten_bind_btCylinderShapeX_setMargin_1=dn._emscripten_bind_btCylinderShapeX_setMargin_1,jo=o._emscripten_bind_btQuadWord_w_0=dn._emscripten_bind_btQuadWord_w_0,Uo=o._emscripten_bind_btPersistentManifold_getNumContacts_0=dn._emscripten_bind_btPersistentManifold_getNumContacts_0,zo=o._emscripten_bind_btDynamicsWorld_contactTest_2=dn._emscripten_bind_btDynamicsWorld_contactTest_2,Go=o._emscripten_bind_btDiscreteDynamicsWorld_contactTest_2=dn._emscripten_bind_btDiscreteDynamicsWorld_contactTest_2,Vo=o._emscripten_bind_btGeneric6DofSpring2Constraint_btGeneric6DofSpring2Constraint_3=dn._emscripten_bind_btGeneric6DofSpring2Constraint_btGeneric6DofSpring2Constraint_3,Wo=o._emscripten_bind_btBvhTriangleMeshShape_calculateLocalInertia_2=dn._emscripten_bind_btBvhTriangleMeshShape_calculateLocalInertia_2,Ho=o._emscripten_bind_btCompoundShape_getNumChildShapes_0=dn._emscripten_bind_btCompoundShape_getNumChildShapes_0,Xo=o._emscripten_bind_btGhostObject_btGhostObject_0=dn._emscripten_bind_btGhostObject_btGhostObject_0,qo=o._emscripten_bind_ClosestConvexResultCallback_ClosestConvexResultCallback_2=dn._emscripten_bind_ClosestConvexResultCallback_ClosestConvexResultCallback_2,Yo=o._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingFactor_1=dn._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingFactor_1,Zo=o._emscripten_bind_btManifoldPoint_set_m_localPointA_1=dn._emscripten_bind_btManifoldPoint_set_m_localPointA_1,Jo=o._emscripten_bind_LocalConvexResult___destroy___0=dn._emscripten_bind_LocalConvexResult___destroy___0,Ko=o._emscripten_bind_btVector3_dot_1=dn._emscripten_bind_btVector3_dot_1,$o=o._emscripten_bind_btVector4_op_add_1=dn._emscripten_bind_btVector4_op_add_1,Qo=o._emscripten_bind_btWheelInfo___destroy___0=dn._emscripten_bind_btWheelInfo___destroy___0,ts=o._emscripten_bind_btHingeConstraint_btHingeConstraint_4=dn._emscripten_bind_btHingeConstraint_btHingeConstraint_4,es=o._emscripten_bind_btTransform_setRotation_1=dn._emscripten_bind_btTransform_setRotation_1,ns=o._emscripten_bind_btPairCachingGhostObject_getNumOverlappingObjects_0=dn._emscripten_bind_btPairCachingGhostObject_getNumOverlappingObjects_0,is=o._emscripten_bind_btPoint2PointConstraint_enableFeedback_1=dn._emscripten_bind_btPoint2PointConstraint_enableFeedback_1,rs=o._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterGroup_1=dn._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterGroup_1,os=o._emscripten_bind_btAxisSweep3_btAxisSweep3_2=dn._emscripten_bind_btAxisSweep3_btAxisSweep3_2,ss=o._emscripten_bind_btAxisSweep3_btAxisSweep3_3=dn._emscripten_bind_btAxisSweep3_btAxisSweep3_3,as=o._emscripten_bind_btDynamicsWorld___destroy___0=dn._emscripten_bind_btDynamicsWorld___destroy___0,cs=o._emscripten_bind_btVector3_setY_1=dn._emscripten_bind_btVector3_setY_1,ls=o._emscripten_bind_btAxisSweep3_btAxisSweep3_4=dn._emscripten_bind_btAxisSweep3_btAxisSweep3_4,us=o._emscripten_bind_btAxisSweep3_btAxisSweep3_5=dn._emscripten_bind_btAxisSweep3_btAxisSweep3_5,hs=o._emscripten_bind_btQuadWord_setX_1=dn._emscripten_bind_btQuadWord_setX_1,ps=o._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalLinearDampingThresholdSqr_0=dn._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalLinearDampingThresholdSqr_0,fs=o._emscripten_bind_btGhostObject_isActive_0=dn._emscripten_bind_btGhostObject_isActive_0,ds=o._emscripten_bind_btOverlappingPairCache___destroy___0=dn._emscripten_bind_btOverlappingPairCache___destroy___0,_s=o._emscripten_bind_btVector3_normalize_0=dn._emscripten_bind_btVector3_normalize_0,ms=o._emscripten_bind_btConstraintSetting___destroy___0=dn._emscripten_bind_btConstraintSetting___destroy___0,gs=o._emscripten_bind_RayResultCallback___destroy___0=dn._emscripten_bind_RayResultCallback___destroy___0,bs=o._emscripten_bind_RaycastInfo_get_m_contactNormalWS_0=dn._emscripten_bind_RaycastInfo_get_m_contactNormalWS_0,vs=o._emscripten_bind_btTranslationalLimitMotor2_get_m_currentLinearDiff_0=dn._emscripten_bind_btTranslationalLimitMotor2_get_m_currentLinearDiff_0,ys=o._emscripten_bind_btPersistentManifold_getBody0_0=dn._emscripten_bind_btPersistentManifold_getBody0_0,xs=o._emscripten_bind_btConeShapeX_btConeShapeX_2=dn._emscripten_bind_btConeShapeX_btConeShapeX_2,ws=o._emscripten_bind_btConeTwistConstraint_enableFeedback_1=dn._emscripten_bind_btConeTwistConstraint_enableFeedback_1,Ss=o._emscripten_bind_btCapsuleShapeZ_setLocalScaling_1=dn._emscripten_bind_btCapsuleShapeZ_setLocalScaling_1,Ms=o._emscripten_bind_ClosestConvexResultCallback_get_m_closestHitFraction_0=dn._emscripten_bind_ClosestConvexResultCallback_get_m_closestHitFraction_0,Cs=o._emscripten_bind_btSliderConstraint_setUpperLinLimit_1=dn._emscripten_bind_btSliderConstraint_setUpperLinLimit_1,Ts=o._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_2=dn._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_2,As=o._emscripten_bind_btConcaveShape___destroy___0=dn._emscripten_bind_btConcaveShape___destroy___0,Ls=o._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_4=dn._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_4,Es=o._emscripten_bind_btQuaternion_x_0=dn._emscripten_bind_btQuaternion_x_0,Rs=o._emscripten_bind_LocalConvexResult_set_m_hitNormalLocal_1=dn._emscripten_bind_LocalConvexResult_set_m_hitNormalLocal_1,Is=o._emscripten_bind_btConcaveShape_setLocalScaling_1=dn._emscripten_bind_btConcaveShape_setLocalScaling_1,Ps=o._emscripten_bind_btDiscreteDynamicsWorld_getDispatchInfo_0=dn._emscripten_bind_btDiscreteDynamicsWorld_getDispatchInfo_0,Ds=o._emscripten_bind_btConeShapeX_setLocalScaling_1=dn._emscripten_bind_btConeShapeX_setLocalScaling_1,ks=o._emscripten_bind_btGeneric6DofSpring2Constraint_setBreakingImpulseThreshold_1=dn._emscripten_bind_btGeneric6DofSpring2Constraint_setBreakingImpulseThreshold_1,Os=o._emscripten_bind_btQuaternion_z_0=dn._emscripten_bind_btQuaternion_z_0,Ns=o._emscripten_bind_btConvexHullShape_btConvexHullShape_0=dn._emscripten_bind_btConvexHullShape_btConvexHullShape_0,Fs=o._emscripten_bind_btWheelInfo_set_m_maxSuspensionForce_1=dn._emscripten_bind_btWheelInfo_set_m_maxSuspensionForce_1,Bs=o._emscripten_bind_btConstraintSetting_get_m_damping_0=dn._emscripten_bind_btConstraintSetting_get_m_damping_0,js=o._emscripten_bind_btRotationalLimitMotor2___destroy___0=dn._emscripten_bind_btRotationalLimitMotor2___destroy___0,Us=o._emscripten_bind_btGhostObject___destroy___0=dn._emscripten_bind_btGhostObject___destroy___0,zs=o._emscripten_bind_btGhostObject_setContactProcessingThreshold_1=dn._emscripten_bind_btGhostObject_setContactProcessingThreshold_1,Gs=o._emscripten_bind_btCollisionWorld_getBroadphase_0=dn._emscripten_bind_btCollisionWorld_getBroadphase_0,Vs=o._emscripten_bind_btContactSolverInfo_set_m_splitImpulse_1=dn._emscripten_bind_btContactSolverInfo_set_m_splitImpulse_1,Ws=o._emscripten_bind_btDefaultMotionState_btDefaultMotionState_2=dn._emscripten_bind_btDefaultMotionState_btDefaultMotionState_2,Hs=o._emscripten_bind_btDefaultMotionState_btDefaultMotionState_0=dn._emscripten_bind_btDefaultMotionState_btDefaultMotionState_0,Xs=o._emscripten_bind_btDefaultMotionState_btDefaultMotionState_1=dn._emscripten_bind_btDefaultMotionState_btDefaultMotionState_1,qs=o._emscripten_bind_btCompoundShape_getChildShape_1=dn._emscripten_bind_btCompoundShape_getChildShape_1,Ys=o._emscripten_bind_btKinematicCharacterController_canJump_0=dn._emscripten_bind_btKinematicCharacterController_canJump_0,Zs=o._emscripten_bind_btRigidBody_isActive_0=dn._emscripten_bind_btRigidBody_isActive_0,Js=o._emscripten_bind_btRaycastVehicle_btRaycastVehicle_3=dn._emscripten_bind_btRaycastVehicle_btRaycastVehicle_3,Ks=o._emscripten_bind_btMotionState_setWorldTransform_1=dn._emscripten_bind_btMotionState_setWorldTransform_1,$s=o._emscripten_bind_btCylinderShape_setLocalScaling_1=dn._emscripten_bind_btCylinderShape_setLocalScaling_1,Qs=o._emscripten_bind_btCollisionWorld_rayTest_3=dn._emscripten_bind_btCollisionWorld_rayTest_3,ta=o._emscripten_bind_btCompoundShape_calculateLocalInertia_2=dn._emscripten_bind_btCompoundShape_calculateLocalInertia_2,ea=o._emscripten_bind_btCollisionWorld_getDispatchInfo_0=dn._emscripten_bind_btCollisionWorld_getDispatchInfo_0,na=o._emscripten_bind_btRigidBody_setCollisionShape_1=dn._emscripten_bind_btRigidBody_setCollisionShape_1,ia=o._emscripten_bind_btConeShapeX___destroy___0=dn._emscripten_bind_btConeShapeX___destroy___0,ra=o._emscripten_bind_btCollisionObject_getCollisionFlags_0=dn._emscripten_bind_btCollisionObject_getCollisionFlags_0,oa=o._emscripten_bind_btDispatcherInfo_set_m_enableSatConvex_1=dn._emscripten_bind_btDispatcherInfo_set_m_enableSatConvex_1,sa=o._emscripten_bind_btConeTwistConstraint_enableMotor_1=dn._emscripten_bind_btConeTwistConstraint_enableMotor_1,aa=o._emscripten_bind_btRaycastVehicle_setCoordinateSystem_3=dn._emscripten_bind_btRaycastVehicle_setCoordinateSystem_3,ca=o._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_0=dn._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_0,la=o._emscripten_bind_btPairCachingGhostObject_setRestitution_1=dn._emscripten_bind_btPairCachingGhostObject_setRestitution_1,ua=o._emscripten_bind_ConvexResultCallback___destroy___0=dn._emscripten_bind_ConvexResultCallback___destroy___0,ha=o._emscripten_bind_btSliderConstraint_getBreakingImpulseThreshold_0=dn._emscripten_bind_btSliderConstraint_getBreakingImpulseThreshold_0,pa=o._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDampingFactor_1=dn._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDampingFactor_1,fa=o._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_3=dn._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_3,da=o._emscripten_bind_btCollisionObject_setContactProcessingThreshold_1=dn._emscripten_bind_btCollisionObject_setContactProcessingThreshold_1,_a=o._emscripten_bind_btGhostObject_setCcdMotionThreshold_1=dn._emscripten_bind_btGhostObject_setCcdMotionThreshold_1,ma=o._emscripten_bind_btDispatcherInfo_get_m_allowedCcdPenetration_0=dn._emscripten_bind_btDispatcherInfo_get_m_allowedCcdPenetration_0,ga=o._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingFactor_0=dn._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingFactor_0,ba=o._emscripten_bind_btCapsuleShapeX_setMargin_1=dn._emscripten_bind_btCapsuleShapeX_setMargin_1,va=o._emscripten_bind_btGeneric6DofSpring2Constraint_setStiffness_2=dn._emscripten_bind_btGeneric6DofSpring2Constraint_setStiffness_2,ya=o._emscripten_bind_btSequentialImpulseConstraintSolver___destroy___0=dn._emscripten_bind_btSequentialImpulseConstraintSolver___destroy___0,xa=o._emscripten_bind_LocalConvexResult_LocalConvexResult_5=dn._emscripten_bind_LocalConvexResult_LocalConvexResult_5,wa=o._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalLinearDampingThresholdSqr_1=dn._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalLinearDampingThresholdSqr_1,Sa=o._emscripten_bind_btRigidBody_getCollisionFlags_0=dn._emscripten_bind_btRigidBody_getCollisionFlags_0,Ma=o._emscripten_bind_btCollisionShape_setLocalScaling_1=dn._emscripten_bind_btCollisionShape_setLocalScaling_1,Ca=o._emscripten_bind_btRigidBody_applyTorque_1=dn._emscripten_bind_btRigidBody_applyTorque_1,Ta=o._emscripten_bind_LocalConvexResult_get_m_hitCollisionObject_0=dn._emscripten_bind_LocalConvexResult_get_m_hitCollisionObject_0,Aa=o._emscripten_bind_btMatrix3x3_setEulerZYX_3=dn._emscripten_bind_btMatrix3x3_setEulerZYX_3,La=o._emscripten_bind_btDispatcherInfo_get_m_convexConservativeDistanceThreshold_0=dn._emscripten_bind_btDispatcherInfo_get_m_convexConservativeDistanceThreshold_0,Ea=o._emscripten_bind_btConvexHullShape_setLocalScaling_1=dn._emscripten_bind_btConvexHullShape_setLocalScaling_1,Ra=o._emscripten_bind_btRigidBody_setMotionState_1=dn._emscripten_bind_btRigidBody_setMotionState_1,Ia=o._emscripten_bind_RayResultCallback_get_m_collisionFilterMask_0=dn._emscripten_bind_RayResultCallback_get_m_collisionFilterMask_0,Pa=o._emscripten_bind_btCollisionWorld_getDispatcher_0=dn._emscripten_bind_btCollisionWorld_getDispatcher_0,Da=o._emscripten_bind_btVector4_dot_1=dn._emscripten_bind_btVector4_dot_1,ka=o._emscripten_bind_btCollisionObject_setRollingFriction_1=dn._emscripten_bind_btCollisionObject_setRollingFriction_1,Oa=o._emscripten_bind_RayResultCallback_set_m_collisionFilterGroup_1=dn._emscripten_bind_RayResultCallback_set_m_collisionFilterGroup_1,Na=o._emscripten_bind_btPairCachingGhostObject_getCollisionShape_0=dn._emscripten_bind_btPairCachingGhostObject_getCollisionShape_0,Fa=o._emscripten_bind_btRotationalLimitMotor2_get_m_currentPosition_0=dn._emscripten_bind_btRotationalLimitMotor2_get_m_currentPosition_0,Ba=o._i64Subtract=dn._i64Subtract,ja=o._emscripten_bind_btRaycastVehicle_getWheelTransformWS_1=dn._emscripten_bind_btRaycastVehicle_getWheelTransformWS_1,Ua=o._emscripten_bind_btRigidBody_setDamping_2=dn._emscripten_bind_btRigidBody_setDamping_2,za=o._emscripten_bind_btDynamicsWorld_getDispatcher_0=dn._emscripten_bind_btDynamicsWorld_getDispatcher_0,Ga=o._emscripten_bind_btGhostObject_setCollisionFlags_1=dn._emscripten_bind_btGhostObject_setCollisionFlags_1,Va=o._emscripten_bind_btMatrix3x3_getRotation_1=dn._emscripten_bind_btMatrix3x3_getRotation_1,Wa=o._emscripten_bind_btWheelInfo_set_m_engineForce_1=dn._emscripten_bind_btWheelInfo_set_m_engineForce_1,Ha=o._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulse_1=dn._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulse_1,Xa=o._emscripten_bind_btCylinderShapeX_setLocalScaling_1=dn._emscripten_bind_btCylinderShapeX_setLocalScaling_1,qa=o._emscripten_bind_btDbvtBroadphase_btDbvtBroadphase_0=dn._emscripten_bind_btDbvtBroadphase_btDbvtBroadphase_0,Ya=o._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDamping_0=dn._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDamping_0,Za=o._emscripten_bind_btCompoundShape_setLocalScaling_1=dn._emscripten_bind_btCompoundShape_setLocalScaling_1,Ja=o._emscripten_bind_btOverlappingPairCallback___destroy___0=dn._emscripten_bind_btOverlappingPairCallback___destroy___0,Ka=o._emscripten_bind_btManifoldPoint_get_m_positionWorldOnB_0=dn._emscripten_bind_btManifoldPoint_get_m_positionWorldOnB_0,$a=o._emscripten_bind_btCylinderShape_calculateLocalInertia_2=dn._emscripten_bind_btCylinderShape_calculateLocalInertia_2,Qa=o._emscripten_bind_btPairCachingGhostObject_setCcdSweptSphereRadius_1=dn._emscripten_bind_btPairCachingGhostObject_setCcdSweptSphereRadius_1,tc=o._emscripten_bind_btHingeConstraint_enableAngularMotor_3=dn._emscripten_bind_btHingeConstraint_enableAngularMotor_3,ec=o._emscripten_bind_btRigidBody_setContactProcessingThreshold_1=dn._emscripten_bind_btRigidBody_setContactProcessingThreshold_1,nc=o._emscripten_bind_btRigidBody_getLinearVelocity_0=dn._emscripten_bind_btRigidBody_getLinearVelocity_0,ic=o._emscripten_bind_btRigidBody_applyImpulse_2=dn._emscripten_bind_btRigidBody_applyImpulse_2,rc=o._emscripten_bind_btConcaveShape_calculateLocalInertia_2=dn._emscripten_bind_btConcaveShape_calculateLocalInertia_2,oc=o._emscripten_bind_RaycastInfo_get_m_groundObject_0=dn._emscripten_bind_RaycastInfo_get_m_groundObject_0,sc=o._emscripten_bind_btRigidBody_setWorldTransform_1=dn._emscripten_bind_btRigidBody_setWorldTransform_1,ac=o._emscripten_bind_btRigidBody_setAngularVelocity_1=dn._emscripten_bind_btRigidBody_setAngularVelocity_1,cc=o._emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_3=dn._emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_3,lc=o._emscripten_bind_btConvexShape_setLocalScaling_1=dn._emscripten_bind_btConvexShape_setLocalScaling_1,uc=o._emscripten_bind_btTriangleMeshShape_calculateLocalInertia_2=dn._emscripten_bind_btTriangleMeshShape_calculateLocalInertia_2,hc=o._emscripten_bind_btPairCachingGhostObject_setContactProcessingThreshold_1=dn._emscripten_bind_btPairCachingGhostObject_setContactProcessingThreshold_1,pc=o._emscripten_bind_btCompoundShape___destroy___0=dn._emscripten_bind_btCompoundShape___destroy___0,fc=o._emscripten_bind_btGeneric6DofConstraint_setLinearUpperLimit_1=dn._emscripten_bind_btGeneric6DofConstraint_setLinearUpperLimit_1,dc=o._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterMask_0=dn._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterMask_0,_c=o._emscripten_bind_RayResultCallback_hasHit_0=dn._emscripten_bind_RayResultCallback_hasHit_0,mc=o._bitshift64Shl=dn._bitshift64Shl,gc=o._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingThresholdSqr_0=dn._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingThresholdSqr_0,bc=o._emscripten_bind_btCylinderShapeX_getMargin_0=dn._emscripten_bind_btCylinderShapeX_getMargin_0,vc=o._emscripten_bind_btQuaternion_normalize_0=dn._emscripten_bind_btQuaternion_normalize_0,yc=o._emscripten_bind_ClosestConvexResultCallback_get_m_convexToWorld_0=dn._emscripten_bind_ClosestConvexResultCallback_get_m_convexToWorld_0,xc=o._emscripten_bind_btWheelInfo_get_m_frictionSlip_0=dn._emscripten_bind_btWheelInfo_get_m_frictionSlip_0,wc=o._emscripten_bind_btConeShapeZ_setLocalScaling_1=dn._emscripten_bind_btConeShapeZ_setLocalScaling_1,Sc=o._emscripten_bind_btPairCachingGhostObject_setActivationState_1=dn._emscripten_bind_btPairCachingGhostObject_setActivationState_1,Mc=o._emscripten_bind_btGeneric6DofSpringConstraint___destroy___0=dn._emscripten_bind_btGeneric6DofSpringConstraint___destroy___0,Cc=o._emscripten_bind_btRaycastVehicle_getNumWheels_0=dn._emscripten_bind_btRaycastVehicle_getNumWheels_0,Tc=o._emscripten_bind_btVehicleTuning_set_m_maxSuspensionTravelCm_1=dn._emscripten_bind_btVehicleTuning_set_m_maxSuspensionTravelCm_1,Ac=o._emscripten_bind_btGhostObject_setRollingFriction_1=dn._emscripten_bind_btGhostObject_setRollingFriction_1,Lc=o._emscripten_bind_btCylinderShapeZ_btCylinderShapeZ_1=dn._emscripten_bind_btCylinderShapeZ_btCylinderShapeZ_1,Ec=o._emscripten_bind_btPoint2PointConstraint_set_m_setting_1=dn._emscripten_bind_btPoint2PointConstraint_set_m_setting_1,Rc=o._emscripten_bind_btCompoundShape_btCompoundShape_0=dn._emscripten_bind_btCompoundShape_btCompoundShape_0,Ic=o._emscripten_bind_btCompoundShape_btCompoundShape_1=dn._emscripten_bind_btCompoundShape_btCompoundShape_1,Pc=o._emscripten_bind_btOverlappingPairCache_setInternalGhostPairCallback_1=dn._emscripten_bind_btOverlappingPairCache_setInternalGhostPairCallback_1,Dc=o._emscripten_bind_btStaticPlaneShape_btStaticPlaneShape_2=dn._emscripten_bind_btStaticPlaneShape_btStaticPlaneShape_2,kc=o.__GLOBAL__sub_I_btQuickprof_cpp=dn.__GLOBAL__sub_I_btQuickprof_cpp,Oc=o._emscripten_bind_btDispatcherInfo_set_m_convexConservativeDistanceThreshold_1=dn._emscripten_bind_btDispatcherInfo_set_m_convexConservativeDistanceThreshold_1,Nc=o._emscripten_bind_btDispatcherInfo_get_m_useContinuous_0=dn._emscripten_bind_btDispatcherInfo_get_m_useContinuous_0,Fc=o._emscripten_bind_btRigidBody_updateInertiaTensor_0=dn._emscripten_bind_btRigidBody_updateInertiaTensor_0,Bc=o._emscripten_bind_btPairCachingGhostObject_setAnisotropicFriction_2=dn._emscripten_bind_btPairCachingGhostObject_setAnisotropicFriction_2,jc=o._emscripten_bind_btTransform_setOrigin_1=dn._emscripten_bind_btTransform_setOrigin_1,Uc=o._emscripten_bind_ClosestRayResultCallback_hasHit_0=dn._emscripten_bind_ClosestRayResultCallback_hasHit_0,zc=o._emscripten_bind_btDispatcherInfo_get_m_useConvexConservativeDistanceUtil_0=dn._emscripten_bind_btDispatcherInfo_get_m_useConvexConservativeDistanceUtil_0,Gc=o._emscripten_bind_btCompoundShape_addChildShape_2=dn._emscripten_bind_btCompoundShape_addChildShape_2,Vc=o._emscripten_bind_btDispatcher___destroy___0=dn._emscripten_bind_btDispatcher___destroy___0,Wc=o._emscripten_bind_btVehicleTuning_get_m_suspensionCompression_0=dn._emscripten_bind_btVehicleTuning_get_m_suspensionCompression_0,Hc=o._emscripten_bind_btDiscreteDynamicsWorld___destroy___0=dn._emscripten_bind_btDiscreteDynamicsWorld___destroy___0,Xc=o._emscripten_bind_btConvexShape___destroy___0=dn._emscripten_bind_btConvexShape___destroy___0,qc=o._memmove=dn._memmove,Yc=o._emscripten_bind_btCapsuleShapeX_setLocalScaling_1=dn._emscripten_bind_btCapsuleShapeX_setLocalScaling_1,Zc=o._emscripten_bind_btPairCachingGhostObject_setCollisionFlags_1=dn._emscripten_bind_btPairCachingGhostObject_setCollisionFlags_1,Jc=o._emscripten_bind_btCollisionObject_setRestitution_1=dn._emscripten_bind_btCollisionObject_setRestitution_1,Kc=o._emscripten_bind_btRigidBody_applyCentralForce_1=dn._emscripten_bind_btRigidBody_applyCentralForce_1,$c=o._emscripten_bind_LocalConvexResult_get_m_hitFraction_0=dn._emscripten_bind_LocalConvexResult_get_m_hitFraction_0,Qc=o._emscripten_bind_btHingeConstraint_setBreakingImpulseThreshold_1=dn._emscripten_bind_btHingeConstraint_setBreakingImpulseThreshold_1,tl=o._emscripten_bind_btQuaternion_w_0=dn._emscripten_bind_btQuaternion_w_0,el=o._emscripten_bind_ConvexResultCallback_get_m_collisionFilterGroup_0=dn._emscripten_bind_ConvexResultCallback_get_m_collisionFilterGroup_0,nl=o._emscripten_bind_btTransform_getRotation_0=dn._emscripten_bind_btTransform_getRotation_0,il=o._emscripten_bind_btHingeConstraint_btHingeConstraint_6=dn._emscripten_bind_btHingeConstraint_btHingeConstraint_6,rl=o._emscripten_bind_btHingeConstraint_btHingeConstraint_7=dn._emscripten_bind_btHingeConstraint_btHingeConstraint_7,ol=o._emscripten_bind_btCapsuleShapeZ_getMargin_0=dn._emscripten_bind_btCapsuleShapeZ_getMargin_0,sl=o._emscripten_bind_btHingeConstraint_btHingeConstraint_5=dn._emscripten_bind_btHingeConstraint_btHingeConstraint_5,al=o._emscripten_bind_btHingeConstraint_btHingeConstraint_2=dn._emscripten_bind_btHingeConstraint_btHingeConstraint_2,cl=o._emscripten_bind_btHingeConstraint_btHingeConstraint_3=dn._emscripten_bind_btHingeConstraint_btHingeConstraint_3,ll=o._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingThresholdSqr_1=dn._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingThresholdSqr_1,ul=o._emscripten_bind_btBoxShape_setMargin_1=dn._emscripten_bind_btBoxShape_setMargin_1,hl=o._emscripten_bind_ClosestConvexResultCallback_get_m_hitNormalWorld_0=dn._emscripten_bind_ClosestConvexResultCallback_get_m_hitNormalWorld_0,pl=o._emscripten_bind_btMatrix3x3_getRow_1=dn._emscripten_bind_btMatrix3x3_getRow_1,fl=o._emscripten_bind_btTypedConstraint___destroy___0=dn._emscripten_bind_btTypedConstraint___destroy___0,dl=o._emscripten_bind_btCylinderShapeX_btCylinderShapeX_1=dn._emscripten_bind_btCylinderShapeX_btCylinderShapeX_1,_l=o._emscripten_enum_RotateOrder_RO_XYZ=dn._emscripten_enum_RotateOrder_RO_XYZ,ml=o._emscripten_bind_btGeneric6DofSpringConstraint_setAngularUpperLimit_1=dn._emscripten_bind_btGeneric6DofSpringConstraint_setAngularUpperLimit_1,gl=o._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_3=dn._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_3,bl=o._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_1=dn._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_1,vl=o._bitshift64Ashr=dn._bitshift64Ashr,yl=o._emscripten_bind_btQuaternion_btQuaternion_4=dn._emscripten_bind_btQuaternion_btQuaternion_4,xl=o._emscripten_bind_btDiscreteDynamicsWorld_removeAction_1=dn._emscripten_bind_btDiscreteDynamicsWorld_removeAction_1,wl=o._emscripten_bind_btSphereShape_btSphereShape_1=dn._emscripten_bind_btSphereShape_btSphereShape_1,Sl=o._emscripten_bind_btWheelInfo_get_m_wheelsSuspensionForce_0=dn._emscripten_bind_btWheelInfo_get_m_wheelsSuspensionForce_0,Ml=o._emscripten_bind_btQuaternion_y_0=dn._emscripten_bind_btQuaternion_y_0,Cl=o._emscripten_bind_btCollisionWorld_addCollisionObject_1=dn._emscripten_bind_btCollisionWorld_addCollisionObject_1,Tl=o._emscripten_bind_btCollisionWorld_addCollisionObject_2=dn._emscripten_bind_btCollisionWorld_addCollisionObject_2,Al=o._emscripten_bind_btCollisionWorld_addCollisionObject_3=dn._emscripten_bind_btCollisionWorld_addCollisionObject_3,Ll=o._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterGroup_1=dn._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterGroup_1,El=o._emscripten_bind_btConeTwistConstraint_setBreakingImpulseThreshold_1=dn._emscripten_bind_btConeTwistConstraint_setBreakingImpulseThreshold_1,Rl=o._emscripten_bind_RaycastInfo_get_m_isInContact_0=dn._emscripten_bind_RaycastInfo_get_m_isInContact_0,Il=o._emscripten_bind_btGeneric6DofSpring2Constraint_setLinearUpperLimit_1=dn._emscripten_bind_btGeneric6DofSpring2Constraint_setLinearUpperLimit_1,Pl=o._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterGroup_0=dn._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterGroup_0,Dl=o._emscripten_bind_btCapsuleShape_setMargin_1=dn._emscripten_bind_btCapsuleShape_setMargin_1,kl=o._emscripten_bind_btDefaultVehicleRaycaster_btDefaultVehicleRaycaster_1=dn._emscripten_bind_btDefaultVehicleRaycaster_btDefaultVehicleRaycaster_1,Ol=o._emscripten_bind_btPoint2PointConstraint_get_m_setting_0=dn._emscripten_bind_btPoint2PointConstraint_get_m_setting_0,Nl=o._emscripten_bind_btSequentialImpulseConstraintSolver_btSequentialImpulseConstraintSolver_0=dn._emscripten_bind_btSequentialImpulseConstraintSolver_btSequentialImpulseConstraintSolver_0,Fl=o._emscripten_bind_btActionInterface___destroy___0=dn._emscripten_bind_btActionInterface___destroy___0,Bl=o._emscripten_bind_btDefaultMotionState_setWorldTransform_1=dn._emscripten_bind_btDefaultMotionState_setWorldTransform_1,jl=o._emscripten_bind_btCollisionWorld_contactTest_2=dn._emscripten_bind_btCollisionWorld_contactTest_2,Ul=o._emscripten_bind_RayResultCallback_get_m_collisionObject_0=dn._emscripten_bind_RayResultCallback_get_m_collisionObject_0,zl=o._emscripten_bind_btPoint2PointConstraint_getPivotInA_0=dn._emscripten_bind_btPoint2PointConstraint_getPivotInA_0,Gl=o._emscripten_bind_btGeneric6DofSpringConstraint_setStiffness_2=dn._emscripten_bind_btGeneric6DofSpringConstraint_setStiffness_2,Vl=o._emscripten_bind_btVector4_setY_1=dn._emscripten_bind_btVector4_setY_1,Wl=o._emscripten_bind_btCompoundShape_setMargin_1=dn._emscripten_bind_btCompoundShape_setMargin_1,Hl=o._emscripten_bind_ClosestConvexResultCallback___destroy___0=dn._emscripten_bind_ClosestConvexResultCallback___destroy___0,Xl=o._emscripten_bind_btDynamicsWorld_addCollisionObject_1=dn._emscripten_bind_btDynamicsWorld_addCollisionObject_1,ql=o._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterMask_0=dn._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterMask_0,Yl=(o.___cxa_can_catch=dn.___cxa_can_catch,o._emscripten_bind_btDynamicsWorld_addCollisionObject_2=dn._emscripten_bind_btDynamicsWorld_addCollisionObject_2),Zl=o._emscripten_bind_btDiscreteDynamicsWorld_getDispatcher_0=dn._emscripten_bind_btDiscreteDynamicsWorld_getDispatcher_0,Jl=o._emscripten_bind_btWheelInfo_get_m_maxSuspensionTravelCm_0=dn._emscripten_bind_btWheelInfo_get_m_maxSuspensionTravelCm_0,Kl=o._emscripten_bind_btVector4_op_mul_1=dn._emscripten_bind_btVector4_op_mul_1,$l=o._emscripten_bind_btCylinderShape_btCylinderShape_1=dn._emscripten_bind_btCylinderShape_btCylinderShape_1,Ql=o._emscripten_bind_btVector3___destroy___0=dn._emscripten_bind_btVector3___destroy___0,tu=o._emscripten_bind_RaycastInfo___destroy___0=dn._emscripten_bind_RaycastInfo___destroy___0,eu=o._emscripten_bind_btRigidBody_setAngularFactor_1=dn._emscripten_bind_btRigidBody_setAngularFactor_1,nu=o._emscripten_bind_btCylinderShapeZ_calculateLocalInertia_2=dn._emscripten_bind_btCylinderShapeZ_calculateLocalInertia_2,iu=o._emscripten_bind_LocalShapeInfo_set_m_triangleIndex_1=dn._emscripten_bind_LocalShapeInfo_set_m_triangleIndex_1,ru=o._emscripten_bind_btMotionState_getWorldTransform_1=dn._emscripten_bind_btMotionState_getWorldTransform_1,ou=o._emscripten_bind_btDynamicsWorld_getSolverInfo_0=dn._emscripten_bind_btDynamicsWorld_getSolverInfo_0,su=o._emscripten_bind_btDispatcherInfo_set_m_dispatchFunc_1=dn._emscripten_bind_btDispatcherInfo_set_m_dispatchFunc_1,au=o._emscripten_bind_btSphereShape_getMargin_0=dn._emscripten_bind_btSphereShape_getMargin_0,cu=o._emscripten_bind_btGeneric6DofSpring2Constraint_btGeneric6DofSpring2Constraint_5=dn._emscripten_bind_btGeneric6DofSpring2Constraint_btGeneric6DofSpring2Constraint_5,lu=o._emscripten_bind_btVector3_x_0=dn._emscripten_bind_btVector3_x_0,uu=(o.___cxa_is_pointer_type=dn.___cxa_is_pointer_type,o._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_3=dn._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_3),hu=o._emscripten_bind_btCollisionObject_getCollisionShape_0=dn._emscripten_bind_btCollisionObject_getCollisionShape_0,pu=o._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_4=dn._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_4,fu=o._emscripten_bind_btManifoldPoint___destroy___0=dn._emscripten_bind_btManifoldPoint___destroy___0,du=o._emscripten_bind_btRigidBodyConstructionInfo_set_m_rollingFriction_1=dn._emscripten_bind_btRigidBodyConstructionInfo_set_m_rollingFriction_1,_u=o._emscripten_bind_btVector4_length_0=dn._emscripten_bind_btVector4_length_0,mu=o._emscripten_bind_btDefaultMotionState_set_m_graphicsWorldTrans_1=dn._emscripten_bind_btDefaultMotionState_set_m_graphicsWorldTrans_1,gu=o._emscripten_bind_btGhostObject_setRestitution_1=dn._emscripten_bind_btGhostObject_setRestitution_1,bu=o._emscripten_bind_btConeTwistConstraint_setAngularOnly_1=dn._emscripten_bind_btConeTwistConstraint_setAngularOnly_1,vu=o._emscripten_bind_btCollisionObject_setFriction_1=dn._emscripten_bind_btCollisionObject_setFriction_1,yu=o._emscripten_bind_btDefaultCollisionConfiguration___destroy___0=dn._emscripten_bind_btDefaultCollisionConfiguration___destroy___0,xu=o._emscripten_bind_btRigidBody_setMassProps_2=dn._emscripten_bind_btRigidBody_setMassProps_2,wu=o._emscripten_bind_btVector3_setValue_3=dn._emscripten_bind_btVector3_setValue_3,Su=o._emscripten_bind_btPairCachingGhostObject_setCcdMotionThreshold_1=dn._emscripten_bind_btPairCachingGhostObject_setCcdMotionThreshold_1,Mu=o._emscripten_bind_RaycastInfo_get_m_suspensionLength_0=dn._emscripten_bind_RaycastInfo_get_m_suspensionLength_0,Cu=o._emscripten_bind_btGhostObject_getCollisionFlags_0=dn._emscripten_bind_btGhostObject_getCollisionFlags_0,Tu=o._emscripten_bind_btCapsuleShapeX___destroy___0=dn._emscripten_bind_btCapsuleShapeX___destroy___0,Au=o._emscripten_bind_btKinematicCharacterController_setFallSpeed_1=dn._emscripten_bind_btKinematicCharacterController_setFallSpeed_1,Lu=o._emscripten_bind_btHingeConstraint_setLimit_4=dn._emscripten_bind_btHingeConstraint_setLimit_4,Eu=o._emscripten_bind_btHingeConstraint_setLimit_5=dn._emscripten_bind_btHingeConstraint_setLimit_5,Ru=o._emscripten_bind_btDefaultVehicleRaycaster___destroy___0=dn._emscripten_bind_btDefaultVehicleRaycaster___destroy___0,Iu=o._emscripten_bind_btWheelInfo_set_m_maxSuspensionTravelCm_1=dn._emscripten_bind_btWheelInfo_set_m_maxSuspensionTravelCm_1,Pu=o._emscripten_bind_btWheelInfo_set_m_wheelsSuspensionForce_1=dn._emscripten_bind_btWheelInfo_set_m_wheelsSuspensionForce_1,Du=o._emscripten_bind_btGhostObject_getNumOverlappingObjects_0=dn._emscripten_bind_btGhostObject_getNumOverlappingObjects_0,ku=o._emscripten_bind_btTypedConstraint_getBreakingImpulseThreshold_0=dn._emscripten_bind_btTypedConstraint_getBreakingImpulseThreshold_0,Ou=o._emscripten_bind_btGhostObject_getCollisionShape_0=dn._emscripten_bind_btGhostObject_getCollisionShape_0,Nu=o._emscripten_bind_btCollisionObject_setAnisotropicFriction_2=dn._emscripten_bind_btCollisionObject_setAnisotropicFriction_2,Fu=o._emscripten_bind_btBoxShape___destroy___0=dn._emscripten_bind_btBoxShape___destroy___0,Bu=o._emscripten_bind_btPersistentManifold_getContactPoint_1=dn._emscripten_bind_btPersistentManifold_getContactPoint_1,ju=o._emscripten_bind_btGeneric6DofSpringConstraint_getBreakingImpulseThreshold_0=dn._emscripten_bind_btGeneric6DofSpringConstraint_getBreakingImpulseThreshold_0,Uu=o._emscripten_bind_ConvexResultCallback_set_m_collisionFilterGroup_1=dn._emscripten_bind_ConvexResultCallback_set_m_collisionFilterGroup_1,zu=o._emscripten_bind_RaycastInfo_set_m_groundObject_1=dn._emscripten_bind_RaycastInfo_set_m_groundObject_1,Gu=o._emscripten_bind_btGhostObject_activate_1=dn._emscripten_bind_btGhostObject_activate_1,Vu=o._emscripten_bind_btGeneric6DofSpringConstraint_enableSpring_2=dn._emscripten_bind_btGeneric6DofSpringConstraint_enableSpring_2,Wu=o._emscripten_bind_btManifoldPoint_getPositionWorldOnB_0=dn._emscripten_bind_btManifoldPoint_getPositionWorldOnB_0,Hu=o._emscripten_bind_btManifoldPoint_get_m_positionWorldOnA_0=dn._emscripten_bind_btManifoldPoint_get_m_positionWorldOnA_0,Xu=o._emscripten_bind_btGeneric6DofSpringConstraint_enableFeedback_1=dn._emscripten_bind_btGeneric6DofSpringConstraint_enableFeedback_1,qu=o._emscripten_bind_btSphereShape_setMargin_1=dn._emscripten_bind_btSphereShape_setMargin_1,Yu=o._emscripten_bind_btGeneric6DofSpring2Constraint_setDamping_2=dn._emscripten_bind_btGeneric6DofSpring2Constraint_setDamping_2,Zu=o._emscripten_bind_btConeShapeZ_btConeShapeZ_2=dn._emscripten_bind_btConeShapeZ_btConeShapeZ_2,Ju=o._emscripten_bind_btContactSolverInfo_set_m_splitImpulsePenetrationThreshold_1=dn._emscripten_bind_btContactSolverInfo_set_m_splitImpulsePenetrationThreshold_1,Ku=o._emscripten_bind_btSliderConstraint_setUpperAngLimit_1=dn._emscripten_bind_btSliderConstraint_setUpperAngLimit_1,$u=o._emscripten_bind_btDynamicsWorld_contactPairTest_3=dn._emscripten_bind_btDynamicsWorld_contactPairTest_3,Qu=o._emscripten_bind_btCollisionWorld_getPairCache_0=dn._emscripten_bind_btCollisionWorld_getPairCache_0,th=o._emscripten_bind_btConeTwistConstraint_setMotorTarget_1=dn._emscripten_bind_btConeTwistConstraint_setMotorTarget_1,eh=o._emscripten_bind_ClosestConvexResultCallback_set_m_convexFromWorld_1=dn._emscripten_bind_ClosestConvexResultCallback_set_m_convexFromWorld_1,nh=o._emscripten_bind_btWheelInfo_set_m_rollInfluence_1=dn._emscripten_bind_btWheelInfo_set_m_rollInfluence_1,ih=o._emscripten_bind_btGeneric6DofConstraint_setBreakingImpulseThreshold_1=dn._emscripten_bind_btGeneric6DofConstraint_setBreakingImpulseThreshold_1,rh=o._emscripten_bind_btDefaultCollisionConstructionInfo_btDefaultCollisionConstructionInfo_0=dn._emscripten_bind_btDefaultCollisionConstructionInfo_btDefaultCollisionConstructionInfo_0,oh=o._emscripten_bind_btGhostObject_forceActivationState_1=dn._emscripten_bind_btGhostObject_forceActivationState_1,sh=o._emscripten_bind_ConcreteContactResultCallback_ConcreteContactResultCallback_0=dn._emscripten_bind_ConcreteContactResultCallback_ConcreteContactResultCallback_0,ah=o._emscripten_bind_VoidPtr___destroy___0=dn._emscripten_bind_VoidPtr___destroy___0,ch=o._emscripten_bind_RaycastInfo_set_m_contactNormalWS_1=dn._emscripten_bind_RaycastInfo_set_m_contactNormalWS_1,lh=o._emscripten_bind_btSliderConstraint_setLowerAngLimit_1=dn._emscripten_bind_btSliderConstraint_setLowerAngLimit_1,uh=o._emscripten_bind_RaycastInfo_set_m_contactPointWS_1=dn._emscripten_bind_RaycastInfo_set_m_contactPointWS_1,hh=o._emscripten_bind_btConeShape_btConeShape_2=dn._emscripten_bind_btConeShape_btConeShape_2,ph=o._emscripten_bind_ClosestRayResultCallback_get_m_rayFromWorld_0=dn._emscripten_bind_ClosestRayResultCallback_get_m_rayFromWorld_0,fh=o._emscripten_bind_btRaycastVehicle_getRigidBody_0=dn._emscripten_bind_btRaycastVehicle_getRigidBody_0,dh=o._emscripten_enum_RotateOrder_RO_YZX=dn._emscripten_enum_RotateOrder_RO_YZX,_h=o._emscripten_bind_RayResultCallback_get_m_collisionFilterGroup_0=dn._emscripten_bind_RayResultCallback_get_m_collisionFilterGroup_0,mh=o._emscripten_bind_btWheelInfo_get_m_steering_0=dn._emscripten_bind_btWheelInfo_get_m_steering_0,gh=o._emscripten_bind_btConstraintSetting_get_m_tau_0=dn._emscripten_bind_btConstraintSetting_get_m_tau_0,bh=o._emscripten_bind_btConeShape_setLocalScaling_1=dn._emscripten_bind_btConeShape_setLocalScaling_1,vh=o._emscripten_bind_btCollisionObject_setCollisionShape_1=dn._emscripten_bind_btCollisionObject_setCollisionShape_1,yh=o._emscripten_bind_btCollisionShape___destroy___0=dn._emscripten_bind_btCollisionShape___destroy___0,xh=o._emscripten_bind_ConvexResultCallback_get_m_closestHitFraction_0=dn._emscripten_bind_ConvexResultCallback_get_m_closestHitFraction_0,wh=o._emscripten_bind_btDispatcherInfo_get_m_dispatchFunc_0=dn._emscripten_bind_btDispatcherInfo_get_m_dispatchFunc_0,Sh=o._emscripten_bind_btRigidBodyConstructionInfo_get_m_rollingFriction_0=dn._emscripten_bind_btRigidBodyConstructionInfo_get_m_rollingFriction_0,Mh=o._emscripten_bind_btPairCachingGhostObject_setCollisionShape_1=dn._emscripten_bind_btPairCachingGhostObject_setCollisionShape_1,Ch=o._emscripten_bind_btKinematicCharacterController_warp_1=dn._emscripten_bind_btKinematicCharacterController_warp_1,Th=o._emscripten_bind_btContactSolverInfo___destroy___0=dn._emscripten_bind_btContactSolverInfo___destroy___0,Ah=o._emscripten_bind_btTriangleMesh___destroy___0=dn._emscripten_bind_btTriangleMesh___destroy___0,Lh=o._emscripten_bind_btKinematicCharacterController_preStep_1=dn._emscripten_bind_btKinematicCharacterController_preStep_1,Eh=o._emscripten_bind_btRaycastVehicle_applyEngineForce_2=dn._emscripten_bind_btRaycastVehicle_applyEngineForce_2,Rh=o._emscripten_bind_btRaycastVehicle_setBrake_2=dn._emscripten_bind_btRaycastVehicle_setBrake_2,Ih=o._emscripten_bind_ConcreteContactResultCallback___destroy___0=dn._emscripten_bind_ConcreteContactResultCallback___destroy___0,Ph=o._emscripten_bind_RaycastInfo_set_m_wheelAxleWS_1=dn._emscripten_bind_RaycastInfo_set_m_wheelAxleWS_1,Dh=o._emscripten_bind_btGeneric6DofSpring2Constraint_setAngularLowerLimit_1=dn._emscripten_bind_btGeneric6DofSpring2Constraint_setAngularLowerLimit_1,kh=o._emscripten_bind_btCollisionObject___destroy___0=dn._emscripten_bind_btCollisionObject___destroy___0,Oh=o._emscripten_bind_btVehicleTuning_set_m_suspensionDamping_1=dn._emscripten_bind_btVehicleTuning_set_m_suspensionDamping_1,Nh=o._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearSleepingThreshold_1=dn._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearSleepingThreshold_1,Fh=o._emscripten_bind_btConeTwistConstraint_setMotorTargetInConstraintSpace_1=dn._emscripten_bind_btConeTwistConstraint_setMotorTargetInConstraintSpace_1,Bh=o._emscripten_bind_btDispatcherInfo_set_m_timeStep_1=dn._emscripten_bind_btDispatcherInfo_set_m_timeStep_1,jh=o._emscripten_bind_btVector3_btVector3_3=dn._emscripten_bind_btVector3_btVector3_3,Uh=o._emscripten_bind_btVector3_btVector3_0=dn._emscripten_bind_btVector3_btVector3_0,zh=o._emscripten_bind_btRigidBodyConstructionInfo_set_m_friction_1=dn._emscripten_bind_btRigidBodyConstructionInfo_set_m_friction_1,Gh=o._emscripten_bind_btDiscreteDynamicsWorld_getGravity_0=dn._emscripten_bind_btDiscreteDynamicsWorld_getGravity_0,Vh=o._emscripten_bind_btVector3_z_0=dn._emscripten_bind_btVector3_z_0,Wh=o._emscripten_bind_ClosestConvexResultCallback_get_m_hitPointWorld_0=dn._emscripten_bind_ClosestConvexResultCallback_get_m_hitPointWorld_0,Hh=o._emscripten_bind_btBroadphaseInterface___destroy___0=dn._emscripten_bind_btBroadphaseInterface___destroy___0,Xh=o._emscripten_bind_btVehicleTuning_get_m_suspensionDamping_0=dn._emscripten_bind_btVehicleTuning_get_m_suspensionDamping_0,qh=o._emscripten_bind_ConcreteContactResultCallback_addSingleResult_7=dn._emscripten_bind_ConcreteContactResultCallback_addSingleResult_7,Yh=o._emscripten_bind_RaycastInfo_get_m_hardPointWS_0=dn._emscripten_bind_RaycastInfo_get_m_hardPointWS_0,Zh=o._emscripten_bind_btConeTwistConstraint___destroy___0=dn._emscripten_bind_btConeTwistConstraint___destroy___0,Jh=o._emscripten_bind_btQuadWord___destroy___0=dn._emscripten_bind_btQuadWord___destroy___0,Kh=o._emscripten_bind_ClosestRayResultCallback_set_m_rayFromWorld_1=dn._emscripten_bind_ClosestRayResultCallback_set_m_rayFromWorld_1,$h=o._emscripten_bind_btGeneric6DofSpringConstraint_setDamping_2=dn._emscripten_bind_btGeneric6DofSpringConstraint_setDamping_2,Qh=o._emscripten_bind_RaycastInfo_get_m_wheelDirectionWS_0=dn._emscripten_bind_RaycastInfo_get_m_wheelDirectionWS_0,tp=o._emscripten_bind_btRigidBody_setCenterOfMassTransform_1=dn._emscripten_bind_btRigidBody_setCenterOfMassTransform_1,ep=o._emscripten_bind_btWheelInfo_get_m_chassisConnectionPointCS_0=dn._emscripten_bind_btWheelInfo_get_m_chassisConnectionPointCS_0,np=o._emscripten_bind_btGhostObject_setAnisotropicFriction_2=dn._emscripten_bind_btGhostObject_setAnisotropicFriction_2,ip=o._emscripten_bind_btConstraintSolver___destroy___0=dn._emscripten_bind_btConstraintSolver___destroy___0,rp=o._emscripten_bind_btDbvtBroadphase___destroy___0=dn._emscripten_bind_btDbvtBroadphase___destroy___0,op=o._emscripten_bind_btCapsuleShape_btCapsuleShape_2=dn._emscripten_bind_btCapsuleShape_btCapsuleShape_2,sp=o._emscripten_bind_btTypedConstraint_enableFeedback_1=dn._emscripten_bind_btTypedConstraint_enableFeedback_1,ap=o._emscripten_bind_btGhostObject_activate_0=dn._emscripten_bind_btGhostObject_activate_0,cp=o._emscripten_bind_btCapsuleShape_setLocalScaling_1=dn._emscripten_bind_btCapsuleShape_setLocalScaling_1,lp=o._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDampingFactor_0=dn._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDampingFactor_0,up=o._emscripten_bind_btRigidBody_setAnisotropicFriction_2=dn._emscripten_bind_btRigidBody_setAnisotropicFriction_2,hp=o._emscripten_bind_btTriangleMeshShape_setLocalScaling_1=dn._emscripten_bind_btTriangleMeshShape_setLocalScaling_1,pp=o._emscripten_bind_ConvexResultCallback_set_m_closestHitFraction_1=dn._emscripten_bind_ConvexResultCallback_set_m_closestHitFraction_1,fp=o._emscripten_bind_btVector3_op_add_1=dn._emscripten_bind_btVector3_op_add_1,dp=o._emscripten_bind_btPersistentManifold_btPersistentManifold_0=dn._emscripten_bind_btPersistentManifold_btPersistentManifold_0,_p=o._emscripten_bind_ConvexResultCallback_get_m_collisionFilterMask_0=dn._emscripten_bind_ConvexResultCallback_get_m_collisionFilterMask_0,mp=o._emscripten_bind_ClosestRayResultCallback_ClosestRayResultCallback_2=dn._emscripten_bind_ClosestRayResultCallback_ClosestRayResultCallback_2,gp=o._emscripten_bind_btVector4___destroy___0=dn._emscripten_bind_btVector4___destroy___0,bp=o._emscripten_bind_btPairCachingGhostObject_isKinematicObject_0=dn._emscripten_bind_btPairCachingGhostObject_isKinematicObject_0,vp=o._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterMask_1=dn._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterMask_1,yp=o._i64Add=dn._i64Add,xp=o._emscripten_bind_btStaticPlaneShape_calculateLocalInertia_2=dn._emscripten_bind_btStaticPlaneShape_calculateLocalInertia_2,wp=o._emscripten_bind_btVehicleTuning_set_m_maxSuspensionForce_1=dn._emscripten_bind_btVehicleTuning_set_m_maxSuspensionForce_1,Sp=o._emscripten_bind_btCollisionObject_setCcdMotionThreshold_1=dn._emscripten_bind_btCollisionObject_setCcdMotionThreshold_1,Mp=o._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_4=dn._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_4,Cp=o._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_1=dn._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_1,Tp=o._emscripten_bind_btQuadWord_setZ_1=dn._emscripten_bind_btQuadWord_setZ_1,Ap=o._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularSleepingThreshold_0=dn._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularSleepingThreshold_0,Lp=o._emscripten_bind_btPoint2PointConstraint_getPivotInB_0=dn._emscripten_bind_btPoint2PointConstraint_getPivotInB_0,Ep=o._emscripten_bind_btKinematicCharacterController_playerStep_2=dn._emscripten_bind_btKinematicCharacterController_playerStep_2,Rp=o._emscripten_bind_btDispatcherInfo___destroy___0=dn._emscripten_bind_btDispatcherInfo___destroy___0,Ip=o._emscripten_bind_btCapsuleShape_getMargin_0=dn._emscripten_bind_btCapsuleShape_getMargin_0,Pp=o._emscripten_bind_btCylinderShape_getMargin_0=dn._emscripten_bind_btCylinderShape_getMargin_0,Dp=o._emscripten_bind_btStaticPlaneShape_setLocalScaling_1=dn._emscripten_bind_btStaticPlaneShape_setLocalScaling_1,kp=o._emscripten_bind_btConvexTriangleMeshShape_calculateLocalInertia_2=dn._emscripten_bind_btConvexTriangleMeshShape_calculateLocalInertia_2,Op=o._emscripten_bind_btQuaternion___destroy___0=dn._emscripten_bind_btQuaternion___destroy___0,Np=o._emscripten_bind_btGhostObject_getWorldTransform_0=dn._emscripten_bind_btGhostObject_getWorldTransform_0,Fp=o._emscripten_bind_btDiscreteDynamicsWorld_getPairCache_0=dn._emscripten_bind_btDiscreteDynamicsWorld_getPairCache_0,Bp=o._emscripten_bind_LocalConvexResult_set_m_hitFraction_1=dn._emscripten_bind_LocalConvexResult_set_m_hitFraction_1,jp=o._emscripten_bind_btCapsuleShapeZ_calculateLocalInertia_2=dn._emscripten_bind_btCapsuleShapeZ_calculateLocalInertia_2,Up=o._emscripten_bind_btDispatcherInfo_get_m_timeStep_0=dn._emscripten_bind_btDispatcherInfo_get_m_timeStep_0,zp=o._emscripten_bind_btVehicleTuning_set_m_suspensionCompression_1=dn._emscripten_bind_btVehicleTuning_set_m_suspensionCompression_1,Gp=o._emscripten_bind_btBoxShape_calculateLocalInertia_2=dn._emscripten_bind_btBoxShape_calculateLocalInertia_2,Vp=o._emscripten_bind_btMotionState___destroy___0=dn._emscripten_bind_btMotionState___destroy___0,Wp=o._emscripten_bind_btGeneric6DofSpring2Constraint___destroy___0=dn._emscripten_bind_btGeneric6DofSpring2Constraint___destroy___0,Hp=o._emscripten_bind_btCollisionObject_setCollisionFlags_1=dn._emscripten_bind_btCollisionObject_setCollisionFlags_1,Xp=o._emscripten_bind_btGeneric6DofSpring2Constraint_getTranslationalLimitMotor_0=dn._emscripten_bind_btGeneric6DofSpring2Constraint_getTranslationalLimitMotor_0,qp=o._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_1=dn._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_1,Yp=o._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_2=dn._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_2,Zp=o._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_3=dn._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_3,Jp=o._emscripten_bind_btWheelInfo_set_m_suspensionStiffness_1=dn._emscripten_bind_btWheelInfo_set_m_suspensionStiffness_1,Kp=o._emscripten_bind_btConvexTriangleMeshShape___destroy___0=dn._emscripten_bind_btConvexTriangleMeshShape___destroy___0,$p=o._emscripten_bind_btDispatcher_getManifoldByIndexInternal_1=dn._emscripten_bind_btDispatcher_getManifoldByIndexInternal_1,Qp=o._emscripten_bind_btRaycastVehicle_getWheelInfo_1=dn._emscripten_bind_btRaycastVehicle_getWheelInfo_1,tf=o._bitshift64Lshr=dn._bitshift64Lshr,ef=o._emscripten_bind_btWheelInfo_set_m_steering_1=dn._emscripten_bind_btWheelInfo_set_m_steering_1,nf=o._emscripten_bind_btPairCachingGhostObject_setWorldTransform_1=dn._emscripten_bind_btPairCachingGhostObject_setWorldTransform_1,rf=o._emscripten_bind_btHingeConstraint_getBreakingImpulseThreshold_0=dn._emscripten_bind_btHingeConstraint_getBreakingImpulseThreshold_0,of=o._emscripten_bind_btDefaultCollisionConstructionInfo___destroy___0=dn._emscripten_bind_btDefaultCollisionConstructionInfo___destroy___0,sf=o._emscripten_bind_btGhostObject_setCcdSweptSphereRadius_1=dn._emscripten_bind_btGhostObject_setCcdSweptSphereRadius_1,af=o._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_4=dn._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_4,cf=o._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_2=dn._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_2,lf=o._emscripten_bind_btKinematicCharacterController_setJumpSpeed_1=dn._emscripten_bind_btKinematicCharacterController_setJumpSpeed_1,uf=o._emscripten_bind_btConeShapeX_calculateLocalInertia_2=dn._emscripten_bind_btConeShapeX_calculateLocalInertia_2,hf=o._emscripten_bind_btPairCachingGhostObject_getOverlappingObject_1=dn._emscripten_bind_btPairCachingGhostObject_getOverlappingObject_1,pf=o._emscripten_bind_btRigidBodyConstructionInfo___destroy___0=dn._emscripten_bind_btRigidBodyConstructionInfo___destroy___0,ff=o._emscripten_bind_btRigidBody_getWorldTransform_0=dn._emscripten_bind_btRigidBody_getWorldTransform_0,df=o._emscripten_bind_btPoint2PointConstraint_setPivotA_1=dn._emscripten_bind_btPoint2PointConstraint_setPivotA_1,_f=o._emscripten_bind_ClosestConvexResultCallback_set_m_convexToWorld_1=dn._emscripten_bind_ClosestConvexResultCallback_set_m_convexToWorld_1,mf=o._memcpy=dn._memcpy,gf=o._emscripten_bind_btCapsuleShape_calculateLocalInertia_2=dn._emscripten_bind_btCapsuleShape_calculateLocalInertia_2,bf=o._emscripten_bind_btVector3_y_0=dn._emscripten_bind_btVector3_y_0,vf=o._emscripten_bind_btVehicleTuning_get_m_maxSuspensionForce_0=dn._emscripten_bind_btVehicleTuning_get_m_maxSuspensionForce_0,yf=o._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_2=dn._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_2,xf=o._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_3=dn._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_3,wf=o._emscripten_bind_LocalShapeInfo_get_m_triangleIndex_0=dn._emscripten_bind_LocalShapeInfo_get_m_triangleIndex_0,Sf=o._emscripten_bind_btGhostObject_setCollisionShape_1=dn._emscripten_bind_btGhostObject_setCollisionShape_1,Mf=o._emscripten_bind_btDispatcherInfo_set_m_allowedCcdPenetration_1=dn._emscripten_bind_btDispatcherInfo_set_m_allowedCcdPenetration_1,Cf=o._emscripten_bind_btRigidBody_setRollingFriction_1=dn._emscripten_bind_btRigidBody_setRollingFriction_1,Tf=o._emscripten_bind_btPairCachingGhostObject_setRollingFriction_1=dn._emscripten_bind_btPairCachingGhostObject_setRollingFriction_1,Af=o._emscripten_bind_btDiscreteDynamicsWorld_setGravity_1=dn._emscripten_bind_btDiscreteDynamicsWorld_setGravity_1,Lf=o._emscripten_bind_btVehicleTuning_set_m_suspensionStiffness_1=dn._emscripten_bind_btVehicleTuning_set_m_suspensionStiffness_1,Ef=o._emscripten_bind_btVector4_z_0=dn._emscripten_bind_btVector4_z_0,Rf=o._emscripten_bind_btCollisionObject_forceActivationState_1=dn._emscripten_bind_btCollisionObject_forceActivationState_1,If=o._emscripten_bind_btKinematicCharacterController_onGround_0=dn._emscripten_bind_btKinematicCharacterController_onGround_0,Pf=o._free=dn._free,Df=o._emscripten_bind_btGeneric6DofConstraint_getBreakingImpulseThreshold_0=dn._emscripten_bind_btGeneric6DofConstraint_getBreakingImpulseThreshold_0,kf=o._emscripten_bind_btConeTwistConstraint_setLimit_2=dn._emscripten_bind_btConeTwistConstraint_setLimit_2,Of=o._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterMask_1=dn._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterMask_1,Nf=o._emscripten_bind_btRigidBody___destroy___0=dn._emscripten_bind_btRigidBody___destroy___0,Ff=o._emscripten_bind_btStridingMeshInterface___destroy___0=dn._emscripten_bind_btStridingMeshInterface___destroy___0,Bf=(o.runPostSets=dn.runPostSets,o._emscripten_bind_btRigidBody_setSleepingThresholds_2=dn._emscripten_bind_btRigidBody_setSleepingThresholds_2),jf=o._emscripten_bind_btCollisionObject_setWorldTransform_1=dn._emscripten_bind_btCollisionObject_setWorldTransform_1,Uf=o._emscripten_bind_LocalConvexResult_get_m_localShapeInfo_0=dn._emscripten_bind_LocalConvexResult_get_m_localShapeInfo_0,zf=o._emscripten_bind_btManifoldPoint_get_m_localPointA_0=dn._emscripten_bind_btManifoldPoint_get_m_localPointA_0,Gf=o._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearDamping_0=dn._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearDamping_0,Vf=o._emscripten_bind_btGeneric6DofSpring2Constraint_enableFeedback_1=dn._emscripten_bind_btGeneric6DofSpring2Constraint_enableFeedback_1,Wf=o._emscripten_bind_btDispatcher_getNumManifolds_0=dn._emscripten_bind_btDispatcher_getNumManifolds_0,Hf=o._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearSleepingThreshold_0=dn._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearSleepingThreshold_0,Xf=o._emscripten_bind_btRigidBody_activate_1=dn._emscripten_bind_btRigidBody_activate_1,qf=o._emscripten_bind_btRigidBody_activate_0=dn._emscripten_bind_btRigidBody_activate_0,Yf=o._emscripten_bind_btRaycastVehicle___destroy___0=dn._emscripten_bind_btRaycastVehicle___destroy___0,Zf=o._emscripten_bind_btGhostObject_setActivationState_1=dn._emscripten_bind_btGhostObject_setActivationState_1,Jf=o._emscripten_bind_btCollisionWorld_contactPairTest_3=dn._emscripten_bind_btCollisionWorld_contactPairTest_3,Kf=o._emscripten_bind_btCylinderShapeX___destroy___0=dn._emscripten_bind_btCylinderShapeX___destroy___0,$f=o._emscripten_bind_btManifoldPoint_getPositionWorldOnA_0=dn._emscripten_bind_btManifoldPoint_getPositionWorldOnA_0,Qf=o._emscripten_bind_ContactResultCallback___destroy___0=dn._emscripten_bind_ContactResultCallback___destroy___0,td=o._emscripten_bind_btDispatcherInfo_set_m_stepCount_1=dn._emscripten_bind_btDispatcherInfo_set_m_stepCount_1,ed=o._emscripten_bind_btVector4_x_0=dn._emscripten_bind_btVector4_x_0,nd=o._emscripten_bind_btConstraintSetting_btConstraintSetting_0=dn._emscripten_bind_btConstraintSetting_btConstraintSetting_0,id=o._emscripten_bind_btRigidBody_getMotionState_0=dn._emscripten_bind_btRigidBody_getMotionState_0,rd=o._emscripten_bind_btKinematicCharacterController_getGhostObject_0=dn._emscripten_bind_btKinematicCharacterController_getGhostObject_0,od=o._emscripten_bind_btRigidBody_btRigidBody_1=dn._emscripten_bind_btRigidBody_btRigidBody_1,sd=o._emscripten_bind_btTriangleMeshShape___destroy___0=dn._emscripten_bind_btTriangleMeshShape___destroy___0,ad=o._emscripten_bind_btKinematicCharacterController_setWalkDirection_1=dn._emscripten_bind_btKinematicCharacterController_setWalkDirection_1,cd=o._emscripten_bind_btDynamicsWorld_removeAction_1=dn._emscripten_bind_btDynamicsWorld_removeAction_1,ld=o._emscripten_bind_btRigidBodyConstructionInfo_get_m_restitution_0=dn._emscripten_bind_btRigidBodyConstructionInfo_get_m_restitution_0,ud=o._emscripten_bind_btVehicleTuning_get_m_suspensionStiffness_0=dn._emscripten_bind_btVehicleTuning_get_m_suspensionStiffness_0,hd=o._emscripten_bind_btManifoldPoint_set_m_normalWorldOnB_1=dn._emscripten_bind_btManifoldPoint_set_m_normalWorldOnB_1,pd=o._emscripten_bind_btKinematicCharacterController_getGravity_0=dn._emscripten_bind_btKinematicCharacterController_getGravity_0,fd=o._emscripten_bind_btConeTwistConstraint_getBreakingImpulseThreshold_0=dn._emscripten_bind_btConeTwistConstraint_getBreakingImpulseThreshold_0,dd=o._emscripten_bind_btGeneric6DofConstraint_setAngularLowerLimit_1=dn._emscripten_bind_btGeneric6DofConstraint_setAngularLowerLimit_1,_d=o._emscripten_bind_btVector4_normalize_0=dn._emscripten_bind_btVector4_normalize_0,md=o._emscripten_bind_btQuaternion_setY_1=dn._emscripten_bind_btQuaternion_setY_1,gd=o._emscripten_bind_btConeShape_calculateLocalInertia_2=dn._emscripten_bind_btConeShape_calculateLocalInertia_2,bd=o._emscripten_bind_btCylinderShapeX_calculateLocalInertia_2=dn._emscripten_bind_btCylinderShapeX_calculateLocalInertia_2,vd=o._emscripten_bind_ConvexResultCallback_set_m_collisionFilterMask_1=dn._emscripten_bind_ConvexResultCallback_set_m_collisionFilterMask_1,yd=o._llvm_bswap_i32=dn._llvm_bswap_i32,xd=o._emscripten_enum_RotateOrder_RO_XZY=dn._emscripten_enum_RotateOrder_RO_XZY,wd=o._emscripten_bind_btSphereShape_setLocalScaling_1=dn._emscripten_bind_btSphereShape_setLocalScaling_1,Sd=o._emscripten_bind_btVector4_w_0=dn._emscripten_bind_btVector4_w_0,Md=o._emscripten_bind_btManifoldPoint_get_m_normalWorldOnB_0=dn._emscripten_bind_btManifoldPoint_get_m_normalWorldOnB_0,Cd=o._emscripten_bind_btBvhTriangleMeshShape___destroy___0=dn._emscripten_bind_btBvhTriangleMeshShape___destroy___0,Td=o._emscripten_bind_ClosestRayResultCallback_get_m_rayToWorld_0=dn._emscripten_bind_ClosestRayResultCallback_get_m_rayToWorld_0,Ad=o._emscripten_bind_ClosestConvexResultCallback_set_m_closestHitFraction_1=dn._emscripten_bind_ClosestConvexResultCallback_set_m_closestHitFraction_1,Ld=o._emscripten_bind_btDiscreteDynamicsWorld_removeConstraint_1=dn._emscripten_bind_btDiscreteDynamicsWorld_removeConstraint_1,Ed=o._emscripten_bind_btVector4_y_0=dn._emscripten_bind_btVector4_y_0,Rd=o._emscripten_bind_btGeneric6DofConstraint___destroy___0=dn._emscripten_bind_btGeneric6DofConstraint___destroy___0,Id=o._emscripten_bind_btVehicleTuning_get_m_maxSuspensionTravelCm_0=dn._emscripten_bind_btVehicleTuning_get_m_maxSuspensionTravelCm_0,Pd=o._emscripten_bind_btConvexHullShape_addPoint_1=dn._emscripten_bind_btConvexHullShape_addPoint_1,Dd=o._emscripten_bind_btConvexHullShape_addPoint_2=dn._emscripten_bind_btConvexHullShape_addPoint_2,kd=o._emscripten_bind_btPoint2PointConstraint_getBreakingImpulseThreshold_0=dn._emscripten_bind_btPoint2PointConstraint_getBreakingImpulseThreshold_0,Od=o._emscripten_bind_btTransform_getOrigin_0=dn._emscripten_bind_btTransform_getOrigin_0,Nd=o._emscripten_enum_RotateOrder_RO_ZYX=dn._emscripten_enum_RotateOrder_RO_ZYX,Fd=o._emscripten_bind_btHingeConstraint___destroy___0=dn._emscripten_bind_btHingeConstraint___destroy___0,Bd=o._emscripten_bind_btConvexShape_calculateLocalInertia_2=dn._emscripten_bind_btConvexShape_calculateLocalInertia_2,jd=o._memset=dn._memset,Ud=o._emscripten_bind_btGeneric6DofConstraint_setLinearLowerLimit_1=dn._emscripten_bind_btGeneric6DofConstraint_setLinearLowerLimit_1,zd=o._emscripten_bind_ClosestRayResultCallback_get_m_hitNormalWorld_0=dn._emscripten_bind_ClosestRayResultCallback_get_m_hitNormalWorld_0,Gd=o._emscripten_bind_btTriangleMesh_btTriangleMesh_0=dn._emscripten_bind_btTriangleMesh_btTriangleMesh_0,Vd=o._emscripten_bind_btTriangleMesh_btTriangleMesh_1=dn._emscripten_bind_btTriangleMesh_btTriangleMesh_1,Wd=o._emscripten_bind_btTriangleMesh_btTriangleMesh_2=dn._emscripten_bind_btTriangleMesh_btTriangleMesh_2,Hd=o._emscripten_bind_btWheelInfo_set_m_frictionSlip_1=dn._emscripten_bind_btWheelInfo_set_m_frictionSlip_1,Xd=o._emscripten_bind_btRigidBody_getCollisionShape_0=dn._emscripten_bind_btRigidBody_getCollisionShape_0,qd=o._emscripten_bind_btManifoldPoint_set_m_positionWorldOnA_1=dn._emscripten_bind_btManifoldPoint_set_m_positionWorldOnA_1,Yd=o._emscripten_bind_btWheelInfo_get_m_wheelsDampingRelaxation_0=dn._emscripten_bind_btWheelInfo_get_m_wheelsDampingRelaxation_0,Zd=o._emscripten_bind_btManifoldPoint_get_m_localPointB_0=dn._emscripten_bind_btManifoldPoint_get_m_localPointB_0,Jd=o._emscripten_bind_btDiscreteDynamicsWorld_contactPairTest_3=dn._emscripten_bind_btDiscreteDynamicsWorld_contactPairTest_3,Kd=o._emscripten_bind_btSliderConstraint_setLowerLinLimit_1=dn._emscripten_bind_btSliderConstraint_setLowerLinLimit_1,$d=o._emscripten_bind_btRigidBody_getAngularVelocity_0=dn._emscripten_bind_btRigidBody_getAngularVelocity_0,Qd=o._emscripten_bind_btCollisionObject_setCcdSweptSphereRadius_1=dn._emscripten_bind_btCollisionObject_setCcdSweptSphereRadius_1,t_=o._emscripten_bind_btWheelInfo_get_m_wheelsRadius_0=dn._emscripten_bind_btWheelInfo_get_m_wheelsRadius_0,e_=o._emscripten_bind_btRigidBody_setLinearVelocity_1=dn._emscripten_bind_btRigidBody_setLinearVelocity_1,n_=o._emscripten_bind_btVehicleTuning_btVehicleTuning_0=dn._emscripten_bind_btVehicleTuning_btVehicleTuning_0,i_=o._emscripten_bind_RayResultCallback_set_m_collisionObject_1=dn._emscripten_bind_RayResultCallback_set_m_collisionObject_1,r_=o._emscripten_bind_ClosestRayResultCallback_set_m_rayToWorld_1=dn._emscripten_bind_ClosestRayResultCallback_set_m_rayToWorld_1,o_=o._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterGroup_0=dn._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterGroup_0,s_=o._emscripten_bind_btWheelInfo_set_m_wheelsDampingRelaxation_1=dn._emscripten_bind_btWheelInfo_set_m_wheelsDampingRelaxation_1,a_=o._emscripten_bind_btDynamicsWorld_addAction_1=dn._emscripten_bind_btDynamicsWorld_addAction_1,c_=o._emscripten_bind_btVector4_op_sub_1=dn._emscripten_bind_btVector4_op_sub_1,l_=o._emscripten_bind_RaycastInfo_set_m_hardPointWS_1=dn._emscripten_bind_RaycastInfo_set_m_hardPointWS_1,u_=o._emscripten_bind_btPairCachingGhostObject_getCollisionFlags_0=dn._emscripten_bind_btPairCachingGhostObject_getCollisionFlags_0,h_=o._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearDamping_1=dn._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearDamping_1,p_=o._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDamping_1=dn._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDamping_1,f_=o._emscripten_bind_btGeneric6DofSpring2Constraint_setLinearLowerLimit_1=dn._emscripten_bind_btGeneric6DofSpring2Constraint_setLinearLowerLimit_1,d_=o._emscripten_bind_btRigidBody_setActivationState_1=dn._emscripten_bind_btRigidBody_setActivationState_1,__=o._emscripten_bind_btWheelInfo_get_m_wheelsDampingCompression_0=dn._emscripten_bind_btWheelInfo_get_m_wheelsDampingCompression_0,m_=o._emscripten_bind_ClosestConvexResultCallback_hasHit_0=dn._emscripten_bind_ClosestConvexResultCallback_hasHit_0,g_=o._emscripten_bind_btCapsuleShapeZ___destroy___0=dn._emscripten_bind_btCapsuleShapeZ___destroy___0,b_=o._emscripten_bind_btWheelInfo_get_m_maxSuspensionForce_0=dn._emscripten_bind_btWheelInfo_get_m_maxSuspensionForce_0,v_=o._emscripten_bind_ClosestRayResultCallback_get_m_collisionObject_0=dn._emscripten_bind_ClosestRayResultCallback_get_m_collisionObject_0,y_=o._emscripten_bind_btTriangleMesh_addTriangle_3=dn._emscripten_bind_btTriangleMesh_addTriangle_3,x_=o._emscripten_bind_btGhostObject_getOverlappingObject_1=dn._emscripten_bind_btGhostObject_getOverlappingObject_1,w_=o._emscripten_bind_btTriangleMesh_addTriangle_4=dn._emscripten_bind_btTriangleMesh_addTriangle_4,S_=o._emscripten_bind_btRigidBody_applyTorqueImpulse_1=dn._emscripten_bind_btRigidBody_applyTorqueImpulse_1,M_=o._emscripten_bind_btRigidBody_setCollisionFlags_1=dn._emscripten_bind_btRigidBody_setCollisionFlags_1,C_=o._emscripten_bind_btWheelInfo_set_m_suspensionRestLength1_1=dn._emscripten_bind_btWheelInfo_set_m_suspensionRestLength1_1,T_=o._emscripten_bind_btConeShape___destroy___0=dn._emscripten_bind_btConeShape___destroy___0,A_=o._emscripten_bind_btCapsuleShapeZ_btCapsuleShapeZ_2=dn._emscripten_bind_btCapsuleShapeZ_btCapsuleShapeZ_2,L_=o._emscripten_bind_btSliderConstraint_btSliderConstraint_5=dn._emscripten_bind_btSliderConstraint_btSliderConstraint_5,E_=o._emscripten_bind_btSliderConstraint_btSliderConstraint_3=dn._emscripten_bind_btSliderConstraint_btSliderConstraint_3,R_=o._emscripten_bind_btTransform___destroy___0=dn._emscripten_bind_btTransform___destroy___0,I_=o._emscripten_bind_btDynamicsWorld_convexSweepTest_5=dn._emscripten_bind_btDynamicsWorld_convexSweepTest_5,P_=o._emscripten_bind_btSliderConstraint___destroy___0=dn._emscripten_bind_btSliderConstraint___destroy___0,D_=o._emscripten_bind_btRigidBody_forceActivationState_1=dn._emscripten_bind_btRigidBody_forceActivationState_1,k_=o._emscripten_bind_btPoint2PointConstraint_setPivotB_1=dn._emscripten_bind_btPoint2PointConstraint_setPivotB_1,O_=o._emscripten_bind_btManifoldPoint_getDistance_0=dn._emscripten_bind_btManifoldPoint_getDistance_0,N_=o._emscripten_bind_btGhostPairCallback___destroy___0=dn._emscripten_bind_btGhostPairCallback___destroy___0,F_=o._emscripten_bind_btKinematicCharacterController_getMaxSlope_0=dn._emscripten_bind_btKinematicCharacterController_getMaxSlope_0,B_=o._emscripten_bind_btSliderConstraint_enableFeedback_1=dn._emscripten_bind_btSliderConstraint_enableFeedback_1,j_=o._emscripten_bind_btRaycastVehicle_addWheel_7=dn._emscripten_bind_btRaycastVehicle_addWheel_7,U_=o._emscripten_bind_ClosestRayResultCallback_set_m_hitNormalWorld_1=dn._emscripten_bind_ClosestRayResultCallback_set_m_hitNormalWorld_1,z_=o._emscripten_bind_LocalConvexResult_set_m_localShapeInfo_1=dn._emscripten_bind_LocalConvexResult_set_m_localShapeInfo_1,G_=o._emscripten_bind_btStaticPlaneShape___destroy___0=dn._emscripten_bind_btStaticPlaneShape___destroy___0,V_=o._emscripten_bind_btCylinderShapeZ_setLocalScaling_1=dn._emscripten_bind_btCylinderShapeZ_setLocalScaling_1,W_=o._emscripten_bind_btBoxShape_setLocalScaling_1=dn._emscripten_bind_btBoxShape_setLocalScaling_1,H_=o._emscripten_bind_btConeShapeZ___destroy___0=dn._emscripten_bind_btConeShapeZ___destroy___0,X_=o._emscripten_bind_btDynamicsWorld_getPairCache_0=dn._emscripten_bind_btDynamicsWorld_getPairCache_0,q_=o._emscripten_bind_btDiscreteDynamicsWorld_convexSweepTest_5=dn._emscripten_bind_btDiscreteDynamicsWorld_convexSweepTest_5,Y_=o._emscripten_bind_btKinematicCharacterController_setVelocityForTimeInterval_2=dn._emscripten_bind_btKinematicCharacterController_setVelocityForTimeInterval_2,Z_=o._emscripten_bind_btRigidBody_setRestitution_1=dn._emscripten_bind_btRigidBody_setRestitution_1,J_=o._emscripten_bind_btVector4_btVector4_0=dn._emscripten_bind_btVector4_btVector4_0,K_=o._emscripten_bind_btDispatcherInfo_get_m_enableSatConvex_0=dn._emscripten_bind_btDispatcherInfo_get_m_enableSatConvex_0,$_=o._emscripten_bind_btVector4_btVector4_4=dn._emscripten_bind_btVector4_btVector4_4,Q_=o._emscripten_bind_btKinematicCharacterController___destroy___0=dn._emscripten_bind_btKinematicCharacterController___destroy___0,tm=o._emscripten_bind_btGeneric6DofSpringConstraint_setLinearLowerLimit_1=dn._emscripten_bind_btGeneric6DofSpringConstraint_setLinearLowerLimit_1,em=o._emscripten_enum_RotateOrder_RO_ZXY=dn._emscripten_enum_RotateOrder_RO_ZXY,nm=o._emscripten_bind_LocalConvexResult_set_m_hitCollisionObject_1=dn._emscripten_bind_LocalConvexResult_set_m_hitCollisionObject_1,im=o._emscripten_bind_btRotationalLimitMotor2_set_m_currentPosition_1=dn._emscripten_bind_btRotationalLimitMotor2_set_m_currentPosition_1,rm=o._emscripten_bind_btGeneric6DofSpringConstraint_setAngularLowerLimit_1=dn._emscripten_bind_btGeneric6DofSpringConstraint_setAngularLowerLimit_1,om=o._emscripten_bind_btDiscreteDynamicsWorld_rayTest_3=dn._emscripten_bind_btDiscreteDynamicsWorld_rayTest_3,sm=o._emscripten_bind_btWheelInfo_get_m_raycastInfo_0=dn._emscripten_bind_btWheelInfo_get_m_raycastInfo_0,am=o._emscripten_bind_btContactSolverInfo_get_m_splitImpulse_0=dn._emscripten_bind_btContactSolverInfo_get_m_splitImpulse_0,cm=o._emscripten_bind_btGhostPairCallback_btGhostPairCallback_0=dn._emscripten_bind_btGhostPairCallback_btGhostPairCallback_0,lm=o._emscripten_bind_btKinematicCharacterController_setMaxJumpHeight_1=dn._emscripten_bind_btKinematicCharacterController_setMaxJumpHeight_1,um=o._emscripten_bind_btPairCachingGhostObject_isActive_0=dn._emscripten_bind_btPairCachingGhostObject_isActive_0,hm=o._emscripten_bind_btVehicleTuning_get_m_frictionSlip_0=dn._emscripten_bind_btVehicleTuning_get_m_frictionSlip_0;function pm(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}o.dynCall_viiiii=dn.dynCall_viiiii,o.dynCall_vid=dn.dynCall_vid,o.dynCall_vi=dn.dynCall_vi,o.dynCall_viiidii=dn.dynCall_viiidii,o.dynCall_vii=dn.dynCall_vii,o.dynCall_iiiiiiiiiii=dn.dynCall_iiiiiiiiiii,o.dynCall_ii=dn.dynCall_ii,o.dynCall_viidi=dn.dynCall_viidi,o.dynCall_viddiii=dn.dynCall_viddiii,o.dynCall_vidii=dn.dynCall_vidii,o.dynCall_iiiii=dn.dynCall_iiiii,o.dynCall_vidi=dn.dynCall_vidi,o.dynCall_diiiiiiii=dn.dynCall_diiiiiiii,o.dynCall_viiiiddddiid=dn.dynCall_viiiiddddiid,o.dynCall_diiiii=dn.dynCall_diiiii,o.dynCall_iiii=dn.dynCall_iiii,o.dynCall_viiiiii=dn.dynCall_viiiiii,o.dynCall_iiid=dn.dynCall_iiid,o.dynCall_di=dn.dynCall_di,o.dynCall_iiiiiii=dn.dynCall_iiiiiii,o.dynCall_diiidii=dn.dynCall_diiidii,o.dynCall_viidii=dn.dynCall_viidii,o.dynCall_viiiiiii=dn.dynCall_viiiiiii,o.dynCall_viiiiiiiii=dn.dynCall_viiiiiiiii,o.dynCall_viiiiiiiiii=dn.dynCall_viiiiiiiiii,o.dynCall_iii=dn.dynCall_iii,o.dynCall_diii=dn.dynCall_diii,o.dynCall_diiiiiiiiii=dn.dynCall_diiiiiiiiii,o.dynCall_viiiid=dn.dynCall_viiiid,o.dynCall_diiiiiiiii=dn.dynCall_diiiiiiiii,o.dynCall_did=dn.dynCall_did,o.dynCall_viiiidddddidi=dn.dynCall_viiiidddddidi,o.dynCall_diidii=dn.dynCall_diidii,o.dynCall_diiii=dn.dynCall_diiii,o.dynCall_iiiiiiiiii=dn.dynCall_iiiiiiiiii,o.dynCall_viiid=dn.dynCall_viiid,o.dynCall_viii=dn.dynCall_viii,o.dynCall_v=dn.dynCall_v,o.dynCall_viid=dn.dynCall_viid,o.dynCall_iidid=dn.dynCall_iidid,o.dynCall_viiii=dn.dynCall_viiii,m.stackAlloc=dn.stackAlloc,m.stackSave=dn.stackSave,m.stackRestore=dn.stackRestore,m.establishStackSpace=dn.establishStackSpace,m.setTempRet0=dn.setTempRet0,m.getTempRet0=dn.getTempRet0,pm.prototype=new Error,pm.prototype.constructor=pm;var fm=null;function dm(t){function e(){o.calledRun||(o.calledRun=!0,x||(wt(),St(),o.onRuntimeInitialized&&o.onRuntimeInitialized(),o._main&&bm&&o.callMain(t),Ct()))}t=t||o.arguments,null===fm&&(fm=Date.now()),zt>0||(xt(),zt>0||o.calledRun||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),e()}),1)):e()))}function _m(t,e){if(!e||!o.noExitRuntime)throw o.noExitRuntime||(x=!0,st=fn,Mt(),o.onExit&&o.onExit(t)),p?i.exit(t):f&&"function"==typeof quit&&quit(t),new pm(t)}Vt=function t(){o.calledRun||dm(),o.calledRun||(Vt=t)},o.callMain=o.callMain=function(t){t=t||[],wt();var e=t.length+1;function n(){for(var t=0;t<3;t++)i.push(0)}var i=[z(It(o.thisProgram),"i8",N)];n();for(var r=0;r<e-1;r+=1)i.push(z(It(t[r]),"i8",N)),n();i.push(0),i=z(i,"i32",N);try{_m(o._main(e,i,0),!0)}catch(t){if(t instanceof pm)return;if("SimulateInfiniteLoop"==t)return void(o.noExitRuntime=!0);throw t&&"object"==typeof t&&t.stack&&o.printErr("exception thrown: "+[t,t.stack]),t}},o.run=o.run=dm,o.exit=o.exit=_m;var mm=[];function gm(t){void 0!==t?(o.print(t),o.printErr(t),t=JSON.stringify(t)):t="",x=!0;var e="\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.",n="abort("+t+") at "+tt()+e;throw mm&&mm.forEach((function(e){n=e(n,t)})),n}if(o.abort=o.abort=gm,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();var bm=!0;function vm(){}function ym(t){return(t||vm).__cache__}function xm(t,e){var n=ym(e),i=n[t];return i||((i=Object.create((e||vm).prototype)).ptr=t,n[t]=i)}function wm(t,e){return xm(t.ptr,e)}function Sm(t){if(!t.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";t.__destroy__(),delete ym(t.__class__)[t.ptr]}function Mm(t,e){return t.ptr===e.ptr}function Cm(t){return t.ptr}function Tm(t){return t.__class__}function Am(){throw"cannot construct a btCollisionShape, no constructor in IDL"}function Lm(){throw"cannot construct a btCollisionObject, no constructor in IDL"}function Em(){throw"cannot construct a btConcaveShape, no constructor in IDL"}function Rm(){throw"cannot construct a btCollisionWorld, no constructor in IDL"}function Im(){throw"cannot construct a btTypedConstraint, no constructor in IDL"}function Pm(t,e){t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),this.ptr=op(t,e),ym(Pm)[this.ptr]=this}function Dm(t,e,n,i,r){return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),i&&"object"==typeof i&&(i=i.ptr),r&&"object"==typeof r&&(r=r.ptr),void 0===i?(this.ptr=Xi(t,e,n),void(ym(Dm)[this.ptr]=this)):void 0===r?(this.ptr=_emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_4(t,e,n,i),void(ym(Dm)[this.ptr]=this)):(this.ptr=Hi(t,e,n,i,r),void(ym(Dm)[this.ptr]=this))}function km(){throw"cannot construct a btStridingMeshInterface, no constructor in IDL"}function Om(){throw"cannot construct a ConvexResultCallback, no constructor in IDL"}function Nm(){throw"cannot construct a btMotionState, no constructor in IDL"}function Fm(t,e){t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),this.ptr=hh(t,e),ym(Fm)[this.ptr]=this}function Bm(){throw"cannot construct a btConvexShape, no constructor in IDL"}function jm(){throw"cannot construct a ContactResultCallback, no constructor in IDL"}function Um(){throw"cannot construct a btTriangleMeshShape, no constructor in IDL"}function zm(){throw"cannot construct a btDispatcher, no constructor in IDL"}function Gm(){throw"cannot construct a btDynamicsWorld, no constructor in IDL"}function Vm(){throw"cannot construct a RayResultCallback, no constructor in IDL"}function Wm(t,e,n){return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),void 0===t?(this.ptr=Uh(),void(ym(Wm)[this.ptr]=this)):void 0===e?(this.ptr=_emscripten_bind_btVector3_btVector3_1(t),void(ym(Wm)[this.ptr]=this)):void 0===n?(this.ptr=_emscripten_bind_btVector3_btVector3_2(t,e),void(ym(Wm)[this.ptr]=this)):(this.ptr=jh(t,e,n),void(ym(Wm)[this.ptr]=this))}function Hm(){throw"cannot construct a btVehicleRaycaster, no constructor in IDL"}function Xm(){this.ptr=Xo(),ym(Xm)[this.ptr]=this}function qm(){throw"cannot construct a btQuadWord, no constructor in IDL"}function Ym(t){t&&"object"==typeof t&&(t=t.ptr),this.ptr=$l(t),ym(Ym)[this.ptr]=this}function Zm(){throw"cannot construct a btActionInterface, no constructor in IDL"}function Jm(){throw"cannot construct a btMatrix3x3, no constructor in IDL"}function Km(){this.ptr=sh(),ym(Km)[this.ptr]=this}function $m(t,e,n){if(t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),void 0===n)return this.ptr=yf(t,e),void(ym($m)[this.ptr]=this);this.ptr=xf(t,e,n),ym($m)[this.ptr]=this}function Qm(){this.ptr=qa(),ym(Qm)[this.ptr]=this}function tg(){throw"cannot construct a VoidPtr, no constructor in IDL"}function eg(){this.ptr=Nl(),ym(eg)[this.ptr]=this}function ng(){throw"cannot construct a btDispatcherInfo, no constructor in IDL"}function ig(){throw"cannot construct a btCollisionConfiguration, no constructor in IDL"}function rg(t,e,n,i,r){return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),i&&"object"==typeof i&&(i=i.ptr),r&&"object"==typeof r&&(r=r.ptr),void 0===n?(this.ptr=os(t,e),void(ym(rg)[this.ptr]=this)):void 0===i?(this.ptr=ss(t,e,n),void(ym(rg)[this.ptr]=this)):void 0===r?(this.ptr=ls(t,e,n,i),void(ym(rg)[this.ptr]=this)):(this.ptr=us(t,e,n,i,r),void(ym(rg)[this.ptr]=this))}function og(){this.ptr=ki(),ym(og)[this.ptr]=this}function sg(t,e,n,i){if(t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),i&&"object"==typeof i&&(i=i.ptr),void 0===i)return this.ptr=uu(t,e,n),void(ym(sg)[this.ptr]=this);this.ptr=pu(t,e,n,i),ym(sg)[this.ptr]=this}function ag(){throw"cannot construct a RaycastInfo, no constructor in IDL"}function cg(){throw"cannot construct a btManifoldPoint, no constructor in IDL"}function lg(){throw"cannot construct a btBroadphaseInterface, no constructor in IDL"}function ug(t,e,n,i){t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),i&&"object"==typeof i&&(i=i.ptr),this.ptr=xn(t,e,n,i),ym(ug)[this.ptr]=this}function hg(t,e){if(t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),void 0===e)return this.ptr=rr(t),void(ym(hg)[this.ptr]=this);this.ptr=ir(t,e),ym(hg)[this.ptr]=this}function pg(t,e,n,i){return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),i&&"object"==typeof i&&(i=i.ptr),void 0===n?(this.ptr=cf(t,e),void(ym(pg)[this.ptr]=this)):void 0===i?(this.ptr=_emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_3(t,e,n),void(ym(pg)[this.ptr]=this)):(this.ptr=af(t,e,n,i),void(ym(pg)[this.ptr]=this))}function fg(t,e,n,i,r){return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),i&&"object"==typeof i&&(i=i.ptr),r&&"object"==typeof r&&(r=r.ptr),void 0===i?(this.ptr=E_(t,e,n),void(ym(fg)[this.ptr]=this)):void 0===r?(this.ptr=_emscripten_bind_btSliderConstraint_btSliderConstraint_4(t,e,n,i),void(ym(fg)[this.ptr]=this)):(this.ptr=L_(t,e,n,i,r),void(ym(fg)[this.ptr]=this))}function dg(t,e,n,i){return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),i&&"object"==typeof i&&(i=i.ptr),void 0===n?(this.ptr=Ts(t,e),void(ym(dg)[this.ptr]=this)):void 0===i?(this.ptr=_emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_3(t,e,n),void(ym(dg)[this.ptr]=this)):(this.ptr=Ls(t,e,n,i),void(ym(dg)[this.ptr]=this))}function _g(t){if(t&&"object"==typeof t&&(t=t.ptr),void 0===t)return this.ptr=ca(),void(ym(_g)[this.ptr]=this);this.ptr=Cp(t),ym(_g)[this.ptr]=this}function mg(t,e){t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),this.ptr=Zu(t,e),ym(mg)[this.ptr]=this}function gg(t,e){t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),this.ptr=xs(t,e),ym(gg)[this.ptr]=this}function bg(t,e){return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),void 0===t?(this.ptr=Gd(),void(ym(bg)[this.ptr]=this)):void 0===e?(this.ptr=Vd(t),void(ym(bg)[this.ptr]=this)):(this.ptr=Wd(t,e),void(ym(bg)[this.ptr]=this))}function vg(){this.ptr=Ns(),ym(vg)[this.ptr]=this}function yg(){this.ptr=dp(),ym(yg)[this.ptr]=this}function xg(t){t&&"object"==typeof t&&(t=t.ptr),this.ptr=ji(t),ym(xg)[this.ptr]=this}function wg(t){t&&"object"==typeof t&&(t=t.ptr),this.ptr=_i(t),ym(wg)[this.ptr]=this}function Sg(){this.ptr=n_(),ym(Sg)[this.ptr]=this}function Mg(t){if(t&&"object"==typeof t&&(t=t.ptr),void 0===t)return this.ptr=Rc(),void(ym(Mg)[this.ptr]=this);this.ptr=Ic(t),ym(Mg)[this.ptr]=this}function Cg(){throw"cannot construct a btCollisionObjectWrapper, no constructor in IDL"}function Tg(t,e){t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),this.ptr=qo(t,e),ym(Tg)[this.ptr]=this}function Ag(t,e){return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),void 0===t?(this.ptr=Hs(),void(ym(Ag)[this.ptr]=this)):void 0===e?(this.ptr=Xs(t),void(ym(Ag)[this.ptr]=this)):(this.ptr=Ws(t,e),void(ym(Ag)[this.ptr]=this))}function Lg(t,e){t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),this.ptr=mp(t,e),ym(Lg)[this.ptr]=this}function Eg(t,e,n,i,r){return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),i&&"object"==typeof i&&(i=i.ptr),r&&"object"==typeof r&&(r=r.ptr),void 0===i?(this.ptr=Vo(t,e,n),void(ym(Eg)[this.ptr]=this)):void 0===r?(this.ptr=_emscripten_bind_btGeneric6DofSpring2Constraint_btGeneric6DofSpring2Constraint_4(t,e,n,i),void(ym(Eg)[this.ptr]=this)):(this.ptr=cu(t,e,n,i,r),void(ym(Eg)[this.ptr]=this))}function Rg(t,e){t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),this.ptr=vr(t,e),ym(Rg)[this.ptr]=this}function Ig(t,e,n,i){t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),i&&"object"==typeof i&&(i=i.ptr),this.ptr=yl(t,e,n,i),ym(Ig)[this.ptr]=this}function Pg(t,e){t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),this.ptr=A_(t,e),ym(Pg)[this.ptr]=this}function Dg(t){t&&"object"==typeof t&&(t=t.ptr),this.ptr=kl(t),ym(Dg)[this.ptr]=this}function kg(){throw"cannot construct a btWheelInfo, no constructor in IDL"}function Og(t,e,n,i){return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),i&&"object"==typeof i&&(i=i.ptr),void 0===t?(this.ptr=J_(),void(ym(Og)[this.ptr]=this)):void 0===e?(this.ptr=_emscripten_bind_btVector4_btVector4_1(t),void(ym(Og)[this.ptr]=this)):void 0===n?(this.ptr=_emscripten_bind_btVector4_btVector4_2(t,e),void(ym(Og)[this.ptr]=this)):void 0===i?(this.ptr=_emscripten_bind_btVector4_btVector4_3(t,e,n),void(ym(Og)[this.ptr]=this)):(this.ptr=$_(t,e,n,i),void(ym(Og)[this.ptr]=this))}function Ng(t,e,n,i){if(t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),i&&"object"==typeof i&&(i=i.ptr),void 0===i)return this.ptr=fa(t,e,n),void(ym(Ng)[this.ptr]=this);this.ptr=Mp(t,e,n,i),ym(Ng)[this.ptr]=this}function Fg(t,e){t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),this.ptr=Dc(t,e),ym(Fg)[this.ptr]=this}function Bg(){throw"cannot construct a btContactSolverInfo, no constructor in IDL"}function jg(){throw"cannot construct a btOverlappingPairCache, no constructor in IDL"}function Ug(t){t&&"object"==typeof t&&(t=t.ptr),this.ptr=wl(t),ym(Ug)[this.ptr]=this}function zg(){this.ptr=rh(),ym(zg)[this.ptr]=this}function Gg(t,e,n,i,r,o,s){return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),i&&"object"==typeof i&&(i=i.ptr),r&&"object"==typeof r&&(r=r.ptr),o&&"object"==typeof o&&(o=o.ptr),s&&"object"==typeof s&&(s=s.ptr),void 0===n?(this.ptr=al(t,e),void(ym(Gg)[this.ptr]=this)):void 0===i?(this.ptr=cl(t,e,n),void(ym(Gg)[this.ptr]=this)):void 0===r?(this.ptr=ts(t,e,n,i),void(ym(Gg)[this.ptr]=this)):void 0===o?(this.ptr=sl(t,e,n,i,r),void(ym(Gg)[this.ptr]=this)):void 0===s?(this.ptr=il(t,e,n,i,r,o),void(ym(Gg)[this.ptr]=this)):(this.ptr=rl(t,e,n,i,r,o,s),void(ym(Gg)[this.ptr]=this))}function Vg(){this.ptr=nd(),ym(Vg)[this.ptr]=this}function Wg(){throw"cannot construct a btTranslationalLimitMotor2, no constructor in IDL"}function Hg(){throw"cannot construct a LocalShapeInfo, no constructor in IDL"}function Xg(){throw"cannot construct a btConstraintSolver, no constructor in IDL"}function qg(t,e,n,i,r){return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),i&&"object"==typeof i&&(i=i.ptr),r&&"object"==typeof r&&(r=r.ptr),void 0===i?(this.ptr=cc(t,e,n),void(ym(qg)[this.ptr]=this)):void 0===r?(this.ptr=_emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_4(t,e,n,i),void(ym(qg)[this.ptr]=this)):(this.ptr=si(t,e,n,i,r),void(ym(qg)[this.ptr]=this))}function Yg(t,e,n,i,r){t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),i&&"object"==typeof i&&(i=i.ptr),r&&"object"==typeof r&&(r=r.ptr),this.ptr=xa(t,e,n,i,r),ym(Yg)[this.ptr]=this}function Zg(){throw"cannot construct a btOverlappingPairCallback, no constructor in IDL"}function Jg(t){t&&"object"==typeof t&&(t=t.ptr),this.ptr=od(t),ym(Jg)[this.ptr]=this}function Kg(t){t&&"object"==typeof t&&(t=t.ptr),this.ptr=dl(t),ym(Kg)[this.ptr]=this}function $g(t){t&&"object"==typeof t&&(t=t.ptr),this.ptr=Lc(t),ym($g)[this.ptr]=this}function Qg(t,e){return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),void 0===t?(this.ptr=Dr(),void(ym(Qg)[this.ptr]=this)):void 0===e?(this.ptr=_emscripten_bind_btTransform_btTransform_1(t),void(ym(Qg)[this.ptr]=this)):(this.ptr=Pr(t,e),void(ym(Qg)[this.ptr]=this))}function tb(t,e,n){t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),this.ptr=Js(t,e,n),ym(tb)[this.ptr]=this}function eb(){this.ptr=cm(),ym(eb)[this.ptr]=this}function nb(){throw"cannot construct a btRotationalLimitMotor2, no constructor in IDL"}return o.noInitialRun&&(bm=!1),o.noExitRuntime=!0,dm(),vm.prototype=Object.create(vm.prototype),vm.prototype.constructor=vm,vm.prototype.__class__=vm,vm.__cache__={},o.WrapperObject=vm,o.getCache=ym,o.wrapPointer=xm,o.castObject=wm,o.NULL=xm(0),o.destroy=Sm,o.compare=Mm,o.getPointer=Cm,o.getClass=Tm,Am.prototype=Object.create(vm.prototype),Am.prototype.constructor=Am,Am.prototype.__class__=Am,Am.__cache__={},o.btCollisionShape=Am,Am.prototype.setLocalScaling=Am.prototype.setLocalScaling=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Ma(e,t)},Am.prototype.calculateLocalInertia=Am.prototype.calculateLocalInertia=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),Wr(n,t,e)},Am.prototype.__destroy__=Am.prototype.__destroy__=function(){var t=this.ptr;yh(t)},Lm.prototype=Object.create(vm.prototype),Lm.prototype.constructor=Lm,Lm.prototype.__class__=Lm,Lm.__cache__={},o.btCollisionObject=Lm,Lm.prototype.setAnisotropicFriction=Lm.prototype.setAnisotropicFriction=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),Nu(n,t,e)},Lm.prototype.getCollisionShape=Lm.prototype.getCollisionShape=function(){var t=this.ptr;return xm(hu(t),Am)},Lm.prototype.setContactProcessingThreshold=Lm.prototype.setContactProcessingThreshold=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),da(e,t)},Lm.prototype.setActivationState=Lm.prototype.setActivationState=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Br(e,t)},Lm.prototype.forceActivationState=Lm.prototype.forceActivationState=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Rf(e,t)},Lm.prototype.activate=Lm.prototype.activate=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),void 0!==t?ci(e,t):li(e)},Lm.prototype.isActive=Lm.prototype.isActive=function(){var t=this.ptr;return!!vn(t)},Lm.prototype.isKinematicObject=Lm.prototype.isKinematicObject=function(){var t=this.ptr;return!!Qn(t)},Lm.prototype.setRestitution=Lm.prototype.setRestitution=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Jc(e,t)},Lm.prototype.setFriction=Lm.prototype.setFriction=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),vu(e,t)},Lm.prototype.setRollingFriction=Lm.prototype.setRollingFriction=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),ka(e,t)},Lm.prototype.getWorldTransform=Lm.prototype.getWorldTransform=function(){var t=this.ptr;return xm(Lo(t),Qg)},Lm.prototype.getCollisionFlags=Lm.prototype.getCollisionFlags=function(){var t=this.ptr;return ra(t)},Lm.prototype.setCollisionFlags=Lm.prototype.setCollisionFlags=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Hp(e,t)},Lm.prototype.setWorldTransform=Lm.prototype.setWorldTransform=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),jf(e,t)},Lm.prototype.setCollisionShape=Lm.prototype.setCollisionShape=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),vh(e,t)},Lm.prototype.setCcdMotionThreshold=Lm.prototype.setCcdMotionThreshold=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Sp(e,t)},Lm.prototype.setCcdSweptSphereRadius=Lm.prototype.setCcdSweptSphereRadius=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Qd(e,t)},Lm.prototype.__destroy__=Lm.prototype.__destroy__=function(){var t=this.ptr;kh(t)},Em.prototype=Object.create(Am.prototype),Em.prototype.constructor=Em,Em.prototype.__class__=Em,Em.__cache__={},o.btConcaveShape=Em,Em.prototype.setLocalScaling=Em.prototype.setLocalScaling=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Is(e,t)},Em.prototype.calculateLocalInertia=Em.prototype.calculateLocalInertia=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),rc(n,t,e)},Em.prototype.__destroy__=Em.prototype.__destroy__=function(){var t=this.ptr;As(t)},Rm.prototype=Object.create(vm.prototype),Rm.prototype.constructor=Rm,Rm.prototype.__class__=Rm,Rm.__cache__={},o.btCollisionWorld=Rm,Rm.prototype.getDispatcher=Rm.prototype.getDispatcher=function(){var t=this.ptr;return xm(Pa(t),zm)},Rm.prototype.rayTest=Rm.prototype.rayTest=function(t,e,n){var i=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),Qs(i,t,e,n)},Rm.prototype.getPairCache=Rm.prototype.getPairCache=function(){var t=this.ptr;return xm(Qu(t),jg)},Rm.prototype.getDispatchInfo=Rm.prototype.getDispatchInfo=function(){var t=this.ptr;return xm(ea(t),ng)},Rm.prototype.addCollisionObject=Rm.prototype.addCollisionObject=function(t,e,n){var i=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),void 0!==e?void 0!==n?Al(i,t,e,n):Tl(i,t,e):Cl(i,t)},Rm.prototype.getBroadphase=Rm.prototype.getBroadphase=function(){var t=this.ptr;return xm(Gs(t),lg)},Rm.prototype.convexSweepTest=Rm.prototype.convexSweepTest=function(t,e,n,i,r){var o=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),i&&"object"==typeof i&&(i=i.ptr),r&&"object"==typeof r&&(r=r.ptr),Xr(o,t,e,n,i,r)},Rm.prototype.contactPairTest=Rm.prototype.contactPairTest=function(t,e,n){var i=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),Jf(i,t,e,n)},Rm.prototype.contactTest=Rm.prototype.contactTest=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),jl(n,t,e)},Rm.prototype.__destroy__=Rm.prototype.__destroy__=function(){var t=this.ptr;Fi(t)},Im.prototype=Object.create(vm.prototype),Im.prototype.constructor=Im,Im.prototype.__class__=Im,Im.__cache__={},o.btTypedConstraint=Im,Im.prototype.enableFeedback=Im.prototype.enableFeedback=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),sp(e,t)},Im.prototype.getBreakingImpulseThreshold=Im.prototype.getBreakingImpulseThreshold=function(){var t=this.ptr;return ku(t)},Im.prototype.setBreakingImpulseThreshold=Im.prototype.setBreakingImpulseThreshold=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),An(e,t)},Im.prototype.__destroy__=Im.prototype.__destroy__=function(){var t=this.ptr;fl(t)},Pm.prototype=Object.create(Am.prototype),Pm.prototype.constructor=Pm,Pm.prototype.__class__=Pm,Pm.__cache__={},o.btCapsuleShape=Pm,Pm.prototype.setMargin=Pm.prototype.setMargin=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Dl(e,t)},Pm.prototype.getMargin=Pm.prototype.getMargin=function(){var t=this.ptr;return Ip(t)},Pm.prototype.setLocalScaling=Pm.prototype.setLocalScaling=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),cp(e,t)},Pm.prototype.calculateLocalInertia=Pm.prototype.calculateLocalInertia=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),gf(n,t,e)},Pm.prototype.__destroy__=Pm.prototype.__destroy__=function(){var t=this.ptr;ai(t)},Dm.prototype=Object.create(Im.prototype),Dm.prototype.constructor=Dm,Dm.prototype.__class__=Dm,Dm.__cache__={},o.btGeneric6DofConstraint=Dm,Dm.prototype.setLinearLowerLimit=Dm.prototype.setLinearLowerLimit=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Ud(e,t)},Dm.prototype.setLinearUpperLimit=Dm.prototype.setLinearUpperLimit=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),fc(e,t)},Dm.prototype.setAngularLowerLimit=Dm.prototype.setAngularLowerLimit=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),dd(e,t)},Dm.prototype.setAngularUpperLimit=Dm.prototype.setAngularUpperLimit=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Ar(e,t)},Dm.prototype.enableFeedback=Dm.prototype.enableFeedback=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),mn(e,t)},Dm.prototype.getBreakingImpulseThreshold=Dm.prototype.getBreakingImpulseThreshold=function(){var t=this.ptr;return Df(t)},Dm.prototype.setBreakingImpulseThreshold=Dm.prototype.setBreakingImpulseThreshold=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),ih(e,t)},Dm.prototype.__destroy__=Dm.prototype.__destroy__=function(){var t=this.ptr;Rd(t)},km.prototype=Object.create(vm.prototype),km.prototype.constructor=km,km.prototype.__class__=km,km.__cache__={},o.btStridingMeshInterface=km,km.prototype.__destroy__=km.prototype.__destroy__=function(){var t=this.ptr;Ff(t)},Om.prototype=Object.create(vm.prototype),Om.prototype.constructor=Om,Om.prototype.__class__=Om,Om.__cache__={},o.ConvexResultCallback=Om,Om.prototype.hasHit=Om.prototype.hasHit=function(){var t=this.ptr;return!!Vr(t)},Om.prototype.get_m_collisionFilterGroup=Om.prototype.get_m_collisionFilterGroup=function(){var t=this.ptr;return el(t)},Om.prototype.set_m_collisionFilterGroup=Om.prototype.set_m_collisionFilterGroup=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Uu(e,t)},Om.prototype.get_m_collisionFilterMask=Om.prototype.get_m_collisionFilterMask=function(){var t=this.ptr;return _p(t)},Om.prototype.set_m_collisionFilterMask=Om.prototype.set_m_collisionFilterMask=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),vd(e,t)},Om.prototype.get_m_closestHitFraction=Om.prototype.get_m_closestHitFraction=function(){var t=this.ptr;return xh(t)},Om.prototype.set_m_closestHitFraction=Om.prototype.set_m_closestHitFraction=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),pp(e,t)},Om.prototype.__destroy__=Om.prototype.__destroy__=function(){var t=this.ptr;ua(t)},Nm.prototype=Object.create(vm.prototype),Nm.prototype.constructor=Nm,Nm.prototype.__class__=Nm,Nm.__cache__={},o.btMotionState=Nm,Nm.prototype.getWorldTransform=Nm.prototype.getWorldTransform=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),ru(e,t)},Nm.prototype.setWorldTransform=Nm.prototype.setWorldTransform=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Ks(e,t)},Nm.prototype.__destroy__=Nm.prototype.__destroy__=function(){var t=this.ptr;Vp(t)},Fm.prototype=Object.create(Am.prototype),Fm.prototype.constructor=Fm,Fm.prototype.__class__=Fm,Fm.__cache__={},o.btConeShape=Fm,Fm.prototype.setLocalScaling=Fm.prototype.setLocalScaling=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),bh(e,t)},Fm.prototype.calculateLocalInertia=Fm.prototype.calculateLocalInertia=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),gd(n,t,e)},Fm.prototype.__destroy__=Fm.prototype.__destroy__=function(){var t=this.ptr;T_(t)},Bm.prototype=Object.create(Am.prototype),Bm.prototype.constructor=Bm,Bm.prototype.__class__=Bm,Bm.__cache__={},o.btConvexShape=Bm,Bm.prototype.setLocalScaling=Bm.prototype.setLocalScaling=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),lc(e,t)},Bm.prototype.calculateLocalInertia=Bm.prototype.calculateLocalInertia=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),Bd(n,t,e)},Bm.prototype.__destroy__=Bm.prototype.__destroy__=function(){var t=this.ptr;Xc(t)},jm.prototype=Object.create(vm.prototype),jm.prototype.constructor=jm,jm.prototype.__class__=jm,jm.__cache__={},o.ContactResultCallback=jm,jm.prototype.addSingleResult=jm.prototype.addSingleResult=function(t,e,n,i,r,o,s){var a=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),i&&"object"==typeof i&&(i=i.ptr),r&&"object"==typeof r&&(r=r.ptr),o&&"object"==typeof o&&(o=o.ptr),s&&"object"==typeof s&&(s=s.ptr),Ri(a,t,e,n,i,r,o,s)},jm.prototype.__destroy__=jm.prototype.__destroy__=function(){var t=this.ptr;Qf(t)},Um.prototype=Object.create(Em.prototype),Um.prototype.constructor=Um,Um.prototype.__class__=Um,Um.__cache__={},o.btTriangleMeshShape=Um,Um.prototype.setLocalScaling=Um.prototype.setLocalScaling=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),hp(e,t)},Um.prototype.calculateLocalInertia=Um.prototype.calculateLocalInertia=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),uc(n,t,e)},Um.prototype.__destroy__=Um.prototype.__destroy__=function(){var t=this.ptr;sd(t)},zm.prototype=Object.create(vm.prototype),zm.prototype.constructor=zm,zm.prototype.__class__=zm,zm.__cache__={},o.btDispatcher=zm,zm.prototype.getNumManifolds=zm.prototype.getNumManifolds=function(){var t=this.ptr;return Wf(t)},zm.prototype.getManifoldByIndexInternal=zm.prototype.getManifoldByIndexInternal=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),xm($p(e,t),yg)},zm.prototype.__destroy__=zm.prototype.__destroy__=function(){var t=this.ptr;Vc(t)},Gm.prototype=Object.create(Rm.prototype),Gm.prototype.constructor=Gm,Gm.prototype.__class__=Gm,Gm.__cache__={},o.btDynamicsWorld=Gm,Gm.prototype.addAction=Gm.prototype.addAction=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),a_(e,t)},Gm.prototype.removeAction=Gm.prototype.removeAction=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),cd(e,t)},Gm.prototype.getSolverInfo=Gm.prototype.getSolverInfo=function(){var t=this.ptr;return xm(ou(t),Bg)},Gm.prototype.getDispatcher=Gm.prototype.getDispatcher=function(){var t=this.ptr;return xm(za(t),zm)},Gm.prototype.rayTest=Gm.prototype.rayTest=function(t,e,n){var i=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),Jn(i,t,e,n)},Gm.prototype.getPairCache=Gm.prototype.getPairCache=function(){var t=this.ptr;return xm(X_(t),jg)},Gm.prototype.getDispatchInfo=Gm.prototype.getDispatchInfo=function(){var t=this.ptr;return xm(Qi(t),ng)},Gm.prototype.addCollisionObject=Gm.prototype.addCollisionObject=function(t,e,n){var i=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),void 0!==e?void 0!==n?lr(i,t,e,n):Yl(i,t,e):Xl(i,t)},Gm.prototype.getBroadphase=Gm.prototype.getBroadphase=function(){var t=this.ptr;return xm(Ci(t),lg)},Gm.prototype.convexSweepTest=Gm.prototype.convexSweepTest=function(t,e,n,i,r){var o=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),i&&"object"==typeof i&&(i=i.ptr),r&&"object"==typeof r&&(r=r.ptr),I_(o,t,e,n,i,r)},Gm.prototype.contactPairTest=Gm.prototype.contactPairTest=function(t,e,n){var i=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),$u(i,t,e,n)},Gm.prototype.contactTest=Gm.prototype.contactTest=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),zo(n,t,e)},Gm.prototype.__destroy__=Gm.prototype.__destroy__=function(){var t=this.ptr;as(t)},Vm.prototype=Object.create(vm.prototype),Vm.prototype.constructor=Vm,Vm.prototype.__class__=Vm,Vm.__cache__={},o.RayResultCallback=Vm,Vm.prototype.hasHit=Vm.prototype.hasHit=function(){var t=this.ptr;return!!_c(t)},Vm.prototype.get_m_collisionFilterGroup=Vm.prototype.get_m_collisionFilterGroup=function(){var t=this.ptr;return _h(t)},Vm.prototype.set_m_collisionFilterGroup=Vm.prototype.set_m_collisionFilterGroup=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Oa(e,t)},Vm.prototype.get_m_collisionFilterMask=Vm.prototype.get_m_collisionFilterMask=function(){var t=this.ptr;return Ia(t)},Vm.prototype.set_m_collisionFilterMask=Vm.prototype.set_m_collisionFilterMask=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),sr(e,t)},Vm.prototype.get_m_collisionObject=Vm.prototype.get_m_collisionObject=function(){var t=this.ptr;return xm(Ul(t),Lm)},Vm.prototype.set_m_collisionObject=Vm.prototype.set_m_collisionObject=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),i_(e,t)},Vm.prototype.__destroy__=Vm.prototype.__destroy__=function(){var t=this.ptr;gs(t)},Wm.prototype=Object.create(vm.prototype),Wm.prototype.constructor=Wm,Wm.prototype.__class__=Wm,Wm.__cache__={},o.btVector3=Wm,Wm.prototype.length=Wm.prototype.length=function(){var t=this.ptr;return nr(t)},Wm.prototype.x=Wm.prototype.x=function(){var t=this.ptr;return lu(t)},Wm.prototype.y=Wm.prototype.y=function(){var t=this.ptr;return bf(t)},Wm.prototype.z=Wm.prototype.z=function(){var t=this.ptr;return Vh(t)},Wm.prototype.setX=Wm.prototype.setX=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),mi(e,t)},Wm.prototype.setY=Wm.prototype.setY=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),cs(e,t)},Wm.prototype.setZ=Wm.prototype.setZ=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),wi(e,t)},Wm.prototype.setValue=Wm.prototype.setValue=function(t,e,n){var i=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),wu(i,t,e,n)},Wm.prototype.normalize=Wm.prototype.normalize=function(){var t=this.ptr;_s(t)},Wm.prototype.dot=Wm.prototype.dot=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),Ko(e,t)},Wm.prototype.op_mul=Wm.prototype.op_mul=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),xm(Zn(e,t),Wm)},Wm.prototype.op_add=Wm.prototype.op_add=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),xm(fp(e,t),Wm)},Wm.prototype.op_sub=Wm.prototype.op_sub=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),xm(kr(e,t),Wm)},Wm.prototype.__destroy__=Wm.prototype.__destroy__=function(){var t=this.ptr;Ql(t)},Hm.prototype=Object.create(vm.prototype),Hm.prototype.constructor=Hm,Hm.prototype.__class__=Hm,Hm.__cache__={},o.btVehicleRaycaster=Hm,Hm.prototype.__destroy__=Hm.prototype.__destroy__=function(){var t=this.ptr;Oo(t)},Xm.prototype=Object.create(Lm.prototype),Xm.prototype.constructor=Xm,Xm.prototype.__class__=Xm,Xm.__cache__={},o.btGhostObject=Xm,Xm.prototype.getNumOverlappingObjects=Xm.prototype.getNumOverlappingObjects=function(){var t=this.ptr;return Du(t)},Xm.prototype.getOverlappingObject=Xm.prototype.getOverlappingObject=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),xm(x_(e,t),Lm)},Xm.prototype.setAnisotropicFriction=Xm.prototype.setAnisotropicFriction=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),np(n,t,e)},Xm.prototype.getCollisionShape=Xm.prototype.getCollisionShape=function(){var t=this.ptr;return xm(Ou(t),Am)},Xm.prototype.setContactProcessingThreshold=Xm.prototype.setContactProcessingThreshold=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),zs(e,t)},Xm.prototype.setActivationState=Xm.prototype.setActivationState=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Zf(e,t)},Xm.prototype.forceActivationState=Xm.prototype.forceActivationState=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),oh(e,t)},Xm.prototype.activate=Xm.prototype.activate=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),void 0!==t?Gu(e,t):ap(e)},Xm.prototype.isActive=Xm.prototype.isActive=function(){var t=this.ptr;return!!fs(t)},Xm.prototype.isKinematicObject=Xm.prototype.isKinematicObject=function(){var t=this.ptr;return!!oi(t)},Xm.prototype.setRestitution=Xm.prototype.setRestitution=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),gu(e,t)},Xm.prototype.setFriction=Xm.prototype.setFriction=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),co(e,t)},Xm.prototype.setRollingFriction=Xm.prototype.setRollingFriction=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Ac(e,t)},Xm.prototype.getWorldTransform=Xm.prototype.getWorldTransform=function(){var t=this.ptr;return xm(Np(t),Qg)},Xm.prototype.getCollisionFlags=Xm.prototype.getCollisionFlags=function(){var t=this.ptr;return Cu(t)},Xm.prototype.setCollisionFlags=Xm.prototype.setCollisionFlags=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Ga(e,t)},Xm.prototype.setWorldTransform=Xm.prototype.setWorldTransform=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),_o(e,t)},Xm.prototype.setCollisionShape=Xm.prototype.setCollisionShape=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Sf(e,t)},Xm.prototype.setCcdMotionThreshold=Xm.prototype.setCcdMotionThreshold=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),_a(e,t)},Xm.prototype.setCcdSweptSphereRadius=Xm.prototype.setCcdSweptSphereRadius=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),sf(e,t)},Xm.prototype.__destroy__=Xm.prototype.__destroy__=function(){var t=this.ptr;Us(t)},qm.prototype=Object.create(vm.prototype),qm.prototype.constructor=qm,qm.prototype.__class__=qm,qm.__cache__={},o.btQuadWord=qm,qm.prototype.x=qm.prototype.x=function(){var t=this.ptr;return $n(t)},qm.prototype.y=qm.prototype.y=function(){var t=this.ptr;return Ro(t)},qm.prototype.z=qm.prototype.z=function(){var t=this.ptr;return kn(t)},qm.prototype.w=qm.prototype.w=function(){var t=this.ptr;return jo(t)},qm.prototype.setX=qm.prototype.setX=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),hs(e,t)},qm.prototype.setY=qm.prototype.setY=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Li(e,t)},qm.prototype.setZ=qm.prototype.setZ=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Tp(e,t)},qm.prototype.setW=qm.prototype.setW=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),gr(e,t)},qm.prototype.__destroy__=qm.prototype.__destroy__=function(){var t=this.ptr;Jh(t)},Ym.prototype=Object.create(Am.prototype),Ym.prototype.constructor=Ym,Ym.prototype.__class__=Ym,Ym.__cache__={},o.btCylinderShape=Ym,Ym.prototype.setMargin=Ym.prototype.setMargin=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Ni(e,t)},Ym.prototype.getMargin=Ym.prototype.getMargin=function(){var t=this.ptr;return Pp(t)},Ym.prototype.setLocalScaling=Ym.prototype.setLocalScaling=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),$s(e,t)},Ym.prototype.calculateLocalInertia=Ym.prototype.calculateLocalInertia=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),$a(n,t,e)},Ym.prototype.__destroy__=Ym.prototype.__destroy__=function(){var t=this.ptr;_n(t)},Zm.prototype=Object.create(vm.prototype),Zm.prototype.constructor=Zm,Zm.prototype.__class__=Zm,Zm.__cache__={},o.btActionInterface=Zm,Zm.prototype.__destroy__=Zm.prototype.__destroy__=function(){var t=this.ptr;Fl(t)},Jm.prototype=Object.create(vm.prototype),Jm.prototype.constructor=Jm,Jm.prototype.__class__=Jm,Jm.__cache__={},o.btMatrix3x3=Jm,Jm.prototype.setEulerZYX=Jm.prototype.setEulerZYX=function(t,e,n){var i=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),Aa(i,t,e,n)},Jm.prototype.getRotation=Jm.prototype.getRotation=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Va(e,t)},Jm.prototype.getRow=Jm.prototype.getRow=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),xm(pl(e,t),Wm)},Jm.prototype.__destroy__=Jm.prototype.__destroy__=function(){var t=this.ptr;Gr(t)},Km.prototype=Object.create(jm.prototype),Km.prototype.constructor=Km,Km.prototype.__class__=Km,Km.__cache__={},o.ConcreteContactResultCallback=Km,Km.prototype.addSingleResult=Km.prototype.addSingleResult=function(t,e,n,i,r,o,s){var a=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),i&&"object"==typeof i&&(i=i.ptr),r&&"object"==typeof r&&(r=r.ptr),o&&"object"==typeof o&&(o=o.ptr),s&&"object"==typeof s&&(s=s.ptr),qh(a,t,e,n,i,r,o,s)},Km.prototype.__destroy__=Km.prototype.__destroy__=function(){var t=this.ptr;Ih(t)},$m.prototype=Object.create(Um.prototype),$m.prototype.constructor=$m,$m.prototype.__class__=$m,$m.__cache__={},o.btBvhTriangleMeshShape=$m,$m.prototype.setLocalScaling=$m.prototype.setLocalScaling=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Ki(e,t)},$m.prototype.calculateLocalInertia=$m.prototype.calculateLocalInertia=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),Wo(n,t,e)},$m.prototype.__destroy__=$m.prototype.__destroy__=function(){var t=this.ptr;Cd(t)},Qm.prototype=Object.create(vm.prototype),Qm.prototype.constructor=Qm,Qm.prototype.__class__=Qm,Qm.__cache__={},o.btDbvtBroadphase=Qm,Qm.prototype.__destroy__=Qm.prototype.__destroy__=function(){var t=this.ptr;rp(t)},tg.prototype=Object.create(vm.prototype),tg.prototype.constructor=tg,tg.prototype.__class__=tg,tg.__cache__={},o.VoidPtr=tg,tg.prototype.__destroy__=tg.prototype.__destroy__=function(){var t=this.ptr;ah(t)},eg.prototype=Object.create(vm.prototype),eg.prototype.constructor=eg,eg.prototype.__class__=eg,eg.__cache__={},o.btSequentialImpulseConstraintSolver=eg,eg.prototype.__destroy__=eg.prototype.__destroy__=function(){var t=this.ptr;ya(t)},ng.prototype=Object.create(vm.prototype),ng.prototype.constructor=ng,ng.prototype.__class__=ng,ng.__cache__={},o.btDispatcherInfo=ng,ng.prototype.get_m_timeStep=ng.prototype.get_m_timeStep=function(){var t=this.ptr;return Up(t)},ng.prototype.set_m_timeStep=ng.prototype.set_m_timeStep=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Bh(e,t)},ng.prototype.get_m_stepCount=ng.prototype.get_m_stepCount=function(){var t=this.ptr;return _r(t)},ng.prototype.set_m_stepCount=ng.prototype.set_m_stepCount=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),td(e,t)},ng.prototype.get_m_dispatchFunc=ng.prototype.get_m_dispatchFunc=function(){var t=this.ptr;return wh(t)},ng.prototype.set_m_dispatchFunc=ng.prototype.set_m_dispatchFunc=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),su(e,t)},ng.prototype.get_m_timeOfImpact=ng.prototype.get_m_timeOfImpact=function(){var t=this.ptr;return Rn(t)},ng.prototype.set_m_timeOfImpact=ng.prototype.set_m_timeOfImpact=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),pi(e,t)},ng.prototype.get_m_useContinuous=ng.prototype.get_m_useContinuous=function(){var t=this.ptr;return!!Nc(t)},ng.prototype.set_m_useContinuous=ng.prototype.set_m_useContinuous=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),bn(e,t)},ng.prototype.get_m_enableSatConvex=ng.prototype.get_m_enableSatConvex=function(){var t=this.ptr;return!!K_(t)},ng.prototype.set_m_enableSatConvex=ng.prototype.set_m_enableSatConvex=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),oa(e,t)},ng.prototype.get_m_enableSPU=ng.prototype.get_m_enableSPU=function(){var t=this.ptr;return!!gn(t)},ng.prototype.set_m_enableSPU=ng.prototype.set_m_enableSPU=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Nr(e,t)},ng.prototype.get_m_useEpa=ng.prototype.get_m_useEpa=function(){var t=this.ptr;return!!Ir(t)},ng.prototype.set_m_useEpa=ng.prototype.set_m_useEpa=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Do(e,t)},ng.prototype.get_m_allowedCcdPenetration=ng.prototype.get_m_allowedCcdPenetration=function(){var t=this.ptr;return ma(t)},ng.prototype.set_m_allowedCcdPenetration=ng.prototype.set_m_allowedCcdPenetration=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Mf(e,t)},ng.prototype.get_m_useConvexConservativeDistanceUtil=ng.prototype.get_m_useConvexConservativeDistanceUtil=function(){var t=this.ptr;return!!zc(t)},ng.prototype.set_m_useConvexConservativeDistanceUtil=ng.prototype.set_m_useConvexConservativeDistanceUtil=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),wr(e,t)},ng.prototype.get_m_convexConservativeDistanceThreshold=ng.prototype.get_m_convexConservativeDistanceThreshold=function(){var t=this.ptr;return La(t)},ng.prototype.set_m_convexConservativeDistanceThreshold=ng.prototype.set_m_convexConservativeDistanceThreshold=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Oc(e,t)},ng.prototype.__destroy__=ng.prototype.__destroy__=function(){var t=this.ptr;Rp(t)},ig.prototype=Object.create(vm.prototype),ig.prototype.constructor=ig,ig.prototype.__class__=ig,ig.__cache__={},o.btCollisionConfiguration=ig,ig.prototype.__destroy__=ig.prototype.__destroy__=function(){var t=this.ptr;gi(t)},rg.prototype=Object.create(vm.prototype),rg.prototype.constructor=rg,rg.prototype.__class__=rg,rg.__cache__={},o.btAxisSweep3=rg,rg.prototype.__destroy__=rg.prototype.__destroy__=function(){var t=this.ptr;Cn(t)},og.prototype=Object.create(Xm.prototype),og.prototype.constructor=og,og.prototype.__class__=og,og.__cache__={},o.btPairCachingGhostObject=og,og.prototype.setAnisotropicFriction=og.prototype.setAnisotropicFriction=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),Bc(n,t,e)},og.prototype.getCollisionShape=og.prototype.getCollisionShape=function(){var t=this.ptr;return xm(Na(t),Am)},og.prototype.setContactProcessingThreshold=og.prototype.setContactProcessingThreshold=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),hc(e,t)},og.prototype.setActivationState=og.prototype.setActivationState=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Sc(e,t)},og.prototype.forceActivationState=og.prototype.forceActivationState=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),fr(e,t)},og.prototype.activate=og.prototype.activate=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),void 0!==t?hr(e,t):ur(e)},og.prototype.isActive=og.prototype.isActive=function(){var t=this.ptr;return!!um(t)},og.prototype.isKinematicObject=og.prototype.isKinematicObject=function(){var t=this.ptr;return!!bp(t)},og.prototype.setRestitution=og.prototype.setRestitution=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),la(e,t)},og.prototype.setFriction=og.prototype.setFriction=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Po(e,t)},og.prototype.setRollingFriction=og.prototype.setRollingFriction=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Tf(e,t)},og.prototype.getWorldTransform=og.prototype.getWorldTransform=function(){var t=this.ptr;return xm(lo(t),Qg)},og.prototype.getCollisionFlags=og.prototype.getCollisionFlags=function(){var t=this.ptr;return u_(t)},og.prototype.setCollisionFlags=og.prototype.setCollisionFlags=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Zc(e,t)},og.prototype.setWorldTransform=og.prototype.setWorldTransform=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),nf(e,t)},og.prototype.setCollisionShape=og.prototype.setCollisionShape=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Mh(e,t)},og.prototype.setCcdMotionThreshold=og.prototype.setCcdMotionThreshold=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Su(e,t)},og.prototype.setCcdSweptSphereRadius=og.prototype.setCcdSweptSphereRadius=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Qa(e,t)},og.prototype.getNumOverlappingObjects=og.prototype.getNumOverlappingObjects=function(){var t=this.ptr;return ns(t)},og.prototype.getOverlappingObject=og.prototype.getOverlappingObject=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),xm(hf(e,t),Lm)},og.prototype.__destroy__=og.prototype.__destroy__=function(){var t=this.ptr;cr(t)},sg.prototype=Object.create(vm.prototype),sg.prototype.constructor=sg,sg.prototype.__class__=sg,sg.__cache__={},o.btRigidBodyConstructionInfo=sg,sg.prototype.get_m_linearDamping=sg.prototype.get_m_linearDamping=function(){var t=this.ptr;return Gf(t)},sg.prototype.set_m_linearDamping=sg.prototype.set_m_linearDamping=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),h_(e,t)},sg.prototype.get_m_angularDamping=sg.prototype.get_m_angularDamping=function(){var t=this.ptr;return zn(t)},sg.prototype.set_m_angularDamping=sg.prototype.set_m_angularDamping=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),mr(e,t)},sg.prototype.get_m_friction=sg.prototype.get_m_friction=function(){var t=this.ptr;return br(t)},sg.prototype.set_m_friction=sg.prototype.set_m_friction=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),zh(e,t)},sg.prototype.get_m_rollingFriction=sg.prototype.get_m_rollingFriction=function(){var t=this.ptr;return Sh(t)},sg.prototype.set_m_rollingFriction=sg.prototype.set_m_rollingFriction=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),du(e,t)},sg.prototype.get_m_restitution=sg.prototype.get_m_restitution=function(){var t=this.ptr;return ld(t)},sg.prototype.set_m_restitution=sg.prototype.set_m_restitution=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Ii(e,t)},sg.prototype.get_m_linearSleepingThreshold=sg.prototype.get_m_linearSleepingThreshold=function(){var t=this.ptr;return Hf(t)},sg.prototype.set_m_linearSleepingThreshold=sg.prototype.set_m_linearSleepingThreshold=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Nh(e,t)},sg.prototype.get_m_angularSleepingThreshold=sg.prototype.get_m_angularSleepingThreshold=function(){var t=this.ptr;return Ap(t)},sg.prototype.set_m_angularSleepingThreshold=sg.prototype.set_m_angularSleepingThreshold=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Rr(e,t)},sg.prototype.get_m_additionalDamping=sg.prototype.get_m_additionalDamping=function(){var t=this.ptr;return!!Ya(t)},sg.prototype.set_m_additionalDamping=sg.prototype.set_m_additionalDamping=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),p_(e,t)},sg.prototype.get_m_additionalDampingFactor=sg.prototype.get_m_additionalDampingFactor=function(){var t=this.ptr;return lp(t)},sg.prototype.set_m_additionalDampingFactor=sg.prototype.set_m_additionalDampingFactor=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),pa(e,t)},sg.prototype.get_m_additionalLinearDampingThresholdSqr=sg.prototype.get_m_additionalLinearDampingThresholdSqr=function(){var t=this.ptr;return ps(t)},sg.prototype.set_m_additionalLinearDampingThresholdSqr=sg.prototype.set_m_additionalLinearDampingThresholdSqr=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),wa(e,t)},sg.prototype.get_m_additionalAngularDampingThresholdSqr=sg.prototype.get_m_additionalAngularDampingThresholdSqr=function(){var t=this.ptr;return gc(t)},sg.prototype.set_m_additionalAngularDampingThresholdSqr=sg.prototype.set_m_additionalAngularDampingThresholdSqr=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),ll(e,t)},sg.prototype.get_m_additionalAngularDampingFactor=sg.prototype.get_m_additionalAngularDampingFactor=function(){var t=this.ptr;return ga(t)},sg.prototype.set_m_additionalAngularDampingFactor=sg.prototype.set_m_additionalAngularDampingFactor=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Yo(e,t)},sg.prototype.__destroy__=sg.prototype.__destroy__=function(){var t=this.ptr;pf(t)},ag.prototype=Object.create(vm.prototype),ag.prototype.constructor=ag,ag.prototype.__class__=ag,ag.__cache__={},o.RaycastInfo=ag,ag.prototype.get_m_contactNormalWS=ag.prototype.get_m_contactNormalWS=function(){var t=this.ptr;return xm(bs(t),Wm)},ag.prototype.set_m_contactNormalWS=ag.prototype.set_m_contactNormalWS=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),ch(e,t)},ag.prototype.get_m_contactPointWS=ag.prototype.get_m_contactPointWS=function(){var t=this.ptr;return xm(io(t),Wm)},ag.prototype.set_m_contactPointWS=ag.prototype.set_m_contactPointWS=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),uh(e,t)},ag.prototype.get_m_suspensionLength=ag.prototype.get_m_suspensionLength=function(){var t=this.ptr;return Mu(t)},ag.prototype.set_m_suspensionLength=ag.prototype.set_m_suspensionLength=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),vo(e,t)},ag.prototype.get_m_hardPointWS=ag.prototype.get_m_hardPointWS=function(){var t=this.ptr;return xm(Yh(t),Wm)},ag.prototype.set_m_hardPointWS=ag.prototype.set_m_hardPointWS=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),l_(e,t)},ag.prototype.get_m_wheelDirectionWS=ag.prototype.get_m_wheelDirectionWS=function(){var t=this.ptr;return xm(Qh(t),Wm)},ag.prototype.set_m_wheelDirectionWS=ag.prototype.set_m_wheelDirectionWS=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Mn(e,t)},ag.prototype.get_m_wheelAxleWS=ag.prototype.get_m_wheelAxleWS=function(){var t=this.ptr;return xm(Un(t),Wm)},ag.prototype.set_m_wheelAxleWS=ag.prototype.set_m_wheelAxleWS=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Ph(e,t)},ag.prototype.get_m_isInContact=ag.prototype.get_m_isInContact=function(){var t=this.ptr;return!!Rl(t)},ag.prototype.set_m_isInContact=ag.prototype.set_m_isInContact=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Gi(e,t)},ag.prototype.get_m_groundObject=ag.prototype.get_m_groundObject=function(){var t=this.ptr;return oc(t)},ag.prototype.set_m_groundObject=ag.prototype.set_m_groundObject=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),zu(e,t)},ag.prototype.__destroy__=ag.prototype.__destroy__=function(){var t=this.ptr;tu(t)},cg.prototype=Object.create(vm.prototype),cg.prototype.constructor=cg,cg.prototype.__class__=cg,cg.__cache__={},o.btManifoldPoint=cg,cg.prototype.getPositionWorldOnA=cg.prototype.getPositionWorldOnA=function(){var t=this.ptr;return xm($f(t),Wm)},cg.prototype.getPositionWorldOnB=cg.prototype.getPositionWorldOnB=function(){var t=this.ptr;return xm(Wu(t),Wm)},cg.prototype.getDistance=cg.prototype.getDistance=function(){var t=this.ptr;return O_(t)},cg.prototype.get_m_localPointA=cg.prototype.get_m_localPointA=function(){var t=this.ptr;return xm(zf(t),Wm)},cg.prototype.set_m_localPointA=cg.prototype.set_m_localPointA=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Zo(e,t)},cg.prototype.get_m_localPointB=cg.prototype.get_m_localPointB=function(){var t=this.ptr;return xm(Zd(t),Wm)},cg.prototype.set_m_localPointB=cg.prototype.set_m_localPointB=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),xi(e,t)},cg.prototype.get_m_positionWorldOnB=cg.prototype.get_m_positionWorldOnB=function(){var t=this.ptr;return xm(Ka(t),Wm)},cg.prototype.set_m_positionWorldOnB=cg.prototype.set_m_positionWorldOnB=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),yi(e,t)},cg.prototype.get_m_positionWorldOnA=cg.prototype.get_m_positionWorldOnA=function(){var t=this.ptr;return xm(Hu(t),Wm)},cg.prototype.set_m_positionWorldOnA=cg.prototype.set_m_positionWorldOnA=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),qd(e,t)},cg.prototype.get_m_normalWorldOnB=cg.prototype.get_m_normalWorldOnB=function(){var t=this.ptr;return xm(Md(t),Wm)},cg.prototype.set_m_normalWorldOnB=cg.prototype.set_m_normalWorldOnB=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),hd(e,t)},cg.prototype.__destroy__=cg.prototype.__destroy__=function(){var t=this.ptr;fu(t)},lg.prototype=Object.create(vm.prototype),lg.prototype.constructor=lg,lg.prototype.__class__=lg,lg.__cache__={},o.btBroadphaseInterface=lg,lg.prototype.__destroy__=lg.prototype.__destroy__=function(){var t=this.ptr;Hh(t)},ug.prototype=Object.create(Gm.prototype),ug.prototype.constructor=ug,ug.prototype.__class__=ug,ug.__cache__={},o.btDiscreteDynamicsWorld=ug,ug.prototype.setGravity=ug.prototype.setGravity=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Af(e,t)},ug.prototype.getGravity=ug.prototype.getGravity=function(){var t=this.ptr;return xm(Gh(t),Wm)},ug.prototype.addRigidBody=ug.prototype.addRigidBody=function(t,e,n){var i=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),void 0!==e?void 0!==n?gl(i,t,e,n):_emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_2(i,t,e):bl(i,t)},ug.prototype.removeRigidBody=ug.prototype.removeRigidBody=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),mo(e,t)},ug.prototype.addConstraint=ug.prototype.addConstraint=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),void 0!==e?Lr(n,t,e):Er(n,t)},ug.prototype.removeConstraint=ug.prototype.removeConstraint=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Ld(e,t)},ug.prototype.stepSimulation=ug.prototype.stepSimulation=function(t,e,n){var i=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),void 0===e?Xn(i,t):void 0===n?Yn(i,t,e):qn(i,t,e,n)},ug.prototype.getDispatcher=ug.prototype.getDispatcher=function(){var t=this.ptr;return xm(Zl(t),zm)},ug.prototype.rayTest=ug.prototype.rayTest=function(t,e,n){var i=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),om(i,t,e,n)},ug.prototype.getPairCache=ug.prototype.getPairCache=function(){var t=this.ptr;return xm(Fp(t),jg)},ug.prototype.getDispatchInfo=ug.prototype.getDispatchInfo=function(){var t=this.ptr;return xm(Ps(t),ng)},ug.prototype.addCollisionObject=ug.prototype.addCollisionObject=function(t,e,n){var i=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),void 0!==e?void 0!==n?Zp(i,t,e,n):Yp(i,t,e):qp(i,t)},ug.prototype.getBroadphase=ug.prototype.getBroadphase=function(){var t=this.ptr;return xm(yo(t),lg)},ug.prototype.convexSweepTest=ug.prototype.convexSweepTest=function(t,e,n,i,r){var o=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),i&&"object"==typeof i&&(i=i.ptr),r&&"object"==typeof r&&(r=r.ptr),q_(o,t,e,n,i,r)},ug.prototype.contactPairTest=ug.prototype.contactPairTest=function(t,e,n){var i=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),Jd(i,t,e,n)},ug.prototype.contactTest=ug.prototype.contactTest=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),Go(n,t,e)},ug.prototype.addAction=ug.prototype.addAction=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),xo(e,t)},ug.prototype.removeAction=ug.prototype.removeAction=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),xl(e,t)},ug.prototype.getSolverInfo=ug.prototype.getSolverInfo=function(){var t=this.ptr;return xm(Oi(t),Bg)},ug.prototype.__destroy__=ug.prototype.__destroy__=function(){var t=this.ptr;Hc(t)},hg.prototype=Object.create(Bm.prototype),hg.prototype.constructor=hg,hg.prototype.__class__=hg,hg.__cache__={},o.btConvexTriangleMeshShape=hg,hg.prototype.setLocalScaling=hg.prototype.setLocalScaling=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),To(e,t)},hg.prototype.calculateLocalInertia=hg.prototype.calculateLocalInertia=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),kp(n,t,e)},hg.prototype.__destroy__=hg.prototype.__destroy__=function(){var t=this.ptr;Kp(t)},pg.prototype=Object.create(Im.prototype),pg.prototype.constructor=pg,pg.prototype.__class__=pg,pg.__cache__={},o.btPoint2PointConstraint=pg,pg.prototype.setPivotA=pg.prototype.setPivotA=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),df(e,t)},pg.prototype.setPivotB=pg.prototype.setPivotB=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),k_(e,t)},pg.prototype.getPivotInA=pg.prototype.getPivotInA=function(){var t=this.ptr;return xm(zl(t),Wm)},pg.prototype.getPivotInB=pg.prototype.getPivotInB=function(){var t=this.ptr;return xm(Lp(t),Wm)},pg.prototype.enableFeedback=pg.prototype.enableFeedback=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),is(e,t)},pg.prototype.getBreakingImpulseThreshold=pg.prototype.getBreakingImpulseThreshold=function(){var t=this.ptr;return kd(t)},pg.prototype.setBreakingImpulseThreshold=pg.prototype.setBreakingImpulseThreshold=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),$i(e,t)},pg.prototype.get_m_setting=pg.prototype.get_m_setting=function(){var t=this.ptr;return xm(Ol(t),Vg)},pg.prototype.set_m_setting=pg.prototype.set_m_setting=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Ec(e,t)},pg.prototype.__destroy__=pg.prototype.__destroy__=function(){var t=this.ptr;Tr(t)},fg.prototype=Object.create(Im.prototype),fg.prototype.constructor=fg,fg.prototype.__class__=fg,fg.__cache__={},o.btSliderConstraint=fg,fg.prototype.setLowerLinLimit=fg.prototype.setLowerLinLimit=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Kd(e,t)},fg.prototype.setUpperLinLimit=fg.prototype.setUpperLinLimit=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Cs(e,t)},fg.prototype.setLowerAngLimit=fg.prototype.setLowerAngLimit=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),lh(e,t)},fg.prototype.setUpperAngLimit=fg.prototype.setUpperAngLimit=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Ku(e,t)},fg.prototype.enableFeedback=fg.prototype.enableFeedback=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),B_(e,t)},fg.prototype.getBreakingImpulseThreshold=fg.prototype.getBreakingImpulseThreshold=function(){var t=this.ptr;return ha(t)},fg.prototype.setBreakingImpulseThreshold=fg.prototype.setBreakingImpulseThreshold=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),oo(e,t)},fg.prototype.__destroy__=fg.prototype.__destroy__=function(){var t=this.ptr;P_(t)},dg.prototype=Object.create(Im.prototype),dg.prototype.constructor=dg,dg.prototype.__class__=dg,dg.__cache__={},o.btConeTwistConstraint=dg,dg.prototype.setLimit=dg.prototype.setLimit=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),kf(n,t,e)},dg.prototype.setAngularOnly=dg.prototype.setAngularOnly=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),bu(e,t)},dg.prototype.setDamping=dg.prototype.setDamping=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Di(e,t)},dg.prototype.enableMotor=dg.prototype.enableMotor=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),sa(e,t)},dg.prototype.setMaxMotorImpulse=dg.prototype.setMaxMotorImpulse=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Ha(e,t)},dg.prototype.setMaxMotorImpulseNormalized=dg.prototype.setMaxMotorImpulseNormalized=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Co(e,t)},dg.prototype.setMotorTarget=dg.prototype.setMotorTarget=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),th(e,t)},dg.prototype.setMotorTargetInConstraintSpace=dg.prototype.setMotorTargetInConstraintSpace=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Fh(e,t)},dg.prototype.enableFeedback=dg.prototype.enableFeedback=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),ws(e,t)},dg.prototype.getBreakingImpulseThreshold=dg.prototype.getBreakingImpulseThreshold=function(){var t=this.ptr;return fd(t)},dg.prototype.setBreakingImpulseThreshold=dg.prototype.setBreakingImpulseThreshold=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),El(e,t)},dg.prototype.__destroy__=dg.prototype.__destroy__=function(){var t=this.ptr;Zh(t)},_g.prototype=Object.create(vm.prototype),_g.prototype.constructor=_g,_g.prototype.__class__=_g,_g.__cache__={},o.btDefaultCollisionConfiguration=_g,_g.prototype.__destroy__=_g.prototype.__destroy__=function(){var t=this.ptr;yu(t)},mg.prototype=Object.create(Fm.prototype),mg.prototype.constructor=mg,mg.prototype.__class__=mg,mg.__cache__={},o.btConeShapeZ=mg,mg.prototype.setLocalScaling=mg.prototype.setLocalScaling=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),wc(e,t)},mg.prototype.calculateLocalInertia=mg.prototype.calculateLocalInertia=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),to(n,t,e)},mg.prototype.__destroy__=mg.prototype.__destroy__=function(){var t=this.ptr;H_(t)},gg.prototype=Object.create(Fm.prototype),gg.prototype.constructor=gg,gg.prototype.__class__=gg,gg.__cache__={},o.btConeShapeX=gg,gg.prototype.setLocalScaling=gg.prototype.setLocalScaling=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Ds(e,t)},gg.prototype.calculateLocalInertia=gg.prototype.calculateLocalInertia=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),uf(n,t,e)},gg.prototype.__destroy__=gg.prototype.__destroy__=function(){var t=this.ptr;ia(t)},bg.prototype=Object.create(km.prototype),bg.prototype.constructor=bg,bg.prototype.__class__=bg,bg.__cache__={},o.btTriangleMesh=bg,bg.prototype.addTriangle=bg.prototype.addTriangle=function(t,e,n,i){var r=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),i&&"object"==typeof i&&(i=i.ptr),void 0!==i?w_(r,t,e,n,i):y_(r,t,e,n)},bg.prototype.__destroy__=bg.prototype.__destroy__=function(){var t=this.ptr;Ah(t)},vg.prototype=Object.create(Am.prototype),vg.prototype.constructor=vg,vg.prototype.__class__=vg,vg.__cache__={},o.btConvexHullShape=vg,vg.prototype.addPoint=vg.prototype.addPoint=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),void 0!==e?Dd(n,t,e):Pd(n,t)},vg.prototype.setMargin=vg.prototype.setMargin=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),$r(e,t)},vg.prototype.getMargin=vg.prototype.getMargin=function(){var t=this.ptr;return Wn(t)},vg.prototype.setLocalScaling=vg.prototype.setLocalScaling=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Ea(e,t)},vg.prototype.calculateLocalInertia=vg.prototype.calculateLocalInertia=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),no(n,t,e)},vg.prototype.__destroy__=vg.prototype.__destroy__=function(){var t=this.ptr;bo(t)},yg.prototype=Object.create(vm.prototype),yg.prototype.constructor=yg,yg.prototype.__class__=yg,yg.__cache__={},o.btPersistentManifold=yg,yg.prototype.getBody0=yg.prototype.getBody0=function(){var t=this.ptr;return xm(ys(t),Lm)},yg.prototype.getBody1=yg.prototype.getBody1=function(){var t=this.ptr;return xm(Ui(t),Lm)},yg.prototype.getNumContacts=yg.prototype.getNumContacts=function(){var t=this.ptr;return Uo(t)},yg.prototype.getContactPoint=yg.prototype.getContactPoint=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),xm(Bu(e,t),cg)},yg.prototype.__destroy__=yg.prototype.__destroy__=function(){var t=this.ptr;jr(t)},xg.prototype=Object.create(Am.prototype),xg.prototype.constructor=xg,xg.prototype.__class__=xg,xg.__cache__={},o.btBoxShape=xg,xg.prototype.setMargin=xg.prototype.setMargin=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),ul(e,t)},xg.prototype.getMargin=xg.prototype.getMargin=function(){var t=this.ptr;return ar(t)},xg.prototype.setLocalScaling=xg.prototype.setLocalScaling=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),W_(e,t)},xg.prototype.calculateLocalInertia=xg.prototype.calculateLocalInertia=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),Gp(n,t,e)},xg.prototype.__destroy__=xg.prototype.__destroy__=function(){var t=this.ptr;Fu(t)},wg.prototype=Object.create(zm.prototype),wg.prototype.constructor=wg,wg.prototype.__class__=wg,wg.__cache__={},o.btCollisionDispatcher=wg,wg.prototype.getNumManifolds=wg.prototype.getNumManifolds=function(){var t=this.ptr;return ko(t)},wg.prototype.getManifoldByIndexInternal=wg.prototype.getManifoldByIndexInternal=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),xm(so(e,t),yg)},wg.prototype.__destroy__=wg.prototype.__destroy__=function(){var t=this.ptr;Gn(t)},Sg.prototype=Object.create(vm.prototype),Sg.prototype.constructor=Sg,Sg.prototype.__class__=Sg,Sg.__cache__={},o.btVehicleTuning=Sg,Sg.prototype.get_m_suspensionStiffness=Sg.prototype.get_m_suspensionStiffness=function(){var t=this.ptr;return ud(t)},Sg.prototype.set_m_suspensionStiffness=Sg.prototype.set_m_suspensionStiffness=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Lf(e,t)},Sg.prototype.get_m_suspensionCompression=Sg.prototype.get_m_suspensionCompression=function(){var t=this.ptr;return Wc(t)},Sg.prototype.set_m_suspensionCompression=Sg.prototype.set_m_suspensionCompression=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),zp(e,t)},Sg.prototype.get_m_suspensionDamping=Sg.prototype.get_m_suspensionDamping=function(){var t=this.ptr;return Xh(t)},Sg.prototype.set_m_suspensionDamping=Sg.prototype.set_m_suspensionDamping=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Oh(e,t)},Sg.prototype.get_m_maxSuspensionTravelCm=Sg.prototype.get_m_maxSuspensionTravelCm=function(){var t=this.ptr;return Id(t)},Sg.prototype.set_m_maxSuspensionTravelCm=Sg.prototype.set_m_maxSuspensionTravelCm=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Tc(e,t)},Sg.prototype.get_m_frictionSlip=Sg.prototype.get_m_frictionSlip=function(){var t=this.ptr;return hm(t)},Sg.prototype.set_m_frictionSlip=Sg.prototype.set_m_frictionSlip=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),yn(e,t)},Sg.prototype.get_m_maxSuspensionForce=Sg.prototype.get_m_maxSuspensionForce=function(){var t=this.ptr;return vf(t)},Sg.prototype.set_m_maxSuspensionForce=Sg.prototype.set_m_maxSuspensionForce=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),wp(e,t)},Mg.prototype=Object.create(Am.prototype),Mg.prototype.constructor=Mg,Mg.prototype.__class__=Mg,Mg.__cache__={},o.btCompoundShape=Mg,Mg.prototype.addChildShape=Mg.prototype.addChildShape=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),Gc(n,t,e)},Mg.prototype.removeChildShapeByIndex=Mg.prototype.removeChildShapeByIndex=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),tr(e,t)},Mg.prototype.getNumChildShapes=Mg.prototype.getNumChildShapes=function(){var t=this.ptr;return Ho(t)},Mg.prototype.getChildShape=Mg.prototype.getChildShape=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),xm(qs(e,t),Am)},Mg.prototype.setMargin=Mg.prototype.setMargin=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Wl(e,t)},Mg.prototype.getMargin=Mg.prototype.getMargin=function(){var t=this.ptr;return Sn(t)},Mg.prototype.setLocalScaling=Mg.prototype.setLocalScaling=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Za(e,t)},Mg.prototype.calculateLocalInertia=Mg.prototype.calculateLocalInertia=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),ta(n,t,e)},Mg.prototype.__destroy__=Mg.prototype.__destroy__=function(){var t=this.ptr;pc(t)},Cg.prototype=Object.create(vm.prototype),Cg.prototype.constructor=Cg,Cg.prototype.__class__=Cg,Cg.__cache__={},o.btCollisionObjectWrapper=Cg,Tg.prototype=Object.create(Om.prototype),Tg.prototype.constructor=Tg,Tg.prototype.__class__=Tg,Tg.__cache__={},o.ClosestConvexResultCallback=Tg,Tg.prototype.hasHit=Tg.prototype.hasHit=function(){var t=this.ptr;return!!m_(t)},Tg.prototype.get_m_convexFromWorld=Tg.prototype.get_m_convexFromWorld=function(){var t=this.ptr;return xm(Fo(t),Wm)},Tg.prototype.set_m_convexFromWorld=Tg.prototype.set_m_convexFromWorld=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),eh(e,t)},Tg.prototype.get_m_convexToWorld=Tg.prototype.get_m_convexToWorld=function(){var t=this.ptr;return xm(yc(t),Wm)},Tg.prototype.set_m_convexToWorld=Tg.prototype.set_m_convexToWorld=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),_f(e,t)},Tg.prototype.get_m_hitNormalWorld=Tg.prototype.get_m_hitNormalWorld=function(){var t=this.ptr;return xm(hl(t),Wm)},Tg.prototype.set_m_hitNormalWorld=Tg.prototype.set_m_hitNormalWorld=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),ii(e,t)},Tg.prototype.get_m_hitPointWorld=Tg.prototype.get_m_hitPointWorld=function(){var t=this.ptr;return xm(Wh(t),Wm)},Tg.prototype.set_m_hitPointWorld=Tg.prototype.set_m_hitPointWorld=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),or(e,t)},Tg.prototype.get_m_collisionFilterGroup=Tg.prototype.get_m_collisionFilterGroup=function(){var t=this.ptr;return Pl(t)},Tg.prototype.set_m_collisionFilterGroup=Tg.prototype.set_m_collisionFilterGroup=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Ll(e,t)},Tg.prototype.get_m_collisionFilterMask=Tg.prototype.get_m_collisionFilterMask=function(){var t=this.ptr;return ql(t)},Tg.prototype.set_m_collisionFilterMask=Tg.prototype.set_m_collisionFilterMask=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Of(e,t)},Tg.prototype.get_m_closestHitFraction=Tg.prototype.get_m_closestHitFraction=function(){var t=this.ptr;return Ms(t)},Tg.prototype.set_m_closestHitFraction=Tg.prototype.set_m_closestHitFraction=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Ad(e,t)},Tg.prototype.__destroy__=Tg.prototype.__destroy__=function(){var t=this.ptr;Hl(t)},Ag.prototype=Object.create(Nm.prototype),Ag.prototype.constructor=Ag,Ag.prototype.__class__=Ag,Ag.__cache__={},o.btDefaultMotionState=Ag,Ag.prototype.getWorldTransform=Ag.prototype.getWorldTransform=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Hn(e,t)},Ag.prototype.setWorldTransform=Ag.prototype.setWorldTransform=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Bl(e,t)},Ag.prototype.get_m_graphicsWorldTrans=Ag.prototype.get_m_graphicsWorldTrans=function(){var t=this.ptr;return xm(Pi(t),Qg)},Ag.prototype.set_m_graphicsWorldTrans=Ag.prototype.set_m_graphicsWorldTrans=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),mu(e,t)},Ag.prototype.__destroy__=Ag.prototype.__destroy__=function(){var t=this.ptr;dr(t)},Lg.prototype=Object.create(Vm.prototype),Lg.prototype.constructor=Lg,Lg.prototype.__class__=Lg,Lg.__cache__={},o.ClosestRayResultCallback=Lg,Lg.prototype.hasHit=Lg.prototype.hasHit=function(){var t=this.ptr;return!!Uc(t)},Lg.prototype.get_m_rayFromWorld=Lg.prototype.get_m_rayFromWorld=function(){var t=this.ptr;return xm(ph(t),Wm)},Lg.prototype.set_m_rayFromWorld=Lg.prototype.set_m_rayFromWorld=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Kh(e,t)},Lg.prototype.get_m_rayToWorld=Lg.prototype.get_m_rayToWorld=function(){var t=this.ptr;return xm(Td(t),Wm)},Lg.prototype.set_m_rayToWorld=Lg.prototype.set_m_rayToWorld=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),r_(e,t)},Lg.prototype.get_m_hitNormalWorld=Lg.prototype.get_m_hitNormalWorld=function(){var t=this.ptr;return xm(zd(t),Wm)},Lg.prototype.set_m_hitNormalWorld=Lg.prototype.set_m_hitNormalWorld=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),U_(e,t)},Lg.prototype.get_m_hitPointWorld=Lg.prototype.get_m_hitPointWorld=function(){var t=this.ptr;return xm(Tn(t),Wm)},Lg.prototype.set_m_hitPointWorld=Lg.prototype.set_m_hitPointWorld=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),qr(e,t)},Lg.prototype.get_m_collisionFilterGroup=Lg.prototype.get_m_collisionFilterGroup=function(){var t=this.ptr;return o_(t)},Lg.prototype.set_m_collisionFilterGroup=Lg.prototype.set_m_collisionFilterGroup=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),rs(e,t)},Lg.prototype.get_m_collisionFilterMask=Lg.prototype.get_m_collisionFilterMask=function(){var t=this.ptr;return dc(t)},Lg.prototype.set_m_collisionFilterMask=Lg.prototype.set_m_collisionFilterMask=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),vp(e,t)},Lg.prototype.get_m_collisionObject=Lg.prototype.get_m_collisionObject=function(){var t=this.ptr;return xm(v_(t),Lm)},Lg.prototype.set_m_collisionObject=Lg.prototype.set_m_collisionObject=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),zi(e,t)},Lg.prototype.__destroy__=Lg.prototype.__destroy__=function(){var t=this.ptr;No(t)},Eg.prototype=Object.create(Im.prototype),Eg.prototype.constructor=Eg,Eg.prototype.__class__=Eg,Eg.__cache__={},o.btGeneric6DofSpring2Constraint=Eg,Eg.prototype.setLinearLowerLimit=Eg.prototype.setLinearLowerLimit=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),f_(e,t)},Eg.prototype.setLinearUpperLimit=Eg.prototype.setLinearUpperLimit=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Il(e,t)},Eg.prototype.setAngularLowerLimit=Eg.prototype.setAngularLowerLimit=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Dh(e,t)},Eg.prototype.setAngularUpperLimit=Eg.prototype.setAngularUpperLimit=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),fi(e,t)},Eg.prototype.enableSpring=Eg.prototype.enableSpring=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),er(n,t,e)},Eg.prototype.setStiffness=Eg.prototype.setStiffness=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),va(n,t,e)},Eg.prototype.setDamping=Eg.prototype.setDamping=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),Yu(n,t,e)},Eg.prototype.getTranslationalLimitMotor=Eg.prototype.getTranslationalLimitMotor=function(){var t=this.ptr;return xm(Xp(t),Wg)},Eg.prototype.getRotationalLimitMotor=Eg.prototype.getRotationalLimitMotor=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),xm(ui(e,t),nb)},Eg.prototype.enableFeedback=Eg.prototype.enableFeedback=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Vf(e,t)},Eg.prototype.getBreakingImpulseThreshold=Eg.prototype.getBreakingImpulseThreshold=function(){var t=this.ptr;return Bn(t)},Eg.prototype.setBreakingImpulseThreshold=Eg.prototype.setBreakingImpulseThreshold=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),ks(e,t)},Eg.prototype.__destroy__=Eg.prototype.__destroy__=function(){var t=this.ptr;Wp(t)},Rg.prototype=Object.create(Pm.prototype),Rg.prototype.constructor=Rg,Rg.prototype.__class__=Rg,Rg.__cache__={},o.btCapsuleShapeX=Rg,Rg.prototype.setMargin=Rg.prototype.setMargin=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),ba(e,t)},Rg.prototype.getMargin=Rg.prototype.getMargin=function(){var t=this.ptr;return wn(t)},Rg.prototype.setLocalScaling=Rg.prototype.setLocalScaling=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Yc(e,t)},Rg.prototype.calculateLocalInertia=Rg.prototype.calculateLocalInertia=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),Yr(n,t,e)},Rg.prototype.__destroy__=Rg.prototype.__destroy__=function(){var t=this.ptr;Tu(t)},Ig.prototype=Object.create(qm.prototype),Ig.prototype.constructor=Ig,Ig.prototype.__class__=Ig,Ig.__cache__={},o.btQuaternion=Ig,Ig.prototype.setValue=Ig.prototype.setValue=function(t,e,n,i){var r=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),i&&"object"==typeof i&&(i=i.ptr),Mi(r,t,e,n,i)},Ig.prototype.normalize=Ig.prototype.normalize=function(){var t=this.ptr;vc(t)},Ig.prototype.x=Ig.prototype.x=function(){var t=this.ptr;return Es(t)},Ig.prototype.y=Ig.prototype.y=function(){var t=this.ptr;return Ml(t)},Ig.prototype.z=Ig.prototype.z=function(){var t=this.ptr;return Os(t)},Ig.prototype.w=Ig.prototype.w=function(){var t=this.ptr;return tl(t)},Ig.prototype.setX=Ig.prototype.setX=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Ln(e,t)},Ig.prototype.setY=Ig.prototype.setY=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),md(e,t)},Ig.prototype.setZ=Ig.prototype.setZ=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),In(e,t)},Ig.prototype.setW=Ig.prototype.setW=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),jn(e,t)},Ig.prototype.__destroy__=Ig.prototype.__destroy__=function(){var t=this.ptr;Op(t)},Pg.prototype=Object.create(Pm.prototype),Pg.prototype.constructor=Pg,Pg.prototype.__class__=Pg,Pg.__cache__={},o.btCapsuleShapeZ=Pg,Pg.prototype.setMargin=Pg.prototype.setMargin=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),bi(e,t)},Pg.prototype.getMargin=Pg.prototype.getMargin=function(){var t=this.ptr;return ol(t)},Pg.prototype.setLocalScaling=Pg.prototype.setLocalScaling=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Ss(e,t)},Pg.prototype.calculateLocalInertia=Pg.prototype.calculateLocalInertia=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),jp(n,t,e)},Pg.prototype.__destroy__=Pg.prototype.__destroy__=function(){var t=this.ptr;g_(t)},Dg.prototype=Object.create(Hm.prototype),Dg.prototype.constructor=Dg,Dg.prototype.__class__=Dg,Dg.__cache__={},o.btDefaultVehicleRaycaster=Dg,Dg.prototype.__destroy__=Dg.prototype.__destroy__=function(){var t=this.ptr;Ru(t)},kg.prototype=Object.create(vm.prototype),kg.prototype.constructor=kg,kg.prototype.__class__=kg,kg.__cache__={},o.btWheelInfo=kg,kg.prototype.get_m_suspensionStiffness=kg.prototype.get_m_suspensionStiffness=function(){var t=this.ptr;return Fn(t)},kg.prototype.set_m_suspensionStiffness=kg.prototype.set_m_suspensionStiffness=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Jp(e,t)},kg.prototype.get_m_frictionSlip=kg.prototype.get_m_frictionSlip=function(){var t=this.ptr;return xc(t)},kg.prototype.set_m_frictionSlip=kg.prototype.set_m_frictionSlip=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Hd(e,t)},kg.prototype.get_m_engineForce=kg.prototype.get_m_engineForce=function(){var t=this.ptr;return Sr(t)},kg.prototype.set_m_engineForce=kg.prototype.set_m_engineForce=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Wa(e,t)},kg.prototype.get_m_rollInfluence=kg.prototype.get_m_rollInfluence=function(){var t=this.ptr;return Zi(t)},kg.prototype.set_m_rollInfluence=kg.prototype.set_m_rollInfluence=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),nh(e,t)},kg.prototype.get_m_suspensionRestLength1=kg.prototype.get_m_suspensionRestLength1=function(){var t=this.ptr;return Nn(t)},kg.prototype.set_m_suspensionRestLength1=kg.prototype.set_m_suspensionRestLength1=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),C_(e,t)},kg.prototype.get_m_wheelsRadius=kg.prototype.get_m_wheelsRadius=function(){var t=this.ptr;return t_(t)},kg.prototype.set_m_wheelsRadius=kg.prototype.set_m_wheelsRadius=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Or(e,t)},kg.prototype.get_m_wheelsDampingCompression=kg.prototype.get_m_wheelsDampingCompression=function(){var t=this.ptr;return __(t)},kg.prototype.set_m_wheelsDampingCompression=kg.prototype.set_m_wheelsDampingCompression=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Fr(e,t)},kg.prototype.get_m_wheelsDampingRelaxation=kg.prototype.get_m_wheelsDampingRelaxation=function(){var t=this.ptr;return Yd(t)},kg.prototype.set_m_wheelsDampingRelaxation=kg.prototype.set_m_wheelsDampingRelaxation=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),s_(e,t)},kg.prototype.get_m_steering=kg.prototype.get_m_steering=function(){var t=this.ptr;return mh(t)},kg.prototype.set_m_steering=kg.prototype.set_m_steering=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),ef(e,t)},kg.prototype.get_m_maxSuspensionForce=kg.prototype.get_m_maxSuspensionForce=function(){var t=this.ptr;return b_(t)},kg.prototype.set_m_maxSuspensionForce=kg.prototype.set_m_maxSuspensionForce=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Fs(e,t)},kg.prototype.get_m_maxSuspensionTravelCm=kg.prototype.get_m_maxSuspensionTravelCm=function(){var t=this.ptr;return Jl(t)},kg.prototype.set_m_maxSuspensionTravelCm=kg.prototype.set_m_maxSuspensionTravelCm=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Iu(e,t)},kg.prototype.get_m_wheelsSuspensionForce=kg.prototype.get_m_wheelsSuspensionForce=function(){var t=this.ptr;return Sl(t)},kg.prototype.set_m_wheelsSuspensionForce=kg.prototype.set_m_wheelsSuspensionForce=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Pu(e,t)},kg.prototype.get_m_bIsFrontWheel=kg.prototype.get_m_bIsFrontWheel=function(){var t=this.ptr;return!!Ai(t)},kg.prototype.set_m_bIsFrontWheel=kg.prototype.set_m_bIsFrontWheel=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Jr(e,t)},kg.prototype.get_m_raycastInfo=kg.prototype.get_m_raycastInfo=function(){var t=this.ptr;return xm(sm(t),ag)},kg.prototype.set_m_raycastInfo=kg.prototype.set_m_raycastInfo=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Mo(e,t)},kg.prototype.get_m_chassisConnectionPointCS=kg.prototype.get_m_chassisConnectionPointCS=function(){var t=this.ptr;return xm(ep(t),Wm)},kg.prototype.set_m_chassisConnectionPointCS=kg.prototype.set_m_chassisConnectionPointCS=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),ti(e,t)},kg.prototype.__destroy__=kg.prototype.__destroy__=function(){var t=this.ptr;Qo(t)},Og.prototype=Object.create(Wm.prototype),Og.prototype.constructor=Og,Og.prototype.__class__=Og,Og.__cache__={},o.btVector4=Og,Og.prototype.w=Og.prototype.w=function(){var t=this.ptr;return Sd(t)},Og.prototype.setValue=Og.prototype.setValue=function(t,e,n,i){var r=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),i&&"object"==typeof i&&(i=i.ptr),Ji(r,t,e,n,i)},Og.prototype.length=Og.prototype.length=function(){var t=this.ptr;return _u(t)},Og.prototype.x=Og.prototype.x=function(){var t=this.ptr;return ed(t)},Og.prototype.y=Og.prototype.y=function(){var t=this.ptr;return Ed(t)},Og.prototype.z=Og.prototype.z=function(){var t=this.ptr;return Ef(t)},Og.prototype.setX=Og.prototype.setX=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),wo(e,t)},Og.prototype.setY=Og.prototype.setY=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Vl(e,t)},Og.prototype.setZ=Og.prototype.setZ=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Eo(e,t)},Og.prototype.normalize=Og.prototype.normalize=function(){var t=this.ptr;_d(t)},Og.prototype.dot=Og.prototype.dot=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),Da(e,t)},Og.prototype.op_mul=Og.prototype.op_mul=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),xm(Kl(e,t),Wm)},Og.prototype.op_add=Og.prototype.op_add=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),xm($o(e,t),Wm)},Og.prototype.op_sub=Og.prototype.op_sub=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),xm(c_(e,t),Wm)},Og.prototype.__destroy__=Og.prototype.__destroy__=function(){var t=this.ptr;gp(t)},Ng.prototype=Object.create(Zm.prototype),Ng.prototype.constructor=Ng,Ng.prototype.__class__=Ng,Ng.__cache__={},o.btKinematicCharacterController=Ng,Ng.prototype.setUpAxis=Ng.prototype.setUpAxis=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),hi(e,t)},Ng.prototype.setWalkDirection=Ng.prototype.setWalkDirection=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),ad(e,t)},Ng.prototype.setVelocityForTimeInterval=Ng.prototype.setVelocityForTimeInterval=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),Y_(n,t,e)},Ng.prototype.warp=Ng.prototype.warp=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Ch(e,t)},Ng.prototype.preStep=Ng.prototype.preStep=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Lh(e,t)},Ng.prototype.playerStep=Ng.prototype.playerStep=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),Ep(n,t,e)},Ng.prototype.setFallSpeed=Ng.prototype.setFallSpeed=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Au(e,t)},Ng.prototype.setJumpSpeed=Ng.prototype.setJumpSpeed=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),lf(e,t)},Ng.prototype.setMaxJumpHeight=Ng.prototype.setMaxJumpHeight=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),lm(e,t)},Ng.prototype.canJump=Ng.prototype.canJump=function(){var t=this.ptr;return!!Ys(t)},Ng.prototype.jump=Ng.prototype.jump=function(){var t=this.ptr;So(t)},Ng.prototype.setGravity=Ng.prototype.setGravity=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Vi(e,t)},Ng.prototype.getGravity=Ng.prototype.getGravity=function(){var t=this.ptr;return pd(t)},Ng.prototype.setMaxSlope=Ng.prototype.setMaxSlope=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Dn(e,t)},Ng.prototype.getMaxSlope=Ng.prototype.getMaxSlope=function(){var t=this.ptr;return F_(t)},Ng.prototype.getGhostObject=Ng.prototype.getGhostObject=function(){var t=this.ptr;return xm(rd(t),og)},Ng.prototype.setUseGhostSweepTest=Ng.prototype.setUseGhostSweepTest=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Si(e,t)},Ng.prototype.onGround=Ng.prototype.onGround=function(){var t=this.ptr;return!!If(t)},Ng.prototype.__destroy__=Ng.prototype.__destroy__=function(){var t=this.ptr;Q_(t)},Fg.prototype=Object.create(Em.prototype),Fg.prototype.constructor=Fg,Fg.prototype.__class__=Fg,Fg.__cache__={},o.btStaticPlaneShape=Fg,Fg.prototype.setLocalScaling=Fg.prototype.setLocalScaling=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Dp(e,t)},Fg.prototype.calculateLocalInertia=Fg.prototype.calculateLocalInertia=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),xp(n,t,e)},Fg.prototype.__destroy__=Fg.prototype.__destroy__=function(){var t=this.ptr;G_(t)},Bg.prototype=Object.create(vm.prototype),Bg.prototype.constructor=Bg,Bg.prototype.__class__=Bg,Bg.__cache__={},o.btContactSolverInfo=Bg,Bg.prototype.get_m_splitImpulse=Bg.prototype.get_m_splitImpulse=function(){var t=this.ptr;return!!am(t)},Bg.prototype.set_m_splitImpulse=Bg.prototype.set_m_splitImpulse=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Vs(e,t)},Bg.prototype.get_m_splitImpulsePenetrationThreshold=Bg.prototype.get_m_splitImpulsePenetrationThreshold=function(){var t=this.ptr;return pr(t)},Bg.prototype.set_m_splitImpulsePenetrationThreshold=Bg.prototype.set_m_splitImpulsePenetrationThreshold=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Ju(e,t)},Bg.prototype.__destroy__=Bg.prototype.__destroy__=function(){var t=this.ptr;Th(t)},jg.prototype=Object.create(vm.prototype),jg.prototype.constructor=jg,jg.prototype.__class__=jg,jg.__cache__={},o.btOverlappingPairCache=jg,jg.prototype.setInternalGhostPairCallback=jg.prototype.setInternalGhostPairCallback=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Pc(e,t)},jg.prototype.__destroy__=jg.prototype.__destroy__=function(){var t=this.ptr;ds(t)},Ug.prototype=Object.create(Am.prototype),Ug.prototype.constructor=Ug,Ug.prototype.__class__=Ug,Ug.__cache__={},o.btSphereShape=Ug,Ug.prototype.setMargin=Ug.prototype.setMargin=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),qu(e,t)},Ug.prototype.getMargin=Ug.prototype.getMargin=function(){var t=this.ptr;return au(t)},Ug.prototype.setLocalScaling=Ug.prototype.setLocalScaling=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),wd(e,t)},Ug.prototype.calculateLocalInertia=Ug.prototype.calculateLocalInertia=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),ro(n,t,e)},Ug.prototype.__destroy__=Ug.prototype.__destroy__=function(){var t=this.ptr;ei(t)},zg.prototype=Object.create(vm.prototype),zg.prototype.constructor=zg,zg.prototype.__class__=zg,zg.__cache__={},o.btDefaultCollisionConstructionInfo=zg,zg.prototype.__destroy__=zg.prototype.__destroy__=function(){var t=this.ptr;of(t)},Gg.prototype=Object.create(Im.prototype),Gg.prototype.constructor=Gg,Gg.prototype.__class__=Gg,Gg.__cache__={},o.btHingeConstraint=Gg,Gg.prototype.setLimit=Gg.prototype.setLimit=function(t,e,n,i,r){var o=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),i&&"object"==typeof i&&(i=i.ptr),r&&"object"==typeof r&&(r=r.ptr),void 0!==r?Eu(o,t,e,n,i,r):Lu(o,t,e,n,i)},Gg.prototype.enableAngularMotor=Gg.prototype.enableAngularMotor=function(t,e,n){var i=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),tc(i,t,e,n)},Gg.prototype.enableFeedback=Gg.prototype.enableFeedback=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),vi(e,t)},Gg.prototype.getBreakingImpulseThreshold=Gg.prototype.getBreakingImpulseThreshold=function(){var t=this.ptr;return rf(t)},Gg.prototype.setBreakingImpulseThreshold=Gg.prototype.setBreakingImpulseThreshold=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Qc(e,t)},Gg.prototype.__destroy__=Gg.prototype.__destroy__=function(){var t=this.ptr;Fd(t)},Vg.prototype=Object.create(vm.prototype),Vg.prototype.constructor=Vg,Vg.prototype.__class__=Vg,Vg.__cache__={},o.btConstraintSetting=Vg,Vg.prototype.get_m_tau=Vg.prototype.get_m_tau=function(){var t=this.ptr;return gh(t)},Vg.prototype.set_m_tau=Vg.prototype.set_m_tau=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),eo(e,t)},Vg.prototype.get_m_damping=Vg.prototype.get_m_damping=function(){var t=this.ptr;return Bs(t)},Vg.prototype.set_m_damping=Vg.prototype.set_m_damping=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Zr(e,t)},Vg.prototype.get_m_impulseClamp=Vg.prototype.get_m_impulseClamp=function(){var t=this.ptr;return Ur(t)},Vg.prototype.set_m_impulseClamp=Vg.prototype.set_m_impulseClamp=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Wi(e,t)},Vg.prototype.__destroy__=Vg.prototype.__destroy__=function(){var t=this.ptr;ms(t)},Wg.prototype=Object.create(vm.prototype),Wg.prototype.constructor=Wg,Wg.prototype.__class__=Wg,Wg.__cache__={},o.btTranslationalLimitMotor2=Wg,Wg.prototype.get_m_currentLinearDiff=Wg.prototype.get_m_currentLinearDiff=function(){var t=this.ptr;return xm(vs(t),Wm)},Wg.prototype.set_m_currentLinearDiff=Wg.prototype.set_m_currentLinearDiff=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),go(e,t)},Wg.prototype.__destroy__=Wg.prototype.__destroy__=function(){var t=this.ptr;di(t)},Hg.prototype=Object.create(vm.prototype),Hg.prototype.constructor=Hg,Hg.prototype.__class__=Hg,Hg.__cache__={},o.LocalShapeInfo=Hg,Hg.prototype.get_m_shapePart=Hg.prototype.get_m_shapePart=function(){var t=this.ptr;return qi(t)},Hg.prototype.set_m_shapePart=Hg.prototype.set_m_shapePart=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),yr(e,t)},Hg.prototype.get_m_triangleIndex=Hg.prototype.get_m_triangleIndex=function(){var t=this.ptr;return wf(t)},Hg.prototype.set_m_triangleIndex=Hg.prototype.set_m_triangleIndex=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),iu(e,t)},Hg.prototype.__destroy__=Hg.prototype.__destroy__=function(){var t=this.ptr;Ti(t)},Xg.prototype=Object.create(vm.prototype),Xg.prototype.constructor=Xg,Xg.prototype.__class__=Xg,Xg.__cache__={},o.btConstraintSolver=Xg,Xg.prototype.__destroy__=Xg.prototype.__destroy__=function(){var t=this.ptr;ip(t)},qg.prototype=Object.create(Dm.prototype),qg.prototype.constructor=qg,qg.prototype.__class__=qg,qg.__cache__={},o.btGeneric6DofSpringConstraint=qg,qg.prototype.enableSpring=qg.prototype.enableSpring=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),Vu(n,t,e)},qg.prototype.setStiffness=qg.prototype.setStiffness=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),Gl(n,t,e)},qg.prototype.setDamping=qg.prototype.setDamping=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),$h(n,t,e)},qg.prototype.setLinearLowerLimit=qg.prototype.setLinearLowerLimit=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),tm(e,t)},qg.prototype.setLinearUpperLimit=qg.prototype.setLinearUpperLimit=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),ni(e,t)},qg.prototype.setAngularLowerLimit=qg.prototype.setAngularLowerLimit=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),rm(e,t)},qg.prototype.setAngularUpperLimit=qg.prototype.setAngularUpperLimit=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),ml(e,t)},qg.prototype.enableFeedback=qg.prototype.enableFeedback=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Xu(e,t)},qg.prototype.getBreakingImpulseThreshold=qg.prototype.getBreakingImpulseThreshold=function(){var t=this.ptr;return ju(t)},qg.prototype.setBreakingImpulseThreshold=qg.prototype.setBreakingImpulseThreshold=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Hr(e,t)},qg.prototype.__destroy__=qg.prototype.__destroy__=function(){var t=this.ptr;Mc(t)},Yg.prototype=Object.create(vm.prototype),Yg.prototype.constructor=Yg,Yg.prototype.__class__=Yg,Yg.__cache__={},o.LocalConvexResult=Yg,Yg.prototype.get_m_hitCollisionObject=Yg.prototype.get_m_hitCollisionObject=function(){var t=this.ptr;return xm(Ta(t),Lm)},Yg.prototype.set_m_hitCollisionObject=Yg.prototype.set_m_hitCollisionObject=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),nm(e,t)},Yg.prototype.get_m_localShapeInfo=Yg.prototype.get_m_localShapeInfo=function(){var t=this.ptr;return xm(Uf(t),Hg)},Yg.prototype.set_m_localShapeInfo=Yg.prototype.set_m_localShapeInfo=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),z_(e,t)},Yg.prototype.get_m_hitNormalLocal=Yg.prototype.get_m_hitNormalLocal=function(){var t=this.ptr;return xm(Pn(t),Wm)},Yg.prototype.set_m_hitNormalLocal=Yg.prototype.set_m_hitNormalLocal=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Rs(e,t)},Yg.prototype.get_m_hitPointLocal=Yg.prototype.get_m_hitPointLocal=function(){var t=this.ptr;return xm(Bi(t),Wm)},Yg.prototype.set_m_hitPointLocal=Yg.prototype.set_m_hitPointLocal=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),fo(e,t)},Yg.prototype.get_m_hitFraction=Yg.prototype.get_m_hitFraction=function(){var t=this.ptr;return $c(t)},Yg.prototype.set_m_hitFraction=Yg.prototype.set_m_hitFraction=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Bp(e,t)},Yg.prototype.__destroy__=Yg.prototype.__destroy__=function(){var t=this.ptr;Jo(t)},Zg.prototype=Object.create(vm.prototype),Zg.prototype.constructor=Zg,Zg.prototype.__class__=Zg,Zg.__cache__={},o.btOverlappingPairCallback=Zg,Zg.prototype.__destroy__=Zg.prototype.__destroy__=function(){var t=this.ptr;Ja(t)},Jg.prototype=Object.create(Lm.prototype),Jg.prototype.constructor=Jg,Jg.prototype.__class__=Jg,Jg.__cache__={},o.btRigidBody=Jg,Jg.prototype.getCenterOfMassTransform=Jg.prototype.getCenterOfMassTransform=function(){var t=this.ptr;return xm(ri(t),Qg)},Jg.prototype.setCenterOfMassTransform=Jg.prototype.setCenterOfMassTransform=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),tp(e,t)},Jg.prototype.setSleepingThresholds=Jg.prototype.setSleepingThresholds=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),Bf(n,t,e)},Jg.prototype.setDamping=Jg.prototype.setDamping=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),Ua(n,t,e)},Jg.prototype.setMassProps=Jg.prototype.setMassProps=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),xu(n,t,e)},Jg.prototype.setLinearFactor=Jg.prototype.setLinearFactor=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),xr(e,t)},Jg.prototype.applyTorque=Jg.prototype.applyTorque=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Ca(e,t)},Jg.prototype.applyForce=Jg.prototype.applyForce=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),Qr(n,t,e)},Jg.prototype.applyCentralForce=Jg.prototype.applyCentralForce=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Kc(e,t)},Jg.prototype.applyTorqueImpulse=Jg.prototype.applyTorqueImpulse=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),S_(e,t)},Jg.prototype.applyImpulse=Jg.prototype.applyImpulse=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),ic(n,t,e)},Jg.prototype.applyCentralImpulse=Jg.prototype.applyCentralImpulse=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Vn(e,t)},Jg.prototype.updateInertiaTensor=Jg.prototype.updateInertiaTensor=function(){var t=this.ptr;Fc(t)},Jg.prototype.getLinearVelocity=Jg.prototype.getLinearVelocity=function(){var t=this.ptr;return xm(nc(t),Wm)},Jg.prototype.getAngularVelocity=Jg.prototype.getAngularVelocity=function(){var t=this.ptr;return xm($d(t),Wm)},Jg.prototype.setLinearVelocity=Jg.prototype.setLinearVelocity=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e_(e,t)},Jg.prototype.setAngularVelocity=Jg.prototype.setAngularVelocity=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),ac(e,t)},Jg.prototype.getMotionState=Jg.prototype.getMotionState=function(){var t=this.ptr;return xm(id(t),Nm)},Jg.prototype.setMotionState=Jg.prototype.setMotionState=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Ra(e,t)},Jg.prototype.setAngularFactor=Jg.prototype.setAngularFactor=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),eu(e,t)},Jg.prototype.upcast=Jg.prototype.upcast=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),xm(Ao(e,t),Jg)},Jg.prototype.setAnisotropicFriction=Jg.prototype.setAnisotropicFriction=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),up(n,t,e)},Jg.prototype.getCollisionShape=Jg.prototype.getCollisionShape=function(){var t=this.ptr;return xm(Xd(t),Am)},Jg.prototype.setContactProcessingThreshold=Jg.prototype.setContactProcessingThreshold=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),ec(e,t)},Jg.prototype.setActivationState=Jg.prototype.setActivationState=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),d_(e,t)},Jg.prototype.forceActivationState=Jg.prototype.forceActivationState=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),D_(e,t)},Jg.prototype.activate=Jg.prototype.activate=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),void 0!==t?Xf(e,t):qf(e)},Jg.prototype.isActive=Jg.prototype.isActive=function(){var t=this.ptr;return!!Zs(t)},Jg.prototype.isKinematicObject=Jg.prototype.isKinematicObject=function(){var t=this.ptr;return!!Ei(t)},Jg.prototype.setRestitution=Jg.prototype.setRestitution=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Z_(e,t)},Jg.prototype.setFriction=Jg.prototype.setFriction=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),po(e,t)},Jg.prototype.setRollingFriction=Jg.prototype.setRollingFriction=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Cf(e,t)},Jg.prototype.getWorldTransform=Jg.prototype.getWorldTransform=function(){var t=this.ptr;return xm(ff(t),Qg)},Jg.prototype.getCollisionFlags=Jg.prototype.getCollisionFlags=function(){var t=this.ptr;return Sa(t)},Jg.prototype.setCollisionFlags=Jg.prototype.setCollisionFlags=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),M_(e,t)},Jg.prototype.setWorldTransform=Jg.prototype.setWorldTransform=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),sc(e,t)},Jg.prototype.setCollisionShape=Jg.prototype.setCollisionShape=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),na(e,t)},Jg.prototype.setCcdMotionThreshold=Jg.prototype.setCcdMotionThreshold=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Kr(e,t)},Jg.prototype.setCcdSweptSphereRadius=Jg.prototype.setCcdSweptSphereRadius=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),uo(e,t)},Jg.prototype.__destroy__=Jg.prototype.__destroy__=function(){var t=this.ptr;Nf(t)},Kg.prototype=Object.create(Ym.prototype),Kg.prototype.constructor=Kg,Kg.prototype.__class__=Kg,Kg.__cache__={},o.btCylinderShapeX=Kg,Kg.prototype.setMargin=Kg.prototype.setMargin=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Bo(e,t)},Kg.prototype.getMargin=Kg.prototype.getMargin=function(){var t=this.ptr;return bc(t)},Kg.prototype.setLocalScaling=Kg.prototype.setLocalScaling=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),Xa(e,t)},Kg.prototype.calculateLocalInertia=Kg.prototype.calculateLocalInertia=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),bd(n,t,e)},Kg.prototype.__destroy__=Kg.prototype.__destroy__=function(){var t=this.ptr;Kf(t)},$g.prototype=Object.create(Ym.prototype),$g.prototype.constructor=$g,$g.prototype.__class__=$g,$g.__cache__={},o.btCylinderShapeZ=$g,$g.prototype.setMargin=$g.prototype.setMargin=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),ho(e,t)},$g.prototype.getMargin=$g.prototype.getMargin=function(){var t=this.ptr;return En(t)},$g.prototype.setLocalScaling=$g.prototype.setLocalScaling=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),V_(e,t)},$g.prototype.calculateLocalInertia=$g.prototype.calculateLocalInertia=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),nu(n,t,e)},$g.prototype.__destroy__=$g.prototype.__destroy__=function(){var t=this.ptr;zr(t)},Qg.prototype=Object.create(vm.prototype),Qg.prototype.constructor=Qg,Qg.prototype.__class__=Qg,Qg.__cache__={},o.btTransform=Qg,Qg.prototype.setIdentity=Qg.prototype.setIdentity=function(){var t=this.ptr;On(t)},Qg.prototype.setOrigin=Qg.prototype.setOrigin=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),jc(e,t)},Qg.prototype.setRotation=Qg.prototype.setRotation=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),es(e,t)},Qg.prototype.getOrigin=Qg.prototype.getOrigin=function(){var t=this.ptr;return xm(Od(t),Wm)},Qg.prototype.getRotation=Qg.prototype.getRotation=function(){var t=this.ptr;return xm(nl(t),Ig)},Qg.prototype.getBasis=Qg.prototype.getBasis=function(){var t=this.ptr;return xm(Io(t),Jm)},Qg.prototype.__destroy__=Qg.prototype.__destroy__=function(){var t=this.ptr;R_(t)},tb.prototype=Object.create(Zm.prototype),tb.prototype.constructor=tb,tb.prototype.__class__=tb,tb.__cache__={},o.btRaycastVehicle=tb,tb.prototype.applyEngineForce=tb.prototype.applyEngineForce=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),Eh(n,t,e)},tb.prototype.setSteeringValue=tb.prototype.setSteeringValue=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),Mr(n,t,e)},tb.prototype.getWheelTransformWS=tb.prototype.getWheelTransformWS=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),xm(ja(e,t),Qg)},tb.prototype.updateWheelTransform=tb.prototype.updateWheelTransform=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),Kn(n,t,e)},tb.prototype.addWheel=tb.prototype.addWheel=function(t,e,n,i,r,o,s){var a=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),i&&"object"==typeof i&&(i=i.ptr),r&&"object"==typeof r&&(r=r.ptr),o&&"object"==typeof o&&(o=o.ptr),s&&"object"==typeof s&&(s=s.ptr),xm(j_(a,t,e,n,i,r,o,s),kg)},tb.prototype.getNumWheels=tb.prototype.getNumWheels=function(){var t=this.ptr;return Cc(t)},tb.prototype.getRigidBody=tb.prototype.getRigidBody=function(){var t=this.ptr;return xm(fh(t),Jg)},tb.prototype.getWheelInfo=tb.prototype.getWheelInfo=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),xm(Qp(e,t),kg)},tb.prototype.setBrake=tb.prototype.setBrake=function(t,e){var n=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),Rh(n,t,e)},tb.prototype.setCoordinateSystem=tb.prototype.setCoordinateSystem=function(t,e,n){var i=this.ptr;t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n&&"object"==typeof n&&(n=n.ptr),aa(i,t,e,n)},tb.prototype.__destroy__=tb.prototype.__destroy__=function(){var t=this.ptr;Yf(t)},eb.prototype=Object.create(vm.prototype),eb.prototype.constructor=eb,eb.prototype.__class__=eb,eb.__cache__={},o.btGhostPairCallback=eb,eb.prototype.__destroy__=eb.prototype.__destroy__=function(){var t=this.ptr;N_(t)},nb.prototype=Object.create(vm.prototype),nb.prototype.constructor=nb,nb.prototype.__class__=nb,nb.__cache__={},o.btRotationalLimitMotor2=nb,nb.prototype.get_m_currentPosition=nb.prototype.get_m_currentPosition=function(){var t=this.ptr;return Fa(t)},nb.prototype.set_m_currentPosition=nb.prototype.set_m_currentPosition=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),im(e,t)},nb.prototype.__destroy__=nb.prototype.__destroy__=function(){var t=this.ptr;js(t)},function(){function t(){o.RO_XYZ=_l(),o.RO_XZY=xd(),o.RO_YXZ=Cr(),o.RO_YZX=dh(),o.RO_ZXY=em(),o.RO_ZYX=Nd()}o.calledRun?t():Lt(t)}(),o};return e()})?o.call(e,n,e,t):o)||(t.exports=s)}).call(this,n("./node_modules/process/browser.js"),"/")},"./node_modules/node-libs-browser/mock/empty.js":function(t,e){},"./node_modules/path-browserify/index.js":function(t,e,n){(function(t){function n(t,e){for(var n=0,i=t.length-1;i>=0;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function i(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}e.resolve=function(){for(var e="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,r="/"===s.charAt(0))}return(r?"/":"")+(e=n(i(e.split("/"),(function(t){return!!t})),!r).join("/"))||"."},e.normalize=function(t){var o=e.isAbsolute(t),s="/"===r(t,-1);return(t=n(i(t.split("/"),(function(t){return!!t})),!o).join("/"))||o||(t="."),t&&s&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var r=i(t.split("/")),o=i(n.split("/")),s=Math.min(r.length,o.length),a=s,c=0;c<s;c++)if(r[c]!==o[c]){a=c;break}var l=[];for(c=a;c<r.length;c++)l.push("..");return(l=l.concat(o.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,i=-1,r=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!r){i=o;break}}else r=!1;return-1===i?n?"/":".":n&&1===i?"/":t.slice(0,i)},e.basename=function(t,e){var n=function(t){"string"!=typeof t&&(t+="");var e,n=0,i=-1,r=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!r){n=e+1;break}}else-1===i&&(r=!1,i=e+1);return-1===i?"":t.slice(n,i)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,n=0,i=-1,r=!0,o=0,s=t.length-1;s>=0;--s){var a=t.charCodeAt(s);if(47!==a)-1===i&&(r=!1,i=s+1),46===a?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1);else if(!r){n=s+1;break}}return-1===e||-1===i||0===o||1===o&&e===i-1&&e===n+1?"":t.slice(e,i)};var r="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n("./node_modules/process/browser.js"))},"./node_modules/process/browser.js":function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var c,l=[],u=!1,h=-1;function p(){u&&c&&(u=!1,c.length?l=c.concat(l):h=-1,l.length&&f())}function f(){if(!u){var t=a(p);u=!0;for(var e=l.length;e;){for(c=l,l=[];++h<e;)c&&c[h].run();h=-1,e=l.length}c=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function _(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||u||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=_,r.addListener=_,r.once=_,r.off=_,r.removeListener=_,r.removeAllListeners=_,r.emit=_,r.prependListener=_,r.prependOnceListener=_,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},"./node_modules/three/build/three.module.js":function(t,e,n){"use strict";n.d(e,"a",(function(){return da})),n.d(e,"b",(function(){return Vc})),n.d(e,"c",(function(){return Ao})),n.d(e,"d",(function(){return ft})),n.d(e,"e",(function(){return Be})),n.d(e,"f",(function(){return an})),n.d(e,"g",(function(){return ns})),n.d(e,"h",(function(){return f})),n.d(e,"i",(function(){return Ie})),n.d(e,"j",(function(){return sc})),n.d(e,"k",(function(){return s})),n.d(e,"l",(function(){return Xt})),n.d(e,"m",(function(){return Z})),n.d(e,"n",(function(){return xa})),n.d(e,"o",(function(){return o})),n.d(e,"p",(function(){return Hr})),n.d(e,"q",(function(){return mc})),n.d(e,"r",(function(){return $r})),n.d(e,"s",(function(){return to})),n.d(e,"t",(function(){return na})),n.d(e,"u",(function(){return I})),n.d(e,"v",(function(){return P})),n.d(e,"w",(function(){return Go})),n.d(e,"x",(function(){return No})),n.d(e,"y",(function(){return Xo})),n.d(e,"z",(function(){return Ho})),n.d(e,"A",(function(){return b})),n.d(e,"B",(function(){return y})),n.d(e,"C",(function(){return v})),n.d(e,"D",(function(){return va})),n.d(e,"E",(function(){return pc})),n.d(e,"F",(function(){return i})),n.d(e,"G",(function(){return ke})),n.d(e,"H",(function(){return $})),n.d(e,"I",(function(){return Bt})),n.d(e,"J",(function(){return Cn})),n.d(e,"K",(function(){return Oe})),n.d(e,"L",(function(){return qs})),n.d(e,"M",(function(){return Xs})),n.d(e,"N",(function(){return d})),n.d(e,"O",(function(){return _})),n.d(e,"P",(function(){return g})),n.d(e,"Q",(function(){return m})),n.d(e,"R",(function(){return la})),n.d(e,"S",(function(){return le})),n.d(e,"T",(function(){return rc})),n.d(e,"U",(function(){return kn})),n.d(e,"V",(function(){return ic})),n.d(e,"W",(function(){return $o})),n.d(e,"X",(function(){return qo})),n.d(e,"Y",(function(){return zc})),n.d(e,"Z",(function(){return lt})),n.d(e,"ab",(function(){return ha})),n.d(e,"bb",(function(){return A})),n.d(e,"cb",(function(){return p})),n.d(e,"db",(function(){return Ro})),n.d(e,"eb",(function(){return rl})),n.d(e,"fb",(function(){return To})),n.d(e,"gb",(function(){return Et})),n.d(e,"hb",(function(){return Jc})),n.d(e,"ib",(function(){return ec})),n.d(e,"jb",(function(){return r})),n.d(e,"kb",(function(){return W})),n.d(e,"lb",(function(){return Aa})),n.d(e,"mb",(function(){return j})),n.d(e,"nb",(function(){return B})),n.d(e,"ob",(function(){return Q})),n.d(e,"pb",(function(){return ut})),n.d(e,"qb",(function(){return fa})),n.d(e,"rb",(function(){return z}));const i={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},r={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},o=0,s=2,a=100,c=301,l=302,u=306,h=307,p=1e3,f=1001,d=1002,_=1003,m=1004,g=1005,b=1006,v=1007,y=1008,x=1009,w=1012,S=1014,M=1015,C=1016,T=1020,A=1022,L=1023,E=1026,R=1027,I=2300,P=2301,D=2302,k=2400,O=2401,N=2402,F=2500,B=1,j=2,U=3e3,z=3001,G=3007,V=3002,W=0,H=7680,X=35044,q=35048,Y="300 es";function Z(){}Object.assign(Z.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0===this._listeners)return;const n=this._listeners[t];if(void 0!==n){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}},dispatchEvent:function(t){if(void 0===this._listeners)return;const e=this._listeners[t.type];if(void 0!==e){t.target=this;const n=e.slice(0);for(let e=0,i=n.length;e<i;e++)n[e].call(this,t)}}});const J=[];for(let t=0;t<256;t++)J[t]=(t<16?"0":"")+t.toString(16);let K=1234567;const $={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(J[255&t]+J[t>>8&255]+J[t>>16&255]+J[t>>24&255]+"-"+J[255&e]+J[e>>8&255]+"-"+J[e>>16&15|64]+J[e>>24&255]+"-"+J[63&n|128]+J[n>>8&255]+"-"+J[n>>16&255]+J[n>>24&255]+J[255&i]+J[i>>8&255]+J[i>>16&255]+J[i>>24&255]).toUpperCase()},clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return void 0!==t&&(K=t%2147483647),K=16807*K%2147483647,(K-1)/2147483646},degToRad:function(t){return t*$.DEG2RAD},radToDeg:function(t){return t*$.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,n,i,r){const o=Math.cos,s=Math.sin,a=o(n/2),c=s(n/2),l=o((e+i)/2),u=s((e+i)/2),h=o((e-i)/2),p=s((e-i)/2),f=o((i-e)/2),d=s((i-e)/2);switch(r){case"XYX":t.set(a*u,c*h,c*p,a*l);break;case"YZY":t.set(c*p,a*u,c*h,a*l);break;case"ZXZ":t.set(c*h,c*p,a*u,a*l);break;case"XZX":t.set(a*u,c*d,c*f,a*l);break;case"YXY":t.set(c*f,a*u,c*d,a*l);break;case"ZYZ":t.set(c*d,c*f,a*u,a*l)}}};class Q{constructor(t=0,e=0){Object.defineProperty(this,"isVector2",{value:!0}),this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6],this.y=i[1]*e+i[4]*n+i[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,n){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),i=Math.sin(e),r=this.x-t.x,o=this.y-t.y;return this.x=r*n-o*i+t.x,this.y=r*i+o*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}class tt{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1]}set(t,e,n,i,r,o,s,a,c){const l=this.elements;return l[0]=t,l[1]=i,l[2]=s,l[3]=e,l[4]=r,l[5]=a,l[6]=n,l[7]=o,l[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}clone(){return(new this.constructor).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,i=e.elements,r=this.elements,o=n[0],s=n[3],a=n[6],c=n[1],l=n[4],u=n[7],h=n[2],p=n[5],f=n[8],d=i[0],_=i[3],m=i[6],g=i[1],b=i[4],v=i[7],y=i[2],x=i[5],w=i[8];return r[0]=o*d+s*g+a*y,r[3]=o*_+s*b+a*x,r[6]=o*m+s*v+a*w,r[1]=c*d+l*g+u*y,r[4]=c*_+l*b+u*x,r[7]=c*m+l*v+u*w,r[2]=h*d+p*g+f*y,r[5]=h*_+p*b+f*x,r[8]=h*m+p*v+f*w,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],a=t[6],c=t[7],l=t[8];return e*o*l-e*s*c-n*r*l+n*s*a+i*r*c-i*o*a}invert(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],a=t[6],c=t[7],l=t[8],u=l*o-s*c,h=s*a-l*r,p=c*r-o*a,f=e*u+n*h+i*p;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const d=1/f;return t[0]=u*d,t[1]=(i*c-l*n)*d,t[2]=(s*n-i*o)*d,t[3]=h*d,t[4]=(l*e-i*a)*d,t[5]=(i*r-s*e)*d,t[6]=p*d,t[7]=(n*a-c*e)*d,t[8]=(o*e-n*r)*d,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).copy(this).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,i,r,o,s){const a=Math.cos(r),c=Math.sin(r);return this.set(n*a,n*c,-n*(a*o+c*s)+o+t,-i*c,i*a,-i*(-c*o+a*s)+s+e,0,0,1),this}scale(t,e){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this}rotate(t){const e=Math.cos(t),n=Math.sin(t),i=this.elements,r=i[0],o=i[3],s=i[6],a=i[1],c=i[4],l=i[7];return i[0]=e*r+n*a,i[3]=e*o+n*c,i[6]=e*s+n*l,i[1]=-n*r+e*a,i[4]=-n*o+e*c,i[7]=-n*s+e*l,this}translate(t,e){const n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this}equals(t){const e=this.elements,n=t.elements;for(let t=0;t<9;t++)if(e[t]!==n[t])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}}let et;const nt={getDataURL:function(t){if(/^data:/i.test(t.src))return t.src;if("undefined"==typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===et&&(et=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),et.width=t.width,et.height=t.height;const n=et.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=et}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}};let it=0;function rt(t=rt.DEFAULT_IMAGE,e=rt.DEFAULT_MAPPING,n=f,i=f,r=b,o=y,s=1023,a=1009,c=1,l=3e3){Object.defineProperty(this,"id",{value:it++}),this.uuid=$.generateUUID(),this.name="",this.image=t,this.mipmaps=[],this.mapping=e,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=o,this.anisotropy=c,this.format=s,this.internalFormat=null,this.type=a,this.offset=new Q(0,0),this.repeat=new Q(1,1),this.center=new Q(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new tt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=l,this.version=0,this.onUpdate=null}function ot(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?nt.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:{}}rt.DEFAULT_IMAGE=void 0,rt.DEFAULT_MAPPING=300,rt.prototype=Object.assign(Object.create(Z.prototype),{constructor:rt,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const i=this.image;if(void 0===i.uuid&&(i.uuid=$.generateUUID()),!e&&void 0===t.images[i.uuid]){let e;if(Array.isArray(i)){e=[];for(let t=0,n=i.length;t<n;t++)i[t].isDataTexture?e.push(ot(i[t].image)):e.push(ot(i[t]))}else e=ot(i);t.images[i.uuid]={uuid:i.uuid,url:e}}n.image=i.uuid}return e||(t.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case p:t.x=t.x-Math.floor(t.x);break;case f:t.x=t.x<0?0:1;break;case d:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case p:t.y=t.y-Math.floor(t.y);break;case f:t.y=t.y<0?0:1;break;case d:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(rt.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}});class st{constructor(t=0,e=0,n=0,i=1){Object.defineProperty(this,"isVector4",{value:!0}),this.x=t,this.y=e,this.z=n,this.w=i}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,i=this.z,r=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*i+o[12]*r,this.y=o[1]*e+o[5]*n+o[9]*i+o[13]*r,this.z=o[2]*e+o[6]*n+o[10]*i+o[14]*r,this.w=o[3]*e+o[7]*n+o[11]*i+o[15]*r,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,i,r;const o=.01,s=.1,a=t.elements,c=a[0],l=a[4],u=a[8],h=a[1],p=a[5],f=a[9],d=a[2],_=a[6],m=a[10];if(Math.abs(l-h)<o&&Math.abs(u-d)<o&&Math.abs(f-_)<o){if(Math.abs(l+h)<s&&Math.abs(u+d)<s&&Math.abs(f+_)<s&&Math.abs(c+p+m-3)<s)return this.set(1,0,0,0),this;e=Math.PI;const t=(c+1)/2,a=(p+1)/2,g=(m+1)/2,b=(l+h)/4,v=(u+d)/4,y=(f+_)/4;return t>a&&t>g?t<o?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(t),i=b/n,r=v/n):a>g?a<o?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(a),n=b/i,r=y/i):g<o?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(g),n=v/r,i=y/r),this.set(n,i,r,e),this}let g=Math.sqrt((_-f)*(_-f)+(u-d)*(u-d)+(h-l)*(h-l));return Math.abs(g)<.001&&(g=1),this.x=(_-f)/g,this.y=(u-d)/g,this.z=(h-l)/g,this.w=Math.acos((c+p+m-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e,n){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}function at(t,e,n){this.width=t,this.height=e,this.scissor=new st(0,0,t,e),this.scissorTest=!1,this.viewport=new st(0,0,t,e),n=n||{},this.texture=new rt(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=t,this.texture.image.height=e,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:b,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function ct(t,e,n){at.call(this,t,e,n),this.samples=4}at.prototype=Object.assign(Object.create(Z.prototype),{constructor:at,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.texture.image.width=t,this.texture.image.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),ct.prototype=Object.assign(Object.create(at.prototype),{constructor:ct,isWebGLMultisampleRenderTarget:!0,copy:function(t){return at.prototype.copy.call(this,t),this.samples=t.samples,this}});class lt{constructor(t=0,e=0,n=0,i=1){Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=t,this._y=e,this._z=n,this._w=i}static slerp(t,e,n,i){return n.copy(t).slerp(e,i)}static slerpFlat(t,e,n,i,r,o,s){let a=n[i+0],c=n[i+1],l=n[i+2],u=n[i+3];const h=r[o+0],p=r[o+1],f=r[o+2],d=r[o+3];if(u!==d||a!==h||c!==p||l!==f){let t=1-s;const e=a*h+c*p+l*f+u*d,n=e>=0?1:-1,i=1-e*e;if(i>Number.EPSILON){const r=Math.sqrt(i),o=Math.atan2(r,e*n);t=Math.sin(t*o)/r,s=Math.sin(s*o)/r}const r=s*n;if(a=a*t+h*r,c=c*t+p*r,l=l*t+f*r,u=u*t+d*r,t===1-s){const t=1/Math.sqrt(a*a+c*c+l*l+u*u);a*=t,c*=t,l*=t,u*=t}}t[e]=a,t[e+1]=c,t[e+2]=l,t[e+3]=u}static multiplyQuaternionsFlat(t,e,n,i,r,o){const s=n[i],a=n[i+1],c=n[i+2],l=n[i+3],u=r[o],h=r[o+1],p=r[o+2],f=r[o+3];return t[e]=s*f+l*u+a*p-c*h,t[e+1]=a*f+l*h+c*u-s*p,t[e+2]=c*f+l*p+s*h-a*u,t[e+3]=l*f-s*u-a*h-c*p,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=t._x,i=t._y,r=t._z,o=t._order,s=Math.cos,a=Math.sin,c=s(n/2),l=s(i/2),u=s(r/2),h=a(n/2),p=a(i/2),f=a(r/2);switch(o){case"XYZ":this._x=h*l*u+c*p*f,this._y=c*p*u-h*l*f,this._z=c*l*f+h*p*u,this._w=c*l*u-h*p*f;break;case"YXZ":this._x=h*l*u+c*p*f,this._y=c*p*u-h*l*f,this._z=c*l*f-h*p*u,this._w=c*l*u+h*p*f;break;case"ZXY":this._x=h*l*u-c*p*f,this._y=c*p*u+h*l*f,this._z=c*l*f+h*p*u,this._w=c*l*u-h*p*f;break;case"ZYX":this._x=h*l*u-c*p*f,this._y=c*p*u+h*l*f,this._z=c*l*f-h*p*u,this._w=c*l*u+h*p*f;break;case"YZX":this._x=h*l*u+c*p*f,this._y=c*p*u+h*l*f,this._z=c*l*f-h*p*u,this._w=c*l*u-h*p*f;break;case"XZY":this._x=h*l*u-c*p*f,this._y=c*p*u-h*l*f,this._z=c*l*f+h*p*u,this._w=c*l*u+h*p*f}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],i=e[4],r=e[8],o=e[1],s=e[5],a=e[9],c=e[2],l=e[6],u=e[10],h=n+s+u;if(h>0){const t=.5/Math.sqrt(h+1);this._w=.25/t,this._x=(l-a)*t,this._y=(r-c)*t,this._z=(o-i)*t}else if(n>s&&n>u){const t=2*Math.sqrt(1+n-s-u);this._w=(l-a)/t,this._x=.25*t,this._y=(i+o)/t,this._z=(r+c)/t}else if(s>u){const t=2*Math.sqrt(1+s-n-u);this._w=(r-c)/t,this._x=(i+o)/t,this._y=.25*t,this._z=(a+l)/t}else{const t=2*Math.sqrt(1+u-n-s);this._w=(o-i)/t,this._x=(r+c)/t,this._y=(a+l)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<1e-6?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs($.clamp(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(0===n)return this;const i=Math.min(1,e/n);return this.slerp(t,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return void 0!==e?this.multiplyQuaternions(t,e):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,i=t._y,r=t._z,o=t._w,s=e._x,a=e._y,c=e._z,l=e._w;return this._x=n*l+o*s+i*c-r*a,this._y=i*l+o*a+r*s-n*c,this._z=r*l+o*c+n*a-i*s,this._w=o*l-n*s-i*a-r*c,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this._x,i=this._y,r=this._z,o=this._w;let s=o*t._w+n*t._x+i*t._y+r*t._z;if(s<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,s=-s):this.copy(t),s>=1)return this._w=o,this._x=n,this._y=i,this._z=r,this;const a=1-s*s;if(a<=Number.EPSILON){const t=1-e;return this._w=t*o+e*this._w,this._x=t*n+e*this._x,this._y=t*i+e*this._y,this._z=t*r+e*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(a),l=Math.atan2(c,s),u=Math.sin((1-e)*l)/c,h=Math.sin(e*l)/c;return this._w=o*u+this._w*h,this._x=n*u+this._x*h,this._y=i*u+this._y*h,this._z=r*u+this._z*h,this._onChangeCallback(),this}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}class ut{constructor(t=0,e=0,n=0){Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return void 0!==e?this.multiplyVectors(t,e):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return!t||t.isEuler,this.applyQuaternion(pt.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(pt.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,i=this.z,r=t.elements,o=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*o,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*o,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*o,this}applyQuaternion(t){const e=this.x,n=this.y,i=this.z,r=t.x,o=t.y,s=t.z,a=t.w,c=a*e+o*i-s*n,l=a*n+s*e-r*i,u=a*i+r*n-o*e,h=-r*e-o*n-s*i;return this.x=c*a+h*-r+l*-s-u*-o,this.y=l*a+h*-o+u*-r-c*-s,this.z=u*a+h*-s+c*-o-l*-r,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t,e){return void 0!==e?this.crossVectors(t,e):this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,i=t.y,r=t.z,o=e.x,s=e.y,a=e.z;return this.x=i*a-r*s,this.y=r*o-n*a,this.z=n*s-i*o,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return ht.copy(this).projectOnVector(t),this.sub(ht)}reflect(t){return this.sub(ht.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos($.clamp(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const i=Math.sin(e)*t;return this.x=i*Math.sin(n),this.y=Math.cos(e)*t,this.z=i*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,n){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}const ht=new ut,pt=new lt;class ft{constructor(t,e){Object.defineProperty(this,"isBox3",{value:!0}),this.min=void 0!==t?t:new ut(Infinity,Infinity,Infinity),this.max=void 0!==e?e:new ut(-Infinity,-Infinity,-Infinity)}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=Infinity,n=Infinity,i=Infinity,r=-Infinity,o=-Infinity,s=-Infinity;for(let a=0,c=t.length;a<c;a+=3){const c=t[a],l=t[a+1],u=t[a+2];c<e&&(e=c),l<n&&(n=l),u<i&&(i=u),c>r&&(r=c),l>o&&(o=l),u>s&&(s=u)}return this.min.set(e,n,i),this.max.set(r,o,s),this}setFromBufferAttribute(t){let e=Infinity,n=Infinity,i=Infinity,r=-Infinity,o=-Infinity,s=-Infinity;for(let a=0,c=t.count;a<c;a++){const c=t.getX(a),l=t.getY(a),u=t.getZ(a);c<e&&(e=c),l<n&&(n=l),u<i&&(i=u),c>r&&(r=c),l>o&&(o=l),u>s&&(s=u)}return this.min.set(e,n,i),this.max.set(r,o,s),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=mt.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t){return this.makeEmpty(),this.expandByObject(t)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=Infinity,this.max.x=this.max.y=this.max.z=-Infinity,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return void 0===t&&(t=new ut),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return void 0===t&&(t=new ut),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t){t.updateWorldMatrix(!1,!1);const e=t.geometry;void 0!==e&&(null===e.boundingBox&&e.computeBoundingBox(),gt.copy(e.boundingBox),gt.applyMatrix4(t.matrixWorld),this.union(gt));const n=t.children;for(let t=0,e=n.length;t<e;t++)this.expandByObject(n[t]);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return void 0===e&&(e=new ut),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,mt),mt.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Mt),Ct.subVectors(this.max,Mt),bt.subVectors(t.a,Mt),vt.subVectors(t.b,Mt),yt.subVectors(t.c,Mt),xt.subVectors(vt,bt),wt.subVectors(yt,vt),St.subVectors(bt,yt);let e=[0,-xt.z,xt.y,0,-wt.z,wt.y,0,-St.z,St.y,xt.z,0,-xt.x,wt.z,0,-wt.x,St.z,0,-St.x,-xt.y,xt.x,0,-wt.y,wt.x,0,-St.y,St.x,0];return!!dt(e,bt,vt,yt,Ct)&&(e=[1,0,0,0,1,0,0,0,1],!!dt(e,bt,vt,yt,Ct)&&(Tt.crossVectors(xt,wt),e=[Tt.x,Tt.y,Tt.z],dt(e,bt,vt,yt,Ct)))}clampPoint(t,e){return void 0===e&&(e=new ut),e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return mt.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return this.getCenter(t.center),t.radius=.5*this.getSize(mt).length(),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(_t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),_t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),_t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),_t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),_t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),_t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),_t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),_t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(_t)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}function dt(t,e,n,i,r){for(let o=0,s=t.length-3;o<=s;o+=3){At.fromArray(t,o);const s=r.x*Math.abs(At.x)+r.y*Math.abs(At.y)+r.z*Math.abs(At.z),a=e.dot(At),c=n.dot(At),l=i.dot(At);if(Math.max(-Math.max(a,c,l),Math.min(a,c,l))>s)return!1}return!0}const _t=[new ut,new ut,new ut,new ut,new ut,new ut,new ut,new ut],mt=new ut,gt=new ft,bt=new ut,vt=new ut,yt=new ut,xt=new ut,wt=new ut,St=new ut,Mt=new ut,Ct=new ut,Tt=new ut,At=new ut,Lt=new ft;class Et{constructor(t,e){this.center=void 0!==t?t:new ut,this.radius=void 0!==e?e:-1}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;void 0!==e?n.copy(e):Lt.setFromPoints(t).getCenter(n);let i=0;for(let e=0,r=t.length;e<r;e++)i=Math.max(i,n.distanceToSquared(t[e]));return this.radius=Math.sqrt(i),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return void 0===e&&(e=new ut),e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return void 0===t&&(t=new ft),this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}}const Rt=new ut,It=new ut,Pt=new ut,Dt=new ut,kt=new ut,Ot=new ut,Nt=new ut;class Ft{constructor(t,e){this.origin=void 0!==t?t:new ut,this.direction=void 0!==e?e:new ut(0,0,-1)}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return void 0===e&&(e=new ut),e.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Rt)),this}closestPointToPoint(t,e){void 0===e&&(e=new ut),e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=Rt.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Rt.copy(this.direction).multiplyScalar(e).add(this.origin),Rt.distanceToSquared(t))}distanceSqToSegment(t,e,n,i){It.copy(t).add(e).multiplyScalar(.5),Pt.copy(e).sub(t).normalize(),Dt.copy(this.origin).sub(It);const r=.5*t.distanceTo(e),o=-this.direction.dot(Pt),s=Dt.dot(this.direction),a=-Dt.dot(Pt),c=Dt.lengthSq(),l=Math.abs(1-o*o);let u,h,p,f;if(l>0)if(u=o*a-s,h=o*s-a,f=r*l,u>=0)if(h>=-f)if(h<=f){const t=1/l;u*=t,h*=t,p=u*(u+o*h+2*s)+h*(o*u+h+2*a)+c}else h=r,u=Math.max(0,-(o*h+s)),p=-u*u+h*(h+2*a)+c;else h=-r,u=Math.max(0,-(o*h+s)),p=-u*u+h*(h+2*a)+c;else h<=-f?(u=Math.max(0,-(-o*r+s)),h=u>0?-r:Math.min(Math.max(-r,-a),r),p=-u*u+h*(h+2*a)+c):h<=f?(u=0,h=Math.min(Math.max(-r,-a),r),p=h*(h+2*a)+c):(u=Math.max(0,-(o*r+s)),h=u>0?r:Math.min(Math.max(-r,-a),r),p=-u*u+h*(h+2*a)+c);else h=o>0?-r:r,u=Math.max(0,-(o*h+s)),p=-u*u+h*(h+2*a)+c;return n&&n.copy(this.direction).multiplyScalar(u).add(this.origin),i&&i.copy(Pt).multiplyScalar(h).add(It),p}intersectSphere(t,e){Rt.subVectors(t.center,this.origin);const n=Rt.dot(this.direction),i=Rt.dot(Rt)-n*n,r=t.radius*t.radius;if(i>r)return null;const o=Math.sqrt(r-i),s=n-o,a=n+o;return s<0&&a<0?null:s<0?this.at(a,e):this.at(s,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,i,r,o,s,a;const c=1/this.direction.x,l=1/this.direction.y,u=1/this.direction.z,h=this.origin;return c>=0?(n=(t.min.x-h.x)*c,i=(t.max.x-h.x)*c):(n=(t.max.x-h.x)*c,i=(t.min.x-h.x)*c),l>=0?(r=(t.min.y-h.y)*l,o=(t.max.y-h.y)*l):(r=(t.max.y-h.y)*l,o=(t.min.y-h.y)*l),n>o||r>i?null:((r>n||n!=n)&&(n=r),(o<i||i!=i)&&(i=o),u>=0?(s=(t.min.z-h.z)*u,a=(t.max.z-h.z)*u):(s=(t.max.z-h.z)*u,a=(t.min.z-h.z)*u),n>a||s>i?null:((s>n||n!=n)&&(n=s),(a<i||i!=i)&&(i=a),i<0?null:this.at(n>=0?n:i,e)))}intersectsBox(t){return null!==this.intersectBox(t,Rt)}intersectTriangle(t,e,n,i,r){kt.subVectors(e,t),Ot.subVectors(n,t),Nt.crossVectors(kt,Ot);let o,s=this.direction.dot(Nt);if(s>0){if(i)return null;o=1}else{if(!(s<0))return null;o=-1,s=-s}Dt.subVectors(this.origin,t);const a=o*this.direction.dot(Ot.crossVectors(Dt,Ot));if(a<0)return null;const c=o*this.direction.dot(kt.cross(Dt));if(c<0)return null;if(a+c>s)return null;const l=-o*Dt.dot(Nt);return l<0?null:this.at(l/s,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}class Bt{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(t,e,n,i,r,o,s,a,c,l,u,h,p,f,d,_){const m=this.elements;return m[0]=t,m[4]=e,m[8]=n,m[12]=i,m[1]=r,m[5]=o,m[9]=s,m[13]=a,m[2]=c,m[6]=l,m[10]=u,m[14]=h,m[3]=p,m[7]=f,m[11]=d,m[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Bt).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,i=1/jt.setFromMatrixColumn(t,0).length(),r=1/jt.setFromMatrixColumn(t,1).length(),o=1/jt.setFromMatrixColumn(t,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=0,e[4]=n[4]*r,e[5]=n[5]*r,e[6]=n[6]*r,e[7]=0,e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){!t||t.isEuler;const e=this.elements,n=t.x,i=t.y,r=t.z,o=Math.cos(n),s=Math.sin(n),a=Math.cos(i),c=Math.sin(i),l=Math.cos(r),u=Math.sin(r);if("XYZ"===t.order){const t=o*l,n=o*u,i=s*l,r=s*u;e[0]=a*l,e[4]=-a*u,e[8]=c,e[1]=n+i*c,e[5]=t-r*c,e[9]=-s*a,e[2]=r-t*c,e[6]=i+n*c,e[10]=o*a}else if("YXZ"===t.order){const t=a*l,n=a*u,i=c*l,r=c*u;e[0]=t+r*s,e[4]=i*s-n,e[8]=o*c,e[1]=o*u,e[5]=o*l,e[9]=-s,e[2]=n*s-i,e[6]=r+t*s,e[10]=o*a}else if("ZXY"===t.order){const t=a*l,n=a*u,i=c*l,r=c*u;e[0]=t-r*s,e[4]=-o*u,e[8]=i+n*s,e[1]=n+i*s,e[5]=o*l,e[9]=r-t*s,e[2]=-o*c,e[6]=s,e[10]=o*a}else if("ZYX"===t.order){const t=o*l,n=o*u,i=s*l,r=s*u;e[0]=a*l,e[4]=i*c-n,e[8]=t*c+r,e[1]=a*u,e[5]=r*c+t,e[9]=n*c-i,e[2]=-c,e[6]=s*a,e[10]=o*a}else if("YZX"===t.order){const t=o*a,n=o*c,i=s*a,r=s*c;e[0]=a*l,e[4]=r-t*u,e[8]=i*u+n,e[1]=u,e[5]=o*l,e[9]=-s*l,e[2]=-c*l,e[6]=n*u+i,e[10]=t-r*u}else if("XZY"===t.order){const t=o*a,n=o*c,i=s*a,r=s*c;e[0]=a*l,e[4]=-u,e[8]=c*l,e[1]=t*u+r,e[5]=o*l,e[9]=n*u-i,e[2]=i*u-n,e[6]=s*l,e[10]=r*u+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(zt,t,Gt)}lookAt(t,e,n){const i=this.elements;return Ht.subVectors(t,e),0===Ht.lengthSq()&&(Ht.z=1),Ht.normalize(),Vt.crossVectors(n,Ht),0===Vt.lengthSq()&&(1===Math.abs(n.z)?Ht.x+=1e-4:Ht.z+=1e-4,Ht.normalize(),Vt.crossVectors(n,Ht)),Vt.normalize(),Wt.crossVectors(Ht,Vt),i[0]=Vt.x,i[4]=Wt.x,i[8]=Ht.x,i[1]=Vt.y,i[5]=Wt.y,i[9]=Ht.y,i[2]=Vt.z,i[6]=Wt.z,i[10]=Ht.z,this}multiply(t,e){return void 0!==e?this.multiplyMatrices(t,e):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,i=e.elements,r=this.elements,o=n[0],s=n[4],a=n[8],c=n[12],l=n[1],u=n[5],h=n[9],p=n[13],f=n[2],d=n[6],_=n[10],m=n[14],g=n[3],b=n[7],v=n[11],y=n[15],x=i[0],w=i[4],S=i[8],M=i[12],C=i[1],T=i[5],A=i[9],L=i[13],E=i[2],R=i[6],I=i[10],P=i[14],D=i[3],k=i[7],O=i[11],N=i[15];return r[0]=o*x+s*C+a*E+c*D,r[4]=o*w+s*T+a*R+c*k,r[8]=o*S+s*A+a*I+c*O,r[12]=o*M+s*L+a*P+c*N,r[1]=l*x+u*C+h*E+p*D,r[5]=l*w+u*T+h*R+p*k,r[9]=l*S+u*A+h*I+p*O,r[13]=l*M+u*L+h*P+p*N,r[2]=f*x+d*C+_*E+m*D,r[6]=f*w+d*T+_*R+m*k,r[10]=f*S+d*A+_*I+m*O,r[14]=f*M+d*L+_*P+m*N,r[3]=g*x+b*C+v*E+y*D,r[7]=g*w+b*T+v*R+y*k,r[11]=g*S+b*A+v*I+y*O,r[15]=g*M+b*L+v*P+y*N,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],o=t[1],s=t[5],a=t[9],c=t[13],l=t[2],u=t[6],h=t[10],p=t[14];return t[3]*(+r*a*u-i*c*u-r*s*h+n*c*h+i*s*p-n*a*p)+t[7]*(+e*a*p-e*c*h+r*o*h-i*o*p+i*c*l-r*a*l)+t[11]*(+e*c*u-e*s*p-r*o*u+n*o*p+r*s*l-n*c*l)+t[15]*(-i*s*l-e*a*u+e*s*h+i*o*u-n*o*h+n*a*l)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],a=t[6],c=t[7],l=t[8],u=t[9],h=t[10],p=t[11],f=t[12],d=t[13],_=t[14],m=t[15],g=u*_*c-d*h*c+d*a*p-s*_*p-u*a*m+s*h*m,b=f*h*c-l*_*c-f*a*p+o*_*p+l*a*m-o*h*m,v=l*d*c-f*u*c+f*s*p-o*d*p-l*s*m+o*u*m,y=f*u*a-l*d*a-f*s*h+o*d*h+l*s*_-o*u*_,x=e*g+n*b+i*v+r*y;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/x;return t[0]=g*w,t[1]=(d*h*r-u*_*r-d*i*p+n*_*p+u*i*m-n*h*m)*w,t[2]=(s*_*r-d*a*r+d*i*c-n*_*c-s*i*m+n*a*m)*w,t[3]=(u*a*r-s*h*r-u*i*c+n*h*c+s*i*p-n*a*p)*w,t[4]=b*w,t[5]=(l*_*r-f*h*r+f*i*p-e*_*p-l*i*m+e*h*m)*w,t[6]=(f*a*r-o*_*r-f*i*c+e*_*c+o*i*m-e*a*m)*w,t[7]=(o*h*r-l*a*r+l*i*c-e*h*c-o*i*p+e*a*p)*w,t[8]=v*w,t[9]=(f*u*r-l*d*r-f*n*p+e*d*p+l*n*m-e*u*m)*w,t[10]=(o*d*r-f*s*r+f*n*c-e*d*c-o*n*m+e*s*m)*w,t[11]=(l*s*r-o*u*r-l*n*c+e*u*c+o*n*p-e*s*p)*w,t[12]=y*w,t[13]=(l*d*i-f*u*i+f*n*h-e*d*h-l*n*_+e*u*_)*w,t[14]=(f*s*i-o*d*i-f*n*a+e*d*a+o*n*_-e*s*_)*w,t[15]=(o*u*i-l*s*i+l*n*a-e*u*a-o*n*h+e*s*h)*w,this}scale(t){const e=this.elements,n=t.x,i=t.y,r=t.z;return e[0]*=n,e[4]*=i,e[8]*=r,e[1]*=n,e[5]*=i,e[9]*=r,e[2]*=n,e[6]*=i,e[10]*=r,e[3]*=n,e[7]*=i,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,i))}makeTranslation(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),i=Math.sin(e),r=1-n,o=t.x,s=t.y,a=t.z,c=r*o,l=r*s;return this.set(c*o+n,c*s-i*a,c*a+i*s,0,c*s+i*a,l*s+n,l*a-i*o,0,c*a-i*s,l*a+i*o,r*a*a+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this}compose(t,e,n){const i=this.elements,r=e._x,o=e._y,s=e._z,a=e._w,c=r+r,l=o+o,u=s+s,h=r*c,p=r*l,f=r*u,d=o*l,_=o*u,m=s*u,g=a*c,b=a*l,v=a*u,y=n.x,x=n.y,w=n.z;return i[0]=(1-(d+m))*y,i[1]=(p+v)*y,i[2]=(f-b)*y,i[3]=0,i[4]=(p-v)*x,i[5]=(1-(h+m))*x,i[6]=(_+g)*x,i[7]=0,i[8]=(f+b)*w,i[9]=(_-g)*w,i[10]=(1-(h+d))*w,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}decompose(t,e,n){const i=this.elements;let r=jt.set(i[0],i[1],i[2]).length();const o=jt.set(i[4],i[5],i[6]).length(),s=jt.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),t.x=i[12],t.y=i[13],t.z=i[14],Ut.copy(this);const a=1/r,c=1/o,l=1/s;return Ut.elements[0]*=a,Ut.elements[1]*=a,Ut.elements[2]*=a,Ut.elements[4]*=c,Ut.elements[5]*=c,Ut.elements[6]*=c,Ut.elements[8]*=l,Ut.elements[9]*=l,Ut.elements[10]*=l,e.setFromRotationMatrix(Ut),n.x=r,n.y=o,n.z=s,this}makePerspective(t,e,n,i,r,o){const s=this.elements,a=2*r/(e-t),c=2*r/(n-i),l=(e+t)/(e-t),u=(n+i)/(n-i),h=-(o+r)/(o-r),p=-2*o*r/(o-r);return s[0]=a,s[4]=0,s[8]=l,s[12]=0,s[1]=0,s[5]=c,s[9]=u,s[13]=0,s[2]=0,s[6]=0,s[10]=h,s[14]=p,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(t,e,n,i,r,o){const s=this.elements,a=1/(e-t),c=1/(n-i),l=1/(o-r),u=(e+t)*a,h=(n+i)*c,p=(o+r)*l;return s[0]=2*a,s[4]=0,s[8]=0,s[12]=-u,s[1]=0,s[5]=2*c,s[9]=0,s[13]=-h,s[2]=0,s[6]=0,s[10]=-2*l,s[14]=-p,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let t=0;t<16;t++)if(e[t]!==n[t])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}const jt=new ut,Ut=new Bt,zt=new ut(0,0,0),Gt=new ut(1,1,1),Vt=new ut,Wt=new ut,Ht=new ut;class Xt{constructor(t=0,e=0,n=0,i=Xt.DefaultOrder){Object.defineProperty(this,"isEuler",{value:!0}),this._x=t,this._y=e,this._z=n,this._order=i}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._order=i||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e,n){const i=$.clamp,r=t.elements,o=r[0],s=r[4],a=r[8],c=r[1],l=r[5],u=r[9],h=r[2],p=r[6],f=r[10];switch(e=e||this._order){case"XYZ":this._y=Math.asin(i(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(p,l),this._z=0);break;case"YXZ":this._x=Math.asin(-i(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,f),this._z=Math.atan2(c,l)):(this._y=Math.atan2(-h,o),this._z=0);break;case"ZXY":this._x=Math.asin(i(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,f),this._z=Math.atan2(-s,l)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-i(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,f),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-s,l));break;case"YZX":this._z=Math.asin(i(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(a,f));break;case"XZY":this._z=Math.asin(-i(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(p,l),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-u,f),this._y=0)}return this._order=e,!1!==n&&this._onChangeCallback(),this}setFromQuaternion(t,e,n){return qt.makeRotationFromQuaternion(t),this.setFromRotationMatrix(qt,e,n)}setFromVector3(t,e){return this.set(t.x,t.y,t.z,e||this._order)}reorder(t){return Yt.setFromEuler(this),this.setFromQuaternion(Yt,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}toVector3(t){return t?t.set(this._x,this._y,this._z):new ut(this._x,this._y,this._z)}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}Xt.DefaultOrder="XYZ",Xt.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];const qt=new Bt,Yt=new lt;class Zt{constructor(){this.mask=1}set(t){this.mask=1<<t|0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}}let Jt=0;const Kt=new ut,$t=new lt,Qt=new Bt,te=new ut,ee=new ut,ne=new ut,ie=new lt,re=new ut(1,0,0),oe=new ut(0,1,0),se=new ut(0,0,1),ae={type:"added"},ce={type:"removed"};function le(){Object.defineProperty(this,"id",{value:Jt++}),this.uuid=$.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=le.DefaultUp.clone();const t=new ut,e=new Xt,n=new lt,i=new ut(1,1,1);e._onChange((function(){n.setFromEuler(e,!1)})),n._onChange((function(){e.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Bt},normalMatrix:{value:new tt}}),this.matrix=new Bt,this.matrixWorld=new Bt,this.matrixAutoUpdate=le.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Zt,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}le.DefaultUp=new ut(0,1,0),le.DefaultMatrixAutoUpdate=!0,le.prototype=Object.assign(Object.create(Z.prototype),{constructor:le,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(t,e){return $t.setFromAxisAngle(t,e),this.quaternion.multiply($t),this},rotateOnWorldAxis:function(t,e){return $t.setFromAxisAngle(t,e),this.quaternion.premultiply($t),this},rotateX:function(t){return this.rotateOnAxis(re,t)},rotateY:function(t){return this.rotateOnAxis(oe,t)},rotateZ:function(t){return this.rotateOnAxis(se,t)},translateOnAxis:function(t,e){return Kt.copy(t).applyQuaternion(this.quaternion),this.position.add(Kt.multiplyScalar(e)),this},translateX:function(t){return this.translateOnAxis(re,t)},translateY:function(t){return this.translateOnAxis(oe,t)},translateZ:function(t){return this.translateOnAxis(se,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(Qt.copy(this.matrixWorld).invert())},lookAt:function(t,e,n){t.isVector3?te.copy(t):te.set(t,e,n);const i=this.parent;this.updateWorldMatrix(!0,!1),ee.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Qt.lookAt(ee,te,this.up):Qt.lookAt(te,ee,this.up),this.quaternion.setFromRotationMatrix(Qt),i&&(Qt.extractRotation(i.matrixWorld),$t.setFromRotationMatrix(Qt),this.quaternion.premultiply($t.invert()))},add:function(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this||t&&t.isObject3D&&(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(ae)),this},remove:function(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(ce)),this},clear:function(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(ce)}return this.children.length=0,this},attach:function(t){return this.updateWorldMatrix(!0,!1),Qt.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Qt.multiply(t.parent.matrixWorld)),t.applyMatrix4(Qt),t.updateWorldMatrix(!1,!1),this.add(t),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(let n=0,i=this.children.length;n<i;n++){const i=this.children[n].getObjectByProperty(t,e);if(void 0!==i)return i}},getWorldPosition:function(t){return void 0===t&&(t=new ut),this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return void 0===t&&(t=new lt),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ee,t,ne),t},getWorldScale:function(t){return void 0===t&&(t=new ut),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ee,ie,t),t},getWorldDirection:function(t){void 0===t&&(t=new ut),this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1===this.visible)return;t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)},traverseAncestors:function(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){const n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const t=this.children;for(let e=0,n=t.length;e<n;e++)t[e].updateWorldMatrix(!1,!0)}},toJSON:function(t){const e=void 0===t||"string"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};function r(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){i.geometry=r(t.geometries,this.geometry);const e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){const n=e.shapes;if(Array.isArray(n))for(let e=0,i=n.length;e<i;e++){const i=n[e];r(t.shapes,i)}else r(t.shapes,n)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(t.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const e=[];for(let n=0,i=this.material.length;n<i;n++)e.push(r(t.materials,this.material[n]));i.material=e}else i.material=r(t.materials,this.material);if(this.children.length>0){i.children=[];for(let e=0;e<this.children.length;e++)i.children.push(this.children[e].toJSON(t).object)}if(this.animations.length>0){i.animations=[];for(let e=0;e<this.animations.length;e++){const n=this.animations[e];i.animations.push(r(t.animations,n))}}if(e){const e=o(t.geometries),i=o(t.materials),r=o(t.textures),s=o(t.images),a=o(t.shapes),c=o(t.skeletons),l=o(t.animations);e.length>0&&(n.geometries=e),i.length>0&&(n.materials=i),r.length>0&&(n.textures=r),s.length>0&&(n.images=s),a.length>0&&(n.shapes=a),c.length>0&&(n.skeletons=c),l.length>0&&(n.animations=l)}return n.object=i,n;function o(t){const e=[];for(const n in t){const i=t[n];delete i.metadata,e.push(i)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let e=0;e<t.children.length;e++){const n=t.children[e];this.add(n.clone())}return this}});const ue=new ut,he=new ut,pe=new tt;class fe{constructor(t,e){Object.defineProperty(this,"isPlane",{value:!0}),this.normal=void 0!==t?t:new ut(1,0,0),this.constant=void 0!==e?e:0}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const i=ue.subVectors(n,e).cross(he.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return void 0===e&&(e=new ut),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,e){void 0===e&&(e=new ut);const n=t.delta(ue),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(t.start)?e.copy(t.start):void 0;const r=-(t.start.dot(this.normal)+this.constant)/i;return r<0||r>1?void 0:e.copy(n).multiplyScalar(r).add(t.start)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return void 0===t&&(t=new ut),t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||pe.getNormalMatrix(t),i=this.coplanarPoint(ue).applyMatrix4(t),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}const de=new ut,_e=new ut,me=new ut,ge=new ut,be=new ut,ve=new ut,ye=new ut,xe=new ut,we=new ut,Se=new ut;class Me{constructor(t,e,n){this.a=void 0!==t?t:new ut,this.b=void 0!==e?e:new ut,this.c=void 0!==n?n:new ut}static getNormal(t,e,n,i){void 0===i&&(i=new ut),i.subVectors(n,e),de.subVectors(t,e),i.cross(de);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(t,e,n,i,r){de.subVectors(i,e),_e.subVectors(n,e),me.subVectors(t,e);const o=de.dot(de),s=de.dot(_e),a=de.dot(me),c=_e.dot(_e),l=_e.dot(me),u=o*c-s*s;if(void 0===r&&(r=new ut),0===u)return r.set(-2,-1,-1);const h=1/u,p=(c*a-s*l)*h,f=(o*l-s*a)*h;return r.set(1-p-f,f,p)}static containsPoint(t,e,n,i){return this.getBarycoord(t,e,n,i,ge),ge.x>=0&&ge.y>=0&&ge.x+ge.y<=1}static getUV(t,e,n,i,r,o,s,a){return this.getBarycoord(t,e,n,i,ge),a.set(0,0),a.addScaledVector(r,ge.x),a.addScaledVector(o,ge.y),a.addScaledVector(s,ge.z),a}static isFrontFacing(t,e,n,i){return de.subVectors(n,e),_e.subVectors(t,e),de.cross(_e).dot(i)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return de.subVectors(this.c,this.b),_e.subVectors(this.a,this.b),.5*de.cross(_e).length()}getMidpoint(t){return void 0===t&&(t=new ut),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Me.getNormal(this.a,this.b,this.c,t)}getPlane(t){return void 0===t&&(t=new fe),t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return Me.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,n,i,r){return Me.getUV(t,this.a,this.b,this.c,e,n,i,r)}containsPoint(t){return Me.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Me.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){void 0===e&&(e=new ut);const n=this.a,i=this.b,r=this.c;let o,s;be.subVectors(i,n),ve.subVectors(r,n),xe.subVectors(t,n);const a=be.dot(xe),c=ve.dot(xe);if(a<=0&&c<=0)return e.copy(n);we.subVectors(t,i);const l=be.dot(we),u=ve.dot(we);if(l>=0&&u<=l)return e.copy(i);const h=a*u-l*c;if(h<=0&&a>=0&&l<=0)return o=a/(a-l),e.copy(n).addScaledVector(be,o);Se.subVectors(t,r);const p=be.dot(Se),f=ve.dot(Se);if(f>=0&&p<=f)return e.copy(r);const d=p*c-a*f;if(d<=0&&c>=0&&f<=0)return s=c/(c-f),e.copy(n).addScaledVector(ve,s);const _=l*f-p*u;if(_<=0&&u-l>=0&&p-f>=0)return ye.subVectors(r,i),s=(u-l)/(u-l+(p-f)),e.copy(i).addScaledVector(ye,s);const m=1/(_+d+h);return o=d*m,s=h*m,e.copy(n).addScaledVector(be,o).addScaledVector(ve,s)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const Ce={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Te={h:0,s:0,l:0},Ae={h:0,s:0,l:0};function Le(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}function Ee(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function Re(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}class Ie{constructor(t,e,n){return Object.defineProperty(this,"isColor",{value:!0}),void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this}setRGB(t,e,n){return this.r=t,this.g=e,this.b=n,this}setHSL(t,e,n){if(t=$.euclideanModulo(t,1),e=$.clamp(e,0,1),n=$.clamp(n,0,1),0===e)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+e):n+e-n*e,r=2*n-i;this.r=Le(r,i,t+1/3),this.g=Le(r,i,t),this.b=Le(r,i,t-1/3)}return this}setStyle(t){function e(t){void 0!==t&&parseFloat(t)}let n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){let t;const i=n[1],r=n[2];switch(i){case"rgb":case"rgba":if(t=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r))return this.r=Math.min(255,parseInt(t[1],10))/255,this.g=Math.min(255,parseInt(t[2],10))/255,this.b=Math.min(255,parseInt(t[3],10))/255,e(t[4]),this;if(t=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r))return this.r=Math.min(100,parseInt(t[1],10))/100,this.g=Math.min(100,parseInt(t[2],10))/100,this.b=Math.min(100,parseInt(t[3],10))/100,e(t[4]),this;break;case"hsl":case"hsla":if(t=/^(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r)){const n=parseFloat(t[1])/360,i=parseInt(t[2],10)/100,r=parseInt(t[3],10)/100;return e(t[4]),this.setHSL(n,i,r)}}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(t)){const t=n[1],e=t.length;if(3===e)return this.r=parseInt(t.charAt(0)+t.charAt(0),16)/255,this.g=parseInt(t.charAt(1)+t.charAt(1),16)/255,this.b=parseInt(t.charAt(2)+t.charAt(2),16)/255,this;if(6===e)return this.r=parseInt(t.charAt(0)+t.charAt(1),16)/255,this.g=parseInt(t.charAt(2)+t.charAt(3),16)/255,this.b=parseInt(t.charAt(4)+t.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this}setColorName(t){const e=Ce[t];return void 0!==e&&this.setHex(e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copyGammaToLinear(t,e=2){return this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this}copyLinearToGamma(t,e=2){const n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this}convertGammaToLinear(t){return this.copyGammaToLinear(this,t),this}convertLinearToGamma(t){return this.copyLinearToGamma(this,t),this}copySRGBToLinear(t){return this.r=Ee(t.r),this.g=Ee(t.g),this.b=Ee(t.b),this}copyLinearToSRGB(t){return this.r=Re(t.r),this.g=Re(t.g),this.b=Re(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(t){void 0===t&&(t={h:0,s:0,l:0});const e=this.r,n=this.g,i=this.b,r=Math.max(e,n,i),o=Math.min(e,n,i);let s,a;const c=(o+r)/2;if(o===r)s=0,a=0;else{const t=r-o;switch(a=c<=.5?t/(r+o):t/(2-r-o),r){case e:s=(n-i)/t+(n<i?6:0);break;case n:s=(i-e)/t+2;break;case i:s=(e-n)/t+4}s/=6}return t.h=s,t.s=a,t.l=c,t}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(t,e,n){return this.getHSL(Te),Te.h+=t,Te.s+=e,Te.l+=n,this.setHSL(Te.h,Te.s,Te.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpHSL(t,e){this.getHSL(Te),t.getHSL(Ae);const n=$.lerp(Te.h,Ae.h,e),i=$.lerp(Te.s,Ae.s,e),r=$.lerp(Te.l,Ae.l,e);return this.setHSL(n,i,r),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}Ie.NAMES=Ce,Ie.prototype.r=1,Ie.prototype.g=1,Ie.prototype.b=1;class Pe{constructor(t,e,n,i,r,o=0){this.a=t,this.b=e,this.c=n,this.normal=i&&i.isVector3?i:new ut,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new Ie,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=o}clone(){return(new this.constructor).copy(this)}copy(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(let e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(let e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}}let De=0;function ke(){Object.defineProperty(this,"id",{value:De++}),this.uuid=$.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=o,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=a,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=H,this.stencilZFail=H,this.stencilZPass=H,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function Oe(t){ke.call(this),this.type="MeshBasicMaterial",this.color=new Ie(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(t)}ke.prototype=Object.assign(Object.create(Z.prototype),{constructor:ke,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(t){if(void 0!==t)for(const e in t){const n=t[e];if(void 0===n)continue;if("shading"===e){this.flatShading=1===n;continue}const i=this[e];void 0!==i&&(i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]=n)}},toJSON:function(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(t){const e=[];for(const n in t){const i=t[n];delete i.metadata,e.push(i)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==o&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){const e=i(t.textures),r=i(t.images);e.length>0&&(n.textures=e),r.length>0&&(n.images=r)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(null!==e){const t=e.length;n=new Array(t);for(let i=0;i!==t;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(ke.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Oe.prototype=Object.create(ke.prototype),Oe.prototype.constructor=Oe,Oe.prototype.isMeshBasicMaterial=!0,Oe.prototype.copy=function(t){return ke.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this};const Ne=new ut,Fe=new Q;function Be(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.usage=X,this.updateRange={offset:0,count:-1},this.version=0}function je(t,e,n){Be.call(this,new Int8Array(t),e,n)}function Ue(t,e,n){Be.call(this,new Uint8Array(t),e,n)}function ze(t,e,n){Be.call(this,new Uint8ClampedArray(t),e,n)}function Ge(t,e,n){Be.call(this,new Int16Array(t),e,n)}function Ve(t,e,n){Be.call(this,new Uint16Array(t),e,n)}function We(t,e,n){Be.call(this,new Int32Array(t),e,n)}function He(t,e,n){Be.call(this,new Uint32Array(t),e,n)}function Xe(t,e,n){Be.call(this,new Uint16Array(t),e,n)}function qe(t,e,n){Be.call(this,new Float32Array(t),e,n)}function Ye(t,e,n){Be.call(this,new Float64Array(t),e,n)}Object.defineProperty(Be.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Be.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(r=new Ie),e[n++]=r.r,e[n++]=r.g,e[n++]=r.b}return this},copyVector2sArray:function(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(r=new Q),e[n++]=r.x,e[n++]=r.y}return this},copyVector3sArray:function(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(r=new ut),e[n++]=r.x,e[n++]=r.y,e[n++]=r.z}return this},copyVector4sArray:function(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(r=new st),e[n++]=r.x,e[n++]=r.y,e[n++]=r.z,e[n++]=r.w}return this},applyMatrix3:function(t){if(2===this.itemSize)for(let e=0,n=this.count;e<n;e++)Fe.fromBufferAttribute(this,e),Fe.applyMatrix3(t),this.setXY(e,Fe.x,Fe.y);else if(3===this.itemSize)for(let e=0,n=this.count;e<n;e++)Ne.fromBufferAttribute(this,e),Ne.applyMatrix3(t),this.setXYZ(e,Ne.x,Ne.y,Ne.z);return this},applyMatrix4:function(t){for(let e=0,n=this.count;e<n;e++)Ne.x=this.getX(e),Ne.y=this.getY(e),Ne.z=this.getZ(e),Ne.applyMatrix4(t),this.setXYZ(e,Ne.x,Ne.y,Ne.z);return this},applyNormalMatrix:function(t){for(let e=0,n=this.count;e<n;e++)Ne.x=this.getX(e),Ne.y=this.getY(e),Ne.z=this.getZ(e),Ne.applyNormalMatrix(t),this.setXYZ(e,Ne.x,Ne.y,Ne.z);return this},transformDirection:function(t){for(let e=0,n=this.count;e<n;e++)Ne.x=this.getX(e),Ne.y=this.getY(e),Ne.z=this.getZ(e),Ne.transformDirection(t),this.setXYZ(e,Ne.x,Ne.y,Ne.z);return this},set:function(t,e=0){return this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),je.prototype=Object.create(Be.prototype),je.prototype.constructor=je,Ue.prototype=Object.create(Be.prototype),Ue.prototype.constructor=Ue,ze.prototype=Object.create(Be.prototype),ze.prototype.constructor=ze,Ge.prototype=Object.create(Be.prototype),Ge.prototype.constructor=Ge,Ve.prototype=Object.create(Be.prototype),Ve.prototype.constructor=Ve,We.prototype=Object.create(Be.prototype),We.prototype.constructor=We,He.prototype=Object.create(Be.prototype),He.prototype.constructor=He,Xe.prototype=Object.create(Be.prototype),Xe.prototype.constructor=Xe,Xe.prototype.isFloat16BufferAttribute=!0,qe.prototype=Object.create(Be.prototype),qe.prototype.constructor=qe,Ye.prototype=Object.create(Be.prototype),Ye.prototype.constructor=Ye;class Ze{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(t){const e=[];let n,i,r;const o=t.faces;for(i=0;i<o.length;i++){const t=o[i];t.materialIndex!==r&&(r=t.materialIndex,void 0!==n&&(n.count=3*i-n.start,e.push(n)),n={start:3*i,materialIndex:r})}void 0!==n&&(n.count=3*i-n.start,e.push(n)),this.groups=e}fromGeometry(t){const e=t.faces,n=t.vertices,i=t.faceVertexUvs,r=i[0]&&i[0].length>0,o=i[1]&&i[1].length>0,s=t.morphTargets,a=s.length;let c;if(a>0){c=[];for(let t=0;t<a;t++)c[t]={name:s[t].name,data:[]};this.morphTargets.position=c}const l=t.morphNormals,u=l.length;let h;if(u>0){h=[];for(let t=0;t<u;t++)h[t]={name:l[t].name,data:[]};this.morphTargets.normal=h}const p=t.skinIndices,f=t.skinWeights,d=p.length===n.length,_=f.length===n.length;n.length>0&&e.length;for(let t=0;t<e.length;t++){const m=e[t];this.vertices.push(n[m.a],n[m.b],n[m.c]);const g=m.vertexNormals;if(3===g.length)this.normals.push(g[0],g[1],g[2]);else{const t=m.normal;this.normals.push(t,t,t)}const b=m.vertexColors;if(3===b.length)this.colors.push(b[0],b[1],b[2]);else{const t=m.color;this.colors.push(t,t,t)}if(!0===r){const e=i[0][t];void 0!==e?this.uvs.push(e[0],e[1],e[2]):this.uvs.push(new Q,new Q,new Q)}if(!0===o){const e=i[1][t];void 0!==e?this.uvs2.push(e[0],e[1],e[2]):this.uvs2.push(new Q,new Q,new Q)}for(let t=0;t<a;t++){const e=s[t].vertices;c[t].data.push(e[m.a],e[m.b],e[m.c])}for(let e=0;e<u;e++){const n=l[e].vertexNormals[t];h[e].data.push(n.a,n.b,n.c)}d&&this.skinIndices.push(p[m.a],p[m.b],p[m.c]),_&&this.skinWeights.push(f[m.a],f[m.b],f[m.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this}}function Je(t){if(0===t.length)return-Infinity;let e=t[0];for(let n=1,i=t.length;n<i;++n)t[n]>e&&(e=t[n]);return e}const Ke={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function $e(t,e){return new Ke[t](e)}let Qe=1;const tn=new Bt,en=new le,nn=new ut,rn=new ft,on=new ft,sn=new ut;function an(){Object.defineProperty(this,"id",{value:Qe+=2}),this.uuid=$.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:Infinity},this.userData={}}an.prototype=Object.assign(Object.create(Z.prototype),{constructor:an,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){return Array.isArray(t)?this.index=new(Je(t)>65535?He:Ve)(t,1):this.index=t,this},getAttribute:function(t){return this.attributes[t]},setAttribute:function(t,e){return this.attributes[t]=e,this},deleteAttribute:function(t){return delete this.attributes[t],this},hasAttribute:function(t){return void 0!==this.attributes[t]},addGroup:function(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix4:function(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const e=(new tt).getNormalMatrix(t);n.applyNormalMatrix(e),n.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(t),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(t){return tn.makeRotationX(t),this.applyMatrix4(tn),this},rotateY:function(t){return tn.makeRotationY(t),this.applyMatrix4(tn),this},rotateZ:function(t){return tn.makeRotationZ(t),this.applyMatrix4(tn),this},translate:function(t,e,n){return tn.makeTranslation(t,e,n),this.applyMatrix4(tn),this},scale:function(t,e,n){return tn.makeScale(t,e,n),this.applyMatrix4(tn),this},lookAt:function(t){return en.lookAt(t),en.updateMatrix(),this.applyMatrix4(en.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(nn).negate(),this.translate(nn.x,nn.y,nn.z),this},setFromObject:function(t){const e=t.geometry;if(t.isPoints||t.isLine){const t=new qe(3*e.vertices.length,3),n=new qe(3*e.colors.length,3);if(this.setAttribute("position",t.copyVector3sArray(e.vertices)),this.setAttribute("color",n.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){const t=new qe(e.lineDistances.length,1);this.setAttribute("lineDistance",t.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){const e=[];for(let n=0,i=t.length;n<i;n++){const i=t[n];e.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new qe(e,3)),this},updateFromObject:function(t){let e=t.geometry;if(t.isMesh){let t=e.__directGeometry;if(!0===e.elementsNeedUpdate&&(t=void 0,e.elementsNeedUpdate=!1),void 0===t)return this.fromGeometry(e);t.verticesNeedUpdate=e.verticesNeedUpdate,t.normalsNeedUpdate=e.normalsNeedUpdate,t.colorsNeedUpdate=e.colorsNeedUpdate,t.uvsNeedUpdate=e.uvsNeedUpdate,t.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=t}if(!0===e.verticesNeedUpdate){const t=this.attributes.position;void 0!==t&&(t.copyVector3sArray(e.vertices),t.needsUpdate=!0),e.verticesNeedUpdate=!1}if(!0===e.normalsNeedUpdate){const t=this.attributes.normal;void 0!==t&&(t.copyVector3sArray(e.normals),t.needsUpdate=!0),e.normalsNeedUpdate=!1}if(!0===e.colorsNeedUpdate){const t=this.attributes.color;void 0!==t&&(t.copyColorsArray(e.colors),t.needsUpdate=!0),e.colorsNeedUpdate=!1}if(e.uvsNeedUpdate){const t=this.attributes.uv;void 0!==t&&(t.copyVector2sArray(e.uvs),t.needsUpdate=!0),e.uvsNeedUpdate=!1}if(e.lineDistancesNeedUpdate){const t=this.attributes.lineDistance;void 0!==t&&(t.copyArray(e.lineDistances),t.needsUpdate=!0),e.lineDistancesNeedUpdate=!1}return e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Ze).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){const e=new Float32Array(3*t.vertices.length);if(this.setAttribute("position",new Be(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){const e=new Float32Array(3*t.normals.length);this.setAttribute("normal",new Be(e,3).copyVector3sArray(t.normals))}if(t.colors.length>0){const e=new Float32Array(3*t.colors.length);this.setAttribute("color",new Be(e,3).copyColorsArray(t.colors))}if(t.uvs.length>0){const e=new Float32Array(2*t.uvs.length);this.setAttribute("uv",new Be(e,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){const e=new Float32Array(2*t.uvs2.length);this.setAttribute("uv2",new Be(e,2).copyVector2sArray(t.uvs2))}this.groups=t.groups;for(const e in t.morphTargets){const n=[],i=t.morphTargets[e];for(let t=0,e=i.length;t<e;t++){const e=i[t],r=new qe(3*e.data.length,3);r.name=e.name,n.push(r.copyVector3sArray(e.data))}this.morphAttributes[e]=n}if(t.skinIndices.length>0){const e=new qe(4*t.skinIndices.length,4);this.setAttribute("skinIndex",e.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){const e=new qe(4*t.skinWeights.length,4);this.setAttribute("skinWeight",e.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new ft);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)this.boundingBox.set(new ut(-Infinity,-Infinity,-Infinity),new ut(Infinity,Infinity,Infinity));else{if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let t=0,n=e.length;t<n;t++){const n=e[t];rn.setFromBufferAttribute(n),this.morphTargetsRelative?(sn.addVectors(this.boundingBox.min,rn.min),this.boundingBox.expandByPoint(sn),sn.addVectors(this.boundingBox.max,rn.max),this.boundingBox.expandByPoint(sn)):(this.boundingBox.expandByPoint(rn.min),this.boundingBox.expandByPoint(rn.max))}}else this.boundingBox.makeEmpty();isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)}},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Et);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)this.boundingSphere.set(new ut,Infinity);else if(t){const n=this.boundingSphere.center;if(rn.setFromBufferAttribute(t),e)for(let t=0,n=e.length;t<n;t++){const n=e[t];on.setFromBufferAttribute(n),this.morphTargetsRelative?(sn.addVectors(rn.min,on.min),rn.expandByPoint(sn),sn.addVectors(rn.max,on.max),rn.expandByPoint(sn)):(rn.expandByPoint(on.min),rn.expandByPoint(on.max))}rn.getCenter(n);let i=0;for(let e=0,r=t.count;e<r;e++)sn.fromBufferAttribute(t,e),i=Math.max(i,n.distanceToSquared(sn));if(e)for(let r=0,o=e.length;r<o;r++){const o=e[r],s=this.morphTargetsRelative;for(let e=0,r=o.count;e<r;e++)sn.fromBufferAttribute(o,e),s&&(nn.fromBufferAttribute(t,e),sn.add(nn)),i=Math.max(i,n.distanceToSquared(sn))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)}},computeFaceNormals:function(){},computeVertexNormals:function(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let n=this.getAttribute("normal");if(void 0===n)n=new Be(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(let t=0,e=n.count;t<e;t++)n.setXYZ(t,0,0,0);const i=new ut,r=new ut,o=new ut,s=new ut,a=new ut,c=new ut,l=new ut,u=new ut;if(t)for(let h=0,p=t.count;h<p;h+=3){const p=t.getX(h+0),f=t.getX(h+1),d=t.getX(h+2);i.fromBufferAttribute(e,p),r.fromBufferAttribute(e,f),o.fromBufferAttribute(e,d),l.subVectors(o,r),u.subVectors(i,r),l.cross(u),s.fromBufferAttribute(n,p),a.fromBufferAttribute(n,f),c.fromBufferAttribute(n,d),s.add(l),a.add(l),c.add(l),n.setXYZ(p,s.x,s.y,s.z),n.setXYZ(f,a.x,a.y,a.z),n.setXYZ(d,c.x,c.y,c.z)}else for(let t=0,s=e.count;t<s;t+=3)i.fromBufferAttribute(e,t+0),r.fromBufferAttribute(e,t+1),o.fromBufferAttribute(e,t+2),l.subVectors(o,r),u.subVectors(i,r),l.cross(u),n.setXYZ(t+0,l.x,l.y,l.z),n.setXYZ(t+1,l.x,l.y,l.z),n.setXYZ(t+2,l.x,l.y,l.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(t,e){if(!t||!t.isBufferGeometry)return;void 0===e&&(e=0);const n=this.attributes;for(const i in n){if(void 0===t.attributes[i])continue;const r=n[i].array,o=t.attributes[i],s=o.array,a=o.itemSize*e,c=Math.min(s.length,r.length-a);for(let t=0,e=a;t<c;t++,e++)r[e]=s[t]}return this},normalizeNormals:function(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)sn.fromBufferAttribute(t,e),sn.normalize(),t.setXYZ(e,sn.x,sn.y,sn.z)},toNonIndexed:function(){function t(t,e){const n=t.array,i=t.itemSize,r=t.normalized,o=new n.constructor(e.length*i);let s=0,a=0;for(let t=0,r=e.length;t<r;t++){s=e[t]*i;for(let t=0;t<i;t++)o[a++]=n[s++]}return new Be(o,i,r)}if(null===this.index)return this;const e=new an,n=this.index.array,i=this.attributes;for(const r in i){const o=t(i[r],n);e.setAttribute(r,o)}const r=this.morphAttributes;for(const i in r){const o=[],s=r[i];for(let e=0,i=s.length;e<i;e++){const i=t(s[e],n);o.push(i)}e.morphAttributes[i]=o}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let t=0,n=o.length;t<n;t++){const n=o[t];e.addGroup(n.start,n.count,n.materialIndex)}return e},toJSON:function(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const e=this.parameters;for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const e in n){const i=n[e],r=i.toJSON(t.data);""!==i.name&&(r.name=i.name),t.data.attributes[e]=r}const i={};let r=!1;for(const e in this.morphAttributes){const n=this.morphAttributes[e],o=[];for(let e=0,i=n.length;e<i;e++){const i=n[e],r=i.toJSON(t.data);""!==i.name&&(r.name=i.name),o.push(r)}o.length>0&&(i[e]=o,r=!0)}r&&(t.data.morphAttributes=i,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return null!==s&&(t.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),t},clone:function(){return(new an).copy(this)},copy:function(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;null!==n&&this.setIndex(n.clone(e));const i=t.attributes;for(const t in i){const n=i[t];this.setAttribute(t,n.clone(e))}const r=t.morphAttributes;for(const t in r){const n=[],i=r[t];for(let t=0,r=i.length;t<r;t++)n.push(i[t].clone(e));this.morphAttributes[t]=n}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let t=0,e=o.length;t<e;t++){const e=o[t];this.addGroup(e.start,e.count,e.materialIndex)}const s=t.boundingBox;null!==s&&(this.boundingBox=s.clone());const a=t.boundingSphere;return null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const cn=new Bt,ln=new Ft,un=new Et,hn=new ut,pn=new ut,fn=new ut,dn=new ut,_n=new ut,mn=new ut,gn=new ut,bn=new ut,vn=new ut,yn=new Q,xn=new Q,wn=new Q,Sn=new ut,Mn=new ut;function Cn(t=new an,e=new Oe){le.call(this),this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}function Tn(t,e,n,i,r,o,a,c){let l;if(l=1===e.side?i.intersectTriangle(a,o,r,!0,c):i.intersectTriangle(r,o,a,e.side!==s,c),null===l)return null;Mn.copy(c),Mn.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(Mn);return u<n.near||u>n.far?null:{distance:u,point:Mn.clone(),object:t}}function An(t,e,n,i,r,o,s,a,c,l,u,h){hn.fromBufferAttribute(r,l),pn.fromBufferAttribute(r,u),fn.fromBufferAttribute(r,h);const p=t.morphTargetInfluences;if(e.morphTargets&&o&&p){gn.set(0,0,0),bn.set(0,0,0),vn.set(0,0,0);for(let t=0,e=o.length;t<e;t++){const e=p[t],n=o[t];0!==e&&(dn.fromBufferAttribute(n,l),_n.fromBufferAttribute(n,u),mn.fromBufferAttribute(n,h),s?(gn.addScaledVector(dn,e),bn.addScaledVector(_n,e),vn.addScaledVector(mn,e)):(gn.addScaledVector(dn.sub(hn),e),bn.addScaledVector(_n.sub(pn),e),vn.addScaledVector(mn.sub(fn),e)))}hn.add(gn),pn.add(bn),fn.add(vn)}t.isSkinnedMesh&&(t.boneTransform(l,hn),t.boneTransform(u,pn),t.boneTransform(h,fn));const f=Tn(t,e,n,i,hn,pn,fn,Sn);if(f){a&&(yn.fromBufferAttribute(a,l),xn.fromBufferAttribute(a,u),wn.fromBufferAttribute(a,h),f.uv=Me.getUV(Sn,hn,pn,fn,yn,xn,wn,new Q)),c&&(yn.fromBufferAttribute(c,l),xn.fromBufferAttribute(c,u),wn.fromBufferAttribute(c,h),f.uv2=Me.getUV(Sn,hn,pn,fn,yn,xn,wn,new Q));const t=new Pe(l,u,h);Me.getNormal(hn,pn,fn,t.normal),f.face=t}return f}Cn.prototype=Object.assign(Object.create(le.prototype),{constructor:Cn,isMesh:!0,copy:function(t){return le.prototype.copy.call(this,t),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length}},raycast:function(t,e){const n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0===i)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),un.copy(n.boundingSphere),un.applyMatrix4(r),!1===t.ray.intersectsSphere(un))return;if(cn.copy(r).invert(),ln.copy(t.ray).applyMatrix4(cn),null!==n.boundingBox&&!1===ln.intersectsBox(n.boundingBox))return;let o;if(n.isBufferGeometry){const r=n.index,s=n.attributes.position,a=n.morphAttributes.position,c=n.morphTargetsRelative,l=n.attributes.uv,u=n.attributes.uv2,h=n.groups,p=n.drawRange;if(null!==r)if(Array.isArray(i))for(let n=0,f=h.length;n<f;n++){const f=h[n],d=i[f.materialIndex];for(let n=Math.max(f.start,p.start),i=Math.min(f.start+f.count,p.start+p.count);n<i;n+=3){const i=r.getX(n),h=r.getX(n+1),p=r.getX(n+2);o=An(this,d,t,ln,s,a,c,l,u,i,h,p),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=f.materialIndex,e.push(o))}}else for(let n=Math.max(0,p.start),h=Math.min(r.count,p.start+p.count);n<h;n+=3){const h=r.getX(n),p=r.getX(n+1),f=r.getX(n+2);o=An(this,i,t,ln,s,a,c,l,u,h,p,f),o&&(o.faceIndex=Math.floor(n/3),e.push(o))}else if(void 0!==s)if(Array.isArray(i))for(let n=0,r=h.length;n<r;n++){const r=h[n],f=i[r.materialIndex];for(let n=Math.max(r.start,p.start),i=Math.min(r.start+r.count,p.start+p.count);n<i;n+=3)o=An(this,f,t,ln,s,a,c,l,u,n,n+1,n+2),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=r.materialIndex,e.push(o))}else for(let n=Math.max(0,p.start),r=Math.min(s.count,p.start+p.count);n<r;n+=3)o=An(this,i,t,ln,s,a,c,l,u,n,n+1,n+2),o&&(o.faceIndex=Math.floor(n/3),e.push(o))}else if(n.isGeometry){const r=Array.isArray(i),s=n.vertices,a=n.faces;let c;const l=n.faceVertexUvs[0];l.length>0&&(c=l);for(let n=0,l=a.length;n<l;n++){const l=a[n],u=r?i[l.materialIndex]:i;if(void 0===u)continue;const h=s[l.a],p=s[l.b],f=s[l.c];if(o=Tn(this,u,t,ln,h,p,f,Sn),o){if(c&&c[n]){const t=c[n];yn.copy(t[0]),xn.copy(t[1]),wn.copy(t[2]),o.uv=Me.getUV(Sn,h,p,f,yn,xn,wn,new Q)}o.face=l,o.faceIndex=n,e.push(o)}}}}});class Ln extends an{constructor(t=1,e=1,n=1,i=1,r=1,o=1){super(),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:r,depthSegments:o};const s=this;i=Math.floor(i),r=Math.floor(r),o=Math.floor(o);const a=[],c=[],l=[],u=[];let h=0,p=0;function f(t,e,n,i,r,o,f,d,_,m,g){const b=o/_,v=f/m,y=o/2,x=f/2,w=d/2,S=_+1,M=m+1;let C=0,T=0;const A=new ut;for(let o=0;o<M;o++){const s=o*v-x;for(let a=0;a<S;a++){const h=a*b-y;A[t]=h*i,A[e]=s*r,A[n]=w,c.push(A.x,A.y,A.z),A[t]=0,A[e]=0,A[n]=d>0?1:-1,l.push(A.x,A.y,A.z),u.push(a/_),u.push(1-o/m),C+=1}}for(let t=0;t<m;t++)for(let e=0;e<_;e++){const n=h+e+S*t,i=h+e+S*(t+1),r=h+(e+1)+S*(t+1),o=h+(e+1)+S*t;a.push(n,i,o),a.push(i,r,o),T+=6}s.addGroup(p,T,g),p+=T,h+=C}f("z","y","x",-1,-1,n,e,t,o,r,0),f("z","y","x",1,-1,n,e,-t,o,r,1),f("x","z","y",1,1,t,n,e,i,o,2),f("x","z","y",1,-1,t,n,-e,i,o,3),f("x","y","z",1,-1,t,e,n,i,r,4),f("x","y","z",-1,-1,t,e,-n,i,r,5),this.setIndex(a),this.setAttribute("position",new qe(c,3)),this.setAttribute("normal",new qe(l,3)),this.setAttribute("uv",new qe(u,2))}}function En(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function Rn(t){const e={};for(let n=0;n<t.length;n++){const i=En(t[n]);for(const t in i)e[t]=i[t]}return e}const In={clone:En,merge:Rn};function Pn(t){ke.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(t.attributes,this.setValues(t))}function Dn(){le.call(this),this.type="Camera",this.matrixWorldInverse=new Bt,this.projectionMatrix=new Bt,this.projectionMatrixInverse=new Bt}function kn(t=50,e=1,n=.1,i=2e3){Dn.call(this),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Pn.prototype=Object.create(ke.prototype),Pn.prototype.constructor=Pn,Pn.prototype.isShaderMaterial=!0,Pn.prototype.copy=function(t){return ke.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=En(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this},Pn.prototype.toJSON=function(t){const e=ke.prototype.toJSON.call(this,t);e.glslVersion=this.glslVersion,e.uniforms={};for(const n in this.uniforms){const i=this.uniforms[n].value;i&&i.isTexture?e.uniforms[n]={type:"t",value:i.toJSON(t).uuid}:i&&i.isColor?e.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?e.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?e.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?e.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?e.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?e.uniforms[n]={type:"m4",value:i.toArray()}:e.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const n={};for(const t in this.extensions)!0===this.extensions[t]&&(n[t]=!0);return Object.keys(n).length>0&&(e.extensions=n),e},Dn.prototype=Object.assign(Object.create(le.prototype),{constructor:Dn,isCamera:!0,copy:function(t,e){return le.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(t=new ut),this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){le.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(t,e){le.prototype.updateWorldMatrix.call(this,t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return(new this.constructor).copy(this)}}),kn.prototype=Object.assign(Object.create(Dn.prototype),{constructor:kn,isPerspectiveCamera:!0,copy:function(t,e){return Dn.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){const e=.5*this.getFilmHeight()/t;this.fov=2*$.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){const t=Math.tan(.5*$.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*$.RAD2DEG*Math.atan(Math.tan(.5*$.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,i,r,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const t=this.near;let e=t*Math.tan(.5*$.DEG2RAD*this.fov)/this.zoom,n=2*e,i=this.aspect*n,r=-.5*i;const o=this.view;if(null!==this.view&&this.view.enabled){const t=o.fullWidth,s=o.fullHeight;r+=o.offsetX*i/t,e-=o.offsetY*n/s,i*=o.width/t,n*=o.height/s}const s=this.filmOffset;0!==s&&(r+=t*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,e,e-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){const e=le.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}});const On=90;function Nn(t,e,n){if(le.call(this),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return;this.renderTarget=n;const i=new kn(On,1,t,e);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new ut(1,0,0)),this.add(i);const r=new kn(On,1,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new ut(-1,0,0)),this.add(r);const o=new kn(On,1,t,e);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new ut(0,1,0)),this.add(o);const s=new kn(On,1,t,e);s.layers=this.layers,s.up.set(0,0,-1),s.lookAt(new ut(0,-1,0)),this.add(s);const a=new kn(On,1,t,e);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new ut(0,0,1)),this.add(a);const c=new kn(On,1,t,e);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new ut(0,0,-1)),this.add(c),this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();const l=t.xr.enabled,u=t.getRenderTarget();t.xr.enabled=!1;const h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(e,i),t.setRenderTarget(n,1),t.render(e,r),t.setRenderTarget(n,2),t.render(e,o),t.setRenderTarget(n,3),t.render(e,s),t.setRenderTarget(n,4),t.render(e,a),n.texture.generateMipmaps=h,t.setRenderTarget(n,5),t.render(e,c),t.setRenderTarget(u),t.xr.enabled=l}}function Fn(t,e,n,i,r,o,s,a,l,u){t=void 0!==t?t:[],e=void 0!==e?e:c,s=void 0!==s?s:A,rt.call(this,t,e,n,i,r,o,s,a,l,u),this.flipY=!1,this._needsFlipEnvMap=!0}function Bn(t,e,n){Number.isInteger(e)&&(e=n),at.call(this,t,t,e),e=e||{},this.texture=new Fn(void 0,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture._needsFlipEnvMap=!1}function jn(t,e,n,i,r,o,s,a,c,l,u,h){rt.call(this,null,o,s,a,c,l,i,r,u,h),this.image={data:t||null,width:e||1,height:n||1},this.magFilter=void 0!==c?c:_,this.minFilter=void 0!==l?l:_,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Nn.prototype=Object.create(le.prototype),Nn.prototype.constructor=Nn,Fn.prototype=Object.create(rt.prototype),Fn.prototype.constructor=Fn,Fn.prototype.isCubeTexture=!0,Object.defineProperty(Fn.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),Bn.prototype=Object.create(at.prototype),Bn.prototype.constructor=Bn,Bn.prototype.isWebGLCubeRenderTarget=!0,Bn.prototype.fromEquirectangularTexture=function(t,e){this.texture.type=e.type,this.texture.format=L,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t#include <project_vertex>\n\n\t\t\t}\n\t\t",fragmentShader:"\n\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t"},i=new Ln(5,5,5),r=new Pn({name:"CubemapFromEquirect",uniforms:En(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:1,blending:0});r.uniforms.tEquirect.value=e;const o=new Cn(i,r),s=e.minFilter;return e.minFilter===y&&(e.minFilter=b),new Nn(1,10,this).update(t,o),e.minFilter=s,o.geometry.dispose(),o.material.dispose(),this},Bn.prototype.clear=function(t,e,n,i){const r=t.getRenderTarget();for(let r=0;r<6;r++)t.setRenderTarget(this,r),t.clear(e,n,i);t.setRenderTarget(r)},jn.prototype=Object.create(rt.prototype),jn.prototype.constructor=jn,jn.prototype.isDataTexture=!0;const Un=new Et,zn=new ut;class Gn{constructor(t,e,n,i,r,o){this.planes=[void 0!==t?t:new fe,void 0!==e?e:new fe,void 0!==n?n:new fe,void 0!==i?i:new fe,void 0!==r?r:new fe,void 0!==o?o:new fe]}set(t,e,n,i,r,o){const s=this.planes;return s[0].copy(t),s[1].copy(e),s[2].copy(n),s[3].copy(i),s[4].copy(r),s[5].copy(o),this}clone(){return(new this.constructor).copy(this)}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t){const e=this.planes,n=t.elements,i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],c=n[5],l=n[6],u=n[7],h=n[8],p=n[9],f=n[10],d=n[11],_=n[12],m=n[13],g=n[14],b=n[15];return e[0].setComponents(s-i,u-a,d-h,b-_).normalize(),e[1].setComponents(s+i,u+a,d+h,b+_).normalize(),e[2].setComponents(s+r,u+c,d+p,b+m).normalize(),e[3].setComponents(s-r,u-c,d-p,b-m).normalize(),e[4].setComponents(s-o,u-l,d-f,b-g).normalize(),e[5].setComponents(s+o,u+l,d+f,b+g).normalize(),this}intersectsObject(t){const e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Un.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Un)}intersectsSprite(t){return Un.center.set(0,0,0),Un.radius=.7071067811865476,Un.applyMatrix4(t.matrixWorld),this.intersectsSphere(Un)}intersectsSphere(t){const e=this.planes,n=t.center,i=-t.radius;for(let t=0;t<6;t++)if(e[t].distanceToPoint(n)<i)return!1;return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const i=e[n];if(zn.x=i.normal.x>0?t.max.x:t.min.x,zn.y=i.normal.y>0?t.max.y:t.min.y,zn.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(zn)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}}function Vn(){let t=null,e=!1,n=null,i=null;function r(e,o){n(e,o),i=t.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==n&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function Wn(t,e){const n=e.isWebGL2,i=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),i.get(t)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);const n=i.get(e);n&&(t.deleteBuffer(n.buffer),i.delete(e))},update:function(e,r){if(e.isGLBufferAttribute){const t=i.get(e);return void((!t||t.version<e.version)&&i.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version}))}e.isInterleavedBufferAttribute&&(e=e.data);const o=i.get(e);void 0===o?i.set(e,function(e,i){const r=e.array,o=e.usage,s=t.createBuffer();t.bindBuffer(i,s),t.bufferData(i,r,o),e.onUploadCallback();let a=5126;return r instanceof Float32Array?a=5126:r instanceof Float64Array||(r instanceof Uint16Array?e.isFloat16BufferAttribute?n&&(a=5131):a=5123:r instanceof Int16Array?a=5122:r instanceof Uint32Array?a=5125:r instanceof Int32Array?a=5124:r instanceof Int8Array?a=5120:r instanceof Uint8Array&&(a=5121)),{buffer:s,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(e,r)):o.version<e.version&&(function(e,i,r){const o=i.array,s=i.updateRange;t.bindBuffer(r,e),-1===s.count?t.bufferSubData(r,0,o):(n?t.bufferSubData(r,s.offset*o.BYTES_PER_ELEMENT,o,s.offset,s.count):t.bufferSubData(r,s.offset*o.BYTES_PER_ELEMENT,o.subarray(s.offset,s.offset+s.count)),s.count=-1)}(o.buffer,e,r),o.version=e.version)}}}class Hn extends an{constructor(t=1,e=1,n=1,i=1){super(),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i};const r=t/2,o=e/2,s=Math.floor(n),a=Math.floor(i),c=s+1,l=a+1,u=t/s,h=e/a,p=[],f=[],d=[],_=[];for(let t=0;t<l;t++){const e=t*h-o;for(let n=0;n<c;n++){const i=n*u-r;f.push(i,-e,0),d.push(0,0,1),_.push(n/s),_.push(1-t/a)}}for(let t=0;t<a;t++)for(let e=0;e<s;e++){const n=e+c*t,i=e+c*(t+1),r=e+1+c*(t+1),o=e+1+c*t;p.push(n,i,o),p.push(i,r,o)}this.setIndex(p),this.setAttribute("position",new qe(f,3)),this.setAttribute("normal",new qe(d,3)),this.setAttribute("uv",new qe(_,2))}}const Xn={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},qn={common:{diffuse:{value:new Ie(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new tt},uv2Transform:{value:new tt},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Q(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ie(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ie(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new tt}},sprite:{diffuse:{value:new Ie(15658734)},opacity:{value:1},center:{value:new Q(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new tt}}},Yn={basic:{uniforms:Rn([qn.common,qn.specularmap,qn.envmap,qn.aomap,qn.lightmap,qn.fog]),vertexShader:Xn.meshbasic_vert,fragmentShader:Xn.meshbasic_frag},lambert:{uniforms:Rn([qn.common,qn.specularmap,qn.envmap,qn.aomap,qn.lightmap,qn.emissivemap,qn.fog,qn.lights,{emissive:{value:new Ie(0)}}]),vertexShader:Xn.meshlambert_vert,fragmentShader:Xn.meshlambert_frag},phong:{uniforms:Rn([qn.common,qn.specularmap,qn.envmap,qn.aomap,qn.lightmap,qn.emissivemap,qn.bumpmap,qn.normalmap,qn.displacementmap,qn.fog,qn.lights,{emissive:{value:new Ie(0)},specular:{value:new Ie(1118481)},shininess:{value:30}}]),vertexShader:Xn.meshphong_vert,fragmentShader:Xn.meshphong_frag},standard:{uniforms:Rn([qn.common,qn.envmap,qn.aomap,qn.lightmap,qn.emissivemap,qn.bumpmap,qn.normalmap,qn.displacementmap,qn.roughnessmap,qn.metalnessmap,qn.fog,qn.lights,{emissive:{value:new Ie(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Xn.meshphysical_vert,fragmentShader:Xn.meshphysical_frag},toon:{uniforms:Rn([qn.common,qn.aomap,qn.lightmap,qn.emissivemap,qn.bumpmap,qn.normalmap,qn.displacementmap,qn.gradientmap,qn.fog,qn.lights,{emissive:{value:new Ie(0)}}]),vertexShader:Xn.meshtoon_vert,fragmentShader:Xn.meshtoon_frag},matcap:{uniforms:Rn([qn.common,qn.bumpmap,qn.normalmap,qn.displacementmap,qn.fog,{matcap:{value:null}}]),vertexShader:Xn.meshmatcap_vert,fragmentShader:Xn.meshmatcap_frag},points:{uniforms:Rn([qn.points,qn.fog]),vertexShader:Xn.points_vert,fragmentShader:Xn.points_frag},dashed:{uniforms:Rn([qn.common,qn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Xn.linedashed_vert,fragmentShader:Xn.linedashed_frag},depth:{uniforms:Rn([qn.common,qn.displacementmap]),vertexShader:Xn.depth_vert,fragmentShader:Xn.depth_frag},normal:{uniforms:Rn([qn.common,qn.bumpmap,qn.normalmap,qn.displacementmap,{opacity:{value:1}}]),vertexShader:Xn.normal_vert,fragmentShader:Xn.normal_frag},sprite:{uniforms:Rn([qn.sprite,qn.fog]),vertexShader:Xn.sprite_vert,fragmentShader:Xn.sprite_frag},background:{uniforms:{uvTransform:{value:new tt},t2D:{value:null}},vertexShader:Xn.background_vert,fragmentShader:Xn.background_frag},cube:{uniforms:Rn([qn.envmap,{opacity:{value:1}}]),vertexShader:Xn.cube_vert,fragmentShader:Xn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Xn.equirect_vert,fragmentShader:Xn.equirect_frag},distanceRGBA:{uniforms:Rn([qn.common,qn.displacementmap,{referencePosition:{value:new ut},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Xn.distanceRGBA_vert,fragmentShader:Xn.distanceRGBA_frag},shadow:{uniforms:Rn([qn.lights,qn.fog,{color:{value:new Ie(0)},opacity:{value:1}}]),vertexShader:Xn.shadow_vert,fragmentShader:Xn.shadow_frag}};function Zn(t,e,n,i,r){const s=new Ie(0);let a,c,l=0,h=null,p=0,f=null;function d(t,e){n.buffers.color.setClear(t.r,t.g,t.b,e,r)}return{getClearColor:function(){return s},setClearColor:function(t,e=1){s.set(t),l=e,d(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(t){l=t,d(s,l)},render:function(n,r,_,m){let g=!0===r.isScene?r.background:null;g&&g.isTexture&&(g=e.get(g));const b=t.xr,v=b.getSession&&b.getSession();v&&"additive"===v.environmentBlendMode&&(g=null),null===g?d(s,l):g&&g.isColor&&(d(g,1),m=!0),(t.autoClear||m)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),g&&(g.isCubeTexture||g.isWebGLCubeRenderTarget||g.mapping===u)?(void 0===c&&(c=new Cn(new Ln(1,1,1),new Pn({name:"BackgroundCubeMaterial",uniforms:En(Yn.cube.uniforms),vertexShader:Yn.cube.vertexShader,fragmentShader:Yn.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),g.isWebGLCubeRenderTarget&&(g=g.texture),c.material.uniforms.envMap.value=g,c.material.uniforms.flipEnvMap.value=g.isCubeTexture&&g._needsFlipEnvMap?-1:1,h===g&&p===g.version&&f===t.toneMapping||(c.material.needsUpdate=!0,h=g,p=g.version,f=t.toneMapping),n.unshift(c,c.geometry,c.material,0,0,null)):g&&g.isTexture&&(void 0===a&&(a=new Cn(new Hn(2,2),new Pn({name:"BackgroundMaterial",uniforms:En(Yn.background.uniforms),vertexShader:Yn.background.vertexShader,fragmentShader:Yn.background.fragmentShader,side:o,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(a)),a.material.uniforms.t2D.value=g,!0===g.matrixAutoUpdate&&g.updateMatrix(),a.material.uniforms.uvTransform.value.copy(g.matrix),h===g&&p===g.version&&f===t.toneMapping||(a.material.needsUpdate=!0,h=g,p=g.version,f=t.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null))}}}function Jn(t,e,n,i){const r=t.getParameter(34921),o=i.isWebGL2?null:e.get("OES_vertex_array_object"),s=i.isWebGL2||null!==o,a={},c=p(null);let l=c;function u(e){return i.isWebGL2?t.bindVertexArray(e):o.bindVertexArrayOES(e)}function h(e){return i.isWebGL2?t.deleteVertexArray(e):o.deleteVertexArrayOES(e)}function p(t){const e=[],n=[],i=[];for(let t=0;t<r;t++)e[t]=0,n[t]=0,i[t]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:n,attributeDivisors:i,object:t,attributes:{},index:null}}function f(){const t=l.newAttributes;for(let e=0,n=t.length;e<n;e++)t[e]=0}function d(t){_(t,0)}function _(n,r){const o=l.newAttributes,s=l.enabledAttributes,a=l.attributeDivisors;o[n]=1,0===s[n]&&(t.enableVertexAttribArray(n),s[n]=1),a[n]!==r&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),a[n]=r)}function m(){const e=l.newAttributes,n=l.enabledAttributes;for(let i=0,r=n.length;i<r;i++)n[i]!==e[i]&&(t.disableVertexAttribArray(i),n[i]=0)}function g(e,n,r,o,s,a){!0!==i.isWebGL2||5124!==r&&5125!==r?t.vertexAttribPointer(e,n,r,o,s,a):t.vertexAttribIPointer(e,n,r,s,a)}function b(){v(),l!==c&&(l=c,u(l.object))}function v(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:function(r,c,h,b,v){let y=!1;if(s){const e=function(e,n,r){const s=!0===r.wireframe;let c=a[e.id];void 0===c&&(c={},a[e.id]=c);let l=c[n.id];void 0===l&&(l={},c[n.id]=l);let u=l[s];return void 0===u&&(u=p(i.isWebGL2?t.createVertexArray():o.createVertexArrayOES()),l[s]=u),u}(b,h,c);l!==e&&(l=e,u(l.object)),y=function(t,e){const n=l.attributes,i=t.attributes;let r=0;for(const t in i){const e=n[t],o=i[t];if(void 0===e)return!0;if(e.attribute!==o)return!0;if(e.data!==o.data)return!0;r++}return l.attributesNum!==r||l.index!==e}(b,v),y&&function(t,e){const n={},i=t.attributes;let r=0;for(const t in i){const e=i[t],o={};o.attribute=e,e.data&&(o.data=e.data),n[t]=o,r++}l.attributes=n,l.attributesNum=r,l.index=e}(b,v)}else{const t=!0===c.wireframe;l.geometry===b.id&&l.program===h.id&&l.wireframe===t||(l.geometry=b.id,l.program=h.id,l.wireframe=t,y=!0)}!0===r.isInstancedMesh&&(y=!0),null!==v&&n.update(v,34963),y&&(function(r,o,s,a){if(!1===i.isWebGL2&&(r.isInstancedMesh||a.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;f();const c=a.attributes,l=s.getAttributes(),u=o.defaultAttributeValues;for(const e in l){const i=l[e];if(i>=0){const o=c[e];if(void 0!==o){const e=o.normalized,r=o.itemSize,s=n.get(o);if(void 0===s)continue;const c=s.buffer,l=s.type,u=s.bytesPerElement;if(o.isInterleavedBufferAttribute){const n=o.data,s=n.stride,h=o.offset;n&&n.isInstancedInterleavedBuffer?(_(i,n.meshPerAttribute),void 0===a._maxInstanceCount&&(a._maxInstanceCount=n.meshPerAttribute*n.count)):d(i),t.bindBuffer(34962,c),g(i,r,l,e,s*u,h*u)}else o.isInstancedBufferAttribute?(_(i,o.meshPerAttribute),void 0===a._maxInstanceCount&&(a._maxInstanceCount=o.meshPerAttribute*o.count)):d(i),t.bindBuffer(34962,c),g(i,r,l,e,0,0)}else if("instanceMatrix"===e){const e=n.get(r.instanceMatrix);if(void 0===e)continue;const o=e.buffer,s=e.type;_(i+0,1),_(i+1,1),_(i+2,1),_(i+3,1),t.bindBuffer(34962,o),t.vertexAttribPointer(i+0,4,s,!1,64,0),t.vertexAttribPointer(i+1,4,s,!1,64,16),t.vertexAttribPointer(i+2,4,s,!1,64,32),t.vertexAttribPointer(i+3,4,s,!1,64,48)}else if("instanceColor"===e){const e=n.get(r.instanceColor);if(void 0===e)continue;const o=e.buffer,s=e.type;_(i,1),t.bindBuffer(34962,o),t.vertexAttribPointer(i,3,s,!1,12,0)}else if(void 0!==u){const n=u[e];if(void 0!==n)switch(n.length){case 2:t.vertexAttrib2fv(i,n);break;case 3:t.vertexAttrib3fv(i,n);break;case 4:t.vertexAttrib4fv(i,n);break;default:t.vertexAttrib1fv(i,n)}}}}m()}(r,c,h,b),null!==v&&t.bindBuffer(34963,n.get(v).buffer))},reset:b,resetDefaultState:v,dispose:function(){b();for(const t in a){const e=a[t];for(const t in e){const n=e[t];for(const t in n)h(n[t].object),delete n[t];delete e[t]}delete a[t]}},releaseStatesOfGeometry:function(t){if(void 0===a[t.id])return;const e=a[t.id];for(const t in e){const n=e[t];for(const t in n)h(n[t].object),delete n[t];delete e[t]}delete a[t.id]},releaseStatesOfProgram:function(t){for(const e in a){const n=a[e];if(void 0===n[t.id])continue;const i=n[t.id];for(const t in i)h(i[t].object),delete i[t];delete n[t.id]}},initAttributes:f,enableAttribute:d,disableUnusedAttributes:m}}function Kn(t,e,n,i){const r=i.isWebGL2;let o;this.setMode=function(t){o=t},this.render=function(e,i){t.drawArrays(o,e,i),n.update(i,o,1)},this.renderInstances=function(i,s,a){if(0===a)return;let c,l;if(r)c=t,l="drawArraysInstanced";else if(c=e.get("ANGLE_instanced_arrays"),l="drawArraysInstancedANGLE",null===c)return;c[l](o,i,s,a),n.update(s,o,a)}}function $n(t,e,n){let i;function r(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext;let s=void 0!==n.precision?n.precision:"highp";const a=r(s);a!==s&&(s=a);const c=!0===n.logarithmicDepthBuffer,l=t.getParameter(34930),u=t.getParameter(35660),h=t.getParameter(3379),p=t.getParameter(34076),f=t.getParameter(34921),d=t.getParameter(36347),_=t.getParameter(36348),m=t.getParameter(36349),g=u>0,b=o||!!e.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==i)return i;const n=e.get("EXT_texture_filter_anisotropic");return i=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,i},getMaxPrecision:r,precision:s,logarithmicDepthBuffer:c,maxTextures:l,maxVertexTextures:u,maxTextureSize:h,maxCubemapSize:p,maxAttributes:f,maxVertexUniforms:d,maxVaryings:_,maxFragmentUniforms:m,vertexTextures:g,floatFragmentTextures:b,floatVertexTextures:g&&b,maxSamples:o?t.getParameter(36183):0}}function Qn(t){const e=this;let n=null,i=0,r=!1,o=!1;const s=new fe,a=new tt,c={value:null,needsUpdate:!1};function l(){c.value!==n&&(c.value=n,c.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(t,n,i,r){const o=null!==t?t.length:0;let l=null;if(0!==o){if(l=c.value,!0!==r||null===l){const e=i+4*o,r=n.matrixWorldInverse;a.getNormalMatrix(r),(null===l||l.length<e)&&(l=new Float32Array(e));for(let e=0,n=i;e!==o;++e,n+=4)s.copy(t[e]).applyMatrix4(r,a),s.normal.toArray(l,n),l[n+3]=s.constant}c.value=l,c.needsUpdate=!0}return e.numPlanes=o,e.numIntersection=0,l}this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e,o){const s=0!==t.length||e||0!==i||r;return r=e,n=u(t,o,0),i=t.length,s},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1,l()},this.setState=function(e,s,a){const h=e.clippingPlanes,p=e.clipIntersection,f=e.clipShadows,d=t.get(e);if(!r||null===h||0===h.length||o&&!f)o?u(null):l();else{const t=o?0:i,e=4*t;let r=d.clippingState||null;c.value=r,r=u(h,s,e,a);for(let t=0;t!==e;++t)r[t]=n[t];d.clippingState=r,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=t}}}function ti(t){let e=new WeakMap;function n(t,e){return 303===e?t.mapping=c:304===e&&(t.mapping=l),t}function i(t){const n=t.target;n.removeEventListener("dispose",i);const r=e.get(n);void 0!==r&&(e.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){const o=r.mapping;if(303===o||304===o){if(e.has(r))return n(e.get(r).texture,r.mapping);{const o=r.image;if(o&&o.height>0){const s=t.getRenderList(),a=t.getRenderTarget(),c=new Bn(o.height/2);return c.fromEquirectangularTexture(t,r),e.set(r,c),t.setRenderTarget(a),t.setRenderList(s),r.addEventListener("dispose",i),n(c.texture,r.mapping)}return null}}}return r},dispose:function(){e=new WeakMap}}}function ei(t){const e={};return{has:function(n){if(void 0!==e[n])return null!==e[n];let i;switch(n){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(n)}return e[n]=i,null!==i},get:function(t){return this.has(t),e[t]}}}function ni(t,e,n,i){const r=new WeakMap,o=new WeakMap;function s(t){const a=t.target,c=r.get(a);null!==c.index&&e.remove(c.index);for(const t in c.attributes)e.remove(c.attributes[t]);a.removeEventListener("dispose",s),r.delete(a);const l=o.get(c);l&&(e.remove(l),o.delete(c)),i.releaseStatesOfGeometry(c),!0===a.isInstancedBufferGeometry&&delete a._maxInstanceCount,n.memory.geometries--}function a(t){const n=[],i=t.index,r=t.attributes.position;let s=0;if(null!==i){const t=i.array;s=i.version;for(let e=0,i=t.length;e<i;e+=3){const i=t[e+0],r=t[e+1],o=t[e+2];n.push(i,r,r,o,o,i)}}else{const t=r.array;s=r.version;for(let e=0,i=t.length/3-1;e<i;e+=3){const t=e+0,i=e+1,r=e+2;n.push(t,i,i,r,r,t)}}const a=new(Je(n)>65535?He:Ve)(n,1);a.version=s;const c=o.get(t);c&&e.remove(c),o.set(t,a)}return{get:function(t,e){let i=r.get(e);return i||(e.addEventListener("dispose",s),e.isBufferGeometry?i=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new an).setFromObject(t)),i=e._bufferGeometry),r.set(e,i),n.memory.geometries++,i)},update:function(t){const n=t.attributes;for(const t in n)e.update(n[t],34962);const i=t.morphAttributes;for(const t in i){const n=i[t];for(let t=0,i=n.length;t<i;t++)e.update(n[t],34962)}},getWireframeAttribute:function(t){const e=o.get(t);if(e){const n=t.index;null!==n&&e.version<n.version&&a(t)}else a(t);return o.get(t)}}}function ii(t,e,n,i){const r=i.isWebGL2;let o,s,a;this.setMode=function(t){o=t},this.setIndex=function(t){s=t.type,a=t.bytesPerElement},this.render=function(e,i){t.drawElements(o,i,s,e*a),n.update(i,o,1)},this.renderInstances=function(i,c,l){if(0===l)return;let u,h;if(r)u=t,h="drawElementsInstanced";else if(u=e.get("ANGLE_instanced_arrays"),h="drawElementsInstancedANGLE",null===u)return;u[h](o,c,s,i*a,l),n.update(c,o,l)}}function ri(t){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,n,i){switch(e.calls++,n){case 4:e.triangles+=i*(t/3);break;case 1:e.lines+=i*(t/2);break;case 3:e.lines+=i*(t-1);break;case 2:e.lines+=i*t;break;case 0:e.points+=i*t}}}}function oi(t,e){return t[0]-e[0]}function si(t,e){return Math.abs(e[1])-Math.abs(t[1])}function ai(t){const e={},n=new Float32Array(8),i=[];for(let t=0;t<8;t++)i[t]=[t,0];return{update:function(r,o,s,a){const c=r.morphTargetInfluences,l=void 0===c?0:c.length;let u=e[o.id];if(void 0===u){u=[];for(let t=0;t<l;t++)u[t]=[t,0];e[o.id]=u}for(let t=0;t<l;t++){const e=u[t];e[0]=t,e[1]=c[t]}u.sort(si);for(let t=0;t<8;t++)t<l&&u[t][1]?(i[t][0]=u[t][0],i[t][1]=u[t][1]):(i[t][0]=Number.MAX_SAFE_INTEGER,i[t][1]=0);i.sort(oi);const h=s.morphTargets&&o.morphAttributes.position,p=s.morphNormals&&o.morphAttributes.normal;let f=0;for(let t=0;t<8;t++){const e=i[t],r=e[0],s=e[1];r!==Number.MAX_SAFE_INTEGER&&s?(h&&o.getAttribute("morphTarget"+t)!==h[r]&&o.setAttribute("morphTarget"+t,h[r]),p&&o.getAttribute("morphNormal"+t)!==p[r]&&o.setAttribute("morphNormal"+t,p[r]),n[t]=s,f+=s):(h&&!0===o.hasAttribute("morphTarget"+t)&&o.deleteAttribute("morphTarget"+t),p&&!0===o.hasAttribute("morphNormal"+t)&&o.deleteAttribute("morphNormal"+t),n[t]=0)}const d=o.morphTargetsRelative?1:1-f;a.getUniforms().setValue(t,"morphTargetBaseInfluence",d),a.getUniforms().setValue(t,"morphTargetInfluences",n)}}}function ci(t,e,n,i){let r=new WeakMap;function o(t){const e=t.target;e.removeEventListener("dispose",o),n.remove(e.instanceMatrix),null!==e.instanceColor&&n.remove(e.instanceColor)}return{update:function(t){const s=i.render.frame,a=t.geometry,c=e.get(t,a);return r.get(c)!==s&&(a.isGeometry&&c.updateFromObject(t),e.update(c),r.set(c,s)),t.isInstancedMesh&&(!1===t.hasEventListener("dispose",o)&&t.addEventListener("dispose",o),n.update(t.instanceMatrix,34962),null!==t.instanceColor&&n.update(t.instanceColor,34962)),c},dispose:function(){r=new WeakMap}}}function li(t=null,e=1,n=1,i=1){rt.call(this,null),this.image={data:t,width:e,height:n,depth:i},this.magFilter=_,this.minFilter=_,this.wrapR=f,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function ui(t=null,e=1,n=1,i=1){rt.call(this,null),this.image={data:t,width:e,height:n,depth:i},this.magFilter=_,this.minFilter=_,this.wrapR=f,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Yn.physical={uniforms:Rn([Yn.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Q(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Ie(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:Xn.meshphysical_vert,fragmentShader:Xn.meshphysical_frag},li.prototype=Object.create(rt.prototype),li.prototype.constructor=li,li.prototype.isDataTexture2DArray=!0,ui.prototype=Object.create(rt.prototype),ui.prototype.constructor=ui,ui.prototype.isDataTexture3D=!0;const hi=new rt,pi=new li,fi=new ui,di=new Fn,_i=[],mi=[],gi=new Float32Array(16),bi=new Float32Array(9),vi=new Float32Array(4);function yi(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let o=_i[r];if(void 0===o&&(o=new Float32Array(r),_i[r]=o),0!==e){i.toArray(o,0);for(let i=1,r=0;i!==e;++i)r+=n,t[i].toArray(o,r)}return o}function xi(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function wi(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function Si(t,e){let n=mi[e];void 0===n&&(n=new Int32Array(e),mi[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function Mi(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Ci(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(xi(n,e))return;t.uniform2fv(this.addr,e),wi(n,e)}}function Ti(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(xi(n,e))return;t.uniform3fv(this.addr,e),wi(n,e)}}function Ai(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(xi(n,e))return;t.uniform4fv(this.addr,e),wi(n,e)}}function Li(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(xi(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),wi(n,e)}else{if(xi(n,i))return;vi.set(i),t.uniformMatrix2fv(this.addr,!1,vi),wi(n,i)}}function Ei(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(xi(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),wi(n,e)}else{if(xi(n,i))return;bi.set(i),t.uniformMatrix3fv(this.addr,!1,bi),wi(n,i)}}function Ri(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(xi(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),wi(n,e)}else{if(xi(n,i))return;gi.set(i),t.uniformMatrix4fv(this.addr,!1,gi),wi(n,i)}}function Ii(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(e||hi,r)}function Pi(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||pi,r)}function Di(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||fi,r)}function ki(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(e||di,r)}function Oi(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Ni(t,e){const n=this.cache;xi(n,e)||(t.uniform2iv(this.addr,e),wi(n,e))}function Fi(t,e){const n=this.cache;xi(n,e)||(t.uniform3iv(this.addr,e),wi(n,e))}function Bi(t,e){const n=this.cache;xi(n,e)||(t.uniform4iv(this.addr,e),wi(n,e))}function ji(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Ui(t,e){t.uniform1fv(this.addr,e)}function zi(t,e){t.uniform1iv(this.addr,e)}function Gi(t,e){t.uniform2iv(this.addr,e)}function Vi(t,e){t.uniform3iv(this.addr,e)}function Wi(t,e){t.uniform4iv(this.addr,e)}function Hi(t,e){const n=yi(e,this.size,2);t.uniform2fv(this.addr,n)}function Xi(t,e){const n=yi(e,this.size,3);t.uniform3fv(this.addr,n)}function qi(t,e){const n=yi(e,this.size,4);t.uniform4fv(this.addr,n)}function Yi(t,e){const n=yi(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Zi(t,e){const n=yi(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Ji(t,e){const n=yi(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Ki(t,e,n){const i=e.length,r=Si(n,i);t.uniform1iv(this.addr,r);for(let t=0;t!==i;++t)n.safeSetTexture2D(e[t]||hi,r[t])}function $i(t,e,n){const i=e.length,r=Si(n,i);t.uniform1iv(this.addr,r);for(let t=0;t!==i;++t)n.safeSetTextureCube(e[t]||di,r[t])}function Qi(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function(t){switch(t){case 5126:return Mi;case 35664:return Ci;case 35665:return Ti;case 35666:return Ai;case 35674:return Li;case 35675:return Ei;case 35676:return Ri;case 5124:case 35670:return Oi;case 35667:case 35671:return Ni;case 35668:case 35672:return Fi;case 35669:case 35673:return Bi;case 5125:return ji;case 35678:case 36198:case 36298:case 36306:case 35682:return Ii;case 35679:case 36299:case 36307:return Di;case 35680:case 36300:case 36308:case 36293:return ki;case 36289:case 36303:case 36311:case 36292:return Pi}}(e.type)}function tr(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return Ui;case 35664:return Hi;case 35665:return Xi;case 35666:return qi;case 35674:return Yi;case 35675:return Zi;case 35676:return Ji;case 5124:case 35670:return zi;case 35667:case 35671:return Gi;case 35668:case 35672:return Vi;case 35669:case 35673:return Wi;case 35678:case 36198:case 36298:case 36306:case 35682:return Ki;case 35680:case 36300:case 36308:case 36293:return $i}}(e.type)}function er(t){this.id=t,this.seq=[],this.map={}}tr.prototype.updateCache=function(t){const e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),wi(e,t)},er.prototype.setValue=function(t,e,n){const i=this.seq;for(let r=0,o=i.length;r!==o;++r){const o=i[r];o.setValue(t,e[o.id],n)}};const nr=/(\w+)(\])?(\[|\.)?/g;function ir(t,e){t.seq.push(e),t.map[e.id]=e}function rr(t,e,n){const i=t.name,r=i.length;for(nr.lastIndex=0;;){const o=nr.exec(i),s=nr.lastIndex;let a=o[1];const c="]"===o[2],l=o[3];if(c&&(a|=0),void 0===l||"["===l&&s+2===r){ir(n,void 0===l?new Qi(a,t,e):new tr(a,t,e));break}{let t=n.map[a];void 0===t&&(t=new er(a),ir(n,t)),n=t}}}function or(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,35718);for(let i=0;i<n;++i){const n=t.getActiveUniform(e,i);rr(n,t.getUniformLocation(e,n.name),this)}}function sr(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}or.prototype.setValue=function(t,e,n,i){const r=this.map[e];void 0!==r&&r.setValue(t,n,i)},or.prototype.setOptional=function(t,e,n){const i=e[n];void 0!==i&&this.setValue(t,n,i)},or.upload=function(t,e,n,i){for(let r=0,o=e.length;r!==o;++r){const o=e[r],s=n[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,i)}},or.seqWithValue=function(t,e){const n=[];for(let i=0,r=t.length;i!==r;++i){const r=t[i];r.id in e&&n.push(r)}return n};let ar=0;function cr(t){switch(t){case U:return["Linear","( value )"];case z:return["sRGB","( value )"];case V:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case G:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return["Linear","( value )"]}}function lr(t,e,n){const i=t.getShaderParameter(e,35713),r=t.getShaderInfoLog(e).trim();return i&&""===r?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+r+function(t){const e=t.split("\n");for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join("\n")}(t.getShaderSource(e))}function ur(t,e){const n=cr(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function hr(t,e){const n=cr(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function pr(t,e){let n;switch(e){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function fr(t){return""!==t}function dr(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function _r(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const mr=/^[ \t]*#include +<([\w\d./]+)>/gm;function gr(t){return t.replace(mr,br)}function br(t,e){const n=Xn[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return gr(n)}const vr=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,yr=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function xr(t){return t.replace(yr,Sr).replace(vr,wr)}function wr(t,e,n,i){return Sr(0,e,n,i)}function Sr(t,e,n,i){let r="";for(let t=parseInt(e);t<parseInt(n);t++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+t+" ]").replace(/UNROLLED_LOOP_INDEX/g,t);return r}function Mr(t){let e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function Cr(t,e,n,i){const r=t.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const p=function(t){let e="SHADOWMAP_TYPE_BASIC";return 1===t.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===t.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===t.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(n),f=function(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case c:case l:e="ENVMAP_TYPE_CUBE";break;case u:case h:e="ENVMAP_TYPE_CUBE_UV"}return e}(n),d=function(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case l:case h:e="ENVMAP_MODE_REFRACTION"}return e}(n),_=function(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(n),m=t.gammaFactor>0?t.gammaFactor:1,g=n.isWebGL2?"":function(t){return[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(fr).join("\n")}(n),b=function(t){const e=[];for(const n in t){const i=t[n];!1!==i&&e.push("#define "+n+" "+i)}return e.join("\n")}(o),v=r.createProgram();let y,x,w=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(y=[b].filter(fr).join("\n"),y.length>0&&(y+="\n"),x=[g,b].filter(fr).join("\n"),x.length>0&&(x+="\n")):(y=[Mr(n),"#define SHADER_NAME "+n.shaderName,b,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+m,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+p:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(fr).join("\n"),x=[g,Mr(n),"#define SHADER_NAME "+n.shaderName,b,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.envMap?"#define "+d:"",n.envMap?"#define "+_:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+p:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?Xn.tonemapping_pars_fragment:"",0!==n.toneMapping?pr("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",Xn.encodings_pars_fragment,n.map?ur("mapTexelToLinear",n.mapEncoding):"",n.matcap?ur("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?ur("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?ur("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?ur("lightMapTexelToLinear",n.lightMapEncoding):"",hr("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(fr).join("\n")),s=gr(s),s=dr(s,n),s=_r(s,n),a=gr(a),a=dr(a,n),a=_r(a,n),s=xr(s),a=xr(a),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(w="#version 300 es\n",y=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+y,x=["#define varying in",n.glslVersion===Y?"":"out highp vec4 pc_fragColor;",n.glslVersion===Y?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+x);const S=w+x+a,M=sr(r,35633,w+y+s),C=sr(r,35632,S);if(r.attachShader(v,M),r.attachShader(v,C),void 0!==n.index0AttributeName?r.bindAttribLocation(v,0,n.index0AttributeName):!0===n.morphTargets&&r.bindAttribLocation(v,0,"position"),r.linkProgram(v),t.debug.checkShaderErrors){const t=r.getProgramInfoLog(v).trim(),e=r.getShaderInfoLog(M).trim(),n=r.getShaderInfoLog(C).trim();let i=!0,o=!0;!1===r.getProgramParameter(v,35714)?(i=!1,lr(r,M,"vertex"),lr(r,C,"fragment")):""!==t||""!==e&&""!==n||(o=!1),o&&(this.diagnostics={runnable:i,programLog:t,vertexShader:{log:e,prefix:y},fragmentShader:{log:n,prefix:x}})}let T,A;return r.deleteShader(M),r.deleteShader(C),this.getUniforms=function(){return void 0===T&&(T=new or(r,v)),T},this.getAttributes=function(){return void 0===A&&(A=function(t,e){const n={},i=t.getProgramParameter(e,35721);for(let r=0;r<i;r++){const i=t.getActiveAttrib(e,r).name;n[i]=t.getAttribLocation(e,i)}return n}(r,v)),A},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(v),this.program=void 0},this.name=n.shaderName,this.id=ar++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=M,this.fragmentShader=C,this}function Tr(t,e,n,i,r,o){const a=[],c=i.isWebGL2,l=i.logarithmicDepthBuffer,p=i.floatVertexTextures,f=i.maxVertexUniforms,d=i.vertexTextures;let _=i.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},g=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function b(t){let e;return e=t&&t.isTexture?t.encoding:t&&t.isWebGLRenderTarget?t.texture.encoding:U,e}return{getParameters:function(r,a,g,v,y){const x=v.fog,w=r.isMeshStandardMaterial?v.environment:null,S=e.get(r.envMap||w),M=m[r.type],C=y.isSkinnedMesh?function(t){const e=t.skeleton.bones;if(p)return 1024;{const t=f,n=Math.floor((t-20)/4),i=Math.min(n,e.length);return i<e.length?0:i}}(y):0;let T,A;if(null!==r.precision&&(_=i.getMaxPrecision(r.precision),r.precision),M){const t=Yn[M];T=t.vertexShader,A=t.fragmentShader}else T=r.vertexShader,A=r.fragmentShader;const L=t.getRenderTarget();return{isWebGL2:c,shaderID:M,shaderName:r.type,vertexShader:T,fragmentShader:A,defines:r.defines,isRawShaderMaterial:!0===r.isRawShaderMaterial,glslVersion:r.glslVersion,precision:_,instancing:!0===y.isInstancedMesh,instancingColor:!0===y.isInstancedMesh&&null!==y.instanceColor,supportsVertexTextures:d,outputEncoding:null!==L?b(L.texture):t.outputEncoding,map:!!r.map,mapEncoding:b(r.map),matcap:!!r.matcap,matcapEncoding:b(r.matcap),envMap:!!S,envMapMode:S&&S.mapping,envMapEncoding:b(S),envMapCubeUV:!!S&&(S.mapping===u||S.mapping===h),lightMap:!!r.lightMap,lightMapEncoding:b(r.lightMap),aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:b(r.emissiveMap),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,objectSpaceNormalMap:1===r.normalMapType,tangentSpaceNormalMap:r.normalMapType===W,clearcoatMap:!!r.clearcoatMap,clearcoatRoughnessMap:!!r.clearcoatRoughnessMap,clearcoatNormalMap:!!r.clearcoatNormalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,gradientMap:!!r.gradientMap,sheen:!!r.sheen,transmissionMap:!!r.transmissionMap,combine:r.combine,vertexTangents:r.normalMap&&r.vertexTangents,vertexColors:r.vertexColors,vertexUvs:!!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatMap||r.clearcoatRoughnessMap||r.clearcoatNormalMap||r.displacementMap||r.transmissionMap),uvsVertexOnly:!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatNormalMap||r.transmissionMap||!r.displacementMap),fog:!!x,useFog:r.fog,fogExp2:x&&x.isFogExp2,flatShading:r.flatShading,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:l,skinning:r.skinning&&C>0,maxBones:C,useVertexTexture:p,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numDirLightShadows:a.directionalShadowMap.length,numPointLightShadows:a.pointShadowMap.length,numSpotLightShadows:a.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:r.dithering,shadowMapEnabled:t.shadowMap.enabled&&g.length>0,shadowMapType:t.shadowMap.type,toneMapping:r.toneMapped?t.toneMapping:0,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:r.side===s,flipSided:1===r.side,depthPacking:void 0!==r.depthPacking&&r.depthPacking,index0AttributeName:r.index0AttributeName,extensionDerivatives:r.extensions&&r.extensions.derivatives,extensionFragDepth:r.extensions&&r.extensions.fragDepth,extensionDrawBuffers:r.extensions&&r.extensions.drawBuffers,extensionShaderTextureLOD:r.extensions&&r.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||n.has("EXT_shader_texture_lod"),customProgramCacheKey:r.customProgramCacheKey()}},getProgramCacheKey:function(e){const n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(const t in e.defines)n.push(t),n.push(e.defines[t]);if(!1===e.isRawShaderMaterial){for(let t=0;t<g.length;t++)n.push(e[g[t]]);n.push(t.outputEncoding),n.push(t.gammaFactor)}return n.push(e.customProgramCacheKey),n.join()},getUniforms:function(t){const e=m[t.type];let n;if(e){const t=Yn[e];n=In.clone(t.uniforms)}else n=t.uniforms;return n},acquireProgram:function(e,n){let i;for(let t=0,e=a.length;t<e;t++){const e=a[t];if(e.cacheKey===n){i=e,++i.usedTimes;break}}return void 0===i&&(i=new Cr(t,n,e,r),a.push(i)),i},releaseProgram:function(t){if(0==--t.usedTimes){const e=a.indexOf(t);a[e]=a[a.length-1],a.pop(),t.destroy()}},programs:a}}function Ar(){let t=new WeakMap;return{get:function(e){let n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n},remove:function(e){t.delete(e)},update:function(e,n,i){t.get(e)[n]=i},dispose:function(){t=new WeakMap}}}function Lr(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Er(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Rr(t){const e=[];let n=0;const i=[],r=[],o={id:-1};function s(i,r,s,a,c,l){let u=e[n];const h=t.get(s);return void 0===u?(u={id:i.id,object:i,geometry:r,material:s,program:h.program||o,groupOrder:a,renderOrder:i.renderOrder,z:c,group:l},e[n]=u):(u.id=i.id,u.object=i,u.geometry=r,u.material=s,u.program=h.program||o,u.groupOrder=a,u.renderOrder=i.renderOrder,u.z=c,u.group=l),n++,u}return{opaque:i,transparent:r,init:function(){n=0,i.length=0,r.length=0},push:function(t,e,n,o,a,c){const l=s(t,e,n,o,a,c);(!0===n.transparent?r:i).push(l)},unshift:function(t,e,n,o,a,c){const l=s(t,e,n,o,a,c);(!0===n.transparent?r:i).unshift(l)},finish:function(){for(let t=n,i=e.length;t<i;t++){const n=e[t];if(null===n.id)break;n.id=null,n.object=null,n.geometry=null,n.material=null,n.program=null,n.group=null}},sort:function(t,e){i.length>1&&i.sort(t||Lr),r.length>1&&r.sort(e||Er)}}}function Ir(t){let e=new WeakMap;return{get:function(n,i){const r=e.get(n);let o;return void 0===r?(o=new Rr(t),e.set(n,new WeakMap),e.get(n).set(i,o)):(o=r.get(i),void 0===o&&(o=new Rr(t),r.set(i,o))),o},dispose:function(){e=new WeakMap}}}function Pr(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ut,color:new Ie};break;case"SpotLight":n={position:new ut,direction:new ut,color:new Ie,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ut,color:new Ie,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ut,skyColor:new Ie,groundColor:new Ie};break;case"RectAreaLight":n={color:new Ie,position:new ut,halfWidth:new ut,halfHeight:new ut}}return t[e.id]=n,n}}}let Dr=0;function kr(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function Or(t,e){const n=new Pr,i=function(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Q};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Q,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let t=0;t<9;t++)r.probe.push(new ut);const o=new ut,s=new Bt,a=new Bt;return{setup:function(o){let s=0,a=0,c=0;for(let t=0;t<9;t++)r.probe[t].set(0,0,0);let l=0,u=0,h=0,p=0,f=0,d=0,_=0,m=0;o.sort(kr);for(let t=0,e=o.length;t<e;t++){const e=o[t],g=e.color,b=e.intensity,v=e.distance,y=e.shadow&&e.shadow.map?e.shadow.map.texture:null;if(e.isAmbientLight)s+=g.r*b,a+=g.g*b,c+=g.b*b;else if(e.isLightProbe)for(let t=0;t<9;t++)r.probe[t].addScaledVector(e.sh.coefficients[t],b);else if(e.isDirectionalLight){const t=n.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity),e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,r.directionalShadow[l]=n,r.directionalShadowMap[l]=y,r.directionalShadowMatrix[l]=e.shadow.matrix,d++}r.directional[l]=t,l++}else if(e.isSpotLight){const t=n.get(e);if(t.position.setFromMatrixPosition(e.matrixWorld),t.color.copy(g).multiplyScalar(b),t.distance=v,t.coneCos=Math.cos(e.angle),t.penumbraCos=Math.cos(e.angle*(1-e.penumbra)),t.decay=e.decay,e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,r.spotShadow[h]=n,r.spotShadowMap[h]=y,r.spotShadowMatrix[h]=e.shadow.matrix,m++}r.spot[h]=t,h++}else if(e.isRectAreaLight){const t=n.get(e);t.color.copy(g).multiplyScalar(b),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),r.rectArea[p]=t,p++}else if(e.isPointLight){const t=n.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity),t.distance=e.distance,t.decay=e.decay,e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,n.shadowCameraNear=t.camera.near,n.shadowCameraFar=t.camera.far,r.pointShadow[u]=n,r.pointShadowMap[u]=y,r.pointShadowMatrix[u]=e.shadow.matrix,_++}r.point[u]=t,u++}else if(e.isHemisphereLight){const t=n.get(e);t.skyColor.copy(e.color).multiplyScalar(b),t.groundColor.copy(e.groundColor).multiplyScalar(b),r.hemi[f]=t,f++}}p>0&&(e.isWebGL2||!0===t.has("OES_texture_float_linear")?(r.rectAreaLTC1=qn.LTC_FLOAT_1,r.rectAreaLTC2=qn.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")&&(r.rectAreaLTC1=qn.LTC_HALF_1,r.rectAreaLTC2=qn.LTC_HALF_2)),r.ambient[0]=s,r.ambient[1]=a,r.ambient[2]=c;const g=r.hash;g.directionalLength===l&&g.pointLength===u&&g.spotLength===h&&g.rectAreaLength===p&&g.hemiLength===f&&g.numDirectionalShadows===d&&g.numPointShadows===_&&g.numSpotShadows===m||(r.directional.length=l,r.spot.length=h,r.rectArea.length=p,r.point.length=u,r.hemi.length=f,r.directionalShadow.length=d,r.directionalShadowMap.length=d,r.pointShadow.length=_,r.pointShadowMap.length=_,r.spotShadow.length=m,r.spotShadowMap.length=m,r.directionalShadowMatrix.length=d,r.pointShadowMatrix.length=_,r.spotShadowMatrix.length=m,g.directionalLength=l,g.pointLength=u,g.spotLength=h,g.rectAreaLength=p,g.hemiLength=f,g.numDirectionalShadows=d,g.numPointShadows=_,g.numSpotShadows=m,r.version=Dr++)},setupView:function(t,e){let n=0,i=0,c=0,l=0,u=0;const h=e.matrixWorldInverse;for(let e=0,p=t.length;e<p;e++){const p=t[e];if(p.isDirectionalLight){const t=r.directional[n];t.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),t.direction.sub(o),t.direction.transformDirection(h),n++}else if(p.isSpotLight){const t=r.spot[c];t.position.setFromMatrixPosition(p.matrixWorld),t.position.applyMatrix4(h),t.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),t.direction.sub(o),t.direction.transformDirection(h),c++}else if(p.isRectAreaLight){const t=r.rectArea[l];t.position.setFromMatrixPosition(p.matrixWorld),t.position.applyMatrix4(h),a.identity(),s.copy(p.matrixWorld),s.premultiply(h),a.extractRotation(s),t.halfWidth.set(.5*p.width,0,0),t.halfHeight.set(0,.5*p.height,0),t.halfWidth.applyMatrix4(a),t.halfHeight.applyMatrix4(a),l++}else if(p.isPointLight){const t=r.point[i];t.position.setFromMatrixPosition(p.matrixWorld),t.position.applyMatrix4(h),i++}else if(p.isHemisphereLight){const t=r.hemi[u];t.direction.setFromMatrixPosition(p.matrixWorld),t.direction.transformDirection(h),t.direction.normalize(),u++}}},state:r}}function Nr(t,e){const n=new Or(t,e),i=[],r=[];return{init:function(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:function(){n.setup(i)},setupLightsView:function(t){n.setupView(i,t)},pushLight:function(t){i.push(t)},pushShadow:function(t){r.push(t)}}}function Fr(t,e){let n=new WeakMap;return{get:function(i,r=0){let o;return!1===n.has(i)?(o=new Nr(t,e),n.set(i,[]),n.get(i).push(o)):r>=n.get(i).length?(o=new Nr(t,e),n.get(i).push(o)):o=n.get(i)[r],o},dispose:function(){n=new WeakMap}}}function Br(t){ke.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}function jr(t){ke.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new ut,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}function Ur(t,e,n){let i=new Gn;const r=new Q,a=new Q,c=new st,l=[],u=[],h={},p={0:1,1:o,2:s},f=new Pn({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Q},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),d=f.clone();d.defines.HORIZONTAL_PASS=1;const m=new an;m.setAttribute("position",new Be(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Cn(m,f),v=this;function y(n,i){const r=e.update(g);f.uniforms.shadow_pass.value=n.map.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(i,null,r,f,g,null),d.uniforms.shadow_pass.value=n.mapPass.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(i,null,r,d,g,null)}function x(t,e,n){const i=t<<0|e<<1|n<<2;let r=l[i];return void 0===r&&(r=new Br({depthPacking:3201,morphTargets:t,skinning:e}),l[i]=r),r}function w(t,e,n){const i=t<<0|e<<1|n<<2;let r=u[i];return void 0===r&&(r=new jr({morphTargets:t,skinning:e}),u[i]=r),r}function S(e,n,i,r,o,s,a){let c=null,l=x,u=e.customDepthMaterial;if(!0===r.isPointLight&&(l=w,u=e.customDistanceMaterial),void 0===u){let t=!1;!0===i.morphTargets&&(t=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0);let r=!1;!0===e.isSkinnedMesh&&!0===i.skinning&&(r=!0),c=l(t,r,!0===e.isInstancedMesh)}else c=u;if(t.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){const t=c.uuid,e=i.uuid;let n=h[t];void 0===n&&(n={},h[t]=n);let r=n[e];void 0===r&&(r=c.clone(),n[e]=r),c=r}return c.visible=i.visible,c.wireframe=i.wireframe,c.side=3===a?null!==i.shadowSide?i.shadowSide:i.side:null!==i.shadowSide?i.shadowSide:p[i.side],c.clipShadows=i.clipShadows,c.clippingPlanes=i.clippingPlanes,c.clipIntersection=i.clipIntersection,c.wireframeLinewidth=i.wireframeLinewidth,c.linewidth=i.linewidth,!0===r.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(r.matrixWorld),c.nearDistance=o,c.farDistance=s),c}function M(n,r,o,s,a){if(!1===n.visible)return;if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===a)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const i=e.update(n),r=n.material;if(Array.isArray(r)){const e=i.groups;for(let c=0,l=e.length;c<l;c++){const l=e[c],u=r[l.materialIndex];if(u&&u.visible){const e=S(n,i,u,s,o.near,o.far,a);t.renderBufferDirect(o,null,i,e,n,l)}}}else if(r.visible){const e=S(n,i,r,s,o.near,o.far,a);t.renderBufferDirect(o,null,i,e,n,null)}}const c=n.children;for(let t=0,e=c.length;t<e;t++)M(c[t],r,o,s,a)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(e,o,s){if(!1===v.enabled)return;if(!1===v.autoUpdate&&!1===v.needsUpdate)return;if(0===e.length)return;const l=t.getRenderTarget(),u=t.getActiveCubeFace(),h=t.getActiveMipmapLevel(),p=t.state;p.setBlending(0),p.buffers.color.setClear(1,1,1,1),p.buffers.depth.setTest(!0),p.setScissorTest(!1);for(let l=0,u=e.length;l<u;l++){const u=e[l],h=u.shadow;if(void 0===h)continue;if(!1===h.autoUpdate&&!1===h.needsUpdate)continue;r.copy(h.mapSize);const f=h.getFrameExtents();if(r.multiply(f),a.copy(h.mapSize),(r.x>n||r.y>n)&&(r.x>n&&(a.x=Math.floor(n/f.x),r.x=a.x*f.x,h.mapSize.x=a.x),r.y>n&&(a.y=Math.floor(n/f.y),r.y=a.y*f.y,h.mapSize.y=a.y)),null===h.map&&!h.isPointLightShadow&&3===this.type){const t={minFilter:b,magFilter:b,format:L};h.map=new at(r.x,r.y,t),h.map.texture.name=u.name+".shadowMap",h.mapPass=new at(r.x,r.y,t),h.camera.updateProjectionMatrix()}if(null===h.map){const t={minFilter:_,magFilter:_,format:L};h.map=new at(r.x,r.y,t),h.map.texture.name=u.name+".shadowMap",h.camera.updateProjectionMatrix()}t.setRenderTarget(h.map),t.clear();const d=h.getViewportCount();for(let t=0;t<d;t++){const e=h.getViewport(t);c.set(a.x*e.x,a.y*e.y,a.x*e.z,a.y*e.w),p.viewport(c),h.updateMatrices(u,t),i=h.getFrustum(),M(o,s,h.camera,u,this.type)}h.isPointLightShadow||3!==this.type||y(h,s),h.needsUpdate=!1}v.needsUpdate=!1,t.setRenderTarget(l,u,h)}}function zr(t,e,n){const i=n.isWebGL2,r=new function(){let e=!1;const n=new st;let i=null;const r=new st(0,0,0,0);return{setMask:function(n){i===n||e||(t.colorMask(n,n,n,n),i=n)},setLocked:function(t){e=t},setClear:function(e,i,o,s,a){!0===a&&(e*=s,i*=s,o*=s),n.set(e,i,o,s),!1===r.equals(n)&&(t.clearColor(e,i,o,s),r.copy(n))},reset:function(){e=!1,i=null,r.set(-1,0,0,0)}}},o=new function(){let e=!1,n=null,i=null,r=null;return{setTest:function(t){t?O(2929):N(2929)},setMask:function(i){n===i||e||(t.depthMask(i),n=i)},setFunc:function(e){if(i!==e){if(e)switch(e){case 0:t.depthFunc(512);break;case 1:t.depthFunc(519);break;case 2:t.depthFunc(513);break;case 3:t.depthFunc(515);break;case 4:t.depthFunc(514);break;case 5:t.depthFunc(518);break;case 6:t.depthFunc(516);break;case 7:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);i=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,n=null,i=null,r=null}}},c=new function(){let e=!1,n=null,i=null,r=null,o=null,s=null,a=null,c=null,l=null;return{setTest:function(t){e||(t?O(2960):N(2960))},setMask:function(i){n===i||e||(t.stencilMask(i),n=i)},setFunc:function(e,n,s){i===e&&r===n&&o===s||(t.stencilFunc(e,n,s),i=e,r=n,o=s)},setOp:function(e,n,i){s===e&&a===n&&c===i||(t.stencilOp(e,n,i),s=e,a=n,c=i)},setLocked:function(t){e=t},setClear:function(e){l!==e&&(t.clearStencil(e),l=e)},reset:function(){e=!1,n=null,i=null,r=null,o=null,s=null,a=null,c=null,l=null}}};let l={},u=null,h=null,p=null,f=null,d=null,_=null,m=null,g=null,b=null,v=!1,y=null,x=null,w=null,S=null,M=null;const C=t.getParameter(35661);let T=!1,A=0;const L=t.getParameter(7938);-1!==L.indexOf("WebGL")?(A=parseFloat(/^WebGL (\d)/.exec(L)[1]),T=A>=1):-1!==L.indexOf("OpenGL ES")&&(A=parseFloat(/^OpenGL ES (\d)/.exec(L)[1]),T=A>=2);let E=null,R={};const I=new st,P=new st;function D(e,n,i){const r=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(let e=0;e<i;e++)t.texImage2D(n+e,0,6408,1,1,0,6408,5121,r);return o}const k={};function O(e){!0!==l[e]&&(t.enable(e),l[e]=!0)}function N(e){!1!==l[e]&&(t.disable(e),l[e]=!1)}k[3553]=D(3553,3553,1),k[34067]=D(34067,34069,6),r.setClear(0,0,0,1),o.setClear(1),c.setClear(0),O(2929),o.setFunc(3),U(!1),z(1),O(2884),j(0);const F={[a]:32774,101:32778,102:32779};if(i)F[103]=32775,F[104]=32776;else{const t=e.get("EXT_blend_minmax");null!==t&&(F[103]=t.MIN_EXT,F[104]=t.MAX_EXT)}const B={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function j(e,n,i,r,o,s,c,l){if(0!==e){if(h||(O(3042),h=!0),5===e)o=o||n,s=s||i,c=c||r,n===f&&o===m||(t.blendEquationSeparate(F[n],F[o]),f=n,m=o),i===d&&r===_&&s===g&&c===b||(t.blendFuncSeparate(B[i],B[r],B[s],B[c]),d=i,_=r,g=s,b=c),p=e,v=null;else if(e!==p||l!==v){if(f===a&&m===a||(t.blendEquation(32774),f=a,m=a),l)switch(e){case 1:t.blendFuncSeparate(1,771,1,771);break;case 2:t.blendFunc(1,1);break;case 3:t.blendFuncSeparate(0,0,769,771);break;case 4:t.blendFuncSeparate(0,768,0,770)}else switch(e){case 1:t.blendFuncSeparate(770,771,1,771);break;case 2:t.blendFunc(770,1);break;case 3:t.blendFunc(0,769);break;case 4:t.blendFunc(0,768)}d=null,_=null,g=null,b=null,p=e,v=l}}else h&&(N(3042),h=!1)}function U(e){y!==e&&(e?t.frontFace(2304):t.frontFace(2305),y=e)}function z(e){0!==e?(O(2884),e!==x&&(1===e?t.cullFace(1029):2===e?t.cullFace(1028):t.cullFace(1032))):N(2884),x=e}function G(e,n,i){e?(O(32823),S===n&&M===i||(t.polygonOffset(n,i),S=n,M=i)):N(32823)}function V(e){void 0===e&&(e=33984+C-1),E!==e&&(t.activeTexture(e),E=e)}return{buffers:{color:r,depth:o,stencil:c},enable:O,disable:N,useProgram:function(e){return u!==e&&(t.useProgram(e),u=e,!0)},setBlending:j,setMaterial:function(t,e){t.side===s?N(2884):O(2884);let n=1===t.side;e&&(n=!n),U(n),1===t.blending&&!1===t.transparent?j(0):j(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),o.setFunc(t.depthFunc),o.setTest(t.depthTest),o.setMask(t.depthWrite),r.setMask(t.colorWrite);const i=t.stencilWrite;c.setTest(i),i&&(c.setMask(t.stencilWriteMask),c.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),c.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),G(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:U,setCullFace:z,setLineWidth:function(e){e!==w&&(T&&t.lineWidth(e),w=e)},setPolygonOffset:G,setScissorTest:function(t){t?O(3089):N(3089)},activeTexture:V,bindTexture:function(e,n){null===E&&V();let i=R[E];void 0===i&&(i={type:void 0,texture:void 0},R[E]=i),i.type===e&&i.texture===n||(t.bindTexture(e,n||k[e]),i.type=e,i.texture=n)},unbindTexture:function(){const e=R[E];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){}},scissor:function(e){!1===I.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),I.copy(e))},viewport:function(e){!1===P.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),P.copy(e))},reset:function(){l={},E=null,R={},u=null,h=null,p=null,f=null,d=null,_=null,m=null,g=null,b=null,v=!1,y=null,x=null,w=null,S=null,M=null,r.reset(),o.reset(),c.reset()}}}function Gr(t,e,n,i,r,o,s){const a=r.isWebGL2,c=(r.maxTextures,r.maxCubemapSize),l=r.maxTextureSize,u=r.maxSamples,h=new WeakMap;let x,I=!1;try{I="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(t){}function P(t,e){return I?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function D(t,e,n,i){let r=1;if((t.width>i||t.height>i)&&(r=i/Math.max(t.width,t.height)),r<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){const i=e?$.floorPowerOfTwo:Math.floor,o=i(r*t.width),s=i(r*t.height);void 0===x&&(x=P(o,s));const a=n?P(o,s):x;return a.width=o,a.height=s,a.getContext("2d").drawImage(t,0,0,o,s),a}return t}return t}function k(t){return $.isPowerOfTwo(t.width)&&$.isPowerOfTwo(t.height)}function O(t,e){return t.generateMipmaps&&e&&t.minFilter!==_&&t.minFilter!==b}function N(e,n,r,o){t.generateMipmap(e),i.get(n).__maxMipLevel=Math.log(Math.max(r,o))*Math.LOG2E}function F(n,i,r){if(!1===a)return i;if(null!==n&&void 0!==t[n])return t[n];let o=i;return 6403===i&&(5126===r&&(o=33326),5131===r&&(o=33325),5121===r&&(o=33321)),6407===i&&(5126===r&&(o=34837),5131===r&&(o=34843),5121===r&&(o=32849)),6408===i&&(5126===r&&(o=34836),5131===r&&(o=34842),5121===r&&(o=32856)),33325!==o&&33326!==o&&34842!==o&&34836!==o||e.get("EXT_color_buffer_float"),o}function B(t){return t===_||t===m||t===g?9728:9729}function j(e){const n=e.target;n.removeEventListener("dispose",j),function(e){const n=i.get(e);void 0!==n.__webglInit&&(t.deleteTexture(n.__webglTexture),i.remove(e))}(n),n.isVideoTexture&&h.delete(n),s.memory.textures--}function U(e){const n=e.target;n.removeEventListener("dispose",U),function(e){const n=i.get(e),r=i.get(e.texture);if(e){if(void 0!==r.__webglTexture&&t.deleteTexture(r.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLCubeRenderTarget)for(let e=0;e<6;e++)t.deleteFramebuffer(n.__webglFramebuffer[e]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[e]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&t.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer&&t.deleteRenderbuffer(n.__webglColorRenderbuffer),n.__webglDepthRenderbuffer&&t.deleteRenderbuffer(n.__webglDepthRenderbuffer);i.remove(e.texture),i.remove(e)}}(n),s.memory.textures--}let z=0;function G(t,e){const r=i.get(t);if(t.isVideoTexture&&function(t){const e=s.render.frame;h.get(t)!==e&&(h.set(t,e),t.update())}(t),t.version>0&&r.__version!==t.version){const n=t.image;if(void 0===n);else if(!1!==n.complete)return void Y(r,t,e)}n.activeTexture(33984+e),n.bindTexture(3553,r.__webglTexture)}function V(e,r){const s=i.get(e);e.version>0&&s.__version!==e.version?function(e,i,r){if(6!==i.image.length)return;q(e,i),n.activeTexture(33984+r),n.bindTexture(34067,e.__webglTexture),t.pixelStorei(37440,i.flipY);const s=i&&(i.isCompressedTexture||i.image[0].isCompressedTexture),l=i.image[0]&&i.image[0].isDataTexture,u=[];for(let t=0;t<6;t++)u[t]=s||l?l?i.image[t].image:i.image[t]:D(i.image[t],!1,!0,c);const h=u[0],p=k(h)||a,f=o.convert(i.format),d=o.convert(i.type),_=F(i.internalFormat,f,d);let m;if(X(34067,i,p),s){for(let t=0;t<6;t++){m=u[t].mipmaps;for(let e=0;e<m.length;e++){const r=m[e];i.format!==L&&i.format!==A?null!==f&&n.compressedTexImage2D(34069+t,e,_,r.width,r.height,0,r.data):n.texImage2D(34069+t,e,_,r.width,r.height,0,f,d,r.data)}}e.__maxMipLevel=m.length-1}else{m=i.mipmaps;for(let t=0;t<6;t++)if(l){n.texImage2D(34069+t,0,_,u[t].width,u[t].height,0,f,d,u[t].data);for(let e=0;e<m.length;e++){const i=m[e].image[t].image;n.texImage2D(34069+t,e+1,_,i.width,i.height,0,f,d,i.data)}}else{n.texImage2D(34069+t,0,_,f,d,u[t]);for(let e=0;e<m.length;e++){const i=m[e];n.texImage2D(34069+t,e+1,_,f,d,i.image[t])}}e.__maxMipLevel=m.length}O(i,p)&&N(34067,i,h.width,h.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}(s,e,r):(n.activeTexture(33984+r),n.bindTexture(34067,s.__webglTexture))}const W={[p]:10497,[f]:33071,[d]:33648},H={[_]:9728,[m]:9984,[g]:9986,[b]:9729,[v]:9985,[y]:9987};function X(n,o,s){s?(t.texParameteri(n,10242,W[o.wrapS]),t.texParameteri(n,10243,W[o.wrapT]),32879!==n&&35866!==n||t.texParameteri(n,32882,W[o.wrapR]),t.texParameteri(n,10240,H[o.magFilter]),t.texParameteri(n,10241,H[o.minFilter])):(t.texParameteri(n,10242,33071),t.texParameteri(n,10243,33071),32879!==n&&35866!==n||t.texParameteri(n,32882,33071),o.wrapS!==f||o.wrapT,t.texParameteri(n,10240,B(o.magFilter)),t.texParameteri(n,10241,B(o.minFilter)),o.minFilter!==_&&o.minFilter);const c=e.get("EXT_texture_filter_anisotropic");if(c){if(o.type===M&&null===e.get("OES_texture_float_linear"))return;if(o.type===C&&null===(a||e.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||i.get(o).__currentAnisotropy)&&(t.texParameterf(n,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),i.get(o).__currentAnisotropy=o.anisotropy)}}function q(e,n){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",j),e.__webglTexture=t.createTexture(),s.memory.textures++)}function Y(e,i,r){let s=3553;i.isDataTexture2DArray&&(s=35866),i.isDataTexture3D&&(s=32879),q(e,i),n.activeTexture(33984+r),n.bindTexture(s,e.__webglTexture),t.pixelStorei(37440,i.flipY),t.pixelStorei(37441,i.premultiplyAlpha),t.pixelStorei(3317,i.unpackAlignment);const c=function(t){return!a&&(t.wrapS!==f||t.wrapT!==f||t.minFilter!==_&&t.minFilter!==b)}(i)&&!1===k(i.image),u=D(i.image,c,!1,l),h=k(u)||a,p=o.convert(i.format);let d,m=o.convert(i.type),g=F(i.internalFormat,p,m);X(s,i,h);const v=i.mipmaps;if(i.isDepthTexture)g=6402,a?g=i.type===M?36012:i.type===S?33190:i.type===T?35056:33189:i.type,i.format===E&&6402===g&&i.type!==w&&i.type!==S&&(i.type=w,m=o.convert(i.type)),i.format===R&&6402===g&&(g=34041,i.type!==T&&(i.type=T,m=o.convert(i.type))),n.texImage2D(3553,0,g,u.width,u.height,0,p,m,null);else if(i.isDataTexture)if(v.length>0&&h){for(let t=0,e=v.length;t<e;t++)d=v[t],n.texImage2D(3553,t,g,d.width,d.height,0,p,m,d.data);i.generateMipmaps=!1,e.__maxMipLevel=v.length-1}else n.texImage2D(3553,0,g,u.width,u.height,0,p,m,u.data),e.__maxMipLevel=0;else if(i.isCompressedTexture){for(let t=0,e=v.length;t<e;t++)d=v[t],i.format!==L&&i.format!==A?null!==p&&n.compressedTexImage2D(3553,t,g,d.width,d.height,0,d.data):n.texImage2D(3553,t,g,d.width,d.height,0,p,m,d.data);e.__maxMipLevel=v.length-1}else if(i.isDataTexture2DArray)n.texImage3D(35866,0,g,u.width,u.height,u.depth,0,p,m,u.data),e.__maxMipLevel=0;else if(i.isDataTexture3D)n.texImage3D(32879,0,g,u.width,u.height,u.depth,0,p,m,u.data),e.__maxMipLevel=0;else if(v.length>0&&h){for(let t=0,e=v.length;t<e;t++)d=v[t],n.texImage2D(3553,t,g,p,m,d);i.generateMipmaps=!1,e.__maxMipLevel=v.length-1}else n.texImage2D(3553,0,g,p,m,u),e.__maxMipLevel=0;O(i,h)&&N(s,i,u.width,u.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}function Z(e,r,s,a){const c=o.convert(r.texture.format),l=o.convert(r.texture.type),u=F(r.texture.internalFormat,c,l);n.texImage2D(a,0,u,r.width,r.height,0,c,l,null),t.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,s,a,i.get(r.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function J(e,n,i){if(t.bindRenderbuffer(36161,e),n.depthBuffer&&!n.stencilBuffer){let r=33189;if(i){const e=n.depthTexture;e&&e.isDepthTexture&&(e.type===M?r=36012:e.type===S&&(r=33190));const i=Q(n);t.renderbufferStorageMultisample(36161,i,r,n.width,n.height)}else t.renderbufferStorage(36161,r,n.width,n.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(n.depthBuffer&&n.stencilBuffer){if(i){const e=Q(n);t.renderbufferStorageMultisample(36161,e,35056,n.width,n.height)}else t.renderbufferStorage(36161,34041,n.width,n.height);t.framebufferRenderbuffer(36160,33306,36161,e)}else{const e=o.convert(n.texture.format),r=o.convert(n.texture.type),s=F(n.texture.internalFormat,e,r);if(i){const e=Q(n);t.renderbufferStorageMultisample(36161,e,s,n.width,n.height)}else t.renderbufferStorage(36161,s,n.width,n.height)}t.bindRenderbuffer(36161,null)}function K(e){const n=i.get(e),r=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),G(n.depthTexture,0);const r=i.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===E)t.framebufferTexture2D(36160,36096,3553,r,0);else{if(n.depthTexture.format!==R)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,r,0)}}(n.__webglFramebuffer,e)}else if(r){n.__webglDepthbuffer=[];for(let i=0;i<6;i++)t.bindFramebuffer(36160,n.__webglFramebuffer[i]),n.__webglDepthbuffer[i]=t.createRenderbuffer(),J(n.__webglDepthbuffer[i],e,!1)}else t.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),J(n.__webglDepthbuffer,e,!1);t.bindFramebuffer(36160,null)}function Q(t){return a&&t.isWebGLMultisampleRenderTarget?Math.min(u,t.samples):0}let tt=!1,et=!1;this.allocateTextureUnit=function(){const t=z;return z+=1,t},this.resetTextureUnits=function(){z=0},this.setTexture2D=G,this.setTexture2DArray=function(t,e){const r=i.get(t);t.version>0&&r.__version!==t.version?Y(r,t,e):(n.activeTexture(33984+e),n.bindTexture(35866,r.__webglTexture))},this.setTexture3D=function(t,e){const r=i.get(t);t.version>0&&r.__version!==t.version?Y(r,t,e):(n.activeTexture(33984+e),n.bindTexture(32879,r.__webglTexture))},this.setTextureCube=V,this.setupRenderTarget=function(e){const r=i.get(e),c=i.get(e.texture);e.addEventListener("dispose",U),c.__webglTexture=t.createTexture(),s.memory.textures++;const l=!0===e.isWebGLCubeRenderTarget,u=!0===e.isWebGLMultisampleRenderTarget,h=k(e)||a;if(!a||e.texture.format!==A||e.texture.type!==M&&e.texture.type!==C||(e.texture.format=L),l){r.__webglFramebuffer=[];for(let e=0;e<6;e++)r.__webglFramebuffer[e]=t.createFramebuffer()}else if(r.__webglFramebuffer=t.createFramebuffer(),u&&a){r.__webglMultisampledFramebuffer=t.createFramebuffer(),r.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,r.__webglColorRenderbuffer);const n=o.convert(e.texture.format),i=o.convert(e.texture.type),s=F(e.texture.internalFormat,n,i),a=Q(e);t.renderbufferStorageMultisample(36161,a,s,e.width,e.height),t.bindFramebuffer(36160,r.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,r.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(r.__webglDepthRenderbuffer=t.createRenderbuffer(),J(r.__webglDepthRenderbuffer,e,!0)),t.bindFramebuffer(36160,null)}if(l){n.bindTexture(34067,c.__webglTexture),X(34067,e.texture,h);for(let t=0;t<6;t++)Z(r.__webglFramebuffer[t],e,36064,34069+t);O(e.texture,h)&&N(34067,e.texture,e.width,e.height),n.bindTexture(34067,null)}else n.bindTexture(3553,c.__webglTexture),X(3553,e.texture,h),Z(r.__webglFramebuffer,e,36064,3553),O(e.texture,h)&&N(3553,e.texture,e.width,e.height),n.bindTexture(3553,null);e.depthBuffer&&K(e)},this.updateRenderTargetMipmap=function(t){const e=t.texture;if(O(e,k(t)||a)){const r=t.isWebGLCubeRenderTarget?34067:3553,o=i.get(e).__webglTexture;n.bindTexture(r,o),N(r,e,t.width,t.height),n.bindTexture(r,null)}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget&&a){const n=i.get(e);t.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,n.__webglFramebuffer);const r=e.width,o=e.height;let s=16384;e.depthBuffer&&(s|=256),e.stencilBuffer&&(s|=1024),t.blitFramebuffer(0,0,r,o,0,0,r,o,s,9728),t.bindFramebuffer(36160,n.__webglMultisampledFramebuffer)}},this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===tt&&(tt=!0),t=t.texture),G(t,e)},this.safeSetTextureCube=function(t,e){t&&t.isWebGLCubeRenderTarget&&(!1===et&&(et=!0),t=t.texture),V(t,e)}}function Vr(t,e,n){const i=n.isWebGL2;return{convert:function(t){let n;if(t===x)return 5121;if(1017===t)return 32819;if(1018===t)return 32820;if(1019===t)return 33635;if(1010===t)return 5120;if(1011===t)return 5122;if(t===w)return 5123;if(1013===t)return 5124;if(t===S)return 5125;if(t===M)return 5126;if(t===C)return i?5131:(n=e.get("OES_texture_half_float"),null!==n?n.HALF_FLOAT_OES:null);if(1021===t)return 6406;if(t===A)return 6407;if(t===L)return 6408;if(1024===t)return 6409;if(1025===t)return 6410;if(t===E)return 6402;if(t===R)return 34041;if(1028===t)return 6403;if(1029===t)return 36244;if(1030===t)return 33319;if(1031===t)return 33320;if(1032===t)return 36248;if(1033===t)return 36249;if(33776===t||33777===t||33778===t||33779===t){if(n=e.get("WEBGL_compressed_texture_s3tc"),null===n)return null;if(33776===t)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===t)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===t)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===t)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===t||35841===t||35842===t||35843===t){if(n=e.get("WEBGL_compressed_texture_pvrtc"),null===n)return null;if(35840===t)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===t)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===t)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===t)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===t)return n=e.get("WEBGL_compressed_texture_etc1"),null!==n?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===t||37496===t)&&(n=e.get("WEBGL_compressed_texture_etc"),null!==n)){if(37492===t)return n.COMPRESSED_RGB8_ETC2;if(37496===t)return n.COMPRESSED_RGBA8_ETC2_EAC}return 37808===t||37809===t||37810===t||37811===t||37812===t||37813===t||37814===t||37815===t||37816===t||37817===t||37818===t||37819===t||37820===t||37821===t||37840===t||37841===t||37842===t||37843===t||37844===t||37845===t||37846===t||37847===t||37848===t||37849===t||37850===t||37851===t||37852===t||37853===t?(n=e.get("WEBGL_compressed_texture_astc"),null!==n?t:null):36492===t?(n=e.get("EXT_texture_compression_bptc"),null!==n?t:null):t===T?i?34042:(n=e.get("WEBGL_depth_texture"),null!==n?n.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}function Wr(t=[]){kn.call(this),this.cameras=t}function Hr(){le.call(this),this.type="Group"}function Xr(){this._targetRay=null,this._grip=null,this._hand=null}function qr(t,e){const n=this;let i=null,r=1,o=null,s="local-floor",a=null;const c=[],l=new Map,u=new kn;u.layers.enable(1),u.viewport=new st;const h=new kn;h.layers.enable(2),h.viewport=new st;const p=[u,h],f=new Wr;f.layers.enable(1),f.layers.enable(2);let d=null,_=null;function m(t){const e=l.get(t.inputSource);e&&e.dispatchEvent({type:t.type,data:t.inputSource})}function g(){l.forEach((function(t,e){t.disconnect(e)})),l.clear(),t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),M.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function b(t){o=t,M.setContext(i),M.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}function v(t){const e=i.inputSources;for(let t=0;t<c.length;t++)l.set(e[t],c[t]);for(let e=0;e<t.removed.length;e++){const n=t.removed[e],i=l.get(n);i&&(i.dispatchEvent({type:"disconnected",data:n}),l.delete(n))}for(let e=0;e<t.added.length;e++){const n=t.added[e],i=l.get(n);i&&i.dispatchEvent({type:"connected",data:n})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(t){let e=c[t];return void 0===e&&(e=new Xr,c[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){let e=c[t];return void 0===e&&(e=new Xr,c[t]=e),e.getGripSpace()},this.getHand=function(t){let e=c[t];return void 0===e&&(e=new Xr,c[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){r=t,n.isPresenting},this.setReferenceSpaceType=function(t){s=t,n.isPresenting},this.getReferenceSpace=function(){return o},this.getSession=function(){return i},this.setSession=function(t){if(i=t,null!==i){i.addEventListener("select",m),i.addEventListener("selectstart",m),i.addEventListener("selectend",m),i.addEventListener("squeeze",m),i.addEventListener("squeezestart",m),i.addEventListener("squeezeend",m),i.addEventListener("end",g);const t=e.getContextAttributes();!0!==t.xrCompatible&&e.makeXRCompatible();const n={antialias:t.antialias,alpha:t.alpha,depth:t.depth,stencil:t.stencil,framebufferScaleFactor:r},o=new XRWebGLLayer(i,e,n);i.updateRenderState({baseLayer:o}),i.requestReferenceSpace(s).then(b),i.addEventListener("inputsourceschange",v)}};const y=new ut,x=new ut;function w(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}this.getCamera=function(t){f.near=h.near=u.near=t.near,f.far=h.far=u.far=t.far,d===f.near&&_===f.far||(i.updateRenderState({depthNear:f.near,depthFar:f.far}),d=f.near,_=f.far);const e=t.parent,n=f.cameras;w(f,e);for(let t=0;t<n.length;t++)w(n[t],e);t.matrixWorld.copy(f.matrixWorld);const r=t.children;for(let t=0,e=r.length;t<e;t++)r[t].updateMatrixWorld(!0);return 2===n.length?function(t,e,n){y.setFromMatrixPosition(e.matrixWorld),x.setFromMatrixPosition(n.matrixWorld);const i=y.distanceTo(x),r=e.projectionMatrix.elements,o=n.projectionMatrix.elements,s=r[14]/(r[10]-1),a=r[14]/(r[10]+1),c=(r[9]+1)/r[5],l=(r[9]-1)/r[5],u=(r[8]-1)/r[0],h=(o[8]+1)/o[0],p=s*u,f=s*h,d=i/(-u+h),_=d*-u;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(_),t.translateZ(d),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();const m=s+d,g=a+d,b=p-_,v=f+(i-_),w=c*a/g*m,S=l*a/g*m;t.projectionMatrix.makePerspective(b,v,w,S,m,g)}(f,u,h):f.projectionMatrix.copy(u.projectionMatrix),f};let S=null;const M=new Vn;M.setAnimationLoop((function(e,n){if(a=n.getViewerPose(o),null!==a){const e=a.views,n=i.renderState.baseLayer;t.setFramebuffer(n.framebuffer);let r=!1;e.length!==f.cameras.length&&(f.cameras.length=0,r=!0);for(let t=0;t<e.length;t++){const i=e[t],o=n.getViewport(i),s=p[t];s.matrix.fromArray(i.transform.matrix),s.projectionMatrix.fromArray(i.projectionMatrix),s.viewport.set(o.x,o.y,o.width,o.height),0===t&&f.matrix.copy(s.matrix),!0===r&&f.cameras.push(s)}}const r=i.inputSources;for(let t=0;t<c.length;t++){const e=c[t],i=r[t];e.update(i,n,o)}S&&S(e,n)})),this.setAnimationLoop=function(t){S=t},this.dispose=function(){}}function Yr(t){function e(e,n){e.opacity.value=n.opacity,n.color&&e.diffuse.value.copy(n.color),n.emissive&&e.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(e.map.value=n.map),n.alphaMap&&(e.alphaMap.value=n.alphaMap),n.specularMap&&(e.specularMap.value=n.specularMap);const i=t.get(n).envMap;if(i){e.envMap.value=i,e.flipEnvMap.value=i.isCubeTexture&&i._needsFlipEnvMap?-1:1,e.reflectivity.value=n.reflectivity,e.refractionRatio.value=n.refractionRatio;const r=t.get(i).__maxMipLevel;void 0!==r&&(e.maxMipLevel.value=r)}let r,o;n.lightMap&&(e.lightMap.value=n.lightMap,e.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(e.aoMap.value=n.aoMap,e.aoMapIntensity.value=n.aoMapIntensity),n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.roughnessMap?r=n.roughnessMap:n.metalnessMap?r=n.metalnessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap?r=n.emissiveMap:n.clearcoatMap?r=n.clearcoatMap:n.clearcoatNormalMap?r=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(r=n.clearcoatRoughnessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix)),n.aoMap?o=n.aoMap:n.lightMap&&(o=n.lightMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),e.uv2Transform.value.copy(o.matrix))}function n(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(e.emissiveMap.value=n.emissiveMap),n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,1===n.side&&(e.bumpScale.value*=-1)),n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),1===n.side&&e.normalScale.value.negate()),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias),t.get(n).envMap&&(e.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)},refreshMaterialUniforms:function(t,i,r,o){i.isMeshBasicMaterial?e(t,i):i.isMeshLambertMaterial?(e(t,i),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(t,i)):i.isMeshToonMaterial?(e(t,i),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshPhongMaterial?(e(t,i),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshStandardMaterial?(e(t,i),i.isMeshPhysicalMaterial?function(t,e){n(t,e),t.reflectivity.value=e.reflectivity,t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&&t.sheen.value.copy(e.sheen),e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap),e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,1===e.side&&t.clearcoatNormalScale.value.negate()),t.transmission.value=e.transmission,e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap)}(t,i):n(t,i)):i.isMeshMatcapMaterial?(e(t,i),function(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshDepthMaterial?(e(t,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshDistanceMaterial?(e(t,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(t,i)):i.isMeshNormalMaterial?(e(t,i),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(t,i),i.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,i)):i.isPointsMaterial?function(t,e,n,i){let r;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*n,t.scale.value=.5*i,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?r=e.map:e.alphaMap&&(r=e.alphaMap),void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix))}(t,i,r,o):i.isSpriteMaterial?function(t,e){let n;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?n=e.map:e.alphaMap&&(n=e.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}(t,i):i.isShadowMaterial?(t.color.value.copy(i.color),t.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function Zr(t){const e=void 0!==(t=t||{}).canvas?t.canvas:function(){const t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return t.style.display="block",t}(),n=void 0!==t.context?t.context:null,i=void 0!==t.alpha&&t.alpha,r=void 0===t.depth||t.depth,o=void 0===t.stencil||t.stencil,s=void 0!==t.antialias&&t.antialias,a=void 0===t.premultipliedAlpha||t.premultipliedAlpha,c=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,l=void 0!==t.powerPreference?t.powerPreference:"default",u=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat;let h=null,p=null;const f=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=U,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const d=this;let _=!1,m=null,g=0,b=0,v=null,y=null,w=-1,S=null;const T=new st,A=new st;let E=null,R=e.width,I=e.height,P=1,D=null,k=null;const O=new st(0,0,R,I),N=new st(0,0,R,I);let F=!1;const B=new Gn;let j=!1,z=!1;const G=new Bt,V=new ut,W={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function H(){return null===v?P:1}let X,q,Y,Z,J,K,tt,et,nt,it,rt,ot,at,ct,lt,ht,pt,ft,dt,_t,mt,gt=n;function bt(t,n){for(let i=0;i<t.length;i++){const r=t[i],o=e.getContext(r,n);if(null!==o)return o}return null}try{const t={alpha:i,depth:r,stencil:o,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:c,powerPreference:l,failIfMajorPerformanceCaveat:u};if(e.addEventListener("webglcontextlost",wt,!1),e.addEventListener("webglcontextrestored",St,!1),null===gt){const e=["webgl2","webgl","experimental-webgl"];if(!0===d.isWebGL1Renderer&&e.shift(),gt=bt(e,t),null===gt)throw bt(e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===gt.getShaderPrecisionFormat&&(gt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){throw t}function vt(){X=new ei(gt),q=new $n(gt,X,t),!1===q.isWebGL2&&(X.get("WEBGL_depth_texture"),X.get("OES_texture_float"),X.get("OES_texture_half_float"),X.get("OES_texture_half_float_linear"),X.get("OES_standard_derivatives"),X.get("OES_element_index_uint"),X.get("OES_vertex_array_object"),X.get("ANGLE_instanced_arrays")),X.get("OES_texture_float_linear"),_t=new Vr(gt,X,q),Y=new zr(gt,X,q),Y.scissor(A.copy(N).multiplyScalar(P).floor()),Y.viewport(T.copy(O).multiplyScalar(P).floor()),Z=new ri(gt),J=new Ar,K=new Gr(gt,X,Y,J,q,_t,Z),tt=new ti(d),et=new Wn(gt,q),mt=new Jn(gt,X,et,q),nt=new ni(gt,et,Z,mt),it=new ci(gt,nt,et,Z),pt=new ai(gt),lt=new Qn(J),rt=new Tr(d,tt,X,q,mt,lt),ot=new Yr(J),at=new Ir(J),ct=new Fr(X,q),ht=new Zn(d,tt,Y,it,a),ft=new Kn(gt,X,Z,q),dt=new ii(gt,X,Z,q),Z.programs=rt.programs,d.capabilities=q,d.extensions=X,d.properties=J,d.renderLists=at,d.state=Y,d.info=Z}vt();const yt=new qr(d,gt);this.xr=yt;const xt=new Ur(d,it,q.maxTextureSize);function wt(t){t.preventDefault(),_=!0}function St(){_=!1,vt()}function Mt(t){const e=t.target;e.removeEventListener("dispose",Mt),function(t){Ct(t),J.remove(t)}(e)}function Ct(t){const e=J.get(t).program;void 0!==e&&rt.releaseProgram(e)}this.shadowMap=xt,this.getContext=function(){return gt},this.getContextAttributes=function(){return gt.getContextAttributes()},this.forceContextLoss=function(){const t=X.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){const t=X.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return P},this.setPixelRatio=function(t){void 0!==t&&(P=t,this.setSize(R,I,!1))},this.getSize=function(t){return void 0===t&&(t=new Q),t.set(R,I)},this.setSize=function(t,n,i){yt.isPresenting||(R=t,I=n,e.width=Math.floor(t*P),e.height=Math.floor(n*P),!1!==i&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return void 0===t&&(t=new Q),t.set(R*P,I*P).floor()},this.setDrawingBufferSize=function(t,n,i){R=t,I=n,P=i,e.width=Math.floor(t*i),e.height=Math.floor(n*i),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return void 0===t&&(t=new st),t.copy(T)},this.getViewport=function(t){return t.copy(O)},this.setViewport=function(t,e,n,i){t.isVector4?O.set(t.x,t.y,t.z,t.w):O.set(t,e,n,i),Y.viewport(T.copy(O).multiplyScalar(P).floor())},this.getScissor=function(t){return t.copy(N)},this.setScissor=function(t,e,n,i){t.isVector4?N.set(t.x,t.y,t.z,t.w):N.set(t,e,n,i),Y.scissor(A.copy(N).multiplyScalar(P).floor())},this.getScissorTest=function(){return F},this.setScissorTest=function(t){Y.setScissorTest(F=t)},this.setOpaqueSort=function(t){D=t},this.setTransparentSort=function(t){k=t},this.getClearColor=function(t){return void 0===t&&(t=new Ie),t.copy(ht.getClearColor())},this.setClearColor=function(){ht.setClearColor.apply(ht,arguments)},this.getClearAlpha=function(){return ht.getClearAlpha()},this.setClearAlpha=function(){ht.setClearAlpha.apply(ht,arguments)},this.clear=function(t,e,n){let i=0;(void 0===t||t)&&(i|=16384),(void 0===e||e)&&(i|=256),(void 0===n||n)&&(i|=1024),gt.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",wt,!1),e.removeEventListener("webglcontextrestored",St,!1),at.dispose(),ct.dispose(),J.dispose(),tt.dispose(),it.dispose(),mt.dispose(),yt.dispose(),At.stop()},this.renderBufferImmediate=function(t,e){mt.initAttributes();const n=J.get(t);t.hasPositions&&!n.position&&(n.position=gt.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=gt.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=gt.createBuffer()),t.hasColors&&!n.color&&(n.color=gt.createBuffer());const i=e.getAttributes();t.hasPositions&&(gt.bindBuffer(34962,n.position),gt.bufferData(34962,t.positionArray,35048),mt.enableAttribute(i.position),gt.vertexAttribPointer(i.position,3,5126,!1,0,0)),t.hasNormals&&(gt.bindBuffer(34962,n.normal),gt.bufferData(34962,t.normalArray,35048),mt.enableAttribute(i.normal),gt.vertexAttribPointer(i.normal,3,5126,!1,0,0)),t.hasUvs&&(gt.bindBuffer(34962,n.uv),gt.bufferData(34962,t.uvArray,35048),mt.enableAttribute(i.uv),gt.vertexAttribPointer(i.uv,2,5126,!1,0,0)),t.hasColors&&(gt.bindBuffer(34962,n.color),gt.bufferData(34962,t.colorArray,35048),mt.enableAttribute(i.color),gt.vertexAttribPointer(i.color,3,5126,!1,0,0)),mt.disableUnusedAttributes(),gt.drawArrays(4,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,i,r,o){null===e&&(e=W);const s=r.isMesh&&r.matrixWorld.determinant()<0,a=Pt(t,e,i,r);Y.setMaterial(i,s);let c=n.index;const l=n.attributes.position;if(null===c){if(void 0===l||0===l.count)return}else if(0===c.count)return;let u,h=1;!0===i.wireframe&&(c=nt.getWireframeAttribute(n),h=2),(i.morphTargets||i.morphNormals)&&pt.update(r,n,i,a),mt.setup(r,i,a,n,c);let p=ft;null!==c&&(u=et.get(c),p=dt,p.setIndex(u));const f=null!==c?c.count:l.count,d=n.drawRange.start*h,_=n.drawRange.count*h,m=null!==o?o.start*h:0,g=null!==o?o.count*h:Infinity,b=Math.max(d,m),v=Math.min(f,d+_,m+g)-1,y=Math.max(0,v-b+1);if(0!==y){if(r.isMesh)!0===i.wireframe?(Y.setLineWidth(i.wireframeLinewidth*H()),p.setMode(1)):p.setMode(4);else if(r.isLine){let t=i.linewidth;void 0===t&&(t=1),Y.setLineWidth(t*H()),r.isLineSegments?p.setMode(1):r.isLineLoop?p.setMode(2):p.setMode(3)}else r.isPoints?p.setMode(0):r.isSprite&&p.setMode(4);if(r.isInstancedMesh)p.renderInstances(b,y,r.count);else if(n.isInstancedBufferGeometry){const t=Math.min(n.instanceCount,n._maxInstanceCount);p.renderInstances(b,y,t)}else p.render(b,y)}},this.compile=function(t,e){p=ct.get(t),p.init(),t.traverseVisible((function(t){t.isLight&&t.layers.test(e.layers)&&(p.pushLight(t),t.castShadow&&p.pushShadow(t))})),p.setupLights();const n=new WeakMap;t.traverse((function(e){const i=e.material;if(i)if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];!1===n.has(o)&&(It(o,t,e),n.set(o))}else!1===n.has(i)&&(It(i,t,e),n.set(i))}))};let Tt=null;const At=new Vn;function Lt(t,e,n,i){if(!1===t.visible)return;if(t.layers.test(e.layers))if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)p.pushLight(t),t.castShadow&&p.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||B.intersectsSprite(t)){i&&V.setFromMatrixPosition(t.matrixWorld).applyMatrix4(G);const e=it.update(t),r=t.material;r.visible&&h.push(t,e,r,n,V.z,null)}}else if(t.isImmediateRenderObject)i&&V.setFromMatrixPosition(t.matrixWorld).applyMatrix4(G),h.push(t,null,t.material,n,V.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==Z.render.frame&&(t.skeleton.update(),t.skeleton.frame=Z.render.frame),!t.frustumCulled||B.intersectsObject(t))){i&&V.setFromMatrixPosition(t.matrixWorld).applyMatrix4(G);const e=it.update(t),r=t.material;if(Array.isArray(r)){const i=e.groups;for(let o=0,s=i.length;o<s;o++){const s=i[o],a=r[s.materialIndex];a&&a.visible&&h.push(t,e,a,n,V.z,s)}}else r.visible&&h.push(t,e,r,n,V.z,null)}const r=t.children;for(let t=0,o=r.length;t<o;t++)Lt(r[t],e,n,i)}function Et(t,e,n){const i=!0===e.isScene?e.overrideMaterial:null;for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.object,a=o.geometry,c=null===i?o.material:i,l=o.group;if(n.isArrayCamera){const t=n.cameras;for(let n=0,i=t.length;n<i;n++){const i=t[n];s.layers.test(i.layers)&&(Y.viewport(T.copy(i.viewport)),p.setupLightsView(i),Rt(s,e,i,a,c,l))}}else Rt(s,e,n,a,c,l)}}function Rt(t,e,n,i,r,o){if(t.onBeforeRender(d,e,n,i,r,o),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){const i=Pt(n,e,r,t);Y.setMaterial(r),mt.reset(),function(t,e){t.render((function(t){d.renderBufferImmediate(t,e)}))}(t,i)}else d.renderBufferDirect(n,e,i,r,t,o);t.onAfterRender(d,e,n,i,r,o)}function It(t,e,n){!0!==e.isScene&&(e=W);const i=J.get(t),r=p.state.lights,o=p.state.shadowsArray,s=r.state.version,a=rt.getParameters(t,r.state,o,e,n),c=rt.getProgramCacheKey(a);let l=i.program,u=!0;if(void 0===l)t.addEventListener("dispose",Mt);else if(l.cacheKey!==c)Ct(t);else if(i.lightsStateVersion!==s)u=!1;else{if(void 0!==a.shaderID){const n=t.isMeshStandardMaterial?e.environment:null;return void(i.envMap=tt.get(t.envMap||n))}u=!1}u&&(a.uniforms=rt.getUniforms(t),t.onBeforeCompile(a,d),l=rt.acquireProgram(a,c),i.program=l,i.uniforms=a.uniforms,i.outputEncoding=a.outputEncoding);const h=i.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(i.numClippingPlanes=lt.numPlanes,i.numIntersection=lt.numIntersection,h.clippingPlanes=lt.uniform),i.environment=t.isMeshStandardMaterial?e.environment:null,i.fog=e.fog,i.envMap=tt.get(t.envMap||i.environment),i.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),i.lightsStateVersion=s,i.needsLights&&(h.ambientLightColor.value=r.state.ambient,h.lightProbe.value=r.state.probe,h.directionalLights.value=r.state.directional,h.directionalLightShadows.value=r.state.directionalShadow,h.spotLights.value=r.state.spot,h.spotLightShadows.value=r.state.spotShadow,h.rectAreaLights.value=r.state.rectArea,h.ltc_1.value=r.state.rectAreaLTC1,h.ltc_2.value=r.state.rectAreaLTC2,h.pointLights.value=r.state.point,h.pointLightShadows.value=r.state.pointShadow,h.hemisphereLights.value=r.state.hemi,h.directionalShadowMap.value=r.state.directionalShadowMap,h.directionalShadowMatrix.value=r.state.directionalShadowMatrix,h.spotShadowMap.value=r.state.spotShadowMap,h.spotShadowMatrix.value=r.state.spotShadowMatrix,h.pointShadowMap.value=r.state.pointShadowMap,h.pointShadowMatrix.value=r.state.pointShadowMatrix);const f=i.program.getUniforms(),_=or.seqWithValue(f.seq,h);i.uniformsList=_}function Pt(t,e,n,i){!0!==e.isScene&&(e=W),K.resetTextureUnits();const r=e.fog,o=n.isMeshStandardMaterial?e.environment:null,s=null===v?d.outputEncoding:v.texture.encoding,a=tt.get(n.envMap||o),c=J.get(n),l=p.state.lights;if(!0===j&&(!0===z||t!==S)){const e=t===S&&n.id===w;lt.setState(n,t,e)}n.version===c.__version?n.fog&&c.fog!==r||c.environment!==o||c.needsLights&&c.lightsStateVersion!==l.state.version?It(n,e,i):void 0===c.numClippingPlanes||c.numClippingPlanes===lt.numPlanes&&c.numIntersection===lt.numIntersection?(c.outputEncoding!==s||c.envMap!==a)&&It(n,e,i):It(n,e,i):(It(n,e,i),c.__version=n.version);let u=!1,h=!1,f=!1;const _=c.program,m=_.getUniforms(),g=c.uniforms;if(Y.useProgram(_.program)&&(u=!0,h=!0,f=!0),n.id!==w&&(w=n.id,h=!0),u||S!==t){if(m.setValue(gt,"projectionMatrix",t.projectionMatrix),q.logarithmicDepthBuffer&&m.setValue(gt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),S!==t&&(S=t,h=!0,f=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){const e=m.map.cameraPosition;void 0!==e&&e.setValue(gt,V.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&m.setValue(gt,"isOrthographic",!0===t.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&m.setValue(gt,"viewMatrix",t.matrixWorldInverse)}if(n.skinning){m.setOptional(gt,i,"bindMatrix"),m.setOptional(gt,i,"bindMatrixInverse");const t=i.skeleton;if(t){const e=t.bones;if(q.floatVertexTextures){if(null===t.boneTexture){let n=Math.sqrt(4*e.length);n=$.ceilPowerOfTwo(n),n=Math.max(n,4);const i=new Float32Array(n*n*4);i.set(t.boneMatrices);const r=new jn(i,n,n,L,M);t.boneMatrices=i,t.boneTexture=r,t.boneTextureSize=n}m.setValue(gt,"boneTexture",t.boneTexture,K),m.setValue(gt,"boneTextureSize",t.boneTextureSize)}else m.setOptional(gt,t,"boneMatrices")}}var b,y;return(h||c.receiveShadow!==i.receiveShadow)&&(c.receiveShadow=i.receiveShadow,m.setValue(gt,"receiveShadow",i.receiveShadow)),h&&(m.setValue(gt,"toneMappingExposure",d.toneMappingExposure),c.needsLights&&(y=f,(b=g).ambientLightColor.needsUpdate=y,b.lightProbe.needsUpdate=y,b.directionalLights.needsUpdate=y,b.directionalLightShadows.needsUpdate=y,b.pointLights.needsUpdate=y,b.pointLightShadows.needsUpdate=y,b.spotLights.needsUpdate=y,b.spotLightShadows.needsUpdate=y,b.rectAreaLights.needsUpdate=y,b.hemisphereLights.needsUpdate=y),r&&n.fog&&ot.refreshFogUniforms(g,r),ot.refreshMaterialUniforms(g,n,P,I),or.upload(gt,c.uniformsList,g,K)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(or.upload(gt,c.uniformsList,g,K),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&m.setValue(gt,"center",i.center),m.setValue(gt,"modelViewMatrix",i.modelViewMatrix),m.setValue(gt,"normalMatrix",i.normalMatrix),m.setValue(gt,"modelMatrix",i.matrixWorld),_}At.setAnimationLoop((function(t){yt.isPresenting||Tt&&Tt(t)})),"undefined"!=typeof window&&At.setContext(window),this.setAnimationLoop=function(t){Tt=t,yt.setAnimationLoop(t),null===t?At.stop():At.start()},this.render=function(t,e){let n,i;if(void 0!==arguments[2]&&(n=arguments[2]),void 0!==arguments[3]&&(i=arguments[3]),void 0!==e&&!0!==e.isCamera)return;if(!0===_)return;mt.resetDefaultState(),w=-1,S=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),!0===yt.enabled&&!0===yt.isPresenting&&(e=yt.getCamera(e)),!0===t.isScene&&t.onBeforeRender(d,t,e,n||v),p=ct.get(t,f.length),p.init(),f.push(p),G.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),B.setFromProjectionMatrix(G),z=this.localClippingEnabled,j=lt.init(this.clippingPlanes,z,e),h=at.get(t,e),h.init(),Lt(t,e,0,d.sortObjects),h.finish(),!0===d.sortObjects&&h.sort(D,k),!0===j&&lt.beginShadows();const r=p.state.shadowsArray;xt.render(r,t,e),p.setupLights(),p.setupLightsView(e),!0===j&&lt.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),ht.render(h,t,e,i);const o=h.opaque,s=h.transparent;o.length>0&&Et(o,t,e),s.length>0&&Et(s,t,e),!0===t.isScene&&t.onAfterRender(d,t,e),null!==v&&(K.updateRenderTargetMipmap(v),K.updateMultisampleRenderTarget(v)),Y.buffers.depth.setTest(!0),Y.buffers.depth.setMask(!0),Y.buffers.color.setMask(!0),Y.setPolygonOffset(!1),f.pop(),p=f.length>0?f[f.length-1]:null,h=null},this.setFramebuffer=function(t){m!==t&&null===v&&gt.bindFramebuffer(36160,t),m=t},this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return b},this.getRenderList=function(){return h},this.setRenderList=function(t){h=t},this.getRenderTarget=function(){return v},this.setRenderTarget=function(t,e=0,n=0){v=t,g=e,b=n,t&&void 0===J.get(t).__webglFramebuffer&&K.setupRenderTarget(t);let i=m,r=!1;if(t){const n=J.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(i=n[e],r=!0):i=t.isWebGLMultisampleRenderTarget?J.get(t).__webglMultisampledFramebuffer:n,T.copy(t.viewport),A.copy(t.scissor),E=t.scissorTest}else T.copy(O).multiplyScalar(P).floor(),A.copy(N).multiplyScalar(P).floor(),E=F;if(y!==i&&(gt.bindFramebuffer(36160,i),y=i),Y.viewport(T),Y.scissor(A),Y.setScissorTest(E),r){const i=J.get(t.texture);gt.framebufferTexture2D(36160,36064,34069+e,i.__webglTexture,n)}},this.readRenderTargetPixels=function(t,e,n,i,r,o,s){if(!t||!t.isWebGLRenderTarget)return;let a=J.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==s&&(a=a[s]),a){let s=!1;a!==y&&(gt.bindFramebuffer(36160,a),s=!0);try{const a=t.texture,c=a.format,l=a.type;if(c!==L&&_t.convert(c)!==gt.getParameter(35739))return;if(!(l===x||_t.convert(l)===gt.getParameter(35738)||l===M&&(q.isWebGL2||X.get("OES_texture_float")||X.get("WEBGL_color_buffer_float"))||l===C&&(q.isWebGL2?X.get("EXT_color_buffer_float"):X.get("EXT_color_buffer_half_float"))))return;36053===gt.checkFramebufferStatus(36160)&&e>=0&&e<=t.width-i&&n>=0&&n<=t.height-r&&gt.readPixels(e,n,i,r,_t.convert(c),_t.convert(l),o)}finally{s&&gt.bindFramebuffer(36160,y)}}},this.copyFramebufferToTexture=function(t,e,n=0){const i=Math.pow(2,-n),r=Math.floor(e.image.width*i),o=Math.floor(e.image.height*i),s=_t.convert(e.format);K.setTexture2D(e,0),gt.copyTexImage2D(3553,n,s,t.x,t.y,r,o,0),Y.unbindTexture()},this.copyTextureToTexture=function(t,e,n,i=0){const r=e.image.width,o=e.image.height,s=_t.convert(n.format),a=_t.convert(n.type);K.setTexture2D(n,0),gt.pixelStorei(37440,n.flipY),gt.pixelStorei(37441,n.premultiplyAlpha),gt.pixelStorei(3317,n.unpackAlignment),e.isDataTexture?gt.texSubImage2D(3553,i,t.x,t.y,r,o,s,a,e.image.data):e.isCompressedTexture?gt.compressedTexSubImage2D(3553,i,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,s,e.mipmaps[0].data):gt.texSubImage2D(3553,i,t.x,t.y,s,a,e.image),0===i&&n.generateMipmaps&&gt.generateMipmap(3553),Y.unbindTexture()},this.initTexture=function(t){K.setTexture2D(t,0),Y.unbindTexture()},this.resetState=function(){Y.reset(),mt.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Jr(t){Zr.call(this,t)}Br.prototype=Object.create(ke.prototype),Br.prototype.constructor=Br,Br.prototype.isMeshDepthMaterial=!0,Br.prototype.copy=function(t){return ke.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},jr.prototype=Object.create(ke.prototype),jr.prototype.constructor=jr,jr.prototype.isMeshDistanceMaterial=!0,jr.prototype.copy=function(t){return ke.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},Wr.prototype=Object.assign(Object.create(kn.prototype),{constructor:Wr,isArrayCamera:!0}),Hr.prototype=Object.assign(Object.create(le.prototype),{constructor:Hr,isGroup:!0}),Object.assign(Xr.prototype,{constructor:Xr,getHandSpace:function(){if(null===this._hand&&(this._hand=new Hr,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(let t=0;t<=window.XRHand.LITTLE_PHALANX_TIP;t++){const t=new Hr;t.matrixAutoUpdate=!1,t.visible=!1,this._hand.joints.push(t),this._hand.add(t)}return this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new Hr,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new Hr,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this},disconnect:function(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(t,e,n){let i=null,r=null,o=null;const s=this._targetRay,a=this._grip,c=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState)if(c&&t.hand){o=!0;for(let i=0;i<=window.XRHand.LITTLE_PHALANX_TIP;i++)if(t.hand[i]){const r=e.getJointPose(t.hand[i],n),o=c.joints[i];null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.jointRadius=r.radius),o.visible=null!==r;const s=c.joints[window.XRHand.INDEX_PHALANX_TIP],a=c.joints[window.XRHand.THUMB_PHALANX_TIP],l=s.position.distanceTo(a.position),u=.02,h=.005;c.inputState.pinching&&l>u+h?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!c.inputState.pinching&&l<=u-h&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}}else null!==s&&(i=e.getPose(t.targetRaySpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale))),null!==a&&t.gripSpace&&(r=e.getPose(t.gripSpace,n),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale)));return null!==s&&(s.visible=null!==i),null!==a&&(a.visible=null!==r),null!==c&&(c.visible=null!==o),this}}),Object.assign(qr.prototype,Z.prototype),Jr.prototype=Object.assign(Object.create(Zr.prototype),{constructor:Jr,isWebGL1Renderer:!0});class Kr extends le{constructor(){super(),Object.defineProperty(this,"isScene",{value:!0}),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.environment&&(e.object.environment=this.environment.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}function $r(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=X,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=$.generateUUID()}Object.defineProperty($r.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign($r.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(let i=0,r=this.stride;i<r;i++)this.array[t+i]=e.array[n+i];return this},set:function(t,e=0){return this.array.set(t,e),this},clone:function(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=$.generateUUID()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new $r(new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),this.stride);return e.setUsage(this.usage),e},onUpload:function(t){return this.onUploadCallback=t,this},toJSON:function(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=$.generateUUID()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const Qr=new ut;function to(t,e,n,i){this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===i}function eo(t){ke.call(this),this.type="SpriteMaterial",this.color=new Ie(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}let no;Object.defineProperties(to.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(t){this.data.needsUpdate=t}}}),Object.assign(to.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(t){for(let e=0,n=this.data.count;e<n;e++)Qr.x=this.getX(e),Qr.y=this.getY(e),Qr.z=this.getZ(e),Qr.applyMatrix4(t),this.setXYZ(e,Qr.x,Qr.y,Qr.z);return this},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=r,this},clone:function(t){if(void 0===t){const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return new Be(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new to(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(t){if(void 0===t){const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),eo.prototype=Object.create(ke.prototype),eo.prototype.constructor=eo,eo.prototype.isSpriteMaterial=!0,eo.prototype.copy=function(t){return ke.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this};const io=new ut,ro=new ut,oo=new ut,so=new Q,ao=new Q,co=new Bt,lo=new ut,uo=new ut,ho=new ut,po=new Q,fo=new Q,_o=new Q;function mo(t){if(le.call(this),this.type="Sprite",void 0===no){no=new an;const t=new $r(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);no.setIndex([0,1,2,0,2,3]),no.setAttribute("position",new to(t,3,0,!1)),no.setAttribute("uv",new to(t,2,3,!1))}this.geometry=no,this.material=void 0!==t?t:new eo,this.center=new Q(.5,.5)}function go(t,e,n,i,r,o){so.subVectors(t,n).addScalar(.5).multiply(i),void 0!==r?(ao.x=o*so.x-r*so.y,ao.y=r*so.x+o*so.y):ao.copy(so),t.copy(e),t.x+=ao.x,t.y+=ao.y,t.applyMatrix4(co)}mo.prototype=Object.assign(Object.create(le.prototype),{constructor:mo,isSprite:!0,raycast:function(t,e){t.camera,ro.setFromMatrixScale(this.matrixWorld),co.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),oo.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&ro.multiplyScalar(-oo.z);const n=this.material.rotation;let i,r;0!==n&&(r=Math.cos(n),i=Math.sin(n));const o=this.center;go(lo.set(-.5,-.5,0),oo,o,ro,i,r),go(uo.set(.5,-.5,0),oo,o,ro,i,r),go(ho.set(.5,.5,0),oo,o,ro,i,r),po.set(0,0),fo.set(1,0),_o.set(1,1);let s=t.ray.intersectTriangle(lo,uo,ho,!1,io);if(null===s&&(go(uo.set(-.5,.5,0),oo,o,ro,i,r),fo.set(0,1),s=t.ray.intersectTriangle(lo,ho,uo,!1,io),null===s))return;const a=t.ray.origin.distanceTo(io);a<t.near||a>t.far||e.push({distance:a,point:io.clone(),uv:Me.getUV(io,lo,uo,ho,po,fo,_o,new Q),face:null,object:this})},copy:function(t){return le.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}});const bo=new ut,vo=new ut;function yo(){le.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}yo.prototype=Object.assign(Object.create(le.prototype),{constructor:yo,isLOD:!0,copy:function(t){le.prototype.copy.call(this,t,!1);const e=t.levels;for(let t=0,n=e.length;t<n;t++){const n=e[t];this.addLevel(n.object.clone(),n.distance)}return this.autoUpdate=t.autoUpdate,this},addLevel:function(t,e=0){e=Math.abs(e);const n=this.levels;let i;for(i=0;i<n.length&&!(e<n[i].distance);i++);return n.splice(i,0,{distance:e,object:t}),this.add(t),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(t){const e=this.levels;if(e.length>0){let n,i;for(n=1,i=e.length;n<i&&!(t<e[n].distance);n++);return e[n-1].object}return null},raycast:function(t,e){if(this.levels.length>0){bo.setFromMatrixPosition(this.matrixWorld);const n=t.ray.origin.distanceTo(bo);this.getObjectForDistance(n).raycast(t,e)}},update:function(t){const e=this.levels;if(e.length>1){bo.setFromMatrixPosition(t.matrixWorld),vo.setFromMatrixPosition(this.matrixWorld);const n=bo.distanceTo(vo)/t.zoom;let i,r;for(e[0].object.visible=!0,i=1,r=e.length;i<r&&n>=e[i].distance;i++)e[i-1].object.visible=!1,e[i].object.visible=!0;for(this._currentLevel=i-1;i<r;i++)e[i].object.visible=!1}},toJSON:function(t){const e=le.prototype.toJSON.call(this,t);!1===this.autoUpdate&&(e.object.autoUpdate=!1),e.object.levels=[];const n=this.levels;for(let t=0,i=n.length;t<i;t++){const i=n[t];e.object.levels.push({object:i.object.uuid,distance:i.distance})}return e}});const xo=new ut,wo=new st,So=new st,Mo=new ut,Co=new Bt;function To(t,e){t&&t.isGeometry,Cn.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Bt,this.bindMatrixInverse=new Bt}function Ao(){le.call(this),this.type="Bone"}To.prototype=Object.assign(Object.create(Cn.prototype),{constructor:To,isSkinnedMesh:!0,copy:function(t){return Cn.prototype.copy.call(this,t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const t=new st,e=this.geometry.attributes.skinWeight;for(let n=0,i=e.count;n<i;n++){t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.w=e.getW(n);const i=1/t.manhattanLength();Infinity!==i?t.multiplyScalar(i):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){Cn.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode&&this.bindMatrixInverse.copy(this.bindMatrix).invert()},boneTransform:function(t,e){const n=this.skeleton,i=this.geometry;wo.fromBufferAttribute(i.attributes.skinIndex,t),So.fromBufferAttribute(i.attributes.skinWeight,t),xo.fromBufferAttribute(i.attributes.position,t).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let t=0;t<4;t++){const i=So.getComponent(t);if(0!==i){const r=wo.getComponent(t);Co.multiplyMatrices(n.bones[r].matrixWorld,n.boneInverses[r]),e.addScaledVector(Mo.copy(xo).applyMatrix4(Co),i)}}return e.applyMatrix4(this.bindMatrixInverse)}}),Ao.prototype=Object.assign(Object.create(le.prototype),{constructor:Ao,isBone:!0});const Lo=new Bt,Eo=new Bt;function Ro(t=[],e=[]){this.uuid=$.generateUUID(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}Object.assign(Ro.prototype,{init:function(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){this.boneInverses=[];for(let t=0,e=this.bones.length;t<e;t++)this.boneInverses.push(new Bt)}},calculateInverses:function(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const e=new Bt;this.bones[t]&&e.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(e)}},pose:function(){for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&e.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&(e.parent&&e.parent.isBone?(e.matrix.copy(e.parent.matrixWorld).invert(),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))}},update:function(){const t=this.bones,e=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let i=0,r=t.length;i<r;i++){const r=t[i]?t[i].matrixWorld:Eo;Lo.multiplyMatrices(r,e[i]),Lo.toArray(n,16*i)}null!==i&&(i.needsUpdate=!0)},clone:function(){return new Ro(this.bones,this.boneInverses)},getBoneByName:function(t){for(let e=0,n=this.bones.length;e<n;e++){const n=this.bones[e];if(n.name===t)return n}},dispose:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)},fromJSON:function(t,e){this.uuid=t.uuid;for(let n=0,i=t.bones.length;n<i;n++){let i=e[t.bones[n]];void 0===i&&(i=new Ao),this.bones.push(i),this.boneInverses.push((new Bt).fromArray(t.boneInverses[n]))}return this.init(),this},toJSON:function(){const t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,n=this.boneInverses;for(let i=0,r=e.length;i<r;i++){const r=e[i];t.bones.push(r.uuid);const o=n[i];t.boneInverses.push(o.toArray())}return t}});const Io=new Bt,Po=new Bt,Do=[],ko=new Cn;function Oo(t,e,n){Cn.call(this,t,e),this.instanceMatrix=new Be(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}function No(t){ke.call(this),this.type="LineBasicMaterial",this.color=new Ie(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(t)}Oo.prototype=Object.assign(Object.create(Cn.prototype),{constructor:Oo,isInstancedMesh:!0,copy:function(t){return Cn.prototype.copy.call(this,t),this.instanceMatrix.copy(t.instanceMatrix),this.count=t.count,this},getColorAt:function(t,e){e.fromArray(this.instanceColor.array,3*t)},getMatrixAt:function(t,e){e.fromArray(this.instanceMatrix.array,16*t)},raycast:function(t,e){const n=this.matrixWorld,i=this.count;if(ko.geometry=this.geometry,ko.material=this.material,void 0!==ko.material)for(let r=0;r<i;r++){this.getMatrixAt(r,Io),Po.multiplyMatrices(n,Io),ko.matrixWorld=Po,ko.raycast(t,Do);for(let t=0,n=Do.length;t<n;t++){const n=Do[t];n.instanceId=r,n.object=this,e.push(n)}Do.length=0}},setColorAt:function(t,e){null===this.instanceColor&&(this.instanceColor=new Be(new Float32Array(3*this.count),3)),e.toArray(this.instanceColor.array,3*t)},setMatrixAt:function(t,e){e.toArray(this.instanceMatrix.array,16*t)},updateMorphTargets:function(){},dispose:function(){this.dispatchEvent({type:"dispose"})}}),No.prototype=Object.create(ke.prototype),No.prototype.constructor=No,No.prototype.isLineBasicMaterial=!0,No.prototype.copy=function(t){return ke.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.morphTargets=t.morphTargets,this};const Fo=new ut,Bo=new ut,jo=new Bt,Uo=new Ft,zo=new Et;function Go(t=new an,e=new No){le.call(this),this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}Go.prototype=Object.assign(Object.create(le.prototype),{constructor:Go,isLine:!0,copy:function(t){return le.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},computeLineDistances:function(){const t=this.geometry;if(t.isBufferGeometry){if(null===t.index){const e=t.attributes.position,n=[0];for(let t=1,i=e.count;t<i;t++)Fo.fromBufferAttribute(e,t-1),Bo.fromBufferAttribute(e,t),n[t]=n[t-1],n[t]+=Fo.distanceTo(Bo);t.setAttribute("lineDistance",new qe(n,1))}}else if(t.isGeometry){const e=t.vertices,n=t.lineDistances;n[0]=0;for(let t=1,i=e.length;t<i;t++)n[t]=n[t-1],n[t]+=e[t-1].distanceTo(e[t])}return this},raycast:function(t,e){const n=this.geometry,i=this.matrixWorld,r=t.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),zo.copy(n.boundingSphere),zo.applyMatrix4(i),zo.radius+=r,!1===t.ray.intersectsSphere(zo))return;jo.copy(i).invert(),Uo.copy(t.ray).applyMatrix4(jo);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,a=new ut,c=new ut,l=new ut,u=new ut,h=this.isLineSegments?2:1;if(n.isBufferGeometry){const i=n.index,r=n.attributes.position;if(null!==i){const n=i.array;for(let i=0,o=n.length-1;i<o;i+=h){const o=n[i],h=n[i+1];if(a.fromBufferAttribute(r,o),c.fromBufferAttribute(r,h),Uo.distanceSqToSegment(a,c,u,l)>s)continue;u.applyMatrix4(this.matrixWorld);const p=t.ray.origin.distanceTo(u);p<t.near||p>t.far||e.push({distance:p,point:l.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}else for(let n=0,i=r.count-1;n<i;n+=h){if(a.fromBufferAttribute(r,n),c.fromBufferAttribute(r,n+1),Uo.distanceSqToSegment(a,c,u,l)>s)continue;u.applyMatrix4(this.matrixWorld);const i=t.ray.origin.distanceTo(u);i<t.near||i>t.far||e.push({distance:i,point:l.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}else if(n.isGeometry){const i=n.vertices,r=i.length;for(let n=0;n<r-1;n+=h){if(Uo.distanceSqToSegment(i[n],i[n+1],u,l)>s)continue;u.applyMatrix4(this.matrixWorld);const r=t.ray.origin.distanceTo(u);r<t.near||r>t.far||e.push({distance:r,point:l.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length}}});const Vo=new ut,Wo=new ut;function Ho(t,e){Go.call(this,t,e),this.type="LineSegments"}function Xo(t,e){Go.call(this,t,e),this.type="LineLoop"}function qo(t){ke.call(this),this.type="PointsMaterial",this.color=new Ie(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(t)}Ho.prototype=Object.assign(Object.create(Go.prototype),{constructor:Ho,isLineSegments:!0,computeLineDistances:function(){const t=this.geometry;if(t.isBufferGeometry){if(null===t.index){const e=t.attributes.position,n=[];for(let t=0,i=e.count;t<i;t+=2)Vo.fromBufferAttribute(e,t),Wo.fromBufferAttribute(e,t+1),n[t]=0===t?0:n[t-1],n[t+1]=n[t]+Vo.distanceTo(Wo);t.setAttribute("lineDistance",new qe(n,1))}}else if(t.isGeometry){const e=t.vertices,n=t.lineDistances;for(let t=0,i=e.length;t<i;t+=2)Vo.copy(e[t]),Wo.copy(e[t+1]),n[t]=0===t?0:n[t-1],n[t+1]=n[t]+Vo.distanceTo(Wo)}return this}}),Xo.prototype=Object.assign(Object.create(Go.prototype),{constructor:Xo,isLineLoop:!0}),qo.prototype=Object.create(ke.prototype),qo.prototype.constructor=qo,qo.prototype.isPointsMaterial=!0,qo.prototype.copy=function(t){return ke.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this};const Yo=new Bt,Zo=new Ft,Jo=new Et,Ko=new ut;function $o(t=new an,e=new qo){le.call(this),this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}function Qo(t,e,n,i,r,o,s){const a=Zo.distanceSqToPoint(t);if(a<n){const n=new ut;Zo.closestPointToPoint(t,n),n.applyMatrix4(i);const c=r.ray.origin.distanceTo(n);if(c<r.near||c>r.far)return;o.push({distance:c,distanceToRay:Math.sqrt(a),point:n,index:e,face:null,object:s})}}function ts(t,e,n,i,r,o,s,a,c){rt.call(this,t,e,n,i,r,o,s,a,c),this.format=void 0!==s?s:A,this.minFilter=void 0!==o?o:b,this.magFilter=void 0!==r?r:b,this.generateMipmaps=!1;const l=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback((function e(){l.needsUpdate=!0,t.requestVideoFrameCallback(e)}))}function es(t,e,n,i,r,o,s,a,c,l,u,h){rt.call(this,null,o,s,a,c,l,i,r,u,h),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function ns(t,e,n,i,r,o,s,a,c){rt.call(this,t,e,n,i,r,o,s,a,c),this.needsUpdate=!0}function is(t,e,n,i,r,o,s,a,c,l){if((l=void 0!==l?l:E)!==E&&l!==R)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&l===E&&(n=w),void 0===n&&l===R&&(n=T),rt.call(this,null,i,r,o,s,a,l,n,c),this.image={width:t,height:e},this.magFilter=void 0!==s?s:_,this.minFilter=void 0!==a?a:_,this.flipY=!1,this.generateMipmaps=!1}$o.prototype=Object.assign(Object.create(le.prototype),{constructor:$o,isPoints:!0,copy:function(t){return le.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},raycast:function(t,e){const n=this.geometry,i=this.matrixWorld,r=t.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Jo.copy(n.boundingSphere),Jo.applyMatrix4(i),Jo.radius+=r,!1===t.ray.intersectsSphere(Jo))return;Yo.copy(i).invert(),Zo.copy(t.ray).applyMatrix4(Yo);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o;if(n.isBufferGeometry){const r=n.index,o=n.attributes.position;if(null!==r){const n=r.array;for(let r=0,a=n.length;r<a;r++){const a=n[r];Ko.fromBufferAttribute(o,a),Qo(Ko,a,s,i,t,e,this)}}else for(let n=0,r=o.count;n<r;n++)Ko.fromBufferAttribute(o,n),Qo(Ko,n,s,i,t,e,this)}else{const r=n.vertices;for(let n=0,o=r.length;n<o;n++)Qo(r[n],n,s,i,t,e,this)}},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length}}}),ts.prototype=Object.assign(Object.create(rt.prototype),{constructor:ts,clone:function(){return new this.constructor(this.image).copy(this)},isVideoTexture:!0,update:function(){const t=this.image;!1=="requestVideoFrameCallback"in t&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),es.prototype=Object.create(rt.prototype),es.prototype.constructor=es,es.prototype.isCompressedTexture=!0,ns.prototype=Object.create(rt.prototype),ns.prototype.constructor=ns,ns.prototype.isCanvasTexture=!0,is.prototype=Object.create(rt.prototype),is.prototype.constructor=is,is.prototype.isDepthTexture=!0;let rs=0;const os=new Bt,ss=new le,as=new ut;function cs(){Object.defineProperty(this,"id",{value:rs+=2}),this.uuid=$.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}cs.prototype=Object.assign(Object.create(Z.prototype),{constructor:cs,isGeometry:!0,applyMatrix4:function(t){const e=(new tt).getNormalMatrix(t);for(let e=0,n=this.vertices.length;e<n;e++)this.vertices[e].applyMatrix4(t);for(let t=0,n=this.faces.length;t<n;t++){const n=this.faces[t];n.normal.applyMatrix3(e).normalize();for(let t=0,i=n.vertexNormals.length;t<i;t++)n.vertexNormals[t].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(t){return os.makeRotationX(t),this.applyMatrix4(os),this},rotateY:function(t){return os.makeRotationY(t),this.applyMatrix4(os),this},rotateZ:function(t){return os.makeRotationZ(t),this.applyMatrix4(os),this},translate:function(t,e,n){return os.makeTranslation(t,e,n),this.applyMatrix4(os),this},scale:function(t,e,n){return os.makeScale(t,e,n),this.applyMatrix4(os),this},lookAt:function(t){return ss.lookAt(t),ss.updateMatrix(),this.applyMatrix4(ss.matrix),this},fromBufferGeometry:function(t){const e=this,n=null!==t.index?t.index:void 0,i=t.attributes;if(void 0===i.position)return this;const r=i.position,o=i.normal,s=i.color,a=i.uv,c=i.uv2;void 0!==c&&(this.faceVertexUvs[1]=[]);for(let t=0;t<r.count;t++)e.vertices.push((new ut).fromBufferAttribute(r,t)),void 0!==s&&e.colors.push((new Ie).fromBufferAttribute(s,t));function l(t,n,i,r){const l=void 0===s?[]:[e.colors[t].clone(),e.colors[n].clone(),e.colors[i].clone()],u=void 0===o?[]:[(new ut).fromBufferAttribute(o,t),(new ut).fromBufferAttribute(o,n),(new ut).fromBufferAttribute(o,i)],h=new Pe(t,n,i,u,l,r);e.faces.push(h),void 0!==a&&e.faceVertexUvs[0].push([(new Q).fromBufferAttribute(a,t),(new Q).fromBufferAttribute(a,n),(new Q).fromBufferAttribute(a,i)]),void 0!==c&&e.faceVertexUvs[1].push([(new Q).fromBufferAttribute(c,t),(new Q).fromBufferAttribute(c,n),(new Q).fromBufferAttribute(c,i)])}const u=t.groups;if(u.length>0)for(let t=0;t<u.length;t++){const e=u[t],i=e.start;for(let t=i,r=i+e.count;t<r;t+=3)void 0!==n?l(n.getX(t),n.getX(t+1),n.getX(t+2),e.materialIndex):l(t,t+1,t+2,e.materialIndex)}else if(void 0!==n)for(let t=0;t<n.count;t+=3)l(n.getX(t),n.getX(t+1),n.getX(t+2));else for(let t=0;t<r.count;t+=3)l(t,t+1,t+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(as).negate(),this.translate(as.x,as.y,as.z),this},normalize:function(){this.computeBoundingSphere();const t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,i=new Bt;return i.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix4(i),this},computeFaceNormals:function(){const t=new ut,e=new ut;for(let n=0,i=this.faces.length;n<i;n++){const i=this.faces[n],r=this.vertices[i.a],o=this.vertices[i.b],s=this.vertices[i.c];t.subVectors(s,o),e.subVectors(r,o),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t=!0){const e=new Array(this.vertices.length);for(let t=0,n=this.vertices.length;t<n;t++)e[t]=new ut;if(t){const t=new ut,n=new ut;for(let i=0,r=this.faces.length;i<r;i++){const r=this.faces[i],o=this.vertices[r.a],s=this.vertices[r.b],a=this.vertices[r.c];t.subVectors(a,s),n.subVectors(o,s),t.cross(n),e[r.a].add(t),e[r.b].add(t),e[r.c].add(t)}}else{this.computeFaceNormals();for(let t=0,n=this.faces.length;t<n;t++){const n=this.faces[t];e[n.a].add(n.normal),e[n.b].add(n.normal),e[n.c].add(n.normal)}}for(let t=0,n=this.vertices.length;t<n;t++)e[t].normalize();for(let t=0,n=this.faces.length;t<n;t++){const n=this.faces[t],i=n.vertexNormals;3===i.length?(i[0].copy(e[n.a]),i[1].copy(e[n.b]),i[2].copy(e[n.c])):(i[0]=e[n.a].clone(),i[1]=e[n.b].clone(),i[2]=e[n.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t],n=e.vertexNormals;3===n.length?(n[0].copy(e.normal),n[1].copy(e.normal),n[2].copy(e.normal)):(n[0]=e.normal.clone(),n[1]=e.normal.clone(),n[2]=e.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t];e.__originalFaceNormal?e.__originalFaceNormal.copy(e.normal):e.__originalFaceNormal=e.normal.clone(),e.__originalVertexNormals||(e.__originalVertexNormals=[]);for(let t=0,n=e.vertexNormals.length;t<n;t++)e.__originalVertexNormals[t]?e.__originalVertexNormals[t].copy(e.vertexNormals[t]):e.__originalVertexNormals[t]=e.vertexNormals[t].clone()}const t=new cs;t.faces=this.faces;for(let e=0,n=this.morphTargets.length;e<n;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];const t=this.morphNormals[e].faceNormals,n=this.morphNormals[e].vertexNormals;for(let e=0,i=this.faces.length;e<i;e++){const e=new ut,i={a:new ut,b:new ut,c:new ut};t.push(e),n.push(i)}}const n=this.morphNormals[e];t.vertices=this.morphTargets[e].vertices,t.computeFaceNormals(),t.computeVertexNormals();for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t],i=n.faceNormals[t],r=n.vertexNormals[t];i.copy(e.normal),r.a.copy(e.vertexNormals[0]),r.b.copy(e.vertexNormals[1]),r.c.copy(e.vertexNormals[2])}}for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t];e.normal=e.__originalFaceNormal,e.vertexNormals=e.__originalVertexNormals}},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new ft),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Et),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n=0){if(!t||!t.isGeometry)return;let i;const r=this.vertices.length,o=this.vertices,s=t.vertices,a=this.faces,c=t.faces,l=this.colors,u=t.colors;void 0!==e&&(i=(new tt).getNormalMatrix(e));for(let t=0,n=s.length;t<n;t++){const n=s[t].clone();void 0!==e&&n.applyMatrix4(e),o.push(n)}for(let t=0,e=u.length;t<e;t++)l.push(u[t].clone());for(let t=0,e=c.length;t<e;t++){const e=c[t];let o,s;const l=e.vertexNormals,u=e.vertexColors,h=new Pe(e.a+r,e.b+r,e.c+r);h.normal.copy(e.normal),void 0!==i&&h.normal.applyMatrix3(i).normalize();for(let t=0,e=l.length;t<e;t++)o=l[t].clone(),void 0!==i&&o.applyMatrix3(i).normalize(),h.vertexNormals.push(o);h.color.copy(e.color);for(let t=0,e=u.length;t<e;t++)s=u[t],h.vertexColors.push(s.clone());h.materialIndex=e.materialIndex+n,a.push(h)}for(let e=0,n=t.faceVertexUvs.length;e<n;e++){const n=t.faceVertexUvs[e];void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]);for(let t=0,i=n.length;t<i;t++){const i=n[t],r=[];for(let t=0,e=i.length;t<e;t++)r.push(i[t].clone());this.faceVertexUvs[e].push(r)}}},mergeMesh:function(t){t&&t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix))},mergeVertices:function(t=4){const e={},n=[],i=[],r=Math.pow(10,t);for(let t=0,o=this.vertices.length;t<o;t++){const o=this.vertices[t],s=Math.round(o.x*r)+"_"+Math.round(o.y*r)+"_"+Math.round(o.z*r);void 0===e[s]?(e[s]=t,n.push(this.vertices[t]),i[t]=n.length-1):i[t]=i[e[s]]}const o=[];for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t];e.a=i[e.a],e.b=i[e.b],e.c=i[e.c];const n=[e.a,e.b,e.c];for(let e=0;e<3;e++)if(n[e]===n[(e+1)%3]){o.push(t);break}}for(let t=o.length-1;t>=0;t--){const e=o[t];this.faces.splice(e,1);for(let t=0,n=this.faceVertexUvs.length;t<n;t++)this.faceVertexUvs[t].splice(e,1)}const s=this.vertices.length-n.length;return this.vertices=n,s},setFromPoints:function(t){this.vertices=[];for(let e=0,n=t.length;e<n;e++){const n=t[e];this.vertices.push(new ut(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){const t=this.faces,e=t.length;for(let n=0;n<e;n++)t[n]._id=n;t.sort((function(t,e){return t.materialIndex-e.materialIndex}));const n=this.faceVertexUvs[0],i=this.faceVertexUvs[1];let r,o;n&&n.length===e&&(r=[]),i&&i.length===e&&(o=[]);for(let s=0;s<e;s++){const e=t[s]._id;r&&r.push(n[e]),o&&o.push(i[e])}r&&(this.faceVertexUvs[0]=r),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){const t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){const e=this.parameters;for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}const e=[];for(let t=0;t<this.vertices.length;t++){const n=this.vertices[t];e.push(n.x,n.y,n.z)}const n=[],i=[],r={},o=[],s={},a=[],c={};for(let t=0;t<this.faces.length;t++){const e=this.faces[t],i=!0,r=!1,o=void 0!==this.faceVertexUvs[0][t],s=e.normal.length()>0,a=e.vertexNormals.length>0,c=1!==e.color.r||1!==e.color.g||1!==e.color.b,f=e.vertexColors.length>0;let d=0;if(d=l(d,0,0),d=l(d,1,i),d=l(d,2,r),d=l(d,3,o),d=l(d,4,s),d=l(d,5,a),d=l(d,6,c),d=l(d,7,f),n.push(d),n.push(e.a,e.b,e.c),n.push(e.materialIndex),o){const e=this.faceVertexUvs[0][t];n.push(p(e[0]),p(e[1]),p(e[2]))}if(s&&n.push(u(e.normal)),a){const t=e.vertexNormals;n.push(u(t[0]),u(t[1]),u(t[2]))}if(c&&n.push(h(e.color)),f){const t=e.vertexColors;n.push(h(t[0]),h(t[1]),h(t[2]))}}function l(t,e,n){return n?t|1<<e:t&~(1<<e)}function u(t){const e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==r[e]||(r[e]=i.length/3,i.push(t.x,t.y,t.z)),r[e]}function h(t){const e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==s[e]||(s[e]=o.length,o.push(t.getHex())),s[e]}function p(t){const e=t.x.toString()+t.y.toString();return void 0!==c[e]||(c[e]=a.length/2,a.push(t.x,t.y)),c[e]}return t.data={},t.data.vertices=e,t.data.normals=i,o.length>0&&(t.data.colors=o),a.length>0&&(t.data.uvs=[a]),t.data.faces=n,t},clone:function(){return(new cs).copy(this)},copy:function(t){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;const e=t.vertices;for(let t=0,n=e.length;t<n;t++)this.vertices.push(e[t].clone());const n=t.colors;for(let t=0,e=n.length;t<e;t++)this.colors.push(n[t].clone());const i=t.faces;for(let t=0,e=i.length;t<e;t++)this.faces.push(i[t].clone());for(let e=0,n=t.faceVertexUvs.length;e<n;e++){const n=t.faceVertexUvs[e];void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]);for(let t=0,i=n.length;t<i;t++){const i=n[t],r=[];for(let t=0,e=i.length;t<e;t++){const e=i[t];r.push(e.clone())}this.faceVertexUvs[e].push(r)}}const r=t.morphTargets;for(let t=0,e=r.length;t<e;t++){const e={};if(e.name=r[t].name,void 0!==r[t].vertices){e.vertices=[];for(let n=0,i=r[t].vertices.length;n<i;n++)e.vertices.push(r[t].vertices[n].clone())}if(void 0!==r[t].normals){e.normals=[];for(let n=0,i=r[t].normals.length;n<i;n++)e.normals.push(r[t].normals[n].clone())}this.morphTargets.push(e)}const o=t.morphNormals;for(let t=0,e=o.length;t<e;t++){const e={};if(void 0!==o[t].vertexNormals){e.vertexNormals=[];for(let n=0,i=o[t].vertexNormals.length;n<i;n++){const i=o[t].vertexNormals[n],r={};r.a=i.a.clone(),r.b=i.b.clone(),r.c=i.c.clone(),e.vertexNormals.push(r)}}if(void 0!==o[t].faceNormals){e.faceNormals=[];for(let n=0,i=o[t].faceNormals.length;n<i;n++)e.faceNormals.push(o[t].faceNormals[n].clone())}this.morphNormals.push(e)}const s=t.skinWeights;for(let t=0,e=s.length;t<e;t++)this.skinWeights.push(s[t].clone());const a=t.skinIndices;for(let t=0,e=a.length;t<e;t++)this.skinIndices.push(a[t].clone());const c=t.lineDistances;for(let t=0,e=c.length;t<e;t++)this.lineDistances.push(c[t]);const l=t.boundingBox;null!==l&&(this.boundingBox=l.clone());const u=t.boundingSphere;return null!==u&&(this.boundingSphere=u.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),new ut,new ut,new ut,new Me;const ls=function(t,e,n){n=n||2;const i=e&&e.length,r=i?e[0]*n:t.length;let o=us(t,0,r,n,!0);const s=[];if(!o||o.next===o.prev)return s;let a,c,l,u,h,p,f;if(i&&(o=function(t,e,n,i){const r=[];let o,s,a,c,l;for(o=0,s=e.length;o<s;o++)a=e[o]*i,c=o<s-1?e[o+1]*i:t.length,l=us(t,a,c,i,!1),l===l.next&&(l.steiner=!0),r.push(xs(l));for(r.sort(gs),o=0;o<r.length;o++)bs(r[o],n),n=hs(n,n.next);return n}(t,e,o,n)),t.length>80*n){a=l=t[0],c=u=t[1];for(let e=n;e<r;e+=n)h=t[e],p=t[e+1],h<a&&(a=h),p<c&&(c=p),h>l&&(l=h),p>u&&(u=p);f=Math.max(l-a,u-c),f=0!==f?1/f:0}return ps(o,s,n,a,c,f),s};function us(t,e,n,i,r){let o,s;if(r===function(t,e,n,i){let r=0;for(let o=e,s=n-i;o<n;o+=i)r+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return r}(t,e,n,i)>0)for(o=e;o<n;o+=i)s=Is(o,t[o],t[o+1],s);else for(o=n-i;o>=e;o-=i)s=Is(o,t[o],t[o+1],s);return s&&Cs(s,s.next)&&(Ps(s),s=s.next),s}function hs(t,e){if(!t)return t;e||(e=t);let n,i=t;do{if(n=!1,i.steiner||!Cs(i,i.next)&&0!==Ms(i.prev,i,i.next))i=i.next;else{if(Ps(i),i=e=i.prev,i===i.next)break;n=!0}}while(n||i!==e);return e}function ps(t,e,n,i,r,o,s){if(!t)return;!s&&o&&function(t,e,n,i){let r=t;do{null===r.z&&(r.z=ys(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){let e,n,i,r,o,s,a,c,l=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,i=n,a=0,e=0;e<l&&(a++,i=i.nextZ,i);e++);for(c=l;a>0||c>0&&i;)0!==a&&(0===c||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,c--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,l*=2}while(s>1)}(r)}(t,i,r,o);let a,c,l=t;for(;t.prev!==t.next;)if(a=t.prev,c=t.next,o?ds(t,i,r,o):fs(t))e.push(a.i/n),e.push(t.i/n),e.push(c.i/n),Ps(t),t=c.next,l=c.next;else if((t=c)===l){s?1===s?ps(t=_s(hs(t),e,n),e,n,i,r,o,2):2===s&&ms(t,e,n,i,r,o):ps(hs(t),e,n,i,r,o,1);break}}function fs(t){const e=t.prev,n=t,i=t.next;if(Ms(e,n,i)>=0)return!1;let r=t.next.next;for(;r!==t.prev;){if(ws(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&Ms(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function ds(t,e,n,i){const r=t.prev,o=t,s=t.next;if(Ms(r,o,s)>=0)return!1;const a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,c=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,l=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,u=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,h=ys(a,c,e,n,i),p=ys(l,u,e,n,i);let f=t.prevZ,d=t.nextZ;for(;f&&f.z>=h&&d&&d.z<=p;){if(f!==t.prev&&f!==t.next&&ws(r.x,r.y,o.x,o.y,s.x,s.y,f.x,f.y)&&Ms(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,d!==t.prev&&d!==t.next&&ws(r.x,r.y,o.x,o.y,s.x,s.y,d.x,d.y)&&Ms(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;f&&f.z>=h;){if(f!==t.prev&&f!==t.next&&ws(r.x,r.y,o.x,o.y,s.x,s.y,f.x,f.y)&&Ms(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;d&&d.z<=p;){if(d!==t.prev&&d!==t.next&&ws(r.x,r.y,o.x,o.y,s.x,s.y,d.x,d.y)&&Ms(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function _s(t,e,n){let i=t;do{const r=i.prev,o=i.next.next;!Cs(r,o)&&Ts(r,i,i.next,o)&&Es(r,o)&&Es(o,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(o.i/n),Ps(i),Ps(i.next),i=t=o),i=i.next}while(i!==t);return hs(i)}function ms(t,e,n,i,r,o){let s=t;do{let t=s.next.next;for(;t!==s.prev;){if(s.i!==t.i&&Ss(s,t)){let a=Rs(s,t);return s=hs(s,s.next),a=hs(a,a.next),ps(s,e,n,i,r,o),void ps(a,e,n,i,r,o)}t=t.next}s=s.next}while(s!==t)}function gs(t,e){return t.x-e.x}function bs(t,e){if(e=function(t,e){let n=e;const i=t.x,r=t.y;let o,s=-Infinity;do{if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const t=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(t<=i&&t>s){if(s=t,t===i){if(r===n.y)return n;if(r===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!o)return null;if(i===s)return o;const a=o,c=o.x,l=o.y;let u,h=Infinity;n=o;do{i>=n.x&&n.x>=c&&i!==n.x&&ws(r<l?i:s,r,c,l,r<l?s:i,r,n.x,n.y)&&(u=Math.abs(r-n.y)/(i-n.x),Es(n,t)&&(u<h||u===h&&(n.x>o.x||n.x===o.x&&vs(o,n)))&&(o=n,h=u)),n=n.next}while(n!==a);return o}(t,e)){const n=Rs(e,t);hs(e,e.next),hs(n,n.next)}}function vs(t,e){return Ms(t.prev,t,e.prev)<0&&Ms(e.next,t,t.next)<0}function ys(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function xs(t){let e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function ws(t,e,n,i,r,o,s,a){return(r-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(r-s)*(i-a)>=0}function Ss(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Ts(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(Es(t,e)&&Es(e,t)&&function(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)&&(Ms(t.prev,t,e.prev)||Ms(t,e.prev,e))||Cs(t,e)&&Ms(t.prev,t,t.next)>0&&Ms(e.prev,e,e.next)>0)}function Ms(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Cs(t,e){return t.x===e.x&&t.y===e.y}function Ts(t,e,n,i){const r=Ls(Ms(t,e,n)),o=Ls(Ms(t,e,i)),s=Ls(Ms(n,i,t)),a=Ls(Ms(n,i,e));return r!==o&&s!==a||!(0!==r||!As(t,n,e))||!(0!==o||!As(t,i,e))||!(0!==s||!As(n,t,i))||!(0!==a||!As(n,e,i))}function As(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Ls(t){return t>0?1:t<0?-1:0}function Es(t,e){return Ms(t.prev,t,t.next)<0?Ms(t,e,t.next)>=0&&Ms(t,t.prev,e)>=0:Ms(t,e,t.prev)<0||Ms(t,t.next,e)<0}function Rs(t,e){const n=new Ds(t.i,t.x,t.y),i=new Ds(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function Is(t,e,n,i){const r=new Ds(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Ps(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Ds(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}const ks={area:function(t){const e=t.length;let n=0;for(let i=e-1,r=0;r<e;i=r++)n+=t[i].x*t[r].y-t[r].x*t[i].y;return.5*n},isClockWise:function(t){return ks.area(t)<0},triangulateShape:function(t,e){const n=[],i=[],r=[];Os(t),Ns(n,t);let o=t.length;e.forEach(Os);for(let t=0;t<e.length;t++)i.push(o),o+=e[t].length,Ns(n,e[t]);const s=ls(n,i);for(let t=0;t<s.length;t+=3)r.push(s.slice(t,t+3));return r}};function Os(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Ns(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Fs extends an{constructor(t,e){super(),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const n=this,i=[],r=[];for(let e=0,n=t.length;e<n;e++)o(t[e]);function o(t){const o=[],s=void 0!==e.curveSegments?e.curveSegments:12,a=void 0!==e.steps?e.steps:1;let c=void 0!==e.depth?e.depth:100,l=void 0===e.bevelEnabled||e.bevelEnabled,u=void 0!==e.bevelThickness?e.bevelThickness:6,h=void 0!==e.bevelSize?e.bevelSize:u-2,p=void 0!==e.bevelOffset?e.bevelOffset:0,f=void 0!==e.bevelSegments?e.bevelSegments:3;const d=e.extrudePath,_=void 0!==e.UVGenerator?e.UVGenerator:Bs;void 0!==e.amount&&(c=e.amount);let m,g,b,v,y,x=!1;d&&(m=d.getSpacedPoints(a),x=!0,l=!1,g=d.computeFrenetFrames(a,!1),b=new ut,v=new ut,y=new ut),l||(f=0,u=0,h=0,p=0);const w=t.extractPoints(s);let S=w.shape;const M=w.holes;if(!ks.isClockWise(S)){S=S.reverse();for(let t=0,e=M.length;t<e;t++){const e=M[t];ks.isClockWise(e)&&(M[t]=e.reverse())}}const C=ks.triangulateShape(S,M),T=S;for(let t=0,e=M.length;t<e;t++){const e=M[t];S=S.concat(e)}function A(t,e,n){return e.clone().multiplyScalar(n).add(t)}const L=S.length,E=C.length;function R(t,e,n){let i,r,o;const s=t.x-e.x,a=t.y-e.y,c=n.x-t.x,l=n.y-t.y,u=s*s+a*a,h=s*l-a*c;if(Math.abs(h)>Number.EPSILON){const h=Math.sqrt(u),p=Math.sqrt(c*c+l*l),f=e.x-a/h,d=e.y+s/h,_=((n.x-l/p-f)*l-(n.y+c/p-d)*c)/(s*l-a*c);i=f+s*_-t.x,r=d+a*_-t.y;const m=i*i+r*r;if(m<=2)return new Q(i,r);o=Math.sqrt(m/2)}else{let t=!1;s>Number.EPSILON?c>Number.EPSILON&&(t=!0):s<-Number.EPSILON?c<-Number.EPSILON&&(t=!0):Math.sign(a)===Math.sign(l)&&(t=!0),t?(i=-a,r=s,o=Math.sqrt(u)):(i=s,r=a,o=Math.sqrt(u/2))}return new Q(i/o,r/o)}const I=[];for(let t=0,e=T.length,n=e-1,i=t+1;t<e;t++,n++,i++)n===e&&(n=0),i===e&&(i=0),I[t]=R(T[t],T[n],T[i]);const P=[];let D,k=I.concat();for(let t=0,e=M.length;t<e;t++){const e=M[t];D=[];for(let t=0,n=e.length,i=n-1,r=t+1;t<n;t++,i++,r++)i===n&&(i=0),r===n&&(r=0),D[t]=R(e[t],e[i],e[r]);P.push(D),k=k.concat(D)}for(let t=0;t<f;t++){const e=t/f,n=u*Math.cos(e*Math.PI/2),i=h*Math.sin(e*Math.PI/2)+p;for(let t=0,e=T.length;t<e;t++){const e=A(T[t],I[t],i);F(e.x,e.y,-n)}for(let t=0,e=M.length;t<e;t++){const e=M[t];D=P[t];for(let t=0,r=e.length;t<r;t++){const r=A(e[t],D[t],i);F(r.x,r.y,-n)}}}const O=h+p;for(let t=0;t<L;t++){const e=l?A(S[t],k[t],O):S[t];x?(v.copy(g.normals[0]).multiplyScalar(e.x),b.copy(g.binormals[0]).multiplyScalar(e.y),y.copy(m[0]).add(v).add(b),F(y.x,y.y,y.z)):F(e.x,e.y,0)}for(let t=1;t<=a;t++)for(let e=0;e<L;e++){const n=l?A(S[e],k[e],O):S[e];x?(v.copy(g.normals[t]).multiplyScalar(n.x),b.copy(g.binormals[t]).multiplyScalar(n.y),y.copy(m[t]).add(v).add(b),F(y.x,y.y,y.z)):F(n.x,n.y,c/a*t)}for(let t=f-1;t>=0;t--){const e=t/f,n=u*Math.cos(e*Math.PI/2),i=h*Math.sin(e*Math.PI/2)+p;for(let t=0,e=T.length;t<e;t++){const e=A(T[t],I[t],i);F(e.x,e.y,c+n)}for(let t=0,e=M.length;t<e;t++){const e=M[t];D=P[t];for(let t=0,r=e.length;t<r;t++){const r=A(e[t],D[t],i);x?F(r.x,r.y+m[a-1].y,m[a-1].x+n):F(r.x,r.y,c+n)}}}function N(t,e){let n=t.length;for(;--n>=0;){const i=n;let r=n-1;r<0&&(r=t.length-1);for(let t=0,n=a+2*f;t<n;t++){const n=L*t,o=L*(t+1);j(e+i+n,e+r+n,e+r+o,e+i+o)}}}function F(t,e,n){o.push(t),o.push(e),o.push(n)}function B(t,e,r){U(t),U(e),U(r);const o=i.length/3,s=_.generateTopUV(n,i,o-3,o-2,o-1);z(s[0]),z(s[1]),z(s[2])}function j(t,e,r,o){U(t),U(e),U(o),U(e),U(r),U(o);const s=i.length/3,a=_.generateSideWallUV(n,i,s-6,s-3,s-2,s-1);z(a[0]),z(a[1]),z(a[3]),z(a[1]),z(a[2]),z(a[3])}function U(t){i.push(o[3*t+0]),i.push(o[3*t+1]),i.push(o[3*t+2])}function z(t){r.push(t.x),r.push(t.y)}!function(){const t=i.length/3;if(l){let t=0,e=L*t;for(let t=0;t<E;t++){const n=C[t];B(n[2]+e,n[1]+e,n[0]+e)}t=a+2*f,e=L*t;for(let t=0;t<E;t++){const n=C[t];B(n[0]+e,n[1]+e,n[2]+e)}}else{for(let t=0;t<E;t++){const e=C[t];B(e[2],e[1],e[0])}for(let t=0;t<E;t++){const e=C[t];B(e[0]+L*a,e[1]+L*a,e[2]+L*a)}}n.addGroup(t,i.length/3-t,0)}(),function(){const t=i.length/3;let e=0;N(T,e),e+=T.length;for(let t=0,n=M.length;t<n;t++){const n=M[t];N(n,e),e+=n.length}n.addGroup(t,i.length/3-t,1)}()}this.setAttribute("position",new qe(i,3)),this.setAttribute("uv",new qe(r,2)),this.computeVertexNormals()}toJSON(){const t=an.prototype.toJSON.call(this);return function(t,e,n){if(n.shapes=[],Array.isArray(t))for(let e=0,i=t.length;e<i;e++){const i=t[e];n.shapes.push(i.uuid)}else n.shapes.push(t.uuid);return void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,t)}}const Bs={generateTopUV:function(t,e,n,i,r){const o=e[3*n],s=e[3*n+1],a=e[3*i],c=e[3*i+1],l=e[3*r],u=e[3*r+1];return[new Q(o,s),new Q(a,c),new Q(l,u)]},generateSideWallUV:function(t,e,n,i,r,o){const s=e[3*n],a=e[3*n+1],c=e[3*n+2],l=e[3*i],u=e[3*i+1],h=e[3*i+2],p=e[3*r],f=e[3*r+1],d=e[3*r+2],_=e[3*o],m=e[3*o+1],g=e[3*o+2];return Math.abs(a-u)<.01?[new Q(s,1-c),new Q(l,1-h),new Q(p,1-d),new Q(_,1-g)]:[new Q(a,1-c),new Q(u,1-h),new Q(f,1-d),new Q(m,1-g)]}};class js extends cs{constructor(t,e){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new Fs(t,e)),this.mergeVertices()}toJSON(){const t=super.toJSON();return function(t,e,n){if(n.shapes=[],Array.isArray(t))for(let e=0,i=t.length;e<i;e++){const i=t[e];n.shapes.push(i.uuid)}else n.shapes.push(t.uuid);return void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,t)}}function Us(t,e,n){an.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};const i=[],r=[],o=[],s=[],a=1e-5,c=new ut,l=new ut,u=new ut,h=new ut,p=new ut;t.length;const f=e+1;for(let i=0;i<=n;i++){const f=i/n;for(let n=0;n<=e;n++){const i=n/e;t(i,f,l),r.push(l.x,l.y,l.z),i-a>=0?(t(i-a,f,u),h.subVectors(l,u)):(t(i+a,f,u),h.subVectors(u,l)),f-a>=0?(t(i,f-a,u),p.subVectors(l,u)):(t(i,f+a,u),p.subVectors(u,l)),c.crossVectors(h,p).normalize(),o.push(c.x,c.y,c.z),s.push(i,f)}}for(let t=0;t<n;t++)for(let n=0;n<e;n++){const e=t*f+n,r=t*f+n+1,o=(t+1)*f+n+1,s=(t+1)*f+n;i.push(e,r,s),i.push(r,o,s)}this.setIndex(i),this.setAttribute("position",new qe(r,3)),this.setAttribute("normal",new qe(o,3)),this.setAttribute("uv",new qe(s,2))}function zs(t,e,n){cs.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new Us(t,e,n)),this.mergeVertices()}Us.prototype=Object.create(an.prototype),Us.prototype.constructor=Us,zs.prototype=Object.create(cs.prototype),zs.prototype.constructor=zs;class Gs extends an{constructor(t,e=12){super(),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e};const n=[],i=[],r=[],o=[];let s=0,a=0;if(!1===Array.isArray(t))c(t);else for(let e=0;e<t.length;e++)c(t[e]),this.addGroup(s,a,e),s+=a,a=0;function c(t){const s=i.length/3,c=t.extractPoints(e);let l=c.shape;const u=c.holes;!1===ks.isClockWise(l)&&(l=l.reverse());for(let t=0,e=u.length;t<e;t++){const e=u[t];!0===ks.isClockWise(e)&&(u[t]=e.reverse())}const h=ks.triangulateShape(l,u);for(let t=0,e=u.length;t<e;t++){const e=u[t];l=l.concat(e)}for(let t=0,e=l.length;t<e;t++){const e=l[t];i.push(e.x,e.y,0),r.push(0,0,1),o.push(e.x,e.y)}for(let t=0,e=h.length;t<e;t++){const e=h[t],i=e[0]+s,r=e[1]+s,o=e[2]+s;n.push(i,r,o),a+=3}}this.setIndex(n),this.setAttribute("position",new qe(i,3)),this.setAttribute("normal",new qe(r,3)),this.setAttribute("uv",new qe(o,2))}toJSON(){const t=an.prototype.toJSON.call(this);return function(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}(this.parameters.shapes,t)}}class Vs extends cs{constructor(t,e){super(),this.type="ShapeGeometry","object"==typeof e&&(e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new Gs(t,e)),this.mergeVertices()}toJSON(){const t=cs.prototype.toJSON.call(this);return function(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}(this.parameters.shapes,t)}}function Ws(t){ke.call(this),this.type="ShadowMaterial",this.color=new Ie(0),this.transparent=!0,this.setValues(t)}function Hs(t){Pn.call(this,t),this.type="RawShaderMaterial"}function Xs(t){ke.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ie(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=W,this.normalScale=new Q(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(t)}function qs(t){Xs.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Q(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(t){this.reflectivity=$.clamp(2.5*(t-1)/(t+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(t)}function Ys(t){ke.call(this),this.type="MeshPhongMaterial",this.color=new Ie(16777215),this.specular=new Ie(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=W,this.normalScale=new Q(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Zs(t){ke.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ie(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=W,this.normalScale=new Q(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Js(t){ke.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=W,this.normalScale=new Q(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Ks(t){ke.call(this),this.type="MeshLambertMaterial",this.color=new Ie(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function $s(t){ke.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ie(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=W,this.normalScale=new Q(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Qs(t){No.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}Ws.prototype=Object.create(ke.prototype),Ws.prototype.constructor=Ws,Ws.prototype.isShadowMaterial=!0,Ws.prototype.copy=function(t){return ke.prototype.copy.call(this,t),this.color.copy(t.color),this},Hs.prototype=Object.create(Pn.prototype),Hs.prototype.constructor=Hs,Hs.prototype.isRawShaderMaterial=!0,Xs.prototype=Object.create(ke.prototype),Xs.prototype.constructor=Xs,Xs.prototype.isMeshStandardMaterial=!0,Xs.prototype.copy=function(t){return ke.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.vertexTangents=t.vertexTangents,this},qs.prototype=Object.create(Xs.prototype),qs.prototype.constructor=qs,qs.prototype.isMeshPhysicalMaterial=!0,qs.prototype.copy=function(t){return Xs.prototype.copy.call(this,t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.reflectivity=t.reflectivity,t.sheen?this.sheen=(this.sheen||new Ie).copy(t.sheen):this.sheen=null,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this},Ys.prototype=Object.create(ke.prototype),Ys.prototype.constructor=Ys,Ys.prototype.isMeshPhongMaterial=!0,Ys.prototype.copy=function(t){return ke.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Zs.prototype=Object.create(ke.prototype),Zs.prototype.constructor=Zs,Zs.prototype.isMeshToonMaterial=!0,Zs.prototype.copy=function(t){return ke.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Js.prototype=Object.create(ke.prototype),Js.prototype.constructor=Js,Js.prototype.isMeshNormalMaterial=!0,Js.prototype.copy=function(t){return ke.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Ks.prototype=Object.create(ke.prototype),Ks.prototype.constructor=Ks,Ks.prototype.isMeshLambertMaterial=!0,Ks.prototype.copy=function(t){return ke.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},$s.prototype=Object.create(ke.prototype),$s.prototype.constructor=$s,$s.prototype.isMeshMatcapMaterial=!0,$s.prototype.copy=function(t){return ke.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Qs.prototype=Object.create(No.prototype),Qs.prototype.constructor=Qs,Qs.prototype.isLineDashedMaterial=!0,Qs.prototype.copy=function(t){return No.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var ta=Object.freeze({__proto__:null,ShadowMaterial:Ws,SpriteMaterial:eo,RawShaderMaterial:Hs,ShaderMaterial:Pn,PointsMaterial:qo,MeshPhysicalMaterial:qs,MeshStandardMaterial:Xs,MeshPhongMaterial:Ys,MeshToonMaterial:Zs,MeshNormalMaterial:Js,MeshLambertMaterial:Ks,MeshDepthMaterial:Br,MeshDistanceMaterial:jr,MeshBasicMaterial:Oe,MeshMatcapMaterial:$s,LineDashedMaterial:Qs,LineBasicMaterial:No,Material:ke});const ea={arraySlice:function(t,e,n){return ea.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){const e=t.length,n=new Array(e);for(let t=0;t!==e;++t)n[t]=t;return n.sort((function(e,n){return t[e]-t[n]})),n},sortedArray:function(t,e,n){const i=t.length,r=new t.constructor(i);for(let o=0,s=0;s!==i;++o){const i=n[o]*e;for(let n=0;n!==e;++n)r[s++]=t[i+n]}return r},flattenJSON:function(t,e,n,i){let r=1,o=t[0];for(;void 0!==o&&void 0===o[i];)o=t[r++];if(void 0===o)return;let s=o[i];if(void 0!==s)if(Array.isArray(s))do{s=o[i],void 0!==s&&(e.push(o.time),n.push.apply(n,s)),o=t[r++]}while(void 0!==o);else if(void 0!==s.toArray)do{s=o[i],void 0!==s&&(e.push(o.time),s.toArray(n,n.length)),o=t[r++]}while(void 0!==o);else do{s=o[i],void 0!==s&&(e.push(o.time),n.push(s)),o=t[r++]}while(void 0!==o)},subclip:function(t,e,n,i,r=30){const o=t.clone();o.name=e;const s=[];for(let t=0;t<o.tracks.length;++t){const e=o.tracks[t],a=e.getValueSize(),c=[],l=[];for(let t=0;t<e.times.length;++t){const o=e.times[t]*r;if(!(o<n||o>=i)){c.push(e.times[t]);for(let n=0;n<a;++n)l.push(e.values[t*a+n])}}0!==c.length&&(e.times=ea.convertArray(c,e.times.constructor),e.values=ea.convertArray(l,e.values.constructor),s.push(e))}o.tracks=s;let a=Infinity;for(let t=0;t<o.tracks.length;++t)a>o.tracks[t].times[0]&&(a=o.tracks[t].times[0]);for(let t=0;t<o.tracks.length;++t)o.tracks[t].shift(-1*a);return o.resetDuration(),o},makeClipAdditive:function(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,o=e/i;for(let e=0;e<r;++e){const i=n.tracks[e],r=i.ValueTypeName;if("bool"===r||"string"===r)continue;const s=t.tracks.find((function(t){return t.name===i.name&&t.ValueTypeName===r}));if(void 0===s)continue;let a=0;const c=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(a=c/3);let l=0;const u=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=u/3);const h=i.times.length-1;let p;if(o<=i.times[0]){const t=a,e=c-a;p=ea.arraySlice(i.values,t,e)}else if(o>=i.times[h]){const t=h*c+a,e=t+c-a;p=ea.arraySlice(i.values,t,e)}else{const t=i.createInterpolant(),e=a,n=c-a;t.evaluate(o),p=ea.arraySlice(t.resultBuffer,e,n)}"quaternion"===r&&(new lt).fromArray(p).normalize().conjugate().toArray(p);const f=s.times.length;for(let t=0;t<f;++t){const e=t*u+l;if("quaternion"===r)lt.multiplyQuaternionsFlat(s.values,e,p,0,s.values,e);else{const t=u-2*l;for(let n=0;n<t;++n)s.values[e+n]-=p[n]}}}return t.blendMode=2501,t}};function na(t,e,n,i){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function ia(t,e,n,i){na.call(this,t,e,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function ra(t,e,n,i){na.call(this,t,e,n,i)}function oa(t,e,n,i){na.call(this,t,e,n,i)}function sa(t,e,n,i){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=ea.convertArray(e,this.TimeBufferType),this.values=ea.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}function aa(t,e,n){sa.call(this,t,e,n)}function ca(t,e,n,i){sa.call(this,t,e,n,i)}function la(t,e,n,i){sa.call(this,t,e,n,i)}function ua(t,e,n,i){na.call(this,t,e,n,i)}function ha(t,e,n,i){sa.call(this,t,e,n,i)}function pa(t,e,n,i){sa.call(this,t,e,n,i)}function fa(t,e,n,i){sa.call(this,t,e,n,i)}function da(t,e=-1,n,i=2500){this.name=t,this.tracks=n,this.duration=e,this.blendMode=i,this.uuid=$.generateUUID(),this.duration<0&&this.resetDuration()}function _a(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return la;case"vector":case"vector2":case"vector3":case"vector4":return fa;case"color":return ca;case"quaternion":return ha;case"bool":case"boolean":return aa;case"string":return pa}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){const e=[],n=[];ea.flattenJSON(t.keys,e,n,"value"),t.times=e,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}Object.assign(na.prototype,{evaluate:function(t){const e=this.parameterPositions;let n=this._cachedIndex,i=e[n],r=e[n-1];t:{e:{let o;n:{i:if(!(t<i)){for(let o=n+2;;){if(void 0===i){if(t<r)break i;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,r)}if(n===o)break;if(r=i,i=e[++n],t<i)break e}o=e.length;break n}if(t>=r)break t;{const s=e[1];t<s&&(n=2,r=s);for(let o=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(n===o)break;if(i=r,r=e[--n-1],t>=r)break e}o=n,n=0}}for(;n<o;){const i=n+o>>>1;t<e[i]?o=i:n=i+1}if(i=e[n],r=e[n-1],void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(void 0===i)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,r,t)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,t,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){const e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i;for(let t=0;t!==i;++t)e[t]=n[r+t];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(na.prototype,{beforeStart_:na.prototype.copySampleValue_,afterEnd_:na.prototype.copySampleValue_}),ia.prototype=Object.assign(Object.create(na.prototype),{constructor:ia,DefaultSettings_:{endingStart:k,endingEnd:k},intervalChanged_:function(t,e,n){const i=this.parameterPositions;let r=t-2,o=t+1,s=i[r],a=i[o];if(void 0===s)switch(this.getSettings_().endingStart){case O:r=t,s=2*e-n;break;case N:r=i.length-2,s=e+i[r]-i[r+1];break;default:r=t,s=n}if(void 0===a)switch(this.getSettings_().endingEnd){case O:o=t,a=2*n-e;break;case N:o=1,a=n+i[1]-i[0];break;default:o=t-1,a=e}const c=.5*(n-e),l=this.valueSize;this._weightPrev=c/(e-s),this._weightNext=c/(a-n),this._offsetPrev=r*l,this._offsetNext=o*l},interpolate_:function(t,e,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=t*s,c=a-s,l=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,p=this._weightNext,f=(n-e)/(i-e),d=f*f,_=d*f,m=-h*_+2*h*d-h*f,g=(1+h)*_+(-1.5-2*h)*d+(-.5+h)*f+1,b=(-1-p)*_+(1.5+p)*d+.5*f,v=p*_-p*d;for(let t=0;t!==s;++t)r[t]=m*o[l+t]+g*o[c+t]+b*o[a+t]+v*o[u+t];return r}}),ra.prototype=Object.assign(Object.create(na.prototype),{constructor:ra,interpolate_:function(t,e,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=t*s,c=a-s,l=(n-e)/(i-e),u=1-l;for(let t=0;t!==s;++t)r[t]=o[c+t]*u+o[a+t]*l;return r}}),oa.prototype=Object.assign(Object.create(na.prototype),{constructor:oa,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(sa,{toJSON:function(t){const e=t.constructor;let n;if(void 0!==e.toJSON)n=e.toJSON(t);else{n={name:t.name,times:ea.convertArray(t.times,Array),values:ea.convertArray(t.values,Array)};const e=t.getInterpolation();e!==t.DefaultInterpolation&&(n.interpolation=e)}return n.type=t.ValueTypeName,n}}),Object.assign(sa.prototype,{constructor:sa,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:P,InterpolantFactoryMethodDiscrete:function(t){return new oa(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new ra(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new ia(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){let e;switch(t){case I:e=this.InterpolantFactoryMethodDiscrete;break;case P:e=this.InterpolantFactoryMethodLinear;break;case D:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(e);this.setInterpolation(this.DefaultInterpolation)}return this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return I;case this.InterpolantFactoryMethodLinear:return P;case this.InterpolantFactoryMethodSmooth:return D}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]+=t}return this},scale:function(t){if(1!==t){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]*=t}return this},trim:function(t,e){const n=this.times,i=n.length;let r=0,o=i-1;for(;r!==i&&n[r]<t;)++r;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==r||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);const t=this.getValueSize();this.times=ea.arraySlice(n,r,o),this.values=ea.arraySlice(this.values,r*t,o*t)}return this},validate:function(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(t=!1);const n=this.times,i=this.values,r=n.length;0===r&&(t=!1);let o=null;for(let e=0;e!==r;e++){const i=n[e];if("number"==typeof i&&isNaN(i)){t=!1;break}if(null!==o&&o>i){t=!1;break}o=i}if(void 0!==i&&ea.isTypedArray(i))for(let e=0,n=i.length;e!==n;++e){const n=i[e];if(isNaN(n)){t=!1;break}}return t},optimize:function(){const t=ea.arraySlice(this.times),e=ea.arraySlice(this.values),n=this.getValueSize(),i=this.getInterpolation()===D,r=t.length-1;let o=1;for(let s=1;s<r;++s){let r=!1;const a=t[s];if(a!==t[s+1]&&(1!==s||a!==a[0]))if(i)r=!0;else{const t=s*n,i=t-n,o=t+n;for(let s=0;s!==n;++s){const n=e[t+s];if(n!==e[i+s]||n!==e[o+s]){r=!0;break}}}if(r){if(s!==o){t[o]=t[s];const i=s*n,r=o*n;for(let t=0;t!==n;++t)e[r+t]=e[i+t]}++o}}if(r>0){t[o]=t[r];for(let t=r*n,i=o*n,s=0;s!==n;++s)e[i+s]=e[t+s];++o}return o!==t.length?(this.times=ea.arraySlice(t,0,o),this.values=ea.arraySlice(e,0,o*n)):(this.times=t,this.values=e),this},clone:function(){const t=ea.arraySlice(this.times,0),e=ea.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}),aa.prototype=Object.assign(Object.create(sa.prototype),{constructor:aa,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:I,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),ca.prototype=Object.assign(Object.create(sa.prototype),{constructor:ca,ValueTypeName:"color"}),la.prototype=Object.assign(Object.create(sa.prototype),{constructor:la,ValueTypeName:"number"}),ua.prototype=Object.assign(Object.create(na.prototype),{constructor:ua,interpolate_:function(t,e,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=(n-e)/(i-e);let c=t*s;for(let t=c+s;c!==t;c+=4)lt.slerpFlat(r,0,o,c-s,o,c,a);return r}}),ha.prototype=Object.assign(Object.create(sa.prototype),{constructor:ha,ValueTypeName:"quaternion",DefaultInterpolation:P,InterpolantFactoryMethodLinear:function(t){return new ua(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),pa.prototype=Object.assign(Object.create(sa.prototype),{constructor:pa,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:I,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),fa.prototype=Object.assign(Object.create(sa.prototype),{constructor:fa,ValueTypeName:"vector"}),Object.assign(da,{parse:function(t){const e=[],n=t.tracks,i=1/(t.fps||1);for(let t=0,r=n.length;t!==r;++t)e.push(_a(n[t]).scale(i));const r=new da(t.name,t.duration,e,t.blendMode);return r.uuid=t.uuid,r},toJSON:function(t){const e=[],n=t.tracks,i={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let t=0,i=n.length;t!==i;++t)e.push(sa.toJSON(n[t]));return i},CreateFromMorphTargetSequence:function(t,e,n,i){const r=e.length,o=[];for(let t=0;t<r;t++){let s=[],a=[];s.push((t+r-1)%r,t,(t+1)%r),a.push(0,1,0);const c=ea.getKeyframeOrder(s);s=ea.sortedArray(s,1,c),a=ea.sortedArray(a,1,c),i||0!==s[0]||(s.push(r),a.push(a[0])),o.push(new la(".morphTargetInfluences["+e[t].name+"]",s,a).scale(1/n))}return new da(t,-1,o)},findByName:function(t,e){let n=t;if(!Array.isArray(t)){const e=t;n=e.geometry&&e.geometry.animations||e.animations}for(let t=0;t<n.length;t++)if(n[t].name===e)return n[t];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let e=0,n=t.length;e<n;e++){const n=t[e],o=n.name.match(r);if(o&&o.length>1){const t=o[1];let e=i[t];e||(i[t]=e=[]),e.push(n)}}const o=[];for(const t in i)o.push(da.CreateFromMorphTargetSequence(t,i[t],e,n));return o},parseAnimation:function(t,e){if(!t)return null;const n=function(t,e,n,i,r){if(0!==n.length){const o=[],s=[];ea.flattenJSON(n,o,s,i),0!==o.length&&r.push(new t(e,o,s))}},i=[],r=t.name||"default",o=t.fps||30,s=t.blendMode;let a=t.length||-1;const c=t.hierarchy||[];for(let t=0;t<c.length;t++){const r=c[t].keys;if(r&&0!==r.length)if(r[0].morphTargets){const t={};let e;for(e=0;e<r.length;e++)if(r[e].morphTargets)for(let n=0;n<r[e].morphTargets.length;n++)t[r[e].morphTargets[n]]=-1;for(const n in t){const t=[],o=[];for(let i=0;i!==r[e].morphTargets.length;++i){const i=r[e];t.push(i.time),o.push(i.morphTarget===n?1:0)}i.push(new la(".morphTargetInfluence["+n+"]",t,o))}a=t.length*(o||1)}else{const o=".bones["+e[t].name+"]";n(fa,o+".position",r,"pos",i),n(ha,o+".quaternion",r,"rot",i),n(fa,o+".scale",r,"scl",i)}}return 0===i.length?null:new da(r,a,i,s)}}),Object.assign(da.prototype,{resetDuration:function(){let t=0;for(let e=0,n=this.tracks.length;e!==n;++e){const n=this.tracks[e];t=Math.max(t,n.times[n.times.length-1])}return this.duration=t,this},trim:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new da(this.name,this.duration,t,this.blendMode)},toJSON:function(){return da.toJSON(this)}});const ma={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function ga(t,e,n){const i=this;let r,o=!1,s=0,a=0;const c=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){a++,!1===o&&void 0!==i.onStart&&i.onStart(t,s,a),o=!0},this.itemEnd=function(t){s++,void 0!==i.onProgress&&i.onProgress(t,s,a),s===a&&(o=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(t){void 0!==i.onError&&i.onError(t)},this.resolveURL=function(t){return r?r(t):t},this.setURLModifier=function(t){return r=t,this},this.addHandler=function(t,e){return c.push(t,e),this},this.removeHandler=function(t){const e=c.indexOf(t);return-1!==e&&c.splice(e,2),this},this.getHandler=function(t){for(let e=0,n=c.length;e<n;e+=2){const n=c[e],i=c[e+1];if(n.global&&(n.lastIndex=0),n.test(t))return i}return null}}const ba=new ga;function va(t){this.manager=void 0!==t?t:ba,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(va.prototype,{load:function(){},loadAsync:function(t,e){const n=this;return new Promise((function(i,r){n.load(t,i,e,r)}))},parse:function(){},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}});const ya={};function xa(t){va.call(this,t)}function wa(t){va.call(this,t)}function Sa(t){va.call(this,t)}function Ma(t){va.call(this,t)}function Ca(t){va.call(this,t)}function Ta(t){va.call(this,t)}function Aa(t){va.call(this,t)}function La(){this.type="Curve",this.arcLengthDivisions=200}function Ea(t,e,n,i,r,o,s,a){La.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=s||!1,this.aRotation=a||0}function Ra(t,e,n,i,r,o){Ea.call(this,t,e,n,n,i,r,o),this.type="ArcCurve"}function Ia(){let t=0,e=0,n=0,i=0;function r(r,o,s,a){t=r,e=s,n=-3*r+3*o-2*s-a,i=2*r-2*o+s+a}return{initCatmullRom:function(t,e,n,i,o){r(e,n,o*(n-t),o*(i-e))},initNonuniformCatmullRom:function(t,e,n,i,o,s,a){let c=(e-t)/o-(n-t)/(o+s)+(n-e)/s,l=(n-e)/s-(i-e)/(s+a)+(i-n)/a;c*=s,l*=s,r(e,n,c,l)},calc:function(r){const o=r*r;return t+e*r+n*o+i*(o*r)}}}xa.prototype=Object.assign(Object.create(va.prototype),{constructor:xa,load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,o=ma.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout((function(){e&&e(o),r.manager.itemEnd(t)}),0),o;if(void 0!==ya[t])return void ya[t].push({onLoad:e,onProgress:n,onError:i});const s=t.match(/^data:(.*?)(;base64)?,(.*)$/);let a;if(s){const n=s[1],o=!!s[2];let a=s[3];a=decodeURIComponent(a),o&&(a=atob(a));try{let i;const o=(this.responseType||"").toLowerCase();switch(o){case"arraybuffer":case"blob":const t=new Uint8Array(a.length);for(let e=0;e<a.length;e++)t[e]=a.charCodeAt(e);i="blob"===o?new Blob([t.buffer],{type:n}):t.buffer;break;case"document":const e=new DOMParser;i=e.parseFromString(a,n);break;case"json":i=JSON.parse(a);break;default:i=a}setTimeout((function(){e&&e(i),r.manager.itemEnd(t)}),0)}catch(e){setTimeout((function(){i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}),0)}}else{ya[t]=[],ya[t].push({onLoad:e,onProgress:n,onError:i}),a=new XMLHttpRequest,a.open("GET",t,!0),a.addEventListener("load",(function(e){const n=this.response,i=ya[t];if(delete ya[t],200===this.status||0===this.status){this.status,ma.add(t,n);for(let t=0,e=i.length;t<e;t++){const e=i[t];e.onLoad&&e.onLoad(n)}r.manager.itemEnd(t)}else{for(let t=0,n=i.length;t<n;t++){const n=i[t];n.onError&&n.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}}),!1),a.addEventListener("progress",(function(e){const n=ya[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onProgress&&i.onProgress(e)}}),!1),a.addEventListener("error",(function(e){const n=ya[t];delete ya[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onError&&i.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}),!1),a.addEventListener("abort",(function(e){const n=ya[t];delete ya[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onError&&i.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}),!1),void 0!==this.responseType&&(a.responseType=this.responseType),void 0!==this.withCredentials&&(a.withCredentials=this.withCredentials),a.overrideMimeType&&a.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const t in this.requestHeader)a.setRequestHeader(t,this.requestHeader[t]);a.send(null)}return r.manager.itemStart(t),a},setResponseType:function(t){return this.responseType=t,this},setMimeType:function(t){return this.mimeType=t,this}}),wa.prototype=Object.assign(Object.create(va.prototype),{constructor:wa,load:function(t,e,n,i){const r=this,o=new xa(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,(function(n){try{e(r.parse(JSON.parse(n)))}catch(e){i&&i(e),r.manager.itemError(t)}}),n,i)},parse:function(t){const e=[];for(let n=0;n<t.length;n++){const i=da.parse(t[n]);e.push(i)}return e}}),Sa.prototype=Object.assign(Object.create(va.prototype),{constructor:Sa,load:function(t,e,n,i){const r=this,o=[],s=new es,a=new xa(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(r.withCredentials);let c=0;function l(l){a.load(t[l],(function(t){const n=r.parse(t,!0);o[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},c+=1,6===c&&(1===n.mipmapCount&&(s.minFilter=b),s.image=o,s.format=n.format,s.needsUpdate=!0,e&&e(s))}),n,i)}if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)l(e);else a.load(t,(function(t){const n=r.parse(t,!0);if(n.isCubemap){const t=n.mipmaps.length/n.mipmapCount;for(let e=0;e<t;e++){o[e]={mipmaps:[]};for(let t=0;t<n.mipmapCount;t++)o[e].mipmaps.push(n.mipmaps[e*n.mipmapCount+t]),o[e].format=n.format,o[e].width=n.width,o[e].height=n.height}s.image=o}else s.image.width=n.width,s.image.height=n.height,s.mipmaps=n.mipmaps;1===n.mipmapCount&&(s.minFilter=b),s.format=n.format,s.needsUpdate=!0,e&&e(s)}),n,i);return s}}),Ma.prototype=Object.assign(Object.create(va.prototype),{constructor:Ma,load:function(t,e,n,i){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,o=ma.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout((function(){e&&e(o),r.manager.itemEnd(t)}),0),o;const s=document.createElementNS("http://www.w3.org/1999/xhtml","img");function a(){s.removeEventListener("load",a,!1),s.removeEventListener("error",c,!1),ma.add(t,this),e&&e(this),r.manager.itemEnd(t)}function c(e){s.removeEventListener("load",a,!1),s.removeEventListener("error",c,!1),i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}return s.addEventListener("load",a,!1),s.addEventListener("error",c,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),r.manager.itemStart(t),s.src=t,s}}),Ca.prototype=Object.assign(Object.create(va.prototype),{constructor:Ca,load:function(t,e,n,i){const r=new Fn,o=new Ma(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function a(n){o.load(t[n],(function(t){r.images[n]=t,s++,6===s&&(r.needsUpdate=!0,e&&e(r))}),void 0,i)}for(let e=0;e<t.length;++e)a(e);return r}}),Ta.prototype=Object.assign(Object.create(va.prototype),{constructor:Ta,load:function(t,e,n,i){const r=this,o=new jn,s=new xa(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(r.withCredentials),s.load(t,(function(t){const n=r.parse(t);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:f,o.wrapT=void 0!==n.wrapT?n.wrapT:f,o.magFilter=void 0!==n.magFilter?n.magFilter:b,o.minFilter=void 0!==n.minFilter?n.minFilter:b,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=y),1===n.mipmapCount&&(o.minFilter=b),o.needsUpdate=!0,e&&e(o,n))}),n,i),o}}),Aa.prototype=Object.assign(Object.create(va.prototype),{constructor:Aa,load:function(t,e,n,i){const r=new rt,o=new Ma(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,(function(n){r.image=n;const i=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);r.format=i?A:L,r.needsUpdate=!0,void 0!==e&&e(r)}),n,i),r}}),Object.assign(La.prototype,{getPoint:function(){return null},getPointAt:function(t,e){const n=this.getUtoTmapping(t);return this.getPoint(n,e)},getPoints:function(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){const t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let n,i=this.getPoint(0),r=0;e.push(0);for(let o=1;o<=t;o++)n=this.getPoint(o/t),r+=n.distanceTo(i),e.push(r),i=n;return this.cacheArcLengths=e,e},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){const n=this.getLengths();let i=0;const r=n.length;let o;o=e||t*n[r-1];let s,a=0,c=r-1;for(;a<=c;)if(i=Math.floor(a+(c-a)/2),s=n[i]-o,s<0)a=i+1;else{if(!(s>0)){c=i;break}c=i-1}if(i=c,n[i]===o)return i/(r-1);const l=n[i];return(i+(o-l)/(n[i+1]-l))/(r-1)},getTangent:function(t,e){const n=1e-4;let i=t-n,r=t+n;i<0&&(i=0),r>1&&(r=1);const o=this.getPoint(i),s=this.getPoint(r),a=e||(o.isVector2?new Q:new ut);return a.copy(s).sub(o).normalize(),a},getTangentAt:function(t,e){const n=this.getUtoTmapping(t);return this.getTangent(n,e)},computeFrenetFrames:function(t,e){const n=new ut,i=[],r=[],o=[],s=new ut,a=new Bt;for(let e=0;e<=t;e++){const n=e/t;i[e]=this.getTangentAt(n,new ut),i[e].normalize()}r[0]=new ut,o[0]=new ut;let c=Number.MAX_VALUE;const l=Math.abs(i[0].x),u=Math.abs(i[0].y),h=Math.abs(i[0].z);l<=c&&(c=l,n.set(1,0,0)),u<=c&&(c=u,n.set(0,1,0)),h<=c&&n.set(0,0,1),s.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],s),o[0].crossVectors(i[0],r[0]);for(let e=1;e<=t;e++){if(r[e]=r[e-1].clone(),o[e]=o[e-1].clone(),s.crossVectors(i[e-1],i[e]),s.length()>Number.EPSILON){s.normalize();const t=Math.acos($.clamp(i[e-1].dot(i[e]),-1,1));r[e].applyMatrix4(a.makeRotationAxis(s,t))}o[e].crossVectors(i[e],r[e])}if(!0===e){let e=Math.acos($.clamp(r[0].dot(r[t]),-1,1));e/=t,i[0].dot(s.crossVectors(r[0],r[t]))>0&&(e=-e);for(let n=1;n<=t;n++)r[n].applyMatrix4(a.makeRotationAxis(i[n],e*n)),o[n].crossVectors(i[n],r[n])}return{tangents:i,normals:r,binormals:o}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),Ea.prototype=Object.create(La.prototype),Ea.prototype.constructor=Ea,Ea.prototype.isEllipseCurve=!0,Ea.prototype.getPoint=function(t,e){const n=e||new Q,i=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const o=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=o?0:i),!0!==this.aClockwise||o||(r===i?r=-i:r-=i);const s=this.aStartAngle+t*r;let a=this.aX+this.xRadius*Math.cos(s),c=this.aY+this.yRadius*Math.sin(s);if(0!==this.aRotation){const t=Math.cos(this.aRotation),e=Math.sin(this.aRotation),n=a-this.aX,i=c-this.aY;a=n*t-i*e+this.aX,c=n*e+i*t+this.aY}return n.set(a,c)},Ea.prototype.copy=function(t){return La.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Ea.prototype.toJSON=function(){const t=La.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},Ea.prototype.fromJSON=function(t){return La.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Ra.prototype=Object.create(Ea.prototype),Ra.prototype.constructor=Ra,Ra.prototype.isArcCurve=!0;const Pa=new ut,Da=new Ia,ka=new Ia,Oa=new Ia;function Na(t=[],e=!1,n="centripetal",i=.5){La.call(this),this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=n,this.tension=i}function Fa(t,e,n,i,r){const o=.5*(i-e),s=.5*(r-n),a=t*t;return(2*n-2*i+o+s)*(t*a)+(-3*n+3*i-2*o-s)*a+o*t+n}function Ba(t,e,n,i){return function(t,e){const n=1-t;return n*n*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,n)+function(t,e){return t*t*e}(t,i)}function ja(t,e,n,i,r){return function(t,e){const n=1-t;return n*n*n*e}(t,e)+function(t,e){const n=1-t;return 3*n*n*t*e}(t,n)+function(t,e){return 3*(1-t)*t*t*e}(t,i)+function(t,e){return t*t*t*e}(t,r)}function Ua(t=new Q,e=new Q,n=new Q,i=new Q){La.call(this),this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=n,this.v3=i}function za(t=new ut,e=new ut,n=new ut,i=new ut){La.call(this),this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=n,this.v3=i}function Ga(t=new Q,e=new Q){La.call(this),this.type="LineCurve",this.v1=t,this.v2=e}function Va(t=new ut,e=new ut){La.call(this),this.type="LineCurve3",this.v1=t,this.v2=e}function Wa(t=new Q,e=new Q,n=new Q){La.call(this),this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=n}function Ha(t=new ut,e=new ut,n=new ut){La.call(this),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=n}function Xa(t=[]){La.call(this),this.type="SplineCurve",this.points=t}Na.prototype=Object.create(La.prototype),Na.prototype.constructor=Na,Na.prototype.isCatmullRomCurve3=!0,Na.prototype.getPoint=function(t,e=new ut){const n=e,i=this.points,r=i.length,o=(r-(this.closed?0:1))*t;let s,a,c=Math.floor(o),l=o-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/r)+1)*r:0===l&&c===r-1&&(c=r-2,l=1),this.closed||c>0?s=i[(c-1)%r]:(Pa.subVectors(i[0],i[1]).add(i[0]),s=Pa);const u=i[c%r],h=i[(c+1)%r];if(this.closed||c+2<r?a=i[(c+2)%r]:(Pa.subVectors(i[r-1],i[r-2]).add(i[r-1]),a=Pa),"centripetal"===this.curveType||"chordal"===this.curveType){const t="chordal"===this.curveType?.5:.25;let e=Math.pow(s.distanceToSquared(u),t),n=Math.pow(u.distanceToSquared(h),t),i=Math.pow(h.distanceToSquared(a),t);n<1e-4&&(n=1),e<1e-4&&(e=n),i<1e-4&&(i=n),Da.initNonuniformCatmullRom(s.x,u.x,h.x,a.x,e,n,i),ka.initNonuniformCatmullRom(s.y,u.y,h.y,a.y,e,n,i),Oa.initNonuniformCatmullRom(s.z,u.z,h.z,a.z,e,n,i)}else"catmullrom"===this.curveType&&(Da.initCatmullRom(s.x,u.x,h.x,a.x,this.tension),ka.initCatmullRom(s.y,u.y,h.y,a.y,this.tension),Oa.initCatmullRom(s.z,u.z,h.z,a.z,this.tension));return n.set(Da.calc(l),ka.calc(l),Oa.calc(l)),n},Na.prototype.copy=function(t){La.prototype.copy.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push(n.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},Na.prototype.toJSON=function(){const t=La.prototype.toJSON.call(this);t.points=[];for(let e=0,n=this.points.length;e<n;e++){const n=this.points[e];t.points.push(n.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},Na.prototype.fromJSON=function(t){La.prototype.fromJSON.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push((new ut).fromArray(n))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},Ua.prototype=Object.create(La.prototype),Ua.prototype.constructor=Ua,Ua.prototype.isCubicBezierCurve=!0,Ua.prototype.getPoint=function(t,e=new Q){const n=e,i=this.v0,r=this.v1,o=this.v2,s=this.v3;return n.set(ja(t,i.x,r.x,o.x,s.x),ja(t,i.y,r.y,o.y,s.y)),n},Ua.prototype.copy=function(t){return La.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},Ua.prototype.toJSON=function(){const t=La.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},Ua.prototype.fromJSON=function(t){return La.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},za.prototype=Object.create(La.prototype),za.prototype.constructor=za,za.prototype.isCubicBezierCurve3=!0,za.prototype.getPoint=function(t,e=new ut){const n=e,i=this.v0,r=this.v1,o=this.v2,s=this.v3;return n.set(ja(t,i.x,r.x,o.x,s.x),ja(t,i.y,r.y,o.y,s.y),ja(t,i.z,r.z,o.z,s.z)),n},za.prototype.copy=function(t){return La.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},za.prototype.toJSON=function(){const t=La.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},za.prototype.fromJSON=function(t){return La.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},Ga.prototype=Object.create(La.prototype),Ga.prototype.constructor=Ga,Ga.prototype.isLineCurve=!0,Ga.prototype.getPoint=function(t,e=new Q){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},Ga.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},Ga.prototype.getTangent=function(t,e){const n=e||new Q;return n.copy(this.v2).sub(this.v1).normalize(),n},Ga.prototype.copy=function(t){return La.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Ga.prototype.toJSON=function(){const t=La.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Ga.prototype.fromJSON=function(t){return La.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Va.prototype=Object.create(La.prototype),Va.prototype.constructor=Va,Va.prototype.isLineCurve3=!0,Va.prototype.getPoint=function(t,e=new ut){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},Va.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},Va.prototype.copy=function(t){return La.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Va.prototype.toJSON=function(){const t=La.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Va.prototype.fromJSON=function(t){return La.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Wa.prototype=Object.create(La.prototype),Wa.prototype.constructor=Wa,Wa.prototype.isQuadraticBezierCurve=!0,Wa.prototype.getPoint=function(t,e=new Q){const n=e,i=this.v0,r=this.v1,o=this.v2;return n.set(Ba(t,i.x,r.x,o.x),Ba(t,i.y,r.y,o.y)),n},Wa.prototype.copy=function(t){return La.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Wa.prototype.toJSON=function(){const t=La.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Wa.prototype.fromJSON=function(t){return La.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Ha.prototype=Object.create(La.prototype),Ha.prototype.constructor=Ha,Ha.prototype.isQuadraticBezierCurve3=!0,Ha.prototype.getPoint=function(t,e=new ut){const n=e,i=this.v0,r=this.v1,o=this.v2;return n.set(Ba(t,i.x,r.x,o.x),Ba(t,i.y,r.y,o.y),Ba(t,i.z,r.z,o.z)),n},Ha.prototype.copy=function(t){return La.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Ha.prototype.toJSON=function(){const t=La.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Ha.prototype.fromJSON=function(t){return La.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Xa.prototype=Object.create(La.prototype),Xa.prototype.constructor=Xa,Xa.prototype.isSplineCurve=!0,Xa.prototype.getPoint=function(t,e=new Q){const n=e,i=this.points,r=(i.length-1)*t,o=Math.floor(r),s=r-o,a=i[0===o?o:o-1],c=i[o],l=i[o>i.length-2?i.length-1:o+1],u=i[o>i.length-3?i.length-1:o+2];return n.set(Fa(s,a.x,c.x,l.x,u.x),Fa(s,a.y,c.y,l.y,u.y)),n},Xa.prototype.copy=function(t){La.prototype.copy.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push(n.clone())}return this},Xa.prototype.toJSON=function(){const t=La.prototype.toJSON.call(this);t.points=[];for(let e=0,n=this.points.length;e<n;e++){const n=this.points[e];t.points.push(n.toArray())}return t},Xa.prototype.fromJSON=function(t){La.prototype.fromJSON.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push((new Q).fromArray(n))}return this};var qa=Object.freeze({__proto__:null,ArcCurve:Ra,CatmullRomCurve3:Na,CubicBezierCurve:Ua,CubicBezierCurve3:za,EllipseCurve:Ea,LineCurve:Ga,LineCurve3:Va,QuadraticBezierCurve:Wa,QuadraticBezierCurve3:Ha,SplineCurve:Xa});function Ya(){La.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Za(t){Ya.call(this),this.type="Path",this.currentPoint=new Q,t&&this.setFromPoints(t)}function Ja(t){Za.call(this,t),this.uuid=$.generateUUID(),this.type="Shape",this.holes=[]}function Ka(t,e=1){le.call(this),this.type="Light",this.color=new Ie(t),this.intensity=e}function $a(t,e,n){Ka.call(this,t,n),this.type="HemisphereLight",this.position.copy(le.DefaultUp),this.updateMatrix(),this.groundColor=new Ie(e)}function Qa(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new Q(512,512),this.map=null,this.mapPass=null,this.matrix=new Bt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Gn,this._frameExtents=new Q(1,1),this._viewportCount=1,this._viewports=[new st(0,0,1,1)]}function tc(){Qa.call(this,new kn(50,1,.5,500)),this.focus=1}function ec(t,e,n,i,r,o){Ka.call(this,t,e),this.type="SpotLight",this.position.copy(le.DefaultUp),this.updateMatrix(),this.target=new le,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==o?o:1,this.shadow=new tc}function nc(){Qa.call(this,new kn(90,1,.5,500)),this._frameExtents=new Q(4,2),this._viewportCount=6,this._viewports=[new st(2,1,1,1),new st(0,1,1,1),new st(3,1,1,1),new st(1,1,1,1),new st(3,0,1,1),new st(1,0,1,1)],this._cubeDirections=[new ut(1,0,0),new ut(-1,0,0),new ut(0,0,1),new ut(0,0,-1),new ut(0,1,0),new ut(0,-1,0)],this._cubeUps=[new ut(0,1,0),new ut(0,1,0),new ut(0,1,0),new ut(0,1,0),new ut(0,0,1),new ut(0,0,-1)]}function ic(t,e,n,i){Ka.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new nc}function rc(t=-1,e=1,n=1,i=-1,r=.1,o=2e3){Dn.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=i,this.near=r,this.far=o,this.updateProjectionMatrix()}function oc(){Qa.call(this,new rc(-5,5,5,-5,.5,500))}function sc(t,e){Ka.call(this,t,e),this.type="DirectionalLight",this.position.copy(le.DefaultUp),this.updateMatrix(),this.target=new le,this.shadow=new oc}function ac(t,e){Ka.call(this,t,e),this.type="AmbientLight"}function cc(t,e,n,i){Ka.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}Ya.prototype=Object.assign(Object.create(La.prototype),{constructor:Ya,add:function(t){this.curves.push(t)},closePath:function(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Ga(e,t))},getPoint:function(t){const e=t*this.getLength(),n=this.getCurveLengths();let i=0;for(;i<n.length;){if(n[i]>=e){const t=n[i]-e,r=this.curves[i],o=r.getLength(),s=0===o?0:1-t/o;return r.getPointAt(s)}i++}return null},getLength:function(){const t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let n=0,i=this.curves.length;n<i;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t=40){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t=12){const e=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const o=r[i],s=o&&o.isEllipseCurve?2*t:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?t*o.points.length:t,a=o.getPoints(s);for(let t=0;t<a.length;t++){const i=a[t];n&&n.equals(i)||(e.push(i),n=i)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e},copy:function(t){La.prototype.copy.call(this,t),this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const n=t.curves[e];this.curves.push(n.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){const t=La.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(let e=0,n=this.curves.length;e<n;e++){const n=this.curves[e];t.curves.push(n.toJSON())}return t},fromJSON:function(t){La.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const n=t.curves[e];this.curves.push((new qa[n.type]).fromJSON(n))}return this}}),Za.prototype=Object.assign(Object.create(Ya.prototype),{constructor:Za,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(let e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this},moveTo:function(t,e){return this.currentPoint.set(t,e),this},lineTo:function(t,e){const n=new Ga(this.currentPoint.clone(),new Q(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this},quadraticCurveTo:function(t,e,n,i){const r=new Wa(this.currentPoint.clone(),new Q(t,e),new Q(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this},bezierCurveTo:function(t,e,n,i,r,o){const s=new Ua(this.currentPoint.clone(),new Q(t,e),new Q(n,i),new Q(r,o));return this.curves.push(s),this.currentPoint.set(r,o),this},splineThru:function(t){const e=new Xa([this.currentPoint.clone()].concat(t));return this.curves.push(e),this.currentPoint.copy(t[t.length-1]),this},arc:function(t,e,n,i,r,o){const s=this.currentPoint.x,a=this.currentPoint.y;return this.absarc(t+s,e+a,n,i,r,o),this},absarc:function(t,e,n,i,r,o){return this.absellipse(t,e,n,n,i,r,o),this},ellipse:function(t,e,n,i,r,o,s,a){const c=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(t+c,e+l,n,i,r,o,s,a),this},absellipse:function(t,e,n,i,r,o,s,a){const c=new Ea(t,e,n,i,r,o,s,a);if(this.curves.length>0){const t=c.getPoint(0);t.equals(this.currentPoint)||this.lineTo(t.x,t.y)}this.curves.push(c);const l=c.getPoint(1);return this.currentPoint.copy(l),this},copy:function(t){return Ya.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){const t=Ya.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return Ya.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),Ja.prototype=Object.assign(Object.create(Za.prototype),{constructor:Ja,getPointsHoles:function(t){const e=[];for(let n=0,i=this.holes.length;n<i;n++)e[n]=this.holes[n].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){Za.prototype.copy.call(this,t),this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const n=t.holes[e];this.holes.push(n.clone())}return this},toJSON:function(){const t=Za.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(let e=0,n=this.holes.length;e<n;e++){const n=this.holes[e];t.holes.push(n.toJSON())}return t},fromJSON:function(t){Za.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const n=t.holes[e];this.holes.push((new Za).fromJSON(n))}return this}}),Ka.prototype=Object.assign(Object.create(le.prototype),{constructor:Ka,isLight:!0,copy:function(t){return le.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){const e=le.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),$a.prototype=Object.assign(Object.create(Ka.prototype),{constructor:$a,isHemisphereLight:!0,copy:function(t){return Ka.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(Qa.prototype,{_projScreenMatrix:new Bt,_lightPositionWorld:new ut,_lookTarget:new ut,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(t){const e=this.camera,n=this.matrix,i=this._projScreenMatrix,r=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(t.matrixWorld),e.position.copy(o),r.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(r),e.updateMatrixWorld(),i.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(i),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)},getViewport:function(t){return this._viewports[t]},getFrameExtents:function(){return this._frameExtents},copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),tc.prototype=Object.assign(Object.create(Qa.prototype),{constructor:tc,isSpotLightShadow:!0,updateMatrices:function(t){const e=this.camera,n=2*$.RAD2DEG*t.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;n===e.fov&&i===e.aspect&&r===e.far||(e.fov=n,e.aspect=i,e.far=r,e.updateProjectionMatrix()),Qa.prototype.updateMatrices.call(this,t)}}),ec.prototype=Object.assign(Object.create(Ka.prototype),{constructor:ec,isSpotLight:!0,copy:function(t){return Ka.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),nc.prototype=Object.assign(Object.create(Qa.prototype),{constructor:nc,isPointLightShadow:!0,updateMatrices:function(t,e=0){const n=this.camera,i=this.matrix,r=this._lightPositionWorld,o=this._lookTarget,s=this._projScreenMatrix;r.setFromMatrixPosition(t.matrixWorld),n.position.copy(r),o.copy(n.position),o.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(o),n.updateMatrixWorld(),i.makeTranslation(-r.x,-r.y,-r.z),s.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(s)}}),ic.prototype=Object.assign(Object.create(Ka.prototype),{constructor:ic,isPointLight:!0,copy:function(t){return Ka.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),rc.prototype=Object.assign(Object.create(Dn.prototype),{constructor:rc,isOrthographicCamera:!0,copy:function(t,e){return Dn.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,i,r,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-t,o=n+t,s=i+e,a=i-e;if(null!==this.view&&this.view.enabled){const t=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=t*this.view.offsetX,o=r+t*this.view.width,s-=e*this.view.offsetY,a=s-e*this.view.height}this.projectionMatrix.makeOrthographic(r,o,s,a,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){const e=le.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),oc.prototype=Object.assign(Object.create(Qa.prototype),{constructor:oc,isDirectionalLightShadow:!0,updateMatrices:function(t){Qa.prototype.updateMatrices.call(this,t)}}),sc.prototype=Object.assign(Object.create(Ka.prototype),{constructor:sc,isDirectionalLight:!0,copy:function(t){return Ka.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),ac.prototype=Object.assign(Object.create(Ka.prototype),{constructor:ac,isAmbientLight:!0}),cc.prototype=Object.assign(Object.create(Ka.prototype),{constructor:cc,isRectAreaLight:!0,copy:function(t){return Ka.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){const e=Ka.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}});class lc{constructor(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new ut)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const n=t.x,i=t.y,r=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.282095),e.addScaledVector(o[1],.488603*i),e.addScaledVector(o[2],.488603*r),e.addScaledVector(o[3],.488603*n),e.addScaledVector(o[4],n*i*1.092548),e.addScaledVector(o[5],i*r*1.092548),e.addScaledVector(o[6],.315392*(3*r*r-1)),e.addScaledVector(o[7],n*r*1.092548),e.addScaledVector(o[8],.546274*(n*n-i*i)),e}getIrradianceAt(t,e){const n=t.x,i=t.y,r=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.886227),e.addScaledVector(o[1],1.023328*i),e.addScaledVector(o[2],1.023328*r),e.addScaledVector(o[3],1.023328*n),e.addScaledVector(o[4],.858086*n*i),e.addScaledVector(o[5],.858086*i*r),e.addScaledVector(o[6],.743125*r*r-.247708),e.addScaledVector(o[7],.858086*n*r),e.addScaledVector(o[8],.429043*(n*n-i*i)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(t.coefficients[n],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(t,e=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(t,e+3*i);return this}toArray(t=[],e=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(t,e+3*i);return t}static getBasisAt(t,e){const n=t.x,i=t.y,r=t.z;e[0]=.282095,e[1]=.488603*i,e[2]=.488603*r,e[3]=.488603*n,e[4]=1.092548*n*i,e[5]=1.092548*i*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*n*r,e[8]=.546274*(n*n-i*i)}}function uc(t,e){Ka.call(this,void 0,e),this.type="LightProbe",this.sh=void 0!==t?t:new lc}function hc(t){va.call(this,t),this.textures={}}uc.prototype=Object.assign(Object.create(Ka.prototype),{constructor:uc,isLightProbe:!0,copy:function(t){return Ka.prototype.copy.call(this,t),this.sh.copy(t.sh),this},fromJSON:function(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this},toJSON:function(t){const e=Ka.prototype.toJSON.call(this,t);return e.object.sh=this.sh.toArray(),e}}),hc.prototype=Object.assign(Object.create(va.prototype),{constructor:hc,load:function(t,e,n,i){const r=this,o=new xa(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,(function(n){try{e(r.parse(JSON.parse(n)))}catch(e){i&&i(e),r.manager.itemError(t)}}),n,i)},parse:function(t){const e=this.textures;function n(t){return e[t],e[t]}const i=new ta[t.type];if(void 0!==t.uuid&&(i.uuid=t.uuid),void 0!==t.name&&(i.name=t.name),void 0!==t.color&&void 0!==i.color&&i.color.setHex(t.color),void 0!==t.roughness&&(i.roughness=t.roughness),void 0!==t.metalness&&(i.metalness=t.metalness),void 0!==t.sheen&&(i.sheen=(new Ie).setHex(t.sheen)),void 0!==t.emissive&&void 0!==i.emissive&&i.emissive.setHex(t.emissive),void 0!==t.specular&&void 0!==i.specular&&i.specular.setHex(t.specular),void 0!==t.shininess&&(i.shininess=t.shininess),void 0!==t.clearcoat&&(i.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(i.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.fog&&(i.fog=t.fog),void 0!==t.flatShading&&(i.flatShading=t.flatShading),void 0!==t.blending&&(i.blending=t.blending),void 0!==t.combine&&(i.combine=t.combine),void 0!==t.side&&(i.side=t.side),void 0!==t.opacity&&(i.opacity=t.opacity),void 0!==t.transparent&&(i.transparent=t.transparent),void 0!==t.alphaTest&&(i.alphaTest=t.alphaTest),void 0!==t.depthTest&&(i.depthTest=t.depthTest),void 0!==t.depthWrite&&(i.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(i.colorWrite=t.colorWrite),void 0!==t.stencilWrite&&(i.stencilWrite=t.stencilWrite),void 0!==t.stencilWriteMask&&(i.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(i.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(i.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(i.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(i.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(i.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(i.stencilZPass=t.stencilZPass),void 0!==t.wireframe&&(i.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(i.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(i.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(i.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(i.rotation=t.rotation),1!==t.linewidth&&(i.linewidth=t.linewidth),void 0!==t.dashSize&&(i.dashSize=t.dashSize),void 0!==t.gapSize&&(i.gapSize=t.gapSize),void 0!==t.scale&&(i.scale=t.scale),void 0!==t.polygonOffset&&(i.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(i.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(i.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(i.skinning=t.skinning),void 0!==t.morphTargets&&(i.morphTargets=t.morphTargets),void 0!==t.morphNormals&&(i.morphNormals=t.morphNormals),void 0!==t.dithering&&(i.dithering=t.dithering),void 0!==t.vertexTangents&&(i.vertexTangents=t.vertexTangents),void 0!==t.visible&&(i.visible=t.visible),void 0!==t.toneMapped&&(i.toneMapped=t.toneMapped),void 0!==t.userData&&(i.userData=t.userData),void 0!==t.vertexColors&&("number"==typeof t.vertexColors?i.vertexColors=t.vertexColors>0:i.vertexColors=t.vertexColors),void 0!==t.uniforms)for(const e in t.uniforms){const r=t.uniforms[e];switch(i.uniforms[e]={},r.type){case"t":i.uniforms[e].value=n(r.value);break;case"c":i.uniforms[e].value=(new Ie).setHex(r.value);break;case"v2":i.uniforms[e].value=(new Q).fromArray(r.value);break;case"v3":i.uniforms[e].value=(new ut).fromArray(r.value);break;case"v4":i.uniforms[e].value=(new st).fromArray(r.value);break;case"m3":i.uniforms[e].value=(new tt).fromArray(r.value);break;case"m4":i.uniforms[e].value=(new Bt).fromArray(r.value);break;default:i.uniforms[e].value=r.value}}if(void 0!==t.defines&&(i.defines=t.defines),void 0!==t.vertexShader&&(i.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(i.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(const e in t.extensions)i.extensions[e]=t.extensions[e];if(void 0!==t.shading&&(i.flatShading=1===t.shading),void 0!==t.size&&(i.size=t.size),void 0!==t.sizeAttenuation&&(i.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(i.map=n(t.map)),void 0!==t.matcap&&(i.matcap=n(t.matcap)),void 0!==t.alphaMap&&(i.alphaMap=n(t.alphaMap)),void 0!==t.bumpMap&&(i.bumpMap=n(t.bumpMap)),void 0!==t.bumpScale&&(i.bumpScale=t.bumpScale),void 0!==t.normalMap&&(i.normalMap=n(t.normalMap)),void 0!==t.normalMapType&&(i.normalMapType=t.normalMapType),void 0!==t.normalScale){let e=t.normalScale;!1===Array.isArray(e)&&(e=[e,e]),i.normalScale=(new Q).fromArray(e)}return void 0!==t.displacementMap&&(i.displacementMap=n(t.displacementMap)),void 0!==t.displacementScale&&(i.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(i.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(i.roughnessMap=n(t.roughnessMap)),void 0!==t.metalnessMap&&(i.metalnessMap=n(t.metalnessMap)),void 0!==t.emissiveMap&&(i.emissiveMap=n(t.emissiveMap)),void 0!==t.emissiveIntensity&&(i.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(i.specularMap=n(t.specularMap)),void 0!==t.envMap&&(i.envMap=n(t.envMap)),void 0!==t.envMapIntensity&&(i.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(i.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(i.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(i.lightMap=n(t.lightMap)),void 0!==t.lightMapIntensity&&(i.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(i.aoMap=n(t.aoMap)),void 0!==t.aoMapIntensity&&(i.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(i.gradientMap=n(t.gradientMap)),void 0!==t.clearcoatMap&&(i.clearcoatMap=n(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=n(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(i.clearcoatNormalMap=n(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(i.clearcoatNormalScale=(new Q).fromArray(t.clearcoatNormalScale)),void 0!==t.transmission&&(i.transmission=t.transmission),void 0!==t.transmissionMap&&(i.transmissionMap=n(t.transmissionMap)),i},setTextures:function(t){return this.textures=t,this}});const pc={decodeText:function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);let e="";for(let n=0,i=t.length;n<i;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch(t){return e}},extractUrlBase:function(t){const e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}};function fc(){an.call(this),this.type="InstancedBufferGeometry",this.instanceCount=Infinity}function dc(t,e,n,i){"number"==typeof n&&(i=n,n=!1),Be.call(this,t,e,n),this.meshPerAttribute=i||1}function _c(t){va.call(this,t)}function mc(t){va.call(this,t),this.options={premultiplyAlpha:"none"}}function gc(){this.type="ShapePath",this.color=new Ie,this.subPaths=[],this.currentPath=null}function bc(t){this.type="Font",this.data=t}function vc(t,e,n,i,r){const o=r.glyphs[t]||r.glyphs["?"];if(!o)return;const s=new gc;let a,c,l,u,h,p,f,d;if(o.o){const t=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let r=0,o=t.length;r<o;)switch(t[r++]){case"m":a=t[r++]*e+n,c=t[r++]*e+i,s.moveTo(a,c);break;case"l":a=t[r++]*e+n,c=t[r++]*e+i,s.lineTo(a,c);break;case"q":l=t[r++]*e+n,u=t[r++]*e+i,h=t[r++]*e+n,p=t[r++]*e+i,s.quadraticCurveTo(h,p,l,u);break;case"b":l=t[r++]*e+n,u=t[r++]*e+i,h=t[r++]*e+n,p=t[r++]*e+i,f=t[r++]*e+n,d=t[r++]*e+i,s.bezierCurveTo(h,p,f,d,l,u)}}return{offsetX:o.ha*e,path:s}}function yc(t){va.call(this,t)}let xc;fc.prototype=Object.assign(Object.create(an.prototype),{constructor:fc,isInstancedBufferGeometry:!0,copy:function(t){return an.prototype.copy.call(this,t),this.instanceCount=t.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const t=an.prototype.toJSON.call(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}),dc.prototype=Object.assign(Object.create(Be.prototype),{constructor:dc,isInstancedBufferAttribute:!0,copy:function(t){return Be.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){const t=Be.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}),_c.prototype=Object.assign(Object.create(va.prototype),{constructor:_c,load:function(t,e,n,i){const r=this,o=new xa(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,(function(n){try{e(r.parse(JSON.parse(n)))}catch(e){i&&i(e),r.manager.itemError(t)}}),n,i)},parse:function(t){const e={},n={};function i(t,i){if(void 0!==e[i])return e[i];const r=t.interleavedBuffers[i],o=function(t,e){if(void 0!==n[e])return n[e];const i=t.arrayBuffers[e],r=new Uint32Array(i).buffer;return n[e]=r,r}(t,r.buffer),s=new $r($e(r.type,o),r.stride);return s.uuid=r.uuid,e[i]=s,s}const r=t.isInstancedBufferGeometry?new fc:new an,o=t.data.index;if(void 0!==o){const t=$e(o.type,o.array);r.setIndex(new Be(t,1))}const s=t.data.attributes;for(const e in s){const n=s[e];let o;if(n.isInterleavedBufferAttribute)o=new to(i(t.data,n.data),n.itemSize,n.offset,n.normalized);else{const t=$e(n.type,n.array);o=new(n.isInstancedBufferAttribute?dc:Be)(t,n.itemSize,n.normalized)}void 0!==n.name&&(o.name=n.name),r.setAttribute(e,o)}const a=t.data.morphAttributes;if(a)for(const e in a){const n=a[e],o=[];for(let e=0,r=n.length;e<r;e++){const r=n[e];let s;s=r.isInterleavedBufferAttribute?new to(i(t.data,r.data),r.itemSize,r.offset,r.normalized):new Be($e(r.type,r.array),r.itemSize,r.normalized),void 0!==r.name&&(s.name=r.name),o.push(s)}r.morphAttributes[e]=o}t.data.morphTargetsRelative&&(r.morphTargetsRelative=!0);const c=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==c)for(let t=0,e=c.length;t!==e;++t){const e=c[t];r.addGroup(e.start,e.count,e.materialIndex)}const l=t.data.boundingSphere;if(void 0!==l){const t=new ut;void 0!==l.center&&t.fromArray(l.center),r.boundingSphere=new Et(t,l.radius)}return t.name&&(r.name=t.name),t.userData&&(r.userData=t.userData),r}}),mc.prototype=Object.assign(Object.create(va.prototype),{constructor:mc,isImageBitmapLoader:!0,setOptions:function(t){return this.options=t,this},load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,o=ma.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout((function(){e&&e(o),r.manager.itemEnd(t)}),0),o;const s={};s.credentials="anonymous"===this.crossOrigin?"same-origin":"include",fetch(t,s).then((function(t){return t.blob()})).then((function(t){return createImageBitmap(t,r.options)})).then((function(n){ma.add(t,n),e&&e(n),r.manager.itemEnd(t)})).catch((function(e){i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)})),r.manager.itemStart(t)}}),Object.assign(gc.prototype,{moveTo:function(t,e){return this.currentPath=new Za,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this},lineTo:function(t,e){return this.currentPath.lineTo(t,e),this},quadraticCurveTo:function(t,e,n,i){return this.currentPath.quadraticCurveTo(t,e,n,i),this},bezierCurveTo:function(t,e,n,i,r,o){return this.currentPath.bezierCurveTo(t,e,n,i,r,o),this},splineThru:function(t){return this.currentPath.splineThru(t),this},toShapes:function(t,e){function n(t){const e=[];for(let n=0,i=t.length;n<i;n++){const i=t[n],r=new Ja;r.curves=i.curves,e.push(r)}return e}function i(t,e){const n=e.length;let i=!1;for(let r=n-1,o=0;o<n;r=o++){let n=e[r],s=e[o],a=s.x-n.x,c=s.y-n.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(n=e[o],a=-a,s=e[r],c=-c),t.y<n.y||t.y>s.y)continue;if(t.y===n.y){if(t.x===n.x)return!0}else{const e=c*(t.x-n.x)-a*(t.y-n.y);if(0===e)return!0;if(e<0)continue;i=!i}}else{if(t.y!==n.y)continue;if(s.x<=t.x&&t.x<=n.x||n.x<=t.x&&t.x<=s.x)return!0}}return i}const r=ks.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===e)return n(o);let s,a,c;const l=[];if(1===o.length)return a=o[0],c=new Ja,c.curves=a.curves,l.push(c),l;let u=!r(o[0].getPoints());u=t?!u:u;const h=[],p=[];let f,d,_=[],m=0;p[m]=void 0,_[m]=[];for(let e=0,n=o.length;e<n;e++)a=o[e],f=a.getPoints(),s=r(f),s=t?!s:s,s?(!u&&p[m]&&m++,p[m]={s:new Ja,p:f},p[m].s.curves=a.curves,u&&m++,_[m]=[]):_[m].push({h:a,p:f[0]});if(!p[0])return n(o);if(p.length>1){let t=!1;const e=[];for(let t=0,e=p.length;t<e;t++)h[t]=[];for(let n=0,r=p.length;n<r;n++){const r=_[n];for(let o=0;o<r.length;o++){const s=r[o];let a=!0;for(let r=0;r<p.length;r++)i(s.p,p[r].p)&&(n!==r&&e.push({froms:n,tos:r,hole:o}),a?(a=!1,h[r].push(s)):t=!0);a&&h[n].push(s)}}e.length>0&&(t||(_=h))}for(let t=0,e=p.length;t<e;t++){c=p[t].s,l.push(c),d=_[t];for(let t=0,e=d.length;t<e;t++)c.holes.push(d[t].h)}return l}}),Object.assign(bc.prototype,{isFont:!0,generateShapes:function(t,e=100){const n=[],i=function(t,e,n){const i=Array.from?Array.from(t):String(t).split(""),r=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,s=[];let a=0,c=0;for(let t=0;t<i.length;t++){const e=i[t];if("\n"===e)a=0,c-=o;else{const t=vc(e,r,a,c,n);a+=t.offsetX,s.push(t.path)}}return s}(t,e,this.data);for(let t=0,e=i.length;t<e;t++)Array.prototype.push.apply(n,i[t].toShapes());return n}}),yc.prototype=Object.assign(Object.create(va.prototype),{constructor:yc,load:function(t,e,n,i){const r=this,o=new xa(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,(function(t){let n;try{n=JSON.parse(t)}catch(e){n=JSON.parse(t.substring(65,t.length-2))}const i=r.parse(n);e&&e(i)}),n,i)},parse:function(t){return new bc(t)}});const wc=function(){return void 0===xc&&(xc=new(window.AudioContext||window.webkitAudioContext)),xc};function Sc(t){va.call(this,t)}function Mc(t,e,n){uc.call(this,void 0,n);const i=(new Ie).set(t),r=(new Ie).set(e),o=new ut(i.r,i.g,i.b),s=new ut(r.r,r.g,r.b),a=Math.sqrt(Math.PI),c=a*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(s).multiplyScalar(a),this.sh.coefficients[1].copy(o).sub(s).multiplyScalar(c)}function Cc(t,e){uc.call(this,void 0,e);const n=(new Ie).set(t);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}Sc.prototype=Object.assign(Object.create(va.prototype),{constructor:Sc,load:function(t,e,n,i){const r=this,o=new xa(r.manager);o.setResponseType("arraybuffer"),o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,(function(n){try{const t=n.slice(0);wc().decodeAudioData(t,(function(t){e(t)}))}catch(e){i&&i(e),r.manager.itemError(t)}}),n,i)}}),Mc.prototype=Object.assign(Object.create(uc.prototype),{constructor:Mc,isHemisphereLightProbe:!0,copy:function(t){return uc.prototype.copy.call(this,t),this},toJSON:function(t){return uc.prototype.toJSON.call(this,t)}}),Cc.prototype=Object.assign(Object.create(uc.prototype),{constructor:Cc,isAmbientLightProbe:!0,copy:function(t){return uc.prototype.copy.call(this,t),this},toJSON:function(t){return uc.prototype.toJSON.call(this,t)}});const Tc=new Bt,Ac=new Bt;Object.assign(function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new kn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new kn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}.prototype,{update:function(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep;const n=t.projectionMatrix.clone(),i=e.eyeSep/2,r=i*e.near/e.focus,o=e.near*Math.tan($.DEG2RAD*e.fov*.5)/e.zoom;let s,a;Ac.elements[12]=-i,Tc.elements[12]=i,s=-o*e.aspect+r,a=o*e.aspect+r,n.elements[0]=2*e.near/(a-s),n.elements[8]=(a+s)/(a-s),this.cameraL.projectionMatrix.copy(n),s=-o*e.aspect-r,a=o*e.aspect-r,n.elements[0]=2*e.near/(a-s),n.elements[8]=(a+s)/(a-s),this.cameraR.projectionMatrix.copy(n)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(Ac),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Tc)}});class Lc extends le{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(!0===this.isPlaying)return;if(!1===this.hasPlaybackControl)return;this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1!==this.hasPlaybackControl&&this.loop}setLoop(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}function Ec(t,e,n){let i,r,o;switch(this.binding=t,this.valueSize=n,e){case"quaternion":i=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:i=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(Ec.prototype,{accumulate:function(t,e){const n=this.buffer,i=this.valueSize,r=t*i+i;let o=this.cumulativeWeight;if(0===o){for(let t=0;t!==i;++t)n[r+t]=n[t];o=e}else{o+=e;const t=e/o;this._mixBufferRegion(n,r,0,t,i)}this.cumulativeWeight=o},accumulateAdditive:function(t){const e=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,i,0,t,n),this.cumulativeWeightAdditive+=t},apply:function(t){const e=this.valueSize,n=this.buffer,i=t*e+e,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const t=e*this._origIndex;this._mixBufferRegion(n,i,t,1-r,e)}o>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*e,1,e);for(let t=e,r=e+e;t!==r;++t)if(n[t]!==n[t+e]){s.setValue(n,i);break}},saveOriginalState:function(){const t=this.binding,e=this.buffer,n=this.valueSize,i=n*this._origIndex;t.getValue(e,i);for(let t=n,r=i;t!==r;++t)e[t]=e[i+t%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_setAdditiveIdentityNumeric:function(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let n=t;n<e;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[e+n]=this.buffer[t+n]},_select:function(t,e,n,i,r){if(i>=.5)for(let i=0;i!==r;++i)t[e+i]=t[n+i]},_slerp:function(t,e,n,i){lt.slerpFlat(t,e,t,e,t,n,i)},_slerpAdditive:function(t,e,n,i,r){const o=this._workIndex*r;lt.multiplyQuaternionsFlat(t,o,t,e,t,n),lt.slerpFlat(t,e,t,e,t,o,i)},_lerp:function(t,e,n,i,r){const o=1-i;for(let s=0;s!==r;++s){const r=e+s;t[r]=t[r]*o+t[n+s]*i}},_lerpAdditive:function(t,e,n,i,r){for(let o=0;o!==r;++o){const r=e+o;t[r]=t[r]+t[n+o]*i}}});const Rc="\\[\\]\\.:\\/",Ic=new RegExp("[\\[\\]\\.:\\/]","g"),Pc="[^\\[\\]\\.:\\/]",Dc="[^"+Rc.replace("\\.","")+"]",kc=/((?:WC+[\/:])*)/.source.replace("WC",Pc),Oc=/(WCOD+)?/.source.replace("WCOD",Dc),Nc=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Pc),Fc=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Pc),Bc=new RegExp("^"+kc+Oc+Nc+Fc+"$"),jc=["material","materials","bones"];function Uc(t,e,n){const i=n||zc.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,i)}function zc(t,e,n){this.path=e,this.parsedPath=n||zc.parseTrackName(e),this.node=zc.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}Object.assign(Uc.prototype,{getValue:function(t,e){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(t,e)},setValue:function(t,e){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(t,e)},bind:function(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(zc,{Composite:Uc,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new zc.Composite(t,e,n):new zc(t,e,n)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(Ic,"")},parseTrackName:function(t){const e=Bc.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){const t=n.nodeName.substring(i+1);-1!==jc.indexOf(t)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=t)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n},findNode:function(t,e){if(!e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){const n=function(t){for(let i=0;i<t.length;i++){const r=t[i];if(r.name===e||r.uuid===e)return r;const o=n(r.children);if(o)return o}return null},i=n(t.children);if(i)return i}return null}}),Object.assign(zc.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)t[e++]=n[i]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++]},function(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){let t=this.node;const e=this.parsedPath,n=e.objectName,i=e.propertyName;let r=e.propertyIndex;if(t||(t=zc.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return;if(n){let i=e.objectIndex;switch(n){case"materials":if(!t.material)return;if(!t.material.materials)return;t=t.material.materials;break;case"bones":if(!t.skeleton)return;t=t.skeleton.bones;for(let e=0;e<t.length;e++)if(t[e].name===i){i=e;break}break;default:if(void 0===t[n])return;t=t[n]}if(void 0!==i){if(void 0===t[i])return;t=t[i]}}const o=t[i];if(void 0===o)return void e.nodeName;let s=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?s=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(s=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!t.geometry)return;if(!t.geometry.isBufferGeometry)return;if(!t.geometry.morphAttributes)return;void 0!==t.morphTargetDictionary[r]&&(r=t.morphTargetDictionary[r])}a=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else void 0!==o.fromArray&&void 0!==o.toArray?(a=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(a=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][s]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(zc.prototype,{_getValue_unbound:zc.prototype.getValue,_setValue_unbound:zc.prototype.setValue}),Object.assign(function(){this.uuid=$.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let e=0,n=arguments.length;e!==n;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}.prototype,{isAnimationObjectGroup:!0,add:function(){const t=this._objects,e=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,o=r.length;let s,a=t.length,c=this.nCachedObjects_;for(let l=0,u=arguments.length;l!==u;++l){const u=arguments[l],h=u.uuid;let p=e[h];if(void 0===p){p=a++,e[h]=p,t.push(u);for(let t=0,e=o;t!==e;++t)r[t].push(new zc(u,n[t],i[t]))}else if(p<c){s=t[p];const a=--c,l=t[a];e[l.uuid]=p,t[p]=l,e[h]=a,t[a]=u;for(let t=0,e=o;t!==e;++t){const e=r[t],o=e[a];let s=e[p];e[p]=o,void 0===s&&(s=new zc(u,n[t],i[t])),e[a]=s}}else t[p]}this.nCachedObjects_=c},remove:function(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const s=arguments[o],a=s.uuid,c=e[a];if(void 0!==c&&c>=r){const o=r++,l=t[o];e[l.uuid]=c,t[c]=l,e[a]=o,t[o]=s;for(let t=0,e=i;t!==e;++t){const e=n[t],i=e[o],r=e[c];e[c]=i,e[o]=r}}}this.nCachedObjects_=r},uncache:function(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_,o=t.length;for(let s=0,a=arguments.length;s!==a;++s){const a=arguments[s].uuid,c=e[a];if(void 0!==c)if(delete e[a],c<r){const s=--r,a=t[s],l=--o,u=t[l];e[a.uuid]=c,t[c]=a,e[u.uuid]=s,t[s]=u,t.pop();for(let t=0,e=i;t!==e;++t){const e=n[t],i=e[s],r=e[l];e[c]=i,e[s]=r,e.pop()}}else{const r=--o,s=t[r];r>0&&(e[s.uuid]=c),t[c]=s,t.pop();for(let t=0,e=i;t!==e;++t){const e=n[t];e[c]=e[r],e.pop()}}}this.nCachedObjects_=r},subscribe_:function(t,e){const n=this._bindingsIndicesByPath;let i=n[t];const r=this._bindings;if(void 0!==i)return r[i];const o=this._paths,s=this._parsedPaths,a=this._objects,c=a.length,l=this.nCachedObjects_,u=new Array(c);i=r.length,n[t]=i,o.push(t),s.push(e),r.push(u);for(let n=l,i=a.length;n!==i;++n){const i=a[n];u[n]=new zc(i,t,e)}return u},unsubscribe_:function(t){const e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){const i=this._paths,r=this._parsedPaths,o=this._bindings,s=o.length-1,a=o[s];e[t[s]]=n,o[n]=a,o.pop(),r[n]=r[s],r.pop(),i[n]=i[s],i.pop()}}});class Gc{constructor(t,e,n=null,i=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=n,this.blendMode=i;const r=e.tracks,o=r.length,s=new Array(o),a={endingStart:k,endingEnd:k};for(let t=0;t!==o;++t){const e=r[t].createInterpolant(null);s[t]=e,e.settings=a}this._interpolantSettings=a,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=Infinity,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){const n=this._clip.duration,i=t._clip.duration,r=i/n,o=n/i;t.warp(1,r,e),this.warp(o,1,e)}return this}crossFadeTo(t,e,n){return t.crossFadeFrom(this,e,n)}stopFading(){const t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,n){const i=this._mixer,r=i.time,o=this.timeScale;let s=this._timeScaleInterpolant;null===s&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const a=s.parameterPositions,c=s.sampleValues;return a[0]=r,a[1]=r+n,c[0]=t/o,c[1]=e/o,this}stopWarping(){const t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,n,i){if(!this.enabled)return void this._updateWeight(t);const r=this._startTime;if(null!==r){const i=(t-r)*n;if(i<0||0===n)return;this._startTime=null,e=n*i}e*=this._updateTimeScale(t);const o=this._updateTime(e),s=this._updateWeight(t);if(s>0){const t=this._interpolants,e=this._propertyBindings;switch(this.blendMode){case 2501:for(let n=0,i=t.length;n!==i;++n)t[n].evaluate(o),e[n].accumulateAdditive(s);break;case F:default:for(let n=0,r=t.length;n!==r;++n)t[n].evaluate(o),e[n].accumulate(i,s)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const n=this._weightInterpolant;if(null!==n){const i=n.evaluate(t)[0];e*=i,t>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const n=this._timeScaleInterpolant;null!==n&&(e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,n=this.loop;let i=this.time+t,r=this._loopCount;const o=2202===n;if(0===t)return-1===r?i:o&&1==(1&r)?e-i:i;if(2200===n){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(i>=e)i=e;else{if(!(i<0)){this.time=i;break t}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),i>=e||i<0){const n=Math.floor(i/e);i-=e*n,r+=Math.abs(n);const s=this.repetitions-r;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=t>0?e:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){const e=t<0;this._setEndings(e,!e,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=i;if(o&&1==(1&r))return e-i}return i}_setEndings(t,e,n){const i=this._interpolantSettings;n?(i.endingStart=O,i.endingEnd=O):(i.endingStart=t?this.zeroSlopeAtStart?O:k:N,i.endingEnd=e?this.zeroSlopeAtEnd?O:k:N)}_scheduleFading(t,e,n){const i=this._mixer,r=i.time;let o=this._weightInterpolant;null===o&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,a=o.sampleValues;return s[0]=r,a[0]=e,s[1]=r+t,a[1]=n,this}}function Vc(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}Vc.prototype=Object.assign(Object.create(Z.prototype),{constructor:Vc,_bindAction:function(t,e){const n=t._localRoot||this._root,i=t._clip.tracks,r=i.length,o=t._propertyBindings,s=t._interpolants,a=n.uuid,c=this._bindingsByRootAndName;let l=c[a];void 0===l&&(l={},c[a]=l);for(let t=0;t!==r;++t){const r=i[t],c=r.name;let u=l[c];if(void 0!==u)o[t]=u;else{if(u=o[t],void 0!==u){null===u._cacheIndex&&(++u.referenceCount,this._addInactiveBinding(u,a,c));continue}const i=e&&e._propertyBindings[t].binding.parsedPath;u=new Ec(zc.create(n,c,i),r.ValueTypeName,r.getValueSize()),++u.referenceCount,this._addInactiveBinding(u,a,c),o[t]=u}s[t].resultBuffer=u.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){const e=(t._localRoot||this._root).uuid,n=t._clip.uuid,i=this._actionsByClip[n];this._bindAction(t,i&&i.knownActions[0]),this._addInactiveAction(t,n,e)}const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){const e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){const i=this._actions,r=this._actionsByClip;let o=r[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=o;else{const e=o.knownActions;t._byClipCacheIndex=e.length,e.push(t)}t._cacheIndex=i.length,i.push(t),o.actionByRoot[n]=t},_removeInactiveAction:function(t){const e=this._actions,n=e[e.length-1],i=t._cacheIndex;n._cacheIndex=i,e[i]=n,e.pop(),t._cacheIndex=null;const r=t._clip.uuid,o=this._actionsByClip,s=o[r],a=s.knownActions,c=a[a.length-1],l=t._byClipCacheIndex;c._byClipCacheIndex=l,a[l]=c,a.pop(),t._byClipCacheIndex=null,delete s.actionByRoot[(t._localRoot||this._root).uuid],0===a.length&&delete o[r],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==--n.referenceCount&&this._removeInactiveBinding(n)}},_lendAction:function(t){const e=this._actions,n=t._cacheIndex,i=this._nActiveActions++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackAction:function(t){const e=this._actions,n=t._cacheIndex,i=--this._nActiveActions,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_addInactiveBinding:function(t,e,n){const i=this._bindingsByRootAndName,r=this._bindings;let o=i[e];void 0===o&&(o={},i[e]=o),o[n]=t,t._cacheIndex=r.length,r.push(t)},_removeInactiveBinding:function(t){const e=this._bindings,n=t.binding,i=n.rootNode.uuid,r=n.path,o=this._bindingsByRootAndName,s=o[i],a=e[e.length-1],c=t._cacheIndex;a._cacheIndex=c,e[c]=a,e.pop(),delete s[r],0===Object.keys(s).length&&delete o[i]},_lendBinding:function(t){const e=this._bindings,n=t._cacheIndex,i=this._nActiveBindings++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackBinding:function(t){const e=this._bindings,n=t._cacheIndex,i=--this._nActiveBindings,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_lendControlInterpolant:function(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let n=t[e];return void 0===n&&(n=new ra(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){const e=this._controlInterpolants,n=t.__cacheIndex,i=--this._nActiveControlInterpolants,r=e[i];t.__cacheIndex=i,e[i]=t,r.__cacheIndex=n,e[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e,n){const i=e||this._root,r=i.uuid;let o="string"==typeof t?da.findByName(i,t):t;const s=null!==o?o.uuid:t,a=this._actionsByClip[s];let c=null;if(void 0===n&&(n=null!==o?o.blendMode:F),void 0!==a){const t=a.actionByRoot[r];if(void 0!==t&&t.blendMode===n)return t;c=a.knownActions[0],null===o&&(o=c._clip)}if(null===o)return null;const l=new Gc(this,o,e,n);return this._bindAction(l,c),this._addInactiveAction(l,s,r),l},existingAction:function(t,e){const n=e||this._root,i=n.uuid,r="string"==typeof t?da.findByName(n,t):t,o=r?r.uuid:t,s=this._actionsByClip[o];return void 0!==s&&s.actionByRoot[i]||null},stopAllAction:function(){const t=this._actions;for(let e=this._nActiveActions-1;e>=0;--e)t[e].stop();return this},update:function(t){t*=this.timeScale;const e=this._actions,n=this._nActiveActions,i=this.time+=t,r=Math.sign(t),o=this._accuIndex^=1;for(let s=0;s!==n;++s)e[s]._update(i,t,r,o);const s=this._bindings,a=this._nActiveBindings;for(let t=0;t!==a;++t)s[t].apply(o);return this},setTime:function(t){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(t)},getRoot:function(){return this._root},uncacheClip:function(t){const e=this._actions,n=t.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){const t=r.knownActions;for(let n=0,i=t.length;n!==i;++n){const i=t[n];this._deactivateAction(i);const r=i._cacheIndex,o=e[e.length-1];i._cacheIndex=null,i._byClipCacheIndex=null,o._cacheIndex=r,e[r]=o,e.pop(),this._removeInactiveBindingsForAction(i)}delete i[n]}},uncacheRoot:function(t){const e=t.uuid,n=this._actionsByClip;for(const t in n){const i=n[t].actionByRoot[e];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}const i=this._bindingsByRootAndName[e];if(void 0!==i)for(const t in i){const e=i[t];e.restoreOriginalState(),this._removeInactiveBinding(e)}},uncacheAction:function(t,e){const n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}});class Wc{constructor(t){"string"==typeof t&&(t=arguments[1]),this.value=t}clone(){return new Wc(void 0===this.value.clone?this.value:this.value.clone())}}function Hc(t,e,n){$r.call(this,t,e),this.meshPerAttribute=n||1}function Xc(t,e,n,i,r){this.buffer=t,this.type=e,this.itemSize=n,this.elementSize=i,this.count=r,this.version=0}function qc(t,e,n,i){this.ray=new Ft(t,e),this.near=n||0,this.far=i||Infinity,this.camera=null,this.layers=new Zt,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return this.Points}}})}function Yc(t,e){return t.distance-e.distance}function Zc(t,e,n,i){if(t.layers.test(e.layers)&&t.raycast(e,n),!0===i){const i=t.children;for(let t=0,r=i.length;t<r;t++)Zc(i[t],e,n,!0)}}Hc.prototype=Object.assign(Object.create($r.prototype),{constructor:Hc,isInstancedInterleavedBuffer:!0,copy:function(t){return $r.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},clone:function(t){const e=$r.prototype.clone.call(this,t);return e.meshPerAttribute=this.meshPerAttribute,e},toJSON:function(t){const e=$r.prototype.toJSON.call(this,t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}),Object.defineProperty(Xc.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Xc.prototype,{isGLBufferAttribute:!0,setBuffer:function(t){return this.buffer=t,this},setType:function(t,e){return this.type=t,this.elementSize=e,this},setItemSize:function(t){return this.itemSize=t,this},setCount:function(t){return this.count=t,this}}),Object.assign(qc.prototype,{set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e&&e.isOrthographicCamera&&(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e)},intersectObject:function(t,e,n){const i=n||[];return Zc(t,this,i,e),i.sort(Yc),i},intersectObjects:function(t,e,n){const i=n||[];if(!1===Array.isArray(t))return i;for(let n=0,r=t.length;n<r;n++)Zc(t[n],this,i,e);return i.sort(Yc),i}});class Jc{constructor(t=1,e=0,n=0){return this.radius=t,this.phi=e,this.theta=n,this}set(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}clone(){return(new this.constructor).copy(this)}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){const t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos($.clamp(e/this.radius,-1,1))),this}}const Kc=new Q,$c=new ut,Qc=new ut;function tl(t){le.call(this),this.material=t,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}tl.prototype=Object.create(le.prototype),tl.prototype.constructor=tl,tl.prototype.isImmediateRenderObject=!0;const el=new ut,nl=new Bt,il=new Bt;class rl extends Ho{constructor(t){const e=ol(t),n=new an,i=[],r=[],o=new Ie(0,0,1),s=new Ie(0,1,0);for(let t=0;t<e.length;t++){const n=e[t];n.parent&&n.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(o.r,o.g,o.b),r.push(s.r,s.g,s.b))}n.setAttribute("position",new qe(i,3)),n.setAttribute("color",new qe(r,3)),super(n,new No({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,n=this.geometry,i=n.getAttribute("position");il.copy(this.root.matrixWorld).invert();for(let t=0,n=0;t<e.length;t++){const r=e[t];r.parent&&r.parent.isBone&&(nl.multiplyMatrices(il,r.matrixWorld),el.setFromMatrixPosition(nl),i.setXYZ(n,el.x,el.y,el.z),nl.multiplyMatrices(il,r.parent.matrixWorld),el.setFromMatrixPosition(nl),i.setXYZ(n+1,el.x,el.y,el.z),n+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}}function ol(t){const e=[];t&&t.isBone&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,ol(t.children[n]));return e}const sl=new Float32Array(1),al=(new Int32Array(sl.buffer),Math.pow(2,8),[.125,.215,.35,.446,.526,.582]),cl=5+al.length,{_lodPlanes:ll,_sizeLods:ul,_sigmas:hl}=pl();function pl(){const t=[],e=[],n=[];let i=8;for(let r=0;r<cl;r++){const o=Math.pow(2,i);e.push(o);let s=1/o;r>4?s=al[r-8+4-1]:0==r&&(s=0),n.push(s);const a=1/(o-1),c=-a/2,l=1+a/2,u=[c,c,l,c,l,l,c,c,l,l,c,l],h=6,p=6,f=3,d=2,_=1,m=new Float32Array(f*p*h),g=new Float32Array(d*p*h),b=new Float32Array(_*p*h);for(let t=0;t<h;t++){const e=t%3*2/3-1,n=t>2?0:-1,i=[e,n,0,e+2/3,n,0,e+2/3,n+1,0,e,n,0,e+2/3,n+1,0,e,n+1,0];m.set(i,f*p*t),g.set(u,d*p*t);const r=[t,t,t,t,t,t];b.set(r,_*p*t)}const v=new an;v.setAttribute("position",new Be(m,f)),v.setAttribute("uv",new Be(g,d)),v.setAttribute("faceIndex",new Be(b,_)),t.push(v),i>4&&i--}return{_lodPlanes:t,_sizeLods:e,_sigmas:n}}function fl(t){Na.call(this,t),this.type="catmullrom"}Math.sqrt(5),La.create=function(t,e){return t.prototype=Object.create(La.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(Ya.prototype,{createPointsGeometry:function(t){const e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){const e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){const e=new cs;for(let n=0,i=t.length;n<i;n++){const i=t[n];e.vertices.push(new ut(i.x,i.y,i.z||0))}return e}}),Object.assign(Za.prototype,{fromPoints:function(t){return this.setFromPoints(t)}}),Object.create(Na.prototype),Object.create(Na.prototype),fl.prototype=Object.create(Na.prototype),Object.assign(fl.prototype,{initFromArray:function(){},getControlPointsArray:function(){},reparametrizeByArcLength:function(){}}),class extends Ho{constructor(t=10,e=10,n=4473924,i=8947848){n=new Ie(n),i=new Ie(i);const r=e/2,o=t/e,s=t/2,a=[],c=[];for(let t=0,l=0,u=-s;t<=e;t++,u+=o){a.push(-s,0,u,s,0,u),a.push(u,0,-s,u,0,s);const e=t===r?n:i;e.toArray(c,l),l+=3,e.toArray(c,l),l+=3,e.toArray(c,l),l+=3,e.toArray(c,l),l+=3}const l=new an;l.setAttribute("position",new qe(a,3)),l.setAttribute("color",new qe(c,3)),super(l,new No({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}.prototype.setColors=function(){},rl.prototype.update=function(){},Object.assign(va.prototype,{extractUrlBase:function(t){return pc.extractUrlBase(t)}}),va.Handlers={add:function(){},get:function(){}},Object.assign(class{constructor(t,e){Object.defineProperty(this,"isBox2",{value:!0}),this.min=void 0!==t?t:new Q(Infinity,Infinity),this.max=void 0!==e?e:new Q(-Infinity,-Infinity)}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=Kc.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=Infinity,this.max.x=this.max.y=-Infinity,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return void 0===t&&(t=new Q),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return void 0===t&&(t=new Q),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return void 0===e&&(e=new Q),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,e){return void 0===e&&(e=new Q),e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return Kc.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}.prototype,{center:function(t){return this.getCenter(t)},empty:function(){return this.isEmpty()},isIntersectionBox:function(t){return this.intersectsBox(t)},size:function(t){return this.getSize(t)}}),Object.assign(ft.prototype,{center:function(t){return this.getCenter(t)},empty:function(){return this.isEmpty()},isIntersectionBox:function(t){return this.intersectsBox(t)},isIntersectionSphere:function(t){return this.intersectsSphere(t)},size:function(t){return this.getSize(t)}}),Object.assign(Et.prototype,{empty:function(){return this.isEmpty()}}),Gn.prototype.setFromMatrix=function(t){return this.setFromProjectionMatrix(t)},class{constructor(t,e){this.start=void 0!==t?t:new ut,this.end=void 0!==e?e:new ut}set(t,e){return this.start.copy(t),this.end.copy(e),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return void 0===t&&(t=new ut),t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return void 0===t&&(t=new ut),t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return void 0===e&&(e=new ut),this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){$c.subVectors(t,this.start),Qc.subVectors(this.end,this.start);const n=Qc.dot(Qc);let i=Qc.dot($c)/n;return e&&(i=$.clamp(i,0,1)),i}closestPointToPoint(t,e,n){const i=this.closestPointToPointParameter(t,e);return void 0===n&&(n=new ut),this.delta(n).multiplyScalar(i).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}.prototype.center=function(t){return this.getCenter(t)},Object.assign($,{random16:function(){return Math.random()},nearestPowerOfTwo:function(t){return $.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return $.ceilPowerOfTwo(t)}}),Object.assign(tt.prototype,{flattenToArrayOffset:function(t,e){return this.toArray(t,e)},multiplyVector3:function(t){return t.applyMatrix3(this)},multiplyVector3Array:function(){},applyToBufferAttribute:function(t){return t.applyMatrix3(this)},applyToVector3Array:function(){},getInverse:function(t){return this.copy(t).invert()}}),Object.assign(Bt.prototype,{extractPosition:function(t){return this.copyPosition(t)},flattenToArrayOffset:function(t,e){return this.toArray(t,e)},getPosition:function(){return(new ut).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(t){return this.makeRotationFromQuaternion(t)},multiplyToArray:function(){},multiplyVector3:function(t){return t.applyMatrix4(this)},multiplyVector4:function(t){return t.applyMatrix4(this)},multiplyVector3Array:function(){},rotateAxis:function(t){t.transformDirection(this)},crossVector:function(t){return t.applyMatrix4(this)},translate:function(){},rotateX:function(){},rotateY:function(){},rotateZ:function(){},rotateByAxis:function(){},applyToBufferAttribute:function(t){return t.applyMatrix4(this)},applyToVector3Array:function(){},makeFrustum:function(t,e,n,i,r,o){return this.makePerspective(t,e,i,n,r,o)},getInverse:function(t){return this.copy(t).invert()}}),fe.prototype.isIntersectionLine=function(t){return this.intersectsLine(t)},Object.assign(lt.prototype,{multiplyVector3:function(t){return t.applyQuaternion(this)},inverse:function(){return this.invert()}}),Object.assign(Ft.prototype,{isIntersectionBox:function(t){return this.intersectsBox(t)},isIntersectionPlane:function(t){return this.intersectsPlane(t)},isIntersectionSphere:function(t){return this.intersectsSphere(t)}}),Object.assign(Me.prototype,{area:function(){return this.getArea()},barycoordFromPoint:function(t,e){return this.getBarycoord(t,e)},midpoint:function(t){return this.getMidpoint(t)},normal:function(t){return this.getNormal(t)},plane:function(t){return this.getPlane(t)}}),Object.assign(Me,{barycoordFromPoint:function(t,e,n,i,r){return Me.getBarycoord(t,e,n,i,r)},normal:function(t,e,n,i){return Me.getNormal(t,e,n,i)}}),Object.assign(Ja.prototype,{extractAllPoints:function(t){return this.extractPoints(t)},extrude:function(t){return new js(this,t)},makeGeometry:function(t){return new Vs(this,t)}}),Object.assign(Q.prototype,{fromAttribute:function(t,e,n){return this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return this.manhattanDistanceTo(t)},lengthManhattan:function(){return this.manhattanLength()}}),Object.assign(ut.prototype,{setEulerFromRotationMatrix:function(){},setEulerFromQuaternion:function(){},getPositionFromMatrix:function(t){return this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return this.setFromMatrixColumn(e,t)},applyProjection:function(t){return this.applyMatrix4(t)},fromAttribute:function(t,e,n){return this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return this.manhattanDistanceTo(t)},lengthManhattan:function(){return this.manhattanLength()}}),Object.assign(st.prototype,{fromAttribute:function(t,e,n){return this.fromBufferAttribute(t,e,n)},lengthManhattan:function(){return this.manhattanLength()}}),Object.assign(cs.prototype,{computeTangents:function(){},computeLineDistances:function(){},applyMatrix:function(t){return this.applyMatrix4(t)}}),Object.assign(le.prototype,{getChildByName:function(t){return this.getObjectByName(t)},renderDepth:function(){},translate:function(t,e){return this.translateOnAxis(e,t)},getWorldRotation:function(){},applyMatrix:function(t){return this.applyMatrix4(t)}}),Object.defineProperties(le.prototype,{eulerOrder:{get:function(){return this.rotation.order},set:function(t){this.rotation.order=t}},useQuaternion:{get:function(){},set:function(){}}}),Object.assign(Cn.prototype,{setDrawMode:function(){}}),Object.defineProperties(Cn.prototype,{drawMode:{get:function(){return 0},set:function(){}}}),Object.defineProperties(yo.prototype,{objects:{get:function(){return this.levels}}}),Object.defineProperty(Ro.prototype,"useVertexTexture",{get:function(){},set:function(){}}),To.prototype.initBones=function(){},Object.defineProperty(La.prototype,"__arcLengthDivisions",{get:function(){return this.arcLengthDivisions},set:function(t){this.arcLengthDivisions=t}}),kn.prototype.setLens=function(t,e){void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(Ka.prototype,{onlyShadow:{set:function(){}},shadowCameraFov:{set:function(t){this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){}},shadowBias:{set:function(t){this.shadow.bias=t}},shadowDarkness:{set:function(){}},shadowMapWidth:{set:function(t){this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){this.shadow.mapSize.height=t}}}),Object.defineProperties(Be.prototype,{length:{get:function(){return this.array.length}},dynamic:{get:function(){return this.usage===q},set:function(){this.setUsage(q)}}}),Object.assign(Be.prototype,{setDynamic:function(t){return this.setUsage(!0===t?q:X),this},copyIndicesArray:function(){},setArray:function(){}}),Object.assign(an.prototype,{addIndex:function(t){this.setIndex(t)},addAttribute:function(t,e){return e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(this.setIndex(e),this):this.setAttribute(t,e):this.setAttribute(t,new Be(arguments[1],arguments[2]))},addDrawCall:function(t,e,n){this.addGroup(t,e)},clearDrawCalls:function(){this.clearGroups()},computeTangents:function(){},computeOffsets:function(){},removeAttribute:function(t){return this.deleteAttribute(t)},applyMatrix:function(t){return this.applyMatrix4(t)}}),Object.defineProperties(an.prototype,{drawcalls:{get:function(){return this.groups}},offsets:{get:function(){return this.groups}}}),Object.defineProperties(fc.prototype,{maxInstancedCount:{get:function(){return this.instanceCount},set:function(t){this.instanceCount=t}}}),Object.defineProperties(qc.prototype,{linePrecision:{get:function(){return this.params.Line.threshold},set:function(t){this.params.Line.threshold=t}}}),Object.defineProperties($r.prototype,{dynamic:{get:function(){return this.usage===q},set:function(t){this.setUsage(t)}}}),Object.assign($r.prototype,{setDynamic:function(t){return this.setUsage(!0===t?q:X),this},setArray:function(){}}),Object.assign(Fs.prototype,{getArrays:function(){},addShapeList:function(){},addShape:function(){}}),Object.assign(Kr.prototype,{dispose:function(){}}),Object.defineProperties(Wc.prototype,{dynamic:{set:function(){}},onUpdate:{value:function(){return this}}}),Object.defineProperties(ke.prototype,{wrapAround:{get:function(){},set:function(){}},overdraw:{get:function(){},set:function(){}},wrapRGB:{get:function(){return new Ie}},shading:{get:function(){},set:function(t){this.flatShading=1===t}},stencilMask:{get:function(){return this.stencilFuncMask},set:function(t){this.stencilFuncMask=t}}}),Object.defineProperties(Ys.prototype,{metal:{get:function(){return!1},set:function(){}}}),Object.defineProperties(qs.prototype,{transparency:{get:function(){return this.transmission},set:function(t){this.transmission=t}}}),Object.defineProperties(Pn.prototype,{derivatives:{get:function(){return this.extensions.derivatives},set:function(t){this.extensions.derivatives=t}}}),Object.assign(Zr.prototype,{clearTarget:function(t,e,n,i){this.setRenderTarget(t),this.clear(e,n,i)},animate:function(t){this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return this.getRenderTarget()},getMaxAnisotropy:function(){return this.capabilities.getMaxAnisotropy()},getPrecision:function(){return this.capabilities.precision},resetGLState:function(){return this.state.reset()},supportsFloatTextures:function(){return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return this.capabilities.vertexTextures},supportsInstancedArrays:function(){return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){this.setScissorTest(t)},initMaterial:function(){},addPrePlugin:function(){},addPostPlugin:function(){},updateShadowMap:function(){},setFaceCulling:function(){},allocTextureUnit:function(){},setTexture:function(){},setTexture2D:function(){},setTextureCube:function(){},getActiveMipMapLevel:function(){return this.getActiveMipmapLevel()}}),Object.defineProperties(Zr.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){this.shadowMap.type=t}},shadowMapCullFace:{get:function(){},set:function(){}},context:{get:function(){return this.getContext()}},vr:{get:function(){return this.xr}},gammaInput:{get:function(){return!1},set:function(){}},gammaOutput:{get:function(){return!1},set:function(t){this.outputEncoding=!0===t?z:U}},toneMappingWhitePoint:{get:function(){return 1},set:function(){}}}),Object.defineProperties(Ur.prototype,{cullFace:{get:function(){},set:function(){}},renderReverseSided:{get:function(){},set:function(){}},renderSingleSided:{get:function(){},set:function(){}}}),Object.defineProperties(at.prototype,{wrapS:{get:function(){return this.texture.wrapS},set:function(t){this.texture.wrapS=t}},wrapT:{get:function(){return this.texture.wrapT},set:function(t){this.texture.wrapT=t}},magFilter:{get:function(){return this.texture.magFilter},set:function(t){this.texture.magFilter=t}},minFilter:{get:function(){return this.texture.minFilter},set:function(t){this.texture.minFilter=t}},anisotropy:{get:function(){return this.texture.anisotropy},set:function(t){this.texture.anisotropy=t}},offset:{get:function(){return this.texture.offset},set:function(t){this.texture.offset=t}},repeat:{get:function(){return this.texture.repeat},set:function(t){this.texture.repeat=t}},format:{get:function(){return this.texture.format},set:function(t){this.texture.format=t}},type:{get:function(){return this.texture.type},set:function(t){this.texture.type=t}},generateMipmaps:{get:function(){return this.texture.generateMipmaps},set:function(t){this.texture.generateMipmaps=t}}}),Object.defineProperties(Lc.prototype,{load:{value:function(t){const e=this;return(new Sc).load(t,(function(t){e.setBuffer(t)})),this}},startTime:{set:function(){}}}),class{constructor(t,e=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let n=0;n<e.length;n++)t+=e[n];return t/e.length}}.prototype.getData=function(){return this.getFrequencyData()},Nn.prototype.updateCubeMap=function(t,e){return this.update(t,e)},Nn.prototype.clear=function(t,e,n,i){return this.renderTarget.clear(t,e,n,i)},nt.crossOrigin=void 0,nt.loadTexture=function(t,e,n,i){const r=new Aa;r.setCrossOrigin(this.crossOrigin);const o=r.load(t,n,void 0,i);return e&&(o.mapping=e),o},nt.loadTextureCube=function(t,e,n,i){const r=new Ca;r.setCrossOrigin(this.crossOrigin);const o=r.load(t,n,void 0,i);return e&&(o.mapping=e),o},nt.loadCompressedTexture=function(){},nt.loadCompressedTextureCube=function(){},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"124"}}))},"./src/config/camera.json":function(t){t.exports=JSON.parse('{"fps":[0,0.75,0],"tps":[-0.625,1.5,-1.5],"aim":[-0.45,1.55,-0.5],"run":[-1.135,1,-3]}')},"./src/config/enemy.json":function(t){t.exports=JSON.parse('{"collider":[0.25,1.2,-0.845],"position":[0,0,0],"scale":[1.6,1.6,1.6],"model":"enemy.glb","sounds":{"hardAttack":"hardAttack.mp3","softAttack":"softAttack.mp3","death":"enemyDeath.mp3","scream":"scream.mp3","hit":"enemyHit.mp3"},"animations":{"Idle":[0,0],"Walking":[0.01,0],"Running":[0.07,0],"Falling":[0.015,0],"Crawling":[0.01,0]}}')},"./src/config/level0.json":function(t){t.exports=JSON.parse('{"position":[0,4.98,13.5],"sidewalkHeight":0.216,"scale":[75,75,75],"model":"level0.glb","music":"level0.mp3","skybox":"level0","height":10,"depth":100,"bounds":[[64,53],[-39.5,53],[-39.5,37],[-10,37],[-10,-30],[-6.5,-39],[0.2,-46.8],[9.2,-52.5],[15,-53],[15,-37.5],[9.5,-31.2],[9.5,37],[64,37]],"sidewalk":[[65,50.35],[-40,50.35],[-40,39.75],[-7.2,39.75],[-7.2,-31],[-4.2,-38.1],[2.25,-45],[10.15,-49.8],[16,-50.55],[16,-41.5],[6.75,-31.75],[6.75,39.75],[65,39.75]]}')},"./src/config/pistol.json":function(t){t.exports=JSON.parse('{"rotation":[1.5707963267948966,3.3415926535897933,-0.075],"position":[-10,-4,0.25],"scale":[13,13,13],"recoil":[0.01,-0.02],"spread":[0.01,0.01],"model":"1911.glb","speed":255000,"magazine":-1,"damage":10,"ammo":-1,"sounds":{"shoot":"1911.mp3"}}')},"./src/config/player.json":function(t){t.exports=JSON.parse('{"collider":[0.25,1.2,-0.845],"position":[0,1.15,0],"scale":[1.5,1.5,1.5],"model":"player.glb","sounds":{"death":"playerDeath.mp3","hit":"playerHit.mp3"},"animations":{"Idle":[0,0,0,0],"Run":[8.75,1,0,0],"Left":[3.5,1,-1,1],"Right":[4.5,1,1,-1],"Backward":[3,-1,0,0],"BackwardLeft":[2,-1,-0.5,0.5],"BackwardRight":[2,-1,0.5,-0.5],"ForwardRight":[4,1,0.5,-0.5],"ForwardLeft":[4,1,-0.5,0.5],"Forward":[5,1,0,0]}}')},"./src/config/rifle.json":function(t){t.exports=JSON.parse('{"rotation":[1.7707963267948965,3.061592653589793,-0.41],"worldScale":[0.005,0.005,0.005],"position":[-26,1,-5.75],"scale":[0.29,0.29,0.29],"recoil":[0.025,-0.03],"spread":[0.025,0.025],"model":"AK47.glb","maxStock":150,"speed":715000,"magazine":30,"damage":20,"ammo":0,"sounds":{"reload":"reload.mp3","empty":"empty.mp3","shoot":"AK47.mp3"}}')},"./src/main.ts":function(t,e,n){"use strict";function i(){}n.r(e);const r=t=>t;function o(t){return t()}function s(){return Object.create(null)}function a(t){t.forEach(o)}function c(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(t){return 0===Object.keys(t).length}const h="undefined"!=typeof window;let p=h?()=>window.performance.now():()=>Date.now(),f=h?t=>requestAnimationFrame(t):i;const d=new Set;function _(t){d.forEach((e=>{e.c(t)||(d.delete(e),e.f())})),0!==d.size&&f(_)}function m(t){let e;return 0===d.size&&f(_),{promise:new Promise((n=>{d.add(e={c:t,f:n})})),abort(){d.delete(e)}}}function g(t,e){t.appendChild(e)}function b(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function y(t){return document.createElement(t)}function x(t){return document.createTextNode(t)}function w(){return x(" ")}function S(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function M(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function C(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function T(t,e,n,i){t.style.setProperty(e,n,i?"important":"")}function A(t,e,n){t.classList[n?"add":"remove"](e)}function L(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const E=new Set;let R,I=0;function P(t,e,n,i,r,o,s,a=0){const c=16.666/i;let l="{\n";for(let t=0;t<=1;t+=c){const i=e+(n-e)*o(t);l+=100*t+`%{${s(i,1-i)}}\n`}const u=l+`100% {${s(n,1-n)}}\n}`,h=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${a}`,p=t.ownerDocument;E.add(p);const f=p.__svelte_stylesheet||(p.__svelte_stylesheet=p.head.appendChild(y("style")).sheet),d=p.__svelte_rules||(p.__svelte_rules={});d[h]||(d[h]=!0,f.insertRule(`@keyframes ${h} ${u}`,f.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${h} ${i}ms linear ${r}ms 1 both`,I+=1,h}function D(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-i.length;r&&(t.style.animation=i.join(", "),I-=r,I||f((()=>{I||(E.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),E.clear())})))}function k(t){R=t}function O(){if(!R)throw new Error("Function called outside component initialization");return R}function N(t){O().$$.on_mount.push(t)}function F(t){O().$$.on_destroy.push(t)}function B(){const t=O();return(e,n)=>{const i=t.$$.callbacks[e];if(i){const r=L(e,n);i.slice().forEach((e=>{e.call(t,r)}))}}}const j=[],U=[],z=[],G=[],V=Promise.resolve();let W=!1;function H(){W||(W=!0,V.then(Z))}function X(t){z.push(t)}let q=!1;const Y=new Set;function Z(){if(!q){q=!0;do{for(let t=0;t<j.length;t+=1){const e=j[t];k(e),J(e.$$)}for(k(null),j.length=0;U.length;)U.pop()();for(let t=0;t<z.length;t+=1){const e=z[t];Y.has(e)||(Y.add(e),e())}z.length=0}while(j.length);for(;G.length;)G.pop()();W=!1,q=!1,Y.clear()}}function J(t){if(null!==t.fragment){t.update(),a(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(X)}}let K;function $(){return K||(K=Promise.resolve(),K.then((()=>{K=null}))),K}function Q(t,e,n){t.dispatchEvent(L(`${e?"intro":"outro"}${n}`))}const tt=new Set;let et;function nt(){et={r:0,c:[],p:et}}function it(){et.r||a(et.c),et=et.p}function rt(t,e){t&&t.i&&(tt.delete(t),t.i(e))}function ot(t,e,n,i){if(t&&t.o){if(tt.has(t))return;tt.add(t),et.c.push((()=>{tt.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}}const st={duration:0};function at(t,e,n,o){let s=e(t,n),l=o?0:1,u=null,h=null,f=null;function d(){f&&D(t,f)}function _(t,e){const n=t.b-l;return e*=Math.abs(n),{a:l,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function g(e){const{delay:n=0,duration:o=300,easing:c=r,tick:g=i,css:b}=s||st,v={start:p()+n,b:e};e||(v.group=et,et.r+=1),u||h?h=v:(b&&(d(),f=P(t,l,e,o,n,c,b)),e&&g(0,1),u=_(v,o),X((()=>Q(t,e,"start"))),m((e=>{if(h&&e>h.start&&(u=_(h,o),h=null,Q(t,u.b,"start"),b&&(d(),f=P(t,l,u.b,u.duration,0,c,s.css))),u)if(e>=u.end)g(l=u.b,1-l),Q(t,u.b,"end"),h||(u.b?d():--u.group.r||a(u.group.c)),u=null;else if(e>=u.start){const t=e-u.start;l=u.a+u.d*c(t/u.duration),g(l,1-l)}return!(!u&&!h)})))}return{run(t){c(s)?$().then((()=>{s=s(),g(t)})):g(t)},end(){d(),u=h=null}}}let ct;function lt(t){t&&t.c()}function ut(t,e,n){const{fragment:i,on_mount:r,on_destroy:s,after_update:l}=t.$$;i&&i.m(e,n),X((()=>{const e=r.map(o).filter(c);s?s.push(...e):a(e),t.$$.on_mount=[]})),l.forEach(X)}function ht(t,e){const n=t.$$;null!==n.fragment&&(a(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function pt(t,e,n,r,o,c,l=[-1]){const u=R;k(t);const h=e.props||{},p=t.$$={fragment:null,ctx:null,props:c,update:i,not_equal:o,bound:s(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:s(),dirty:l,skip_bound:!1};let f=!1;if(p.ctx=n?n(t,h,((e,n,...i)=>{const r=i.length?i[0]:n;return p.ctx&&o(p.ctx[e],p.ctx[e]=r)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](r),f&&function(t,e){-1===t.$$.dirty[0]&&(j.push(t),H(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],p.update(),f=!0,a(p.before_update),p.fragment=!!r&&r(p.ctx),e.target){if(e.hydrate){const t=(d=e.target,Array.from(d.childNodes));p.fragment&&p.fragment.l(t),t.forEach(v)}else p.fragment&&p.fragment.c();e.intro&&rt(t.$$.fragment),ut(t,e.target,e.anchor),Z()}var d;k(u)}"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global,new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(ct=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}$destroy(){ht(this,1),this.$destroy=i}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!u(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class ft{$destroy(){ht(this,1),this.$destroy=i}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!u(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function dt(t){let e,n;return{c(){e=y("div"),n=y("div"),M(n,"class","arc svelte-g5vkok"),M(e,"class","container svelte-g5vkok"),T(e,"transform","rotate("+t[0]+"deg)")},m(t,i){b(t,e,i),g(e,n)},p(t,[n]){1&n&&T(e,"transform","rotate("+t[0]+"deg)")},i:i,o:i,d(t){t&&v(e)}}}function _t(t,e,n){let i,{playerRotation:r}=e,{angle:o}=e;function s(){n(0,i=o-r)}return t.$$set=t=>{"playerRotation"in t&&n(1,r=t.playerRotation),"angle"in t&&n(2,o=t.angle)},t.$$.update=()=>{6&t.$$.dirty&&r&&s(),6&t.$$.dirty&&o&&s()},[i,r,o]}var mt=class extends ft{constructor(t){super(),pt(this,t,_t,dt,l,{playerRotation:1,angle:2})}};class gt extends CustomEvent{constructor(){super(...arguments),this.data=null}}class bt{static add(t,e){this.callbacks.set(t,e),this.events.set(t,new gt(t)),document.addEventListener(t,e,!1)}static dispatch(t,e=null){const n=this.events.get(t);n&&(n.data=e,document.dispatchEvent(n))}static remove(t){const e=this.callbacks.get(t);document.removeEventListener(t,e,!1),this.callbacks.delete(t),this.events.delete(t)}static dispose(){this.callbacks.clear(),this.events.clear()}}function vt(t){let e;return{c(){e=y("div"),e.innerHTML='<h3 class="svelte-1fq5bjg">✘</h3>',M(e,"id","close-button"),M(e,"class","svelte-1fq5bjg")},m(t,n){b(t,e,n)},p:i,i:i,o:i,d(t){t&&v(e)}}}bt.callbacks=new Map,bt.events=new Map;var yt=class extends ft{constructor(t){super(),pt(this,t,null,vt,l,{})}};function xt(t,{delay:e=0,duration:n=400,easing:i=r}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:t=>"opacity: "+t*o}}const wt=(t,e=0,n=1)=>Math.max(e,Math.min(t,n)),St=(t,e)=>Math.random()*(e-t)+t,Mt=Object.freeze({m2:2*Math.PI,d2:Math.PI/2,d3:Math.PI/3,d4:Math.PI/4,d6:Math.PI/6});function Ct(t){let e,n,i,r,o,s,a,c,l,u=Math.floor(100*t[0])+"";return{c(){e=y("div"),n=y("div"),i=y("h1"),i.textContent="Loading...",r=w(),o=y("h1"),s=x(u),a=x("%"),M(n,"class","progress svelte-1v4oorh"),M(e,"class","screen svelte-1v4oorh")},m(t,c){b(t,e,c),g(e,n),g(n,i),g(n,r),g(n,o),g(o,s),g(o,a),l=!0},p(t,[e]){(!l||1&e)&&u!==(u=Math.floor(100*t[0])+"")&&C(s,u)},i(t){l||(X((()=>{c||(c=at(e,xt,{},!0)),c.run(1)})),l=!0)},o(t){c||(c=at(e,xt,{},!1)),c.run(0),l=!1},d(t){t&&v(e),t&&c&&c.end()}}}function Tt(t,e,n){const i=B(),r=new Map;let o=0,s=0,a=0;return bt.add("loading:progress",(function(t){const e=t.data;r.set(e.uuid,e.progress),r.forEach((t=>a+=t)),a/=100*r.size,n(0,o=wt(a,o,.99))})),bt.add("loading:start",(function(t){r.set(t.data,0)})),bt.add("loading:end",(function(t){r.set(t.data,100),r.size===++s&&(setTimeout((()=>i("loaded")),1e3),bt.remove("loading:progress"),bt.remove("loading:start"),bt.remove("loading:end"),n(0,o=1))})),[o]}var At=class extends ft{constructor(t){super(),pt(this,t,Tt,Ct,l,{})}};function Lt(t){let e,n,r,o;return{c(){e=y("button"),n=x(t[0]),M(e,"class","svelte-1kqpmag")},m(i,s){b(i,e,s),g(e,n),r||(o=S(e,"click",t[1]),r=!0)},p(t,[e]){1&e&&C(n,t[0])},i:i,o:i,d(t){t&&v(e),r=!1,o()}}}function Et(t,e,n){let{text:i}=e;return t.$$set=t=>{"text"in t&&n(0,i=t.text)},[i,function(e){!function(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}(t,e)}]}var Rt=class extends ft{constructor(t){super(),pt(this,t,Et,Lt,l,{text:0})}};function It(t){let e,n,r,o;return n=new Rt({props:{text:"Start"}}),n.$on("click",t[1]),{c(){e=y("div"),lt(n.$$.fragment),M(e,"class","svelte-3i4kug")},m(t,i){b(t,e,i),ut(n,e,null),o=!0},p:i,i(t){o||(rt(n.$$.fragment,t),X((()=>{r||(r=at(e,xt,{},!0)),r.run(1)})),o=!0)},o(t){ot(n.$$.fragment,t),r||(r=at(e,xt,{},!1)),r.run(0),o=!1},d(t){t&&v(e),ht(n),t&&r&&r.end()}}}function Pt(t){const e=B();return[e,()=>e("start")]}var Dt=class extends ft{constructor(t){super(),pt(this,t,Pt,It,l,{})}};const kt={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function Ot(t,e,n){const i=this;let r,o=!1,s=0,a=0;const c=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){a++,!1===o&&void 0!==i.onStart&&i.onStart(t,s,a),o=!0},this.itemEnd=function(t){s++,void 0!==i.onProgress&&i.onProgress(t,s,a),s===a&&(o=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(t){void 0!==i.onError&&i.onError(t)},this.resolveURL=function(t){return r?r(t):t},this.setURLModifier=function(t){return r=t,this},this.addHandler=function(t,e){return c.push(t,e),this},this.removeHandler=function(t){const e=c.indexOf(t);return-1!==e&&c.splice(e,2),this},this.getHandler=function(t){for(let e=0,n=c.length;e<n;e+=2){const n=c[e],i=c[e+1];if(n.global&&(n.lastIndex=0),n.test(t))return i}return null}}const Nt=new Ot;function Ft(t){this.manager=void 0!==t?t:Nt,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}function Bt(t){Ft.call(this,t)}function jt(){}Object.assign(Ft.prototype,{load:function(){},loadAsync:function(t,e){const n=this;return new Promise((function(i,r){n.load(t,i,e,r)}))},parse:function(){},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),Bt.prototype=Object.assign(Object.create(Ft.prototype),{constructor:Bt,load:function(t,e,n,i){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,o=kt.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout((function(){e&&e(o),r.manager.itemEnd(t)}),0),o;const s=document.createElementNS("http://www.w3.org/1999/xhtml","img");function a(){s.removeEventListener("load",a,!1),s.removeEventListener("error",c,!1),kt.add(t,this),e&&e(this),r.manager.itemEnd(t)}function c(e){s.removeEventListener("load",a,!1),s.removeEventListener("error",c,!1),i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}return s.addEventListener("load",a,!1),s.addEventListener("error",c,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),r.manager.itemStart(t),s.src=t,s}}),Object.assign(jt.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0===this._listeners)return;const n=this._listeners[t];if(void 0!==n){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}},dispatchEvent:function(t){if(void 0===this._listeners)return;const e=this._listeners[t.type];if(void 0!==e){t.target=this;const n=e.slice(0);for(let e=0,i=n.length;e<i;e++)n[e].call(this,t)}}});const Ut=100,zt=1e3,Gt=1001,Vt=1002,Wt=1003,Ht=1006,Xt=1008,qt=1009,Yt=1012,Zt=1014,Jt=1015,Kt=1016,$t=1020,Qt=1022,te=1023,ee=1026,ne=1027,ie=2200,re=2300,oe=2301,se=2302,ae=2400,ce=2401,le=2402,ue=2500,he=3e3,pe=7680,fe="300 es",de=[];for(let t=0;t<256;t++)de[t]=(t<16?"0":"")+t.toString(16);let _e=1234567;const me={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(de[255&t]+de[t>>8&255]+de[t>>16&255]+de[t>>24&255]+"-"+de[255&e]+de[e>>8&255]+"-"+de[e>>16&15|64]+de[e>>24&255]+"-"+de[63&n|128]+de[n>>8&255]+"-"+de[n>>16&255]+de[n>>24&255]+de[255&i]+de[i>>8&255]+de[i>>16&255]+de[i>>24&255]).toUpperCase()},clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return void 0!==t&&(_e=t%2147483647),_e=16807*_e%2147483647,(_e-1)/2147483646},degToRad:function(t){return t*me.DEG2RAD},radToDeg:function(t){return t*me.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,n,i,r){const o=Math.cos,s=Math.sin,a=o(n/2),c=s(n/2),l=o((e+i)/2),u=s((e+i)/2),h=o((e-i)/2),p=s((e-i)/2),f=o((i-e)/2),d=s((i-e)/2);switch(r){case"XYX":t.set(a*u,c*h,c*p,a*l);break;case"YZY":t.set(c*p,a*u,c*h,a*l);break;case"ZXZ":t.set(c*h,c*p,a*u,a*l);break;case"XZX":t.set(a*u,c*d,c*f,a*l);break;case"YXY":t.set(c*f,a*u,c*d,a*l);break;case"ZYZ":t.set(c*d,c*f,a*u,a*l)}}};class ge{constructor(t=0,e=0){Object.defineProperty(this,"isVector2",{value:!0}),this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6],this.y=i[1]*e+i[4]*n+i[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,n){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),i=Math.sin(e),r=this.x-t.x,o=this.y-t.y;return this.x=r*n-o*i+t.x,this.y=r*i+o*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}class be{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1]}set(t,e,n,i,r,o,s,a,c){const l=this.elements;return l[0]=t,l[1]=i,l[2]=s,l[3]=e,l[4]=r,l[5]=a,l[6]=n,l[7]=o,l[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}clone(){return(new this.constructor).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,i=e.elements,r=this.elements,o=n[0],s=n[3],a=n[6],c=n[1],l=n[4],u=n[7],h=n[2],p=n[5],f=n[8],d=i[0],_=i[3],m=i[6],g=i[1],b=i[4],v=i[7],y=i[2],x=i[5],w=i[8];return r[0]=o*d+s*g+a*y,r[3]=o*_+s*b+a*x,r[6]=o*m+s*v+a*w,r[1]=c*d+l*g+u*y,r[4]=c*_+l*b+u*x,r[7]=c*m+l*v+u*w,r[2]=h*d+p*g+f*y,r[5]=h*_+p*b+f*x,r[8]=h*m+p*v+f*w,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],a=t[6],c=t[7],l=t[8];return e*o*l-e*s*c-n*r*l+n*s*a+i*r*c-i*o*a}invert(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],a=t[6],c=t[7],l=t[8],u=l*o-s*c,h=s*a-l*r,p=c*r-o*a,f=e*u+n*h+i*p;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const d=1/f;return t[0]=u*d,t[1]=(i*c-l*n)*d,t[2]=(s*n-i*o)*d,t[3]=h*d,t[4]=(l*e-i*a)*d,t[5]=(i*r-s*e)*d,t[6]=p*d,t[7]=(n*a-c*e)*d,t[8]=(o*e-n*r)*d,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).copy(this).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,i,r,o,s){const a=Math.cos(r),c=Math.sin(r);return this.set(n*a,n*c,-n*(a*o+c*s)+o+t,-i*c,i*a,-i*(-c*o+a*s)+s+e,0,0,1),this}scale(t,e){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this}rotate(t){const e=Math.cos(t),n=Math.sin(t),i=this.elements,r=i[0],o=i[3],s=i[6],a=i[1],c=i[4],l=i[7];return i[0]=e*r+n*a,i[3]=e*o+n*c,i[6]=e*s+n*l,i[1]=-n*r+e*a,i[4]=-n*o+e*c,i[7]=-n*s+e*l,this}translate(t,e){const n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this}equals(t){const e=this.elements,n=t.elements;for(let t=0;t<9;t++)if(e[t]!==n[t])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}}let ve;const ye=function(t){if(/^data:/i.test(t.src))return t.src;if("undefined"==typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===ve&&(ve=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),ve.width=t.width,ve.height=t.height;const n=ve.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=ve}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")};let xe,we=0;function Se(t=Se.DEFAULT_IMAGE,e=Se.DEFAULT_MAPPING,n=1001,i=1001,r=1006,o=1008,s=1023,a=1009,c=1,l=3e3){Object.defineProperty(this,"id",{value:we++}),this.uuid=me.generateUUID(),this.name="",this.image=t,this.mipmaps=[],this.mapping=e,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=o,this.anisotropy=c,this.format=s,this.internalFormat=null,this.type=a,this.offset=new ge(0,0),this.repeat=new ge(1,1),this.center=new ge(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new be,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=l,this.version=0,this.onUpdate=null}function Me(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?ye(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:{}}function Ce(t,e,n,i,r,o,s,a,c,l){t=void 0!==t?t:[],e=void 0!==e?e:301,s=void 0!==s?s:Qt,Se.call(this,t,e,n,i,r,o,s,a,c,l),this.flipY=!1,this._needsFlipEnvMap=!0}function Te(t){Ft.call(this,t)}function Ae(t){Ft.call(this,t)}Se.DEFAULT_IMAGE=void 0,Se.DEFAULT_MAPPING=300,Se.prototype=Object.assign(Object.create(jt.prototype),{constructor:Se,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const i=this.image;if(void 0===i.uuid&&(i.uuid=me.generateUUID()),!e&&void 0===t.images[i.uuid]){let e;if(Array.isArray(i)){e=[];for(let t=0,n=i.length;t<n;t++)i[t].isDataTexture?e.push(Me(i[t].image)):e.push(Me(i[t]))}else e=Me(i);t.images[i.uuid]={uuid:i.uuid,url:e}}n.image=i.uuid}return e||(t.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case zt:t.x=t.x-Math.floor(t.x);break;case Gt:t.x=t.x<0?0:1;break;case Vt:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case zt:t.y=t.y-Math.floor(t.y);break;case Gt:t.y=t.y<0?0:1;break;case Vt:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(Se.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Ce.prototype=Object.create(Se.prototype),Ce.prototype.constructor=Ce,Ce.prototype.isCubeTexture=!0,Object.defineProperty(Ce.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),Te.prototype=Object.assign(Object.create(Ft.prototype),{constructor:Te,load:function(t,e,n,i){const r=new Ce,o=new Bt(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function a(n){o.load(t[n],(function(t){r.images[n]=t,s++,6===s&&(r.needsUpdate=!0,e&&e(r))}),void 0,i)}for(let e=0;e<t.length;++e)a(e);return r}}),Ae.prototype=Object.assign(Object.create(Ft.prototype),{constructor:Ae,load:function(t,e,n,i){const r=new Se,o=new Bt(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,(function(n){r.image=n;const i=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);r.format=i?Qt:te,r.needsUpdate=!0,void 0!==e&&e(r)}),n,i),r}});const Le=function(){return void 0===xe&&(xe=new(window.AudioContext||window.webkitAudioContext)),xe},Ee={};function Re(t){Ft.call(this,t)}function Ie(t){Ft.call(this,t)}Re.prototype=Object.assign(Object.create(Ft.prototype),{constructor:Re,load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,o=kt.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout((function(){e&&e(o),r.manager.itemEnd(t)}),0),o;if(void 0!==Ee[t])return void Ee[t].push({onLoad:e,onProgress:n,onError:i});const s=t.match(/^data:(.*?)(;base64)?,(.*)$/);let a;if(s){const n=s[1],o=!!s[2];let a=s[3];a=decodeURIComponent(a),o&&(a=atob(a));try{let i;const o=(this.responseType||"").toLowerCase();switch(o){case"arraybuffer":case"blob":const t=new Uint8Array(a.length);for(let e=0;e<a.length;e++)t[e]=a.charCodeAt(e);i="blob"===o?new Blob([t.buffer],{type:n}):t.buffer;break;case"document":const e=new DOMParser;i=e.parseFromString(a,n);break;case"json":i=JSON.parse(a);break;default:i=a}setTimeout((function(){e&&e(i),r.manager.itemEnd(t)}),0)}catch(e){setTimeout((function(){i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}),0)}}else{Ee[t]=[],Ee[t].push({onLoad:e,onProgress:n,onError:i}),a=new XMLHttpRequest,a.open("GET",t,!0),a.addEventListener("load",(function(e){const n=this.response,i=Ee[t];if(delete Ee[t],200===this.status||0===this.status){this.status,kt.add(t,n);for(let t=0,e=i.length;t<e;t++){const e=i[t];e.onLoad&&e.onLoad(n)}r.manager.itemEnd(t)}else{for(let t=0,n=i.length;t<n;t++){const n=i[t];n.onError&&n.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}}),!1),a.addEventListener("progress",(function(e){const n=Ee[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onProgress&&i.onProgress(e)}}),!1),a.addEventListener("error",(function(e){const n=Ee[t];delete Ee[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onError&&i.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}),!1),a.addEventListener("abort",(function(e){const n=Ee[t];delete Ee[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onError&&i.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}),!1),void 0!==this.responseType&&(a.responseType=this.responseType),void 0!==this.withCredentials&&(a.withCredentials=this.withCredentials),a.overrideMimeType&&a.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const t in this.requestHeader)a.setRequestHeader(t,this.requestHeader[t]);a.send(null)}return r.manager.itemStart(t),a},setResponseType:function(t){return this.responseType=t,this},setMimeType:function(t){return this.mimeType=t,this}}),Ie.prototype=Object.assign(Object.create(Ft.prototype),{constructor:Ie,load:function(t,e,n,i){const r=this,o=new Re(r.manager);o.setResponseType("arraybuffer"),o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,(function(n){try{const t=n.slice(0);Le().decodeAudioData(t,(function(t){e(t)}))}catch(e){i&&i(e),r.manager.itemError(t)}}),n,i)}});var Pe,De=n("./node_modules/three/build/three.module.js"),ke=function(){function t(t){De.D.call(this,t),this.dracoLoader=null,this.ddsLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(t){return new s(t)})),this.register((function(t){return new c(t)})),this.register((function(t){return new l(t)})),this.register((function(t){return new a(t)})),this.register((function(t){return new r(t)})),this.register((function(t){return new u(t)}))}function e(){var t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}t.prototype=Object.assign(Object.create(De.D.prototype),{constructor:t,load:function(t,e,n,i){var r,o=this;r=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:De.E.extractUrlBase(t),this.manager.itemStart(t);var s=function(e){i&&i(e),o.manager.itemError(t),o.manager.itemEnd(t)},a=new De.n(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,(function(n){try{o.parse(n,r,(function(n){e(n),o.manager.itemEnd(t)}),s)}catch(t){s(t)}}),n,s)},setDRACOLoader:function(t){return this.dracoLoader=t,this},setDDSLoader:function(t){return this.ddsLoader=t,this},setKTX2Loader:function(t){return this.ktx2Loader=t,this},setMeshoptDecoder:function(t){return this.meshoptDecoder=t,this},register:function(t){return-1===this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.push(t),this},unregister:function(t){return-1!==this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this},parse:function(t,e,r,s){var a,c={},l={};if("string"==typeof t)a=t;else if(De.E.decodeText(new Uint8Array(t,0,4))===h){try{c[n.KHR_BINARY_GLTF]=new d(t)}catch(t){return void(s&&s(t))}a=c[n.KHR_BINARY_GLTF].content}else a=De.E.decodeText(new Uint8Array(t));var u=JSON.parse(a);if(void 0===u.asset||u.asset.version[0]<2)s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var p=new V(u,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});p.fileLoader.setRequestHeader(this.requestHeader);for(var f=0;f<this.pluginCallbacks.length;f++){var g=this.pluginCallbacks[f](p);l[g.name]=g,c[g.name]=!0}if(u.extensionsUsed)for(f=0;f<u.extensionsUsed.length;++f){var y=u.extensionsUsed[f],x=u.extensionsRequired||[];switch(y){case n.KHR_MATERIALS_UNLIT:c[y]=new o;break;case n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:c[y]=new b;break;case n.KHR_DRACO_MESH_COMPRESSION:c[y]=new _(u,this.dracoLoader);break;case n.MSFT_TEXTURE_DDS:c[y]=new i(this.ddsLoader);break;case n.KHR_TEXTURE_TRANSFORM:c[y]=new m;break;case n.KHR_MESH_QUANTIZATION:c[y]=new v;break;default:x.indexOf(y)>=0&&l[y]}}p.setExtensions(c),p.setPlugins(l),p.parse(r,s)}}});var n={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function i(t){if(!t)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=n.MSFT_TEXTURE_DDS,this.ddsLoader=t}function r(t){this.parser=t,this.name=n.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}function o(){this.name=n.KHR_MATERIALS_UNLIT}function s(t){this.parser=t,this.name=n.KHR_MATERIALS_CLEARCOAT}function a(t){this.parser=t,this.name=n.KHR_MATERIALS_TRANSMISSION}function c(t){this.parser=t,this.name=n.KHR_TEXTURE_BASISU}function l(t){this.parser=t,this.name=n.EXT_TEXTURE_WEBP,this.isSupported=null}function u(t){this.name=n.EXT_MESHOPT_COMPRESSION,this.parser=t}r.prototype._markDefs=function(){for(var t=this.parser,e=this.parser.json.nodes||[],n=0,i=e.length;n<i;n++){var r=e[n];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&t._addNodeRef(this.cache,r.extensions[this.name].light)}},r.prototype._loadLight=function(t){var e=this.parser,n="light:"+t,i=e.cache.get(n);if(i)return i;var r,o=e.json,s=((o.extensions&&o.extensions[this.name]||{}).lights||[])[t],a=new De.i(16777215);void 0!==s.color&&a.fromArray(s.color);var c=void 0!==s.range?s.range:0;switch(s.type){case"directional":(r=new De.j(a)).target.position.set(0,0,-1),r.add(r.target);break;case"point":(r=new De.V(a)).distance=c;break;case"spot":(r=new De.ib(a)).distance=c,s.spot=s.spot||{},s.spot.innerConeAngle=void 0!==s.spot.innerConeAngle?s.spot.innerConeAngle:0,s.spot.outerConeAngle=void 0!==s.spot.outerConeAngle?s.spot.outerConeAngle:Math.PI/4,r.angle=s.spot.outerConeAngle,r.penumbra=1-s.spot.innerConeAngle/s.spot.outerConeAngle,r.target.position.set(0,0,-1),r.add(r.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+s.type)}return r.position.set(0,0,0),r.decay=2,void 0!==s.intensity&&(r.intensity=s.intensity),r.name=e.createUniqueName(s.name||"light_"+t),i=Promise.resolve(r),e.cache.add(n,i),i},r.prototype.createNodeAttachment=function(t){var e=this,n=this.parser,i=n.json.nodes[t],r=(i.extensions&&i.extensions[this.name]||{}).light;return void 0===r?null:this._loadLight(r).then((function(t){return n._getNodeRef(e.cache,r,t)}))},o.prototype.getMaterialType=function(){return De.K},o.prototype.extendParams=function(t,e,n){var i=[];t.color=new De.i(1,1,1),t.opacity=1;var r=e.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){var o=r.baseColorFactor;t.color.fromArray(o),t.opacity=o[3]}void 0!==r.baseColorTexture&&i.push(n.assignTexture(t,"map",r.baseColorTexture))}return Promise.all(i)},s.prototype.getMaterialType=function(t){var e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?De.L:null},s.prototype.extendMaterialParams=function(t,e){var n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();var r=[],o=i.extensions[this.name];if(void 0!==o.clearcoatFactor&&(e.clearcoat=o.clearcoatFactor),void 0!==o.clearcoatTexture&&r.push(n.assignTexture(e,"clearcoatMap",o.clearcoatTexture)),void 0!==o.clearcoatRoughnessFactor&&(e.clearcoatRoughness=o.clearcoatRoughnessFactor),void 0!==o.clearcoatRoughnessTexture&&r.push(n.assignTexture(e,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),void 0!==o.clearcoatNormalTexture&&(r.push(n.assignTexture(e,"clearcoatNormalMap",o.clearcoatNormalTexture)),void 0!==o.clearcoatNormalTexture.scale)){var s=o.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new De.ob(s,s)}return Promise.all(r)},a.prototype.getMaterialType=function(t){var e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?De.L:null},a.prototype.extendMaterialParams=function(t,e){var n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();var r=[],o=i.extensions[this.name];return void 0!==o.transmissionFactor&&(e.transmission=o.transmissionFactor),void 0!==o.transmissionTexture&&r.push(n.assignTexture(e,"transmissionMap",o.transmissionTexture)),Promise.all(r)},c.prototype.loadTexture=function(t){var e=this.parser,n=e.json,i=n.textures[t];if(!i.extensions||!i.extensions[this.name])return null;var r=i.extensions[this.name],o=n.images[r.source],s=e.options.ktx2Loader;if(!s){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,o,s)},l.prototype.loadTexture=function(t){var e=this.name,n=this.parser,i=n.json,r=i.textures[t];if(!r.extensions||!r.extensions[e])return null;var o=r.extensions[e],s=i.images[o.source],a=s.uri?n.options.manager.getHandler(s.uri):n.textureLoader;return this.detectSupport().then((function(r){if(r)return n.loadTextureImage(t,s,a);if(i.extensionsRequired&&i.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(t)}))},l.prototype.detectSupport=function(){return this.isSupported||(this.isSupported=new Promise((function(t){var e=new Image;e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.onload=e.onerror=function(){t(1===e.height)}}))),this.isSupported},u.prototype.loadBufferView=function(t){var e=this.parser.json,n=e.bufferViews[t];if(n.extensions&&n.extensions[this.name]){var i=n.extensions[this.name],r=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([r,o.ready]).then((function(t){var e=i.byteOffset||0,n=i.byteLength||0,r=i.count,s=i.byteStride,a=new ArrayBuffer(r*s),c=new Uint8Array(t[0],e,n);return o.decodeGltfBuffer(new Uint8Array(a),r,s,c,i.mode,i.filter),a}))}return null};var h="glTF",p=1313821514,f=5130562;function d(t){this.name=n.KHR_BINARY_GLTF,this.content=null,this.body=null;var e=new DataView(t,0,12);if(this.header={magic:De.E.decodeText(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==h)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var i=new DataView(t,12),r=0;r<i.byteLength;){var o=i.getUint32(r,!0);r+=4;var s=i.getUint32(r,!0);if(r+=4,s===p){var a=new Uint8Array(t,12+r,o);this.content=De.E.decodeText(a)}else if(s===f){var c=12+r;this.body=t.slice(c,c+o)}r+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function _(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=n.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}function m(){this.name=n.KHR_TEXTURE_TRANSFORM}function g(t){De.M.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var e=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),r=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),s={specular:{value:(new De.i).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=s,this.onBeforeCompile=function(t){for(var a in s)t.uniforms[a]=s[a];t.fragmentShader=t.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",e).replace("#include <metalnessmap_pars_fragment>",n).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",r).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return s.specular.value},set:function(t){s.specular.value=t}},specularMap:{get:function(){return s.specularMap.value},set:function(t){s.specularMap.value=t,t?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return s.glossiness.value},set:function(t){s.glossiness.value=t}},glossinessMap:{get:function(){return s.glossinessMap.value},set:function(t){s.glossinessMap.value=t,t?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(t)}function b(){return{name:n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return g},extendParams:function(t,e,n){var i=e.extensions[this.name];t.color=new De.i(1,1,1),t.opacity=1;var r=[];if(Array.isArray(i.diffuseFactor)){var o=i.diffuseFactor;t.color.fromArray(o),t.opacity=o[3]}if(void 0!==i.diffuseTexture&&r.push(n.assignTexture(t,"map",i.diffuseTexture)),t.emissive=new De.i(0,0,0),t.glossiness=void 0!==i.glossinessFactor?i.glossinessFactor:1,t.specular=new De.i(1,1,1),Array.isArray(i.specularFactor)&&t.specular.fromArray(i.specularFactor),void 0!==i.specularGlossinessTexture){var s=i.specularGlossinessTexture;r.push(n.assignTexture(t,"glossinessMap",s)),r.push(n.assignTexture(t,"specularMap",s))}return Promise.all(r)},createMaterial:function(t){var e=new g(t);return e.fog=!0,e.color=t.color,e.map=void 0===t.map?null:t.map,e.lightMap=null,e.lightMapIntensity=1,e.aoMap=void 0===t.aoMap?null:t.aoMap,e.aoMapIntensity=1,e.emissive=t.emissive,e.emissiveIntensity=1,e.emissiveMap=void 0===t.emissiveMap?null:t.emissiveMap,e.bumpMap=void 0===t.bumpMap?null:t.bumpMap,e.bumpScale=1,e.normalMap=void 0===t.normalMap?null:t.normalMap,e.normalMapType=De.kb,t.normalScale&&(e.normalScale=t.normalScale),e.displacementMap=null,e.displacementScale=1,e.displacementBias=0,e.specularMap=void 0===t.specularMap?null:t.specularMap,e.specular=t.specular,e.glossinessMap=void 0===t.glossinessMap?null:t.glossinessMap,e.glossiness=t.glossiness,e.alphaMap=null,e.envMap=void 0===t.envMap?null:t.envMap,e.envMapIntensity=1,e.refractionRatio=.98,e}}}function v(){this.name=n.KHR_MESH_QUANTIZATION}function y(t,e,n,i){De.t.call(this,t,e,n,i)}_.prototype.decodePrimitive=function(t,e){var n=this.json,i=this.dracoLoader,r=t.extensions[this.name].bufferView,o=t.extensions[this.name].attributes,s={},a={},c={};for(var l in o){var u=P[l]||l.toLowerCase();s[u]=o[l]}for(l in t.attributes)if(u=P[l]||l.toLowerCase(),void 0!==o[l]){var h=n.accessors[t.attributes[l]],p=L[h.componentType];c[u]=p,a[u]=!0===h.normalized}return e.getDependency("bufferView",r).then((function(t){return new Promise((function(e){i.decodeDracoFile(t,(function(t){for(var n in t.attributes){var i=t.attributes[n],r=a[n];void 0!==r&&(i.normalized=r)}e(t)}),s,c)}))}))},m.prototype.extendTexture=function(t,e){return t=t.clone(),void 0!==e.offset&&t.offset.fromArray(e.offset),void 0!==e.rotation&&(t.rotation=e.rotation),void 0!==e.scale&&t.repeat.fromArray(e.scale),e.texCoord,t.needsUpdate=!0,t},g.prototype=Object.create(De.M.prototype),g.prototype.constructor=g,g.prototype.copy=function(t){return De.M.prototype.copy.call(this,t),this.specularMap=t.specularMap,this.specular.copy(t.specular),this.glossinessMap=t.glossinessMap,this.glossiness=t.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},y.prototype=Object.create(De.t.prototype),y.prototype.constructor=y,y.prototype.copySampleValue_=function(t){for(var e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i*3+i,o=0;o!==i;o++)e[o]=n[r+o];return e},y.prototype.beforeStart_=y.prototype.copySampleValue_,y.prototype.afterEnd_=y.prototype.copySampleValue_,y.prototype.interpolate_=function(t,e,n,i){for(var r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=2*s,c=3*s,l=i-e,u=(n-e)/l,h=u*u,p=h*u,f=t*c,d=f-c,_=-2*p+3*h,m=p-h,g=1-_,b=m-h+u,v=0;v!==s;v++){var y=o[d+v+s],x=o[d+v+a]*l,w=o[f+v+s],S=o[f+v]*l;r[v]=g*y+b*x+_*w+m*S}return r};var x=0,w=1,S=2,M=3,C=4,T=5,A=6,L={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},E={9728:De.O,9729:De.A,9984:De.Q,9985:De.C,9986:De.P,9987:De.B},R={33071:De.h,33648:De.N,10497:De.cb},I={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},P={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},D={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},k={CUBICSPLINE:void 0,LINEAR:De.v,STEP:De.u},O="OPAQUE",N="MASK",F="BLEND";function B(t,e){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}function j(t,e,n){for(var i in n.extensions)void 0===t[i]&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=n.extensions[i])}function U(t,e){void 0!==e.extras&&"object"==typeof e.extras&&Object.assign(t.userData,e.extras)}function z(t,e){if(t.updateMorphTargets(),void 0!==e.weights)for(var n=0,i=e.weights.length;n<i;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){var r=e.extras.targetNames;if(t.morphTargetInfluences.length===r.length)for(t.morphTargetDictionary={},n=0,i=r.length;n<i;n++)t.morphTargetDictionary[r[n]]=n}}function G(t){for(var e="",n=Object.keys(t).sort(),i=0,r=n.length;i<r;i++)e+=n[i]+":"+t[n[i]]+";";return e}function V(t,n){this.json=t||{},this.extensions={},this.plugins={},this.options=n||{},this.cache=new e,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.nodeNamesUsed={},"undefined"!=typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)?this.textureLoader=new De.q(this.options.manager):this.textureLoader=new De.lb(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new De.n(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function W(t,e,n){var i=e.attributes,r=[];function o(e,i){return n.getDependency("accessor",e).then((function(e){t.setAttribute(i,e)}))}for(var s in i){var a=P[s]||s.toLowerCase();a in t.attributes||r.push(o(i[s],a))}if(void 0!==e.indices&&!t.index){var c=n.getDependency("accessor",e.indices).then((function(e){t.setIndex(e)}));r.push(c)}return U(t,e),function(t,e,n){var i=e.attributes,r=new De.d;if(void 0!==i.POSITION){var o=(p=n.json.accessors[i.POSITION]).min,s=p.max;if(void 0!==o&&void 0!==s){r.set(new De.pb(o[0],o[1],o[2]),new De.pb(s[0],s[1],s[2]));var a=e.targets;if(void 0!==a){for(var c=new De.pb,l=new De.pb,u=0,h=a.length;u<h;u++){var p,f=a[u];void 0!==f.POSITION&&(o=(p=n.json.accessors[f.POSITION]).min,s=p.max,void 0!==o&&void 0!==s&&(l.setX(Math.max(Math.abs(o[0]),Math.abs(s[0]))),l.setY(Math.max(Math.abs(o[1]),Math.abs(s[1]))),l.setZ(Math.max(Math.abs(o[2]),Math.abs(s[2]))),c.max(l)))}r.expandByVector(c)}t.boundingBox=r;var d=new De.gb;r.getCenter(d.center),d.radius=r.min.distanceTo(r.max)/2,t.boundingSphere=d}}}(t,e,n),Promise.all(r).then((function(){return void 0!==e.targets?function(t,e,n){for(var i=!1,r=!1,o=0,s=e.length;o<s&&(void 0!==(l=e[o]).POSITION&&(i=!0),void 0!==l.NORMAL&&(r=!0),!i||!r);o++);if(!i&&!r)return Promise.resolve(t);var a=[],c=[];for(o=0,s=e.length;o<s;o++){var l=e[o];if(i){var u=void 0!==l.POSITION?n.getDependency("accessor",l.POSITION):t.attributes.position;a.push(u)}r&&(u=void 0!==l.NORMAL?n.getDependency("accessor",l.NORMAL):t.attributes.normal,c.push(u))}return Promise.all([Promise.all(a),Promise.all(c)]).then((function(e){var n=e[0],o=e[1];return i&&(t.morphAttributes.position=n),r&&(t.morphAttributes.normal=o),t.morphTargetsRelative=!0,t}))}(t,e.targets,n):t}))}function H(t,e){var n=t.getIndex();if(null===n){var i=[],r=t.getAttribute("position");if(void 0===r)return t;for(var o=0;o<r.count;o++)i.push(o);t.setIndex(i),n=t.getIndex()}var s=n.count-2,a=[];if(e===De.mb)for(o=1;o<=s;o++)a.push(n.getX(0)),a.push(n.getX(o)),a.push(n.getX(o+1));else for(o=0;o<s;o++)o%2==0?(a.push(n.getX(o)),a.push(n.getX(o+1)),a.push(n.getX(o+2))):(a.push(n.getX(o+2)),a.push(n.getX(o+1)),a.push(n.getX(o)));a.length;var c=t.clone();return c.setIndex(a),c}return V.prototype.setExtensions=function(t){this.extensions=t},V.prototype.setPlugins=function(t){this.plugins=t},V.prototype.parse=function(t,e){var n=this,i=this.json,r=this.extensions;this.cache.removeAll(),this._invokeAll((function(t){return t._markDefs&&t._markDefs()})),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(e){var o={scene:e[0][i.scene||0],scenes:e[0],animations:e[1],cameras:e[2],asset:i.asset,parser:n,userData:{}};j(r,o,i),U(o,i),t(o)})).catch(e)},V.prototype._markDefs=function(){for(var t=this.json.nodes||[],e=this.json.skins||[],n=this.json.meshes||[],i=0,r=e.length;i<r;i++)for(var o=e[i].joints,s=0,a=o.length;s<a;s++)t[o[s]].isBone=!0;for(var c=0,l=t.length;c<l;c++){var u=t[c];void 0!==u.mesh&&(this._addNodeRef(this.meshCache,u.mesh),void 0!==u.skin&&(n[u.mesh].isSkinnedMesh=!0)),void 0!==u.camera&&this._addNodeRef(this.cameraCache,u.camera)}},V.prototype._addNodeRef=function(t,e){void 0!==e&&(void 0===t.refs[e]&&(t.refs[e]=t.uses[e]=0),t.refs[e]++)},V.prototype._getNodeRef=function(t,e,n){if(t.refs[e]<=1)return n;var i=n.clone();return i.name+="_instance_"+t.uses[e]++,i},V.prototype._invokeOne=function(t){var e=Object.values(this.plugins);e.push(this);for(var n=0;n<e.length;n++){var i=t(e[n]);if(i)return i}},V.prototype._invokeAll=function(t){var e=Object.values(this.plugins);e.unshift(this);for(var n=[],i=0;i<e.length;i++){var r=t(e[i]);r&&n.push(r)}return n},V.prototype.getDependency=function(t,e){var n=t+":"+e,i=this.cache.get(n);if(!i){switch(t){case"scene":i=this.loadScene(e);break;case"node":i=this.loadNode(e);break;case"mesh":i=this._invokeOne((function(t){return t.loadMesh&&t.loadMesh(e)}));break;case"accessor":i=this.loadAccessor(e);break;case"bufferView":i=this._invokeOne((function(t){return t.loadBufferView&&t.loadBufferView(e)}));break;case"buffer":i=this.loadBuffer(e);break;case"material":i=this._invokeOne((function(t){return t.loadMaterial&&t.loadMaterial(e)}));break;case"texture":i=this._invokeOne((function(t){return t.loadTexture&&t.loadTexture(e)}));break;case"skin":i=this.loadSkin(e);break;case"animation":i=this.loadAnimation(e);break;case"camera":i=this.loadCamera(e);break;default:throw new Error("Unknown type: "+t)}this.cache.add(n,i)}return i},V.prototype.getDependencies=function(t){var e=this.cache.get(t);if(!e){var n=this,i=this.json[t+("mesh"===t?"es":"s")]||[];e=Promise.all(i.map((function(e,i){return n.getDependency(t,i)}))),this.cache.add(t,e)}return e},V.prototype.loadBuffer=function(t){var e=this.json.buffers[t],i=this.fileLoader;if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(void 0===e.uri&&0===t)return Promise.resolve(this.extensions[n.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(t,n){i.load(B(e.uri,r.path),t,void 0,(function(){n(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))}))}))},V.prototype.loadBufferView=function(t){var e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then((function(t){var n=e.byteLength||0,i=e.byteOffset||0;return t.slice(i,i+n)}))},V.prototype.loadAccessor=function(t){var e=this,n=this.json,i=this.json.accessors[t];if(void 0===i.bufferView&&void 0===i.sparse)return Promise.resolve(null);var r=[];return void 0!==i.bufferView?r.push(this.getDependency("bufferView",i.bufferView)):r.push(null),void 0!==i.sparse&&(r.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(r).then((function(t){var r,o,s=t[0],a=I[i.type],c=L[i.componentType],l=c.BYTES_PER_ELEMENT,u=l*a,h=i.byteOffset||0,p=void 0!==i.bufferView?n.bufferViews[i.bufferView].byteStride:void 0,f=!0===i.normalized;if(p&&p!==u){var d=Math.floor(h/p),_="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+d+":"+i.count,m=e.cache.get(_);m||(r=new c(s,d*p,i.count*p/l),m=new De.r(r,p/l),e.cache.add(_,m)),o=new De.s(m,a,h%p/l,f)}else r=null===s?new c(i.count*a):new c(s,h,i.count*a),o=new De.e(r,a,f);if(void 0!==i.sparse){var g=I.SCALAR,b=L[i.sparse.indices.componentType],v=i.sparse.indices.byteOffset||0,y=i.sparse.values.byteOffset||0,x=new b(t[1],v,i.sparse.count*g),w=new c(t[2],y,i.sparse.count*a);null!==s&&(o=new De.e(o.array.slice(),o.itemSize,o.normalized));for(var S=0,M=x.length;S<M;S++){var C=x[S];if(o.setX(C,w[S*a]),a>=2&&o.setY(C,w[S*a+1]),a>=3&&o.setZ(C,w[S*a+2]),a>=4&&o.setW(C,w[S*a+3]),a>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return o}))},V.prototype.loadTexture=function(t){var e,i,r=this.json,o=this.options,s=r.textures[t],a=s.extensions||{};return(e=a[n.MSFT_TEXTURE_DDS]?r.images[a[n.MSFT_TEXTURE_DDS].source]:r.images[s.source]).uri&&(i=o.manager.getHandler(e.uri)),i||(i=a[n.MSFT_TEXTURE_DDS]?this.extensions[n.MSFT_TEXTURE_DDS].ddsLoader:this.textureLoader),this.loadTextureImage(t,e,i)},V.prototype.loadTextureImage=function(t,e,n){var i=this,r=this.json,o=this.options,s=r.textures[t],a=self.URL||self.webkitURL,c=e.uri,l=!1,u=!0;return"image/jpeg"===e.mimeType&&(u=!1),void 0!==e.bufferView&&(c=i.getDependency("bufferView",e.bufferView).then((function(t){if("image/png"===e.mimeType){var n=new DataView(t,25,1).getUint8(0,!1);u=6===n||4===n||3===n}l=!0;var i=new Blob([t],{type:e.mimeType});return c=a.createObjectURL(i)}))),Promise.resolve(c).then((function(t){return new Promise((function(e,i){var r=e;!0===n.isImageBitmapLoader&&(r=function(t){e(new De.g(t))}),n.load(B(t,o.path),r,void 0,i)}))})).then((function(e){!0===l&&a.revokeObjectURL(c),e.flipY=!1,s.name&&(e.name=s.name),u||(e.format=De.bb);var n=(r.samplers||{})[s.sampler]||{};return e.magFilter=E[n.magFilter]||De.A,e.minFilter=E[n.minFilter]||De.B,e.wrapS=R[n.wrapS]||De.cb,e.wrapT=R[n.wrapT]||De.cb,i.associations.set(e,{type:"textures",index:t}),e}))},V.prototype.assignTexture=function(t,e,i){var r=this;return this.getDependency("texture",i.index).then((function(o){if(void 0!==i.texCoord&&0!=i.texCoord&&("aoMap"!==e||i.texCoord),r.extensions[n.KHR_TEXTURE_TRANSFORM]){var s=void 0!==i.extensions?i.extensions[n.KHR_TEXTURE_TRANSFORM]:void 0;if(s){var a=r.associations.get(o);o=r.extensions[n.KHR_TEXTURE_TRANSFORM].extendTexture(o,s),r.associations.set(o,a)}}t[e]=o}))},V.prototype.assignFinalMaterial=function(t){var e=t.geometry,n=t.material,i=void 0!==e.attributes.tangent,r=void 0!==e.attributes.color,o=void 0===e.attributes.normal,s=!0===t.isSkinnedMesh,a=Object.keys(e.morphAttributes).length>0,c=a&&void 0!==e.morphAttributes.normal;if(t.isPoints){var l="PointsMaterial:"+n.uuid,u=this.cache.get(l);u||(u=new De.X,De.G.prototype.copy.call(u,n),u.color.copy(n.color),u.map=n.map,u.sizeAttenuation=!1,this.cache.add(l,u)),n=u}else if(t.isLine){l="LineBasicMaterial:"+n.uuid;var h=this.cache.get(l);h||(h=new De.x,De.G.prototype.copy.call(h,n),h.color.copy(n.color),this.cache.add(l,h)),n=h}if(i||r||o||s||a){l="ClonedMaterial:"+n.uuid+":",n.isGLTFSpecularGlossinessMaterial&&(l+="specular-glossiness:"),s&&(l+="skinning:"),i&&(l+="vertex-tangents:"),r&&(l+="vertex-colors:"),o&&(l+="flat-shading:"),a&&(l+="morph-targets:"),c&&(l+="morph-normals:");var p=this.cache.get(l);p||(p=n.clone(),s&&(p.skinning=!0),i&&(p.vertexTangents=!0),r&&(p.vertexColors=!0),o&&(p.flatShading=!0),a&&(p.morphTargets=!0),c&&(p.morphNormals=!0),this.cache.add(l,p),this.associations.set(p,this.associations.get(n))),n=p}n.aoMap&&void 0===e.attributes.uv2&&void 0!==e.attributes.uv&&e.setAttribute("uv2",e.attributes.uv),n.normalScale&&!i&&(n.normalScale.y=-n.normalScale.y),n.clearcoatNormalScale&&!i&&(n.clearcoatNormalScale.y=-n.clearcoatNormalScale.y),t.material=n},V.prototype.getMaterialType=function(){return De.M},V.prototype.loadMaterial=function(t){var e,i=this,r=this.json,o=this.extensions,s=r.materials[t],a={},c=s.extensions||{},l=[];if(c[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var u=o[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];e=u.getMaterialType(),l.push(u.extendParams(a,s,i))}else if(c[n.KHR_MATERIALS_UNLIT]){var h=o[n.KHR_MATERIALS_UNLIT];e=h.getMaterialType(),l.push(h.extendParams(a,s,i))}else{var p=s.pbrMetallicRoughness||{};if(a.color=new De.i(1,1,1),a.opacity=1,Array.isArray(p.baseColorFactor)){var f=p.baseColorFactor;a.color.fromArray(f),a.opacity=f[3]}void 0!==p.baseColorTexture&&l.push(i.assignTexture(a,"map",p.baseColorTexture)),a.metalness=void 0!==p.metallicFactor?p.metallicFactor:1,a.roughness=void 0!==p.roughnessFactor?p.roughnessFactor:1,void 0!==p.metallicRoughnessTexture&&(l.push(i.assignTexture(a,"metalnessMap",p.metallicRoughnessTexture)),l.push(i.assignTexture(a,"roughnessMap",p.metallicRoughnessTexture))),e=this._invokeOne((function(e){return e.getMaterialType&&e.getMaterialType(t)})),l.push(Promise.all(this._invokeAll((function(e){return e.extendMaterialParams&&e.extendMaterialParams(t,a)}))))}!0===s.doubleSided&&(a.side=De.k);var d=s.alphaMode||O;return d===F?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,d===N&&(a.alphaTest=void 0!==s.alphaCutoff?s.alphaCutoff:.5)),void 0!==s.normalTexture&&e!==De.K&&(l.push(i.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new De.ob(1,1),void 0!==s.normalTexture.scale&&a.normalScale.set(s.normalTexture.scale,s.normalTexture.scale)),void 0!==s.occlusionTexture&&e!==De.K&&(l.push(i.assignTexture(a,"aoMap",s.occlusionTexture)),void 0!==s.occlusionTexture.strength&&(a.aoMapIntensity=s.occlusionTexture.strength)),void 0!==s.emissiveFactor&&e!==De.K&&(a.emissive=(new De.i).fromArray(s.emissiveFactor)),void 0!==s.emissiveTexture&&e!==De.K&&l.push(i.assignTexture(a,"emissiveMap",s.emissiveTexture)),Promise.all(l).then((function(){var r;return r=e===g?o[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):new e(a),s.name&&(r.name=s.name),r.map&&(r.map.encoding=De.rb),r.emissiveMap&&(r.emissiveMap.encoding=De.rb),U(r,s),i.associations.set(r,{type:"materials",index:t}),s.extensions&&j(o,r,s),r}))},V.prototype.createUniqueName=function(t){for(var e=De.Y.sanitizeNodeName(t||""),n=e,i=1;this.nodeNamesUsed[n];++i)n=e+"_"+i;return this.nodeNamesUsed[n]=!0,n},V.prototype.loadGeometries=function(t){var e=this,i=this.extensions,r=this.primitiveCache;function o(t){return i[n.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(t,e).then((function(n){return W(n,t,e)}))}for(var s,a,c=[],l=0,u=t.length;l<u;l++){var h,p=t[l],f=(a=void 0,(a=(s=p).extensions&&s.extensions[n.KHR_DRACO_MESH_COMPRESSION])?"draco:"+a.bufferView+":"+a.indices+":"+G(a.attributes):s.indices+":"+G(s.attributes)+":"+s.mode),d=r[f];d?c.push(d.promise):(h=p.extensions&&p.extensions[n.KHR_DRACO_MESH_COMPRESSION]?o(p):W(new De.f,p,e),r[f]={primitive:p,promise:h},c.push(h))}return Promise.all(c)},V.prototype.loadMesh=function(t){for(var e,n=this,i=this.json,r=this.extensions,o=i.meshes[t],s=o.primitives,a=[],c=0,l=s.length;c<l;c++){var u=void 0===s[c].material?(void 0===(e=this.cache).DefaultMaterial&&(e.DefaultMaterial=new De.M({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:De.o})),e.DefaultMaterial):this.getDependency("material",s[c].material);a.push(u)}return a.push(n.loadGeometries(s)),Promise.all(a).then((function(e){for(var i=e.slice(0,e.length-1),a=e[e.length-1],c=[],l=0,u=a.length;l<u;l++){var h,p=a[l],f=s[l],d=i[l];if(f.mode===C||f.mode===T||f.mode===A||void 0===f.mode)!0!==(h=!0===o.isSkinnedMesh?new De.fb(p,d):new De.J(p,d)).isSkinnedMesh||h.geometry.attributes.skinWeight.normalized||h.normalizeSkinWeights(),f.mode===T?h.geometry=H(h.geometry,De.nb):f.mode===A&&(h.geometry=H(h.geometry,De.mb));else if(f.mode===w)h=new De.z(p,d);else if(f.mode===M)h=new De.w(p,d);else if(f.mode===S)h=new De.y(p,d);else{if(f.mode!==x)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+f.mode);h=new De.W(p,d)}Object.keys(h.geometry.morphAttributes).length>0&&z(h,o),h.name=n.createUniqueName(o.name||"mesh_"+t),U(h,o),f.extensions&&j(r,h,f),n.assignFinalMaterial(h),c.push(h)}if(1===c.length)return c[0];var _=new De.p;for(l=0,u=c.length;l<u;l++)_.add(c[l]);return _}))},V.prototype.loadCamera=function(t){var e,n=this.json.cameras[t],i=n[n.type];if(i)return"perspective"===n.type?e=new De.U(De.H.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):"orthographic"===n.type&&(e=new De.T(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(e.name=this.createUniqueName(n.name)),U(e,n),Promise.resolve(e)},V.prototype.loadSkin=function(t){var e=this.json.skins[t],n={joints:e.joints};return void 0===e.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",e.inverseBindMatrices).then((function(t){return n.inverseBindMatrices=t,n}))},V.prototype.loadAnimation=function(t){for(var e=this.json.animations[t],n=[],i=[],r=[],o=[],s=[],a=0,c=e.channels.length;a<c;a++){var l=e.channels[a],u=e.samplers[l.sampler],h=l.target,p=void 0!==h.node?h.node:h.id,f=void 0!==e.parameters?e.parameters[u.input]:u.input,d=void 0!==e.parameters?e.parameters[u.output]:u.output;n.push(this.getDependency("node",p)),i.push(this.getDependency("accessor",f)),r.push(this.getDependency("accessor",d)),o.push(u),s.push(h)}return Promise.all([Promise.all(n),Promise.all(i),Promise.all(r),Promise.all(o),Promise.all(s)]).then((function(n){for(var i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],c=[],l=0,u=i.length;l<u;l++){var h=i[l],p=r[l],f=o[l],d=s[l],_=a[l];if(void 0!==h){var m;switch(h.updateMatrix(),h.matrixAutoUpdate=!0,D[_.path]){case D.weights:m=De.R;break;case D.rotation:m=De.ab;break;case D.position:case D.scale:default:m=De.qb}var g=h.name?h.name:h.uuid,b=void 0!==d.interpolation?k[d.interpolation]:De.v,v=[];D[_.path]===D.weights?h.traverse((function(t){!0===t.isMesh&&t.morphTargetInfluences&&v.push(t.name?t.name:t.uuid)})):v.push(g);var x=f.array;if(f.normalized){var w;if(x.constructor===Int8Array)w=1/127;else if(x.constructor===Uint8Array)w=1/255;else if(x.constructor==Int16Array)w=1/32767;else{if(x.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");w=1/65535}for(var S=new Float32Array(x.length),M=0,C=x.length;M<C;M++)S[M]=x[M]*w;x=S}for(M=0,C=v.length;M<C;M++){var T=new m(v[M]+"."+D[_.path],p.array,x,b);"CUBICSPLINE"===d.interpolation&&(T.createInterpolant=function(t){return new y(this.times,this.values,this.getValueSize()/3,t)},T.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),c.push(T)}}}var A=e.name?e.name:"animation_"+t;return new De.a(A,void 0,c)}))},V.prototype.loadNode=function(t){var e,n=this.json,i=this.extensions,r=this,o=n.nodes[t],s=o.name?r.createUniqueName(o.name):"";return(e=[],void 0!==o.mesh&&e.push(r.getDependency("mesh",o.mesh).then((function(t){var e=r._getNodeRef(r.meshCache,o.mesh,t);return void 0!==o.weights&&e.traverse((function(t){if(t.isMesh)for(var e=0,n=o.weights.length;e<n;e++)t.morphTargetInfluences[e]=o.weights[e]})),e}))),void 0!==o.camera&&e.push(r.getDependency("camera",o.camera).then((function(t){return r._getNodeRef(r.cameraCache,o.camera,t)}))),r._invokeAll((function(e){return e.createNodeAttachment&&e.createNodeAttachment(t)})).forEach((function(t){e.push(t)})),Promise.all(e)).then((function(e){var n;if((n=!0===o.isBone?new De.c:e.length>1?new De.p:1===e.length?e[0]:new De.S)!==e[0])for(var a=0,c=e.length;a<c;a++)n.add(e[a]);if(o.name&&(n.userData.name=o.name,n.name=s),U(n,o),o.extensions&&j(i,n,o),void 0!==o.matrix){var l=new De.I;l.fromArray(o.matrix),n.applyMatrix4(l)}else void 0!==o.translation&&n.position.fromArray(o.translation),void 0!==o.rotation&&n.quaternion.fromArray(o.rotation),void 0!==o.scale&&n.scale.fromArray(o.scale);return r.associations.set(n,{type:"nodes",index:t}),n}))},V.prototype.loadScene=function(){function t(e,n,i,r){var o=i.nodes[e];return r.getDependency("node",e).then((function(t){return void 0===o.skin?t:r.getDependency("skin",o.skin).then((function(t){for(var n=[],i=0,o=(e=t).joints.length;i<o;i++)n.push(r.getDependency("node",e.joints[i]));return Promise.all(n)})).then((function(n){return t.traverse((function(t){if(t.isMesh){for(var i=[],r=[],o=0,s=n.length;o<s;o++){var a=n[o];if(a){i.push(a);var c=new De.I;void 0!==e.inverseBindMatrices&&c.fromArray(e.inverseBindMatrices.array,16*o),r.push(c)}}t.bind(new De.db(i,r),t.matrixWorld)}})),t}));var e})).then((function(e){n.add(e);var s=[];if(o.children)for(var a=o.children,c=0,l=a.length;c<l;c++){var u=a[c];s.push(t(u,e,i,r))}return Promise.all(s)}))}return function(e){var n=this.json,i=this.extensions,r=this.json.scenes[e],o=new De.p;r.name&&(o.name=this.createUniqueName(r.name)),U(o,r),r.extensions&&j(i,o,r);for(var s=r.nodes||[],a=[],c=0,l=s.length;c<l;c++)a.push(t(s[c],o,n,this));return Promise.all(a).then((function(){return o}))}}(),t}();(Pe||(Pe={})).Loader=class extends Ot{constructor(){super(...arguments),this.cubeTexture=new Te(this),this.texture=new Ae(this),this.gltf=new ke(this),this.audio=new Ie,this.textureBasePath="./assets/images",this.modelBasePath="./assets/models/",this.audioBasePath="./assets/sounds/",this.uuid=me.generateUUID(),this.cubeTextures=["px.jpg","nx.jpg","py.jpg","ny.jpg","pz.jpg","nz.jpg"],this.onProgress=(t,e,n)=>{const i=100*e/n;bt.dispatch("loading:progress",{uuid:this.uuid,progress:i})},this.onStart=()=>{bt.dispatch("loading:start",this.uuid)},this.onError=t=>{},this.onLoad=()=>{bt.dispatch("loading:end",this.uuid)}}getPromiseCallbacks(t,e){return{onLoad:e=>{e instanceof Ce&&(e.format=Qt),t(e)},onProgress:t=>this.onProgress(t.target.responseURL,t.loaded,t.total),onError:t=>e(t)}}async loadCubeTexture(t){return await new Promise(((e,n)=>{const i=this.getPromiseCallbacks(e,n);this.cubeTexture.setPath(`${this.textureBasePath}/${t}/`),this.cubeTexture.load(this.cubeTextures,i.onLoad,i.onProgress,i.onError)}))}async loadTexture(t){return await new Promise(((e,n)=>{const i=this.getPromiseCallbacks(e,n);this.texture.setPath(`${this.textureBasePath}/`),this.texture.load(t,i.onLoad,i.onProgress,i.onError)}))}async loadGLTF(t){return await new Promise(((e,n)=>{const i=this.getPromiseCallbacks(e,n);this.gltf.setPath(this.modelBasePath),this.gltf.load(t,i.onLoad,i.onProgress,i.onError)}))}async loadAudio(t){return await new Promise(((e,n)=>{const i=this.getPromiseCallbacks(e,n);this.audio.setPath(this.audioBasePath),this.audio.load(t,i.onLoad,i.onProgress,i.onError)}))}};class Oe{constructor(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Ne(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=Ne();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function Ne(){return("undefined"==typeof performance?Date:performance).now()}class Fe{constructor(t=0,e=0,n=0,i=1){Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=t,this._y=e,this._z=n,this._w=i}static slerp(t,e,n,i){return n.copy(t).slerp(e,i)}static slerpFlat(t,e,n,i,r,o,s){let a=n[i+0],c=n[i+1],l=n[i+2],u=n[i+3];const h=r[o+0],p=r[o+1],f=r[o+2],d=r[o+3];if(u!==d||a!==h||c!==p||l!==f){let t=1-s;const e=a*h+c*p+l*f+u*d,n=e>=0?1:-1,i=1-e*e;if(i>Number.EPSILON){const r=Math.sqrt(i),o=Math.atan2(r,e*n);t=Math.sin(t*o)/r,s=Math.sin(s*o)/r}const r=s*n;if(a=a*t+h*r,c=c*t+p*r,l=l*t+f*r,u=u*t+d*r,t===1-s){const t=1/Math.sqrt(a*a+c*c+l*l+u*u);a*=t,c*=t,l*=t,u*=t}}t[e]=a,t[e+1]=c,t[e+2]=l,t[e+3]=u}static multiplyQuaternionsFlat(t,e,n,i,r,o){const s=n[i],a=n[i+1],c=n[i+2],l=n[i+3],u=r[o],h=r[o+1],p=r[o+2],f=r[o+3];return t[e]=s*f+l*u+a*p-c*h,t[e+1]=a*f+l*h+c*u-s*p,t[e+2]=c*f+l*p+s*h-a*u,t[e+3]=l*f-s*u-a*h-c*p,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=t._x,i=t._y,r=t._z,o=t._order,s=Math.cos,a=Math.sin,c=s(n/2),l=s(i/2),u=s(r/2),h=a(n/2),p=a(i/2),f=a(r/2);switch(o){case"XYZ":this._x=h*l*u+c*p*f,this._y=c*p*u-h*l*f,this._z=c*l*f+h*p*u,this._w=c*l*u-h*p*f;break;case"YXZ":this._x=h*l*u+c*p*f,this._y=c*p*u-h*l*f,this._z=c*l*f-h*p*u,this._w=c*l*u+h*p*f;break;case"ZXY":this._x=h*l*u-c*p*f,this._y=c*p*u+h*l*f,this._z=c*l*f+h*p*u,this._w=c*l*u-h*p*f;break;case"ZYX":this._x=h*l*u-c*p*f,this._y=c*p*u+h*l*f,this._z=c*l*f-h*p*u,this._w=c*l*u+h*p*f;break;case"YZX":this._x=h*l*u+c*p*f,this._y=c*p*u+h*l*f,this._z=c*l*f-h*p*u,this._w=c*l*u-h*p*f;break;case"XZY":this._x=h*l*u-c*p*f,this._y=c*p*u-h*l*f,this._z=c*l*f+h*p*u,this._w=c*l*u+h*p*f}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],i=e[4],r=e[8],o=e[1],s=e[5],a=e[9],c=e[2],l=e[6],u=e[10],h=n+s+u;if(h>0){const t=.5/Math.sqrt(h+1);this._w=.25/t,this._x=(l-a)*t,this._y=(r-c)*t,this._z=(o-i)*t}else if(n>s&&n>u){const t=2*Math.sqrt(1+n-s-u);this._w=(l-a)/t,this._x=.25*t,this._y=(i+o)/t,this._z=(r+c)/t}else if(s>u){const t=2*Math.sqrt(1+s-n-u);this._w=(r-c)/t,this._x=(i+o)/t,this._y=.25*t,this._z=(a+l)/t}else{const t=2*Math.sqrt(1+u-n-s);this._w=(o-i)/t,this._x=(r+c)/t,this._y=(a+l)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<1e-6?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(me.clamp(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(0===n)return this;const i=Math.min(1,e/n);return this.slerp(t,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return void 0!==e?this.multiplyQuaternions(t,e):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,i=t._y,r=t._z,o=t._w,s=e._x,a=e._y,c=e._z,l=e._w;return this._x=n*l+o*s+i*c-r*a,this._y=i*l+o*a+r*s-n*c,this._z=r*l+o*c+n*a-i*s,this._w=o*l-n*s-i*a-r*c,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this._x,i=this._y,r=this._z,o=this._w;let s=o*t._w+n*t._x+i*t._y+r*t._z;if(s<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,s=-s):this.copy(t),s>=1)return this._w=o,this._x=n,this._y=i,this._z=r,this;const a=1-s*s;if(a<=Number.EPSILON){const t=1-e;return this._w=t*o+e*this._w,this._x=t*n+e*this._x,this._y=t*i+e*this._y,this._z=t*r+e*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(a),l=Math.atan2(c,s),u=Math.sin((1-e)*l)/c,h=Math.sin(e*l)/c;return this._w=o*u+this._w*h,this._x=n*u+this._x*h,this._y=i*u+this._y*h,this._z=r*u+this._z*h,this._onChangeCallback(),this}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}class Be{constructor(t=0,e=0,n=0){Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return void 0!==e?this.multiplyVectors(t,e):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return!t||t.isEuler,this.applyQuaternion(Ue.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(Ue.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,i=this.z,r=t.elements,o=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*o,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*o,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*o,this}applyQuaternion(t){const e=this.x,n=this.y,i=this.z,r=t.x,o=t.y,s=t.z,a=t.w,c=a*e+o*i-s*n,l=a*n+s*e-r*i,u=a*i+r*n-o*e,h=-r*e-o*n-s*i;return this.x=c*a+h*-r+l*-s-u*-o,this.y=l*a+h*-o+u*-r-c*-s,this.z=u*a+h*-s+c*-o-l*-r,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t,e){return void 0!==e?this.crossVectors(t,e):this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,i=t.y,r=t.z,o=e.x,s=e.y,a=e.z;return this.x=i*a-r*s,this.y=r*o-n*a,this.z=n*s-i*o,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return je.copy(this).projectOnVector(t),this.sub(je)}reflect(t){return this.sub(je.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(me.clamp(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const i=Math.sin(e)*t;return this.x=i*Math.sin(n),this.y=Math.cos(e)*t,this.z=i*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,n){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}const je=new Be,Ue=new Fe;class ze{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(t,e,n,i,r,o,s,a,c,l,u,h,p,f,d,_){const m=this.elements;return m[0]=t,m[4]=e,m[8]=n,m[12]=i,m[1]=r,m[5]=o,m[9]=s,m[13]=a,m[2]=c,m[6]=l,m[10]=u,m[14]=h,m[3]=p,m[7]=f,m[11]=d,m[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new ze).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,i=1/Ge.setFromMatrixColumn(t,0).length(),r=1/Ge.setFromMatrixColumn(t,1).length(),o=1/Ge.setFromMatrixColumn(t,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=0,e[4]=n[4]*r,e[5]=n[5]*r,e[6]=n[6]*r,e[7]=0,e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){!t||t.isEuler;const e=this.elements,n=t.x,i=t.y,r=t.z,o=Math.cos(n),s=Math.sin(n),a=Math.cos(i),c=Math.sin(i),l=Math.cos(r),u=Math.sin(r);if("XYZ"===t.order){const t=o*l,n=o*u,i=s*l,r=s*u;e[0]=a*l,e[4]=-a*u,e[8]=c,e[1]=n+i*c,e[5]=t-r*c,e[9]=-s*a,e[2]=r-t*c,e[6]=i+n*c,e[10]=o*a}else if("YXZ"===t.order){const t=a*l,n=a*u,i=c*l,r=c*u;e[0]=t+r*s,e[4]=i*s-n,e[8]=o*c,e[1]=o*u,e[5]=o*l,e[9]=-s,e[2]=n*s-i,e[6]=r+t*s,e[10]=o*a}else if("ZXY"===t.order){const t=a*l,n=a*u,i=c*l,r=c*u;e[0]=t-r*s,e[4]=-o*u,e[8]=i+n*s,e[1]=n+i*s,e[5]=o*l,e[9]=r-t*s,e[2]=-o*c,e[6]=s,e[10]=o*a}else if("ZYX"===t.order){const t=o*l,n=o*u,i=s*l,r=s*u;e[0]=a*l,e[4]=i*c-n,e[8]=t*c+r,e[1]=a*u,e[5]=r*c+t,e[9]=n*c-i,e[2]=-c,e[6]=s*a,e[10]=o*a}else if("YZX"===t.order){const t=o*a,n=o*c,i=s*a,r=s*c;e[0]=a*l,e[4]=r-t*u,e[8]=i*u+n,e[1]=u,e[5]=o*l,e[9]=-s*l,e[2]=-c*l,e[6]=n*u+i,e[10]=t-r*u}else if("XZY"===t.order){const t=o*a,n=o*c,i=s*a,r=s*c;e[0]=a*l,e[4]=-u,e[8]=c*l,e[1]=t*u+r,e[5]=o*l,e[9]=n*u-i,e[2]=i*u-n,e[6]=s*l,e[10]=r*u+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(We,t,He)}lookAt(t,e,n){const i=this.elements;return Ye.subVectors(t,e),0===Ye.lengthSq()&&(Ye.z=1),Ye.normalize(),Xe.crossVectors(n,Ye),0===Xe.lengthSq()&&(1===Math.abs(n.z)?Ye.x+=1e-4:Ye.z+=1e-4,Ye.normalize(),Xe.crossVectors(n,Ye)),Xe.normalize(),qe.crossVectors(Ye,Xe),i[0]=Xe.x,i[4]=qe.x,i[8]=Ye.x,i[1]=Xe.y,i[5]=qe.y,i[9]=Ye.y,i[2]=Xe.z,i[6]=qe.z,i[10]=Ye.z,this}multiply(t,e){return void 0!==e?this.multiplyMatrices(t,e):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,i=e.elements,r=this.elements,o=n[0],s=n[4],a=n[8],c=n[12],l=n[1],u=n[5],h=n[9],p=n[13],f=n[2],d=n[6],_=n[10],m=n[14],g=n[3],b=n[7],v=n[11],y=n[15],x=i[0],w=i[4],S=i[8],M=i[12],C=i[1],T=i[5],A=i[9],L=i[13],E=i[2],R=i[6],I=i[10],P=i[14],D=i[3],k=i[7],O=i[11],N=i[15];return r[0]=o*x+s*C+a*E+c*D,r[4]=o*w+s*T+a*R+c*k,r[8]=o*S+s*A+a*I+c*O,r[12]=o*M+s*L+a*P+c*N,r[1]=l*x+u*C+h*E+p*D,r[5]=l*w+u*T+h*R+p*k,r[9]=l*S+u*A+h*I+p*O,r[13]=l*M+u*L+h*P+p*N,r[2]=f*x+d*C+_*E+m*D,r[6]=f*w+d*T+_*R+m*k,r[10]=f*S+d*A+_*I+m*O,r[14]=f*M+d*L+_*P+m*N,r[3]=g*x+b*C+v*E+y*D,r[7]=g*w+b*T+v*R+y*k,r[11]=g*S+b*A+v*I+y*O,r[15]=g*M+b*L+v*P+y*N,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],o=t[1],s=t[5],a=t[9],c=t[13],l=t[2],u=t[6],h=t[10],p=t[14];return t[3]*(+r*a*u-i*c*u-r*s*h+n*c*h+i*s*p-n*a*p)+t[7]*(+e*a*p-e*c*h+r*o*h-i*o*p+i*c*l-r*a*l)+t[11]*(+e*c*u-e*s*p-r*o*u+n*o*p+r*s*l-n*c*l)+t[15]*(-i*s*l-e*a*u+e*s*h+i*o*u-n*o*h+n*a*l)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],a=t[6],c=t[7],l=t[8],u=t[9],h=t[10],p=t[11],f=t[12],d=t[13],_=t[14],m=t[15],g=u*_*c-d*h*c+d*a*p-s*_*p-u*a*m+s*h*m,b=f*h*c-l*_*c-f*a*p+o*_*p+l*a*m-o*h*m,v=l*d*c-f*u*c+f*s*p-o*d*p-l*s*m+o*u*m,y=f*u*a-l*d*a-f*s*h+o*d*h+l*s*_-o*u*_,x=e*g+n*b+i*v+r*y;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/x;return t[0]=g*w,t[1]=(d*h*r-u*_*r-d*i*p+n*_*p+u*i*m-n*h*m)*w,t[2]=(s*_*r-d*a*r+d*i*c-n*_*c-s*i*m+n*a*m)*w,t[3]=(u*a*r-s*h*r-u*i*c+n*h*c+s*i*p-n*a*p)*w,t[4]=b*w,t[5]=(l*_*r-f*h*r+f*i*p-e*_*p-l*i*m+e*h*m)*w,t[6]=(f*a*r-o*_*r-f*i*c+e*_*c+o*i*m-e*a*m)*w,t[7]=(o*h*r-l*a*r+l*i*c-e*h*c-o*i*p+e*a*p)*w,t[8]=v*w,t[9]=(f*u*r-l*d*r-f*n*p+e*d*p+l*n*m-e*u*m)*w,t[10]=(o*d*r-f*s*r+f*n*c-e*d*c-o*n*m+e*s*m)*w,t[11]=(l*s*r-o*u*r-l*n*c+e*u*c+o*n*p-e*s*p)*w,t[12]=y*w,t[13]=(l*d*i-f*u*i+f*n*h-e*d*h-l*n*_+e*u*_)*w,t[14]=(f*s*i-o*d*i-f*n*a+e*d*a+o*n*_-e*s*_)*w,t[15]=(o*u*i-l*s*i+l*n*a-e*u*a-o*n*h+e*s*h)*w,this}scale(t){const e=this.elements,n=t.x,i=t.y,r=t.z;return e[0]*=n,e[4]*=i,e[8]*=r,e[1]*=n,e[5]*=i,e[9]*=r,e[2]*=n,e[6]*=i,e[10]*=r,e[3]*=n,e[7]*=i,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,i))}makeTranslation(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),i=Math.sin(e),r=1-n,o=t.x,s=t.y,a=t.z,c=r*o,l=r*s;return this.set(c*o+n,c*s-i*a,c*a+i*s,0,c*s+i*a,l*s+n,l*a-i*o,0,c*a-i*s,l*a+i*o,r*a*a+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this}compose(t,e,n){const i=this.elements,r=e._x,o=e._y,s=e._z,a=e._w,c=r+r,l=o+o,u=s+s,h=r*c,p=r*l,f=r*u,d=o*l,_=o*u,m=s*u,g=a*c,b=a*l,v=a*u,y=n.x,x=n.y,w=n.z;return i[0]=(1-(d+m))*y,i[1]=(p+v)*y,i[2]=(f-b)*y,i[3]=0,i[4]=(p-v)*x,i[5]=(1-(h+m))*x,i[6]=(_+g)*x,i[7]=0,i[8]=(f+b)*w,i[9]=(_-g)*w,i[10]=(1-(h+d))*w,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}decompose(t,e,n){const i=this.elements;let r=Ge.set(i[0],i[1],i[2]).length();const o=Ge.set(i[4],i[5],i[6]).length(),s=Ge.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),t.x=i[12],t.y=i[13],t.z=i[14],Ve.copy(this);const a=1/r,c=1/o,l=1/s;return Ve.elements[0]*=a,Ve.elements[1]*=a,Ve.elements[2]*=a,Ve.elements[4]*=c,Ve.elements[5]*=c,Ve.elements[6]*=c,Ve.elements[8]*=l,Ve.elements[9]*=l,Ve.elements[10]*=l,e.setFromRotationMatrix(Ve),n.x=r,n.y=o,n.z=s,this}makePerspective(t,e,n,i,r,o){const s=this.elements,a=2*r/(e-t),c=2*r/(n-i),l=(e+t)/(e-t),u=(n+i)/(n-i),h=-(o+r)/(o-r),p=-2*o*r/(o-r);return s[0]=a,s[4]=0,s[8]=l,s[12]=0,s[1]=0,s[5]=c,s[9]=u,s[13]=0,s[2]=0,s[6]=0,s[10]=h,s[14]=p,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(t,e,n,i,r,o){const s=this.elements,a=1/(e-t),c=1/(n-i),l=1/(o-r),u=(e+t)*a,h=(n+i)*c,p=(o+r)*l;return s[0]=2*a,s[4]=0,s[8]=0,s[12]=-u,s[1]=0,s[5]=2*c,s[9]=0,s[13]=-h,s[2]=0,s[6]=0,s[10]=-2*l,s[14]=-p,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let t=0;t<16;t++)if(e[t]!==n[t])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}const Ge=new Be,Ve=new ze,We=new Be(0,0,0),He=new Be(1,1,1),Xe=new Be,qe=new Be,Ye=new Be;class Ze{constructor(t=0,e=0,n=0,i=Ze.DefaultOrder){Object.defineProperty(this,"isEuler",{value:!0}),this._x=t,this._y=e,this._z=n,this._order=i}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._order=i||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e,n){const i=me.clamp,r=t.elements,o=r[0],s=r[4],a=r[8],c=r[1],l=r[5],u=r[9],h=r[2],p=r[6],f=r[10];switch(e=e||this._order){case"XYZ":this._y=Math.asin(i(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(p,l),this._z=0);break;case"YXZ":this._x=Math.asin(-i(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,f),this._z=Math.atan2(c,l)):(this._y=Math.atan2(-h,o),this._z=0);break;case"ZXY":this._x=Math.asin(i(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,f),this._z=Math.atan2(-s,l)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-i(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,f),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-s,l));break;case"YZX":this._z=Math.asin(i(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(a,f));break;case"XZY":this._z=Math.asin(-i(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(p,l),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-u,f),this._y=0)}return this._order=e,!1!==n&&this._onChangeCallback(),this}setFromQuaternion(t,e,n){return Je.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Je,e,n)}setFromVector3(t,e){return this.set(t.x,t.y,t.z,e||this._order)}reorder(t){return Ke.setFromEuler(this),this.setFromQuaternion(Ke,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}toVector3(t){return t?t.set(this._x,this._y,this._z):new Be(this._x,this._y,this._z)}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}Ze.DefaultOrder="XYZ",Ze.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];const Je=new ze,Ke=new Fe;class $e{constructor(){this.mask=1}set(t){this.mask=1<<t|0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}}let Qe=0;const tn=new Be,en=new Fe,nn=new ze,rn=new Be,on=new Be,sn=new Be,an=new Fe,cn=new Be(1,0,0),ln=new Be(0,1,0),un=new Be(0,0,1),hn={type:"added"},pn={type:"removed"};function fn(){Object.defineProperty(this,"id",{value:Qe++}),this.uuid=me.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=fn.DefaultUp.clone();const t=new Be,e=new Ze,n=new Fe,i=new Be(1,1,1);e._onChange((function(){n.setFromEuler(e,!1)})),n._onChange((function(){e.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new ze},normalMatrix:{value:new be}}),this.matrix=new ze,this.matrixWorld=new ze,this.matrixAutoUpdate=fn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new $e,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}fn.DefaultUp=new Be(0,1,0),fn.DefaultMatrixAutoUpdate=!0,fn.prototype=Object.assign(Object.create(jt.prototype),{constructor:fn,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(t,e){return en.setFromAxisAngle(t,e),this.quaternion.multiply(en),this},rotateOnWorldAxis:function(t,e){return en.setFromAxisAngle(t,e),this.quaternion.premultiply(en),this},rotateX:function(t){return this.rotateOnAxis(cn,t)},rotateY:function(t){return this.rotateOnAxis(ln,t)},rotateZ:function(t){return this.rotateOnAxis(un,t)},translateOnAxis:function(t,e){return tn.copy(t).applyQuaternion(this.quaternion),this.position.add(tn.multiplyScalar(e)),this},translateX:function(t){return this.translateOnAxis(cn,t)},translateY:function(t){return this.translateOnAxis(ln,t)},translateZ:function(t){return this.translateOnAxis(un,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(nn.copy(this.matrixWorld).invert())},lookAt:function(t,e,n){t.isVector3?rn.copy(t):rn.set(t,e,n);const i=this.parent;this.updateWorldMatrix(!0,!1),on.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?nn.lookAt(on,rn,this.up):nn.lookAt(rn,on,this.up),this.quaternion.setFromRotationMatrix(nn),i&&(nn.extractRotation(i.matrixWorld),en.setFromRotationMatrix(nn),this.quaternion.premultiply(en.invert()))},add:function(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this||t&&t.isObject3D&&(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(hn)),this},remove:function(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(pn)),this},clear:function(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(pn)}return this.children.length=0,this},attach:function(t){return this.updateWorldMatrix(!0,!1),nn.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),nn.multiply(t.parent.matrixWorld)),t.applyMatrix4(nn),t.updateWorldMatrix(!1,!1),this.add(t),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(let n=0,i=this.children.length;n<i;n++){const i=this.children[n].getObjectByProperty(t,e);if(void 0!==i)return i}},getWorldPosition:function(t){return void 0===t&&(t=new Be),this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return void 0===t&&(t=new Fe),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(on,t,sn),t},getWorldScale:function(t){return void 0===t&&(t=new Be),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(on,an,t),t},getWorldDirection:function(t){void 0===t&&(t=new Be),this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1===this.visible)return;t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)},traverseAncestors:function(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){const n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const t=this.children;for(let e=0,n=t.length;e<n;e++)t[e].updateWorldMatrix(!1,!0)}},toJSON:function(t){const e=void 0===t||"string"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};function r(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){i.geometry=r(t.geometries,this.geometry);const e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){const n=e.shapes;if(Array.isArray(n))for(let e=0,i=n.length;e<i;e++){const i=n[e];r(t.shapes,i)}else r(t.shapes,n)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(t.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const e=[];for(let n=0,i=this.material.length;n<i;n++)e.push(r(t.materials,this.material[n]));i.material=e}else i.material=r(t.materials,this.material);if(this.children.length>0){i.children=[];for(let e=0;e<this.children.length;e++)i.children.push(this.children[e].toJSON(t).object)}if(this.animations.length>0){i.animations=[];for(let e=0;e<this.animations.length;e++){const n=this.animations[e];i.animations.push(r(t.animations,n))}}if(e){const e=o(t.geometries),i=o(t.materials),r=o(t.textures),s=o(t.images),a=o(t.shapes),c=o(t.skeletons),l=o(t.animations);e.length>0&&(n.geometries=e),i.length>0&&(n.materials=i),r.length>0&&(n.textures=r),s.length>0&&(n.images=s),a.length>0&&(n.shapes=a),c.length>0&&(n.skeletons=c),l.length>0&&(n.animations=l)}return n.object=i,n;function o(t){const e=[];for(const n in t){const i=t[n];delete i.metadata,e.push(i)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let e=0;e<t.children.length;e++){const n=t.children[e];this.add(n.clone())}return this}});const dn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_n={h:0,s:0,l:0},mn={h:0,s:0,l:0};function gn(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}function bn(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function vn(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}class yn{constructor(t,e,n){return Object.defineProperty(this,"isColor",{value:!0}),void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this}setRGB(t,e,n){return this.r=t,this.g=e,this.b=n,this}setHSL(t,e,n){if(t=me.euclideanModulo(t,1),e=me.clamp(e,0,1),n=me.clamp(n,0,1),0===e)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+e):n+e-n*e,r=2*n-i;this.r=gn(r,i,t+1/3),this.g=gn(r,i,t),this.b=gn(r,i,t-1/3)}return this}setStyle(t){function e(t){void 0!==t&&parseFloat(t)}let n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){let t;const i=n[1],r=n[2];switch(i){case"rgb":case"rgba":if(t=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r))return this.r=Math.min(255,parseInt(t[1],10))/255,this.g=Math.min(255,parseInt(t[2],10))/255,this.b=Math.min(255,parseInt(t[3],10))/255,e(t[4]),this;if(t=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r))return this.r=Math.min(100,parseInt(t[1],10))/100,this.g=Math.min(100,parseInt(t[2],10))/100,this.b=Math.min(100,parseInt(t[3],10))/100,e(t[4]),this;break;case"hsl":case"hsla":if(t=/^(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r)){const n=parseFloat(t[1])/360,i=parseInt(t[2],10)/100,r=parseInt(t[3],10)/100;return e(t[4]),this.setHSL(n,i,r)}}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(t)){const t=n[1],e=t.length;if(3===e)return this.r=parseInt(t.charAt(0)+t.charAt(0),16)/255,this.g=parseInt(t.charAt(1)+t.charAt(1),16)/255,this.b=parseInt(t.charAt(2)+t.charAt(2),16)/255,this;if(6===e)return this.r=parseInt(t.charAt(0)+t.charAt(1),16)/255,this.g=parseInt(t.charAt(2)+t.charAt(3),16)/255,this.b=parseInt(t.charAt(4)+t.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this}setColorName(t){const e=dn[t];return void 0!==e&&this.setHex(e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copyGammaToLinear(t,e=2){return this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this}copyLinearToGamma(t,e=2){const n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this}convertGammaToLinear(t){return this.copyGammaToLinear(this,t),this}convertLinearToGamma(t){return this.copyLinearToGamma(this,t),this}copySRGBToLinear(t){return this.r=bn(t.r),this.g=bn(t.g),this.b=bn(t.b),this}copyLinearToSRGB(t){return this.r=vn(t.r),this.g=vn(t.g),this.b=vn(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(t){void 0===t&&(t={h:0,s:0,l:0});const e=this.r,n=this.g,i=this.b,r=Math.max(e,n,i),o=Math.min(e,n,i);let s,a;const c=(o+r)/2;if(o===r)s=0,a=0;else{const t=r-o;switch(a=c<=.5?t/(r+o):t/(2-r-o),r){case e:s=(n-i)/t+(n<i?6:0);break;case n:s=(i-e)/t+2;break;case i:s=(e-n)/t+4}s/=6}return t.h=s,t.s=a,t.l=c,t}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(t,e,n){return this.getHSL(_n),_n.h+=t,_n.s+=e,_n.l+=n,this.setHSL(_n.h,_n.s,_n.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpHSL(t,e){this.getHSL(_n),t.getHSL(mn);const n=me.lerp(_n.h,mn.h,e),i=me.lerp(_n.s,mn.s,e),r=me.lerp(_n.l,mn.l,e);return this.setHSL(n,i,r),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}function xn(t,e=1){fn.call(this),this.type="Light",this.color=new yn(t),this.intensity=e}function wn(t,e){xn.call(this,t,e),this.type="AmbientLight"}yn.NAMES=dn,yn.prototype.r=1,yn.prototype.g=1,yn.prototype.b=1,xn.prototype=Object.assign(Object.create(fn.prototype),{constructor:xn,isLight:!0,copy:function(t){return fn.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){const e=fn.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),wn.prototype=Object.assign(Object.create(xn.prototype),{constructor:wn,isAmbientLight:!0});class Sn{constructor(t,e){Object.defineProperty(this,"isFogExp2",{value:!0}),this.name="",this.color=new yn(t),this.density=void 0!==e?e:25e-5}clone(){return new Sn(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}function Mn(t,e,n,i,r,o,s,a,c,l,u,h){Se.call(this,null,o,s,a,c,l,i,r,u,h),this.image={data:t||null,width:e||1,height:n||1},this.magFilter=void 0!==c?c:Wt,this.minFilter=void 0!==l?l:Wt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Mn.prototype=Object.create(Se.prototype),Mn.prototype.constructor=Mn,Mn.prototype.isDataTexture=!0;class Cn{constructor(t,e){Object.defineProperty(this,"isBox3",{value:!0}),this.min=void 0!==t?t:new Be(Infinity,Infinity,Infinity),this.max=void 0!==e?e:new Be(-Infinity,-Infinity,-Infinity)}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=Infinity,n=Infinity,i=Infinity,r=-Infinity,o=-Infinity,s=-Infinity;for(let a=0,c=t.length;a<c;a+=3){const c=t[a],l=t[a+1],u=t[a+2];c<e&&(e=c),l<n&&(n=l),u<i&&(i=u),c>r&&(r=c),l>o&&(o=l),u>s&&(s=u)}return this.min.set(e,n,i),this.max.set(r,o,s),this}setFromBufferAttribute(t){let e=Infinity,n=Infinity,i=Infinity,r=-Infinity,o=-Infinity,s=-Infinity;for(let a=0,c=t.count;a<c;a++){const c=t.getX(a),l=t.getY(a),u=t.getZ(a);c<e&&(e=c),l<n&&(n=l),u<i&&(i=u),c>r&&(r=c),l>o&&(o=l),u>s&&(s=u)}return this.min.set(e,n,i),this.max.set(r,o,s),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=Ln.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t){return this.makeEmpty(),this.expandByObject(t)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=Infinity,this.max.x=this.max.y=this.max.z=-Infinity,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return void 0===t&&(t=new Be),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return void 0===t&&(t=new Be),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t){t.updateWorldMatrix(!1,!1);const e=t.geometry;void 0!==e&&(null===e.boundingBox&&e.computeBoundingBox(),En.copy(e.boundingBox),En.applyMatrix4(t.matrixWorld),this.union(En));const n=t.children;for(let t=0,e=n.length;t<e;t++)this.expandByObject(n[t]);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return void 0===e&&(e=new Be),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,Ln),Ln.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Nn),Fn.subVectors(this.max,Nn),Rn.subVectors(t.a,Nn),In.subVectors(t.b,Nn),Pn.subVectors(t.c,Nn),Dn.subVectors(In,Rn),kn.subVectors(Pn,In),On.subVectors(Rn,Pn);let e=[0,-Dn.z,Dn.y,0,-kn.z,kn.y,0,-On.z,On.y,Dn.z,0,-Dn.x,kn.z,0,-kn.x,On.z,0,-On.x,-Dn.y,Dn.x,0,-kn.y,kn.x,0,-On.y,On.x,0];return!!Tn(e,Rn,In,Pn,Fn)&&(e=[1,0,0,0,1,0,0,0,1],!!Tn(e,Rn,In,Pn,Fn)&&(Bn.crossVectors(Dn,kn),e=[Bn.x,Bn.y,Bn.z],Tn(e,Rn,In,Pn,Fn)))}clampPoint(t,e){return void 0===e&&(e=new Be),e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return Ln.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return this.getCenter(t.center),t.radius=.5*this.getSize(Ln).length(),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(An[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),An[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),An[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),An[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),An[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),An[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),An[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),An[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(An)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}function Tn(t,e,n,i,r){for(let o=0,s=t.length-3;o<=s;o+=3){jn.fromArray(t,o);const s=r.x*Math.abs(jn.x)+r.y*Math.abs(jn.y)+r.z*Math.abs(jn.z),a=e.dot(jn),c=n.dot(jn),l=i.dot(jn);if(Math.max(-Math.max(a,c,l),Math.min(a,c,l))>s)return!1}return!0}const An=[new Be,new Be,new Be,new Be,new Be,new Be,new Be,new Be],Ln=new Be,En=new Cn,Rn=new Be,In=new Be,Pn=new Be,Dn=new Be,kn=new Be,On=new Be,Nn=new Be,Fn=new Be,Bn=new Be,jn=new Be,Un=new Cn;class zn{constructor(t,e){this.center=void 0!==t?t:new Be,this.radius=void 0!==e?e:-1}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;void 0!==e?n.copy(e):Un.setFromPoints(t).getCenter(n);let i=0;for(let e=0,r=t.length;e<r;e++)i=Math.max(i,n.distanceToSquared(t[e]));return this.radius=Math.sqrt(i),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return void 0===e&&(e=new Be),e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return void 0===t&&(t=new Cn),this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}}const Gn=new Be,Vn=new Be,Wn=new be;class Hn{constructor(t,e){Object.defineProperty(this,"isPlane",{value:!0}),this.normal=void 0!==t?t:new Be(1,0,0),this.constant=void 0!==e?e:0}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const i=Gn.subVectors(n,e).cross(Vn.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return void 0===e&&(e=new Be),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,e){void 0===e&&(e=new Be);const n=t.delta(Gn),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(t.start)?e.copy(t.start):void 0;const r=-(t.start.dot(this.normal)+this.constant)/i;return r<0||r>1?void 0:e.copy(n).multiplyScalar(r).add(t.start)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return void 0===t&&(t=new Be),t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||Wn.getNormalMatrix(t),i=this.coplanarPoint(Gn).applyMatrix4(t),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}const Xn=new zn,qn=new Be;class Yn{constructor(t,e,n,i,r,o){this.planes=[void 0!==t?t:new Hn,void 0!==e?e:new Hn,void 0!==n?n:new Hn,void 0!==i?i:new Hn,void 0!==r?r:new Hn,void 0!==o?o:new Hn]}set(t,e,n,i,r,o){const s=this.planes;return s[0].copy(t),s[1].copy(e),s[2].copy(n),s[3].copy(i),s[4].copy(r),s[5].copy(o),this}clone(){return(new this.constructor).copy(this)}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t){const e=this.planes,n=t.elements,i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],c=n[5],l=n[6],u=n[7],h=n[8],p=n[9],f=n[10],d=n[11],_=n[12],m=n[13],g=n[14],b=n[15];return e[0].setComponents(s-i,u-a,d-h,b-_).normalize(),e[1].setComponents(s+i,u+a,d+h,b+_).normalize(),e[2].setComponents(s+r,u+c,d+p,b+m).normalize(),e[3].setComponents(s-r,u-c,d-p,b-m).normalize(),e[4].setComponents(s-o,u-l,d-f,b-g).normalize(),e[5].setComponents(s+o,u+l,d+f,b+g).normalize(),this}intersectsObject(t){const e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Xn.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Xn)}intersectsSprite(t){return Xn.center.set(0,0,0),Xn.radius=.7071067811865476,Xn.applyMatrix4(t.matrixWorld),this.intersectsSphere(Xn)}intersectsSphere(t){const e=this.planes,n=t.center,i=-t.radius;for(let t=0;t<6;t++)if(e[t].distanceToPoint(n)<i)return!1;return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const i=e[n];if(qn.x=i.normal.x>0?t.max.x:t.min.x,qn.y=i.normal.y>0?t.max.y:t.min.y,qn.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(qn)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}}class Zn{constructor(t=0,e=0,n=0,i=1){Object.defineProperty(this,"isVector4",{value:!0}),this.x=t,this.y=e,this.z=n,this.w=i}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,i=this.z,r=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*i+o[12]*r,this.y=o[1]*e+o[5]*n+o[9]*i+o[13]*r,this.z=o[2]*e+o[6]*n+o[10]*i+o[14]*r,this.w=o[3]*e+o[7]*n+o[11]*i+o[15]*r,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,i,r;const o=.01,s=.1,a=t.elements,c=a[0],l=a[4],u=a[8],h=a[1],p=a[5],f=a[9],d=a[2],_=a[6],m=a[10];if(Math.abs(l-h)<o&&Math.abs(u-d)<o&&Math.abs(f-_)<o){if(Math.abs(l+h)<s&&Math.abs(u+d)<s&&Math.abs(f+_)<s&&Math.abs(c+p+m-3)<s)return this.set(1,0,0,0),this;e=Math.PI;const t=(c+1)/2,a=(p+1)/2,g=(m+1)/2,b=(l+h)/4,v=(u+d)/4,y=(f+_)/4;return t>a&&t>g?t<o?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(t),i=b/n,r=v/n):a>g?a<o?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(a),n=b/i,r=y/i):g<o?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(g),n=v/r,i=y/r),this.set(n,i,r,e),this}let g=Math.sqrt((_-f)*(_-f)+(u-d)*(u-d)+(h-l)*(h-l));return Math.abs(g)<.001&&(g=1),this.x=(_-f)/g,this.y=(u-d)/g,this.z=(h-l)/g,this.w=Math.acos((c+p+m-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e,n){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}function Jn(){let t=null,e=!1,n=null,i=null;function r(e,o){n(e,o),i=t.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==n&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function Kn(t,e){const n=e.isWebGL2,i=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),i.get(t)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);const n=i.get(e);n&&(t.deleteBuffer(n.buffer),i.delete(e))},update:function(e,r){if(e.isGLBufferAttribute){const t=i.get(e);return void((!t||t.version<e.version)&&i.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version}))}e.isInterleavedBufferAttribute&&(e=e.data);const o=i.get(e);void 0===o?i.set(e,function(e,i){const r=e.array,o=e.usage,s=t.createBuffer();t.bindBuffer(i,s),t.bufferData(i,r,o),e.onUploadCallback();let a=t.FLOAT;return r instanceof Float32Array?a=t.FLOAT:r instanceof Float64Array||(r instanceof Uint16Array?e.isFloat16BufferAttribute?n&&(a=t.HALF_FLOAT):a=t.UNSIGNED_SHORT:r instanceof Int16Array?a=t.SHORT:r instanceof Uint32Array?a=t.UNSIGNED_INT:r instanceof Int32Array?a=t.INT:r instanceof Int8Array?a=t.BYTE:r instanceof Uint8Array&&(a=t.UNSIGNED_BYTE)),{buffer:s,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(e,r)):o.version<e.version&&(function(e,i,r){const o=i.array,s=i.updateRange;t.bindBuffer(r,e),-1===s.count?t.bufferSubData(r,0,o):(n?t.bufferSubData(r,s.offset*o.BYTES_PER_ELEMENT,o,s.offset,s.count):t.bufferSubData(r,s.offset*o.BYTES_PER_ELEMENT,o.subarray(s.offset,s.offset+s.count)),s.count=-1)}(o.buffer,e,r),o.version=e.version)}}}const $n=new Be,Qn=new ge;function ti(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function ei(t,e,n){ti.call(this,new Int8Array(t),e,n)}function ni(t,e,n){ti.call(this,new Uint8Array(t),e,n)}function ii(t,e,n){ti.call(this,new Uint8ClampedArray(t),e,n)}function ri(t,e,n){ti.call(this,new Int16Array(t),e,n)}function oi(t,e,n){ti.call(this,new Uint16Array(t),e,n)}function si(t,e,n){ti.call(this,new Int32Array(t),e,n)}function ai(t,e,n){ti.call(this,new Uint32Array(t),e,n)}function ci(t,e,n){ti.call(this,new Uint16Array(t),e,n)}function li(t,e,n){ti.call(this,new Float32Array(t),e,n)}function ui(t,e,n){ti.call(this,new Float64Array(t),e,n)}Object.defineProperty(ti.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(ti.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(r=new yn),e[n++]=r.r,e[n++]=r.g,e[n++]=r.b}return this},copyVector2sArray:function(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(r=new ge),e[n++]=r.x,e[n++]=r.y}return this},copyVector3sArray:function(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(r=new Be),e[n++]=r.x,e[n++]=r.y,e[n++]=r.z}return this},copyVector4sArray:function(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(r=new Zn),e[n++]=r.x,e[n++]=r.y,e[n++]=r.z,e[n++]=r.w}return this},applyMatrix3:function(t){if(2===this.itemSize)for(let e=0,n=this.count;e<n;e++)Qn.fromBufferAttribute(this,e),Qn.applyMatrix3(t),this.setXY(e,Qn.x,Qn.y);else if(3===this.itemSize)for(let e=0,n=this.count;e<n;e++)$n.fromBufferAttribute(this,e),$n.applyMatrix3(t),this.setXYZ(e,$n.x,$n.y,$n.z);return this},applyMatrix4:function(t){for(let e=0,n=this.count;e<n;e++)$n.x=this.getX(e),$n.y=this.getY(e),$n.z=this.getZ(e),$n.applyMatrix4(t),this.setXYZ(e,$n.x,$n.y,$n.z);return this},applyNormalMatrix:function(t){for(let e=0,n=this.count;e<n;e++)$n.x=this.getX(e),$n.y=this.getY(e),$n.z=this.getZ(e),$n.applyNormalMatrix(t),this.setXYZ(e,$n.x,$n.y,$n.z);return this},transformDirection:function(t){for(let e=0,n=this.count;e<n;e++)$n.x=this.getX(e),$n.y=this.getY(e),$n.z=this.getZ(e),$n.transformDirection(t),this.setXYZ(e,$n.x,$n.y,$n.z);return this},set:function(t,e=0){return this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),ei.prototype=Object.create(ti.prototype),ei.prototype.constructor=ei,ni.prototype=Object.create(ti.prototype),ni.prototype.constructor=ni,ii.prototype=Object.create(ti.prototype),ii.prototype.constructor=ii,ri.prototype=Object.create(ti.prototype),ri.prototype.constructor=ri,oi.prototype=Object.create(ti.prototype),oi.prototype.constructor=oi,si.prototype=Object.create(ti.prototype),si.prototype.constructor=si,ai.prototype=Object.create(ti.prototype),ai.prototype.constructor=ai,ci.prototype=Object.create(ti.prototype),ci.prototype.constructor=ci,ci.prototype.isFloat16BufferAttribute=!0,li.prototype=Object.create(ti.prototype),li.prototype.constructor=li,ui.prototype=Object.create(ti.prototype),ui.prototype.constructor=ui;class hi{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(t){const e=[];let n,i,r;const o=t.faces;for(i=0;i<o.length;i++){const t=o[i];t.materialIndex!==r&&(r=t.materialIndex,void 0!==n&&(n.count=3*i-n.start,e.push(n)),n={start:3*i,materialIndex:r})}void 0!==n&&(n.count=3*i-n.start,e.push(n)),this.groups=e}fromGeometry(t){const e=t.faces,n=t.vertices,i=t.faceVertexUvs,r=i[0]&&i[0].length>0,o=i[1]&&i[1].length>0,s=t.morphTargets,a=s.length;let c;if(a>0){c=[];for(let t=0;t<a;t++)c[t]={name:s[t].name,data:[]};this.morphTargets.position=c}const l=t.morphNormals,u=l.length;let h;if(u>0){h=[];for(let t=0;t<u;t++)h[t]={name:l[t].name,data:[]};this.morphTargets.normal=h}const p=t.skinIndices,f=t.skinWeights,d=p.length===n.length,_=f.length===n.length;n.length>0&&e.length;for(let t=0;t<e.length;t++){const m=e[t];this.vertices.push(n[m.a],n[m.b],n[m.c]);const g=m.vertexNormals;if(3===g.length)this.normals.push(g[0],g[1],g[2]);else{const t=m.normal;this.normals.push(t,t,t)}const b=m.vertexColors;if(3===b.length)this.colors.push(b[0],b[1],b[2]);else{const t=m.color;this.colors.push(t,t,t)}if(!0===r){const e=i[0][t];void 0!==e?this.uvs.push(e[0],e[1],e[2]):this.uvs.push(new ge,new ge,new ge)}if(!0===o){const e=i[1][t];void 0!==e?this.uvs2.push(e[0],e[1],e[2]):this.uvs2.push(new ge,new ge,new ge)}for(let t=0;t<a;t++){const e=s[t].vertices;c[t].data.push(e[m.a],e[m.b],e[m.c])}for(let e=0;e<u;e++){const n=l[e].vertexNormals[t];h[e].data.push(n.a,n.b,n.c)}d&&this.skinIndices.push(p[m.a],p[m.b],p[m.c]),_&&this.skinWeights.push(f[m.a],f[m.b],f[m.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this}}function pi(t){if(0===t.length)return-Infinity;let e=t[0];for(let n=1,i=t.length;n<i;++n)t[n]>e&&(e=t[n]);return e}Int8Array,Uint8Array,"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;let fi=1;const di=new ze,_i=new fn,mi=new Be,gi=new Cn,bi=new Cn,vi=new Be;function yi(){Object.defineProperty(this,"id",{value:fi+=2}),this.uuid=me.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:Infinity},this.userData={}}yi.prototype=Object.assign(Object.create(jt.prototype),{constructor:yi,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){return Array.isArray(t)?this.index=new(pi(t)>65535?ai:oi)(t,1):this.index=t,this},getAttribute:function(t){return this.attributes[t]},setAttribute:function(t,e){return this.attributes[t]=e,this},deleteAttribute:function(t){return delete this.attributes[t],this},hasAttribute:function(t){return void 0!==this.attributes[t]},addGroup:function(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix4:function(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const e=(new be).getNormalMatrix(t);n.applyNormalMatrix(e),n.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(t),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(t){return di.makeRotationX(t),this.applyMatrix4(di),this},rotateY:function(t){return di.makeRotationY(t),this.applyMatrix4(di),this},rotateZ:function(t){return di.makeRotationZ(t),this.applyMatrix4(di),this},translate:function(t,e,n){return di.makeTranslation(t,e,n),this.applyMatrix4(di),this},scale:function(t,e,n){return di.makeScale(t,e,n),this.applyMatrix4(di),this},lookAt:function(t){return _i.lookAt(t),_i.updateMatrix(),this.applyMatrix4(_i.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(mi).negate(),this.translate(mi.x,mi.y,mi.z),this},setFromObject:function(t){const e=t.geometry;if(t.isPoints||t.isLine){const t=new li(3*e.vertices.length,3),n=new li(3*e.colors.length,3);if(this.setAttribute("position",t.copyVector3sArray(e.vertices)),this.setAttribute("color",n.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){const t=new li(e.lineDistances.length,1);this.setAttribute("lineDistance",t.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){const e=[];for(let n=0,i=t.length;n<i;n++){const i=t[n];e.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new li(e,3)),this},updateFromObject:function(t){let e=t.geometry;if(t.isMesh){let t=e.__directGeometry;if(!0===e.elementsNeedUpdate&&(t=void 0,e.elementsNeedUpdate=!1),void 0===t)return this.fromGeometry(e);t.verticesNeedUpdate=e.verticesNeedUpdate,t.normalsNeedUpdate=e.normalsNeedUpdate,t.colorsNeedUpdate=e.colorsNeedUpdate,t.uvsNeedUpdate=e.uvsNeedUpdate,t.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=t}if(!0===e.verticesNeedUpdate){const t=this.attributes.position;void 0!==t&&(t.copyVector3sArray(e.vertices),t.needsUpdate=!0),e.verticesNeedUpdate=!1}if(!0===e.normalsNeedUpdate){const t=this.attributes.normal;void 0!==t&&(t.copyVector3sArray(e.normals),t.needsUpdate=!0),e.normalsNeedUpdate=!1}if(!0===e.colorsNeedUpdate){const t=this.attributes.color;void 0!==t&&(t.copyColorsArray(e.colors),t.needsUpdate=!0),e.colorsNeedUpdate=!1}if(e.uvsNeedUpdate){const t=this.attributes.uv;void 0!==t&&(t.copyVector2sArray(e.uvs),t.needsUpdate=!0),e.uvsNeedUpdate=!1}if(e.lineDistancesNeedUpdate){const t=this.attributes.lineDistance;void 0!==t&&(t.copyArray(e.lineDistances),t.needsUpdate=!0),e.lineDistancesNeedUpdate=!1}return e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new hi).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){const e=new Float32Array(3*t.vertices.length);if(this.setAttribute("position",new ti(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){const e=new Float32Array(3*t.normals.length);this.setAttribute("normal",new ti(e,3).copyVector3sArray(t.normals))}if(t.colors.length>0){const e=new Float32Array(3*t.colors.length);this.setAttribute("color",new ti(e,3).copyColorsArray(t.colors))}if(t.uvs.length>0){const e=new Float32Array(2*t.uvs.length);this.setAttribute("uv",new ti(e,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){const e=new Float32Array(2*t.uvs2.length);this.setAttribute("uv2",new ti(e,2).copyVector2sArray(t.uvs2))}this.groups=t.groups;for(const e in t.morphTargets){const n=[],i=t.morphTargets[e];for(let t=0,e=i.length;t<e;t++){const e=i[t],r=new li(3*e.data.length,3);r.name=e.name,n.push(r.copyVector3sArray(e.data))}this.morphAttributes[e]=n}if(t.skinIndices.length>0){const e=new li(4*t.skinIndices.length,4);this.setAttribute("skinIndex",e.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){const e=new li(4*t.skinWeights.length,4);this.setAttribute("skinWeight",e.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Cn);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)this.boundingBox.set(new Be(-Infinity,-Infinity,-Infinity),new Be(Infinity,Infinity,Infinity));else{if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let t=0,n=e.length;t<n;t++){const n=e[t];gi.setFromBufferAttribute(n),this.morphTargetsRelative?(vi.addVectors(this.boundingBox.min,gi.min),this.boundingBox.expandByPoint(vi),vi.addVectors(this.boundingBox.max,gi.max),this.boundingBox.expandByPoint(vi)):(this.boundingBox.expandByPoint(gi.min),this.boundingBox.expandByPoint(gi.max))}}else this.boundingBox.makeEmpty();isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)}},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new zn);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)this.boundingSphere.set(new Be,Infinity);else if(t){const n=this.boundingSphere.center;if(gi.setFromBufferAttribute(t),e)for(let t=0,n=e.length;t<n;t++){const n=e[t];bi.setFromBufferAttribute(n),this.morphTargetsRelative?(vi.addVectors(gi.min,bi.min),gi.expandByPoint(vi),vi.addVectors(gi.max,bi.max),gi.expandByPoint(vi)):(gi.expandByPoint(bi.min),gi.expandByPoint(bi.max))}gi.getCenter(n);let i=0;for(let e=0,r=t.count;e<r;e++)vi.fromBufferAttribute(t,e),i=Math.max(i,n.distanceToSquared(vi));if(e)for(let r=0,o=e.length;r<o;r++){const o=e[r],s=this.morphTargetsRelative;for(let e=0,r=o.count;e<r;e++)vi.fromBufferAttribute(o,e),s&&(mi.fromBufferAttribute(t,e),vi.add(mi)),i=Math.max(i,n.distanceToSquared(vi))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)}},computeFaceNormals:function(){},computeVertexNormals:function(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let n=this.getAttribute("normal");if(void 0===n)n=new ti(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(let t=0,e=n.count;t<e;t++)n.setXYZ(t,0,0,0);const i=new Be,r=new Be,o=new Be,s=new Be,a=new Be,c=new Be,l=new Be,u=new Be;if(t)for(let h=0,p=t.count;h<p;h+=3){const p=t.getX(h+0),f=t.getX(h+1),d=t.getX(h+2);i.fromBufferAttribute(e,p),r.fromBufferAttribute(e,f),o.fromBufferAttribute(e,d),l.subVectors(o,r),u.subVectors(i,r),l.cross(u),s.fromBufferAttribute(n,p),a.fromBufferAttribute(n,f),c.fromBufferAttribute(n,d),s.add(l),a.add(l),c.add(l),n.setXYZ(p,s.x,s.y,s.z),n.setXYZ(f,a.x,a.y,a.z),n.setXYZ(d,c.x,c.y,c.z)}else for(let t=0,s=e.count;t<s;t+=3)i.fromBufferAttribute(e,t+0),r.fromBufferAttribute(e,t+1),o.fromBufferAttribute(e,t+2),l.subVectors(o,r),u.subVectors(i,r),l.cross(u),n.setXYZ(t+0,l.x,l.y,l.z),n.setXYZ(t+1,l.x,l.y,l.z),n.setXYZ(t+2,l.x,l.y,l.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(t,e){if(!t||!t.isBufferGeometry)return;void 0===e&&(e=0);const n=this.attributes;for(const i in n){if(void 0===t.attributes[i])continue;const r=n[i].array,o=t.attributes[i],s=o.array,a=o.itemSize*e,c=Math.min(s.length,r.length-a);for(let t=0,e=a;t<c;t++,e++)r[e]=s[t]}return this},normalizeNormals:function(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)vi.fromBufferAttribute(t,e),vi.normalize(),t.setXYZ(e,vi.x,vi.y,vi.z)},toNonIndexed:function(){function t(t,e){const n=t.array,i=t.itemSize,r=t.normalized,o=new n.constructor(e.length*i);let s=0,a=0;for(let t=0,r=e.length;t<r;t++){s=e[t]*i;for(let t=0;t<i;t++)o[a++]=n[s++]}return new ti(o,i,r)}if(null===this.index)return this;const e=new yi,n=this.index.array,i=this.attributes;for(const r in i){const o=t(i[r],n);e.setAttribute(r,o)}const r=this.morphAttributes;for(const i in r){const o=[],s=r[i];for(let e=0,i=s.length;e<i;e++){const i=t(s[e],n);o.push(i)}e.morphAttributes[i]=o}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let t=0,n=o.length;t<n;t++){const n=o[t];e.addGroup(n.start,n.count,n.materialIndex)}return e},toJSON:function(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const e=this.parameters;for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const e in n){const i=n[e],r=i.toJSON(t.data);""!==i.name&&(r.name=i.name),t.data.attributes[e]=r}const i={};let r=!1;for(const e in this.morphAttributes){const n=this.morphAttributes[e],o=[];for(let e=0,i=n.length;e<i;e++){const i=n[e],r=i.toJSON(t.data);""!==i.name&&(r.name=i.name),o.push(r)}o.length>0&&(i[e]=o,r=!0)}r&&(t.data.morphAttributes=i,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return null!==s&&(t.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),t},clone:function(){return(new yi).copy(this)},copy:function(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;null!==n&&this.setIndex(n.clone(e));const i=t.attributes;for(const t in i){const n=i[t];this.setAttribute(t,n.clone(e))}const r=t.morphAttributes;for(const t in r){const n=[],i=r[t];for(let t=0,r=i.length;t<r;t++)n.push(i[t].clone(e));this.morphAttributes[t]=n}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let t=0,e=o.length;t<e;t++){const e=o[t];this.addGroup(e.start,e.count,e.materialIndex)}const s=t.boundingBox;null!==s&&(this.boundingBox=s.clone());const a=t.boundingSphere;return null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class xi extends yi{constructor(t=1,e=1,n=1,i=1,r=1,o=1){super(),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:r,depthSegments:o};const s=this;i=Math.floor(i),r=Math.floor(r),o=Math.floor(o);const a=[],c=[],l=[],u=[];let h=0,p=0;function f(t,e,n,i,r,o,f,d,_,m,g){const b=o/_,v=f/m,y=o/2,x=f/2,w=d/2,S=_+1,M=m+1;let C=0,T=0;const A=new Be;for(let o=0;o<M;o++){const s=o*v-x;for(let a=0;a<S;a++){const h=a*b-y;A[t]=h*i,A[e]=s*r,A[n]=w,c.push(A.x,A.y,A.z),A[t]=0,A[e]=0,A[n]=d>0?1:-1,l.push(A.x,A.y,A.z),u.push(a/_),u.push(1-o/m),C+=1}}for(let t=0;t<m;t++)for(let e=0;e<_;e++){const n=h+e+S*t,i=h+e+S*(t+1),r=h+(e+1)+S*(t+1),o=h+(e+1)+S*t;a.push(n,i,o),a.push(i,r,o),T+=6}s.addGroup(p,T,g),p+=T,h+=C}f("z","y","x",-1,-1,n,e,t,o,r,0),f("z","y","x",1,-1,n,e,-t,o,r,1),f("x","z","y",1,1,t,n,e,i,o,2),f("x","z","y",1,-1,t,n,-e,i,o,3),f("x","y","z",1,-1,t,e,n,i,r,4),f("x","y","z",-1,-1,t,e,-n,i,r,5),this.setIndex(a),this.setAttribute("position",new li(c,3)),this.setAttribute("normal",new li(l,3)),this.setAttribute("uv",new li(u,2))}}class wi extends yi{constructor(t=1,e=1,n=1,i=1){super(),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i};const r=t/2,o=e/2,s=Math.floor(n),a=Math.floor(i),c=s+1,l=a+1,u=t/s,h=e/a,p=[],f=[],d=[],_=[];for(let t=0;t<l;t++){const e=t*h-o;for(let n=0;n<c;n++){const i=n*u-r;f.push(i,-e,0),d.push(0,0,1),_.push(n/s),_.push(1-t/a)}}for(let t=0;t<a;t++)for(let e=0;e<s;e++){const n=e+c*t,i=e+c*(t+1),r=e+1+c*(t+1),o=e+1+c*t;p.push(n,i,o),p.push(i,r,o)}this.setIndex(p),this.setAttribute("position",new li(f,3)),this.setAttribute("normal",new li(d,3)),this.setAttribute("uv",new li(_,2))}}let Si=0;function Mi(){Object.defineProperty(this,"id",{value:Si++}),this.uuid=me.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=Ut,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=pe,this.stencilZFail=pe,this.stencilZPass=pe,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function Ci(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function Ti(t){const e={};for(let n=0;n<t.length;n++){const i=Ci(t[n]);for(const t in i)e[t]=i[t]}return e}Mi.prototype=Object.assign(Object.create(jt.prototype),{constructor:Mi,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(t){if(void 0!==t)for(const e in t){const n=t[e];if(void 0===n)continue;if("shading"===e){this.flatShading=1===n;continue}const i=this[e];void 0!==i&&(i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]=n)}},toJSON:function(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(t){const e=[];for(const n in t){const i=t[n];delete i.metadata,e.push(i)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){const e=i(t.textures),r=i(t.images);e.length>0&&(n.textures=e),r.length>0&&(n.images=r)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(null!==e){const t=e.length;n=new Array(t);for(let i=0;i!==t;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Mi.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}});const Ai={clone:Ci,merge:Ti};function Li(t){Mi.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="\nvoid main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n",this.fragmentShader="\nvoid main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}\n",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(t.attributes,this.setValues(t))}Li.prototype=Object.create(Mi.prototype),Li.prototype.constructor=Li,Li.prototype.isShaderMaterial=!0,Li.prototype.copy=function(t){return Mi.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Ci(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this},Li.prototype.toJSON=function(t){const e=Mi.prototype.toJSON.call(this,t);e.glslVersion=this.glslVersion,e.uniforms={};for(const n in this.uniforms){const i=this.uniforms[n].value;i&&i.isTexture?e.uniforms[n]={type:"t",value:i.toJSON(t).uuid}:i&&i.isColor?e.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?e.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?e.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?e.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?e.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?e.uniforms[n]={type:"m4",value:i.toArray()}:e.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const n={};for(const t in this.extensions)!0===this.extensions[t]&&(n[t]=!0);return Object.keys(n).length>0&&(e.extensions=n),e};const Ei=new Be,Ri=new Be,Ii=new Be,Pi=new Be,Di=new Be,ki=new Be,Oi=new Be;class Ni{constructor(t,e){this.origin=void 0!==t?t:new Be,this.direction=void 0!==e?e:new Be(0,0,-1)}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return void 0===e&&(e=new Be),e.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Ei)),this}closestPointToPoint(t,e){void 0===e&&(e=new Be),e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=Ei.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Ei.copy(this.direction).multiplyScalar(e).add(this.origin),Ei.distanceToSquared(t))}distanceSqToSegment(t,e,n,i){Ri.copy(t).add(e).multiplyScalar(.5),Ii.copy(e).sub(t).normalize(),Pi.copy(this.origin).sub(Ri);const r=.5*t.distanceTo(e),o=-this.direction.dot(Ii),s=Pi.dot(this.direction),a=-Pi.dot(Ii),c=Pi.lengthSq(),l=Math.abs(1-o*o);let u,h,p,f;if(l>0)if(u=o*a-s,h=o*s-a,f=r*l,u>=0)if(h>=-f)if(h<=f){const t=1/l;u*=t,h*=t,p=u*(u+o*h+2*s)+h*(o*u+h+2*a)+c}else h=r,u=Math.max(0,-(o*h+s)),p=-u*u+h*(h+2*a)+c;else h=-r,u=Math.max(0,-(o*h+s)),p=-u*u+h*(h+2*a)+c;else h<=-f?(u=Math.max(0,-(-o*r+s)),h=u>0?-r:Math.min(Math.max(-r,-a),r),p=-u*u+h*(h+2*a)+c):h<=f?(u=0,h=Math.min(Math.max(-r,-a),r),p=h*(h+2*a)+c):(u=Math.max(0,-(o*r+s)),h=u>0?r:Math.min(Math.max(-r,-a),r),p=-u*u+h*(h+2*a)+c);else h=o>0?-r:r,u=Math.max(0,-(o*h+s)),p=-u*u+h*(h+2*a)+c;return n&&n.copy(this.direction).multiplyScalar(u).add(this.origin),i&&i.copy(Ii).multiplyScalar(h).add(Ri),p}intersectSphere(t,e){Ei.subVectors(t.center,this.origin);const n=Ei.dot(this.direction),i=Ei.dot(Ei)-n*n,r=t.radius*t.radius;if(i>r)return null;const o=Math.sqrt(r-i),s=n-o,a=n+o;return s<0&&a<0?null:s<0?this.at(a,e):this.at(s,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,i,r,o,s,a;const c=1/this.direction.x,l=1/this.direction.y,u=1/this.direction.z,h=this.origin;return c>=0?(n=(t.min.x-h.x)*c,i=(t.max.x-h.x)*c):(n=(t.max.x-h.x)*c,i=(t.min.x-h.x)*c),l>=0?(r=(t.min.y-h.y)*l,o=(t.max.y-h.y)*l):(r=(t.max.y-h.y)*l,o=(t.min.y-h.y)*l),n>o||r>i?null:((r>n||n!=n)&&(n=r),(o<i||i!=i)&&(i=o),u>=0?(s=(t.min.z-h.z)*u,a=(t.max.z-h.z)*u):(s=(t.max.z-h.z)*u,a=(t.min.z-h.z)*u),n>a||s>i?null:((s>n||n!=n)&&(n=s),(a<i||i!=i)&&(i=a),i<0?null:this.at(n>=0?n:i,e)))}intersectsBox(t){return null!==this.intersectBox(t,Ei)}intersectTriangle(t,e,n,i,r){Di.subVectors(e,t),ki.subVectors(n,t),Oi.crossVectors(Di,ki);let o,s=this.direction.dot(Oi);if(s>0){if(i)return null;o=1}else{if(!(s<0))return null;o=-1,s=-s}Pi.subVectors(this.origin,t);const a=o*this.direction.dot(ki.crossVectors(Pi,ki));if(a<0)return null;const c=o*this.direction.dot(Di.cross(Pi));if(c<0)return null;if(a+c>s)return null;const l=-o*Pi.dot(Oi);return l<0?null:this.at(l/s,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}const Fi=new Be,Bi=new Be,ji=new Be,Ui=new Be,zi=new Be,Gi=new Be,Vi=new Be,Wi=new Be,Hi=new Be,Xi=new Be;class qi{constructor(t,e,n){this.a=void 0!==t?t:new Be,this.b=void 0!==e?e:new Be,this.c=void 0!==n?n:new Be}static getNormal(t,e,n,i){void 0===i&&(i=new Be),i.subVectors(n,e),Fi.subVectors(t,e),i.cross(Fi);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(t,e,n,i,r){Fi.subVectors(i,e),Bi.subVectors(n,e),ji.subVectors(t,e);const o=Fi.dot(Fi),s=Fi.dot(Bi),a=Fi.dot(ji),c=Bi.dot(Bi),l=Bi.dot(ji),u=o*c-s*s;if(void 0===r&&(r=new Be),0===u)return r.set(-2,-1,-1);const h=1/u,p=(c*a-s*l)*h,f=(o*l-s*a)*h;return r.set(1-p-f,f,p)}static containsPoint(t,e,n,i){return this.getBarycoord(t,e,n,i,Ui),Ui.x>=0&&Ui.y>=0&&Ui.x+Ui.y<=1}static getUV(t,e,n,i,r,o,s,a){return this.getBarycoord(t,e,n,i,Ui),a.set(0,0),a.addScaledVector(r,Ui.x),a.addScaledVector(o,Ui.y),a.addScaledVector(s,Ui.z),a}static isFrontFacing(t,e,n,i){return Fi.subVectors(n,e),Bi.subVectors(t,e),Fi.cross(Bi).dot(i)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Fi.subVectors(this.c,this.b),Bi.subVectors(this.a,this.b),.5*Fi.cross(Bi).length()}getMidpoint(t){return void 0===t&&(t=new Be),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return qi.getNormal(this.a,this.b,this.c,t)}getPlane(t){return void 0===t&&(t=new Hn),t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return qi.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,n,i,r){return qi.getUV(t,this.a,this.b,this.c,e,n,i,r)}containsPoint(t){return qi.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return qi.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){void 0===e&&(e=new Be);const n=this.a,i=this.b,r=this.c;let o,s;zi.subVectors(i,n),Gi.subVectors(r,n),Wi.subVectors(t,n);const a=zi.dot(Wi),c=Gi.dot(Wi);if(a<=0&&c<=0)return e.copy(n);Hi.subVectors(t,i);const l=zi.dot(Hi),u=Gi.dot(Hi);if(l>=0&&u<=l)return e.copy(i);const h=a*u-l*c;if(h<=0&&a>=0&&l<=0)return o=a/(a-l),e.copy(n).addScaledVector(zi,o);Xi.subVectors(t,r);const p=zi.dot(Xi),f=Gi.dot(Xi);if(f>=0&&p<=f)return e.copy(r);const d=p*c-a*f;if(d<=0&&c>=0&&f<=0)return s=c/(c-f),e.copy(n).addScaledVector(Gi,s);const _=l*f-p*u;if(_<=0&&u-l>=0&&p-f>=0)return Vi.subVectors(r,i),s=(u-l)/(u-l+(p-f)),e.copy(i).addScaledVector(Vi,s);const m=1/(_+d+h);return o=d*m,s=h*m,e.copy(n).addScaledVector(zi,o).addScaledVector(Gi,s)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}class Yi{constructor(t,e,n,i,r,o=0){this.a=t,this.b=e,this.c=n,this.normal=i&&i.isVector3?i:new Be,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new yn,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=o}clone(){return(new this.constructor).copy(this)}copy(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(let e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(let e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}}function Zi(t){Mi.call(this),this.type="MeshBasicMaterial",this.color=new yn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(t)}Zi.prototype=Object.create(Mi.prototype),Zi.prototype.constructor=Zi,Zi.prototype.isMeshBasicMaterial=!0,Zi.prototype.copy=function(t){return Mi.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this};const Ji=new ze,Ki=new Ni,$i=new zn,Qi=new Be,tr=new Be,er=new Be,nr=new Be,ir=new Be,rr=new Be,or=new Be,sr=new Be,ar=new Be,cr=new ge,lr=new ge,ur=new ge,hr=new Be,pr=new Be;function fr(t=new yi,e=new Zi){fn.call(this),this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}function dr(t,e,n,i,r,o,s,a){let c;if(c=1===e.side?i.intersectTriangle(s,o,r,!0,a):i.intersectTriangle(r,o,s,2!==e.side,a),null===c)return null;pr.copy(a),pr.applyMatrix4(t.matrixWorld);const l=n.ray.origin.distanceTo(pr);return l<n.near||l>n.far?null:{distance:l,point:pr.clone(),object:t}}function _r(t,e,n,i,r,o,s,a,c,l,u,h){Qi.fromBufferAttribute(r,l),tr.fromBufferAttribute(r,u),er.fromBufferAttribute(r,h);const p=t.morphTargetInfluences;if(e.morphTargets&&o&&p){or.set(0,0,0),sr.set(0,0,0),ar.set(0,0,0);for(let t=0,e=o.length;t<e;t++){const e=p[t],n=o[t];0!==e&&(nr.fromBufferAttribute(n,l),ir.fromBufferAttribute(n,u),rr.fromBufferAttribute(n,h),s?(or.addScaledVector(nr,e),sr.addScaledVector(ir,e),ar.addScaledVector(rr,e)):(or.addScaledVector(nr.sub(Qi),e),sr.addScaledVector(ir.sub(tr),e),ar.addScaledVector(rr.sub(er),e)))}Qi.add(or),tr.add(sr),er.add(ar)}t.isSkinnedMesh&&(t.boneTransform(l,Qi),t.boneTransform(u,tr),t.boneTransform(h,er));const f=dr(t,e,n,i,Qi,tr,er,hr);if(f){a&&(cr.fromBufferAttribute(a,l),lr.fromBufferAttribute(a,u),ur.fromBufferAttribute(a,h),f.uv=qi.getUV(hr,Qi,tr,er,cr,lr,ur,new ge)),c&&(cr.fromBufferAttribute(c,l),lr.fromBufferAttribute(c,u),ur.fromBufferAttribute(c,h),f.uv2=qi.getUV(hr,Qi,tr,er,cr,lr,ur,new ge));const t=new Yi(l,u,h);qi.getNormal(Qi,tr,er,t.normal),f.face=t}return f}fr.prototype=Object.assign(Object.create(fn.prototype),{constructor:fr,isMesh:!0,copy:function(t){return fn.prototype.copy.call(this,t),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length}},raycast:function(t,e){const n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0===i)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),$i.copy(n.boundingSphere),$i.applyMatrix4(r),!1===t.ray.intersectsSphere($i))return;if(Ji.copy(r).invert(),Ki.copy(t.ray).applyMatrix4(Ji),null!==n.boundingBox&&!1===Ki.intersectsBox(n.boundingBox))return;let o;if(n.isBufferGeometry){const r=n.index,s=n.attributes.position,a=n.morphAttributes.position,c=n.morphTargetsRelative,l=n.attributes.uv,u=n.attributes.uv2,h=n.groups,p=n.drawRange;if(null!==r)if(Array.isArray(i))for(let n=0,f=h.length;n<f;n++){const f=h[n],d=i[f.materialIndex];for(let n=Math.max(f.start,p.start),i=Math.min(f.start+f.count,p.start+p.count);n<i;n+=3){const i=r.getX(n),h=r.getX(n+1),p=r.getX(n+2);o=_r(this,d,t,Ki,s,a,c,l,u,i,h,p),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=f.materialIndex,e.push(o))}}else for(let n=Math.max(0,p.start),h=Math.min(r.count,p.start+p.count);n<h;n+=3){const h=r.getX(n),p=r.getX(n+1),f=r.getX(n+2);o=_r(this,i,t,Ki,s,a,c,l,u,h,p,f),o&&(o.faceIndex=Math.floor(n/3),e.push(o))}else if(void 0!==s)if(Array.isArray(i))for(let n=0,r=h.length;n<r;n++){const r=h[n],f=i[r.materialIndex];for(let n=Math.max(r.start,p.start),i=Math.min(r.start+r.count,p.start+p.count);n<i;n+=3)o=_r(this,f,t,Ki,s,a,c,l,u,n,n+1,n+2),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=r.materialIndex,e.push(o))}else for(let n=Math.max(0,p.start),r=Math.min(s.count,p.start+p.count);n<r;n+=3)o=_r(this,i,t,Ki,s,a,c,l,u,n,n+1,n+2),o&&(o.faceIndex=Math.floor(n/3),e.push(o))}else if(n.isGeometry){const r=Array.isArray(i),s=n.vertices,a=n.faces;let c;const l=n.faceVertexUvs[0];l.length>0&&(c=l);for(let n=0,l=a.length;n<l;n++){const l=a[n],u=r?i[l.materialIndex]:i;if(void 0===u)continue;const h=s[l.a],p=s[l.b],f=s[l.c];if(o=dr(this,u,t,Ki,h,p,f,hr),o){if(c&&c[n]){const t=c[n];cr.copy(t[0]),lr.copy(t[1]),ur.copy(t[2]),o.uv=qi.getUV(hr,h,p,f,cr,lr,ur,new ge)}o.face=l,o.faceIndex=n,e.push(o)}}}}});const mr={alphamap_fragment:"\n#ifdef USE_ALPHAMAP\n\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n\n#endif\n",alphamap_pars_fragment:"\n#ifdef USE_ALPHAMAP\n\n\tuniform sampler2D alphaMap;\n\n#endif\n",alphatest_fragment:"\n#ifdef ALPHATEST\n\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n\n#endif\n",aomap_fragment:"\n#ifdef USE_AOMAP\n\n\t// reads channel R, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\n\t#endif\n\n#endif\n",aomap_pars_fragment:"\n#ifdef USE_AOMAP\n\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n\n#endif\n",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n\n#ifdef USE_TANGENT\n\n\tvec3 objectTangent = vec3( tangent.xyz );\n\n#endif\n",bsdfs:'\n\n// Analytical approximation of the DFG LUT, one half of the\n// split-sum approximation used in indirect specular lighting.\n// via \'environmentBRDF\' from "Physically Based Shading on Mobile"\n// https://www.unrealengine.com/blog/physically-based-shading-on-mobile - environmentBRDF for GGX on mobile\nvec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\n\tvec4 r = roughness * c0 + c1;\n\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n\n}\n\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\n\t// based upon Frostbite 3 Moving to Physically-based Rendering\n\t// page 32, equation 26: E[window1]\n\t// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t// this is intended to be used on spot and point lights who are represented as luminous intensity\n\t// but who must be converted to luminous irradiance for surface lighting calculation\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\n\tif( cutoffDistance > 0.0 ) {\n\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\n\t}\n\n\treturn distanceFalloff;\n\n#else\n\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\n\t}\n\n\treturn 1.0;\n\n#endif\n\n}\n\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\n\treturn RECIPROCAL_PI * diffuseColor;\n\n} // validated\n\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\n\t// Original approximation by Christophe Schlick \'94\n\t// float fresnel = pow( 1.0 - dotLH, 5.0 );\n\n\t// Optimized variant (presented by Epic at SIGGRAPH \'13)\n\t// https://cdn2.unrealengine.com/Resources/files/2013SiggraphPresentationsNotes-26915738.pdf\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n\n} // validated\n\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\n\t// See F_Schlick\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\n\treturn Fr * fresnel + F0;\n\n}\n\n\n// Microfacet Models for Refraction through Rough Surfaces - equation (34)\n// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html\n// alpha is "roughness squared" in Disney’s reparameterization\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\n\t// geometry term (normalized) = G(l)⋅G(v) / 4(n⋅l)(n⋅v)\n\t// also see #12151\n\n\tfloat a2 = pow2( alpha );\n\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\n\treturn 1.0 / ( gl * gv );\n\n} // validated\n\n// Moving Frostbite to Physically Based Rendering 3.0 - page 12, listing 2\n// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\n\tfloat a2 = pow2( alpha );\n\n\t// dotNL and dotNV are explicitly swapped. This is not a mistake.\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\n\treturn 0.5 / max( gv + gl, EPSILON );\n\n}\n\n// Microfacet Models for Refraction through Rough Surfaces - equation (33)\n// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html\n// alpha is "roughness squared" in Disney’s reparameterization\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\n\tfloat a2 = pow2( alpha );\n\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0; // avoid alpha = 0 with dotNH = 1\n\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n\n}\n\n// GGX Distribution, Schlick Fresnel, GGX-Smith Visibility\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\n\tfloat alpha = pow2( roughness ); // UE4\'s roughness\n\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\n\tfloat D = D_GGX( alpha, dotNH );\n\n\treturn F * ( G * D );\n\n} // validated\n\n// Rect Area Light\n\n// Real-Time Polygonal-Light Shading with Linearly Transformed Cosines\n// by Eric Heitz, Jonathan Dupuy, Stephen Hill and David Neubelt\n// code: https://github.com/selfshadow/ltc_code/\n\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\n\tfloat dotNV = saturate( dot( N, V ) );\n\n\t// texture parameterized by sqrt( GGX alpha ) and sqrt( 1 - cos( theta ) )\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\n\treturn uv;\n\n}\n\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\n\t// Real-Time Area Lighting: a Journey from Research to Production (p.102)\n\t// An approximation of the form factor of a horizon-clipped rectangle.\n\n\tfloat l = length( f );\n\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n\n}\n\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\n\tfloat x = dot( v1, v2 );\n\n\tfloat y = abs( x );\n\n\t// rational polynomial approximation to theta / sin( theta ) / 2PI\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\n\treturn cross( v1, v2 ) * theta_sintheta;\n\n}\n\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\n\t// bail if point is on back side of plane of light\n\t// assumes ccw winding order of light vertices\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\n\t// construct orthonormal basis around N\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 ); // negated from paper; possibly due to a different handedness of world coordinate system\n\n\t// compute transform\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\n\t// transform rect\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\n\t// project rect onto sphere\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\n\t// calculate vector form factor\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\n\t// adjust for horizon clipping\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\n/*\n\t// alternate method of adjusting for horizon clipping (see referece)\n\t// refactoring required\n\tfloat len = length( vectorFormFactor );\n\tfloat z = vectorFormFactor.z / len;\n\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\n\t// tabulated horizon-clipped sphere, apparently...\n\tvec2 uv = vec2( z * 0.5 + 0.5, len );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\n\tfloat scale = texture2D( ltc_2, uv ).w;\n\n\tfloat result = len * scale;\n*/\n\n\treturn vec3( result );\n\n}\n\n// End Rect Area Light\n\n// ref: https://www.unrealengine.com/blog/physically-based-shading-on-mobile - environmentBRDF for GGX on mobile\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\n\treturn specularColor * brdf.x + brdf.y;\n\n} // validated\n\n// Fdez-Agüera\'s "Multiple-Scattering Microfacet Model for Real-Time Image Based Lighting"\n// Approximates multiscattering in order to preserve energy.\n// http://www.jcgt.org/published/0008/01/03/\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619; // 1/21\n\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n\n}\n\nfloat G_BlinnPhong_Implicit( /* const in float dotNL, const in float dotNV */ ) {\n\n\t// geometry term is (n dot l)(n dot v) / 4(n dot l)(n dot v)\n\treturn 0.25;\n\n}\n\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n\n}\n\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\n\t//float dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\t//float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\n\tfloat G = G_BlinnPhong_Implicit( /* dotNL, dotNV */ );\n\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\n\treturn F * ( G * D );\n\n} // validated\n\n// source: http://simonstechblog.blogspot.ca/2011/12/microfacet-brdf.html\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\n\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n\n#if defined( USE_SHEEN )\n\n// https://github.com/google/filament/blob/master/shaders/src/brdf.fs#L94\nfloat D_Charlie(float roughness, float NoH) {\n\t// Estevez and Kulla 2017, "Production Friendly Microfacet Sheen BRDF"\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125); // 2^(-14/2), so sin2h^2 > 0 in fp16\n\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\n\n// https://github.com/google/filament/blob/master/shaders/src/brdf.fs#L136\nfloat V_Neubelt(float NoV, float NoL) {\n\t// Neubelt and Pettineo 2013, "Crafting a Next-gen Material Pipeline for The Order: 1886"\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\n\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n\n}\n\n#endif\n',bumpmap_pars_fragment:"\n#ifdef USE_BUMPMAP\n\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\n\t// Bump Mapping Unparametrized Surfaces on the GPU by Morten S. Mikkelsen\n\t// http://api.unrealengine.com/attachments/Engine/Rendering/LightingAndShadows/BumpMappingWithoutTangentSpace/mm_sfgrad_bump.pdf\n\n\t// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)\n\n\tvec2 dHdxy_fwd() {\n\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\n\t\treturn vec2( dBx, dBy );\n\n\t}\n\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\n\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\n\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\t\t// normalized\n\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\n\t}\n\n#endif\n",clipping_planes_fragment:"\n#if NUM_CLIPPING_PLANES > 0\n\n\tvec4 plane;\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\n\t}\n\t#pragma unroll_loop_end\n\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\n\t\tbool clipped = true;\n\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\n\t\t}\n\t\t#pragma unroll_loop_end\n\n\t\tif ( clipped ) discard;\n\n\t#endif\n\n#endif\n",clipping_planes_pars_fragment:"\n#if NUM_CLIPPING_PLANES > 0\n\n\tvarying vec3 vClipPosition;\n\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n\n#endif\n",clipping_planes_pars_vertex:"\n#if NUM_CLIPPING_PLANES > 0\n\n\tvarying vec3 vClipPosition;\n\n#endif\n",clipping_planes_vertex:"\n#if NUM_CLIPPING_PLANES > 0\n\n\tvClipPosition = - mvPosition.xyz;\n\n#endif\n",color_fragment:"\n#ifdef USE_COLOR\n\n\tdiffuseColor.rgb *= vColor;\n\n#endif\n",color_pars_fragment:"\n#ifdef USE_COLOR\n\n\tvarying vec3 vColor;\n\n#endif\n",color_pars_vertex:"\n#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\n\tvarying vec3 vColor;\n\n#endif\n",color_vertex:"\n#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\n\tvColor = vec3( 1.0 );\n\n#endif\n\n#ifdef USE_COLOR\n\n\tvColor.xyz *= color.xyz;\n\n#endif\n\n#ifdef USE_INSTANCING_COLOR\n\n\tvColor.xyz *= instanceColor.xyz;\n\n#endif\n",common:"\n#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n\n#ifndef saturate\n// <tonemapping_pars_fragment> may have defined saturate() already\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\n\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\n// expects values in the range of [0,1]x[0,1], returns values in the [0,1] range.\n// do not collapse into a single function per: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\n\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\n\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\n\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n}\n\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t// dir can be either a direction vector or a normal vector\n\t// upper-left 3x3 of matrix is assumed to be orthogonal\n\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n\n}\n\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\n\treturn - distance * planeNormal + point;\n\n}\n\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n\n}\n\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n\n}\n\nmat3 transposeMat3( const in mat3 m ) {\n\n\tmat3 tmp;\n\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\n\treturn tmp;\n\n}\n\n// https://en.wikipedia.org/wiki/Relative_luminance\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\n\treturn dot( weights, color.rgb );\n\n}\n\nbool isPerspectiveMatrix( mat4 m ) {\n\n\treturn m[ 2 ][ 3 ] == - 1.0;\n\n}\n\nvec2 equirectUv( in vec3 dir ) {\n\n\t// dir is assumed to be unit length\n\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\n\treturn vec2( u, v );\n\n}\n",cube_uv_reflection_fragment:"\n#ifdef ENVMAP_TYPE_CUBE_UV\n\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\n\t// These shader functions convert between the UV coordinates of a single face of\n\t// a cubemap, the 0-5 integer index of a cube face, and the direction vector for\n\t// sampling a textureCube (not generally normalized ).\n\n\tfloat getFace( vec3 direction ) {\n\n\t\tvec3 absDirection = abs( direction );\n\n\t\tfloat face = - 1.0;\n\n\t\tif ( absDirection.x > absDirection.z ) {\n\n\t\t\tif ( absDirection.x > absDirection.y )\n\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\n\t\t\telse\n\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\n\t\t} else {\n\n\t\t\tif ( absDirection.z > absDirection.y )\n\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\n\t\t\telse\n\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\n\t\t}\n\n\t\treturn face;\n\n\t}\n\n\t// RH coordinate system; PMREM face-indexing convention\n\tvec2 getUV( vec3 direction, float face ) {\n\n\t\tvec2 uv;\n\n\t\tif ( face == 0.0 ) {\n\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x ); // pos x\n\n\t\t} else if ( face == 1.0 ) {\n\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y ); // pos y\n\n\t\t} else if ( face == 2.0 ) {\n\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z ); // pos z\n\n\t\t} else if ( face == 3.0 ) {\n\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x ); // neg x\n\n\t\t} else if ( face == 4.0 ) {\n\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y ); // neg y\n\n\t\t} else {\n\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z ); // neg z\n\n\t\t}\n\n\t\treturn 0.5 * ( uv + 1.0 );\n\n\t}\n\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\n\t\tfloat face = getFace( direction );\n\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\n\t\tfloat faceSize = exp2( mipInt );\n\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\n\t\tvec2 f = fract( uv );\n\n\t\tuv += 0.5 - f;\n\n\t\tif ( face > 2.0 ) {\n\n\t\t\tuv.y += faceSize;\n\n\t\t\tface -= 3.0;\n\n\t\t}\n\n\t\tuv.x += face * faceSize;\n\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\n\t\t}\n\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\n\t\tuv *= texelSize;\n\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\n\t\tuv.x += texelSize;\n\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\n\t\tuv.y += texelSize;\n\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\n\t\tuv.x -= texelSize;\n\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\n\t\tvec3 tm = mix( tl, tr, f.x );\n\n\t\tvec3 bm = mix( bl, br, f.x );\n\n\t\treturn mix( tm, bm, f.y );\n\n\t}\n\n\t// These defines must match with PMREMGenerator\n\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\n\tfloat roughnessToMip( float roughness ) {\n\n\t\tfloat mip = 0.0;\n\n\t\tif ( roughness >= r1 ) {\n\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\n\t\t} else if ( roughness >= r4 ) {\n\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\n\t\t} else if ( roughness >= r5 ) {\n\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\n\t\t} else if ( roughness >= r6 ) {\n\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\n\t\t} else {\n\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness ); // 1.16 = 1.79^0.25\n\t\t}\n\n\t\treturn mip;\n\n\t}\n\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\n\t\tfloat mipF = fract( mip );\n\n\t\tfloat mipInt = floor( mip );\n\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\n\t\tif ( mipF == 0.0 ) {\n\n\t\t\treturn vec4( color0, 1.0 );\n\n\t\t} else {\n\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\n\t\t}\n\n\t}\n\n#endif\n",defaultnormal_vertex:"\nvec3 transformedNormal = objectNormal;\n\n#ifdef USE_INSTANCING\n\n\t// this is in lieu of a per-instance normal-matrix\n\t// shear transforms in the instance matrix are not supported\n\n\tmat3 m = mat3( instanceMatrix );\n\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\n\ttransformedNormal = m * transformedNormal;\n\n#endif\n\ntransformedNormal = normalMatrix * transformedNormal;\n\n#ifdef FLIP_SIDED\n\n\ttransformedNormal = - transformedNormal;\n\n#endif\n\n#ifdef USE_TANGENT\n\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\n\t#ifdef FLIP_SIDED\n\n\t\ttransformedTangent = - transformedTangent;\n\n\t#endif\n\n#endif\n",displacementmap_pars_vertex:"\n#ifdef USE_DISPLACEMENTMAP\n\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n\n#endif\n",displacementmap_vertex:"\n#ifdef USE_DISPLACEMENTMAP\n\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n\n#endif\n",emissivemap_fragment:"\n#ifdef USE_EMISSIVEMAP\n\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n\n#endif\n",emissivemap_pars_fragment:"\n#ifdef USE_EMISSIVEMAP\n\n\tuniform sampler2D emissiveMap;\n\n#endif\n",encodings_fragment:"\ngl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\n// For a discussion of what this is, please read this: http://lousodrome.net/blog/light/2013/05/26/gamma-correct-and-hdr-rendering-in-a-32-bits-buffer/\n\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\n\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\n\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\n\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\n\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\n\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\n\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n\t// return vec4( value.brg, ( 3.0 + 128.0 ) / 256.0 );\n}\n\n// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\n\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\n\n// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\n\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\t// NOTE: The implementation with min causes the shader to not compile on\n\t// a common Alcatel A502DL in Chrome 78/Android 8.1. Some research suggests \n\t// that the chipset is Mediatek MT6739 w/ IMG PowerVR GE8100 GPU.\n\t// D = min( floor( D ) / 255.0, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\n\n// LogLuv reference: http://graphicrants.blogspot.ca/2009/04/rgbm-color-encoding.html\n\n// M matrix, for encoding\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\n\n// Inverse M matrix, for decoding\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}\n",envmap_fragment:"\n#ifdef USE_ENVMAP\n\n\t#ifdef ENV_WORLDPOS\n\n\t\tvec3 cameraToFrag;\n\n\t\tif ( isOrthographic ) {\n\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\n\t\t} else {\n\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\n\t\t}\n\n\t\t// Transforming Normal Vectors with the Inverse Transformation\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\n\t\t#else\n\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\n\t\t#endif\n\n\t#else\n\n\t\tvec3 reflectVec = vReflect;\n\n\t#endif\n\n\t#ifdef ENVMAP_TYPE_CUBE\n\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\n\t#else\n\n\t\tvec4 envColor = vec4( 0.0 );\n\n\t#endif\n\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\n\t\tenvColor = envMapTexelToLinear( envColor );\n\n\t#endif\n\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\n\t#endif\n\n#endif\n",envmap_common_pars_fragment:"\n#ifdef USE_ENVMAP\n\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif\n",envmap_pars_fragment:"\n#ifdef USE_ENVMAP\n\n\tuniform float reflectivity;\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n\t\t#define ENV_WORLDPOS\n\n\t#endif\n\n\t#ifdef ENV_WORLDPOS\n\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n\n#endif\n",envmap_pars_vertex:"\n#ifdef USE_ENVMAP\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\n\t\t#define ENV_WORLDPOS\n\n\t#endif\n\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\n\t#else\n\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\n\t#endif\n\n#endif\n",envmap_physical_pars_fragment:"\n#if defined( USE_ENVMAP )\n\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\n\tvec3 getLightProbeIndirectIrradiance( /*const in SpecularLightProbe specularLightProbe,*/ const in GeometricContext geometry, const in int maxMIPLevel ) {\n\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\n\t\t\t// TODO: replace with properly filtered cubemaps and access the irradiance LOD level, be it the last LOD level\n\t\t\t// of a specular cubemap, or just the default level of a specially created irradiance cubemap.\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\n\t\t\t#else\n\n\t\t\t\t// force the bias high to get the last LOD level as it is the most blurred.\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\n\t\t#else\n\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\n\t\t#endif\n\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\n\t}\n\n\t// Trowbridge-Reitz distribution to Mip level, following the logic of http://casual-effects.blogspot.ca/2011/08/plausible-environment-lighting-in-two.html\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\n\t\t// clamp to allowable LOD ranges.\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\n\t}\n\n\tvec3 getLightProbeIndirectRadiance( /*const in SpecularLightProbe specularLightProbe,*/ const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\n\t\t\t// Mixing the reflection with the normal is more accurate and keeps rough objects from gathering light from behind their tangent plane.\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\n\t\t#else\n\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\n\t\t#endif\n\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\n\t\t\t#else\n\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\n\t\t#endif\n\n\t\treturn envMapColor.rgb * envMapIntensity;\n\n\t}\n\n#endif\n",envmap_vertex:"\n#ifdef USE_ENVMAP\n\n\t#ifdef ENV_WORLDPOS\n\n\t\tvWorldPosition = worldPosition.xyz;\n\n\t#else\n\n\t\tvec3 cameraToVertex;\n\n\t\tif ( isOrthographic ) {\n\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\n\t\t} else {\n\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\n\t\t}\n\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\n\t\t#else\n\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\n\t\t#endif\n\n\t#endif\n\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\n\n\tfogDepth = - mvPosition.z;\n\n#endif\n",fog_pars_vertex:"\n#ifdef USE_FOG\n\n\tvarying float fogDepth;\n\n#endif\n",fog_fragment:"\n#ifdef USE_FOG\n\n\t#ifdef FOG_EXP2\n\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\n\t#else\n\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\n\t#endif\n\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n\n#endif\n",fog_pars_fragment:"\n#ifdef USE_FOG\n\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\n\t#ifdef FOG_EXP2\n\n\t\tuniform float fogDensity;\n\n\t#else\n\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\n\t#endif\n\n#endif\n",gradientmap_pars_fragment:"\n\n#ifdef USE_GRADIENTMAP\n\n\tuniform sampler2D gradientMap;\n\n#endif\n\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\n\t// dotNL will be from -1.0 to 1.0\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\n\t#ifdef USE_GRADIENTMAP\n\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\n\t#else\n\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\n\t#endif\n\n}\n",lightmap_fragment:"\n#ifdef USE_LIGHTMAP\n\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity; // factor of PI should not be present; included here to prevent breakage\n\n#endif\n",lightmap_pars_fragment:"\n#ifdef USE_LIGHTMAP\n\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n\n#endif\n",lights_lambert_vertex:"\nvec3 diffuse = vec3( 1.0 );\n\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\n\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\n\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\n\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\n\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n\n#ifdef DOUBLE_SIDED\n\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n\n#endif\n\n#if NUM_POINT_LIGHTS > 0\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\n\t\t#endif\n\n\t}\n\t#pragma unroll_loop_end\n\n#endif\n\n#if NUM_SPOT_LIGHTS > 0\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n\n#endif\n\n/*\n#if NUM_RECT_AREA_LIGHTS > 0\n\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\n\t\t// TODO (abelnation): implement\n\n\t}\n\n#endif\n*/\n\n#if NUM_DIR_LIGHTS > 0\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\n\t\t#endif\n\n\t}\n\t#pragma unroll_loop_end\n\n#endif\n\n#if NUM_HEMI_LIGHTS > 0\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\n\t\t#endif\n\n\t}\n\t#pragma unroll_loop_end\n\n#endif\n",lights_pars_begin:"\nuniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\n\n// get the irradiance (radiance convolved with cosine lobe) at the point 'normal' on the unit sphere\n// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\n\t// normal is assumed to have unit length\n\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\n\t// band 0\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\n\t// band 1\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\n\t// band 2\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\n\treturn result;\n\n}\n\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\n\treturn irradiance;\n\n}\n\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\n\tvec3 irradiance = ambientLightColor;\n\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\tirradiance *= PI;\n\n\t#endif\n\n\treturn irradiance;\n\n}\n\n#if NUM_DIR_LIGHTS > 0\n\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\n\t}\n\n#endif\n\n\n#if NUM_POINT_LIGHTS > 0\n\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\n\t// directLight is an out parameter as having it as a return value caused compiler errors on some devices\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\n\t\tfloat lightDistance = length( lVector );\n\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\n\t}\n\n#endif\n\n\n#if NUM_SPOT_LIGHTS > 0\n\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\n\t// directLight is an out parameter as having it as a return value caused compiler errors on some devices\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\n\t\tif ( angleCos > spotLight.coneCos ) {\n\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\n\t\t} else {\n\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\n\t\t}\n\t}\n\n#endif\n\n\n#if NUM_RECT_AREA_LIGHTS > 0\n\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\n\t// Pre-computed values of LinearTransformedCosine approximation of BRDF\n\t// BRDF approximation Texture is 64x64\n\tuniform sampler2D ltc_1; // RGBA Float\n\tuniform sampler2D ltc_2; // RGBA Float\n\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n\n#endif\n\n\n#if NUM_HEMI_LIGHTS > 0\n\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\t\tirradiance *= PI;\n\n\t\t#endif\n\n\t\treturn irradiance;\n\n\t}\n\n#endif\n",lights_toon_fragment:"\nToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\n",lights_toon_pars_fragment:"\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n\nstruct ToonMaterial {\n\n\tvec3 diffuseColor;\n\n};\n\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\tirradiance *= PI; // punctual light\n\n\t#endif\n\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\n}\n\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\n}\n\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n\n#define Material_LightProbeLOD( material )\t(0)\n",lights_phong_fragment:"\nBlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n\nstruct BlinnPhongMaterial {\n\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n\n};\n\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\tirradiance *= PI; // punctual light\n\n\t#endif\n\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n\n}\n\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\n}\n\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"\nPhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\n\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\n\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );// 0.0525 corresponds to the base mip of a 256 cubemap.\nmaterial.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n\n#ifdef REFLECTIVITY\n\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\n#else\n\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n\n#endif\n\n#ifdef CLEARCOAT\n\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\n\t#ifdef USE_CLEARCOATMAP\n\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\n\t#endif\n\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\n\t#endif\n\n\tmaterial.clearcoat = saturate( material.clearcoat ); // Burley clearcoat model\n\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n\n#endif\n\n#ifdef USE_SHEEN\n\n\tmaterial.sheenColor = sheen;\n\n#endif\n",lights_physical_pars_fragment:"\nstruct PhysicalMaterial {\n\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n\n};\n\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\n\n// Clear coat directional hemishperical reflectance (this approximation should be improved)\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n\n}\n\n#if NUM_RECT_AREA_LIGHTS > 0\n\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight; // counterclockwise; light shines in local neg z direction\n\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\n\t\t// LTC Fresnel Approximation by Stephen Hill\n\t\t// http://blog.selfshadow.com/publications/s2016-advances/s2016_ltc_fresnel.pdf\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\n\t}\n\n#endif\n\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\n\tvec3 irradiance = dotNL * directLight.color;\n\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\tirradiance *= PI; // punctual light\n\n\t#endif\n\n\t#ifdef CLEARCOAT\n\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\t\tccIrradiance *= PI; // punctual light\n\n\t\t#endif\n\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\n\t#else\n\n\t\tfloat clearcoatDHR = 0.0;\n\n\t#endif\n\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\n}\n\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\n\t#ifdef CLEARCOAT\n\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\n\t#else\n\n\t\tfloat clearcoatDHR = 0.0;\n\n\t#endif\n\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\n\t// Both indirect specular and indirect diffuse light accumulate here\n\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n\n}\n\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n\n// ref: https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n\n}\n",lights_fragment_begin:"\n/**\n * This is a template that can be used to light a material, it uses pluggable\n * RenderEquations (RE)for specific lighting scenarios.\n *\n * Instructions for use:\n * - Ensure that both RE_Direct, RE_IndirectDiffuse and RE_IndirectSpecular are defined\n * - If you have defined an RE_IndirectSpecular, you need to also provide a Material_LightProbeLOD. <---- ???\n * - Create a material parameter that is to be passed as the third parameter to your lighting functions.\n *\n * TODO:\n * - Add area light support.\n * - Add sphere light support.\n * - Add diffuse light probe (irradiance cubemap) support.\n */\n\nGeometricContext geometry;\n\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n\n#ifdef CLEARCOAT\n\n\tgeometry.clearcoatNormal = clearcoatNormal;\n\n#endif\n\nIncidentLight directLight;\n\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\n\t\tpointLight = pointLights[ i ];\n\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\n\t}\n\t#pragma unroll_loop_end\n\n#endif\n\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\n\t\tspotLight = spotLights[ i ];\n\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\n\t}\n\t#pragma unroll_loop_end\n\n#endif\n\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\n\t\tdirectionalLight = directionalLights[ i ];\n\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\n\t}\n\t#pragma unroll_loop_end\n\n#endif\n\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\n\tRectAreaLight rectAreaLight;\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\n\t}\n\t#pragma unroll_loop_end\n\n#endif\n\n#if defined( RE_IndirectDiffuse )\n\n\tvec3 iblIrradiance = vec3( 0.0 );\n\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\n\t\t}\n\t\t#pragma unroll_loop_end\n\n\t#endif\n\n#endif\n\n#if defined( RE_IndirectSpecular )\n\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n\n#endif\n",lights_fragment_maps:"\n#if defined( RE_IndirectDiffuse )\n\n\t#ifdef USE_LIGHTMAP\n\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\t\tlightMapIrradiance *= PI; // factor of PI should not be present; included here to prevent breakage\n\n\t\t#endif\n\n\t\tirradiance += lightMapIrradiance;\n\n\t#endif\n\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( /*lightProbe,*/ geometry, maxMipLevel );\n\n\t#endif\n\n#endif\n\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\n\tradiance += getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\n\t#ifdef CLEARCOAT\n\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\n\t#endif\n\n#endif\n",lights_fragment_end:"\n#if defined( RE_IndirectDiffuse )\n\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n\n#endif\n\n#if defined( RE_IndirectSpecular )\n\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n\n#endif\n",logdepthbuf_fragment:"\n#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\n\t// Doing a strict comparison with == 1.0 can cause noise artifacts\n\t// on some platforms. See issue #17623.\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n\n#endif\n",logdepthbuf_pars_fragment:"\n#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n\n#endif\n",logdepthbuf_pars_vertex:"\n#ifdef USE_LOGDEPTHBUF\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\n\t#else\n\n\t\tuniform float logDepthBufFC;\n\n\t#endif\n\n#endif\n",logdepthbuf_vertex:"\n#ifdef USE_LOGDEPTHBUF\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\n\t#else\n\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\n\t\t\tgl_Position.z *= gl_Position.w;\n\n\t\t}\n\n\t#endif\n\n#endif\n",map_fragment:"\n#ifdef USE_MAP\n\n\tvec4 texelColor = texture2D( map, vUv );\n\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n\n#endif\n",map_pars_fragment:"\n#ifdef USE_MAP\n\n\tuniform sampler2D map;\n\n#endif\n",map_particle_fragment:"\n#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\n#endif\n\n#ifdef USE_MAP\n\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n\n#endif\n\n#ifdef USE_ALPHAMAP\n\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n\n#endif\n",map_particle_pars_fragment:"\n#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\n\tuniform mat3 uvTransform;\n\n#endif\n\n#ifdef USE_MAP\n\n\tuniform sampler2D map;\n\n#endif\n\n#ifdef USE_ALPHAMAP\n\n\tuniform sampler2D alphaMap;\n\n#endif\n",metalnessmap_fragment:"\nfloat metalnessFactor = metalness;\n\n#ifdef USE_METALNESSMAP\n\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\n\t// reads channel B, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\n\tmetalnessFactor *= texelMetalness.b;\n\n#endif\n",metalnessmap_pars_fragment:"\n#ifdef USE_METALNESSMAP\n\n\tuniform sampler2D metalnessMap;\n\n#endif\n",morphnormal_vertex:"\n#ifdef USE_MORPHNORMALS\n\n\t// morphTargetBaseInfluence is set based on BufferGeometry.morphTargetsRelative value:\n\t// When morphTargetsRelative is false, this is set to 1 - sum(influences); this results in normal = sum((target - base) * influence)\n\t// When morphTargetsRelative is true, this is set to 1; as a result, all morph targets are simply added to the base after weighting\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\n#endif\n",morphtarget_pars_vertex:"\n#ifdef USE_MORPHTARGETS\n\n\tuniform float morphTargetBaseInfluence;\n\n\t#ifndef USE_MORPHNORMALS\n\n\t\tuniform float morphTargetInfluences[ 8 ];\n\n\t#else\n\n\t\tuniform float morphTargetInfluences[ 4 ];\n\n\t#endif\n\n#endif\n",morphtarget_vertex:"\n#ifdef USE_MORPHTARGETS\n\n\t// morphTargetBaseInfluence is set based on BufferGeometry.morphTargetsRelative value:\n\t// When morphTargetsRelative is false, this is set to 1 - sum(influences); this results in position = sum((target - base) * influence)\n\t// When morphTargetsRelative is true, this is set to 1; as a result, all morph targets are simply added to the base after weighting\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\n\t#ifndef USE_MORPHNORMALS\n\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\n\t#endif\n\n#endif\n",normal_fragment_begin:"\n#ifdef FLAT_SHADED\n\n\t// Workaround for Adreno/Nexus5 not able able to do dFdx( vViewPosition ) ...\n\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n\n#else\n\n\tvec3 normal = normalize( vNormal );\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n\t#endif\n\n\t#ifdef USE_TANGENT\n\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n\t\t#endif\n\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\n\t\t#endif\n\n\t#endif\n\n#endif\n\n// non perturbed normal for clearcoat among others\n\nvec3 geometryNormal = normal;\n\n",normal_fragment_maps:"\n\n#ifdef OBJECTSPACE_NORMALMAP\n\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0; // overrides both flatShading and attribute normals\n\n\t#ifdef FLIP_SIDED\n\n\t\tnormal = - normal;\n\n\t#endif\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n\t#endif\n\n\tnormal = normalize( normalMatrix * normal );\n\n#elif defined( TANGENTSPACE_NORMALMAP )\n\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\n\t#ifdef USE_TANGENT\n\n\t\tnormal = normalize( vTBN * mapN );\n\n\t#else\n\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\n\t#endif\n\n#elif defined( USE_BUMPMAP )\n\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n\n#endif\n",normalmap_pars_fragment:"\n#ifdef USE_NORMALMAP\n\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\n#endif\n\n#ifdef OBJECTSPACE_NORMALMAP\n\n\tuniform mat3 normalMatrix;\n\n#endif\n\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\n\t// Per-Pixel Tangent Space Normal Mapping\n\t// http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html\n\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\n\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\n\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s ); // we do not care about the magnitude\n\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\n\t\tmat3 tsn = mat3( S, T, N );\n\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n\t\treturn normalize( tsn * mapN );\n\n\t}\n\n#endif\n",clearcoat_normal_fragment_begin:"\n#ifdef CLEARCOAT\n\n\tvec3 clearcoatNormal = geometryNormal;\n\n#endif\n",clearcoat_normal_fragment_maps:"\n#ifdef USE_CLEARCOAT_NORMALMAP\n\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\n\t#ifdef USE_TANGENT\n\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\n\t#else\n\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\n\t#endif\n\n#endif\n",clearcoat_pars_fragment:"\n\n#ifdef USE_CLEARCOATMAP\n\n\tuniform sampler2D clearcoatMap;\n\n#endif\n\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\n\tuniform sampler2D clearcoatRoughnessMap;\n\n#endif\n\n#ifdef USE_CLEARCOAT_NORMALMAP\n\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n\n#endif\n",packing:"\nvec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\n\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\n\nconst float PackUpscale = 256. / 255.; // fraction -> 0..1 (including 1)\nconst float UnpackDownscale = 255. / 256.; // 0..1 -> fraction (excluding 1)\n\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\n\nconst float ShiftRight8 = 1. / 256.;\n\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8; // tidy overflow\n\treturn r * PackUpscale;\n}\n\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\n\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\n\n// NOTE: viewZ/eyeZ is < 0 when in front of the camera per OpenGL conventions\n\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\n\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"\n#ifdef PREMULTIPLIED_ALPHA\n\n\t// Get get normal blending with premultipled, use with CustomBlending, OneFactor, OneMinusSrcAlphaFactor, AddEquation.\n\tgl_FragColor.rgb *= gl_FragColor.a;\n\n#endif\n",project_vertex:"\nvec4 mvPosition = vec4( transformed, 1.0 );\n\n#ifdef USE_INSTANCING\n\n\tmvPosition = instanceMatrix * mvPosition;\n\n#endif\n\nmvPosition = modelViewMatrix * mvPosition;\n\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"\n#ifdef DITHERING\n\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n\n#endif\n",dithering_pars_fragment:"\n#ifdef DITHERING\n\n\t// based on https://www.shadertoy.com/view/MslGR8\n\tvec3 dithering( vec3 color ) {\n\t\t//Calculate grid position\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\n\t\t//Shift the individual colors differently, thus making it even harder to see the dithering pattern\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\n\t\t//modify shift acording to grid position.\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\n\t\t//shift the color by dither_shift\n\t\treturn color + dither_shift_RGB;\n\t}\n\n#endif\n",roughnessmap_fragment:"\nfloat roughnessFactor = roughness;\n\n#ifdef USE_ROUGHNESSMAP\n\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\n\t// reads channel G, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\n\troughnessFactor *= texelRoughness.g;\n\n#endif\n",roughnessmap_pars_fragment:"\n#ifdef USE_ROUGHNESSMAP\n\n\tuniform sampler2D roughnessMap;\n\n#endif\n",shadowmap_pars_fragment:"\n#ifdef USE_SHADOWMAP\n\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\n\t#endif\n\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\n\t#endif\n\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\n\t#endif\n\n\t/*\n\t#if NUM_RECT_AREA_LIGHTS > 0\n\n\t\t// TODO (abelnation): create uniforms for area light shadows\n\n\t#endif\n\t*/\n\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\n\t}\n\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\n\t}\n\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\n\t\tfloat occlusion = 1.0;\n\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\n\t\tfloat hard_shadow = step( compare , distribution.x ); // Hard Shadow\n\n\t\tif (hard_shadow != 1.0 ) {\n\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance ); // Chebeyshevs inequality\n\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 ); // 0.3 reduces light bleed\n\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\n\t\t}\n\t\treturn occlusion;\n\n\t}\n\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\n\t\tfloat shadow = 1.0;\n\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\n\t\t// if ( something && something ) breaks ATI OpenGL shader compiler\n\t\t// if ( all( something, something ) ) using this instead\n\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n\t\tbool frustumTest = all( frustumTestVec );\n\n\t\tif ( frustumTest ) {\n\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\n\t\t#else // no percentage-closer filtering:\n\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\n\t\t#endif\n\n\t\t}\n\n\t\treturn shadow;\n\n\t}\n\n\t// cubeToUV() maps a 3D direction vector suitable for cube texture mapping to a 2D\n\t// vector suitable for 2D texture mapping. This code uses the following layout for the\n\t// 2D texture:\n\t//\n\t// xzXZ\n\t//  y Y\n\t//\n\t// Y - Positive y direction\n\t// y - Negative y direction\n\t// X - Positive x direction\n\t// x - Negative x direction\n\t// Z - Positive z direction\n\t// z - Negative z direction\n\t//\n\t// Source and test bed:\n\t// https://gist.github.com/tschw/da10c43c467ce8afd0c4\n\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\n\t\t// Number of texels to avoid at the edge of each square\n\n\t\tvec3 absV = abs( v );\n\n\t\t// Intersect unit cube\n\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\n\t\t// Apply scale to avoid seams\n\n\t\t// two texels less per square (one texel will do for NEAREST)\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\n\t\t// Unwrap\n\n\t\t// space: -1 ... 1 range for each square\n\t\t//\n\t\t// #X##\t\tdim    := ( 4 , 2 )\n\t\t//  # #\t\tcenter := ( 1 , 1 )\n\n\t\tvec2 planar = v.xy;\n\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\n\t\tif ( absV.z >= almostOne ) {\n\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\n\t\t} else if ( absV.x >= almostOne ) {\n\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\n\t\t} else if ( absV.y >= almostOne ) {\n\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\n\t\t}\n\n\t\t// Transform to UV space\n\n\t\t// scale := 0.5 / dim\n\t\t// translate := ( center + 0.5 ) / dim\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\n\t}\n\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\n\t\t// for point lights, the uniform @vShadowCoord is re-purposed to hold\n\t\t// the vector from the light to the world-space position of the fragment.\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\n\t\t// dp = normalized distance from light to fragment position\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear ); // need to clamp?\n\t\tdp += shadowBias;\n\n\t\t// bd3D = base direction 3D\n\t\tvec3 bd3D = normalize( lightToPosition );\n\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\n\t\t#else // no percentage-closer filtering\n\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\n\t\t#endif\n\n\t}\n\n#endif\n",shadowmap_pars_vertex:"\n#ifdef USE_SHADOWMAP\n\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\n\t#endif\n\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\n\t#endif\n\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\n\t#endif\n\n\t/*\n\t#if NUM_RECT_AREA_LIGHTS > 0\n\n\t\t// TODO (abelnation): uniforms for area light shadows\n\n\t#endif\n\t*/\n\n#endif\n",shadowmap_vertex:"\n#ifdef USE_SHADOWMAP\n\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\n\t\t// Offsetting the position used for querying occlusion along the world normal can be used to reduce shadow acne.\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\n\t#endif\n\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\n\t}\n\t#pragma unroll_loop_end\n\n\t#endif\n\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\n\t}\n\t#pragma unroll_loop_end\n\n\t#endif\n\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\n\t}\n\t#pragma unroll_loop_end\n\n\t#endif\n\n\t/*\n\t#if NUM_RECT_AREA_LIGHTS > 0\n\n\t\t// TODO (abelnation): update vAreaShadowCoord with area light info\n\n\t#endif\n\t*/\n\n#endif\n",shadowmask_pars_fragment:"\nfloat getShadowMask() {\n\n\tfloat shadow = 1.0;\n\n\t#ifdef USE_SHADOWMAP\n\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\n\tDirectionalLightShadow directionalLight;\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\n\t}\n\t#pragma unroll_loop_end\n\n\t#endif\n\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\n\tSpotLightShadow spotLight;\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\n\t}\n\t#pragma unroll_loop_end\n\n\t#endif\n\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\n\tPointLightShadow pointLight;\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\n\t}\n\t#pragma unroll_loop_end\n\n\t#endif\n\n\t/*\n\t#if NUM_RECT_AREA_LIGHTS > 0\n\n\t\t// TODO (abelnation): update shadow for Area light\n\n\t#endif\n\t*/\n\n\t#endif\n\n\treturn shadow;\n\n}\n",skinbase_vertex:"\n#ifdef USE_SKINNING\n\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n\n#endif\n",skinning_pars_vertex:"\n#ifdef USE_SKINNING\n\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\n\t#ifdef BONE_TEXTURE\n\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\n\t\t\ty = dy * ( y + 0.5 );\n\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\n\t\t\treturn bone;\n\n\t\t}\n\n\t#else\n\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\n\t\t}\n\n\t#endif\n\n#endif\n",skinning_vertex:"\n#ifdef USE_SKINNING\n\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n\n#endif\n",skinnormal_vertex:"\n#ifdef USE_SKINNING\n\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\n\t#ifdef USE_TANGENT\n\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\n\t#endif\n\n#endif\n",specularmap_fragment:"\nfloat specularStrength;\n\n#ifdef USE_SPECULARMAP\n\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n\n#else\n\n\tspecularStrength = 1.0;\n\n#endif\n",specularmap_pars_fragment:"\n#ifdef USE_SPECULARMAP\n\n\tuniform sampler2D specularMap;\n\n#endif\n",tonemapping_fragment:"\n#if defined( TONE_MAPPING )\n\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n\n#endif\n",tonemapping_pars_fragment:"\n#ifndef saturate\n// <common> may have defined saturate() already\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n\nuniform float toneMappingExposure;\n\n// exposure only\nvec3 LinearToneMapping( vec3 color ) {\n\n\treturn toneMappingExposure * color;\n\n}\n\n// source: https://www.cs.utah.edu/~reinhard/cdrom/\nvec3 ReinhardToneMapping( vec3 color ) {\n\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n\n}\n\n// source: http://filmicworlds.com/blog/filmic-tonemapping-operators/\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\n\t// optimized filmic operator by Jim Hejl and Richard Burgess-Dawson\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n\n}\n\n// source: https://github.com/selfshadow/ltc_code/blob/master/webgl/shaders/ltc/ltc_blit.fs\nvec3 RRTAndODTFit( vec3 v ) {\n\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n\n}\n\n// this implementation of ACES is modified to accommodate a brighter viewing environment.\n// the scale factor of 1/0.6 is subjective. see discussion in #19621.\n\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\n\t// sRGB => XYZ => D65_2_D60 => AP1 => RRT_SAT\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ), // transposed from source\n\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\n\t// ODT_SAT => XYZ => D60_2_D65 => sRGB\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ), // transposed from source\n\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\n\tcolor *= toneMappingExposure / 0.6;\n\n\tcolor = ACESInputMat * color;\n\n\t// Apply RRT and ODT\n\tcolor = RRTAndODTFit( color );\n\n\tcolor = ACESOutputMat * color;\n\n\t// Clamp to [0, 1]\n\treturn saturate( color );\n\n}\n\nvec3 CustomToneMapping( vec3 color ) { return color; }\n",transmissionmap_fragment:"\n#ifdef USE_TRANSMISSIONMAP\n\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n\n#endif\n",transmissionmap_pars_fragment:"\n#ifdef USE_TRANSMISSIONMAP\n\n\tuniform sampler2D transmissionMap;\n\n#endif\n",uv_pars_fragment:"\n#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\n\tvarying vec2 vUv;\n\n#endif\n",uv_pars_vertex:"\n#ifdef USE_UV\n\n\t#ifdef UVS_VERTEX_ONLY\n\n\t\tvec2 vUv;\n\n\t#else\n\n\t\tvarying vec2 vUv;\n\n\t#endif\n\n\tuniform mat3 uvTransform;\n\n#endif\n",uv_vertex:"\n#ifdef USE_UV\n\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\n#endif\n",uv2_pars_fragment:"\n#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n\tvarying vec2 vUv2;\n\n#endif\n",uv2_pars_vertex:"\n#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\n\tuniform mat3 uv2Transform;\n\n#endif\n",uv2_vertex:"\n#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n\n#endif\n",worldpos_vertex:"\n#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\n\t#ifdef USE_INSTANCING\n\n\t\tworldPosition = instanceMatrix * worldPosition;\n\n\t#endif\n\n\tworldPosition = modelMatrix * worldPosition;\n\n#endif\n",background_frag:"\nuniform sampler2D t2D;\n\nvarying vec2 vUv;\n\nvoid main() {\n\n\tvec4 texColor = texture2D( t2D, vUv );\n\n\tgl_FragColor = mapTexelToLinear( texColor );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\n}\n",background_vert:"\nvarying vec2 vUv;\nuniform mat3 uvTransform;\n\nvoid main() {\n\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n\n}\n",cube_frag:"\n#include <envmap_common_pars_fragment>\nuniform float opacity;\n\nvarying vec3 vWorldDirection;\n\n#include <cube_uv_reflection_fragment>\n\nvoid main() {\n\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\n}\n",cube_vert:"\nvarying vec3 vWorldDirection;\n\n#include <common>\n\nvoid main() {\n\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\n\tgl_Position.z = gl_Position.w; // set z to camera.far\n\n}\n",depth_frag:"\n#if DEPTH_PACKING == 3200\n\n\tuniform float opacity;\n\n#endif\n\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvarying vec2 vHighPrecisionZW;\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( 1.0 );\n\n\t#if DEPTH_PACKING == 3200\n\n\t\tdiffuseColor.a = opacity;\n\n\t#endif\n\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\n\t#include <logdepthbuf_fragment>\n\n\t// Higher precision equivalent of gl_FragCoord.z. This assumes depthRange has been left to its default values.\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\n\t#if DEPTH_PACKING == 3200\n\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\n\t#elif DEPTH_PACKING == 3201\n\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\n\t#endif\n\n}\n",depth_vert:"\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\n// This is used for computing an equivalent of gl_FragCoord.z that is as high precision as possible.\n// Some platforms compute gl_FragCoord at a lower precision which makes the manually computed value better for\n// depth-based postprocessing effects. Reproduced on iPad with A10 processor / iPadOS 13.3.1.\nvarying vec2 vHighPrecisionZW;\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\t#include <skinbase_vertex>\n\n\t#ifdef USE_DISPLACEMENTMAP\n\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvHighPrecisionZW = gl_Position.zw;\n\n}\n",distanceRGBA_frag:"\n#define DISTANCE\n\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main () {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( 1.0 );\n\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist ); // clamp to [ 0, 1 ]\n\n\tgl_FragColor = packDepthToRGBA( dist );\n\n}\n",distanceRGBA_vert:"\n#define DISTANCE\n\nvarying vec3 vWorldPosition;\n\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\t#include <skinbase_vertex>\n\n\t#ifdef USE_DISPLACEMENTMAP\n\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvWorldPosition = worldPosition.xyz;\n\n}\n",equirect_frag:"\nuniform sampler2D tEquirect;\n\nvarying vec3 vWorldDirection;\n\n#include <common>\n\nvoid main() {\n\n\tvec3 direction = normalize( vWorldDirection );\n\n\tvec2 sampleUV = equirectUv( direction );\n\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\n\tgl_FragColor = mapTexelToLinear( texColor );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\n}\n",equirect_vert:"\nvarying vec3 vWorldDirection;\n\n#include <common>\n\nvoid main() {\n\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\n}\n",linedashed_frag:"\nuniform vec3 diffuse;\nuniform float opacity;\n\nuniform float dashSize;\nuniform float totalSize;\n\nvarying float vLineDistance;\n\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\n\t\tdiscard;\n\n\t}\n\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\n\toutgoingLight = diffuseColor.rgb; // simple shader\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\n}\n",linedashed_vert:"\nuniform float scale;\nattribute float lineDistance;\n\nvarying float vLineDistance;\n\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\tvLineDistance = scale * lineDistance;\n\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\n}\n",meshbasic_frag:"\nuniform vec3 diffuse;\nuniform float opacity;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\n\t// accumulation (baked indirect lighting only)\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\n\t#else\n\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\n\t#endif\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\n\t#include <envmap_fragment>\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n\n}\n",meshbasic_vert:"\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\n\t#ifdef USE_ENVMAP\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n\n}\n",meshlambert_frag:"\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\n\t// accumulation\n\n\t#ifdef DOUBLE_SIDED\n\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\n\t#else\n\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\n\t#endif\n\n\t#include <lightmap_fragment>\n\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\n\t#ifdef DOUBLE_SIDED\n\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\n\t#else\n\n\t\treflectedLight.directDiffuse = vLightFront;\n\n\t#endif\n\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\n\t// modulation\n\n\t#include <aomap_fragment>\n\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\n\t#include <envmap_fragment>\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"\n#define LAMBERT\n\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshmatcap_frag:"\n#define MATCAP\n\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5; // 0.495 to remove artifacts caused by undersized matcap disks\n\n\t#ifdef USE_MATCAP\n\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\n\t#else\n\n\t\tvec4 matcapColor = vec4( 1.0 );\n\n\t#endif\n\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n\n}\n",meshmatcap_vert:"\n#define MATCAP\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\t\tvNormal = normalize( transformedNormal );\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n}\n",meshtoon_frag:"\n#define TOON\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\n\t// accumulation\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n\n}\n",meshtoon_vert:"\n#define TOON\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\tvNormal = normalize( transformedNormal );\n\n#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n}\n",meshphong_frag:"\n#define PHONG\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\n\t// accumulation\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\n\t#include <envmap_fragment>\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n\n}\n",meshphong_vert:"\n#define PHONG\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\tvNormal = normalize( transformedNormal );\n\n#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n}\n",meshphysical_frag:"\n#define STANDARD\n\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\n\t// accumulation\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\n\t// this is a stub for the transmission model\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n\n}\n",meshphysical_vert:"\n#define STANDARD\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\tvNormal = normalize( transformedNormal );\n\n\t#ifdef USE_TANGENT\n\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\n\t#endif\n\n#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n}\n",normal_frag:"\n#define NORMAL\n\nuniform float opacity;\n\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\n\tvarying vec3 vViewPosition;\n\n#endif\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\n}\n",normal_vert:"\n#define NORMAL\n\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\n\tvarying vec3 vViewPosition;\n\n#endif\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\tvNormal = normalize( transformedNormal );\n\n\t#ifdef USE_TANGENT\n\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\n\t#endif\n\n#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\n\tvViewPosition = - mvPosition.xyz;\n\n#endif\n\n}\n",points_frag:"\nuniform vec3 diffuse;\nuniform float opacity;\n\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\n\toutgoingLight = diffuseColor.rgb;\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\n}\n",points_vert:"\nuniform float size;\nuniform float scale;\n\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\n\tgl_PointSize = size;\n\n\t#ifdef USE_SIZEATTENUATION\n\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\n\t#endif\n\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n\n}\n",shadow_frag:"\nuniform vec3 color;\nuniform float opacity;\n\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n\nvoid main() {\n\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\n}\n",shadow_vert:"\n#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n\nvoid main() {\n\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n}\n",sprite_frag:"\nuniform vec3 diffuse;\nuniform float opacity;\n\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\n\toutgoingLight = diffuseColor.rgb;\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\n}\n",sprite_vert:"\nuniform float rotation;\nuniform vec2 center;\n\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\n\t#ifndef USE_SIZEATTENUATION\n\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\n\t#endif\n\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\n\tmvPosition.xy += rotatedPosition;\n\n\tgl_Position = projectionMatrix * mvPosition;\n\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\n}\n"},gr={common:{diffuse:{value:new yn(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new be},uv2Transform:{value:new be},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ge(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new yn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new yn(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new be}},sprite:{diffuse:{value:new yn(15658734)},opacity:{value:1},center:{value:new ge(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new be}}},br={basic:{uniforms:Ti([gr.common,gr.specularmap,gr.envmap,gr.aomap,gr.lightmap,gr.fog]),vertexShader:mr.meshbasic_vert,fragmentShader:mr.meshbasic_frag},lambert:{uniforms:Ti([gr.common,gr.specularmap,gr.envmap,gr.aomap,gr.lightmap,gr.emissivemap,gr.fog,gr.lights,{emissive:{value:new yn(0)}}]),vertexShader:mr.meshlambert_vert,fragmentShader:mr.meshlambert_frag},phong:{uniforms:Ti([gr.common,gr.specularmap,gr.envmap,gr.aomap,gr.lightmap,gr.emissivemap,gr.bumpmap,gr.normalmap,gr.displacementmap,gr.fog,gr.lights,{emissive:{value:new yn(0)},specular:{value:new yn(1118481)},shininess:{value:30}}]),vertexShader:mr.meshphong_vert,fragmentShader:mr.meshphong_frag},standard:{uniforms:Ti([gr.common,gr.envmap,gr.aomap,gr.lightmap,gr.emissivemap,gr.bumpmap,gr.normalmap,gr.displacementmap,gr.roughnessmap,gr.metalnessmap,gr.fog,gr.lights,{emissive:{value:new yn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:mr.meshphysical_vert,fragmentShader:mr.meshphysical_frag},toon:{uniforms:Ti([gr.common,gr.aomap,gr.lightmap,gr.emissivemap,gr.bumpmap,gr.normalmap,gr.displacementmap,gr.gradientmap,gr.fog,gr.lights,{emissive:{value:new yn(0)}}]),vertexShader:mr.meshtoon_vert,fragmentShader:mr.meshtoon_frag},matcap:{uniforms:Ti([gr.common,gr.bumpmap,gr.normalmap,gr.displacementmap,gr.fog,{matcap:{value:null}}]),vertexShader:mr.meshmatcap_vert,fragmentShader:mr.meshmatcap_frag},points:{uniforms:Ti([gr.points,gr.fog]),vertexShader:mr.points_vert,fragmentShader:mr.points_frag},dashed:{uniforms:Ti([gr.common,gr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:mr.linedashed_vert,fragmentShader:mr.linedashed_frag},depth:{uniforms:Ti([gr.common,gr.displacementmap]),vertexShader:mr.depth_vert,fragmentShader:mr.depth_frag},normal:{uniforms:Ti([gr.common,gr.bumpmap,gr.normalmap,gr.displacementmap,{opacity:{value:1}}]),vertexShader:mr.normal_vert,fragmentShader:mr.normal_frag},sprite:{uniforms:Ti([gr.sprite,gr.fog]),vertexShader:mr.sprite_vert,fragmentShader:mr.sprite_frag},background:{uniforms:{uvTransform:{value:new be},t2D:{value:null}},vertexShader:mr.background_vert,fragmentShader:mr.background_frag},cube:{uniforms:Ti([gr.envmap,{opacity:{value:1}}]),vertexShader:mr.cube_vert,fragmentShader:mr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:mr.equirect_vert,fragmentShader:mr.equirect_frag},distanceRGBA:{uniforms:Ti([gr.common,gr.displacementmap,{referencePosition:{value:new Be},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:mr.distanceRGBA_vert,fragmentShader:mr.distanceRGBA_frag},shadow:{uniforms:Ti([gr.lights,gr.fog,{color:{value:new yn(0)},opacity:{value:1}}]),vertexShader:mr.shadow_vert,fragmentShader:mr.shadow_frag}};function vr(t,e,n,i,r){const o=new yn(0);let s,a,c=0,l=null,u=0,h=null;function p(t,e){n.buffers.color.setClear(t.r,t.g,t.b,e,r)}return{getClearColor:function(){return o},setClearColor:function(t,e=1){o.set(t),c=e,p(o,c)},getClearAlpha:function(){return c},setClearAlpha:function(t){c=t,p(o,c)},render:function(n,r,f,d){let _=!0===r.isScene?r.background:null;_&&_.isTexture&&(_=e.get(_));const m=t.xr,g=m.getSession&&m.getSession();g&&"additive"===g.environmentBlendMode&&(_=null),null===_?p(o,c):_&&_.isColor&&(p(_,1),d=!0),(t.autoClear||d)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),_&&(_.isCubeTexture||_.isWebGLCubeRenderTarget||306===_.mapping)?(void 0===a&&(a=new fr(new xi(1,1,1),new Li({name:"BackgroundCubeMaterial",uniforms:Ci(br.cube.uniforms),vertexShader:br.cube.vertexShader,fragmentShader:br.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),a.geometry.deleteAttribute("uv"),a.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(a.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(a)),_.isWebGLCubeRenderTarget&&(_=_.texture),a.material.uniforms.envMap.value=_,a.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_._needsFlipEnvMap?-1:1,l===_&&u===_.version&&h===t.toneMapping||(a.material.needsUpdate=!0,l=_,u=_.version,h=t.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null)):_&&_.isTexture&&(void 0===s&&(s=new fr(new wi(2,2),new Li({name:"BackgroundMaterial",uniforms:Ci(br.background.uniforms),vertexShader:br.background.vertexShader,fragmentShader:br.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=_,!0===_.matrixAutoUpdate&&_.updateMatrix(),s.material.uniforms.uvTransform.value.copy(_.matrix),l===_&&u===_.version&&h===t.toneMapping||(s.material.needsUpdate=!0,l=_,u=_.version,h=t.toneMapping),n.unshift(s,s.geometry,s.material,0,0,null))}}}function yr(t,e,n,i){const r=t.getParameter(t.MAX_VERTEX_ATTRIBS),o=i.isWebGL2?null:e.get("OES_vertex_array_object"),s=i.isWebGL2||null!==o,a={},c=p(null);let l=c;function u(e){return i.isWebGL2?t.bindVertexArray(e):o.bindVertexArrayOES(e)}function h(e){return i.isWebGL2?t.deleteVertexArray(e):o.deleteVertexArrayOES(e)}function p(t){const e=[],n=[],i=[];for(let t=0;t<r;t++)e[t]=0,n[t]=0,i[t]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:n,attributeDivisors:i,object:t,attributes:{},index:null}}function f(){const t=l.newAttributes;for(let e=0,n=t.length;e<n;e++)t[e]=0}function d(t){_(t,0)}function _(n,r){const o=l.newAttributes,s=l.enabledAttributes,a=l.attributeDivisors;o[n]=1,0===s[n]&&(t.enableVertexAttribArray(n),s[n]=1),a[n]!==r&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),a[n]=r)}function m(){const e=l.newAttributes,n=l.enabledAttributes;for(let i=0,r=n.length;i<r;i++)n[i]!==e[i]&&(t.disableVertexAttribArray(i),n[i]=0)}function g(e,n,r,o,s,a){!0!==i.isWebGL2||r!==t.INT&&r!==t.UNSIGNED_INT?t.vertexAttribPointer(e,n,r,o,s,a):t.vertexAttribIPointer(e,n,r,s,a)}function b(){v(),l!==c&&(l=c,u(l.object))}function v(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:function(r,c,h,b,v){let y=!1;if(s){const e=function(e,n,r){const s=!0===r.wireframe;let c=a[e.id];void 0===c&&(c={},a[e.id]=c);let l=c[n.id];void 0===l&&(l={},c[n.id]=l);let u=l[s];return void 0===u&&(u=p(i.isWebGL2?t.createVertexArray():o.createVertexArrayOES()),l[s]=u),u}(b,h,c);l!==e&&(l=e,u(l.object)),y=function(t,e){const n=l.attributes,i=t.attributes;let r=0;for(const t in i){const e=n[t],o=i[t];if(void 0===e)return!0;if(e.attribute!==o)return!0;if(e.data!==o.data)return!0;r++}return l.attributesNum!==r||l.index!==e}(b,v),y&&function(t,e){const n={},i=t.attributes;let r=0;for(const t in i){const e=i[t],o={};o.attribute=e,e.data&&(o.data=e.data),n[t]=o,r++}l.attributes=n,l.attributesNum=r,l.index=e}(b,v)}else{const t=!0===c.wireframe;l.geometry===b.id&&l.program===h.id&&l.wireframe===t||(l.geometry=b.id,l.program=h.id,l.wireframe=t,y=!0)}!0===r.isInstancedMesh&&(y=!0),null!==v&&n.update(v,t.ELEMENT_ARRAY_BUFFER),y&&(function(r,o,s,a){if(!1===i.isWebGL2&&(r.isInstancedMesh||a.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;f();const c=a.attributes,l=s.getAttributes(),u=o.defaultAttributeValues;for(const e in l){const i=l[e];if(i>=0){const o=c[e];if(void 0!==o){const e=o.normalized,r=o.itemSize,s=n.get(o);if(void 0===s)continue;const c=s.buffer,l=s.type,u=s.bytesPerElement;if(o.isInterleavedBufferAttribute){const n=o.data,s=n.stride,h=o.offset;n&&n.isInstancedInterleavedBuffer?(_(i,n.meshPerAttribute),void 0===a._maxInstanceCount&&(a._maxInstanceCount=n.meshPerAttribute*n.count)):d(i),t.bindBuffer(t.ARRAY_BUFFER,c),g(i,r,l,e,s*u,h*u)}else o.isInstancedBufferAttribute?(_(i,o.meshPerAttribute),void 0===a._maxInstanceCount&&(a._maxInstanceCount=o.meshPerAttribute*o.count)):d(i),t.bindBuffer(t.ARRAY_BUFFER,c),g(i,r,l,e,0,0)}else if("instanceMatrix"===e){const e=n.get(r.instanceMatrix);if(void 0===e)continue;const o=e.buffer,s=e.type;_(i+0,1),_(i+1,1),_(i+2,1),_(i+3,1),t.bindBuffer(t.ARRAY_BUFFER,o),t.vertexAttribPointer(i+0,4,s,!1,64,0),t.vertexAttribPointer(i+1,4,s,!1,64,16),t.vertexAttribPointer(i+2,4,s,!1,64,32),t.vertexAttribPointer(i+3,4,s,!1,64,48)}else if("instanceColor"===e){const e=n.get(r.instanceColor);if(void 0===e)continue;const o=e.buffer,s=e.type;_(i,1),t.bindBuffer(t.ARRAY_BUFFER,o),t.vertexAttribPointer(i,3,s,!1,12,0)}else if(void 0!==u){const n=u[e];if(void 0!==n)switch(n.length){case 2:t.vertexAttrib2fv(i,n);break;case 3:t.vertexAttrib3fv(i,n);break;case 4:t.vertexAttrib4fv(i,n);break;default:t.vertexAttrib1fv(i,n)}}}}m()}(r,c,h,b),null!==v&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(v).buffer))},reset:b,resetDefaultState:v,dispose:function(){b();for(const t in a){const e=a[t];for(const t in e){const n=e[t];for(const t in n)h(n[t].object),delete n[t];delete e[t]}delete a[t]}},releaseStatesOfGeometry:function(t){if(void 0===a[t.id])return;const e=a[t.id];for(const t in e){const n=e[t];for(const t in n)h(n[t].object),delete n[t];delete e[t]}delete a[t.id]},releaseStatesOfProgram:function(t){for(const e in a){const n=a[e];if(void 0===n[t.id])continue;const i=n[t.id];for(const t in i)h(i[t].object),delete i[t];delete n[t.id]}},initAttributes:f,enableAttribute:d,disableUnusedAttributes:m}}function xr(t,e,n,i){const r=i.isWebGL2;let o;this.setMode=function(t){o=t},this.render=function(e,i){t.drawArrays(o,e,i),n.update(i,o,1)},this.renderInstances=function(i,s,a){if(0===a)return;let c,l;if(r)c=t,l="drawArraysInstanced";else if(c=e.get("ANGLE_instanced_arrays"),l="drawArraysInstancedANGLE",null===c)return;c[l](o,i,s,a),n.update(s,o,a)}}function wr(t,e,n){let i;function r(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext;let s=void 0!==n.precision?n.precision:"highp";const a=r(s);a!==s&&(s=a);const c=!0===n.logarithmicDepthBuffer,l=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),u=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_TEXTURE_SIZE),p=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),f=t.getParameter(t.MAX_VERTEX_ATTRIBS),d=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),_=t.getParameter(t.MAX_VARYING_VECTORS),m=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),g=u>0,b=o||!!e.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==i)return i;const n=e.get("EXT_texture_filter_anisotropic");return i=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,i},getMaxPrecision:r,precision:s,logarithmicDepthBuffer:c,maxTextures:l,maxVertexTextures:u,maxTextureSize:h,maxCubemapSize:p,maxAttributes:f,maxVertexUniforms:d,maxVaryings:_,maxFragmentUniforms:m,vertexTextures:g,floatFragmentTextures:b,floatVertexTextures:g&&b,maxSamples:o?t.getParameter(t.MAX_SAMPLES):0}}function Sr(t){const e=this;let n=null,i=0,r=!1,o=!1;const s=new Hn,a=new be,c={value:null,needsUpdate:!1};function l(){c.value!==n&&(c.value=n,c.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(t,n,i,r){const o=null!==t?t.length:0;let l=null;if(0!==o){if(l=c.value,!0!==r||null===l){const e=i+4*o,r=n.matrixWorldInverse;a.getNormalMatrix(r),(null===l||l.length<e)&&(l=new Float32Array(e));for(let e=0,n=i;e!==o;++e,n+=4)s.copy(t[e]).applyMatrix4(r,a),s.normal.toArray(l,n),l[n+3]=s.constant}c.value=l,c.needsUpdate=!0}return e.numPlanes=o,e.numIntersection=0,l}this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e,o){const s=0!==t.length||e||0!==i||r;return r=e,n=u(t,o,0),i=t.length,s},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1,l()},this.setState=function(e,s,a){const h=e.clippingPlanes,p=e.clipIntersection,f=e.clipShadows,d=t.get(e);if(!r||null===h||0===h.length||o&&!f)o?u(null):l();else{const t=o?0:i,e=4*t;let r=d.clippingState||null;c.value=r,r=u(h,s,e,a);for(let t=0;t!==e;++t)r[t]=n[t];d.clippingState=r,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=t}}}function Mr(t,e,n){this.width=t,this.height=e,this.scissor=new Zn(0,0,t,e),this.scissorTest=!1,this.viewport=new Zn(0,0,t,e),n=n||{},this.texture=new Se(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=t,this.texture.image.height=e,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:Ht,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function Cr(){fn.call(this),this.type="Camera",this.matrixWorldInverse=new ze,this.projectionMatrix=new ze,this.projectionMatrixInverse=new ze}function Tr(t=50,e=1,n=.1,i=2e3){Cr.call(this),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}br.physical={uniforms:Ti([br.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ge(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new yn(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:mr.meshphysical_vert,fragmentShader:mr.meshphysical_frag},Mr.prototype=Object.assign(Object.create(jt.prototype),{constructor:Mr,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.texture.image.width=t,this.texture.image.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Cr.prototype=Object.assign(Object.create(fn.prototype),{constructor:Cr,isCamera:!0,copy:function(t,e){return fn.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(t=new Be),this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){fn.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(t,e){fn.prototype.updateWorldMatrix.call(this,t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return(new this.constructor).copy(this)}}),Tr.prototype=Object.assign(Object.create(Cr.prototype),{constructor:Tr,isPerspectiveCamera:!0,copy:function(t,e){return Cr.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){const e=.5*this.getFilmHeight()/t;this.fov=2*me.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){const t=Math.tan(.5*me.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*me.RAD2DEG*Math.atan(Math.tan(.5*me.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,i,r,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const t=this.near;let e=t*Math.tan(.5*me.DEG2RAD*this.fov)/this.zoom,n=2*e,i=this.aspect*n,r=-.5*i;const o=this.view;if(null!==this.view&&this.view.enabled){const t=o.fullWidth,s=o.fullHeight;r+=o.offsetX*i/t,e-=o.offsetY*n/s,i*=o.width/t,n*=o.height/s}const s=this.filmOffset;0!==s&&(r+=t*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,e,e-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){const e=fn.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}});const Ar=90;function Lr(t,e,n){if(fn.call(this),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return;this.renderTarget=n;const i=new Tr(Ar,1,t,e);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Be(1,0,0)),this.add(i);const r=new Tr(Ar,1,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new Be(-1,0,0)),this.add(r);const o=new Tr(Ar,1,t,e);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new Be(0,1,0)),this.add(o);const s=new Tr(Ar,1,t,e);s.layers=this.layers,s.up.set(0,0,-1),s.lookAt(new Be(0,-1,0)),this.add(s);const a=new Tr(Ar,1,t,e);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new Be(0,0,1)),this.add(a);const c=new Tr(Ar,1,t,e);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new Be(0,0,-1)),this.add(c),this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();const l=t.xr.enabled,u=t.getRenderTarget();t.xr.enabled=!1;const h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(e,i),t.setRenderTarget(n,1),t.render(e,r),t.setRenderTarget(n,2),t.render(e,o),t.setRenderTarget(n,3),t.render(e,s),t.setRenderTarget(n,4),t.render(e,a),n.texture.generateMipmaps=h,t.setRenderTarget(n,5),t.render(e,c),t.setRenderTarget(u),t.xr.enabled=l}}function Er(t,e,n){Number.isInteger(e)&&(e=n),Mr.call(this,t,t,e),e=e||{},this.texture=new Ce(void 0,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture._needsFlipEnvMap=!1}function Rr(t){let e=new WeakMap;function n(t,e){return 303===e?t.mapping=301:304===e&&(t.mapping=302),t}function i(t){const n=t.target;n.removeEventListener("dispose",i);const r=e.get(n);void 0!==r&&(e.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){const o=r.mapping;if(303===o||304===o){if(e.has(r))return n(e.get(r).texture,r.mapping);{const o=r.image;if(o&&o.height>0){const s=t.getRenderList(),a=t.getRenderTarget(),c=new Er(o.height/2);return c.fromEquirectangularTexture(t,r),e.set(r,c),t.setRenderTarget(a),t.setRenderList(s),r.addEventListener("dispose",i),n(c.texture,r.mapping)}return null}}}return r},dispose:function(){e=new WeakMap}}}function Ir(t){const e={};return{has:function(n){if(void 0!==e[n])return null!==e[n];let i;switch(n){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(n)}return e[n]=i,null!==i},get:function(t){return this.has(t),e[t]}}}function Pr(t,e,n,i){const r=new WeakMap,o=new WeakMap;function s(t){const a=t.target,c=r.get(a);null!==c.index&&e.remove(c.index);for(const t in c.attributes)e.remove(c.attributes[t]);a.removeEventListener("dispose",s),r.delete(a);const l=o.get(c);l&&(e.remove(l),o.delete(c)),i.releaseStatesOfGeometry(c),!0===a.isInstancedBufferGeometry&&delete a._maxInstanceCount,n.memory.geometries--}function a(t){const n=[],i=t.index,r=t.attributes.position;let s=0;if(null!==i){const t=i.array;s=i.version;for(let e=0,i=t.length;e<i;e+=3){const i=t[e+0],r=t[e+1],o=t[e+2];n.push(i,r,r,o,o,i)}}else{const t=r.array;s=r.version;for(let e=0,i=t.length/3-1;e<i;e+=3){const t=e+0,i=e+1,r=e+2;n.push(t,i,i,r,r,t)}}const a=new(pi(n)>65535?ai:oi)(n,1);a.version=s;const c=o.get(t);c&&e.remove(c),o.set(t,a)}return{get:function(t,e){let i=r.get(e);return i||(e.addEventListener("dispose",s),e.isBufferGeometry?i=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new yi).setFromObject(t)),i=e._bufferGeometry),r.set(e,i),n.memory.geometries++,i)},update:function(n){const i=n.attributes;for(const n in i)e.update(i[n],t.ARRAY_BUFFER);const r=n.morphAttributes;for(const n in r){const i=r[n];for(let n=0,r=i.length;n<r;n++)e.update(i[n],t.ARRAY_BUFFER)}},getWireframeAttribute:function(t){const e=o.get(t);if(e){const n=t.index;null!==n&&e.version<n.version&&a(t)}else a(t);return o.get(t)}}}function Dr(t,e,n,i){const r=i.isWebGL2;let o,s,a;this.setMode=function(t){o=t},this.setIndex=function(t){s=t.type,a=t.bytesPerElement},this.render=function(e,i){t.drawElements(o,i,s,e*a),n.update(i,o,1)},this.renderInstances=function(i,c,l){if(0===l)return;let u,h;if(r)u=t,h="drawElementsInstanced";else if(u=e.get("ANGLE_instanced_arrays"),h="drawElementsInstancedANGLE",null===u)return;u[h](o,c,s,i*a,l),n.update(c,o,l)}}function kr(t){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(n,i,r){switch(e.calls++,i){case t.TRIANGLES:e.triangles+=r*(n/3);break;case t.LINES:e.lines+=r*(n/2);break;case t.LINE_STRIP:e.lines+=r*(n-1);break;case t.LINE_LOOP:e.lines+=r*n;break;case t.POINTS:e.points+=r*n}}}}function Or(t,e){return t[0]-e[0]}function Nr(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Fr(t){const e={},n=new Float32Array(8),i=[];for(let t=0;t<8;t++)i[t]=[t,0];return{update:function(r,o,s,a){const c=r.morphTargetInfluences,l=void 0===c?0:c.length;let u=e[o.id];if(void 0===u){u=[];for(let t=0;t<l;t++)u[t]=[t,0];e[o.id]=u}for(let t=0;t<l;t++){const e=u[t];e[0]=t,e[1]=c[t]}u.sort(Nr);for(let t=0;t<8;t++)t<l&&u[t][1]?(i[t][0]=u[t][0],i[t][1]=u[t][1]):(i[t][0]=Number.MAX_SAFE_INTEGER,i[t][1]=0);i.sort(Or);const h=s.morphTargets&&o.morphAttributes.position,p=s.morphNormals&&o.morphAttributes.normal;let f=0;for(let t=0;t<8;t++){const e=i[t],r=e[0],s=e[1];r!==Number.MAX_SAFE_INTEGER&&s?(h&&o.getAttribute("morphTarget"+t)!==h[r]&&o.setAttribute("morphTarget"+t,h[r]),p&&o.getAttribute("morphNormal"+t)!==p[r]&&o.setAttribute("morphNormal"+t,p[r]),n[t]=s,f+=s):(h&&!0===o.hasAttribute("morphTarget"+t)&&o.deleteAttribute("morphTarget"+t),p&&!0===o.hasAttribute("morphNormal"+t)&&o.deleteAttribute("morphNormal"+t),n[t]=0)}const d=o.morphTargetsRelative?1:1-f;a.getUniforms().setValue(t,"morphTargetBaseInfluence",d),a.getUniforms().setValue(t,"morphTargetInfluences",n)}}}function Br(t,e,n,i){let r=new WeakMap;function o(t){const e=t.target;e.removeEventListener("dispose",o),n.remove(e.instanceMatrix),null!==e.instanceColor&&n.remove(e.instanceColor)}return{update:function(s){const a=i.render.frame,c=s.geometry,l=e.get(s,c);return r.get(l)!==a&&(c.isGeometry&&l.updateFromObject(s),e.update(l),r.set(l,a)),s.isInstancedMesh&&(!1===s.hasEventListener("dispose",o)&&s.addEventListener("dispose",o),n.update(s.instanceMatrix,t.ARRAY_BUFFER),null!==s.instanceColor&&n.update(s.instanceColor,t.ARRAY_BUFFER)),l},dispose:function(){r=new WeakMap}}}function jr(t=null,e=1,n=1,i=1){Se.call(this,null),this.image={data:t,width:e,height:n,depth:i},this.magFilter=Wt,this.minFilter=Wt,this.wrapR=Gt,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function Ur(t=null,e=1,n=1,i=1){Se.call(this,null),this.image={data:t,width:e,height:n,depth:i},this.magFilter=Wt,this.minFilter=Wt,this.wrapR=Gt,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Lr.prototype=Object.create(fn.prototype),Lr.prototype.constructor=Lr,Er.prototype=Object.create(Mr.prototype),Er.prototype.constructor=Er,Er.prototype.isWebGLCubeRenderTarget=!0,Er.prototype.fromEquirectangularTexture=function(t,e){this.texture.type=e.type,this.texture.format=te,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t#include <project_vertex>\n\n\t\t\t}\n\t\t",fragmentShader:"\n\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t"},i=new xi(5,5,5),r=new Li({name:"CubemapFromEquirect",uniforms:Ci(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:1,blending:0});r.uniforms.tEquirect.value=e;const o=new fr(i,r),s=e.minFilter;return e.minFilter===Xt&&(e.minFilter=Ht),new Lr(1,10,this).update(t,o),e.minFilter=s,o.geometry.dispose(),o.material.dispose(),this},Er.prototype.clear=function(t,e,n,i){const r=t.getRenderTarget();for(let r=0;r<6;r++)t.setRenderTarget(this,r),t.clear(e,n,i);t.setRenderTarget(r)},jr.prototype=Object.create(Se.prototype),jr.prototype.constructor=jr,jr.prototype.isDataTexture2DArray=!0,Ur.prototype=Object.create(Se.prototype),Ur.prototype.constructor=Ur,Ur.prototype.isDataTexture3D=!0;const zr=new Se,Gr=new jr,Vr=new Ur,Wr=new Ce,Hr=[],Xr=[],qr=new Float32Array(16),Yr=new Float32Array(9),Zr=new Float32Array(4);function Jr(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let o=Hr[r];if(void 0===o&&(o=new Float32Array(r),Hr[r]=o),0!==e){i.toArray(o,0);for(let i=1,r=0;i!==e;++i)r+=n,t[i].toArray(o,r)}return o}function Kr(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function $r(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function Qr(t,e){let n=Xr[e];void 0===n&&(n=new Int32Array(e),Xr[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function to(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function eo(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Kr(n,e))return;t.uniform2fv(this.addr,e),$r(n,e)}}function no(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Kr(n,e))return;t.uniform3fv(this.addr,e),$r(n,e)}}function io(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Kr(n,e))return;t.uniform4fv(this.addr,e),$r(n,e)}}function ro(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(Kr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),$r(n,e)}else{if(Kr(n,i))return;Zr.set(i),t.uniformMatrix2fv(this.addr,!1,Zr),$r(n,i)}}function oo(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(Kr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),$r(n,e)}else{if(Kr(n,i))return;Yr.set(i),t.uniformMatrix3fv(this.addr,!1,Yr),$r(n,i)}}function so(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(Kr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),$r(n,e)}else{if(Kr(n,i))return;qr.set(i),t.uniformMatrix4fv(this.addr,!1,qr),$r(n,i)}}function ao(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(e||zr,r)}function co(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||Gr,r)}function lo(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||Vr,r)}function uo(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(e||Wr,r)}function ho(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function po(t,e){const n=this.cache;Kr(n,e)||(t.uniform2iv(this.addr,e),$r(n,e))}function fo(t,e){const n=this.cache;Kr(n,e)||(t.uniform3iv(this.addr,e),$r(n,e))}function _o(t,e){const n=this.cache;Kr(n,e)||(t.uniform4iv(this.addr,e),$r(n,e))}function mo(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function go(t,e){t.uniform1fv(this.addr,e)}function bo(t,e){t.uniform1iv(this.addr,e)}function vo(t,e){t.uniform2iv(this.addr,e)}function yo(t,e){t.uniform3iv(this.addr,e)}function xo(t,e){t.uniform4iv(this.addr,e)}function wo(t,e){const n=Jr(e,this.size,2);t.uniform2fv(this.addr,n)}function So(t,e){const n=Jr(e,this.size,3);t.uniform3fv(this.addr,n)}function Mo(t,e){const n=Jr(e,this.size,4);t.uniform4fv(this.addr,n)}function Co(t,e){const n=Jr(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function To(t,e){const n=Jr(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Ao(t,e){const n=Jr(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Lo(t,e,n){const i=e.length,r=Qr(n,i);t.uniform1iv(this.addr,r);for(let t=0;t!==i;++t)n.safeSetTexture2D(e[t]||zr,r[t])}function Eo(t,e,n){const i=e.length,r=Qr(n,i);t.uniform1iv(this.addr,r);for(let t=0;t!==i;++t)n.safeSetTextureCube(e[t]||Wr,r[t])}function Ro(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function(t){switch(t){case 5126:return to;case 35664:return eo;case 35665:return no;case 35666:return io;case 35674:return ro;case 35675:return oo;case 35676:return so;case 5124:case 35670:return ho;case 35667:case 35671:return po;case 35668:case 35672:return fo;case 35669:case 35673:return _o;case 5125:return mo;case 35678:case 36198:case 36298:case 36306:case 35682:return ao;case 35679:case 36299:case 36307:return lo;case 35680:case 36300:case 36308:case 36293:return uo;case 36289:case 36303:case 36311:case 36292:return co}}(e.type)}function Io(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return go;case 35664:return wo;case 35665:return So;case 35666:return Mo;case 35674:return Co;case 35675:return To;case 35676:return Ao;case 5124:case 35670:return bo;case 35667:case 35671:return vo;case 35668:case 35672:return yo;case 35669:case 35673:return xo;case 35678:case 36198:case 36298:case 36306:case 35682:return Lo;case 35680:case 36300:case 36308:case 36293:return Eo}}(e.type)}function Po(t){this.id=t,this.seq=[],this.map={}}Io.prototype.updateCache=function(t){const e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),$r(e,t)},Po.prototype.setValue=function(t,e,n){const i=this.seq;for(let r=0,o=i.length;r!==o;++r){const o=i[r];o.setValue(t,e[o.id],n)}};const Do=/(\w+)(\])?(\[|\.)?/g;function ko(t,e){t.seq.push(e),t.map[e.id]=e}function Oo(t,e,n){const i=t.name,r=i.length;for(Do.lastIndex=0;;){const o=Do.exec(i),s=Do.lastIndex;let a=o[1];const c="]"===o[2],l=o[3];if(c&&(a|=0),void 0===l||"["===l&&s+2===r){ko(n,void 0===l?new Ro(a,t,e):new Io(a,t,e));break}{let t=n.map[a];void 0===t&&(t=new Po(a),ko(n,t)),n=t}}}function No(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let i=0;i<n;++i){const n=t.getActiveUniform(e,i);Oo(n,t.getUniformLocation(e,n.name),this)}}function Fo(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}No.prototype.setValue=function(t,e,n,i){const r=this.map[e];void 0!==r&&r.setValue(t,n,i)},No.prototype.setOptional=function(t,e,n){const i=e[n];void 0!==i&&this.setValue(t,n,i)},No.upload=function(t,e,n,i){for(let r=0,o=e.length;r!==o;++r){const o=e[r],s=n[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,i)}},No.seqWithValue=function(t,e){const n=[];for(let i=0,r=t.length;i!==r;++i){const r=t[i];r.id in e&&n.push(r)}return n};let Bo=0;function jo(t){switch(t){case he:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return["Linear","( value )"]}}function Uo(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),r=t.getShaderInfoLog(e).trim();return i&&""===r?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+r+function(t){const e=t.split("\n");for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join("\n")}(t.getShaderSource(e))}function zo(t,e){const n=jo(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Go(t,e){const n=jo(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Vo(t,e){let n;switch(e){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Wo(t){return""!==t}function Ho(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Xo(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const qo=/^[ \t]*#include +<([\w\d./]+)>/gm;function Yo(t){return t.replace(qo,Zo)}function Zo(t,e){const n=mr[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return Yo(n)}const Jo=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Ko=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function $o(t){return t.replace(Ko,ts).replace(Jo,Qo)}function Qo(t,e,n,i){return ts(0,e,n,i)}function ts(t,e,n,i){let r="";for(let t=parseInt(e);t<parseInt(n);t++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+t+" ]").replace(/UNROLLED_LOOP_INDEX/g,t);return r}function es(t){let e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function ns(t,e,n,i){const r=t.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const c=function(t){let e="SHADOWMAP_TYPE_BASIC";return 1===t.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===t.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===t.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(n),l=function(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:case 307:e="ENVMAP_TYPE_CUBE_UV"}return e}(n),u=function(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case 302:case 307:e="ENVMAP_MODE_REFRACTION"}return e}(n),h=function(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(n),p=t.gammaFactor>0?t.gammaFactor:1,f=n.isWebGL2?"":function(t){return[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Wo).join("\n")}(n),d=function(t){const e=[];for(const n in t){const i=t[n];!1!==i&&e.push("#define "+n+" "+i)}return e.join("\n")}(o),_=r.createProgram();let m,g,b=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(m=[d].filter(Wo).join("\n"),m.length>0&&(m+="\n"),g=[f,d].filter(Wo).join("\n"),g.length>0&&(g+="\n")):(m=[es(n),"#define SHADER_NAME "+n.shaderName,d,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+p,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Wo).join("\n"),g=[f,es(n),"#define SHADER_NAME "+n.shaderName,d,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+l:"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?mr.tonemapping_pars_fragment:"",0!==n.toneMapping?Vo("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",mr.encodings_pars_fragment,n.map?zo("mapTexelToLinear",n.mapEncoding):"",n.matcap?zo("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?zo("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?zo("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?zo("lightMapTexelToLinear",n.lightMapEncoding):"",Go("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Wo).join("\n")),s=Yo(s),s=Ho(s,n),s=Xo(s,n),a=Yo(a),a=Ho(a,n),a=Xo(a,n),s=$o(s),a=$o(a),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(b="#version 300 es\n",m=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+m,g=["#define varying in",n.glslVersion===fe?"":"out highp vec4 pc_fragColor;",n.glslVersion===fe?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+g);const v=b+m+s,y=b+g+a,x=Fo(r,r.VERTEX_SHADER,v),w=Fo(r,r.FRAGMENT_SHADER,y);if(r.attachShader(_,x),r.attachShader(_,w),void 0!==n.index0AttributeName?r.bindAttribLocation(_,0,n.index0AttributeName):!0===n.morphTargets&&r.bindAttribLocation(_,0,"position"),r.linkProgram(_),t.debug.checkShaderErrors){const t=r.getProgramInfoLog(_).trim(),e=r.getShaderInfoLog(x).trim(),n=r.getShaderInfoLog(w).trim();let i=!0,o=!0;!1===r.getProgramParameter(_,r.LINK_STATUS)?(i=!1,Uo(r,x,"vertex"),Uo(r,w,"fragment")):""!==t||""!==e&&""!==n||(o=!1),o&&(this.diagnostics={runnable:i,programLog:t,vertexShader:{log:e,prefix:m},fragmentShader:{log:n,prefix:g}})}let S,M;return r.deleteShader(x),r.deleteShader(w),this.getUniforms=function(){return void 0===S&&(S=new No(r,_)),S},this.getAttributes=function(){return void 0===M&&(M=function(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const i=t.getActiveAttrib(e,r).name;n[i]=t.getAttribLocation(e,i)}return n}(r,_)),M},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(_),this.program=void 0},this.name=n.shaderName,this.id=Bo++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=x,this.fragmentShader=w,this}function is(t,e,n,i,r,o){const s=[],a=i.isWebGL2,c=i.logarithmicDepthBuffer,l=i.floatVertexTextures,u=i.maxVertexUniforms,h=i.vertexTextures;let p=i.precision;const f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},d=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function _(t){let e;return e=t&&t.isTexture?t.encoding:t&&t.isWebGLRenderTarget?t.texture.encoding:he,e}return{getParameters:function(r,s,d,m,g){const b=m.fog,v=r.isMeshStandardMaterial?m.environment:null,y=e.get(r.envMap||v),x=f[r.type],w=g.isSkinnedMesh?function(t){const e=t.skeleton.bones;if(l)return 1024;{const t=u,n=Math.floor((t-20)/4),i=Math.min(n,e.length);return i<e.length?0:i}}(g):0;let S,M;if(null!==r.precision&&(p=i.getMaxPrecision(r.precision),r.precision),x){const t=br[x];S=t.vertexShader,M=t.fragmentShader}else S=r.vertexShader,M=r.fragmentShader;const C=t.getRenderTarget();return{isWebGL2:a,shaderID:x,shaderName:r.type,vertexShader:S,fragmentShader:M,defines:r.defines,isRawShaderMaterial:!0===r.isRawShaderMaterial,glslVersion:r.glslVersion,precision:p,instancing:!0===g.isInstancedMesh,instancingColor:!0===g.isInstancedMesh&&null!==g.instanceColor,supportsVertexTextures:h,outputEncoding:null!==C?_(C.texture):t.outputEncoding,map:!!r.map,mapEncoding:_(r.map),matcap:!!r.matcap,matcapEncoding:_(r.matcap),envMap:!!y,envMapMode:y&&y.mapping,envMapEncoding:_(y),envMapCubeUV:!!y&&(306===y.mapping||307===y.mapping),lightMap:!!r.lightMap,lightMapEncoding:_(r.lightMap),aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:_(r.emissiveMap),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,objectSpaceNormalMap:1===r.normalMapType,tangentSpaceNormalMap:0===r.normalMapType,clearcoatMap:!!r.clearcoatMap,clearcoatRoughnessMap:!!r.clearcoatRoughnessMap,clearcoatNormalMap:!!r.clearcoatNormalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,gradientMap:!!r.gradientMap,sheen:!!r.sheen,transmissionMap:!!r.transmissionMap,combine:r.combine,vertexTangents:r.normalMap&&r.vertexTangents,vertexColors:r.vertexColors,vertexUvs:!!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatMap||r.clearcoatRoughnessMap||r.clearcoatNormalMap||r.displacementMap||r.transmissionMap),uvsVertexOnly:!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatNormalMap||r.transmissionMap||!r.displacementMap),fog:!!b,useFog:r.fog,fogExp2:b&&b.isFogExp2,flatShading:r.flatShading,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:c,skinning:r.skinning&&w>0,maxBones:w,useVertexTexture:l,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:r.dithering,shadowMapEnabled:t.shadowMap.enabled&&d.length>0,shadowMapType:t.shadowMap.type,toneMapping:r.toneMapped?t.toneMapping:0,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:2===r.side,flipSided:1===r.side,depthPacking:void 0!==r.depthPacking&&r.depthPacking,index0AttributeName:r.index0AttributeName,extensionDerivatives:r.extensions&&r.extensions.derivatives,extensionFragDepth:r.extensions&&r.extensions.fragDepth,extensionDrawBuffers:r.extensions&&r.extensions.drawBuffers,extensionShaderTextureLOD:r.extensions&&r.extensions.shaderTextureLOD,rendererExtensionFragDepth:a||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:a||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:a||n.has("EXT_shader_texture_lod"),customProgramCacheKey:r.customProgramCacheKey()}},getProgramCacheKey:function(e){const n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(const t in e.defines)n.push(t),n.push(e.defines[t]);if(!1===e.isRawShaderMaterial){for(let t=0;t<d.length;t++)n.push(e[d[t]]);n.push(t.outputEncoding),n.push(t.gammaFactor)}return n.push(e.customProgramCacheKey),n.join()},getUniforms:function(t){const e=f[t.type];let n;if(e){const t=br[e];n=Ai.clone(t.uniforms)}else n=t.uniforms;return n},acquireProgram:function(e,n){let i;for(let t=0,e=s.length;t<e;t++){const e=s[t];if(e.cacheKey===n){i=e,++i.usedTimes;break}}return void 0===i&&(i=new ns(t,n,e,r),s.push(i)),i},releaseProgram:function(t){if(0==--t.usedTimes){const e=s.indexOf(t);s[e]=s[s.length-1],s.pop(),t.destroy()}},programs:s}}function rs(){let t=new WeakMap;return{get:function(e){let n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n},remove:function(e){t.delete(e)},update:function(e,n,i){t.get(e)[n]=i},dispose:function(){t=new WeakMap}}}function os(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function ss(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function as(t){const e=[];let n=0;const i=[],r=[],o={id:-1};function s(i,r,s,a,c,l){let u=e[n];const h=t.get(s);return void 0===u?(u={id:i.id,object:i,geometry:r,material:s,program:h.program||o,groupOrder:a,renderOrder:i.renderOrder,z:c,group:l},e[n]=u):(u.id=i.id,u.object=i,u.geometry=r,u.material=s,u.program=h.program||o,u.groupOrder=a,u.renderOrder=i.renderOrder,u.z=c,u.group=l),n++,u}return{opaque:i,transparent:r,init:function(){n=0,i.length=0,r.length=0},push:function(t,e,n,o,a,c){const l=s(t,e,n,o,a,c);(!0===n.transparent?r:i).push(l)},unshift:function(t,e,n,o,a,c){const l=s(t,e,n,o,a,c);(!0===n.transparent?r:i).unshift(l)},finish:function(){for(let t=n,i=e.length;t<i;t++){const n=e[t];if(null===n.id)break;n.id=null,n.object=null,n.geometry=null,n.material=null,n.program=null,n.group=null}},sort:function(t,e){i.length>1&&i.sort(t||os),r.length>1&&r.sort(e||ss)}}}function cs(t){let e=new WeakMap;return{get:function(n,i){const r=e.get(n);let o;return void 0===r?(o=new as(t),e.set(n,new WeakMap),e.get(n).set(i,o)):(o=r.get(i),void 0===o&&(o=new as(t),r.set(i,o))),o},dispose:function(){e=new WeakMap}}}function ls(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Be,color:new yn};break;case"SpotLight":n={position:new Be,direction:new Be,color:new yn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Be,color:new yn,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Be,skyColor:new yn,groundColor:new yn};break;case"RectAreaLight":n={color:new yn,position:new Be,halfWidth:new Be,halfHeight:new Be}}return t[e.id]=n,n}}}let us=0;function hs(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function ps(t,e){const n=new ls,i=function(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ge};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ge,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let t=0;t<9;t++)r.probe.push(new Be);const o=new Be,s=new ze,a=new ze;return{setup:function(o){let s=0,a=0,c=0;for(let t=0;t<9;t++)r.probe[t].set(0,0,0);let l=0,u=0,h=0,p=0,f=0,d=0,_=0,m=0;o.sort(hs);for(let t=0,e=o.length;t<e;t++){const e=o[t],g=e.color,b=e.intensity,v=e.distance,y=e.shadow&&e.shadow.map?e.shadow.map.texture:null;if(e.isAmbientLight)s+=g.r*b,a+=g.g*b,c+=g.b*b;else if(e.isLightProbe)for(let t=0;t<9;t++)r.probe[t].addScaledVector(e.sh.coefficients[t],b);else if(e.isDirectionalLight){const t=n.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity),e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,r.directionalShadow[l]=n,r.directionalShadowMap[l]=y,r.directionalShadowMatrix[l]=e.shadow.matrix,d++}r.directional[l]=t,l++}else if(e.isSpotLight){const t=n.get(e);if(t.position.setFromMatrixPosition(e.matrixWorld),t.color.copy(g).multiplyScalar(b),t.distance=v,t.coneCos=Math.cos(e.angle),t.penumbraCos=Math.cos(e.angle*(1-e.penumbra)),t.decay=e.decay,e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,r.spotShadow[h]=n,r.spotShadowMap[h]=y,r.spotShadowMatrix[h]=e.shadow.matrix,m++}r.spot[h]=t,h++}else if(e.isRectAreaLight){const t=n.get(e);t.color.copy(g).multiplyScalar(b),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),r.rectArea[p]=t,p++}else if(e.isPointLight){const t=n.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity),t.distance=e.distance,t.decay=e.decay,e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,n.shadowCameraNear=t.camera.near,n.shadowCameraFar=t.camera.far,r.pointShadow[u]=n,r.pointShadowMap[u]=y,r.pointShadowMatrix[u]=e.shadow.matrix,_++}r.point[u]=t,u++}else if(e.isHemisphereLight){const t=n.get(e);t.skyColor.copy(e.color).multiplyScalar(b),t.groundColor.copy(e.groundColor).multiplyScalar(b),r.hemi[f]=t,f++}}p>0&&(e.isWebGL2||!0===t.has("OES_texture_float_linear")?(r.rectAreaLTC1=gr.LTC_FLOAT_1,r.rectAreaLTC2=gr.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")&&(r.rectAreaLTC1=gr.LTC_HALF_1,r.rectAreaLTC2=gr.LTC_HALF_2)),r.ambient[0]=s,r.ambient[1]=a,r.ambient[2]=c;const g=r.hash;g.directionalLength===l&&g.pointLength===u&&g.spotLength===h&&g.rectAreaLength===p&&g.hemiLength===f&&g.numDirectionalShadows===d&&g.numPointShadows===_&&g.numSpotShadows===m||(r.directional.length=l,r.spot.length=h,r.rectArea.length=p,r.point.length=u,r.hemi.length=f,r.directionalShadow.length=d,r.directionalShadowMap.length=d,r.pointShadow.length=_,r.pointShadowMap.length=_,r.spotShadow.length=m,r.spotShadowMap.length=m,r.directionalShadowMatrix.length=d,r.pointShadowMatrix.length=_,r.spotShadowMatrix.length=m,g.directionalLength=l,g.pointLength=u,g.spotLength=h,g.rectAreaLength=p,g.hemiLength=f,g.numDirectionalShadows=d,g.numPointShadows=_,g.numSpotShadows=m,r.version=us++)},setupView:function(t,e){let n=0,i=0,c=0,l=0,u=0;const h=e.matrixWorldInverse;for(let e=0,p=t.length;e<p;e++){const p=t[e];if(p.isDirectionalLight){const t=r.directional[n];t.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),t.direction.sub(o),t.direction.transformDirection(h),n++}else if(p.isSpotLight){const t=r.spot[c];t.position.setFromMatrixPosition(p.matrixWorld),t.position.applyMatrix4(h),t.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),t.direction.sub(o),t.direction.transformDirection(h),c++}else if(p.isRectAreaLight){const t=r.rectArea[l];t.position.setFromMatrixPosition(p.matrixWorld),t.position.applyMatrix4(h),a.identity(),s.copy(p.matrixWorld),s.premultiply(h),a.extractRotation(s),t.halfWidth.set(.5*p.width,0,0),t.halfHeight.set(0,.5*p.height,0),t.halfWidth.applyMatrix4(a),t.halfHeight.applyMatrix4(a),l++}else if(p.isPointLight){const t=r.point[i];t.position.setFromMatrixPosition(p.matrixWorld),t.position.applyMatrix4(h),i++}else if(p.isHemisphereLight){const t=r.hemi[u];t.direction.setFromMatrixPosition(p.matrixWorld),t.direction.transformDirection(h),t.direction.normalize(),u++}}},state:r}}function fs(t,e){const n=new ps(t,e),i=[],r=[];return{init:function(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:function(){n.setup(i)},setupLightsView:function(t){n.setupView(i,t)},pushLight:function(t){i.push(t)},pushShadow:function(t){r.push(t)}}}function ds(t,e){let n=new WeakMap;return{get:function(i,r=0){let o;return!1===n.has(i)?(o=new fs(t,e),n.set(i,[]),n.get(i).push(o)):r>=n.get(i).length?(o=new fs(t,e),n.get(i).push(o)):o=n.get(i)[r],o},dispose:function(){n=new WeakMap}}}function _s(t){Mi.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}function ms(t){Mi.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Be,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}function gs(t,e,n){let i=new Yn;const r=new ge,o=new ge,s=new Zn,a=[],c=[],l={},u={0:1,1:0,2:2},h=new Li({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new ge},radius:{value:4}},vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}\n",fragmentShader:"\nuniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n\n#include <packing>\n\nvoid main() {\n\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\n\t// This seems totally useless but it's a crazy work around for a Adreno compiler bug\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\n\t\t#ifdef HORIZONTAL_PASS\n\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\n\t\t#else\n\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\n\t\t#endif\n\n\t}\n\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n\n}\n"}),p=h.clone();p.defines.HORIZONTAL_PASS=1;const f=new yi;f.setAttribute("position",new ti(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const d=new fr(f,h),_=this;function m(n,i){const r=e.update(d);h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(i,null,r,h,d,null),p.uniforms.shadow_pass.value=n.mapPass.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(i,null,r,p,d,null)}function g(t,e,n){const i=t<<0|e<<1|n<<2;let r=a[i];return void 0===r&&(r=new _s({depthPacking:3201,morphTargets:t,skinning:e}),a[i]=r),r}function b(t,e,n){const i=t<<0|e<<1|n<<2;let r=c[i];return void 0===r&&(r=new ms({morphTargets:t,skinning:e}),c[i]=r),r}function v(e,n,i,r,o,s,a){let c=null,h=g,p=e.customDepthMaterial;if(!0===r.isPointLight&&(h=b,p=e.customDistanceMaterial),void 0===p){let t=!1;!0===i.morphTargets&&(t=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0);let r=!1;!0===e.isSkinnedMesh&&!0===i.skinning&&(r=!0),c=h(t,r,!0===e.isInstancedMesh)}else c=p;if(t.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){const t=c.uuid,e=i.uuid;let n=l[t];void 0===n&&(n={},l[t]=n);let r=n[e];void 0===r&&(r=c.clone(),n[e]=r),c=r}return c.visible=i.visible,c.wireframe=i.wireframe,c.side=3===a?null!==i.shadowSide?i.shadowSide:i.side:null!==i.shadowSide?i.shadowSide:u[i.side],c.clipShadows=i.clipShadows,c.clippingPlanes=i.clippingPlanes,c.clipIntersection=i.clipIntersection,c.wireframeLinewidth=i.wireframeLinewidth,c.linewidth=i.linewidth,!0===r.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(r.matrixWorld),c.nearDistance=o,c.farDistance=s),c}function y(n,r,o,s,a){if(!1===n.visible)return;if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===a)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const i=e.update(n),r=n.material;if(Array.isArray(r)){const e=i.groups;for(let c=0,l=e.length;c<l;c++){const l=e[c],u=r[l.materialIndex];if(u&&u.visible){const e=v(n,i,u,s,o.near,o.far,a);t.renderBufferDirect(o,null,i,e,n,l)}}}else if(r.visible){const e=v(n,i,r,s,o.near,o.far,a);t.renderBufferDirect(o,null,i,e,n,null)}}const c=n.children;for(let t=0,e=c.length;t<e;t++)y(c[t],r,o,s,a)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(e,a,c){if(!1===_.enabled)return;if(!1===_.autoUpdate&&!1===_.needsUpdate)return;if(0===e.length)return;const l=t.getRenderTarget(),u=t.getActiveCubeFace(),h=t.getActiveMipmapLevel(),p=t.state;p.setBlending(0),p.buffers.color.setClear(1,1,1,1),p.buffers.depth.setTest(!0),p.setScissorTest(!1);for(let l=0,u=e.length;l<u;l++){const u=e[l],h=u.shadow;if(void 0===h)continue;if(!1===h.autoUpdate&&!1===h.needsUpdate)continue;r.copy(h.mapSize);const f=h.getFrameExtents();if(r.multiply(f),o.copy(h.mapSize),(r.x>n||r.y>n)&&(r.x>n&&(o.x=Math.floor(n/f.x),r.x=o.x*f.x,h.mapSize.x=o.x),r.y>n&&(o.y=Math.floor(n/f.y),r.y=o.y*f.y,h.mapSize.y=o.y)),null===h.map&&!h.isPointLightShadow&&3===this.type){const t={minFilter:Ht,magFilter:Ht,format:te};h.map=new Mr(r.x,r.y,t),h.map.texture.name=u.name+".shadowMap",h.mapPass=new Mr(r.x,r.y,t),h.camera.updateProjectionMatrix()}if(null===h.map){const t={minFilter:Wt,magFilter:Wt,format:te};h.map=new Mr(r.x,r.y,t),h.map.texture.name=u.name+".shadowMap",h.camera.updateProjectionMatrix()}t.setRenderTarget(h.map),t.clear();const d=h.getViewportCount();for(let t=0;t<d;t++){const e=h.getViewport(t);s.set(o.x*e.x,o.y*e.y,o.x*e.z,o.y*e.w),p.viewport(s),h.updateMatrices(u,t),i=h.getFrustum(),y(a,c,h.camera,u,this.type)}h.isPointLightShadow||3!==this.type||m(h,c),h.needsUpdate=!1}_.needsUpdate=!1,t.setRenderTarget(l,u,h)}}function bs(t,e,n){const i=n.isWebGL2,r=new function(){let e=!1;const n=new Zn;let i=null;const r=new Zn(0,0,0,0);return{setMask:function(n){i===n||e||(t.colorMask(n,n,n,n),i=n)},setLocked:function(t){e=t},setClear:function(e,i,o,s,a){!0===a&&(e*=s,i*=s,o*=s),n.set(e,i,o,s),!1===r.equals(n)&&(t.clearColor(e,i,o,s),r.copy(n))},reset:function(){e=!1,i=null,r.set(-1,0,0,0)}}},o=new function(){let e=!1,n=null,i=null,r=null;return{setTest:function(e){e?D(t.DEPTH_TEST):k(t.DEPTH_TEST)},setMask:function(i){n===i||e||(t.depthMask(i),n=i)},setFunc:function(e){if(i!==e){if(e)switch(e){case 0:t.depthFunc(t.NEVER);break;case 1:t.depthFunc(t.ALWAYS);break;case 2:t.depthFunc(t.LESS);break;case 3:t.depthFunc(t.LEQUAL);break;case 4:t.depthFunc(t.EQUAL);break;case 5:t.depthFunc(t.GEQUAL);break;case 6:t.depthFunc(t.GREATER);break;case 7:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);i=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,n=null,i=null,r=null}}},s=new function(){let e=!1,n=null,i=null,r=null,o=null,s=null,a=null,c=null,l=null;return{setTest:function(n){e||(n?D(t.STENCIL_TEST):k(t.STENCIL_TEST))},setMask:function(i){n===i||e||(t.stencilMask(i),n=i)},setFunc:function(e,n,s){i===e&&r===n&&o===s||(t.stencilFunc(e,n,s),i=e,r=n,o=s)},setOp:function(e,n,i){s===e&&a===n&&c===i||(t.stencilOp(e,n,i),s=e,a=n,c=i)},setLocked:function(t){e=t},setClear:function(e){l!==e&&(t.clearStencil(e),l=e)},reset:function(){e=!1,n=null,i=null,r=null,o=null,s=null,a=null,c=null,l=null}}};let a={},c=null,l=null,u=null,h=null,p=null,f=null,d=null,_=null,m=null,g=!1,b=null,v=null,y=null,x=null,w=null;const S=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let M=!1,C=0;const T=t.getParameter(t.VERSION);-1!==T.indexOf("WebGL")?(C=parseFloat(/^WebGL (\d)/.exec(T)[1]),M=C>=1):-1!==T.indexOf("OpenGL ES")&&(C=parseFloat(/^OpenGL ES (\d)/.exec(T)[1]),M=C>=2);let A=null,L={};const E=new Zn,R=new Zn;function I(e,n,i){const r=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let e=0;e<i;e++)t.texImage2D(n+e,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,r);return o}const P={};function D(e){!0!==a[e]&&(t.enable(e),a[e]=!0)}function k(e){!1!==a[e]&&(t.disable(e),a[e]=!1)}P[t.TEXTURE_2D]=I(t.TEXTURE_2D,t.TEXTURE_2D,1),P[t.TEXTURE_CUBE_MAP]=I(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r.setClear(0,0,0,1),o.setClear(1),s.setClear(0),D(t.DEPTH_TEST),o.setFunc(3),B(!1),j(1),D(t.CULL_FACE),F(0);const O={[Ut]:t.FUNC_ADD,101:t.FUNC_SUBTRACT,102:t.FUNC_REVERSE_SUBTRACT};if(i)O[103]=t.MIN,O[104]=t.MAX;else{const t=e.get("EXT_blend_minmax");null!==t&&(O[103]=t.MIN_EXT,O[104]=t.MAX_EXT)}const N={200:t.ZERO,201:t.ONE,202:t.SRC_COLOR,204:t.SRC_ALPHA,210:t.SRC_ALPHA_SATURATE,208:t.DST_COLOR,206:t.DST_ALPHA,203:t.ONE_MINUS_SRC_COLOR,205:t.ONE_MINUS_SRC_ALPHA,209:t.ONE_MINUS_DST_COLOR,207:t.ONE_MINUS_DST_ALPHA};function F(e,n,i,r,o,s,a,c){if(0!==e){if(l||(D(t.BLEND),l=!0),5===e)o=o||n,s=s||i,a=a||r,n===h&&o===d||(t.blendEquationSeparate(O[n],O[o]),h=n,d=o),i===p&&r===f&&s===_&&a===m||(t.blendFuncSeparate(N[i],N[r],N[s],N[a]),p=i,f=r,_=s,m=a),u=e,g=null;else if(e!==u||c!==g){if(h===Ut&&d===Ut||(t.blendEquation(t.FUNC_ADD),h=Ut,d=Ut),c)switch(e){case 1:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case 2:t.blendFunc(t.ONE,t.ONE);break;case 3:t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA);break;case 4:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)}else switch(e){case 1:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case 2:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case 3:t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR);break;case 4:t.blendFunc(t.ZERO,t.SRC_COLOR)}p=null,f=null,_=null,m=null,u=e,g=c}}else l&&(k(t.BLEND),l=!1)}function B(e){b!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),b=e)}function j(e){0!==e?(D(t.CULL_FACE),e!==v&&(1===e?t.cullFace(t.BACK):2===e?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):k(t.CULL_FACE),v=e}function U(e,n,i){e?(D(t.POLYGON_OFFSET_FILL),x===n&&w===i||(t.polygonOffset(n,i),x=n,w=i)):k(t.POLYGON_OFFSET_FILL)}function z(e){void 0===e&&(e=t.TEXTURE0+S-1),A!==e&&(t.activeTexture(e),A=e)}return{buffers:{color:r,depth:o,stencil:s},enable:D,disable:k,useProgram:function(e){return c!==e&&(t.useProgram(e),c=e,!0)},setBlending:F,setMaterial:function(e,n){2===e.side?k(t.CULL_FACE):D(t.CULL_FACE);let i=1===e.side;n&&(i=!i),B(i),1===e.blending&&!1===e.transparent?F(0):F(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),o.setFunc(e.depthFunc),o.setTest(e.depthTest),o.setMask(e.depthWrite),r.setMask(e.colorWrite);const a=e.stencilWrite;s.setTest(a),a&&(s.setMask(e.stencilWriteMask),s.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),s.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),U(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:B,setCullFace:j,setLineWidth:function(e){e!==y&&(M&&t.lineWidth(e),y=e)},setPolygonOffset:U,setScissorTest:function(e){e?D(t.SCISSOR_TEST):k(t.SCISSOR_TEST)},activeTexture:z,bindTexture:function(e,n){null===A&&z();let i=L[A];void 0===i&&(i={type:void 0,texture:void 0},L[A]=i),i.type===e&&i.texture===n||(t.bindTexture(e,n||P[e]),i.type=e,i.texture=n)},unbindTexture:function(){const e=L[A];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){}},scissor:function(e){!1===E.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),E.copy(e))},viewport:function(e){!1===R.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),R.copy(e))},reset:function(){a={},A=null,L={},c=null,l=null,u=null,h=null,p=null,f=null,d=null,_=null,m=null,g=!1,b=null,v=null,y=null,x=null,w=null,r.reset(),o.reset(),s.reset()}}}function vs(t,e,n,i,r,o,s){const a=r.isWebGL2,c=(r.maxTextures,r.maxCubemapSize),l=r.maxTextureSize,u=r.maxSamples,h=new WeakMap;let p,f=!1;try{f="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(t){}function d(t,e){return f?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function _(t,e,n,i){let r=1;if((t.width>i||t.height>i)&&(r=i/Math.max(t.width,t.height)),r<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){const i=e?me.floorPowerOfTwo:Math.floor,o=i(r*t.width),s=i(r*t.height);void 0===p&&(p=d(o,s));const a=n?d(o,s):p;return a.width=o,a.height=s,a.getContext("2d").drawImage(t,0,0,o,s),a}return t}return t}function m(t){return me.isPowerOfTwo(t.width)&&me.isPowerOfTwo(t.height)}function g(t,e){return t.generateMipmaps&&e&&t.minFilter!==Wt&&t.minFilter!==Ht}function b(e,n,r,o){t.generateMipmap(e),i.get(n).__maxMipLevel=Math.log(Math.max(r,o))*Math.LOG2E}function v(n,i,r){if(!1===a)return i;if(null!==n&&void 0!==t[n])return t[n];let o=i;return i===t.RED&&(r===t.FLOAT&&(o=t.R32F),r===t.HALF_FLOAT&&(o=t.R16F),r===t.UNSIGNED_BYTE&&(o=t.R8)),i===t.RGB&&(r===t.FLOAT&&(o=t.RGB32F),r===t.HALF_FLOAT&&(o=t.RGB16F),r===t.UNSIGNED_BYTE&&(o=t.RGB8)),i===t.RGBA&&(r===t.FLOAT&&(o=t.RGBA32F),r===t.HALF_FLOAT&&(o=t.RGBA16F),r===t.UNSIGNED_BYTE&&(o=t.RGBA8)),o!==t.R16F&&o!==t.R32F&&o!==t.RGBA16F&&o!==t.RGBA32F||e.get("EXT_color_buffer_float"),o}function y(e){return e===Wt||1004===e||1005===e?t.NEAREST:t.LINEAR}function x(e){const n=e.target;n.removeEventListener("dispose",x),function(e){const n=i.get(e);void 0!==n.__webglInit&&(t.deleteTexture(n.__webglTexture),i.remove(e))}(n),n.isVideoTexture&&h.delete(n),s.memory.textures--}function w(e){const n=e.target;n.removeEventListener("dispose",w),function(e){const n=i.get(e),r=i.get(e.texture);if(e){if(void 0!==r.__webglTexture&&t.deleteTexture(r.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLCubeRenderTarget)for(let e=0;e<6;e++)t.deleteFramebuffer(n.__webglFramebuffer[e]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[e]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&t.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer&&t.deleteRenderbuffer(n.__webglColorRenderbuffer),n.__webglDepthRenderbuffer&&t.deleteRenderbuffer(n.__webglDepthRenderbuffer);i.remove(e.texture),i.remove(e)}}(n),s.memory.textures--}let S=0;function M(e,r){const o=i.get(e);if(e.isVideoTexture&&function(t){const e=s.render.frame;h.get(t)!==e&&(h.set(t,e),t.update())}(e),e.version>0&&o.__version!==e.version){const t=e.image;if(void 0===t);else if(!1!==t.complete)return void R(o,e,r)}n.activeTexture(t.TEXTURE0+r),n.bindTexture(t.TEXTURE_2D,o.__webglTexture)}function C(e,r){const s=i.get(e);e.version>0&&s.__version!==e.version?function(e,i,r){if(6!==i.image.length)return;E(e,i),n.activeTexture(t.TEXTURE0+r),n.bindTexture(t.TEXTURE_CUBE_MAP,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,i.flipY);const s=i&&(i.isCompressedTexture||i.image[0].isCompressedTexture),l=i.image[0]&&i.image[0].isDataTexture,u=[];for(let t=0;t<6;t++)u[t]=s||l?l?i.image[t].image:i.image[t]:_(i.image[t],!1,!0,c);const h=u[0],p=m(h)||a,f=o.convert(i.format),d=o.convert(i.type),y=v(i.internalFormat,f,d);let x;if(L(t.TEXTURE_CUBE_MAP,i,p),s){for(let e=0;e<6;e++){x=u[e].mipmaps;for(let r=0;r<x.length;r++){const o=x[r];i.format!==te&&i.format!==Qt?null!==f&&n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r,y,o.width,o.height,0,o.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r,y,o.width,o.height,0,f,d,o.data)}}e.__maxMipLevel=x.length-1}else{x=i.mipmaps;for(let e=0;e<6;e++)if(l){n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,y,u[e].width,u[e].height,0,f,d,u[e].data);for(let i=0;i<x.length;i++){const r=x[i].image[e].image;n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,i+1,y,r.width,r.height,0,f,d,r.data)}}else{n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,y,f,d,u[e]);for(let i=0;i<x.length;i++){const r=x[i];n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,i+1,y,f,d,r.image[e])}}e.__maxMipLevel=x.length}g(i,p)&&b(t.TEXTURE_CUBE_MAP,i,h.width,h.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}(s,e,r):(n.activeTexture(t.TEXTURE0+r),n.bindTexture(t.TEXTURE_CUBE_MAP,s.__webglTexture))}const T={[zt]:t.REPEAT,[Gt]:t.CLAMP_TO_EDGE,[Vt]:t.MIRRORED_REPEAT},A={[Wt]:t.NEAREST,1004:t.NEAREST_MIPMAP_NEAREST,1005:t.NEAREST_MIPMAP_LINEAR,[Ht]:t.LINEAR,1007:t.LINEAR_MIPMAP_NEAREST,[Xt]:t.LINEAR_MIPMAP_LINEAR};function L(n,o,s){s?(t.texParameteri(n,t.TEXTURE_WRAP_S,T[o.wrapS]),t.texParameteri(n,t.TEXTURE_WRAP_T,T[o.wrapT]),n!==t.TEXTURE_3D&&n!==t.TEXTURE_2D_ARRAY||t.texParameteri(n,t.TEXTURE_WRAP_R,T[o.wrapR]),t.texParameteri(n,t.TEXTURE_MAG_FILTER,A[o.magFilter]),t.texParameteri(n,t.TEXTURE_MIN_FILTER,A[o.minFilter])):(t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),n!==t.TEXTURE_3D&&n!==t.TEXTURE_2D_ARRAY||t.texParameteri(n,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),o.wrapS!==Gt||o.wrapT,t.texParameteri(n,t.TEXTURE_MAG_FILTER,y(o.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,y(o.minFilter)),o.minFilter!==Wt&&o.minFilter);const c=e.get("EXT_texture_filter_anisotropic");if(c){if(o.type===Jt&&null===e.get("OES_texture_float_linear"))return;if(o.type===Kt&&null===(a||e.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||i.get(o).__currentAnisotropy)&&(t.texParameterf(n,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),i.get(o).__currentAnisotropy=o.anisotropy)}}function E(e,n){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",x),e.__webglTexture=t.createTexture(),s.memory.textures++)}function R(e,i,r){let s=t.TEXTURE_2D;i.isDataTexture2DArray&&(s=t.TEXTURE_2D_ARRAY),i.isDataTexture3D&&(s=t.TEXTURE_3D),E(e,i),n.activeTexture(t.TEXTURE0+r),n.bindTexture(s,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,i.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,i.unpackAlignment);const c=function(t){return!a&&(t.wrapS!==Gt||t.wrapT!==Gt||t.minFilter!==Wt&&t.minFilter!==Ht)}(i)&&!1===m(i.image),u=_(i.image,c,!1,l),h=m(u)||a,p=o.convert(i.format);let f,d=o.convert(i.type),y=v(i.internalFormat,p,d);L(s,i,h);const x=i.mipmaps;if(i.isDepthTexture)y=t.DEPTH_COMPONENT,a?y=i.type===Jt?t.DEPTH_COMPONENT32F:i.type===Zt?t.DEPTH_COMPONENT24:i.type===$t?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT16:i.type,i.format===ee&&y===t.DEPTH_COMPONENT&&i.type!==Yt&&i.type!==Zt&&(i.type=Yt,d=o.convert(i.type)),i.format===ne&&y===t.DEPTH_COMPONENT&&(y=t.DEPTH_STENCIL,i.type!==$t&&(i.type=$t,d=o.convert(i.type))),n.texImage2D(t.TEXTURE_2D,0,y,u.width,u.height,0,p,d,null);else if(i.isDataTexture)if(x.length>0&&h){for(let e=0,i=x.length;e<i;e++)f=x[e],n.texImage2D(t.TEXTURE_2D,e,y,f.width,f.height,0,p,d,f.data);i.generateMipmaps=!1,e.__maxMipLevel=x.length-1}else n.texImage2D(t.TEXTURE_2D,0,y,u.width,u.height,0,p,d,u.data),e.__maxMipLevel=0;else if(i.isCompressedTexture){for(let e=0,r=x.length;e<r;e++)f=x[e],i.format!==te&&i.format!==Qt?null!==p&&n.compressedTexImage2D(t.TEXTURE_2D,e,y,f.width,f.height,0,f.data):n.texImage2D(t.TEXTURE_2D,e,y,f.width,f.height,0,p,d,f.data);e.__maxMipLevel=x.length-1}else if(i.isDataTexture2DArray)n.texImage3D(t.TEXTURE_2D_ARRAY,0,y,u.width,u.height,u.depth,0,p,d,u.data),e.__maxMipLevel=0;else if(i.isDataTexture3D)n.texImage3D(t.TEXTURE_3D,0,y,u.width,u.height,u.depth,0,p,d,u.data),e.__maxMipLevel=0;else if(x.length>0&&h){for(let e=0,i=x.length;e<i;e++)f=x[e],n.texImage2D(t.TEXTURE_2D,e,y,p,d,f);i.generateMipmaps=!1,e.__maxMipLevel=x.length-1}else n.texImage2D(t.TEXTURE_2D,0,y,p,d,u),e.__maxMipLevel=0;g(i,h)&&b(s,i,u.width,u.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}function I(e,r,s,a){const c=o.convert(r.texture.format),l=o.convert(r.texture.type),u=v(r.texture.internalFormat,c,l);n.texImage2D(a,0,u,r.width,r.height,0,c,l,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,s,a,i.get(r.texture).__webglTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}function P(e,n,i){if(t.bindRenderbuffer(t.RENDERBUFFER,e),n.depthBuffer&&!n.stencilBuffer){let r=t.DEPTH_COMPONENT16;if(i){const e=n.depthTexture;e&&e.isDepthTexture&&(e.type===Jt?r=t.DEPTH_COMPONENT32F:e.type===Zt&&(r=t.DEPTH_COMPONENT24));const i=k(n);t.renderbufferStorageMultisample(t.RENDERBUFFER,i,r,n.width,n.height)}else t.renderbufferStorage(t.RENDERBUFFER,r,n.width,n.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)}else if(n.depthBuffer&&n.stencilBuffer){if(i){const e=k(n);t.renderbufferStorageMultisample(t.RENDERBUFFER,e,t.DEPTH24_STENCIL8,n.width,n.height)}else t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,n.width,n.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)}else{const e=o.convert(n.texture.format),r=o.convert(n.texture.type),s=v(n.texture.internalFormat,e,r);if(i){const e=k(n);t.renderbufferStorageMultisample(t.RENDERBUFFER,e,s,n.width,n.height)}else t.renderbufferStorage(t.RENDERBUFFER,s,n.width,n.height)}t.bindRenderbuffer(t.RENDERBUFFER,null)}function D(e){const n=i.get(e),r=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(t.FRAMEBUFFER,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),M(n.depthTexture,0);const r=i.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===ee)t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,r,0);else{if(n.depthTexture.format!==ne)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,r,0)}}(n.__webglFramebuffer,e)}else if(r){n.__webglDepthbuffer=[];for(let i=0;i<6;i++)t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer[i]),n.__webglDepthbuffer[i]=t.createRenderbuffer(),P(n.__webglDepthbuffer[i],e,!1)}else t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),P(n.__webglDepthbuffer,e,!1);t.bindFramebuffer(t.FRAMEBUFFER,null)}function k(t){return a&&t.isWebGLMultisampleRenderTarget?Math.min(u,t.samples):0}let O=!1,N=!1;this.allocateTextureUnit=function(){const t=S;return S+=1,t},this.resetTextureUnits=function(){S=0},this.setTexture2D=M,this.setTexture2DArray=function(e,r){const o=i.get(e);e.version>0&&o.__version!==e.version?R(o,e,r):(n.activeTexture(t.TEXTURE0+r),n.bindTexture(t.TEXTURE_2D_ARRAY,o.__webglTexture))},this.setTexture3D=function(e,r){const o=i.get(e);e.version>0&&o.__version!==e.version?R(o,e,r):(n.activeTexture(t.TEXTURE0+r),n.bindTexture(t.TEXTURE_3D,o.__webglTexture))},this.setTextureCube=C,this.setupRenderTarget=function(e){const r=i.get(e),c=i.get(e.texture);e.addEventListener("dispose",w),c.__webglTexture=t.createTexture(),s.memory.textures++;const l=!0===e.isWebGLCubeRenderTarget,u=!0===e.isWebGLMultisampleRenderTarget,h=m(e)||a;if(!a||e.texture.format!==Qt||e.texture.type!==Jt&&e.texture.type!==Kt||(e.texture.format=te),l){r.__webglFramebuffer=[];for(let e=0;e<6;e++)r.__webglFramebuffer[e]=t.createFramebuffer()}else if(r.__webglFramebuffer=t.createFramebuffer(),u&&a){r.__webglMultisampledFramebuffer=t.createFramebuffer(),r.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,r.__webglColorRenderbuffer);const n=o.convert(e.texture.format),i=o.convert(e.texture.type),s=v(e.texture.internalFormat,n,i),a=k(e);t.renderbufferStorageMultisample(t.RENDERBUFFER,a,s,e.width,e.height),t.bindFramebuffer(t.FRAMEBUFFER,r.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,r.__webglColorRenderbuffer),t.bindRenderbuffer(t.RENDERBUFFER,null),e.depthBuffer&&(r.__webglDepthRenderbuffer=t.createRenderbuffer(),P(r.__webglDepthRenderbuffer,e,!0)),t.bindFramebuffer(t.FRAMEBUFFER,null)}if(l){n.bindTexture(t.TEXTURE_CUBE_MAP,c.__webglTexture),L(t.TEXTURE_CUBE_MAP,e.texture,h);for(let n=0;n<6;n++)I(r.__webglFramebuffer[n],e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+n);g(e.texture,h)&&b(t.TEXTURE_CUBE_MAP,e.texture,e.width,e.height),n.bindTexture(t.TEXTURE_CUBE_MAP,null)}else n.bindTexture(t.TEXTURE_2D,c.__webglTexture),L(t.TEXTURE_2D,e.texture,h),I(r.__webglFramebuffer,e,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),g(e.texture,h)&&b(t.TEXTURE_2D,e.texture,e.width,e.height),n.bindTexture(t.TEXTURE_2D,null);e.depthBuffer&&D(e)},this.updateRenderTargetMipmap=function(e){const r=e.texture;if(g(r,m(e)||a)){const o=e.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,s=i.get(r).__webglTexture;n.bindTexture(o,s),b(o,r,e.width,e.height),n.bindTexture(o,null)}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget&&a){const n=i.get(e);t.bindFramebuffer(t.READ_FRAMEBUFFER,n.__webglMultisampledFramebuffer),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,n.__webglFramebuffer);const r=e.width,o=e.height;let s=t.COLOR_BUFFER_BIT;e.depthBuffer&&(s|=t.DEPTH_BUFFER_BIT),e.stencilBuffer&&(s|=t.STENCIL_BUFFER_BIT),t.blitFramebuffer(0,0,r,o,0,0,r,o,s,t.NEAREST),t.bindFramebuffer(t.FRAMEBUFFER,n.__webglMultisampledFramebuffer)}},this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===O&&(O=!0),t=t.texture),M(t,e)},this.safeSetTextureCube=function(t,e){t&&t.isWebGLCubeRenderTarget&&(!1===N&&(N=!0),t=t.texture),C(t,e)}}function ys(t,e,n){const i=n.isWebGL2;return{convert:function(n){let r;if(n===qt)return t.UNSIGNED_BYTE;if(1017===n)return t.UNSIGNED_SHORT_4_4_4_4;if(1018===n)return t.UNSIGNED_SHORT_5_5_5_1;if(1019===n)return t.UNSIGNED_SHORT_5_6_5;if(1010===n)return t.BYTE;if(1011===n)return t.SHORT;if(n===Yt)return t.UNSIGNED_SHORT;if(1013===n)return t.INT;if(n===Zt)return t.UNSIGNED_INT;if(n===Jt)return t.FLOAT;if(n===Kt)return i?t.HALF_FLOAT:(r=e.get("OES_texture_half_float"),null!==r?r.HALF_FLOAT_OES:null);if(1021===n)return t.ALPHA;if(n===Qt)return t.RGB;if(n===te)return t.RGBA;if(1024===n)return t.LUMINANCE;if(1025===n)return t.LUMINANCE_ALPHA;if(n===ee)return t.DEPTH_COMPONENT;if(n===ne)return t.DEPTH_STENCIL;if(1028===n)return t.RED;if(1029===n)return t.RED_INTEGER;if(1030===n)return t.RG;if(1031===n)return t.RG_INTEGER;if(1032===n)return t.RGB_INTEGER;if(1033===n)return t.RGBA_INTEGER;if(33776===n||33777===n||33778===n||33779===n){if(r=e.get("WEBGL_compressed_texture_s3tc"),null===r)return null;if(33776===n)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===n)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===n)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===n)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===n||35841===n||35842===n||35843===n){if(r=e.get("WEBGL_compressed_texture_pvrtc"),null===r)return null;if(35840===n)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===n)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===n)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===n)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===n)return r=e.get("WEBGL_compressed_texture_etc1"),null!==r?r.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===n||37496===n)&&(r=e.get("WEBGL_compressed_texture_etc"),null!==r)){if(37492===n)return r.COMPRESSED_RGB8_ETC2;if(37496===n)return r.COMPRESSED_RGBA8_ETC2_EAC}return 37808===n||37809===n||37810===n||37811===n||37812===n||37813===n||37814===n||37815===n||37816===n||37817===n||37818===n||37819===n||37820===n||37821===n||37840===n||37841===n||37842===n||37843===n||37844===n||37845===n||37846===n||37847===n||37848===n||37849===n||37850===n||37851===n||37852===n||37853===n?(r=e.get("WEBGL_compressed_texture_astc"),null!==r?n:null):36492===n?(r=e.get("EXT_texture_compression_bptc"),null!==r?n:null):n===$t?i?t.UNSIGNED_INT_24_8:(r=e.get("WEBGL_depth_texture"),null!==r?r.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}function xs(t=[]){Tr.call(this),this.cameras=t}function ws(){fn.call(this),this.type="Group"}function Ss(){this._targetRay=null,this._grip=null,this._hand=null}function Ms(t,e){const n=this;let i=null,r=1,o=null,s="local-floor",a=null;const c=[],l=new Map,u=new Tr;u.layers.enable(1),u.viewport=new Zn;const h=new Tr;h.layers.enable(2),h.viewport=new Zn;const p=[u,h],f=new xs;f.layers.enable(1),f.layers.enable(2);let d=null,_=null;function m(t){const e=l.get(t.inputSource);e&&e.dispatchEvent({type:t.type,data:t.inputSource})}function g(){l.forEach((function(t,e){t.disconnect(e)})),l.clear(),t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),M.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function b(t){o=t,M.setContext(i),M.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}function v(t){const e=i.inputSources;for(let t=0;t<c.length;t++)l.set(e[t],c[t]);for(let e=0;e<t.removed.length;e++){const n=t.removed[e],i=l.get(n);i&&(i.dispatchEvent({type:"disconnected",data:n}),l.delete(n))}for(let e=0;e<t.added.length;e++){const n=t.added[e],i=l.get(n);i&&i.dispatchEvent({type:"connected",data:n})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(t){let e=c[t];return void 0===e&&(e=new Ss,c[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){let e=c[t];return void 0===e&&(e=new Ss,c[t]=e),e.getGripSpace()},this.getHand=function(t){let e=c[t];return void 0===e&&(e=new Ss,c[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){r=t,n.isPresenting},this.setReferenceSpaceType=function(t){s=t,n.isPresenting},this.getReferenceSpace=function(){return o},this.getSession=function(){return i},this.setSession=function(t){if(i=t,null!==i){i.addEventListener("select",m),i.addEventListener("selectstart",m),i.addEventListener("selectend",m),i.addEventListener("squeeze",m),i.addEventListener("squeezestart",m),i.addEventListener("squeezeend",m),i.addEventListener("end",g);const t=e.getContextAttributes();!0!==t.xrCompatible&&e.makeXRCompatible();const n={antialias:t.antialias,alpha:t.alpha,depth:t.depth,stencil:t.stencil,framebufferScaleFactor:r},o=new XRWebGLLayer(i,e,n);i.updateRenderState({baseLayer:o}),i.requestReferenceSpace(s).then(b),i.addEventListener("inputsourceschange",v)}};const y=new Be,x=new Be;function w(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}this.getCamera=function(t){f.near=h.near=u.near=t.near,f.far=h.far=u.far=t.far,d===f.near&&_===f.far||(i.updateRenderState({depthNear:f.near,depthFar:f.far}),d=f.near,_=f.far);const e=t.parent,n=f.cameras;w(f,e);for(let t=0;t<n.length;t++)w(n[t],e);t.matrixWorld.copy(f.matrixWorld);const r=t.children;for(let t=0,e=r.length;t<e;t++)r[t].updateMatrixWorld(!0);return 2===n.length?function(t,e,n){y.setFromMatrixPosition(e.matrixWorld),x.setFromMatrixPosition(n.matrixWorld);const i=y.distanceTo(x),r=e.projectionMatrix.elements,o=n.projectionMatrix.elements,s=r[14]/(r[10]-1),a=r[14]/(r[10]+1),c=(r[9]+1)/r[5],l=(r[9]-1)/r[5],u=(r[8]-1)/r[0],h=(o[8]+1)/o[0],p=s*u,f=s*h,d=i/(-u+h),_=d*-u;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(_),t.translateZ(d),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();const m=s+d,g=a+d,b=p-_,v=f+(i-_),w=c*a/g*m,S=l*a/g*m;t.projectionMatrix.makePerspective(b,v,w,S,m,g)}(f,u,h):f.projectionMatrix.copy(u.projectionMatrix),f};let S=null;const M=new Jn;M.setAnimationLoop((function(e,n){if(a=n.getViewerPose(o),null!==a){const e=a.views,n=i.renderState.baseLayer;t.setFramebuffer(n.framebuffer);let r=!1;e.length!==f.cameras.length&&(f.cameras.length=0,r=!0);for(let t=0;t<e.length;t++){const i=e[t],o=n.getViewport(i),s=p[t];s.matrix.fromArray(i.transform.matrix),s.projectionMatrix.fromArray(i.projectionMatrix),s.viewport.set(o.x,o.y,o.width,o.height),0===t&&f.matrix.copy(s.matrix),!0===r&&f.cameras.push(s)}}const r=i.inputSources;for(let t=0;t<c.length;t++){const e=c[t],i=r[t];e.update(i,n,o)}S&&S(e,n)})),this.setAnimationLoop=function(t){S=t},this.dispose=function(){}}function Cs(t){function e(e,n){e.opacity.value=n.opacity,n.color&&e.diffuse.value.copy(n.color),n.emissive&&e.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(e.map.value=n.map),n.alphaMap&&(e.alphaMap.value=n.alphaMap),n.specularMap&&(e.specularMap.value=n.specularMap);const i=t.get(n).envMap;if(i){e.envMap.value=i,e.flipEnvMap.value=i.isCubeTexture&&i._needsFlipEnvMap?-1:1,e.reflectivity.value=n.reflectivity,e.refractionRatio.value=n.refractionRatio;const r=t.get(i).__maxMipLevel;void 0!==r&&(e.maxMipLevel.value=r)}let r,o;n.lightMap&&(e.lightMap.value=n.lightMap,e.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(e.aoMap.value=n.aoMap,e.aoMapIntensity.value=n.aoMapIntensity),n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.roughnessMap?r=n.roughnessMap:n.metalnessMap?r=n.metalnessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap?r=n.emissiveMap:n.clearcoatMap?r=n.clearcoatMap:n.clearcoatNormalMap?r=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(r=n.clearcoatRoughnessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix)),n.aoMap?o=n.aoMap:n.lightMap&&(o=n.lightMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),e.uv2Transform.value.copy(o.matrix))}function n(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(e.emissiveMap.value=n.emissiveMap),n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,1===n.side&&(e.bumpScale.value*=-1)),n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),1===n.side&&e.normalScale.value.negate()),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias),t.get(n).envMap&&(e.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)},refreshMaterialUniforms:function(t,i,r,o){i.isMeshBasicMaterial?e(t,i):i.isMeshLambertMaterial?(e(t,i),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(t,i)):i.isMeshToonMaterial?(e(t,i),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshPhongMaterial?(e(t,i),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshStandardMaterial?(e(t,i),i.isMeshPhysicalMaterial?function(t,e){n(t,e),t.reflectivity.value=e.reflectivity,t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&&t.sheen.value.copy(e.sheen),e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap),e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,1===e.side&&t.clearcoatNormalScale.value.negate()),t.transmission.value=e.transmission,e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap)}(t,i):n(t,i)):i.isMeshMatcapMaterial?(e(t,i),function(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshDepthMaterial?(e(t,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshDistanceMaterial?(e(t,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(t,i)):i.isMeshNormalMaterial?(e(t,i),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(t,i),i.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,i)):i.isPointsMaterial?function(t,e,n,i){let r;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*n,t.scale.value=.5*i,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?r=e.map:e.alphaMap&&(r=e.alphaMap),void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix))}(t,i,r,o):i.isSpriteMaterial?function(t,e){let n;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?n=e.map:e.alphaMap&&(n=e.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}(t,i):i.isShadowMaterial?(t.color.value.copy(i.color),t.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function Ts(t){const e=void 0!==(t=t||{}).canvas?t.canvas:function(){const t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return t.style.display="block",t}(),n=void 0!==t.context?t.context:null,i=void 0!==t.alpha&&t.alpha,r=void 0===t.depth||t.depth,o=void 0===t.stencil||t.stencil,s=void 0!==t.antialias&&t.antialias,a=void 0===t.premultipliedAlpha||t.premultipliedAlpha,c=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,l=void 0!==t.powerPreference?t.powerPreference:"default",u=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat;let h=null,p=null;const f=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=he,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const d=this;let _=!1,m=null,g=0,b=0,v=null,y=null,x=-1,w=null;const S=new Zn,M=new Zn;let C=null,T=e.width,A=e.height,L=1,E=null,R=null;const I=new Zn(0,0,T,A),P=new Zn(0,0,T,A);let D=!1;const k=new Yn;let O=!1,N=!1;const F=new ze,B=new Be,j={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function U(){return null===v?L:1}let z,G,V,W,H,X,q,Y,Z,J,K,$,Q,tt,et,nt,it,rt,ot,st,at,ct=n;function lt(t,n){for(let i=0;i<t.length;i++){const r=t[i],o=e.getContext(r,n);if(null!==o)return o}return null}try{const t={alpha:i,depth:r,stencil:o,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:c,powerPreference:l,failIfMajorPerformanceCaveat:u};if(e.addEventListener("webglcontextlost",ft,!1),e.addEventListener("webglcontextrestored",dt,!1),null===ct){const e=["webgl2","webgl","experimental-webgl"];if(!0===d.isWebGL1Renderer&&e.shift(),ct=lt(e,t),null===ct)throw lt(e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ct.getShaderPrecisionFormat&&(ct.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){throw t}function ut(){z=new Ir(ct),G=new wr(ct,z,t),!1===G.isWebGL2&&(z.get("WEBGL_depth_texture"),z.get("OES_texture_float"),z.get("OES_texture_half_float"),z.get("OES_texture_half_float_linear"),z.get("OES_standard_derivatives"),z.get("OES_element_index_uint"),z.get("OES_vertex_array_object"),z.get("ANGLE_instanced_arrays")),z.get("OES_texture_float_linear"),st=new ys(ct,z,G),V=new bs(ct,z,G),V.scissor(M.copy(P).multiplyScalar(L).floor()),V.viewport(S.copy(I).multiplyScalar(L).floor()),W=new kr(ct),H=new rs,X=new vs(ct,z,V,H,G,st,W),q=new Rr(d),Y=new Kn(ct,G),at=new yr(ct,z,Y,G),Z=new Pr(ct,Y,W,at),J=new Br(ct,Z,Y,W),it=new Fr(ct),et=new Sr(H),K=new is(d,q,z,G,at,et),$=new Cs(H),Q=new cs(H),tt=new ds(z,G),nt=new vr(d,q,V,J,a),rt=new xr(ct,z,W,G),ot=new Dr(ct,z,W,G),W.programs=K.programs,d.capabilities=G,d.extensions=z,d.properties=H,d.renderLists=Q,d.state=V,d.info=W}ut();const ht=new Ms(d,ct);this.xr=ht;const pt=new gs(d,J,G.maxTextureSize);function ft(t){t.preventDefault(),_=!0}function dt(){_=!1,ut()}function _t(t){const e=t.target;e.removeEventListener("dispose",_t),function(t){mt(t),H.remove(t)}(e)}function mt(t){const e=H.get(t).program;void 0!==e&&K.releaseProgram(e)}this.shadowMap=pt,this.getContext=function(){return ct},this.getContextAttributes=function(){return ct.getContextAttributes()},this.forceContextLoss=function(){const t=z.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){const t=z.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return L},this.setPixelRatio=function(t){void 0!==t&&(L=t,this.setSize(T,A,!1))},this.getSize=function(t){return void 0===t&&(t=new ge),t.set(T,A)},this.setSize=function(t,n,i){ht.isPresenting||(T=t,A=n,e.width=Math.floor(t*L),e.height=Math.floor(n*L),!1!==i&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return void 0===t&&(t=new ge),t.set(T*L,A*L).floor()},this.setDrawingBufferSize=function(t,n,i){T=t,A=n,L=i,e.width=Math.floor(t*i),e.height=Math.floor(n*i),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return void 0===t&&(t=new Zn),t.copy(S)},this.getViewport=function(t){return t.copy(I)},this.setViewport=function(t,e,n,i){t.isVector4?I.set(t.x,t.y,t.z,t.w):I.set(t,e,n,i),V.viewport(S.copy(I).multiplyScalar(L).floor())},this.getScissor=function(t){return t.copy(P)},this.setScissor=function(t,e,n,i){t.isVector4?P.set(t.x,t.y,t.z,t.w):P.set(t,e,n,i),V.scissor(M.copy(P).multiplyScalar(L).floor())},this.getScissorTest=function(){return D},this.setScissorTest=function(t){V.setScissorTest(D=t)},this.setOpaqueSort=function(t){E=t},this.setTransparentSort=function(t){R=t},this.getClearColor=function(t){return void 0===t&&(t=new yn),t.copy(nt.getClearColor())},this.setClearColor=function(){nt.setClearColor.apply(nt,arguments)},this.getClearAlpha=function(){return nt.getClearAlpha()},this.setClearAlpha=function(){nt.setClearAlpha.apply(nt,arguments)},this.clear=function(t,e,n){let i=0;(void 0===t||t)&&(i|=ct.COLOR_BUFFER_BIT),(void 0===e||e)&&(i|=ct.DEPTH_BUFFER_BIT),(void 0===n||n)&&(i|=ct.STENCIL_BUFFER_BIT),ct.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",ft,!1),e.removeEventListener("webglcontextrestored",dt,!1),Q.dispose(),tt.dispose(),H.dispose(),q.dispose(),J.dispose(),at.dispose(),ht.dispose(),bt.stop()},this.renderBufferImmediate=function(t,e){at.initAttributes();const n=H.get(t);t.hasPositions&&!n.position&&(n.position=ct.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=ct.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=ct.createBuffer()),t.hasColors&&!n.color&&(n.color=ct.createBuffer());const i=e.getAttributes();t.hasPositions&&(ct.bindBuffer(ct.ARRAY_BUFFER,n.position),ct.bufferData(ct.ARRAY_BUFFER,t.positionArray,ct.DYNAMIC_DRAW),at.enableAttribute(i.position),ct.vertexAttribPointer(i.position,3,ct.FLOAT,!1,0,0)),t.hasNormals&&(ct.bindBuffer(ct.ARRAY_BUFFER,n.normal),ct.bufferData(ct.ARRAY_BUFFER,t.normalArray,ct.DYNAMIC_DRAW),at.enableAttribute(i.normal),ct.vertexAttribPointer(i.normal,3,ct.FLOAT,!1,0,0)),t.hasUvs&&(ct.bindBuffer(ct.ARRAY_BUFFER,n.uv),ct.bufferData(ct.ARRAY_BUFFER,t.uvArray,ct.DYNAMIC_DRAW),at.enableAttribute(i.uv),ct.vertexAttribPointer(i.uv,2,ct.FLOAT,!1,0,0)),t.hasColors&&(ct.bindBuffer(ct.ARRAY_BUFFER,n.color),ct.bufferData(ct.ARRAY_BUFFER,t.colorArray,ct.DYNAMIC_DRAW),at.enableAttribute(i.color),ct.vertexAttribPointer(i.color,3,ct.FLOAT,!1,0,0)),at.disableUnusedAttributes(),ct.drawArrays(ct.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,i,r,o){null===e&&(e=j);const s=r.isMesh&&r.matrixWorld.determinant()<0,a=St(t,e,i,r);V.setMaterial(i,s);let c=n.index;const l=n.attributes.position;if(null===c){if(void 0===l||0===l.count)return}else if(0===c.count)return;let u,h=1;!0===i.wireframe&&(c=Z.getWireframeAttribute(n),h=2),(i.morphTargets||i.morphNormals)&&it.update(r,n,i,a),at.setup(r,i,a,n,c);let p=rt;null!==c&&(u=Y.get(c),p=ot,p.setIndex(u));const f=null!==c?c.count:l.count,d=n.drawRange.start*h,_=n.drawRange.count*h,m=null!==o?o.start*h:0,g=null!==o?o.count*h:Infinity,b=Math.max(d,m),v=Math.min(f,d+_,m+g)-1,y=Math.max(0,v-b+1);if(0!==y){if(r.isMesh)!0===i.wireframe?(V.setLineWidth(i.wireframeLinewidth*U()),p.setMode(ct.LINES)):p.setMode(ct.TRIANGLES);else if(r.isLine){let t=i.linewidth;void 0===t&&(t=1),V.setLineWidth(t*U()),r.isLineSegments?p.setMode(ct.LINES):r.isLineLoop?p.setMode(ct.LINE_LOOP):p.setMode(ct.LINE_STRIP)}else r.isPoints?p.setMode(ct.POINTS):r.isSprite&&p.setMode(ct.TRIANGLES);if(r.isInstancedMesh)p.renderInstances(b,y,r.count);else if(n.isInstancedBufferGeometry){const t=Math.min(n.instanceCount,n._maxInstanceCount);p.renderInstances(b,y,t)}else p.render(b,y)}},this.compile=function(t,e){p=tt.get(t),p.init(),t.traverseVisible((function(t){t.isLight&&t.layers.test(e.layers)&&(p.pushLight(t),t.castShadow&&p.pushShadow(t))})),p.setupLights();const n=new WeakMap;t.traverse((function(e){const i=e.material;if(i)if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];!1===n.has(o)&&(wt(o,t,e),n.set(o))}else!1===n.has(i)&&(wt(i,t,e),n.set(i))}))};let gt=null;const bt=new Jn;function vt(t,e,n,i){if(!1===t.visible)return;if(t.layers.test(e.layers))if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)p.pushLight(t),t.castShadow&&p.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||k.intersectsSprite(t)){i&&B.setFromMatrixPosition(t.matrixWorld).applyMatrix4(F);const e=J.update(t),r=t.material;r.visible&&h.push(t,e,r,n,B.z,null)}}else if(t.isImmediateRenderObject)i&&B.setFromMatrixPosition(t.matrixWorld).applyMatrix4(F),h.push(t,null,t.material,n,B.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==W.render.frame&&(t.skeleton.update(),t.skeleton.frame=W.render.frame),!t.frustumCulled||k.intersectsObject(t))){i&&B.setFromMatrixPosition(t.matrixWorld).applyMatrix4(F);const e=J.update(t),r=t.material;if(Array.isArray(r)){const i=e.groups;for(let o=0,s=i.length;o<s;o++){const s=i[o],a=r[s.materialIndex];a&&a.visible&&h.push(t,e,a,n,B.z,s)}}else r.visible&&h.push(t,e,r,n,B.z,null)}const r=t.children;for(let t=0,o=r.length;t<o;t++)vt(r[t],e,n,i)}function yt(t,e,n){const i=!0===e.isScene?e.overrideMaterial:null;for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.object,a=o.geometry,c=null===i?o.material:i,l=o.group;if(n.isArrayCamera){const t=n.cameras;for(let n=0,i=t.length;n<i;n++){const i=t[n];s.layers.test(i.layers)&&(V.viewport(S.copy(i.viewport)),p.setupLightsView(i),xt(s,e,i,a,c,l))}}else xt(s,e,n,a,c,l)}}function xt(t,e,n,i,r,o){if(t.onBeforeRender(d,e,n,i,r,o),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){const i=St(n,e,r,t);V.setMaterial(r),at.reset(),function(t,e){t.render((function(t){d.renderBufferImmediate(t,e)}))}(t,i)}else d.renderBufferDirect(n,e,i,r,t,o);t.onAfterRender(d,e,n,i,r,o)}function wt(t,e,n){!0!==e.isScene&&(e=j);const i=H.get(t),r=p.state.lights,o=p.state.shadowsArray,s=r.state.version,a=K.getParameters(t,r.state,o,e,n),c=K.getProgramCacheKey(a);let l=i.program,u=!0;if(void 0===l)t.addEventListener("dispose",_t);else if(l.cacheKey!==c)mt(t);else if(i.lightsStateVersion!==s)u=!1;else{if(void 0!==a.shaderID){const n=t.isMeshStandardMaterial?e.environment:null;return void(i.envMap=q.get(t.envMap||n))}u=!1}u&&(a.uniforms=K.getUniforms(t),t.onBeforeCompile(a,d),l=K.acquireProgram(a,c),i.program=l,i.uniforms=a.uniforms,i.outputEncoding=a.outputEncoding);const h=i.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(i.numClippingPlanes=et.numPlanes,i.numIntersection=et.numIntersection,h.clippingPlanes=et.uniform),i.environment=t.isMeshStandardMaterial?e.environment:null,i.fog=e.fog,i.envMap=q.get(t.envMap||i.environment),i.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),i.lightsStateVersion=s,i.needsLights&&(h.ambientLightColor.value=r.state.ambient,h.lightProbe.value=r.state.probe,h.directionalLights.value=r.state.directional,h.directionalLightShadows.value=r.state.directionalShadow,h.spotLights.value=r.state.spot,h.spotLightShadows.value=r.state.spotShadow,h.rectAreaLights.value=r.state.rectArea,h.ltc_1.value=r.state.rectAreaLTC1,h.ltc_2.value=r.state.rectAreaLTC2,h.pointLights.value=r.state.point,h.pointLightShadows.value=r.state.pointShadow,h.hemisphereLights.value=r.state.hemi,h.directionalShadowMap.value=r.state.directionalShadowMap,h.directionalShadowMatrix.value=r.state.directionalShadowMatrix,h.spotShadowMap.value=r.state.spotShadowMap,h.spotShadowMatrix.value=r.state.spotShadowMatrix,h.pointShadowMap.value=r.state.pointShadowMap,h.pointShadowMatrix.value=r.state.pointShadowMatrix);const f=i.program.getUniforms(),_=No.seqWithValue(f.seq,h);i.uniformsList=_}function St(t,e,n,i){!0!==e.isScene&&(e=j),X.resetTextureUnits();const r=e.fog,o=n.isMeshStandardMaterial?e.environment:null,s=null===v?d.outputEncoding:v.texture.encoding,a=q.get(n.envMap||o),c=H.get(n),l=p.state.lights;if(!0===O&&(!0===N||t!==w)){const e=t===w&&n.id===x;et.setState(n,t,e)}n.version===c.__version?n.fog&&c.fog!==r||c.environment!==o||c.needsLights&&c.lightsStateVersion!==l.state.version?wt(n,e,i):void 0===c.numClippingPlanes||c.numClippingPlanes===et.numPlanes&&c.numIntersection===et.numIntersection?(c.outputEncoding!==s||c.envMap!==a)&&wt(n,e,i):wt(n,e,i):(wt(n,e,i),c.__version=n.version);let u=!1,h=!1,f=!1;const _=c.program,m=_.getUniforms(),g=c.uniforms;if(V.useProgram(_.program)&&(u=!0,h=!0,f=!0),n.id!==x&&(x=n.id,h=!0),u||w!==t){if(m.setValue(ct,"projectionMatrix",t.projectionMatrix),G.logarithmicDepthBuffer&&m.setValue(ct,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),w!==t&&(w=t,h=!0,f=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){const e=m.map.cameraPosition;void 0!==e&&e.setValue(ct,B.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&m.setValue(ct,"isOrthographic",!0===t.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&m.setValue(ct,"viewMatrix",t.matrixWorldInverse)}if(n.skinning){m.setOptional(ct,i,"bindMatrix"),m.setOptional(ct,i,"bindMatrixInverse");const t=i.skeleton;if(t){const e=t.bones;if(G.floatVertexTextures){if(null===t.boneTexture){let n=Math.sqrt(4*e.length);n=me.ceilPowerOfTwo(n),n=Math.max(n,4);const i=new Float32Array(n*n*4);i.set(t.boneMatrices);const r=new Mn(i,n,n,te,Jt);t.boneMatrices=i,t.boneTexture=r,t.boneTextureSize=n}m.setValue(ct,"boneTexture",t.boneTexture,X),m.setValue(ct,"boneTextureSize",t.boneTextureSize)}else m.setOptional(ct,t,"boneMatrices")}}var b,y;return(h||c.receiveShadow!==i.receiveShadow)&&(c.receiveShadow=i.receiveShadow,m.setValue(ct,"receiveShadow",i.receiveShadow)),h&&(m.setValue(ct,"toneMappingExposure",d.toneMappingExposure),c.needsLights&&(y=f,(b=g).ambientLightColor.needsUpdate=y,b.lightProbe.needsUpdate=y,b.directionalLights.needsUpdate=y,b.directionalLightShadows.needsUpdate=y,b.pointLights.needsUpdate=y,b.pointLightShadows.needsUpdate=y,b.spotLights.needsUpdate=y,b.spotLightShadows.needsUpdate=y,b.rectAreaLights.needsUpdate=y,b.hemisphereLights.needsUpdate=y),r&&n.fog&&$.refreshFogUniforms(g,r),$.refreshMaterialUniforms(g,n,L,A),No.upload(ct,c.uniformsList,g,X)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(No.upload(ct,c.uniformsList,g,X),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&m.setValue(ct,"center",i.center),m.setValue(ct,"modelViewMatrix",i.modelViewMatrix),m.setValue(ct,"normalMatrix",i.normalMatrix),m.setValue(ct,"modelMatrix",i.matrixWorld),_}bt.setAnimationLoop((function(t){ht.isPresenting||gt&&gt(t)})),"undefined"!=typeof window&&bt.setContext(window),this.setAnimationLoop=function(t){gt=t,ht.setAnimationLoop(t),null===t?bt.stop():bt.start()},this.render=function(t,e){let n,i;if(void 0!==arguments[2]&&(n=arguments[2]),void 0!==arguments[3]&&(i=arguments[3]),void 0!==e&&!0!==e.isCamera)return;if(!0===_)return;at.resetDefaultState(),x=-1,w=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),!0===ht.enabled&&!0===ht.isPresenting&&(e=ht.getCamera(e)),!0===t.isScene&&t.onBeforeRender(d,t,e,n||v),p=tt.get(t,f.length),p.init(),f.push(p),F.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),k.setFromProjectionMatrix(F),N=this.localClippingEnabled,O=et.init(this.clippingPlanes,N,e),h=Q.get(t,e),h.init(),vt(t,e,0,d.sortObjects),h.finish(),!0===d.sortObjects&&h.sort(E,R),!0===O&&et.beginShadows();const r=p.state.shadowsArray;pt.render(r,t,e),p.setupLights(),p.setupLightsView(e),!0===O&&et.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),nt.render(h,t,e,i);const o=h.opaque,s=h.transparent;o.length>0&&yt(o,t,e),s.length>0&&yt(s,t,e),!0===t.isScene&&t.onAfterRender(d,t,e),null!==v&&(X.updateRenderTargetMipmap(v),X.updateMultisampleRenderTarget(v)),V.buffers.depth.setTest(!0),V.buffers.depth.setMask(!0),V.buffers.color.setMask(!0),V.setPolygonOffset(!1),f.pop(),p=f.length>0?f[f.length-1]:null,h=null},this.setFramebuffer=function(t){m!==t&&null===v&&ct.bindFramebuffer(ct.FRAMEBUFFER,t),m=t},this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return b},this.getRenderList=function(){return h},this.setRenderList=function(t){h=t},this.getRenderTarget=function(){return v},this.setRenderTarget=function(t,e=0,n=0){v=t,g=e,b=n,t&&void 0===H.get(t).__webglFramebuffer&&X.setupRenderTarget(t);let i=m,r=!1;if(t){const n=H.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(i=n[e],r=!0):i=t.isWebGLMultisampleRenderTarget?H.get(t).__webglMultisampledFramebuffer:n,S.copy(t.viewport),M.copy(t.scissor),C=t.scissorTest}else S.copy(I).multiplyScalar(L).floor(),M.copy(P).multiplyScalar(L).floor(),C=D;if(y!==i&&(ct.bindFramebuffer(ct.FRAMEBUFFER,i),y=i),V.viewport(S),V.scissor(M),V.setScissorTest(C),r){const i=H.get(t.texture);ct.framebufferTexture2D(ct.FRAMEBUFFER,ct.COLOR_ATTACHMENT0,ct.TEXTURE_CUBE_MAP_POSITIVE_X+e,i.__webglTexture,n)}},this.readRenderTargetPixels=function(t,e,n,i,r,o,s){if(!t||!t.isWebGLRenderTarget)return;let a=H.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==s&&(a=a[s]),a){let s=!1;a!==y&&(ct.bindFramebuffer(ct.FRAMEBUFFER,a),s=!0);try{const a=t.texture,c=a.format,l=a.type;if(c!==te&&st.convert(c)!==ct.getParameter(ct.IMPLEMENTATION_COLOR_READ_FORMAT))return;if(!(l===qt||st.convert(l)===ct.getParameter(ct.IMPLEMENTATION_COLOR_READ_TYPE)||l===Jt&&(G.isWebGL2||z.get("OES_texture_float")||z.get("WEBGL_color_buffer_float"))||l===Kt&&(G.isWebGL2?z.get("EXT_color_buffer_float"):z.get("EXT_color_buffer_half_float"))))return;ct.checkFramebufferStatus(ct.FRAMEBUFFER)===ct.FRAMEBUFFER_COMPLETE&&e>=0&&e<=t.width-i&&n>=0&&n<=t.height-r&&ct.readPixels(e,n,i,r,st.convert(c),st.convert(l),o)}finally{s&&ct.bindFramebuffer(ct.FRAMEBUFFER,y)}}},this.copyFramebufferToTexture=function(t,e,n=0){const i=Math.pow(2,-n),r=Math.floor(e.image.width*i),o=Math.floor(e.image.height*i),s=st.convert(e.format);X.setTexture2D(e,0),ct.copyTexImage2D(ct.TEXTURE_2D,n,s,t.x,t.y,r,o,0),V.unbindTexture()},this.copyTextureToTexture=function(t,e,n,i=0){const r=e.image.width,o=e.image.height,s=st.convert(n.format),a=st.convert(n.type);X.setTexture2D(n,0),ct.pixelStorei(ct.UNPACK_FLIP_Y_WEBGL,n.flipY),ct.pixelStorei(ct.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),ct.pixelStorei(ct.UNPACK_ALIGNMENT,n.unpackAlignment),e.isDataTexture?ct.texSubImage2D(ct.TEXTURE_2D,i,t.x,t.y,r,o,s,a,e.image.data):e.isCompressedTexture?ct.compressedTexSubImage2D(ct.TEXTURE_2D,i,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,s,e.mipmaps[0].data):ct.texSubImage2D(ct.TEXTURE_2D,i,t.x,t.y,s,a,e.image),0===i&&n.generateMipmaps&&ct.generateMipmap(ct.TEXTURE_2D),V.unbindTexture()},this.initTexture=function(t){X.setTexture2D(t,0),V.unbindTexture()},this.resetState=function(){V.reset(),at.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}_s.prototype=Object.create(Mi.prototype),_s.prototype.constructor=_s,_s.prototype.isMeshDepthMaterial=!0,_s.prototype.copy=function(t){return Mi.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},ms.prototype=Object.create(Mi.prototype),ms.prototype.constructor=ms,ms.prototype.isMeshDistanceMaterial=!0,ms.prototype.copy=function(t){return Mi.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},xs.prototype=Object.assign(Object.create(Tr.prototype),{constructor:xs,isArrayCamera:!0}),ws.prototype=Object.assign(Object.create(fn.prototype),{constructor:ws,isGroup:!0}),Object.assign(Ss.prototype,{constructor:Ss,getHandSpace:function(){if(null===this._hand&&(this._hand=new ws,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(let t=0;t<=window.XRHand.LITTLE_PHALANX_TIP;t++){const t=new ws;t.matrixAutoUpdate=!1,t.visible=!1,this._hand.joints.push(t),this._hand.add(t)}return this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new ws,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new ws,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this},disconnect:function(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(t,e,n){let i=null,r=null,o=null;const s=this._targetRay,a=this._grip,c=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState)if(c&&t.hand){o=!0;for(let i=0;i<=window.XRHand.LITTLE_PHALANX_TIP;i++)if(t.hand[i]){const r=e.getJointPose(t.hand[i],n),o=c.joints[i];null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.jointRadius=r.radius),o.visible=null!==r;const s=c.joints[window.XRHand.INDEX_PHALANX_TIP],a=c.joints[window.XRHand.THUMB_PHALANX_TIP],l=s.position.distanceTo(a.position),u=.02,h=.005;c.inputState.pinching&&l>u+h?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!c.inputState.pinching&&l<=u-h&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}}else null!==s&&(i=e.getPose(t.targetRaySpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale))),null!==a&&t.gripSpace&&(r=e.getPose(t.gripSpace,n),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale)));return null!==s&&(s.visible=null!==i),null!==a&&(a.visible=null!==r),null!==c&&(c.visible=null!==o),this}}),Object.assign(Ms.prototype,jt.prototype);const As=new Be,Ls=new Fe,Es=new Be,Rs=new Be;class Is extends fn{constructor(){super(),this.type="AudioListener",this.context=Le(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Oe}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(As,Ls,Es),Rs.set(0,0,-1).applyQuaternion(Ls),e.positionX){const t=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(As.x,t),e.positionY.linearRampToValueAtTime(As.y,t),e.positionZ.linearRampToValueAtTime(As.z,t),e.forwardX.linearRampToValueAtTime(Rs.x,t),e.forwardY.linearRampToValueAtTime(Rs.y,t),e.forwardZ.linearRampToValueAtTime(Rs.z,t),e.upX.linearRampToValueAtTime(n.x,t),e.upY.linearRampToValueAtTime(n.y,t),e.upZ.linearRampToValueAtTime(n.z,t)}else e.setPosition(As.x,As.y,As.z),e.setOrientation(Rs.x,Rs.y,Rs.z,n.x,n.y,n.z)}}var Ps=n("./src/config/level0.json"),Ds=n("./src/config/camera.json"),ks=n("./src/config/player.json"),Os=n("./src/config/enemy.json"),Ns=n("./src/config/pistol.json"),Fs=n("./src/config/rifle.json");const Bs=t=>{Object.freeze(t);const e=Object.getOwnPropertyNames(t);for(const n in e){const i=t[e[n]],r="object"==typeof i||"function"==typeof i;i&&r&&!Object.isFrozen(i)&&Bs(i)}return t};var js,Us=Bs;!function(t){const e=t=>Object.assign({},...Object.keys(t).map((e=>({[e]:{speed:t[e][0],direction:{z0:t[e][1],x0:t[e][2],x1:t[e][3]}}})))),n=ks.animations,i=Os.animations;t.APP=navigator.userAgent.toLowerCase().includes("electron");const r=t=>t<0?Infinity:t;t.VERSION="0.2.5",t.DEBUG=!1,t.freeCamera=!1,t.colliders=!1,t.hitBoxes=!1,t.Level0=Us({position:new Be(...Ps.position),sidewalkHeight:Ps.sidewalkHeight,scale:new Be(...Ps.scale),sidewalk:Ps.sidewalk,bounds:Ps.bounds,skybox:Ps.skybox,model:Ps.model,music:Ps.music,height:Ps.height,depth:Ps.depth}),t.Player=Us({position:new Be(...ks.position),collider:new Be(...ks.collider),scale:new Be(...ks.scale),moves:e(n),animations:ks.animations,sounds:ks.sounds,model:ks.model}),t.Enemy=Us({position:new Be(...Os.position),collider:new Be(...Os.collider),scale:new Be(...Os.scale),moves:e(i),animations:Os.animations,sounds:Os.sounds,model:Os.model}),t.Pistol=Us({position:new Be(...Ns.position),rotation:new Ze(...Ns.rotation),spread:new ge(...Ns.spread),recoil:new ge(...Ns.recoil),scale:new Be(...Ns.scale),magazine:r(Ns.magazine),ammo:r(Ns.ammo),sounds:Ns.sounds,damage:Ns.damage,speed:Ns.speed,model:Ns.model}),t.Rifle=Us({worldScale:new Be(...Fs.worldScale),position:new Be(...Fs.position),rotation:new Ze(...Fs.rotation),spread:new ge(...Fs.spread),recoil:new ge(...Fs.recoil),scale:new Be(...Fs.scale),magazine:r(Fs.magazine),ammo:r(Fs.ammo),maxStock:Fs.maxStock,sounds:Fs.sounds,damage:Fs.damage,speed:Fs.speed,model:Fs.model}),t.Camera=Us({fps:new Be(...Ds.fps),tps:new Be(...Ds.tps),aim:new Be(...Ds.aim),run:new Be(...Ds.run)})}(js||(js={}));var zs={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},Gs={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},Vs=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Ws={CSS:{},springs:{}};function Hs(t,e,n){return Math.min(Math.max(t,e),n)}function Xs(t,e){return t.indexOf(e)>-1}function qs(t,e){return t.apply(null,e)}var Ys={arr:function(t){return Array.isArray(t)},obj:function(t){return Xs(Object.prototype.toString.call(t),"Object")},pth:function(t){return Ys.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||Ys.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},nil:function(t){return Ys.und(t)||null===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return Ys.hex(t)||Ys.rgb(t)||Ys.hsl(t)},key:function(t){return!zs.hasOwnProperty(t)&&!Gs.hasOwnProperty(t)&&"targets"!==t&&"keyframes"!==t}};function Zs(t){var e=/\(([^)]+)\)/.exec(t);return e?e[1].split(",").map((function(t){return parseFloat(t)})):[]}function Js(t,e){var n=Zs(t),i=Hs(Ys.und(n[0])?1:n[0],.1,100),r=Hs(Ys.und(n[1])?100:n[1],.1,100),o=Hs(Ys.und(n[2])?10:n[2],.1,100),s=Hs(Ys.und(n[3])?0:n[3],.1,100),a=Math.sqrt(r/i),c=o/(2*Math.sqrt(r*i)),l=c<1?a*Math.sqrt(1-c*c):0,u=c<1?(c*a-s)/l:-s+a;function h(t){var n=e?e*t/1e3:t;return n=c<1?Math.exp(-n*c*a)*(1*Math.cos(l*n)+u*Math.sin(l*n)):(1+u*n)*Math.exp(-n*a),0===t||1===t?t:1-n}return e?h:function(){var e=Ws.springs[t];if(e)return e;for(var n=1/6,i=0,r=0;;)if(1===h(i+=n)){if(++r>=16)break}else r=0;var o=i*n*1e3;return Ws.springs[t]=o,o}}function Ks(t){return void 0===t&&(t=10),function(e){return Math.ceil(Hs(e,1e-6,1)*t)*(1/t)}}var $s,Qs,ta=function(){var t=.1;function e(t,e){return 1-3*e+3*t}function n(t,e){return 3*e-6*t}function i(t){return 3*t}function r(t,r,o){return((e(r,o)*t+n(r,o))*t+i(r))*t}function o(t,r,o){return 3*e(r,o)*t*t+2*n(r,o)*t+i(r)}return function(e,n,i,s){if(0<=e&&e<=1&&0<=i&&i<=1){var a=new Float32Array(11);if(e!==n||i!==s)for(var c=0;c<11;++c)a[c]=r(c*t,e,i);return function(t){return e===n&&i===s||0===t||1===t?t:r(l(t),n,s)}}function l(n){for(var s=0,c=1;10!==c&&a[c]<=n;++c)s+=t;--c;var l=s+(n-a[c])/(a[c+1]-a[c])*t,u=o(l,e,i);return u>=.001?function(t,e,n,i){for(var s=0;s<4;++s){var a=o(e,n,i);if(0===a)return e;e-=(r(e,n,i)-t)/a}return e}(n,l,e,i):0===u?l:function(t,e,n,i,o){var s,a,c=0;do{(s=r(a=e+(n-e)/2,i,o)-t)>0?n=a:e=a}while(Math.abs(s)>1e-7&&++c<10);return a}(n,s,s+t,e,i)}}}(),ea=($s={linear:function(){return function(t){return t}}},Qs={Sine:function(){return function(t){return 1-Math.cos(t*Math.PI/2)}},Circ:function(){return function(t){return 1-Math.sqrt(1-t*t)}},Back:function(){return function(t){return t*t*(3*t-2)}},Bounce:function(){return function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}},Elastic:function(t,e){void 0===t&&(t=1),void 0===e&&(e=.5);var n=Hs(t,1,10),i=Hs(e,.1,2);return function(t){return 0===t||1===t?t:-n*Math.pow(2,10*(t-1))*Math.sin((t-1-i/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/i)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(t,e){Qs[t]=function(){return function(t){return Math.pow(t,e+2)}}})),Object.keys(Qs).forEach((function(t){var e=Qs[t];$s["easeIn"+t]=e,$s["easeOut"+t]=function(t,n){return function(i){return 1-e(t,n)(1-i)}},$s["easeInOut"+t]=function(t,n){return function(i){return i<.5?e(t,n)(2*i)/2:1-e(t,n)(-2*i+2)/2}},$s["easeOutIn"+t]=function(t,n){return function(i){return i<.5?(1-e(t,n)(1-2*i))/2:(e(t,n)(2*i-1)+1)/2}}})),$s);function na(t,e){if(Ys.fnc(t))return t;var n=t.split("(")[0],i=ea[n],r=Zs(t);switch(n){case"spring":return Js(t,e);case"cubicBezier":return qs(ta,r);case"steps":return qs(Ks,r);default:return qs(i,r)}}function ia(t){try{return document.querySelectorAll(t)}catch(t){return}}function ra(t,e){for(var n=t.length,i=arguments.length>=2?arguments[1]:void 0,r=[],o=0;o<n;o++)if(o in t){var s=t[o];e.call(i,s,o,t)&&r.push(s)}return r}function oa(t){return t.reduce((function(t,e){return t.concat(Ys.arr(e)?oa(e):e)}),[])}function sa(t){return Ys.arr(t)?t:(Ys.str(t)&&(t=ia(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function aa(t,e){return t.some((function(t){return t===e}))}function ca(t){var e={};for(var n in t)e[n]=t[n];return e}function la(t,e){var n=ca(t);for(var i in t)n[i]=e.hasOwnProperty(i)?e[i]:t[i];return n}function ua(t,e){var n=ca(t);for(var i in e)n[i]=Ys.und(t[i])?e[i]:t[i];return n}function ha(t){return Ys.rgb(t)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e=t))?"rgba("+n[1]+",1)":e:Ys.hex(t)?function(t){var e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,i){return e+e+n+n+i+i})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(t):Ys.hsl(t)?function(t){var e,n,i,r=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),o=parseInt(r[1],10)/360,s=parseInt(r[2],10)/100,a=parseInt(r[3],10)/100,c=r[4]||1;function l(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(0==s)e=n=i=a;else{var u=a<.5?a*(1+s):a+s-a*s,h=2*a-u;e=l(h,u,o+1/3),n=l(h,u,o),i=l(h,u,o-1/3)}return"rgba("+255*e+","+255*n+","+255*i+","+c+")"}(t):void 0;var e,n}function pa(t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[1]}function fa(t,e){return Ys.fnc(t)?t(e.target,e.id,e.total):t}function da(t,e){return t.getAttribute(e)}function _a(t,e,n){if(aa([n,"deg","rad","turn"],pa(e)))return e;var i=Ws.CSS[e+n];if(!Ys.und(i))return i;var r=document.createElement(t.tagName),o=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;o.appendChild(r),r.style.position="absolute",r.style.width=100+n;var s=100/r.offsetWidth;o.removeChild(r);var a=s*parseFloat(e);return Ws.CSS[e+n]=a,a}function ma(t,e,n){if(e in t.style){var i=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=t.style[e]||getComputedStyle(t).getPropertyValue(i)||"0";return n?_a(t,r,n):r}}function ga(t,e){return Ys.dom(t)&&!Ys.inp(t)&&(!Ys.nil(da(t,e))||Ys.svg(t)&&t[e])?"attribute":Ys.dom(t)&&aa(Vs,e)?"transform":Ys.dom(t)&&"transform"!==e&&ma(t,e)?"css":null!=t[e]?"object":void 0}function ba(t){if(Ys.dom(t)){for(var e,n=t.style.transform||"",i=/(\w+)\(([^)]*)\)/g,r=new Map;e=i.exec(n);)r.set(e[1],e[2]);return r}}function va(t,e,n,i){var r=Xs(e,"scale")?1:0+function(t){return Xs(t,"translate")||"perspective"===t?"px":Xs(t,"rotate")||Xs(t,"skew")?"deg":void 0}(e),o=ba(t).get(e)||r;return n&&(n.transforms.list.set(e,o),n.transforms.last=e),i?_a(t,o,i):o}function ya(t,e,n,i){switch(ga(t,e)){case"transform":return va(t,e,i,n);case"css":return ma(t,e,n);case"attribute":return da(t,e);default:return t[e]||0}}function xa(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var i=pa(t)||0,r=parseFloat(e),o=parseFloat(t.replace(n[0],""));switch(n[0][0]){case"+":return r+o+i;case"-":return r-o+i;case"*":return r*o+i}}function wa(t,e){if(Ys.col(t))return ha(t);if(/\s/g.test(t))return t;var n=pa(t),i=n?t.substr(0,t.length-n.length):t;return e?i+e:i}function Sa(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ma(t){for(var e,n=t.points,i=0,r=0;r<n.numberOfItems;r++){var o=n.getItem(r);r>0&&(i+=Sa(e,o)),e=o}return i}function Ca(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return function(t){return 2*Math.PI*da(t,"r")}(t);case"rect":return function(t){return 2*da(t,"width")+2*da(t,"height")}(t);case"line":return function(t){return Sa({x:da(t,"x1"),y:da(t,"y1")},{x:da(t,"x2"),y:da(t,"y2")})}(t);case"polyline":return Ma(t);case"polygon":return function(t){var e=t.points;return Ma(t)+Sa(e.getItem(e.numberOfItems-1),e.getItem(0))}(t)}}function Ta(t,e){var n=e||{},i=n.el||function(t){for(var e=t.parentNode;Ys.svg(e)&&Ys.svg(e.parentNode);)e=e.parentNode;return e}(t),r=i.getBoundingClientRect(),o=da(i,"viewBox"),s=r.width,a=r.height,c=n.viewBox||(o?o.split(" "):[0,0,s,a]);return{el:i,viewBox:c,x:c[0]/1,y:c[1]/1,w:s,h:a,vW:c[2],vH:c[3]}}function Aa(t,e,n){function i(n){void 0===n&&(n=0);var i=e+n>=1?e+n:0;return t.el.getPointAtLength(i)}var r=Ta(t.el,t.svg),o=i(),s=i(-1),a=i(1),c=n?1:r.w/r.vW,l=n?1:r.h/r.vH;switch(t.property){case"x":return(o.x-r.x)*c;case"y":return(o.y-r.y)*l;case"angle":return 180*Math.atan2(a.y-s.y,a.x-s.x)/Math.PI}}function La(t,e){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=wa(Ys.pth(t)?t.totalLength:t,e)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:Ys.str(t)||e?i.split(n):[]}}function Ea(t){return ra(t?oa(Ys.arr(t)?t.map(sa):sa(t)):[],(function(t,e,n){return n.indexOf(t)===e}))}function Ra(t){var e=Ea(t);return e.map((function(t,n){return{target:t,id:n,total:e.length,transforms:{list:ba(t)}}}))}function Ia(t,e){var n=ca(e);if(/^spring/.test(n.easing)&&(n.duration=Js(n.easing)),Ys.arr(t)){var i=t.length;2!==i||Ys.obj(t[0])?Ys.fnc(e.duration)||(n.duration=e.duration/i):t={value:t}}var r=Ys.arr(t)?t:[t];return r.map((function(t,n){var i=Ys.obj(t)&&!Ys.pth(t)?t:{value:t};return Ys.und(i.delay)&&(i.delay=n?0:e.delay),Ys.und(i.endDelay)&&(i.endDelay=n===r.length-1?e.endDelay:0),i})).map((function(t){return ua(t,n)}))}function Pa(t,e){var n=[],i=e.keyframes;for(var r in i&&(e=ua(function(t){for(var e=ra(oa(t.map((function(t){return Object.keys(t)}))),(function(t){return Ys.key(t)})).reduce((function(t,e){return t.indexOf(e)<0&&t.push(e),t}),[]),n={},i=function(i){var r=e[i];n[r]=t.map((function(t){var e={};for(var n in t)Ys.key(n)?n==r&&(e.value=t[n]):e[n]=t[n];return e}))},r=0;r<e.length;r++)i(r);return n}(i),e)),e)Ys.key(r)&&n.push({name:r,tweens:Ia(e[r],t)});return n}function Da(t,e){var n;return t.tweens.map((function(i){var r=function(t,e){var n={};for(var i in t){var r=fa(t[i],e);Ys.arr(r)&&1===(r=r.map((function(t){return fa(t,e)}))).length&&(r=r[0]),n[i]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(i,e),o=r.value,s=Ys.arr(o)?o[1]:o,a=pa(s),c=ya(e.target,t.name,a,e),l=n?n.to.original:c,u=Ys.arr(o)?o[0]:l,h=pa(u)||pa(c),p=a||h;return Ys.und(s)&&(s=l),r.from=La(u,p),r.to=La(xa(s,u),p),r.start=n?n.end:0,r.end=r.start+r.delay+r.duration+r.endDelay,r.easing=na(r.easing,r.duration),r.isPath=Ys.pth(o),r.isPathTargetInsideSVG=r.isPath&&Ys.svg(e.target),r.isColor=Ys.col(r.from.original),r.isColor&&(r.round=1),n=r,r}))}var ka={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,i,r){if(i.list.set(e,n),e===i.last||r){var o="";i.list.forEach((function(t,e){o+=e+"("+t+") "})),t.style.transform=o}}};function Oa(t,e){Ra(t).forEach((function(t){for(var n in e){var i=fa(e[n],t),r=t.target,o=pa(i),s=ya(r,n,o,t),a=xa(wa(i,o||pa(s)),s),c=ga(r,n);ka[c](r,n,a,t.transforms,!0)}}))}function Na(t,e){return ra(oa(t.map((function(t){return e.map((function(e){return function(t,e){var n=ga(t.target,e.name);if(n){var i=Da(e,t),r=i[i.length-1];return{type:n,property:e.name,animatable:t,tweens:i,duration:r.end,delay:i[0].delay,endDelay:r.endDelay}}}(t,e)}))}))),(function(t){return!Ys.und(t)}))}function Fa(t,e){var n=t.length,i=function(t){return t.timelineOffset?t.timelineOffset:0},r={};return r.duration=n?Math.max.apply(Math,t.map((function(t){return i(t)+t.duration}))):e.duration,r.delay=n?Math.min.apply(Math,t.map((function(t){return i(t)+t.delay}))):e.delay,r.endDelay=n?r.duration-Math.max.apply(Math,t.map((function(t){return i(t)+t.duration-t.endDelay}))):e.endDelay,r}var Ba=0,ja=[],Ua=function(){var t;function e(n){for(var i=ja.length,r=0;r<i;){var o=ja[r];o.paused?(ja.splice(r,1),i--):(o.tick(n),r++)}t=r>0?requestAnimationFrame(e):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){Ga.suspendWhenDocumentHidden&&(za()?t=cancelAnimationFrame(t):(ja.forEach((function(t){return t._onDocumentVisibility()})),Ua()))})),function(){t||za()&&Ga.suspendWhenDocumentHidden||!(ja.length>0)||(t=requestAnimationFrame(e))}}();function za(){return!!document&&document.hidden}function Ga(t){void 0===t&&(t={});var e,n=0,i=0,r=0,o=0,s=null;function a(t){var e=window.Promise&&new Promise((function(t){return s=t}));return t.finished=e,e}var c=function(t){var e=la(zs,t),n=la(Gs,t),i=Pa(n,t),r=Ra(t.targets),o=Na(r,i),s=Fa(o,n),a=Ba;return Ba++,ua(e,{id:a,children:[],animatables:r,animations:o,duration:s.duration,delay:s.delay,endDelay:s.endDelay})}(t);function l(){var t=c.direction;"alternate"!==t&&(c.direction="normal"!==t?"normal":"reverse"),c.reversed=!c.reversed,e.forEach((function(t){return t.reversed=c.reversed}))}function u(t){return c.reversed?c.duration-t:t}function h(){n=0,i=u(c.currentTime)*(1/Ga.speed)}function p(t,e){e&&e.seek(t-e.timelineOffset)}function f(t){for(var e=0,n=c.animations,i=n.length;e<i;){var r=n[e],o=r.animatable,s=r.tweens,a=s.length-1,l=s[a];a&&(l=ra(s,(function(e){return t<e.end}))[0]||l);for(var u=Hs(t-l.start-l.delay,0,l.duration)/l.duration,h=isNaN(u)?1:l.easing(u),p=l.to.strings,f=l.round,d=[],_=l.to.numbers.length,m=void 0,g=0;g<_;g++){var b=void 0,v=l.to.numbers[g],y=l.from.numbers[g]||0;b=l.isPath?Aa(l.value,h*v,l.isPathTargetInsideSVG):y+h*(v-y),f&&(l.isColor&&g>2||(b=Math.round(b*f)/f)),d.push(b)}var x=p.length;if(x){m=p[0];for(var w=0;w<x;w++){p[w];var S=p[w+1],M=d[w];isNaN(M)||(m+=S?M+S:M+" ")}}else m=d[0];ka[r.type](o.target,r.property,m,o.transforms),r.currentValue=m,e++}}function d(t){c[t]&&!c.passThrough&&c[t](c)}function _(t){var h=c.duration,_=c.delay,m=h-c.endDelay,g=u(t);c.progress=Hs(g/h*100,0,100),c.reversePlayback=g<c.currentTime,e&&function(t){if(c.reversePlayback)for(var n=o;n--;)p(t,e[n]);else for(var i=0;i<o;i++)p(t,e[i])}(g),!c.began&&c.currentTime>0&&(c.began=!0,d("begin")),!c.loopBegan&&c.currentTime>0&&(c.loopBegan=!0,d("loopBegin")),g<=_&&0!==c.currentTime&&f(0),(g>=m&&c.currentTime!==h||!h)&&f(h),g>_&&g<m?(c.changeBegan||(c.changeBegan=!0,c.changeCompleted=!1,d("changeBegin")),d("change"),f(g)):c.changeBegan&&(c.changeCompleted=!0,c.changeBegan=!1,d("changeComplete")),c.currentTime=Hs(g,0,h),c.began&&d("update"),t>=h&&(i=0,c.remaining&&!0!==c.remaining&&c.remaining--,c.remaining?(n=r,d("loopComplete"),c.loopBegan=!1,"alternate"===c.direction&&l()):(c.paused=!0,c.completed||(c.completed=!0,d("loopComplete"),d("complete"),!c.passThrough&&"Promise"in window&&(s(),a(c)))))}return a(c),c.reset=function(){var t=c.direction;c.passThrough=!1,c.currentTime=0,c.progress=0,c.paused=!0,c.began=!1,c.loopBegan=!1,c.changeBegan=!1,c.completed=!1,c.changeCompleted=!1,c.reversePlayback=!1,c.reversed="reverse"===t,c.remaining=c.loop,e=c.children;for(var n=o=e.length;n--;)c.children[n].reset();(c.reversed&&!0!==c.loop||"alternate"===t&&1===c.loop)&&c.remaining++,f(c.reversed?c.duration:0)},c._onDocumentVisibility=h,c.set=function(t,e){return Oa(t,e),c},c.tick=function(t){r=t,n||(n=r),_((r+(i-n))*Ga.speed)},c.seek=function(t){_(u(t))},c.pause=function(){c.paused=!0,h()},c.play=function(){c.paused&&(c.completed&&c.reset(),c.paused=!1,ja.push(c),h(),Ua())},c.reverse=function(){l(),c.completed=!c.reversed,h()},c.restart=function(){c.reset(),c.play()},c.remove=function(t){Wa(Ea(t),c)},c.reset(),c.autoplay&&c.play(),c}function Va(t,e){for(var n=e.length;n--;)aa(t,e[n].animatable.target)&&e.splice(n,1)}function Wa(t,e){var n=e.animations,i=e.children;Va(t,n);for(var r=i.length;r--;){var o=i[r],s=o.animations;Va(t,s),s.length||o.children.length||i.splice(r,1)}n.length||i.length||e.pause()}Ga.version="3.2.1",Ga.speed=1,Ga.suspendWhenDocumentHidden=!0,Ga.running=ja,Ga.remove=function(t){for(var e=Ea(t),n=ja.length;n--;)Wa(e,ja[n])},Ga.get=ya,Ga.set=Oa,Ga.convertPx=_a,Ga.path=function(t,e){var n=Ys.str(t)?ia(t)[0]:t,i=e||100;return function(t){return{property:t,el:n,svg:Ta(n),totalLength:Ca(n)*(i/100)}}},Ga.setDashoffset=function(t){var e=Ca(t);return t.setAttribute("stroke-dasharray",e),e},Ga.stagger=function(t,e){void 0===e&&(e={});var n=e.direction||"normal",i=e.easing?na(e.easing):null,r=e.grid,o=e.axis,s=e.from||0,a="first"===s,c="center"===s,l="last"===s,u=Ys.arr(t),h=u?parseFloat(t[0]):parseFloat(t),p=u?parseFloat(t[1]):0,f=pa(u?t[1]:t)||0,d=e.start||0+(u?h:0),_=[],m=0;return function(t,e,g){if(a&&(s=0),c&&(s=(g-1)/2),l&&(s=g-1),!_.length){for(var b=0;b<g;b++){if(r){var v=c?(r[0]-1)/2:s%r[0],y=c?(r[1]-1)/2:Math.floor(s/r[0]),x=v-b%r[0],w=y-Math.floor(b/r[0]),S=Math.sqrt(x*x+w*w);"x"===o&&(S=-x),"y"===o&&(S=-w),_.push(S)}else _.push(Math.abs(s-b));m=Math.max.apply(Math,_)}i&&(_=_.map((function(t){return i(t/m)*m}))),"reverse"===n&&(_=_.map((function(t){return o?t<0?-1*t:-t:Math.abs(m-t)})))}return d+(u?(p-h)/m:h)*(Math.round(100*_[e])/100)+f}},Ga.timeline=function(t){void 0===t&&(t={});var e=Ga(t);return e.duration=0,e.add=function(n,i){var r=ja.indexOf(e),o=e.children;function s(t){t.passThrough=!0}r>-1&&ja.splice(r,1);for(var a=0;a<o.length;a++)s(o[a]);var c=ua(n,la(Gs,t));c.targets=c.targets||t.targets;var l=e.duration;c.autoplay=!1,c.direction=e.direction,c.timelineOffset=Ys.und(i)?l:xa(i,l),s(e),e.seek(c.timelineOffset);var u=Ga(c);s(u),o.push(u);var h=Fa(o,t);return e.delay=h.delay,e.endDelay=h.endDelay,e.duration=h.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e},Ga.easing=na,Ga.penner=ea,Ga.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};var Ha=Ga;const Xa=new class{constructor(){this.ratio=window.innerWidth/window.innerHeight,this.onResize=this.updateAspectRatio.bind(this),this.camera=new Tr(45,this.ratio),this.TPS=js.Camera.tps,this.AIM=js.Camera.aim,this.RUN=js.Camera.run,this.audioListener=new Is,this.shake=0,this.addAudioListener(),this.createEvents(),this.setCamera()}addAudioListener(){this.camera.add(this.audioListener)}createEvents(){window.addEventListener("resize",this.onResize,!1)}updateAspectRatio(){this.ratio=window.innerWidth/window.innerHeight,this.camera.aspect=this.ratio,this.camera.updateProjectionMatrix()}setCamera(){this.camera.rotation.set(0,Math.PI,0),this.camera.position.copy(this.TPS),this.camera.setFocalLength(25)}aimAnimation(t,e,n){const{x:i,y:r,z:o}=e?this.AIM:this.TPS;Ha.running.length=0,t&&e&&Ha({targets:this.camera.rotation,easing:"linear",duration:250,y:Math.PI}),Ha({targets:this.camera.position,easing:"easeInOutQuad",delay:100*~~e,duration:n,x:i,y:r,z:o})}runAnimation(t,e){if(this.shake||!1!==e){if(this.shake*=-1,void 0!==e){const{x:t,y:n,z:i}=e?this.RUN:this.TPS;this.shake=~~e,Ha({targets:this.camera.position,delay:100*this.shake,easing:"easeOutQuad",duration:300,x:t,y:n,z:i})}Ha({easing:null==e||e?"linear":"easeOutQuad",duration:250*~~t()+250,y:Math.PI+.025*this.shake,targets:this.camera.rotation,delay:1e3*~~!!e,complete:()=>t()&&this.runAnimation(t)})}}deathAnimation(){}setTo(t){t.add(this.camera)}destroy(){window.removeEventListener("resize",this.onResize,!1)}get object(){return this.camera}get listener(){return this.audioListener}},qa=Xa.object,Ya=Xa.listener;class Za extends fn{constructor(){super(),Object.defineProperty(this,"isScene",{value:!0}),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.environment&&(e.object.environment=this.environment.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}const Ja=t=>{let e=t.length,n=Infinity;for(;e--;)t[e]<n&&(n=t[e]);return n},Ka=t=>{let e=t.length,n=-Infinity;for(;e--;)t[e]>n&&(n=t[e]);return n};var $a,Qa;(Qa=$a||($a={})).BLACK=0,Qa.WHITE=16777215,Qa.GREY=8421504,Qa.RED=9045767,Qa.SKY=9474192,Qa.blend=(t,e,n=.5)=>{const i=Qa.hexToRGB(t),r=Qa.hexToRGB(e);return`#${(4294967296+65536*Math.round((r.r-i.r)*n+i.r)+256*Math.round((r.g-i.g)*n+i.g)+Math.round((r.b-i.b)*n+i.b)).toString(16).slice(3)}`.toUpperCase()},Qa.getClass=t=>new yn(t),Qa.rgbToHEX=t=>`#${((1<<24)+(t.r<<16)+(t.g<<8)+t.b).toString(16).slice(1)}`.toUpperCase(),Qa.hexToRGB=t=>{const e=parseInt(t.slice(1),16);return{r:e>>16&255,g:e>>8&255,b:255&e}};const tc=new Zi({visible:js.colliders,color:$a.RED,wireframe:!0}),ec=new Zi({visible:js.colliders,color:$a.GREY,transparent:!0,depthWrite:!1,opacity:.5}),nc=new Zi({color:$a.BLACK,transparent:!0,depthWrite:!1,visible:!1,opacity:0}),ic=new Zi({visible:js.hitBoxes,transparent:!0,depthWrite:!1,color:$a.RED,opacity:.33});let rc=0;const oc=new ze,sc=new fn,ac=new Be;function cc(){Object.defineProperty(this,"id",{value:rc+=2}),this.uuid=me.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}cc.prototype=Object.assign(Object.create(jt.prototype),{constructor:cc,isGeometry:!0,applyMatrix4:function(t){const e=(new be).getNormalMatrix(t);for(let e=0,n=this.vertices.length;e<n;e++)this.vertices[e].applyMatrix4(t);for(let t=0,n=this.faces.length;t<n;t++){const n=this.faces[t];n.normal.applyMatrix3(e).normalize();for(let t=0,i=n.vertexNormals.length;t<i;t++)n.vertexNormals[t].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(t){return oc.makeRotationX(t),this.applyMatrix4(oc),this},rotateY:function(t){return oc.makeRotationY(t),this.applyMatrix4(oc),this},rotateZ:function(t){return oc.makeRotationZ(t),this.applyMatrix4(oc),this},translate:function(t,e,n){return oc.makeTranslation(t,e,n),this.applyMatrix4(oc),this},scale:function(t,e,n){return oc.makeScale(t,e,n),this.applyMatrix4(oc),this},lookAt:function(t){return sc.lookAt(t),sc.updateMatrix(),this.applyMatrix4(sc.matrix),this},fromBufferGeometry:function(t){const e=this,n=null!==t.index?t.index:void 0,i=t.attributes;if(void 0===i.position)return this;const r=i.position,o=i.normal,s=i.color,a=i.uv,c=i.uv2;void 0!==c&&(this.faceVertexUvs[1]=[]);for(let t=0;t<r.count;t++)e.vertices.push((new Be).fromBufferAttribute(r,t)),void 0!==s&&e.colors.push((new yn).fromBufferAttribute(s,t));function l(t,n,i,r){const l=void 0===s?[]:[e.colors[t].clone(),e.colors[n].clone(),e.colors[i].clone()],u=void 0===o?[]:[(new Be).fromBufferAttribute(o,t),(new Be).fromBufferAttribute(o,n),(new Be).fromBufferAttribute(o,i)],h=new Yi(t,n,i,u,l,r);e.faces.push(h),void 0!==a&&e.faceVertexUvs[0].push([(new ge).fromBufferAttribute(a,t),(new ge).fromBufferAttribute(a,n),(new ge).fromBufferAttribute(a,i)]),void 0!==c&&e.faceVertexUvs[1].push([(new ge).fromBufferAttribute(c,t),(new ge).fromBufferAttribute(c,n),(new ge).fromBufferAttribute(c,i)])}const u=t.groups;if(u.length>0)for(let t=0;t<u.length;t++){const e=u[t],i=e.start;for(let t=i,r=i+e.count;t<r;t+=3)void 0!==n?l(n.getX(t),n.getX(t+1),n.getX(t+2),e.materialIndex):l(t,t+1,t+2,e.materialIndex)}else if(void 0!==n)for(let t=0;t<n.count;t+=3)l(n.getX(t),n.getX(t+1),n.getX(t+2));else for(let t=0;t<r.count;t+=3)l(t,t+1,t+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(ac).negate(),this.translate(ac.x,ac.y,ac.z),this},normalize:function(){this.computeBoundingSphere();const t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,i=new ze;return i.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix4(i),this},computeFaceNormals:function(){const t=new Be,e=new Be;for(let n=0,i=this.faces.length;n<i;n++){const i=this.faces[n],r=this.vertices[i.a],o=this.vertices[i.b],s=this.vertices[i.c];t.subVectors(s,o),e.subVectors(r,o),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t=!0){const e=new Array(this.vertices.length);for(let t=0,n=this.vertices.length;t<n;t++)e[t]=new Be;if(t){const t=new Be,n=new Be;for(let i=0,r=this.faces.length;i<r;i++){const r=this.faces[i],o=this.vertices[r.a],s=this.vertices[r.b],a=this.vertices[r.c];t.subVectors(a,s),n.subVectors(o,s),t.cross(n),e[r.a].add(t),e[r.b].add(t),e[r.c].add(t)}}else{this.computeFaceNormals();for(let t=0,n=this.faces.length;t<n;t++){const n=this.faces[t];e[n.a].add(n.normal),e[n.b].add(n.normal),e[n.c].add(n.normal)}}for(let t=0,n=this.vertices.length;t<n;t++)e[t].normalize();for(let t=0,n=this.faces.length;t<n;t++){const n=this.faces[t],i=n.vertexNormals;3===i.length?(i[0].copy(e[n.a]),i[1].copy(e[n.b]),i[2].copy(e[n.c])):(i[0]=e[n.a].clone(),i[1]=e[n.b].clone(),i[2]=e[n.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t],n=e.vertexNormals;3===n.length?(n[0].copy(e.normal),n[1].copy(e.normal),n[2].copy(e.normal)):(n[0]=e.normal.clone(),n[1]=e.normal.clone(),n[2]=e.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t];e.__originalFaceNormal?e.__originalFaceNormal.copy(e.normal):e.__originalFaceNormal=e.normal.clone(),e.__originalVertexNormals||(e.__originalVertexNormals=[]);for(let t=0,n=e.vertexNormals.length;t<n;t++)e.__originalVertexNormals[t]?e.__originalVertexNormals[t].copy(e.vertexNormals[t]):e.__originalVertexNormals[t]=e.vertexNormals[t].clone()}const t=new cc;t.faces=this.faces;for(let e=0,n=this.morphTargets.length;e<n;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];const t=this.morphNormals[e].faceNormals,n=this.morphNormals[e].vertexNormals;for(let e=0,i=this.faces.length;e<i;e++){const e=new Be,i={a:new Be,b:new Be,c:new Be};t.push(e),n.push(i)}}const n=this.morphNormals[e];t.vertices=this.morphTargets[e].vertices,t.computeFaceNormals(),t.computeVertexNormals();for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t],i=n.faceNormals[t],r=n.vertexNormals[t];i.copy(e.normal),r.a.copy(e.vertexNormals[0]),r.b.copy(e.vertexNormals[1]),r.c.copy(e.vertexNormals[2])}}for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t];e.normal=e.__originalFaceNormal,e.vertexNormals=e.__originalVertexNormals}},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Cn),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new zn),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n=0){if(!t||!t.isGeometry)return;let i;const r=this.vertices.length,o=this.vertices,s=t.vertices,a=this.faces,c=t.faces,l=this.colors,u=t.colors;void 0!==e&&(i=(new be).getNormalMatrix(e));for(let t=0,n=s.length;t<n;t++){const n=s[t].clone();void 0!==e&&n.applyMatrix4(e),o.push(n)}for(let t=0,e=u.length;t<e;t++)l.push(u[t].clone());for(let t=0,e=c.length;t<e;t++){const e=c[t];let o,s;const l=e.vertexNormals,u=e.vertexColors,h=new Yi(e.a+r,e.b+r,e.c+r);h.normal.copy(e.normal),void 0!==i&&h.normal.applyMatrix3(i).normalize();for(let t=0,e=l.length;t<e;t++)o=l[t].clone(),void 0!==i&&o.applyMatrix3(i).normalize(),h.vertexNormals.push(o);h.color.copy(e.color);for(let t=0,e=u.length;t<e;t++)s=u[t],h.vertexColors.push(s.clone());h.materialIndex=e.materialIndex+n,a.push(h)}for(let e=0,n=t.faceVertexUvs.length;e<n;e++){const n=t.faceVertexUvs[e];void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]);for(let t=0,i=n.length;t<i;t++){const i=n[t],r=[];for(let t=0,e=i.length;t<e;t++)r.push(i[t].clone());this.faceVertexUvs[e].push(r)}}},mergeMesh:function(t){t&&t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix))},mergeVertices:function(t=4){const e={},n=[],i=[],r=Math.pow(10,t);for(let t=0,o=this.vertices.length;t<o;t++){const o=this.vertices[t],s=Math.round(o.x*r)+"_"+Math.round(o.y*r)+"_"+Math.round(o.z*r);void 0===e[s]?(e[s]=t,n.push(this.vertices[t]),i[t]=n.length-1):i[t]=i[e[s]]}const o=[];for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t];e.a=i[e.a],e.b=i[e.b],e.c=i[e.c];const n=[e.a,e.b,e.c];for(let e=0;e<3;e++)if(n[e]===n[(e+1)%3]){o.push(t);break}}for(let t=o.length-1;t>=0;t--){const e=o[t];this.faces.splice(e,1);for(let t=0,n=this.faceVertexUvs.length;t<n;t++)this.faceVertexUvs[t].splice(e,1)}const s=this.vertices.length-n.length;return this.vertices=n,s},setFromPoints:function(t){this.vertices=[];for(let e=0,n=t.length;e<n;e++){const n=t[e];this.vertices.push(new Be(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){const t=this.faces,e=t.length;for(let n=0;n<e;n++)t[n]._id=n;t.sort((function(t,e){return t.materialIndex-e.materialIndex}));const n=this.faceVertexUvs[0],i=this.faceVertexUvs[1];let r,o;n&&n.length===e&&(r=[]),i&&i.length===e&&(o=[]);for(let s=0;s<e;s++){const e=t[s]._id;r&&r.push(n[e]),o&&o.push(i[e])}r&&(this.faceVertexUvs[0]=r),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){const t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){const e=this.parameters;for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}const e=[];for(let t=0;t<this.vertices.length;t++){const n=this.vertices[t];e.push(n.x,n.y,n.z)}const n=[],i=[],r={},o=[],s={},a=[],c={};for(let t=0;t<this.faces.length;t++){const e=this.faces[t],i=!0,r=!1,o=void 0!==this.faceVertexUvs[0][t],s=e.normal.length()>0,a=e.vertexNormals.length>0,c=1!==e.color.r||1!==e.color.g||1!==e.color.b,f=e.vertexColors.length>0;let d=0;if(d=l(d,0,0),d=l(d,1,i),d=l(d,2,r),d=l(d,3,o),d=l(d,4,s),d=l(d,5,a),d=l(d,6,c),d=l(d,7,f),n.push(d),n.push(e.a,e.b,e.c),n.push(e.materialIndex),o){const e=this.faceVertexUvs[0][t];n.push(p(e[0]),p(e[1]),p(e[2]))}if(s&&n.push(u(e.normal)),a){const t=e.vertexNormals;n.push(u(t[0]),u(t[1]),u(t[2]))}if(c&&n.push(h(e.color)),f){const t=e.vertexColors;n.push(h(t[0]),h(t[1]),h(t[2]))}}function l(t,e,n){return n?t|1<<e:t&~(1<<e)}function u(t){const e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==r[e]||(r[e]=i.length/3,i.push(t.x,t.y,t.z)),r[e]}function h(t){const e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==s[e]||(s[e]=o.length,o.push(t.getHex())),s[e]}function p(t){const e=t.x.toString()+t.y.toString();return void 0!==c[e]||(c[e]=a.length/2,a.push(t.x,t.y)),c[e]}return t.data={},t.data.vertices=e,t.data.normals=i,o.length>0&&(t.data.colors=o),a.length>0&&(t.data.uvs=[a]),t.data.faces=n,t},clone:function(){return(new cc).copy(this)},copy:function(t){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;const e=t.vertices;for(let t=0,n=e.length;t<n;t++)this.vertices.push(e[t].clone());const n=t.colors;for(let t=0,e=n.length;t<e;t++)this.colors.push(n[t].clone());const i=t.faces;for(let t=0,e=i.length;t<e;t++)this.faces.push(i[t].clone());for(let e=0,n=t.faceVertexUvs.length;e<n;e++){const n=t.faceVertexUvs[e];void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]);for(let t=0,i=n.length;t<i;t++){const i=n[t],r=[];for(let t=0,e=i.length;t<e;t++){const e=i[t];r.push(e.clone())}this.faceVertexUvs[e].push(r)}}const r=t.morphTargets;for(let t=0,e=r.length;t<e;t++){const e={};if(e.name=r[t].name,void 0!==r[t].vertices){e.vertices=[];for(let n=0,i=r[t].vertices.length;n<i;n++)e.vertices.push(r[t].vertices[n].clone())}if(void 0!==r[t].normals){e.normals=[];for(let n=0,i=r[t].normals.length;n<i;n++)e.normals.push(r[t].normals[n].clone())}this.morphTargets.push(e)}const o=t.morphNormals;for(let t=0,e=o.length;t<e;t++){const e={};if(void 0!==o[t].vertexNormals){e.vertexNormals=[];for(let n=0,i=o[t].vertexNormals.length;n<i;n++){const i=o[t].vertexNormals[n],r={};r.a=i.a.clone(),r.b=i.b.clone(),r.c=i.c.clone(),e.vertexNormals.push(r)}}if(void 0!==o[t].faceNormals){e.faceNormals=[];for(let n=0,i=o[t].faceNormals.length;n<i;n++)e.faceNormals.push(o[t].faceNormals[n].clone())}this.morphNormals.push(e)}const s=t.skinWeights;for(let t=0,e=s.length;t<e;t++)this.skinWeights.push(s[t].clone());const a=t.skinIndices;for(let t=0,e=a.length;t<e;t++)this.skinIndices.push(a[t].clone());const c=t.lineDistances;for(let t=0,e=c.length;t<e;t++)this.lineDistances.push(c[t]);const l=t.boundingBox;null!==l&&(this.boundingBox=l.clone());const u=t.boundingSphere;return null!==u&&(this.boundingSphere=u.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class lc extends cc{constructor(t,e,n,i,r,o){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:r,depthSegments:o},this.fromBufferGeometry(new xi(t,e,n,i,r,o)),this.mergeVertices()}}var uc=n("./node_modules/ammo.js/ammo.js"),hc=n.n(uc);const pc=.01;var fc=new class{constructor(){this.colliders=new Map,this.linearVelocity=new hc.a.btVector3,this.transform=new hc.a.btTransform,this.positionVector=new Be,this.rotationVector=new Ze,this.sizeVector=new Be,this.paused=!1;const t=new hc.a.btDefaultCollisionConfiguration;this.world=new hc.a.btDiscreteDynamicsWorld(new hc.a.btCollisionDispatcher(t),new hc.a.btDbvtBroadphase,new hc.a.btSequentialImpulseConstraintSolver,t),this.world.setGravity(new hc.a.btVector3(0,-9.81,0))}createRigidBody(t,e,n,i){const r=new hc.a.btTransform;r.setIdentity(),r.setOrigin(new hc.a.btVector3(n.x,n.y,n.z)),r.setRotation(new hc.a.btQuaternion(i.x,i.y,i.z,i.w));const o=new hc.a.btVector3(0,0,0),s=new hc.a.btDefaultMotionState(r);e>0&&t.calculateLocalInertia(e,o);const a=new hc.a.btRigidBody(new hc.a.btRigidBodyConstructionInfo(e,s,t,o));return a.setDamping(0,0),a.setRestitution(0),a.setFriction(0),a}createStaticCollider(t){const{x:e,y:n,z:i}=this.sizeVector,r=new fr(new lc(e,n,i),t);r.position.copy(this.positionVector),r.rotation.copy(this.rotationVector);const o=new hc.a.btBoxShape(new hc.a.btVector3(e/2,n/2,i/2)),s=this.createRigidBody(o,0,r.position,r.quaternion);this.world.addRigidBody(s,2,65535),bt.dispatch("add:object",r)}createCharacterCollider(t,e){const{radius:n,height:i}=t.geometry,r=new hc.a.btCapsuleShape(1.4675*n,1.4675*i),o=this.createRigidBody(r,e,t.position,t.quaternion);o.setAngularFactor(new hc.a.btVector3(0,0,0)),o.setLinearFactor(new hc.a.btVector3(1,1,1)),this.colliders.set(t.uuid,{mesh:t,body:o}),this.world.addRigidBody(o,128,65535),bt.dispatch("add:object",t)}borderOverflow(t){const{x:e,z:n}=this.positionVector;return Math.abs(e)>Math.abs(t.x)&&Math.abs(n)>Math.abs(t.z)}createBound(t,e,n,i=0){this.rotationVector.set(0,0,0);const r=t[0],o=t[1],s=r-e[0],a=o-e[1],c=s/-2+r,l=a/-2+o;let u=Math.abs(s),h=Math.abs(a);if(u&&h){const t=h>u,e=Math.sqrt(u**2+h**2);this.rotationVector.set(0,t?Mt.d2+Math.atan(h/u):Mt.d2-Math.atan(u/h),0),t?h=e:u=e}u=u<h?pc:u,h=h<u?pc:h,this.positionVector.set(c,i,l),this.sizeVector.set(u,n,h)}createBounds(t,e){const n=new Be,i=t.borders.concat([t.borders[0]]),r=e.borders.concat([e.borders[0]]);for(let o=0;o<t.borders.length;o++){if(this.createBound(i[o],i[o+1],t.height,t.y),this.createStaticCollider(ec),n.copy(this.positionVector),this.createBound(r[o],r[o+1],e.height,e.y),this.borderOverflow(n))continue;const s=this.rotationVector.y?1.1:1,a=this.positionVector.distanceTo(n)/2*.95;this.positionVector.x-=(this.positionVector.x-n.x)/2,this.positionVector.z-=(this.positionVector.z-n.z)/2,this.sizeVector.z===pc?this.sizeVector.setZ(a):this.sizeVector.setX(a),this.positionVector.x<0?this.sizeVector.z*=s:this.sizeVector.x*=s,this.createStaticCollider(ec)}}createGround(t,e){this.sizeVector.set(Math.abs(t[0]-e[0]),pc,Math.abs(t[1]-e[1])),this.positionVector.set((t[0]+e[0])/2,0,(t[1]+e[1])/2),this.createStaticCollider(nc)}setPlayer(t){this.createCharacterCollider(t,90),this.player=this.colliders.get(t.uuid),this.player.body.forceActivationState(5)}move(t){this.linearVelocity.setValue(t.x,t.y,t.z),this.player.body.setLinearVelocity(this.linearVelocity),this.player.body.forceActivationState(1)}stop(){this.linearVelocity.setValue(0,0,0),this.player.body.forceActivationState(5),this.player.body.setLinearVelocity(this.linearVelocity)}update(t){this.paused||(this.world.stepSimulation(t),this.colliders.forEach((t=>{const{mesh:e,body:n}=t,i=n.getMotionState();if(i){i.getWorldTransform(this.transform);const t=this.transform.getOrigin(),n=this.transform.getRotation();e.position.set(t.x(),t.y(),t.z()),e.quaternion.set(n.x(),n.y(),n.z(),n.w())}})))}destroy(){this.world.__destroy__(),this.colliders.clear()}set pause(t){this.player.body.forceActivationState(t?5:1),this.paused=t}};class dc{constructor(t){this.basePath="./assets/music",this.paused=!0,this.mute=!1,this.vol=.1,this.track=new Audio(`${this.basePath}/${t}`),this.track.autoplay=!this.paused,this.track.volume=this.vol,this.track.muted=this.mute,this.track.loop=!0,this.track.load()}toggle(t){t?this.track.play():this.track.pause(),this.paused=!t}play(){this.toggle(!0)}pause(){this.toggle(!1)}destroy(){this.track.currentTime=0,this.toggle(!1)}set volume(t){this.track.volume=t,this.vol=t}get volume(){return this.vol}set muted(t){this.track.muted=t,this.mute=t}get muted(){return this.mute}}class _c extends class{constructor(){this.renderer=new Ts({antialias:!0,alpha:!1}),this.onResize=this.setRenderSize.bind(this),this.loader=new Pe.Loader,this.scene=new Za,this.camera=qa,this.createRenderer(),this.createEvents()}async loadLevel(t){const e=await this.loader.loadGLTF(t);return this.scene.add(e.scene),e.scene}createSkybox(t){this.loader.loadCubeTexture(t).then((t=>this.scene.background=t))}createRenderer(){this.renderer.setPixelRatio(window.devicePixelRatio||1),this.renderer.shadowMap.enabled=!1,this.setRenderSize()}setRenderSize(){this.renderer.setSize(window.innerWidth,window.innerHeight)}createEvents(){window.addEventListener("resize",this.onResize,!1)}render(){this.renderer.render(this.scene,this.camera)}destroy(){window.removeEventListener("resize",this.onResize,!1),this.renderer.dispose()}get canvas(){return this.renderer.domElement}}{constructor(){super(),this.music=new dc(js.Level0.music),js.freeCamera&&n.e("orbit-controls").then(n.bind(null,"./node_modules/three/examples/jsm/controls/OrbitControls.js")).then((t=>{this.controls=new t.OrbitControls(this.camera,this.canvas),this.camera.position.set(0,10,-50),this.controls.target.set(0,0,25),this.camera.lookAt(0,0,0),this.controls.update()})),this.camera.far=js.Level0.depth,this.createEnvironment(),this.createLights()}createEnvironment(){this.createSkybox(js.Level0.skybox),this.scene.fog=new Sn($a.GREY,.1),this.loadLevel(js.Level0.model).then((t=>{t.position.copy(js.Level0.position),t.scale.copy(js.Level0.scale)}))}createLights(){this.scene.add(new wn($a.WHITE))}createColliders(){const{position:t,height:e,sidewalkHeight:n}=js.Level0;fc.createGround(_c.minCoords,_c.maxCoords),fc.createBounds({borders:_c.bounds,y:t.y,height:e},{borders:js.Level0.sidewalk,height:n,y:n/2})}removeObject(t){this.scene.remove(t)}addObject(t){this.scene.add(t)}render(){var t;null===(t=this.controls)||void 0===t||t.update(),super.render()}destroy(){var t;this.music.destroy(),super.destroy(),js.DEBUG&&(null===(t=this.controls)||void 0===t||t.dispose(),delete this.controls)}static get minCoords(){return[Ja(_c.bounds.map((t=>t[0]))),Ja(_c.bounds.map((t=>t[1])))]}static get maxCoords(){return[Ka(_c.bounds.map((t=>t[0]))),Ka(_c.bounds.map((t=>t[1])))]}static get bounds(){return js.Level0.bounds}}function mc(t){Mi.call(this),this.type="MeshPhongMaterial",this.color=new yn(16777215),this.specular=new yn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}mc.prototype=Object.create(Mi.prototype),mc.prototype.constructor=mc,mc.prototype.isMeshPhongMaterial=!0,mc.prototype.copy=function(t){return Mi.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this};class gc{constructor(t,e,n=null,i=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=n,this.blendMode=i;const r=e.tracks,o=r.length,s=new Array(o),a={endingStart:ae,endingEnd:ae};for(let t=0;t!==o;++t){const e=r[t].createInterpolant(null);s[t]=e,e.settings=a}this._interpolantSettings=a,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=Infinity,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){const n=this._clip.duration,i=t._clip.duration,r=i/n,o=n/i;t.warp(1,r,e),this.warp(o,1,e)}return this}crossFadeTo(t,e,n){return t.crossFadeFrom(this,e,n)}stopFading(){const t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,n){const i=this._mixer,r=i.time,o=this.timeScale;let s=this._timeScaleInterpolant;null===s&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const a=s.parameterPositions,c=s.sampleValues;return a[0]=r,a[1]=r+n,c[0]=t/o,c[1]=e/o,this}stopWarping(){const t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,n,i){if(!this.enabled)return void this._updateWeight(t);const r=this._startTime;if(null!==r){const i=(t-r)*n;if(i<0||0===n)return;this._startTime=null,e=n*i}e*=this._updateTimeScale(t);const o=this._updateTime(e),s=this._updateWeight(t);if(s>0){const t=this._interpolants,e=this._propertyBindings;switch(this.blendMode){case 2501:for(let n=0,i=t.length;n!==i;++n)t[n].evaluate(o),e[n].accumulateAdditive(s);break;case ue:default:for(let n=0,r=t.length;n!==r;++n)t[n].evaluate(o),e[n].accumulate(i,s)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const n=this._weightInterpolant;if(null!==n){const i=n.evaluate(t)[0];e*=i,t>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const n=this._timeScaleInterpolant;null!==n&&(e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,n=this.loop;let i=this.time+t,r=this._loopCount;const o=2202===n;if(0===t)return-1===r?i:o&&1==(1&r)?e-i:i;if(n===ie){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(i>=e)i=e;else{if(!(i<0)){this.time=i;break t}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),i>=e||i<0){const n=Math.floor(i/e);i-=e*n,r+=Math.abs(n);const s=this.repetitions-r;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=t>0?e:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){const e=t<0;this._setEndings(e,!e,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=i;if(o&&1==(1&r))return e-i}return i}_setEndings(t,e,n){const i=this._interpolantSettings;n?(i.endingStart=ce,i.endingEnd=ce):(i.endingStart=t?this.zeroSlopeAtStart?ce:ae:le,i.endingEnd=e?this.zeroSlopeAtEnd?ce:ae:le)}_scheduleFading(t,e,n){const i=this._mixer,r=i.time;let o=this._weightInterpolant;null===o&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,a=o.sampleValues;return s[0]=r,a[0]=e,s[1]=r+t,a[1]=n,this}}function bc(t,e,n,i){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function vc(t,e,n,i){bc.call(this,t,e,n,i)}Object.assign(bc.prototype,{evaluate:function(t){const e=this.parameterPositions;let n=this._cachedIndex,i=e[n],r=e[n-1];t:{e:{let o;n:{i:if(!(t<i)){for(let o=n+2;;){if(void 0===i){if(t<r)break i;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,r)}if(n===o)break;if(r=i,i=e[++n],t<i)break e}o=e.length;break n}if(t>=r)break t;{const s=e[1];t<s&&(n=2,r=s);for(let o=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(n===o)break;if(i=r,r=e[--n-1],t>=r)break e}o=n,n=0}}for(;n<o;){const i=n+o>>>1;t<e[i]?o=i:n=i+1}if(i=e[n],r=e[n-1],void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(void 0===i)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,r,t)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,t,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){const e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i;for(let t=0;t!==i;++t)e[t]=n[r+t];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(bc.prototype,{beforeStart_:bc.prototype.copySampleValue_,afterEnd_:bc.prototype.copySampleValue_}),vc.prototype=Object.assign(Object.create(bc.prototype),{constructor:vc,interpolate_:function(t,e,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=t*s,c=a-s,l=(n-e)/(i-e),u=1-l;for(let t=0;t!==s;++t)r[t]=o[c+t]*u+o[a+t]*l;return r}});const yc="\\[\\]\\.:\\/",xc=new RegExp("[\\[\\]\\.:\\/]","g"),wc="[^\\[\\]\\.:\\/]",Sc="[^"+yc.replace("\\.","")+"]",Mc=/((?:WC+[\/:])*)/.source.replace("WC",wc),Cc=/(WCOD+)?/.source.replace("WCOD",Sc),Tc=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",wc),Ac=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",wc),Lc=new RegExp("^"+Mc+Cc+Tc+Ac+"$"),Ec=["material","materials","bones"];function Rc(t,e,n){const i=n||Ic.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,i)}function Ic(t,e,n){this.path=e,this.parsedPath=n||Ic.parseTrackName(e),this.node=Ic.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function Pc(t,e,n){let i,r,o;switch(this.binding=t,this.valueSize=n,e){case"quaternion":i=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:i=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(Rc.prototype,{getValue:function(t,e){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(t,e)},setValue:function(t,e){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(t,e)},bind:function(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(Ic,{Composite:Rc,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new Ic.Composite(t,e,n):new Ic(t,e,n)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(xc,"")},parseTrackName:function(t){const e=Lc.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){const t=n.nodeName.substring(i+1);-1!==Ec.indexOf(t)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=t)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n},findNode:function(t,e){if(!e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){const n=function(t){for(let i=0;i<t.length;i++){const r=t[i];if(r.name===e||r.uuid===e)return r;const o=n(r.children);if(o)return o}return null},i=n(t.children);if(i)return i}return null}}),Object.assign(Ic.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)t[e++]=n[i]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++]},function(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){let t=this.node;const e=this.parsedPath,n=e.objectName,i=e.propertyName;let r=e.propertyIndex;if(t||(t=Ic.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return;if(n){let i=e.objectIndex;switch(n){case"materials":if(!t.material)return;if(!t.material.materials)return;t=t.material.materials;break;case"bones":if(!t.skeleton)return;t=t.skeleton.bones;for(let e=0;e<t.length;e++)if(t[e].name===i){i=e;break}break;default:if(void 0===t[n])return;t=t[n]}if(void 0!==i){if(void 0===t[i])return;t=t[i]}}const o=t[i];if(void 0===o)return void e.nodeName;let s=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?s=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(s=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!t.geometry)return;if(!t.geometry.isBufferGeometry)return;if(!t.geometry.morphAttributes)return;void 0!==t.morphTargetDictionary[r]&&(r=t.morphTargetDictionary[r])}a=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else void 0!==o.fromArray&&void 0!==o.toArray?(a=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(a=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][s]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Ic.prototype,{_getValue_unbound:Ic.prototype.getValue,_setValue_unbound:Ic.prototype.setValue}),Object.assign(Pc.prototype,{accumulate:function(t,e){const n=this.buffer,i=this.valueSize,r=t*i+i;let o=this.cumulativeWeight;if(0===o){for(let t=0;t!==i;++t)n[r+t]=n[t];o=e}else{o+=e;const t=e/o;this._mixBufferRegion(n,r,0,t,i)}this.cumulativeWeight=o},accumulateAdditive:function(t){const e=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,i,0,t,n),this.cumulativeWeightAdditive+=t},apply:function(t){const e=this.valueSize,n=this.buffer,i=t*e+e,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const t=e*this._origIndex;this._mixBufferRegion(n,i,t,1-r,e)}o>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*e,1,e);for(let t=e,r=e+e;t!==r;++t)if(n[t]!==n[t+e]){s.setValue(n,i);break}},saveOriginalState:function(){const t=this.binding,e=this.buffer,n=this.valueSize,i=n*this._origIndex;t.getValue(e,i);for(let t=n,r=i;t!==r;++t)e[t]=e[i+t%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_setAdditiveIdentityNumeric:function(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let n=t;n<e;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[e+n]=this.buffer[t+n]},_select:function(t,e,n,i,r){if(i>=.5)for(let i=0;i!==r;++i)t[e+i]=t[n+i]},_slerp:function(t,e,n,i){Fe.slerpFlat(t,e,t,e,t,n,i)},_slerpAdditive:function(t,e,n,i,r){const o=this._workIndex*r;Fe.multiplyQuaternionsFlat(t,o,t,e,t,n),Fe.slerpFlat(t,e,t,e,t,o,i)},_lerp:function(t,e,n,i,r){const o=1-i;for(let s=0;s!==r;++s){const r=e+s;t[r]=t[r]*o+t[n+s]*i}},_lerpAdditive:function(t,e,n,i,r){for(let o=0;o!==r;++o){const r=e+o;t[r]=t[r]+t[n+o]*i}}});const Dc={arraySlice:function(t,e,n){return Dc.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){const e=t.length,n=new Array(e);for(let t=0;t!==e;++t)n[t]=t;return n.sort((function(e,n){return t[e]-t[n]})),n},sortedArray:function(t,e,n){const i=t.length,r=new t.constructor(i);for(let o=0,s=0;s!==i;++o){const i=n[o]*e;for(let n=0;n!==e;++n)r[s++]=t[i+n]}return r},flattenJSON:function(t,e,n,i){let r=1,o=t[0];for(;void 0!==o&&void 0===o[i];)o=t[r++];if(void 0===o)return;let s=o[i];if(void 0!==s)if(Array.isArray(s))do{s=o[i],void 0!==s&&(e.push(o.time),n.push.apply(n,s)),o=t[r++]}while(void 0!==o);else if(void 0!==s.toArray)do{s=o[i],void 0!==s&&(e.push(o.time),s.toArray(n,n.length)),o=t[r++]}while(void 0!==o);else do{s=o[i],void 0!==s&&(e.push(o.time),n.push(s)),o=t[r++]}while(void 0!==o)},subclip:function(t,e,n,i,r=30){const o=t.clone();o.name=e;const s=[];for(let t=0;t<o.tracks.length;++t){const e=o.tracks[t],a=e.getValueSize(),c=[],l=[];for(let t=0;t<e.times.length;++t){const o=e.times[t]*r;if(!(o<n||o>=i)){c.push(e.times[t]);for(let n=0;n<a;++n)l.push(e.values[t*a+n])}}0!==c.length&&(e.times=Dc.convertArray(c,e.times.constructor),e.values=Dc.convertArray(l,e.values.constructor),s.push(e))}o.tracks=s;let a=Infinity;for(let t=0;t<o.tracks.length;++t)a>o.tracks[t].times[0]&&(a=o.tracks[t].times[0]);for(let t=0;t<o.tracks.length;++t)o.tracks[t].shift(-1*a);return o.resetDuration(),o},makeClipAdditive:function(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,o=e/i;for(let e=0;e<r;++e){const i=n.tracks[e],r=i.ValueTypeName;if("bool"===r||"string"===r)continue;const s=t.tracks.find((function(t){return t.name===i.name&&t.ValueTypeName===r}));if(void 0===s)continue;let a=0;const c=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(a=c/3);let l=0;const u=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=u/3);const h=i.times.length-1;let p;if(o<=i.times[0]){const t=a,e=c-a;p=Dc.arraySlice(i.values,t,e)}else if(o>=i.times[h]){const t=h*c+a,e=t+c-a;p=Dc.arraySlice(i.values,t,e)}else{const t=i.createInterpolant(),e=a,n=c-a;t.evaluate(o),p=Dc.arraySlice(t.resultBuffer,e,n)}"quaternion"===r&&(new Fe).fromArray(p).normalize().conjugate().toArray(p);const f=s.times.length;for(let t=0;t<f;++t){const e=t*u+l;if("quaternion"===r)Fe.multiplyQuaternionsFlat(s.values,e,p,0,s.values,e);else{const t=u-2*l;for(let n=0;n<t;++n)s.values[e+n]-=p[n]}}}return t.blendMode=2501,t}};function kc(t,e,n,i){bc.call(this,t,e,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Oc(t,e,n,i){bc.call(this,t,e,n,i)}function Nc(t,e,n,i){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Dc.convertArray(e,this.TimeBufferType),this.values=Dc.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}function Fc(t,e,n){Nc.call(this,t,e,n)}function Bc(t,e,n,i){Nc.call(this,t,e,n,i)}function jc(t,e,n,i){Nc.call(this,t,e,n,i)}function Uc(t,e,n,i){bc.call(this,t,e,n,i)}function zc(t,e,n,i){Nc.call(this,t,e,n,i)}function Gc(t,e,n,i){Nc.call(this,t,e,n,i)}function Vc(t,e,n,i){Nc.call(this,t,e,n,i)}function Wc(t,e=-1,n,i=2500){this.name=t,this.tracks=n,this.duration=e,this.blendMode=i,this.uuid=me.generateUUID(),this.duration<0&&this.resetDuration()}function Hc(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return jc;case"vector":case"vector2":case"vector3":case"vector4":return Vc;case"color":return Bc;case"quaternion":return zc;case"bool":case"boolean":return Fc;case"string":return Gc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){const e=[],n=[];Dc.flattenJSON(t.keys,e,n,"value"),t.times=e,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}function Xc(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}kc.prototype=Object.assign(Object.create(bc.prototype),{constructor:kc,DefaultSettings_:{endingStart:ae,endingEnd:ae},intervalChanged_:function(t,e,n){const i=this.parameterPositions;let r=t-2,o=t+1,s=i[r],a=i[o];if(void 0===s)switch(this.getSettings_().endingStart){case ce:r=t,s=2*e-n;break;case le:r=i.length-2,s=e+i[r]-i[r+1];break;default:r=t,s=n}if(void 0===a)switch(this.getSettings_().endingEnd){case ce:o=t,a=2*n-e;break;case le:o=1,a=n+i[1]-i[0];break;default:o=t-1,a=e}const c=.5*(n-e),l=this.valueSize;this._weightPrev=c/(e-s),this._weightNext=c/(a-n),this._offsetPrev=r*l,this._offsetNext=o*l},interpolate_:function(t,e,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=t*s,c=a-s,l=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,p=this._weightNext,f=(n-e)/(i-e),d=f*f,_=d*f,m=-h*_+2*h*d-h*f,g=(1+h)*_+(-1.5-2*h)*d+(-.5+h)*f+1,b=(-1-p)*_+(1.5+p)*d+.5*f,v=p*_-p*d;for(let t=0;t!==s;++t)r[t]=m*o[l+t]+g*o[c+t]+b*o[a+t]+v*o[u+t];return r}}),Oc.prototype=Object.assign(Object.create(bc.prototype),{constructor:Oc,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(Nc,{toJSON:function(t){const e=t.constructor;let n;if(void 0!==e.toJSON)n=e.toJSON(t);else{n={name:t.name,times:Dc.convertArray(t.times,Array),values:Dc.convertArray(t.values,Array)};const e=t.getInterpolation();e!==t.DefaultInterpolation&&(n.interpolation=e)}return n.type=t.ValueTypeName,n}}),Object.assign(Nc.prototype,{constructor:Nc,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:oe,InterpolantFactoryMethodDiscrete:function(t){return new Oc(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new vc(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new kc(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){let e;switch(t){case re:e=this.InterpolantFactoryMethodDiscrete;break;case oe:e=this.InterpolantFactoryMethodLinear;break;case se:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(e);this.setInterpolation(this.DefaultInterpolation)}return this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return re;case this.InterpolantFactoryMethodLinear:return oe;case this.InterpolantFactoryMethodSmooth:return se}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]+=t}return this},scale:function(t){if(1!==t){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]*=t}return this},trim:function(t,e){const n=this.times,i=n.length;let r=0,o=i-1;for(;r!==i&&n[r]<t;)++r;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==r||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);const t=this.getValueSize();this.times=Dc.arraySlice(n,r,o),this.values=Dc.arraySlice(this.values,r*t,o*t)}return this},validate:function(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(t=!1);const n=this.times,i=this.values,r=n.length;0===r&&(t=!1);let o=null;for(let e=0;e!==r;e++){const i=n[e];if("number"==typeof i&&isNaN(i)){t=!1;break}if(null!==o&&o>i){t=!1;break}o=i}if(void 0!==i&&Dc.isTypedArray(i))for(let e=0,n=i.length;e!==n;++e){const n=i[e];if(isNaN(n)){t=!1;break}}return t},optimize:function(){const t=Dc.arraySlice(this.times),e=Dc.arraySlice(this.values),n=this.getValueSize(),i=this.getInterpolation()===se,r=t.length-1;let o=1;for(let s=1;s<r;++s){let r=!1;const a=t[s];if(a!==t[s+1]&&(1!==s||a!==a[0]))if(i)r=!0;else{const t=s*n,i=t-n,o=t+n;for(let s=0;s!==n;++s){const n=e[t+s];if(n!==e[i+s]||n!==e[o+s]){r=!0;break}}}if(r){if(s!==o){t[o]=t[s];const i=s*n,r=o*n;for(let t=0;t!==n;++t)e[r+t]=e[i+t]}++o}}if(r>0){t[o]=t[r];for(let t=r*n,i=o*n,s=0;s!==n;++s)e[i+s]=e[t+s];++o}return o!==t.length?(this.times=Dc.arraySlice(t,0,o),this.values=Dc.arraySlice(e,0,o*n)):(this.times=t,this.values=e),this},clone:function(){const t=Dc.arraySlice(this.times,0),e=Dc.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}),Fc.prototype=Object.assign(Object.create(Nc.prototype),{constructor:Fc,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:re,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Bc.prototype=Object.assign(Object.create(Nc.prototype),{constructor:Bc,ValueTypeName:"color"}),jc.prototype=Object.assign(Object.create(Nc.prototype),{constructor:jc,ValueTypeName:"number"}),Uc.prototype=Object.assign(Object.create(bc.prototype),{constructor:Uc,interpolate_:function(t,e,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=(n-e)/(i-e);let c=t*s;for(let t=c+s;c!==t;c+=4)Fe.slerpFlat(r,0,o,c-s,o,c,a);return r}}),zc.prototype=Object.assign(Object.create(Nc.prototype),{constructor:zc,ValueTypeName:"quaternion",DefaultInterpolation:oe,InterpolantFactoryMethodLinear:function(t){return new Uc(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Gc.prototype=Object.assign(Object.create(Nc.prototype),{constructor:Gc,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:re,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Vc.prototype=Object.assign(Object.create(Nc.prototype),{constructor:Vc,ValueTypeName:"vector"}),Object.assign(Wc,{parse:function(t){const e=[],n=t.tracks,i=1/(t.fps||1);for(let t=0,r=n.length;t!==r;++t)e.push(Hc(n[t]).scale(i));const r=new Wc(t.name,t.duration,e,t.blendMode);return r.uuid=t.uuid,r},toJSON:function(t){const e=[],n=t.tracks,i={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let t=0,i=n.length;t!==i;++t)e.push(Nc.toJSON(n[t]));return i},CreateFromMorphTargetSequence:function(t,e,n,i){const r=e.length,o=[];for(let t=0;t<r;t++){let s=[],a=[];s.push((t+r-1)%r,t,(t+1)%r),a.push(0,1,0);const c=Dc.getKeyframeOrder(s);s=Dc.sortedArray(s,1,c),a=Dc.sortedArray(a,1,c),i||0!==s[0]||(s.push(r),a.push(a[0])),o.push(new jc(".morphTargetInfluences["+e[t].name+"]",s,a).scale(1/n))}return new Wc(t,-1,o)},findByName:function(t,e){let n=t;if(!Array.isArray(t)){const e=t;n=e.geometry&&e.geometry.animations||e.animations}for(let t=0;t<n.length;t++)if(n[t].name===e)return n[t];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let e=0,n=t.length;e<n;e++){const n=t[e],o=n.name.match(r);if(o&&o.length>1){const t=o[1];let e=i[t];e||(i[t]=e=[]),e.push(n)}}const o=[];for(const t in i)o.push(Wc.CreateFromMorphTargetSequence(t,i[t],e,n));return o},parseAnimation:function(t,e){if(!t)return null;const n=function(t,e,n,i,r){if(0!==n.length){const o=[],s=[];Dc.flattenJSON(n,o,s,i),0!==o.length&&r.push(new t(e,o,s))}},i=[],r=t.name||"default",o=t.fps||30,s=t.blendMode;let a=t.length||-1;const c=t.hierarchy||[];for(let t=0;t<c.length;t++){const r=c[t].keys;if(r&&0!==r.length)if(r[0].morphTargets){const t={};let e;for(e=0;e<r.length;e++)if(r[e].morphTargets)for(let n=0;n<r[e].morphTargets.length;n++)t[r[e].morphTargets[n]]=-1;for(const n in t){const t=[],o=[];for(let i=0;i!==r[e].morphTargets.length;++i){const i=r[e];t.push(i.time),o.push(i.morphTarget===n?1:0)}i.push(new jc(".morphTargetInfluence["+n+"]",t,o))}a=t.length*(o||1)}else{const o=".bones["+e[t].name+"]";n(Vc,o+".position",r,"pos",i),n(zc,o+".quaternion",r,"rot",i),n(Vc,o+".scale",r,"scl",i)}}return 0===i.length?null:new Wc(r,a,i,s)}}),Object.assign(Wc.prototype,{resetDuration:function(){let t=0;for(let e=0,n=this.tracks.length;e!==n;++e){const n=this.tracks[e];t=Math.max(t,n.times[n.times.length-1])}return this.duration=t,this},trim:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new Wc(this.name,this.duration,t,this.blendMode)},toJSON:function(){return Wc.toJSON(this)}}),Xc.prototype=Object.assign(Object.create(jt.prototype),{constructor:Xc,_bindAction:function(t,e){const n=t._localRoot||this._root,i=t._clip.tracks,r=i.length,o=t._propertyBindings,s=t._interpolants,a=n.uuid,c=this._bindingsByRootAndName;let l=c[a];void 0===l&&(l={},c[a]=l);for(let t=0;t!==r;++t){const r=i[t],c=r.name;let u=l[c];if(void 0!==u)o[t]=u;else{if(u=o[t],void 0!==u){null===u._cacheIndex&&(++u.referenceCount,this._addInactiveBinding(u,a,c));continue}const i=e&&e._propertyBindings[t].binding.parsedPath;u=new Pc(Ic.create(n,c,i),r.ValueTypeName,r.getValueSize()),++u.referenceCount,this._addInactiveBinding(u,a,c),o[t]=u}s[t].resultBuffer=u.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){const e=(t._localRoot||this._root).uuid,n=t._clip.uuid,i=this._actionsByClip[n];this._bindAction(t,i&&i.knownActions[0]),this._addInactiveAction(t,n,e)}const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){const e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){const i=this._actions,r=this._actionsByClip;let o=r[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=o;else{const e=o.knownActions;t._byClipCacheIndex=e.length,e.push(t)}t._cacheIndex=i.length,i.push(t),o.actionByRoot[n]=t},_removeInactiveAction:function(t){const e=this._actions,n=e[e.length-1],i=t._cacheIndex;n._cacheIndex=i,e[i]=n,e.pop(),t._cacheIndex=null;const r=t._clip.uuid,o=this._actionsByClip,s=o[r],a=s.knownActions,c=a[a.length-1],l=t._byClipCacheIndex;c._byClipCacheIndex=l,a[l]=c,a.pop(),t._byClipCacheIndex=null,delete s.actionByRoot[(t._localRoot||this._root).uuid],0===a.length&&delete o[r],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==--n.referenceCount&&this._removeInactiveBinding(n)}},_lendAction:function(t){const e=this._actions,n=t._cacheIndex,i=this._nActiveActions++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackAction:function(t){const e=this._actions,n=t._cacheIndex,i=--this._nActiveActions,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_addInactiveBinding:function(t,e,n){const i=this._bindingsByRootAndName,r=this._bindings;let o=i[e];void 0===o&&(o={},i[e]=o),o[n]=t,t._cacheIndex=r.length,r.push(t)},_removeInactiveBinding:function(t){const e=this._bindings,n=t.binding,i=n.rootNode.uuid,r=n.path,o=this._bindingsByRootAndName,s=o[i],a=e[e.length-1],c=t._cacheIndex;a._cacheIndex=c,e[c]=a,e.pop(),delete s[r],0===Object.keys(s).length&&delete o[i]},_lendBinding:function(t){const e=this._bindings,n=t._cacheIndex,i=this._nActiveBindings++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackBinding:function(t){const e=this._bindings,n=t._cacheIndex,i=--this._nActiveBindings,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_lendControlInterpolant:function(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let n=t[e];return void 0===n&&(n=new vc(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){const e=this._controlInterpolants,n=t.__cacheIndex,i=--this._nActiveControlInterpolants,r=e[i];t.__cacheIndex=i,e[i]=t,r.__cacheIndex=n,e[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e,n){const i=e||this._root,r=i.uuid;let o="string"==typeof t?Wc.findByName(i,t):t;const s=null!==o?o.uuid:t,a=this._actionsByClip[s];let c=null;if(void 0===n&&(n=null!==o?o.blendMode:ue),void 0!==a){const t=a.actionByRoot[r];if(void 0!==t&&t.blendMode===n)return t;c=a.knownActions[0],null===o&&(o=c._clip)}if(null===o)return null;const l=new gc(this,o,e,n);return this._bindAction(l,c),this._addInactiveAction(l,s,r),l},existingAction:function(t,e){const n=e||this._root,i=n.uuid,r="string"==typeof t?Wc.findByName(n,t):t,o=r?r.uuid:t,s=this._actionsByClip[o];return void 0!==s&&s.actionByRoot[i]||null},stopAllAction:function(){const t=this._actions;for(let e=this._nActiveActions-1;e>=0;--e)t[e].stop();return this},update:function(t){t*=this.timeScale;const e=this._actions,n=this._nActiveActions,i=this.time+=t,r=Math.sign(t),o=this._accuIndex^=1;for(let s=0;s!==n;++s)e[s]._update(i,t,r,o);const s=this._bindings,a=this._nActiveBindings;for(let t=0;t!==a;++t)s[t].apply(o);return this},setTime:function(t){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(t)},getRoot:function(){return this._root},uncacheClip:function(t){const e=this._actions,n=t.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){const t=r.knownActions;for(let n=0,i=t.length;n!==i;++n){const i=t[n];this._deactivateAction(i);const r=i._cacheIndex,o=e[e.length-1];i._cacheIndex=null,i._byClipCacheIndex=null,o._cacheIndex=r,e[r]=o,e.pop(),this._removeInactiveBindingsForAction(i)}delete i[n]}},uncacheRoot:function(t){const e=t.uuid,n=this._actionsByClip;for(const t in n){const i=n[t].actionByRoot[e];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}const i=this._bindingsByRootAndName[e];if(void 0!==i)for(const t in i){const e=i[t];e.restoreOriginalState(),this._removeInactiveBinding(e)}},uncacheAction:function(t,e){const n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}});class qc extends fn{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(!0===this.isPlaying)return;if(!1===this.hasPlaybackControl)return;this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1!==this.hasPlaybackControl&&this.loop}setLoop(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}const Yc=new Be,Zc=new Fe,Jc=new Be,Kc=new Be;class $c extends qc{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,n){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=n,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(Yc,Zc,Jc),Kc.set(0,0,1).applyQuaternion(Zc);const e=this.panner;if(e.positionX){const t=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(Yc.x,t),e.positionY.linearRampToValueAtTime(Yc.y,t),e.positionZ.linearRampToValueAtTime(Yc.z,t),e.orientationX.linearRampToValueAtTime(Kc.x,t),e.orientationY.linearRampToValueAtTime(Kc.y,t),e.orientationZ.linearRampToValueAtTime(Kc.z,t)}else e.setPosition(Yc.x,Yc.y,Yc.z),e.setOrientation(Kc.x,Kc.y,Kc.z)}}class Qc extends yi{constructor(t,e){super(),this.radius=t,this.height=e,this.type="CapsuleGeometry",this.segments={radial:16,height:1,caps:2};const n=this.getSegmentsCount(!0),i=this.getSegmentsCount(!1);this.uvs=new ti(new Float32Array(2*n),2),this.normals=new ti(new Float32Array(3*n),3),this.vertices=new ti(new Float32Array(3*n),3),this.indices=new ti(new(i>65535?Uint32Array:Uint16Array)(i),1),this.createCapsule(),this.setIndex(this.indices),this.setAttribute("uv",this.uvs),this.setAttribute("normal",this.normals),this.setAttribute("position",this.vertices)}getSegmentsCount(t){const e=2*this.segments.caps;return(this.segments.radial+~~t)*(this.segments.height+~~t+e)*(5*~~!t+1)}createCapsule(){const{height:t,caps:e,radial:n}=this.segments,i=this.height/2,r=t+2*e,o=new ge(this.radius,i).sub(new ge(this.radius,-i)).length(),s=this.radius*Mt.d2+o,a=new Array(r+1),c=new Be,l=new Be;let u=0,h=0;for(let t=0;t<=e;t++){const r=Mt.d2-Mt.d2*(t/e),o=new Array(n+1),p=Math.cos(r),f=Math.sin(r),d=p*this.radius;h+=this.radius*Mt.d2/e;for(let t=0;t<=n;t++){const e=t/n,r=e*Mt.m2,a=Math.sin(r),_=Math.cos(r);l.set(d*a,i+f*this.radius,d*_),this.vertices.setXYZ(u,l.x,l.y,l.z),c.set(p*a,f,p*_),this.normals.setXYZ(u,c.x,c.y,c.z),this.uvs.setXY(u,e,1-h/s),o[t]=u++}a[t]=o}for(let r=1,p=e;r<=t;r++){const e=new Array(n+1);h+=o/t;for(let o=0;o<=n;o++){const a=o/n,p=a*Mt.m2,f=Math.sin(p),d=Math.cos(p);l.set(this.radius*f,i-r*this.height/t,this.radius*d),this.vertices.setXYZ(u,l.x,l.y,l.z),c.set(f,0,d).normalize(),this.normals.setXYZ(u,c.x,c.y,c.z),this.uvs.setXY(u,a,1-h/s),e[o]=u++}a[p+r]=e}for(let r=1,o=e+t;r<=e;r++){const t=new Array(n+1),p=-Mt.d2*(r/e),f=Math.cos(p),d=Math.sin(p),_=f*this.radius;h+=this.radius*Mt.d2/e;for(let e=0;e<=n;e++){const r=e/n,o=r*Mt.m2,a=Math.sin(o),p=Math.cos(o);l.set(_*a,-i+d*this.radius,_*p),this.vertices.setXYZ(u,l.x,l.y,l.z),c.set(f*a,d,f*p),this.normals.setXYZ(u,c.x,c.y,c.z),this.uvs.setXY(u,r,1-h/s),t[e]=u++}a[o+r]=t}for(let t=0,e=0,i=1;e<n;e++,i++)for(let n=0,o=1;n<r;n++,o++){const r=a[n][e],s=a[o][e],c=a[o][i],l=a[n][i];this.indices.setX(t++,r),this.indices.setX(t++,s),this.indices.setX(t++,l),this.indices.setX(t++,s),this.indices.setX(t++,c),this.indices.setX(t++,l)}}}class tl{constructor(t){this.config=t,this.step=this.config.moves.Idle,this.sounds=new Map,this.loader=new Pe.Loader,this.direction=new Be,this.position=new Be,this.rotation=new Be,this.animations={},this.hitting=!1,this.running=!1,this.moving=!1,this.dead=!1,this.still=!1,this.health=100;const{x:e,y:n}=this.config.collider;this.object=new fr(new Qc(e,n),tc)}setCharacterMaterial(t,e=1){t.traverse((t=>{const n=t,i=n.material;n.isMesh&&(n.castShadow=!0,n.material=new mc({map:i.map,specular:0,transparent:!0,skinning:!0,shininess:0,opacity:e}))}))}createAnimations(t){const e=t.animations;this.mixer=new Xc(t.scene);for(let t=e.length;t--;){const i=(n=e[t].name).charAt(0).toLowerCase()+n.slice(1);this.animations[i]=this.mixer.clipAction(e[t])}var n}setAnimation(t){this.step=this.config.moves[t]}updateCharacterLocation(){const t=this.model,{speed:e,direction:n}=this.step;t.getWorldDirection(this.rotation),this.object.getWorldPosition(this.position);const i=this.rotation.x*e,r=this.rotation.z*e,{z0:o,x0:s,x1:a}=n,c=Math.min(s,a);this.direction.set(i*o+i*c+r*a,-1,r*o+r*c+i*s)}update(t){var e;null===(e=this.mixer)||void 0===e||e.update(t),this.updateCharacterLocation(),this.moving?(fc.move(this.direction),this.still=!1):this.still||(this.still=!0,fc.stop())}checkIfAlive(){this.dead||(this.dead=this.dead||!this.health)}getModel(){return this.model}death(){var t;null===(t=this.sounds.get("death"))||void 0===t||t.play(),this.hitting=!1,this.running=!1,this.moving=!1,this.still=!1,this.dead=!0}async load(){const t=await this.loader.loadGLTF(this.config.model);return t.scene.position.set(0,this.config.collider.z,0),this.object.position.copy(this.config.position),this.object.scale.copy(this.config.scale),this.object.rotation.toVector3(this.rotation),this.setCharacterMaterial(t.scene),this.position.copy(this.object.position),this.object.add(t.scene),t.animations&&this.createAnimations(t),this.model=t.scene,t}addSounds(t){const e=Object.keys(this.config.sounds);t.forEach(((t,n)=>{const i=new $c(Ya);this.sounds.set(e[n],i),this.object.add(i),i.setBuffer(t),i.setVolume(10)}))}dispose(){const t=this.getModel(),e=t.children;for(const t in this.animations)this.animations[t].stopFading(),this.animations[t].stop(),delete this.animations[t];for(let n=e.length;n--;)t.remove(e[n]);delete this.mixer,delete this.model}reset(){this.step=this.config.moves.Idle,this.direction.setScalar(0),this.position.setScalar(0),this.rotation.setScalar(0),this.hitting=!1,this.running=!1,this.moving=!1,this.health=100,this.still=!0,this.dead=!1}get collider(){return this.object}get alive(){return!this.dead}}const el=new Be(1,0,0),nl=new Be(0,1,0);class il extends tl{constructor(){super(js.Player),this.lastAnimation="pistolIdle",this.equipRifle=!1,this.hasRifle=!1,this.reloading=!1,this.shooting=!1,this.aiming=!1,this.shootTime=0,this.moveTime=0,this.idleTime=0,this.aimTime=0}getMovementAnimation(t){let e=t[0]?"Forward":t[2]?"Backward":"";return this.equipRifle||e?this.equipRifle&&(e+=t[3]?"Left":t[1]?"Right":""):e=t[3]?"Left":t[1]?"Right":e,e||"Idle"}getWeaponAnimation(t){return`${this.equipRifle?"rifle":"pistol"}${t}`}getPlayerAnimation(){const t=this.equipRifle?"rifle":"pistol";return this.lastAnimation.replace(t,"")}setWeapon(t){var e,n;let i=t?this.lastAnimation.replace("pistol","rifle"):this.lastAnimation.replace("rifle","pistol");bt.dispatch("weapon:change",t),null===(e=this.hand)||void 0===e||e.remove(null===(n=this.weapon)||void 0===n?void 0:n.model),t||this.animations[i]||(i=i.replace(/BackwardLeft|BackwardRight/gm,"Backward"),i=i.replace(/ForwardLeft|ForwardRight/gm,"Forward")),this.lastAnimation!==i&&this.updateAnimation(this.getPlayerAnimation(),i),this.hasRifle=this.equipRifle||t,this.equipRifle=t}blockingAnimation(){return this.aiming||this.hitting||this.reloading}rotate(t,e,n){const i=e>0,r=this.rotation.y,o=this.getModel();o.rotateOnWorldAxis(nl,t),(i&&r>=-.2||!i&&r<=n)&&o.rotateOnAxis(el,e)}idle(){const t=Date.now();if(this.blockingAnimation())return;if(t-this.idleTime<350)return;const e=this.getWeaponAnimation("Idle");bt.dispatch("player:run",!1),Xa.runAnimation((()=>!1),!1),this.running=this.moving=!1,this.idleTime=t,setTimeout(this.updateAnimation.bind(this,"Idle",e),100*~~(this.lastAnimation===e))}move(t){const e=Date.now();if(this.blockingAnimation())return;if(e-this.moveTime<350)return;const n=this.getMovementAnimation(t),i=this.getWeaponAnimation(n);this.lastAnimation!==i&&(this.updateAnimation(n,i),bt.dispatch("player:run",!1),Xa.runAnimation((()=>!1),!1),this.running=!1,this.moveTime=e,this.moving=!0)}run(t,e){if(this.running===e)return;if(this.blockingAnimation())return;const n=this.getWeaponAnimation("Run");if(!e||this.lastAnimation===n)return this.running=!1,t.includes(1)?this.move(t):setTimeout(this.idle.bind(this),150);t[0]&&(Xa.runAnimation((()=>this.running),!0),bt.dispatch("player:run",!0),this.updateAnimation("Run",n),this.running=!0,this.moving=!0)}startAiming(){if(this.blockingAnimation())return;bt.dispatch("player:run",!1),this.weapon.aim=this.aiming=!0,Xa.runAnimation((()=>!1),!1),Xa.aimAnimation(this.running,!0,400),this.aimTime=this.equipRifle?Date.now():0;const t=this.equipRifle?"rifleAim":this.getWeaponAnimation("Idle");this.lastAnimation!==t&&(this.aimTimeout=this.updateAnimation("Idle",t),this.weapon.setAim(),this.running=!1,this.moving=!1)}stopAiming(){const t=Math.min(Date.now()-this.aimTime,400);Xa.aimAnimation(this.running,!1,t),this.weapon.aim=this.aiming=!1,clearTimeout(this.aimTimeout),this.weapon.cancelAim()}startShooting(){this.shooting=!0;const t=Date.now();if(!(this.running||this.hitting||this.reloading||t-this.aimTime<500||t-this.shootTime<150)){if(this.weapon.shoot(this.position)){const{x:t,y:e}=this.weapon.recoil;this.rotate(t,e,.25)}this.shootTime=t,!this.equipRifle&&this.stopShooting()}}stopShooting(){this.shooting=!1}reload(t){this.blockingAnimation()||!this.weapon.full&&this.weapon.inStock&&(this.updateAnimation("Idle","rifleReload"),bt.dispatch("player:run",!1),Xa.runAnimation((()=>!1),!1),this.weapon.startReloading(),this.reloading=!0,this.running=!1,this.moving=!1,this.reloadTimeout=setTimeout(this.weapon.addAmmo.bind(this.weapon,0),2e3),setTimeout((()=>{if(this.dead)return;this.reloading=!1;const{directions:e,running:n}=t();n?this.run(e,n):this.move(e)}),2500))}die(){this.updateAnimation("Idle","death",.5),bt.dispatch("player:death"),clearTimeout(this.reloadTimeout),this.weapon.stopReloading(),this.setAnimation("Idle"),Xa.deathAnimation(),this.reloading=!1,this.shooting=!1,this.aiming=!1,this.death()}updateAnimation(t,e,n=.1){return this.currentAnimation.crossFadeTo(this.animations[e],n,!0),this.animations[e].play(),setTimeout((()=>{this.setAnimation(t),this.lastAnimation=e,this.currentAnimation.stop(),this.currentAnimation=this.animations[e]}),1e3*n)}async loadCharacter(){const t=(await this.load()).scene;return this.hand=t.getObjectByName("swatRightHand"),this.currentAnimation=this.animations.pistolIdle,this.animations.rifleReload.clampWhenFinished=!0,this.animations.rifleAim.clampWhenFinished=!0,this.animations.death.clampWhenFinished=!0,this.animations.rifleReload.setLoop(ie,1),this.animations.rifleAim.setLoop(ie,1),this.animations.death.setLoop(ie,1),!js.freeCamera&&Xa.setTo(t),this.currentAnimation.play(),this.object}setPistol(t,e){var n;this.setWeapon(!1),this.weapon=e,this.pistol=e,e.targets=t,null===(n=this.hand)||void 0===n||n.add(e.model)}setRifle(t,e){var n;this.setWeapon(!0),this.weapon=e,this.rifle=e,e.targets=t,null===(n=this.hand)||void 0===n||n.add(e.model)}changeWeapon(){if(this.hasRifle&&!this.aiming&&!this.reloading){const t=this.weapon.targets;this.equipRifle?this.setPistol(t,this.pistol):this.setRifle(t,this.rifle)}}pickRifle(t){this.rifle=t,this.hasRifle=!0,this.rifle.addAmmo()}update(t){super.update(t),this.shooting&&this.startShooting()}dispose(){clearTimeout(this.reloadTimeout),clearTimeout(this.aimTimeout),delete this.reloadTimeout,delete this.aimTimeout,delete this.pistol,delete this.rifle,delete this.hand,super.dispose()}get location(){const{x:t,z:e}=this.rotation;return{position:this.position,rotation:me.radToDeg(Math.atan2(-t,e))}}get uuid(){return this.object.uuid}}new De.pb,new De.Z,new De.pb,new De.I,new De.I,new De.I,new De.pb,new De.pb,new De.pb,new De.pb,new De.ob,new De.ob;var rl=function(t){var e=new Map,n=new Map,i=t.clone();return ol(t,i,(function(t,i){e.set(i,t),n.set(t,i)})),i.traverse((function(t){if(t.isSkinnedMesh){var i=t,r=e.get(t),o=r.skeleton.bones;i.skeleton=r.skeleton.clone(),i.bindMatrix.copy(r.bindMatrix),i.skeleton.bones=o.map((function(t){return n.get(t)})),i.bind(i.skeleton,i.bindMatrix)}})),i};function ol(t,e,n){n(t,e);for(var i=0;i<t.children.length;i++)ol(t.children[i],e.children[i],n)}class sl extends tl{constructor(t=0,e){super(js.Enemy),this.lastAnimation="Idle",this.hitBoxes=[],this.id=t,void 0!==e&&(this.character=rl(e.scene),this.setCharacterMaterial(this.character,0),this.createAnimations(e),this.setDefaultState())}setDefaultState(){this.animations.softAttack.clampWhenFinished=!0,this.animations.hardAttack.clampWhenFinished=!0,this.animations.crawlDeath.clampWhenFinished=!0,this.animations.headshot.clampWhenFinished=!0,this.animations.death.clampWhenFinished=!0,this.animations.falling.clampWhenFinished=!0,this.animations.scream.clampWhenFinished=!0,this.animations.hit.clampWhenFinished=!0,this.animations.softAttack.setLoop(ie,0),this.animations.hardAttack.setLoop(ie,0),this.animations.crawlDeath.setLoop(ie,0),this.animations.headshot.setLoop(ie,0),this.animations.death.setLoop(ie,0),this.animations.falling.setLoop(ie,0),this.animations.scream.setLoop(ie,0),this.animations.hit.setLoop(ie,0),this.currentAnimation=this.animations.idle,this.setAnimation(this.lastAnimation),this.currentAnimation.play(),this.createHitBoxes()}createHitBoxes(){this.addHeadHitBox(),this.addBodyHitBox(),this.addLegsHitBox()}addHeadHitBox(){this.head=this.character.getObjectByName("Head");const t=new fr(new lc(18,20,20),ic.clone());t.position.y+=5,t.position.z+=3,t.userData.enemy=this.id,this.hitBoxes.push(t),this.head.add(t)}addBodyHitBox(){const t=this.character.getObjectByName("Spine"),e=new fr(new Qc(.2,.95),ic.clone());e.rotation.x-=Math.PI/2,e.position.y+=15,e.position.z+=5,e.userData.enemy=this.id,this.hitBoxes.push(e),t.add(e)}addLegsHitBox(){const t=this.character.getObjectByName("RightUpLeg"),e=this.character.getObjectByName("LeftUpLeg"),n=this.character.getObjectByName("RightLeg"),i=this.character.getObjectByName("LeftLeg"),r=new fr(new lc(16,50,15),ic.clone()),o=new fr(new lc(10,50,10),ic.clone());o.userData.enemy=this.id,r.userData.enemy=this.id,o.position.y-=27.5,o.position.z-=2.5,r.position.y-=20;const s=r.clone(),a=r.clone(),c=o.clone(),l=o.clone();s.position.x+=1,a.position.x-=1,this.hitBoxes.push(s),this.hitBoxes.push(a),this.hitBoxes.push(c),this.hitBoxes.push(l),t.add(s),e.add(a),n.add(c),i.add(l)}update(t){super.update(t)}dispose(){var t;null===(t=this.head)||void 0===t||t.remove(this.hitBoxes[0]);for(let t=this.hitBoxes.length;t--;)this.hitBoxes.splice(t);super.dispose()}get hitBox(){return this.hitBoxes}}function al(){return new Worker(n.p+"scripts/index.worker.js")}class cl{constructor(){this.events=new Map,this.worker=new al,this.worker.onmessage=this.onMessage.bind(this),this.worker.onerror=this.onError.bind(this)}add(t,e,n){this.events.set(t,{callback:e,params:n})}get(t,e){var n;const i=null===(n=this.events.get(t))||void 0===n?void 0:n.params;this.worker.postMessage({event:t,params:{...i,...e}})}onMessage(t){var e,n;const{name:i,response:r}=t.data,o=null===(n=null===(e=this.events)||void 0===e?void 0:e.get(i))||void 0===n?void 0:n.callback;o&&o(r)}onError(t){}remove(t){this.events.delete(t)}}function ll(t,e,n,i){this.ray=new Ni(t,e),this.near=n||0,this.far=i||Infinity,this.camera=null,this.layers=new $e,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return this.Points}}})}function ul(t,e){return t.distance-e.distance}function hl(t,e,n,i){if(t.layers.test(e.layers)&&t.raycast(e,n),!0===i){const i=t.children;for(let t=0,r=i.length;t<r;t++)hl(i[t],e,n,!0)}}Object.assign(ll.prototype,{set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e&&e.isOrthographicCamera&&(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e)},intersectObject:function(t,e,n){const i=n||[];return hl(t,this,i,e),i.sort(ul),i},intersectObjects:function(t,e,n){const i=n||[];if(!1===Array.isArray(t))return i;for(let n=0,r=t.length;n<r;n++)hl(t[n],this,i,e);return i.sort(ul),i}});class pl{constructor(t){this.config=t,this.sounds=new Map,this.loader=new Pe.Loader,this.raycaster=new ll,this.origin=new ge,this.targets=[],this.aimNear=3,this.near=4.5,this.aiming=!1,this.raycaster.near=this.near,this.magazine=t.magazine,this.loadedAmmo=t.ammo,this.totalAmmo=t.ammo,this.load()}async load(){this.weapon=(await this.loader.loadGLTF(this.config.model)).scene,this.weapon.traverse((t=>{const e=t,n=e.material;e.isMesh&&(e.castShadow=!0,e.material=new mc({specular:3092271,map:n.map,side:0}))})),this.weapon.position.copy(this.config.position),this.weapon.rotation.copy(this.config.rotation),this.weapon.scale.copy(this.config.scale),this.asset=this.model.clone(),this.addSounds(await this.loadSounds())}addSounds(t){const e=Object.keys(this.config.sounds);t.forEach(((t,n)=>{const i=new $c(Ya),r="shoot"===e[n]?10:5;i.setBuffer(t),i.setVolume(r),this.sounds.set(e[n],i),this.model.add(i)}))}async loadSounds(){return await Promise.all(Object.values(this.config.sounds).map(this.loader.loadAudio.bind(this.loader)))}getEvent(t){const e=t%6;return e?1===e?"hit:body":"hit:leg":"hit:head"}stopSound(t){const e=this.sounds.get(t);return e.isPlaying&&e.stop(),e}playSound(t,e){const n=e?this.stopSound(t):this.sounds.get(t);!n.isPlaying&&n.play()}setAim(){}cancelAim(){}shoot(t){const e=!this.empty,n=this.target;if(e){const e=this.targets[n];bt.dispatch("player:shoot"),this.playSound("shoot",!0),this.loadedAmmo--,n>-1&&setTimeout((()=>bt.dispatch(this.getEvent(n),e.userData.enemy)),Math.round(e.position.distanceTo(t)/this.config.speed))}else this.playSound("empty",!1);return e}startReloading(){}stopReloading(){}addAmmo(t){}getClone(){const t=this.asset;return this.sounds.forEach((e=>t.add(e))),t}get target(){const t=this.config.spread.x/10,e=this.config.spread.y/10;this.origin.x+=St(-t,t),this.origin.y+=St(-e,e),this.raycaster.setFromCamera(this.origin,qa);const n=this.raycaster.intersectObjects(this.targets);return n.length?this.targets.indexOf(n[0].object):-1}get recoil(){const{x:t,y:e}=this.config.recoil,n=1+~~this.aiming;return{x:St(-t,t)/n,y:e/n}}set aim(t){this.raycaster.near=t?this.aimNear:this.near,this.aiming=t}get aim(){return this.aiming}get model(){return this.weapon}get inStock(){return this.totalAmmo-this.loadedAmmo}get damage(){return this.config.damage}get empty(){return!this.loadedAmmo}get full(){return this.loadedAmmo===this.magazine}get ammo(){return this.totalAmmo}}class fl extends pl{constructor(){super(js.Pistol)}}const dl="0000";class _l{constructor(t){this.player=t,this.pointerLockChange=this.onPointerLockChange.bind(this),this.pointerLockError=this.onPointerLockError.bind(this),this.contextMenu=this.onContextMenu.bind(this),this.mouseDown=this.onMouseDown.bind(this),this.mouseMove=this.onMouseMove.bind(this),this.mouseUp=this.onMouseUp.bind(this),this.keyDown=this.onKeyDown.bind(this),this.keyUp=this.onKeyUp.bind(this),this.moves=[0,0,0,0],this.aimTimeout=0,this.aimTime=0,this.paused=!0,this.shift=!1,this.move=dl,this.addEvents()}onMouseDown(t){t.preventDefault(),t.stopPropagation(),this.disabled||(0===t.button?this.player.startShooting():2===t.button&&(this.player.startAiming(),this.aimTime=Date.now()))}onMouseMove(t){t.preventDefault(),t.stopPropagation(),this.disabled||this.player.rotate(t.movementX/-100,t.movementY/400,.15)}onMouseUp(t){t.preventDefault(),t.stopPropagation(),this.disabled||(0===t.button?this.player.stopShooting():2===t.button&&(clearTimeout(this.aimTimeout),this.aimTimeout=setTimeout((()=>{this.player.stopAiming(),this.shift&&this.moves[0]?this.player.run(this.moves,!0):this.player.move(this.moves)}),Math.max(150-(Date.now()-this.aimTime),0))))}onKeyDown(t){if(t.preventDefault(),t.stopPropagation(),this.disabled)return;switch(this.onShift(t.code,!0),t.code){case"KeyW":this.moves[0]=1,this.moves[2]=0;break;case"KeyD":this.moves[1]=1,this.moves[3]=0;break;case"KeyS":this.moves[2]=1,this.moves[0]=0;break;case"KeyA":this.moves[1]=0,this.moves[3]=1;break;default:return}const e=this.movement;this.move!==e&&this.player.move(this.moves),this.move=e}onKeyUp(t){if(t.preventDefault(),t.stopPropagation(),this.disabled)return;switch(this.onShift(t.code,!1),t.code){case"KeyW":this.moves[0]=0;break;case"KeyD":this.moves[1]=0;break;case"KeyS":this.moves[2]=0;break;case"KeyA":this.moves[3]=0;break;case"KeyQ":case"KeyE":return this.player.changeWeapon();case"KeyR":return this.player.reload((()=>({directions:this.moves,running:this.shift})));default:return}const e=this.movement;e===dl?this.player.idle():this.move!==e&&this.player.move(this.moves),this.move=e}onShift(t,e){const n=e?!this.shift:this.shift;"ShiftLeft"===t&&n&&(this.player.run(this.moves,e),this.shift=e)}onPointerLockChange(t){t.stopPropagation(),t.preventDefault(),this.paused=!this.pointerLocked,bt.dispatch("game:pause",this.paused)}onPointerLockError(t){t.stopPropagation(),t.preventDefault()}onContextMenu(t){if(!this.paused)return t.stopPropagation(),t.preventDefault(),!1}addEvents(){document.addEventListener("pointerlockchange",this.pointerLockChange,!1),document.addEventListener("pointerlockerror",this.pointerLockError,!1),document.addEventListener("contextmenu",this.contextMenu,!1),document.addEventListener("mousedown",this.mouseDown,!1),document.addEventListener("mousemove",this.mouseMove,!1),document.addEventListener("mouseup",this.mouseUp,!1),document.addEventListener("keydown",this.keyDown,!1),document.addEventListener("keyup",this.keyUp,!1)}removeEvents(){document.removeEventListener("pointerlockchange",this.pointerLockChange,!1),document.removeEventListener("pointerlockerror",this.pointerLockError,!1),document.removeEventListener("contextmenu",this.contextMenu,!1),document.removeEventListener("mousedown",this.mouseDown,!1),document.removeEventListener("mousemove",this.mouseMove,!1),document.removeEventListener("mouseup",this.mouseUp,!1),document.removeEventListener("keydown",this.keyDown,!1),document.removeEventListener("keyup",this.keyUp,!1)}requestPointerLock(){document.documentElement.requestPointerLock()}exitPointerLock(){document.exitPointerLock()}dispose(){this.removeEvents()}get pointerLocked(){return!!document.pointerLockElement}get disabled(){return this.paused||!this.player.alive}get movement(){return this.moves.join("")}}class ml extends pl{constructor(){super(js.Rifle),this.position=js.Rifle.position,this.rotation=js.Rifle.rotation,this.maxStock=js.Rifle.maxStock,this.reloading=!1,this.spawned=!1}setAim(){this.model.rotation.set(this.rotation.x,Math.PI,-.1),this.model.position.set(this.position.x,0,-1)}cancelAim(){this.reset()}startReloading(){this.model.position.set(this.position.x,this.position.y,0),this.model.rotation.set(this.rotation.x,this.rotation.y,0),this.playSound("reload",!0),this.reloading=!0}addAmmo(t=js.Rifle.magazine){if(t)this.totalAmmo=Math.min(this.inStock+t,this.maxStock);else{const t=Math.min(this.magazine-this.loadedAmmo,this.magazine);this.totalAmmo=Math.max(this.totalAmmo-t,0),setTimeout(this.stopReloading.bind(this),500),this.loadedAmmo+=t,bt.dispatch("weapon:reload",{loaded:this.loadedAmmo,inStock:this.inStock,ammo:this.totalAmmo})}}stopReloading(){this.reloading&&this.stopSound("reload"),this.reloading=!1,this.reset()}update(t){if(!this.spawned||!this.clone)return;this.clone.rotation.y-=.025;const e=this.clone.position.distanceTo(t);this.inStock<this.maxStock&&e<2.5&&(bt.dispatch("weapon:pick",this.clone),bt.dispatch("rifle:pick"),this.spawned=!1)}spawn(t){const e=js.Rifle.worldScale;this.clone=this.clone||this.getClone(),this.clone.position.set(t[0],1.75,t[1]),this.clone.scale.copy(e),this.clone.rotation.set(0,0,0),bt.dispatch("add:object",this.clone),bt.dispatch("rifle:spawn",t),this.spawned=!0}reset(){this.model.position.copy(this.position),this.model.rotation.copy(this.rotation)}get onStage(){return this.spawned}}class gl{constructor(){this.clock=new Oe,this.level=new _c,this.rifle=new ml,this.pistol=new fl,this.player=new il,this.enemies=[],this.worker=new cl,this.loader=new Pe.Loader,this.input=new _l(this.player),this.paused=!0,this.addEventListeners(),this.level.createColliders(),this.loadCharacters(),js.DEBUG&&n.e("stats.min").then(n.t.bind(null,"./node_modules/three/examples/js/libs/stats.min.js",7)).then((t=>{this.stats=new t.default,this.stats.showPanel(0),document.body.appendChild(this.stats.domElement)}))}async loadCharacters(){return this.level.addObject(await this.player.loadCharacter()),this.player.addSounds(await this.loadCharacterSounds(js.Player.sounds)),this.player.setPistol(this.enemyColliders,this.pistol),fc.setPlayer(this.player.collider),await this.loadEnemyAssets()}async loadEnemyAssets(){return{model:await(new sl).load(),sounds:await this.loadCharacterSounds(js.Enemy.sounds)}}async loadCharacterSounds(t){return await Promise.all(Object.values(t).map(this.loader.loadAudio.bind(this.loader)))}addEventListeners(){bt.add("remove:object",this.removeGameObject.bind(this)),bt.add("add:object",this.addGameObject.bind(this)),bt.add("weapon:pick",this.pickRifle.bind(this)),this.worker.add("Level:coord",(t=>this.rifle.spawn(t)),{minCoords:_c.minCoords,maxCoords:_c.maxCoords,bounds:_c.bounds})}removeGameObject(t){this.level.removeObject(t.data)}addGameObject(t){this.level.addObject(t.data)}pickRifle(t){this.player.pickRifle(this.rifle),this.removeGameObject(t)}update(){var t,e;null===(t=this.stats)||void 0===t||t.begin();const n=this.player.location.position,i=this.clock.getDelta();this.rifle.update(n),this.player.update(i),this.player.alive&&fc.update(i),this.level.render(),null===(e=this.stats)||void 0===e||e.end()}destroy(){this.level.destroy(),fc.destroy(),js.DEBUG&&(document.body.removeChild(this.stats.domElement),delete this.stats)}get enemyColliders(){const t=[];for(let e=this.enemies.length;e--;)t.push(...this.enemies[e].hitBox);return t}get playerLocation(){return this.player.location}get scene(){return this.level.canvas}set pause(t){fc.pause=t,this.paused=t,js.freeCamera||(this.paused?this.input.exitPointerLock():this.input.requestPointerLock())}get pause(){return this.paused}}var bl,vl;function yl(t){let e,n;return{c(){e=y("div"),n=y("div"),M(n,"class","aim svelte-7zctuk"),A(n,"running",t[0]),A(n,"shooting",t[2]),M(e,"class","container svelte-7zctuk")},m(i,r){b(i,e,r),g(e,n),t[3](n)},p(t,[e]){1&e&&A(n,"running",t[0]),4&e&&A(n,"shooting",t[2])},i:i,o:i,d(n){n&&v(e),t[3](null)}}}function xl(t,e,n){let i,{running:r}=e,o=!1;function s(){setTimeout((()=>n(2,o=!1)),150),setTimeout((()=>n(2,o=!0))),n(2,o=!1)}return N((()=>{bt.add("player:shoot",s)})),F((()=>{bt.remove("player:shoot")})),t.$$set=t=>{"running"in t&&n(0,r=t.running)},[r,i,o,function(t){U[t?"unshift":"push"]((()=>{i=t,n(1,i)}))}]}(vl=bl||(bl={})).Number=class{constructor(t){this.speed=10,this.target=this.current=t}update(t=1/60){const e=this.target-this.current;this.current+=e*(this.speed*t)}set(t){this.target=t}get value(){return this.current}},vl.Vector2=class{constructor(t){this.current=new ge,this.target=new ge,this.speed=10,this.current.copy(t),this.target.copy(t)}set(t,e){this.target.set(t,e)}copy(t){this.target.copy(t)}update(t=1/60){const e=this.target.x-this.current.x,n=this.target.y-this.current.y;this.current.x+=e*(this.speed*t),this.current.y+=n*(this.speed*t)}get value(){return this.current}get x(){return this.current.x}get y(){return this.current.y}},vl.Vector3=class{constructor(t){this.current=new Be,this.target=new Be,this.speed=10,this.current.copy(t),this.target.copy(t)}set(t,e,n){this.target.set(t,e,n)}copy(t){this.target.copy(t)}update(t=1/60){const e=this.target.x-this.current.x,n=this.target.y-this.current.y,i=this.target.z-this.current.z;this.current.x+=e*(this.speed*t),this.current.y+=n*(this.speed*t),this.current.z+=i*(this.speed*t)}get value(){return this.current}get x(){return this.current.x}get y(){return this.current.y}get z(){return this.current.z}};var wl=class extends ft{constructor(t){super(),pt(this,t,xl,yl,l,{running:0})}};const Sl=(t,e,n)=>[t[0]*n+n*e[0],t[1]*n+n*e[1]],Ml=(t,e,n)=>Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))<n,Cl=(t,e)=>180*Math.atan2(-(t[0]-e[0]),t[1]-e[1])/Math.PI+180,Tl="255, 255, 255";function Al(t,e,n){let{context:i}=e,{visible:r}=e,{coords:o}=e;const s=5*Math.PI,a=2*s;let c,l=0,u=0;function h(){f();const[t,e]=o;var r;u=requestAnimationFrame(h),n(0,i.fillStyle=`rgb(${Tl})`,i),i.beginPath(),i.arc(t,e,5,0,Mt.m2),i.closePath(),i.fill(),n(0,i.lineWidth=1,i),i.beginPath(),c=l+=.016666666666666666,c=(r=c-(c>>0))?1===r?1:Math.sin(r*Mt.d2):0,n(0,i.strokeStyle=`rgba(${Tl}, ${1-c})`,i);const s=5+10*c;i.arc(t,e,s,0,Mt.m2),i.closePath(),i.stroke()}function p(){cancelAnimationFrame(u),f()}function f(){const[t,e]=o;i.clearRect(t-s,e-s,a,a)}return F(p),t.$$set=t=>{"context"in t&&n(0,i=t.context),"visible"in t&&n(1,r=t.visible),"coords"in t&&n(2,o=t.coords)},t.$$.update=()=>{6&t.$$.dirty&&(t=>{o&&(t?h():p())})(r)},[i,r,o]}var Ll=class extends ft{constructor(t){super(),pt(this,t,Al,null,l,{context:0,visible:1,coords:2})}};function El(t){let e;return{c(){e=y("div"),T(e,"transform","rotate("+t[0]+"deg)"),M(e,"class","svelte-ixu9qz")},m(t,n){b(t,e,n)},p(t,[n]){1&n&&T(e,"transform","rotate("+t[0]+"deg)")},i:i,o:i,d(t){t&&v(e)}}}function Rl(t,e,n){let{rotation:i}=e;return t.$$set=t=>{"rotation"in t&&n(0,i=t.rotation)},[i]}var Il=class extends ft{constructor(t){super(),pt(this,t,Rl,El,l,{rotation:0})}};function Pl(t){let e,n;return e=new Ll({props:{visible:t[5],coords:t[7],context:t[3]}}),{c(){lt(e.$$.fragment)},m(t,i){ut(e,t,i),n=!0},p(t,n){const i={};32&n&&(i.visible=t[5]),128&n&&(i.coords=t[7]),8&n&&(i.context=t[3]),e.$set(i)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ht(e,t)}}}function Dl(t){let e,n,i,r,o,s,a;o=new Il({props:{rotation:t[0]}});let c=t[6]&&Pl(t);return{c(){e=y("div"),n=y("div"),i=y("canvas"),r=w(),lt(o.$$.fragment),s=w(),c&&c.c(),T(i,"transform",t[4]),M(i,"class","svelte-1i410w2"),T(n,"transform","scale3d("+t[1]+", "+t[1]+", 1) rotate("+-t[0]+"deg)"),M(n,"class","svelte-1i410w2"),M(e,"class","map svelte-1i410w2")},m(l,u){b(l,e,u),g(e,n),g(n,i),t[11](i),g(n,r),ut(o,n,null),g(n,s),c&&c.m(n,null),a=!0},p(t,[e]){(!a||16&e)&&T(i,"transform",t[4]);const r={};1&e&&(r.rotation=t[0]),o.$set(r),t[6]?c?(c.p(t,e),64&e&&rt(c,1)):(c=Pl(t),c.c(),rt(c,1),c.m(n,null)):c&&(nt(),ot(c,1,1,(()=>{c=null})),it()),(!a||3&e)&&T(n,"transform","scale3d("+t[1]+", "+t[1]+", 1) rotate("+-t[0]+"deg)")},i(t){a||(rt(o.$$.fragment,t),rt(c),a=!0)},o(t){ot(o.$$.fragment,t),ot(c),a=!1},d(n){n&&v(e),t[11](null),ht(o),c&&c.d()}}}function kl(t,e,n){const i=B(),r=_c.minCoords.map((t=>Math.abs(t)+1));let o;const s=_c.maxCoords;let{playerPosition:a}=e,{playerRotation:c}=e;const l=_c.bounds;let u,h,p,f,d,_,{radius:m}=e,{scale:g}=e,{zoom:b}=e;function v(){const t=(t=>JSON.parse(JSON.stringify(t)))(l).map((t=>Sl(t,r,g)));return n(2,h.height=Ka(t.map((t=>t[1])))+2,h),n(2,h.width=Ka(t.map((t=>t[0])))+2,h),t}function y(){const t=a.x,e=a.z,o=(t-s[0])*g-_,c=(e-s[1])*g-_;if(p){const n=Sl([t,e],r,g);i("rifle",{visible:!Ml(d,n,m),angle:Cl(n,d)})}n(4,u=`translate(${o}px, ${c}px) scale3d(-1, -1, 1)`)}function x(){const t=v();n(3,o=h.getContext("2d")),n(3,o.strokeStyle="#000",o),n(3,o.lineWidth=2,o),o.beginPath(),o.clearRect(0,0,h.width,h.height),o.moveTo(t[0][0],t[0][1]);for(let e=1;e<t.length;e++)o.lineTo(t[e][0],t[e][1]);o.closePath(),o.stroke()}return bt.add("rifle:spawn",(function(t){n(7,d=Sl(t.data,r,g)),n(5,p=!0),n(6,f=!0)})),bt.add("rifle:pick",(function(){n(5,p=!1),setTimeout((()=>{n(6,f=!1),x()}))})),N(x),F((()=>{bt.remove("rifle:spawn"),bt.remove("rifle:pick")})),t.$$set=t=>{"playerPosition"in t&&n(8,a=t.playerPosition),"playerRotation"in t&&n(0,c=t.playerRotation),"radius"in t&&n(9,m=t.radius),"scale"in t&&n(10,g=t.scale),"zoom"in t&&n(1,b=t.zoom)},t.$$.update=()=>{var e;260&t.$$.dirty&&(e=a,h&&e&&y()),1028&t.$$.dirty&&(t=>{h&&t&&(_=1*t/2,x(),y())})(g)},[c,b,h,o,u,p,f,d,a,m,g,function(t){U[t?"unshift":"push"]((()=>{h=t,n(2,h)}))}]}var Ol=class extends ft{constructor(t){super(),pt(this,t,kl,Dl,l,{playerPosition:8,playerRotation:0,radius:9,scale:10,zoom:1})}};function Nl(t){let e,n,i,r,o,s;e=new wl({props:{running:t[7]}}),i=new Ol({props:{playerRotation:t[4].rotation,playerPosition:t[4].position,radius:t[6]/t[5],scale:t[9],zoom:t[5]}}),i.$on("rifle",t[12]);let a=t[1]&&jl(t);return{c(){lt(e.$$.fragment),n=w(),lt(i.$$.fragment),r=w(),a&&a.c(),o=x("")},m(t,c){ut(e,t,c),b(t,n,c),ut(i,t,c),b(t,r,c),a&&a.m(t,c),b(t,o,c),s=!0},p(t,n){const r={};128&n&&(r.running=t[7]),e.$set(r);const s={};16&n&&(s.playerRotation=t[4].rotation),16&n&&(s.playerPosition=t[4].position),96&n&&(s.radius=t[6]/t[5]),512&n&&(s.scale=t[9]),32&n&&(s.zoom=t[5]),i.$set(s),t[1]?a?(a.p(t,n),2&n&&rt(a,1)):(a=jl(t),a.c(),rt(a,1),a.m(o.parentNode,o)):a&&(nt(),ot(a,1,1,(()=>{a=null})),it())},i(t){s||(rt(e.$$.fragment,t),rt(i.$$.fragment,t),rt(a),s=!0)},o(t){ot(e.$$.fragment,t),ot(i.$$.fragment,t),ot(a),s=!1},d(t){ht(e,t),t&&v(n),ht(i,t),t&&v(r),a&&a.d(t),t&&v(o)}}}function Fl(t){let e,n;return e=new Dt({}),e.$on("start",t[14]),{c(){lt(e.$$.fragment)},m(t,i){ut(e,t,i),n=!0},p:i,i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ht(e,t)}}}function Bl(t){let e,n;return e=new At({}),e.$on("loaded",t[13]),{c(){lt(e.$$.fragment)},m(t,i){ut(e,t,i),n=!0},p:i,i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ht(e,t)}}}function jl(t){let e,n;return e=new mt({props:{playerRotation:t[4].rotation,angle:t[2]}}),{c(){lt(e.$$.fragment)},m(t,i){ut(e,t,i),n=!0},p(t,n){const i={};16&n&&(i.playerRotation=t[4].rotation),4&n&&(i.angle=t[2]),e.$set(i)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ht(e,t)}}}function Ul(t){let e,n,i,r,o,s=js.APP&&function(t){let e,n;return e=new yt({}),{c(){lt(e.$$.fragment)},m(t,i){ut(e,t,i),n=!0},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ht(e,t)}}}();const a=[Bl,Fl,Nl],c=[];function l(t,e){return t[8]?0:t[0].pause||!t[10]?1:2}return i=l(t),r=c[i]=a[i](t),{c(){e=y("main"),s&&s.c(),n=w(),r.c()},m(r,a){b(r,e,a),s&&s.m(e,null),g(e,n),c[i].m(e,null),t[15](e),o=!0},p(t,[n]){let o=i;i=l(t),i===o?c[i].p(t,n):(nt(),ot(c[o],1,1,(()=>{c[o]=null})),it(),r=c[i],r?r.p(t,n):(r=c[i]=a[i](t),r.c()),rt(r,1),r.m(e,null))},i(t){o||(rt(s),rt(r),o=!0)},o(t){ot(s),ot(r),o=!1},d(n){n&&v(e),s&&s.d(),c[i].d(),t[15](null)}}}function zl(t,e,n){const i=new bl.Number(0),r=new gl;let o,s,a,c,l,u,h,p=!1,f=!1,d=!0,_=0;function m(t){r.pause!==t&&(t?cancelAnimationFrame(h):requestAnimationFrame(g),n(0,r.pause=t,r))}function g(t){t-_<8.333333333333334?h=requestAnimationFrame(g):(h=requestAnimationFrame(g),n(4,a=r.playerLocation),n(10,_=t),n(5,c=Math.round(1e5*(1-i.value)+Number.EPSILON)/1e5),i.update(),r.update())}function b(){n(6,l=window.innerWidth/17.25),n(9,u=window.innerWidth/175)}return bt.add("game:pause",(t=>m(t.data))),window.addEventListener("resize",b),bt.add("player:run",(t=>{n(7,f=t.data),i.set(.5*~~f)})),N((()=>{s.prepend(r.scene),b()})),F((()=>{bt.remove("player:run"),bt.remove("pause"),cancelAnimationFrame(h),m(!0),r.destroy()})),[r,p,o,s,a,c,l,f,d,u,_,m,function(t){n(1,p=t.detail.visible),n(2,o=t.detail.angle)},()=>n(8,d=!1),()=>m(!1),function(t){U[t?"unshift":"push"]((()=>{s=t,n(3,s)}))}]}var Gl=class extends ft{constructor(t){super(),pt(this,t,zl,Ul,l,{})}};e.default=new Gl({target:document.body})}}).default},"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("another-dumb-zombie-game",[],e):"object"==typeof exports?exports["another-dumb-zombie-game"]=e():t["another-dumb-zombie-game"]=e();